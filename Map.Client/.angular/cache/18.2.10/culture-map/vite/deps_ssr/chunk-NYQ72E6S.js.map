{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/navigation/FilteredFiniteDifference.js", "../../../../../../node_modules/@arcgis/core/views/navigation/Momentum.js", "../../../../../../node_modules/@arcgis/core/views/navigation/PanPlanarMomentumEstimator.js", "../../../../../../node_modules/@arcgis/core/views/navigation/MomentumEstimator.js", "../../../../../../node_modules/@arcgis/core/views/navigation/RotationMomentumEstimator.js", "../../../../../../node_modules/@arcgis/core/views/navigation/ZoomMomentumEstimator.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t) {\n    this._gain = t, this.lastValue = void 0, this.filteredDelta = void 0;\n  }\n  update(t) {\n    if (this.hasLastValue()) {\n      const e = this.computeDelta(t);\n      this._updateDelta(e);\n    }\n    this.lastValue = t;\n  }\n  reset() {\n    this.lastValue = void 0, this.filteredDelta = void 0;\n  }\n  hasLastValue() {\n    return void 0 !== this.lastValue;\n  }\n  hasFilteredDelta() {\n    return void 0 !== this.filteredDelta;\n  }\n  computeDelta(t) {\n    return void 0 === this.lastValue ? NaN : t - this.lastValue;\n  }\n  _updateDelta(t) {\n    void 0 !== this.filteredDelta ? this.filteredDelta = (1 - this._gain) * this.filteredDelta + this._gain * t : this.filteredDelta = t;\n  }\n}\nexport { t as FilteredFiniteDifference };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t, i, o) {\n    this._initialVelocity = t, this._stopVelocity = i, this._friction = o, this._duration = Math.abs(Math.log(Math.abs(this._initialVelocity) / this._stopVelocity) / Math.log(1 - this._friction));\n  }\n  get duration() {\n    return this._duration;\n  }\n  isFinished(t) {\n    return t > this.duration;\n  }\n  get friction() {\n    return this._friction;\n  }\n  value(t) {\n    return this.valueFromInitialVelocity(this._initialVelocity, t);\n  }\n  valueDelta(t, i) {\n    const o = this.value(t);\n    return this.value(t + i) - o;\n  }\n  valueFromInitialVelocity(t, i) {\n    i = Math.min(i, this.duration);\n    const o = 1 - this.friction;\n    return t * (o ** i - 1) / Math.log(o);\n  }\n}\nexport { t as Momentum };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { s as e, l as t, j as i } from \"../../chunks/vec32.js\";\nimport { create as s } from \"../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { FilteredFiniteDifference as n } from \"./FilteredFiniteDifference.js\";\nimport { Momentum as r } from \"./Momentum.js\";\nclass l extends r {\n  constructor(e, t, i, s, n) {\n    super(e, t, i), this._sceneVelocity = s, this.direction = n;\n  }\n  value(e) {\n    return super.valueFromInitialVelocity(this._sceneVelocity, e);\n  }\n}\nclass c {\n  constructor(e = 300, t = 12, i = .84) {\n    this._minimumInitialVelocity = e, this._stopVelocity = t, this._friction = i, this.enabled = !0, this._time = new n(.6), this._screen = [new n(.4), new n(.4)], this._scene = [new n(.6), new n(.6), new n(.6)], this._tmpDirection = s();\n  }\n  add(e, t, i) {\n    if (this.enabled) {\n      if (this._time.hasLastValue()) {\n        if (this._time.computeDelta(i) < .015) return;\n      }\n      this._screen[0].update(e[0]), this._screen[1].update(e[1]), this._scene[0].update(t[0]), this._scene[1].update(t[1]), this._scene[2].update(t[2]), this._time.update(i);\n    }\n  }\n  reset() {\n    this._screen[0].reset(), this._screen[1].reset(), this._scene[0].reset(), this._scene[1].reset(), this._scene[2].reset(), this._time.reset();\n  }\n  evaluateMomentum() {\n    if (!this.enabled || !this._screen[0].hasFilteredDelta() || !this._time.hasFilteredDelta()) return null;\n    const e = this._screen[0].filteredDelta,\n      t = this._screen[1].filteredDelta,\n      i = null == e || null == t ? 0 : Math.sqrt(e * e + t * t),\n      s = this._time.filteredDelta,\n      n = null == s || null == i ? 0 : i / s;\n    return Math.abs(n) < this._minimumInitialVelocity ? null : this.createMomentum(n, this._stopVelocity, this._friction);\n  }\n  createMomentum(s, n, r) {\n    e(this._tmpDirection, this._scene[0].filteredDelta ?? 0, this._scene[1].filteredDelta ?? 0, this._scene[2].filteredDelta ?? 0);\n    const c = t(this._tmpDirection);\n    c > 0 && i(this._tmpDirection, this._tmpDirection, 1 / c);\n    const h = this._time.filteredDelta;\n    return new l(s, n, r, null == h ? 0 : c / h, this._tmpDirection);\n  }\n}\nexport { l as PanPlanarMomentum, c as PanPlanarMomentumEstimator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../core/mathUtils.js\";\nimport { FilteredFiniteDifference as e } from \"./FilteredFiniteDifference.js\";\nimport { Momentum as i } from \"./Momentum.js\";\nclass s {\n  constructor(t = 2.5, i = .01, s = .95, l = 12) {\n    this._minimumInitialVelocity = t, this._stopVelocity = i, this._friction = s, this._maxVelocity = l, this.enabled = !0, this.value = new e(.8), this.time = new e(.3);\n  }\n  add(t, e) {\n    if (this.enabled && null != e) {\n      if (this.time.hasLastValue()) {\n        if (this.time.computeDelta(e) < .01) return;\n        if (this.value.hasFilteredDelta()) {\n          const e = this.value.computeDelta(t);\n          this.value.filteredDelta * e < 0 && this.value.reset();\n        }\n      }\n      this.time.update(e), this.value.update(t);\n    }\n  }\n  reset() {\n    this.value.reset(), this.time.reset();\n  }\n  evaluateMomentum() {\n    if (!this.enabled || !this.value.hasFilteredDelta() || !this.time.hasFilteredDelta()) return null;\n    let e = this.value.filteredDelta / this.time.filteredDelta;\n    return e = t(e, -this._maxVelocity, this._maxVelocity), Math.abs(e) < this._minimumInitialVelocity ? null : this.createMomentum(e, this._stopVelocity, this._friction);\n  }\n  createMomentum(t, e, s) {\n    return new i(t, e, s);\n  }\n}\nexport { s as MomentumEstimator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { MomentumEstimator as t } from \"./MomentumEstimator.js\";\nclass a extends t {\n  constructor(t = 3, a = .01, s = .95, o = 12) {\n    super(t, a, s, o);\n  }\n  add(t, a) {\n    const s = this.value.lastValue;\n    if (null != s) {\n      let a = t - s;\n      for (; a > Math.PI;) a -= 2 * Math.PI;\n      for (; a < -Math.PI;) a += 2 * Math.PI;\n      t = s + a;\n    }\n    super.add(t, a);\n  }\n}\nexport { a as RotationMomentumEstimator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Momentum as e } from \"./Momentum.js\";\nimport { MomentumEstimator as t } from \"./MomentumEstimator.js\";\nclass r extends e {\n  constructor(e, t, r) {\n    super(e, t, r);\n  }\n  value(e) {\n    const t = super.value(e);\n    return Math.exp(t);\n  }\n  valueDelta(e, t) {\n    const r = super.value(e),\n      s = super.value(e + t) - r;\n    return Math.exp(s);\n  }\n}\nclass s extends t {\n  constructor(e = 2.5, t = .01, r = .95, s = 12) {\n    super(e, t, r, s);\n  }\n  add(e, t) {\n    super.add(Math.log(e), t);\n  }\n  createMomentum(e, t, s) {\n    return new r(e, t, s);\n  }\n}\nexport { r as ZoomMomentum, s as ZoomMomentumEstimator };"],
  "mappings": "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",
  "names": ["t", "e", "t", "o", "t", "e", "s", "n", "r", "c", "s", "t", "l", "e", "s", "t", "a", "o", "t", "e", "r", "s"]
}
