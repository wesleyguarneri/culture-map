{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { getMetersPerUnitForSR as t } from \"../../../../core/unitUtils.js\";\nimport { rotateZ as n, rotateX as r, rotateY as e } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as i } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { fromArray as o, ONES as l } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { s } from \"../../../../chunks/vec42.js\";\nimport { clone as u, ONES as a } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { projectPoint as m } from \"../../../../geometry/projection.js\";\nimport { width as c, depth as f, height as p } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { create as h } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { ringsCentroid as g } from \"../../../../geometry/support/centroid.js\";\nimport { getPointOnPath as y, getPathLength as x } from \"../../../../geometry/support/coordsUtils.js\";\nimport { makeDehydratedPoint as d } from \"../../../../layers/graphics/dehydratedPoint.js\";\nimport { isHydratedGeometry as j, clonePoint as v } from \"../../../../layers/graphics/hydratedFeatures.js\";\nfunction b(t, n) {\n  if (\"point\" === t.type) return M(t, n, !1);\n  if (j(t)) switch (t.type) {\n    case \"extent\":\n      return M(t.center, n, !1);\n    case \"polygon\":\n      return M(t.centroid, n, !1);\n    case \"polyline\":\n      return M(w(t), n, !0);\n    case \"mesh\":\n      return M(t.origin, n, !1);\n  } else switch (t.type) {\n    case \"extent\":\n      return M(z(t), n, !0);\n    case \"polygon\":\n      return M(R(t), n, !0);\n    case \"polyline\":\n      return M(w(t), n, !0);\n  }\n}\nfunction w(t) {\n  const n = t.paths[0];\n  if (!n || 0 === n.length) return null;\n  const r = y(n, x(n) / 2);\n  return d(r[0], r[1], r[2], t.spatialReference);\n}\nfunction z(t) {\n  return d(.5 * (t.xmax + t.xmin), .5 * (t.ymax + t.ymin), null != t.zmin && null != t.zmax && isFinite(t.zmin) && isFinite(t.zmax) ? .5 * (t.zmax + t.zmin) : void 0, t.spatialReference);\n}\nfunction R(t) {\n  const n = t.rings[0];\n  if (!n || 0 === n.length) return null;\n  const r = g(t.rings, !!t.hasZ);\n  return d(r[0], r[1], r[2], t.spatialReference);\n}\nfunction M(t, n, r) {\n  const e = r ? t : v(t);\n  return n && t ? m(t, e, n) ? e : null : e;\n}\nfunction P(t, n, r, e = 0) {\n  if (t) {\n    n || (n = h());\n    const i = t;\n    let o = .5 * i.width * (r - 1),\n      l = .5 * i.height * (r - 1);\n    return i.width < 1e-7 * i.height ? o += l / 20 : i.height < 1e-7 * i.width && (l += o / 20), s(n, i.xmin - o - e, i.ymin - l - e, i.xmax + o + e, i.ymax + l + e), n;\n  }\n  return null;\n}\nfunction F(t, n, r = null) {\n  const e = u(a);\n  return null != t && (e[0] = t[0], e[1] = t[1], e[2] = t[2]), null != n ? e[3] = n : null != t && t.length > 3 && (e[3] = t[3]), r && (e[0] *= r, e[1] *= r, e[2] *= r, e[3] *= r), e;\n}\nfunction A(t, n, r, e, i, o = [0, 0, 0, 0]) {\n  for (let l = 0; l < 3; ++l) o[l] = null != t?.[l] ? t[l] : null != r?.[l] ? r[l] : i[l];\n  return o[3] = null != n ? n : null != e ? e : i[3], o;\n}\nfunction B(t = l, n, r, e = 1) {\n  const i = new Array(3);\n  if (null == n || null == r) i[0] = 1, i[1] = 1, i[2] = 1;else {\n    let e,\n      o = 0;\n    for (let l = 2; l >= 0; l--) {\n      const s = t[l];\n      let u;\n      const a = null != s,\n        m = 0 === l && !e && !a,\n        c = r[l];\n      \"symbol-value\" === s || m ? u = 0 !== c ? n[l] / c : 1 : a && \"proportional\" !== s && isFinite(s) && (u = 0 !== c ? s / c : 1), null != u && (i[l] = u, e = u, o = Math.max(o, Math.abs(u)));\n    }\n    for (let t = 2; t >= 0; t--) null == i[t] ? i[t] = e : 0 === i[t] && (i[t] = .001 * o);\n  }\n  for (let o = 2; o >= 0; o--) i[o] /= e;\n  return o(i);\n}\nfunction D(t) {\n  return null != t.isPrimitive;\n}\nfunction I(t) {\n  return S(D(t) ? [t.width, t.depth, t.height] : t) ? null : \"Symbol sizes may not be negative values\";\n}\nfunction S(t) {\n  const n = t => null == t || t >= 0;\n  return Array.isArray(t) ? t.every(n) : n(t);\n}\nfunction U(t, o, l, s = i()) {\n  return t && n(s, s, -t / 180 * Math.PI), o && r(s, s, o / 180 * Math.PI), l && e(s, s, l / 180 * Math.PI), s;\n}\nfunction k(n, r, e) {\n  if (null != e.minDemResolution) return e.minDemResolution;\n  const i = t(r),\n    o = c(n) * i,\n    l = f(n) * i,\n    s = p(n) * (r.isGeographic ? 1 : i);\n  return 0 === o && 0 === l && 0 === s ? e.minDemResolutionForPoints : .01 * Math.max(o, l, s);\n}\nexport { b as computeCentroid, U as computeObjectRotation, B as computeObjectScale, k as demResolutionForBoundingBox, P as enlargeExtent, S as isValidSize, F as mixinColorAndOpacity, A as overrideColor, I as validateSymbolLayerSize };"],
  "mappings": "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",
  "names": ["t", "o", "e", "x", "l", "s", "u", "m", "I"]
}
