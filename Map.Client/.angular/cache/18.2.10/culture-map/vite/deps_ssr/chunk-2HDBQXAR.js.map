{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/core/Promise.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"../chunks/tslib.es6.js\";\nimport e from \"./Accessor.js\";\nimport { createResolver as r, createAbortError as i, isAbortError as t } from \"./promiseUtils.js\";\nimport { subclass as o } from \"./accessorSupport/decorators/subclass.js\";\nvar l;\n!function (s) {\n  s[s.PENDING = 0] = \"PENDING\", s[s.RESOLVED = 1] = \"RESOLVED\", s[s.REJECTED = 2] = \"REJECTED\";\n}(l || (l = {}));\nclass h {\n  constructor() {\n    this._resolver = r(), this._status = l.PENDING, this._resolvingPromises = [], this._resolver.promise.then(() => {\n      this._status = l.RESOLVED, this._cleanUp();\n    }, () => {\n      this._status = l.REJECTED, this._cleanUp();\n    }), this.promise = this._resolver.promise;\n  }\n  destroy() {\n    this._cleanUp();\n  }\n  addResolvingPromise(s) {\n    this._resolvingPromises.push(s), this._tryResolve();\n  }\n  isResolved() {\n    return this._status === l.RESOLVED;\n  }\n  isRejected() {\n    return this._status === l.REJECTED;\n  }\n  isFulfilled() {\n    return this._status !== l.PENDING;\n  }\n  abort() {\n    this._resolver.reject(i());\n  }\n  _cleanUp() {\n    this._allPromise = null, this._resolvingPromises = null;\n  }\n  _tryResolve() {\n    if (this.isFulfilled()) return;\n    const s = r(),\n      e = [...this._resolvingPromises, s.promise],\n      i = this._allPromise = Promise.all(e);\n    i.then(() => {\n      this.isFulfilled() || this._allPromise !== i || this._resolver.resolve();\n    }, s => {\n      this.isFulfilled() || this._allPromise !== i || t(s) || this._resolver.reject(s);\n    }), s.resolve();\n  }\n}\nconst n = e => {\n  let r = class extends e {\n    constructor(...s) {\n      super(...s), this._promiseProps = new h(), this.addResolvingPromise(Promise.resolve());\n    }\n    destroy() {\n      this._promiseProps.destroy();\n    }\n    isResolved() {\n      return this._promiseProps.isResolved();\n    }\n    isRejected() {\n      return this._promiseProps.isRejected();\n    }\n    isFulfilled() {\n      return this._promiseProps.isFulfilled();\n    }\n    when(s, e) {\n      return this._promiseProps.promise.then(() => this).then(s, e);\n    }\n    catch(s) {\n      return this.when(null, s);\n    }\n    addResolvingPromise(s) {\n      s && !this._promiseProps.isFulfilled() && this._promiseProps.addResolvingPromise(\"_promiseProps\" in s ? s.when() : s);\n    }\n  };\n  return r = s([o(\"esri.core.Promise\")], r), r;\n};\nlet m = class extends n(e) {};\nm = s([o(\"esri.core.Promise\")], m);\nexport { m as EsriPromise, n as EsriPromiseMixin };"],
  "mappings": ";;;;;;;;;;;;;;;;;AAQA,IAAI;AACJ,CAAC,SAAU,GAAG;AACZ,IAAE,EAAE,UAAU,CAAC,IAAI,WAAW,EAAE,EAAE,WAAW,CAAC,IAAI,YAAY,EAAE,EAAE,WAAW,CAAC,IAAI;AACpF,EAAE,MAAM,IAAI,CAAC,EAAE;AACf,IAAM,IAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,YAAY,EAAE,GAAG,KAAK,UAAU,EAAE,SAAS,KAAK,qBAAqB,CAAC,GAAG,KAAK,UAAU,QAAQ,KAAK,MAAM;AAC9G,WAAK,UAAU,EAAE,UAAU,KAAK,SAAS;AAAA,IAC3C,GAAG,MAAM;AACP,WAAK,UAAU,EAAE,UAAU,KAAK,SAAS;AAAA,IAC3C,CAAC,GAAG,KAAK,UAAU,KAAK,UAAU;AAAA,EACpC;AAAA,EACA,UAAU;AACR,SAAK,SAAS;AAAA,EAChB;AAAA,EACA,oBAAoB,GAAG;AACrB,SAAK,mBAAmB,KAAK,CAAC,GAAG,KAAK,YAAY;AAAA,EACpD;AAAA,EACA,aAAa;AACX,WAAO,KAAK,YAAY,EAAE;AAAA,EAC5B;AAAA,EACA,aAAa;AACX,WAAO,KAAK,YAAY,EAAE;AAAA,EAC5B;AAAA,EACA,cAAc;AACZ,WAAO,KAAK,YAAY,EAAE;AAAA,EAC5B;AAAA,EACA,QAAQ;AACN,SAAK,UAAU,OAAO,EAAE,CAAC;AAAA,EAC3B;AAAA,EACA,WAAW;AACT,SAAK,cAAc,MAAM,KAAK,qBAAqB;AAAA,EACrD;AAAA,EACA,cAAc;AACZ,QAAI,KAAK,YAAY,EAAG;AACxB,UAAM,IAAI,EAAE,GACVA,KAAI,CAAC,GAAG,KAAK,oBAAoB,EAAE,OAAO,GAC1C,IAAI,KAAK,cAAc,QAAQ,IAAIA,EAAC;AACtC,MAAE,KAAK,MAAM;AACX,WAAK,YAAY,KAAK,KAAK,gBAAgB,KAAK,KAAK,UAAU,QAAQ;AAAA,IACzE,GAAG,CAAAC,OAAK;AACN,WAAK,YAAY,KAAK,KAAK,gBAAgB,KAAK,EAAEA,EAAC,KAAK,KAAK,UAAU,OAAOA,EAAC;AAAA,IACjF,CAAC,GAAG,EAAE,QAAQ;AAAA,EAChB;AACF;AACA,IAAM,IAAI,CAAAD,OAAK;AACb,MAAI,IAAI,cAAcA,GAAE;AAAA,IACtB,eAAe,GAAG;AAChB,YAAM,GAAG,CAAC,GAAG,KAAK,gBAAgB,IAAI,EAAE,GAAG,KAAK,oBAAoB,QAAQ,QAAQ,CAAC;AAAA,IACvF;AAAA,IACA,UAAU;AACR,WAAK,cAAc,QAAQ;AAAA,IAC7B;AAAA,IACA,aAAa;AACX,aAAO,KAAK,cAAc,WAAW;AAAA,IACvC;AAAA,IACA,aAAa;AACX,aAAO,KAAK,cAAc,WAAW;AAAA,IACvC;AAAA,IACA,cAAc;AACZ,aAAO,KAAK,cAAc,YAAY;AAAA,IACxC;AAAA,IACA,KAAK,GAAGA,IAAG;AACT,aAAO,KAAK,cAAc,QAAQ,KAAK,MAAM,IAAI,EAAE,KAAK,GAAGA,EAAC;AAAA,IAC9D;AAAA,IACA,MAAM,GAAG;AACP,aAAO,KAAK,KAAK,MAAM,CAAC;AAAA,IAC1B;AAAA,IACA,oBAAoB,GAAG;AACrB,WAAK,CAAC,KAAK,cAAc,YAAY,KAAK,KAAK,cAAc,oBAAoB,mBAAmB,IAAI,EAAE,KAAK,IAAI,CAAC;AAAA,IACtH;AAAA,EACF;AACA,SAAO,IAAI,EAAE,CAAC,EAAE,mBAAmB,CAAC,GAAG,CAAC,GAAG;AAC7C;AACA,IAAI,IAAI,cAAc,EAAE,CAAC,EAAE;AAAC;AAC5B,IAAI,EAAE,CAAC,EAAE,mBAAmB,CAAC,GAAG,CAAC;",
  "names": ["e", "s"]
}
