{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/geometry/support/polygonUtils.js", "../../../../../../node_modules/@arcgis/core/geometry/support/triangulationUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { deg2rad as r } from \"../../core/mathUtils.js\";\nimport { getMetersPerUnitForSR as t, getMetersPerVerticalUnitForSR as o } from \"../../core/unitUtils.js\";\nimport { s } from \"../../chunks/vec32.js\";\nimport { Axis as a } from \"./Axis.js\";\nimport { create as i, getNormal as n, fromManyPoints as m } from \"./plane.js\";\nfunction c(t, o, s) {\n  const i = e(f, t, o, s) ? n(f) : [0, 0, 1];\n  return Math.abs(i[2]) > Math.cos(r(80)) ? a.Z : Math.abs(i[1]) > Math.abs(i[0]) ? a.Y : a.X;\n}\nfunction e(r, a, i, n) {\n  const c = (r => !Array.isArray(r[0]))(a) ? (r, t) => a[3 * r + t] : (r, t) => a[r][t],\n    e = n ? t(n) / o(n) : 1;\n  return m(r, (r, t) => s(r, c(t, 0) * e, c(t, 1) * e, c(t, 2)), i);\n}\nconst f = i();\nexport { e as fitPlane, c as leastSignificantAxis };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { e as n } from \"../../chunks/earcut.js\";\nimport { Axis as t } from \"./Axis.js\";\nimport { isClockwise as e } from \"./coordsUtils.js\";\nimport { doubleSubArray as o, doubleArrayFrom as r, newDoubleArray as s } from \"./DoubleArray.js\";\nimport { compactIndices as i } from \"./Indices.js\";\nimport { leastSignificantAxis as l } from \"./polygonUtils.js\";\nimport { deduplicate as c } from \"./meshUtils/deduplicate.js\";\nfunction f(t) {\n  const e = a(t.rings, t.hasZ, p.CCW_IS_HOLE, t.spatialReference),\n    s = new Array();\n  let l = 0,\n    f = 0;\n  for (const r of e.polygons) {\n    const t = r.count,\n      c = r.index,\n      h = o(e.position, 3 * c, 3 * t),\n      a = r.holeIndices.map(n => n - c),\n      g = i(n(h, a, 3));\n    s.push({\n      position: h,\n      faces: g\n    }), l += h.length, f += g.length;\n  }\n  const g = h(s, l, f),\n    u = Array.isArray(g.position) ? c(g.position, 3, {\n      originalIndices: g.faces\n    }) : c(g.position.buffer, 6, {\n      originalIndices: g.faces\n    });\n  return g.position = r(new Float64Array(u.buffer)), g.faces = u.indices, g;\n}\nfunction h(n, t, e) {\n  if (1 === n.length) return n[0];\n  const o = s(t),\n    r = new Array(e);\n  let l = 0,\n    c = 0,\n    f = 0;\n  for (const s of n) {\n    for (let n = 0; n < s.position.length; n++) o[l++] = s.position[n];\n    for (const n of s.faces) r[c++] = n + f;\n    f = l / 3;\n  }\n  return {\n    position: o,\n    faces: i(r)\n  };\n}\nfunction a(n, t, e, o) {\n  const r = n.length,\n    i = new Array(r),\n    l = new Array(r),\n    c = new Array(r);\n  let f = 0;\n  for (let s = 0; s < r; ++s) f += n[s].length;\n  let h = 0,\n    a = 0,\n    m = 0;\n  const d = s(3 * f);\n  let y = 0;\n  for (let s = r - 1; s >= 0; s--) {\n    const f = n[s],\n      A = e === p.CCW_IS_HOLE && u(f, t, o);\n    if (A && 1 !== r) i[h++] = f;else {\n      let n = f.length;\n      for (let t = 0; t < h; ++t) n += i[t].length;\n      const e = {\n        index: y,\n        pathLengths: new Array(h + 1),\n        count: n,\n        holeIndices: new Array(h)\n      };\n      e.pathLengths[0] = f.length, f.length > 0 && (c[m++] = {\n        index: y,\n        count: f.length\n      }), y = A ? g(f, f.length - 1, -1, d, y, f.length, t) : g(f, 0, 1, d, y, f.length, t);\n      for (let o = 0; o < h; ++o) {\n        const n = i[o];\n        e.holeIndices[o] = y, e.pathLengths[o + 1] = n.length, n.length > 0 && (c[m++] = {\n          index: y,\n          count: n.length\n        }), y = g(n, 0, 1, d, y, n.length, t);\n      }\n      h = 0, e.count > 0 && (l[a++] = e);\n    }\n  }\n  for (let s = 0; s < h; ++s) {\n    const n = i[s];\n    n.length > 0 && (c[m++] = {\n      index: y,\n      count: n.length\n    }), y = g(n, 0, 1, d, y, n.length, t);\n  }\n  return l.length = a, c.length = m, {\n    position: d,\n    polygons: l,\n    outlines: c\n  };\n}\nfunction g(n, t, e, o, r, s, i) {\n  r *= 3;\n  for (let l = 0; l < s; ++l) {\n    const s = n[t];\n    o[r++] = s[0], o[r++] = s[1], o[r++] = i ? s[2] : 0, t += e;\n  }\n  return r / 3;\n}\nfunction u(n, o, r) {\n  if (!o) return !e(n);\n  const s = n.length - 1;\n  switch (l(n, s, r)) {\n    case t.X:\n      return !e(n, t.Y, t.Z);\n    case t.Y:\n      return !e(n, t.X, t.Z);\n    case t.Z:\n      return !e(n, t.X, t.Y);\n  }\n}\nvar p;\n!function (n) {\n  n[n.NONE = 0] = \"NONE\", n[n.CCW_IS_HOLE = 1] = \"CCW_IS_HOLE\";\n}(p || (p = {}));\nexport { p as CounterClockwiseMode, u as isCounterClockwise, a as ringsToTriangulationInfo, f as triangulate };"],
  "mappings": "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",
  "names": ["t", "o", "i", "e", "a", "n", "c", "r", "f", "t", "e", "a", "c", "h", "n", "g", "u", "o", "i", "s"]
}
