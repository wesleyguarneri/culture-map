{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshape/isSupportedObject.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/isSupportedGraphic.js", "../../../../../../node_modules/@arcgis/core/widgets/Sketch/support/OperationHandle.js", "../../../../../../node_modules/@arcgis/core/widgets/Sketch/SketchViewModel.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { hasEffectiveFeatureExpressionInfo as t } from \"../../../../../support/elevationInfoUtils.js\";\nimport { SupportedObjectResult as r } from \"../isSupportedObjectUtils.js\";\nfunction e(t) {\n  return n(t).result;\n}\nfunction o(t) {\n  return n(t).geometry;\n}\nfunction n(e) {\n  if (e.graphic && \"graphics\" !== e.graphic.layer?.type) return {\n    result: r.GRAPHICS_LAYER_MISSING\n  };\n  if (!e.operations) return {\n    result: r.GEOMETRY_MISSING\n  };\n  if (t(e.elevationInfo)) return {\n    result: r.ELEVATION_MODE_UNSUPPORTED\n  };\n  const o = e.operations.data.type,\n    n = e.operations.data.geometry;\n  return \"point\" === o || \"mesh\" === o || \"polyline\" === o || \"polygon\" === o ? {\n    result: r.SUPPORTED,\n    geometry: n\n  } : {\n    result: r.GEOMETRY_TYPE_UNSUPPORTED\n  };\n}\nexport { o as geometryOfSupportedObject, e as isSupportedObject };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../../core/has.js\";\nimport { getGraphicEffectiveElevationMode as e, hasGraphicFeatureExpressionInfo as t } from \"../../../../../support/elevationInfoUtils.js\";\nimport { SupportedObjectResult as o } from \"../isSupportedObjectUtils.js\";\nfunction r(r) {\n  if (\"graphics\" !== r.layer?.type) return o.GRAPHICS_LAYER_MISSING;\n  if (null == r.geometry) return o.GEOMETRY_MISSING;\n  switch (r.geometry.type) {\n    case \"point\":\n      break;\n    case \"polygon\":\n    case \"polyline\":\n    case \"multipoint\":\n    case \"extent\":\n    case \"mesh\":\n      return o.SUPPORTED;\n    default:\n      return o.GEOMETRY_TYPE_UNSUPPORTED;\n  }\n  const s = null != r.symbol && \"point-3d\" === r.symbol.type && r.symbol.symbolLayers;\n  if (!s || !s.some(e => \"object\" === e.type)) return o.SYMBOL_TYPE_UNSUPPORTED;\n  return \"on-the-ground\" !== e(r) && t(r) ? o.ELEVATION_MODE_UNSUPPORTED : o.SUPPORTED;\n}\nexport { r as isSupportedGraphic };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { neverReached as t } from \"../../../core/compilerUtils.js\";\nimport o from \"../../../core/Evented.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nlet n = class extends o.EventedAccessor {\n  constructor(e) {\n    super(e), this.cancelled = !1, this.history = {\n      undo: [],\n      redo: []\n    }, this.type = null;\n  }\n  get tool() {\n    if (!this.activeComponent) return null;\n    switch (this.activeComponent.type) {\n      case \"graphic-mover\":\n      case \"move-3d\":\n        return \"move\";\n      case \"box\":\n      case \"transform-3d\":\n        return \"transform\";\n      case \"reshape\":\n      case \"reshape-3d\":\n        return \"reshape\";\n      case \"draw-2d\":\n      case \"draw-3d\":\n        return this.activeComponent.geometryType;\n      default:\n        t(this.activeComponent);\n    }\n    return null;\n  }\n  addToHistory(e) {\n    this.history.redo = [], this.history.undo.push(e);\n  }\n  resetHistory() {\n    this.history.redo = [], this.history.undo = [];\n  }\n  canUndo() {\n    return this.history.undo.length > 0;\n  }\n  canRedo() {\n    return this.history.redo.length > 0;\n  }\n  complete() {\n    this._reset(), this.onEnd(), this.emit(\"complete\");\n  }\n  cancel() {\n    this.cancelled = !0, this.complete();\n  }\n  _reset() {\n    this.activeComponent?.reset();\n  }\n  refreshComponent() {\n    const e = this.activeComponent;\n    e && (\"box\" !== e.type && \"reshape\" !== e.type && \"graphic-mover\" !== e.type || e.refresh());\n  }\n  set undo(e) {\n    this._set(\"undo\", () => {\n      this.canUndo() && e();\n    });\n  }\n  set redo(e) {\n    this._set(\"redo\", () => {\n      this.canRedo() && e();\n    });\n  }\n};\ne([r()], n.prototype, \"activeComponent\", void 0), e([r()], n.prototype, \"cancelled\", void 0), e([r()], n.prototype, \"history\", void 0), e([r()], n.prototype, \"tool\", null), e([r()], n.prototype, \"type\", void 0), e([r()], n.prototype, \"canUndo\", null), e([r()], n.prototype, \"canRedo\", null), e([r()], n.prototype, \"onEnd\", void 0), e([r()], n.prototype, \"undo\", null), e([r()], n.prototype, \"redo\", null), e([r()], n.prototype, \"toggleTool\", void 0), e([r()], n.prototype, \"addToSelection\", void 0), e([r()], n.prototype, \"removeFromSelection\", void 0), n = e([s(\"esri.widgets.Sketch.support.OperationHandle\")], n);\nlet p = class extends n {};\ne([r()], p.prototype, \"activeComponent\", void 0), p = e([s(\"esri.widgets.Sketch.support.OperationHandle.CreateOperationHandle\")], p);\nlet i = class extends n {};\ne([r()], i.prototype, \"activeComponent\", void 0), i = e([s(\"esri.widgets.Sketch.support.OperationHandle.UpdateOperationHandle\")], i);\nexport { p as CreateOperationHandle, n as OperationHandle, i as UpdateOperationHandle };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { symbolTypes as t } from \"../../symbols.js\";\nimport o from \"../../core/Collection.js\";\nimport i from \"../../core/Error.js\";\nimport a from \"../../core/Evented.js\";\nimport \"../../core/has.js\";\nimport r from \"../../core/Logger.js\";\nimport { destroyMaybe as s, abortMaybe as n } from \"../../core/maybe.js\";\nimport { createAbortError as p, whenOrAbort as l } from \"../../core/promiseUtils.js\";\nimport { on as h, watch as c, when as d, whenOnce as u, syncAndInitial as y } from \"../../core/reactiveUtils.js\";\nimport { property as m } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as v } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { getReferenceEllipsoid as g } from \"../../geometry/ellipsoidUtils.js\";\nimport { canProjectWithoutEngine as f, isLoaded as _, load as b, project as w } from \"../../geometry/projection.js\";\nimport { geometryToCoordinates as G } from \"../../geometry/support/coordsUtils.js\";\nimport { equals as O } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport T from \"../../layers/GraphicsLayer.js\";\nimport { isIntegratedMeshLayer as E } from \"../../layers/support/layerUtils.js\";\nimport { SupportedObjectResult as S, isSupportedObjectResultMessage as A } from \"../../views/3d/interactive/editingTools/isSupportedObjectUtils.js\";\nimport { isSupportedObject as k } from \"../../views/3d/interactive/editingTools/move/isSupportedObject.js\";\nimport { isSupportedObject as M } from \"../../views/3d/interactive/editingTools/reshape/isSupportedObject.js\";\nimport { isSupportedGraphic as C } from \"../../views/3d/interactive/editingTools/transform/isSupportedGraphic.js\";\nimport { addUniqueLayer as D } from \"../../views/draw/support/layerUtils.js\";\nimport { ViewEventPriorities as H } from \"../../views/input/InputManager.js\";\nimport { sketchKeys as R } from \"../../views/interactive/keybindings.js\";\nimport j from \"../../views/interactive/sketch/SketchLabelOptions.js\";\nimport I from \"../../views/interactive/sketch/SketchOptions.js\";\nimport U from \"../../views/interactive/sketch/SketchTooltipOptions.js\";\nimport x from \"../../views/interactive/sketch/SketchValueOptions.js\";\nimport { SnappingManager as P } from \"../../views/interactive/snapping/SnappingManager.js\";\nimport L from \"../../views/interactive/snapping/SnappingOptions.js\";\nimport { setupSnappingToggleHandles as F } from \"../../views/interactive/snapping/snappingUtils.js\";\nimport { findFirstGraphicHit as V } from \"../../views/support/hitTestSelectUtils.js\";\nimport { createScreenPointFromEvent as K } from \"../../views/support/screenUtils.js\";\nimport { CreateOperationHandle as W, UpdateOperationHandle as Z } from \"./support/OperationHandle.js\";\nimport q from \"../../symbols/SimpleMarkerSymbol.js\";\nimport z from \"../../symbols/SimpleFillSymbol.js\";\nimport N from \"../../symbols/SimpleLineSymbol.js\";\nimport B from \"../../symbols/MeshSymbol3D.js\";\nimport $ from \"../../symbols/FillSymbol3DLayer.js\";\nconst Y = {\n    defaultZ: 0\n  },\n  J = {\n    reshapeOptions: {\n      edgeOperation: \"split\",\n      shapeOperation: \"move\",\n      vertexOperation: \"move\"\n    },\n    enableMoveAllGraphics: !0,\n    enableRotation: !0,\n    enableScaling: !0,\n    multipleSelectionEnabled: !0,\n    preserveAspectRatio: !1,\n    toggleToolOnClick: !0,\n    enableZ: !0,\n    highlightOptions: {\n      enabled: !0\n    },\n    tool: \"transform\"\n  };\nlet Q = class extends a.EventedAccessor {\n  constructor(e) {\n    super(e), this._numUpdating = 0, this._defaultSnappingManager = null, this._internalGraphicsLayer = new T({\n      listMode: \"hide\",\n      internal: !0,\n      title: \"SVM Internal\"\n    }), this._operationHandle = null, this._viewHandlesKey = \"viewHandles\", this.activeFillSymbol = null, this.activeLineSymbol = null, this.activeVertexSymbol = null, this.allowDeleteKey = !0, this.layer = null, this.pointSymbol = new q({\n      style: \"circle\",\n      size: 6,\n      color: [255, 255, 255],\n      outline: {\n        color: [50, 50, 50],\n        width: 1\n      }\n    }), this.polygonSymbol = new z({\n      color: [150, 150, 150, .2],\n      outline: {\n        color: [50, 50, 50],\n        width: 2\n      }\n    }), this.polylineSymbol = new N({\n      color: [130, 130, 130, 1],\n      width: 2\n    }), this.meshSymbol = new B({\n      symbolLayers: new o([new $()])\n    }), this.updateGraphics = new o(), this.updateOnGraphicClick = !0, this.vertexSymbol = new q({\n      style: \"circle\",\n      size: 6,\n      color: [255, 255, 255],\n      outline: {\n        color: [50, 50, 50],\n        width: 1\n      }\n    }), this.sketchOptions = new I(), this._moduleLoaderAbortController = null, this._viewReadyAbortController = null, this._originalPopupEnabled = null, this.defaultCreateOptions = Y, this.defaultUpdateOptions = J, this.snappingOptions = e?.snappingManager?.options ?? e?.snappingOptions ?? new L();\n  }\n  initialize() {\n    this.addHandles([h(() => this.view?.map?.layers, \"change\", e => {\n      e.removed.includes(this.layer) && this.cancel();\n    }), h(() => this.layer?.graphics, \"change\", e => {\n      if (null != this._operationHandle) for (const t of e.removed) this.updateGraphics.includes(t) && (this.updateGraphics.length > 1 ? this._operationHandle.removeFromSelection(t) : this._operationHandle.cancel());\n    }), c(() => this.layer?.elevationInfo ?? null, e => {\n      e !== this._internalGraphicsLayer.elevationInfo && (this.cancel(), this._internalGraphicsLayer.elevationInfo = e);\n    }, y), c(() => this.view, e => {\n      this._defaultSnappingManager = s(this._defaultSnappingManager), e && (this.snappingManager || (this._defaultSnappingManager = new P({\n        view: e,\n        options: this.snappingOptions\n      })), \"2d\" === e.type ? import(\"../../views/2d/interactive/editingTools.js\") : \"3d\" === e.type && (import(\"../../views/3d/interactive/editingTools.js\"), import(\"../../views/3d/layers/GraphicsLayerView3D.js\")));\n    }, y), c(() => this.view?.spatialReference, (e, t) => {\n      e && t && !e.equals(t) && this.cancel();\n    })]), F(this);\n  }\n  destroy() {\n    this.cancel(), this._removeDefaultLayer(), this._defaultSnappingManager = s(this._defaultSnappingManager), this._set(\"snappingManager\", null), this._set(\"view\", null), this.emit(\"destroy\");\n  }\n  get updating() {\n    return this._numUpdating > 0 || null != this.snappingManager && this.snappingManager.updating;\n  }\n  get activeTool() {\n    return this._operationHandle?.tool ?? null;\n  }\n  get activeComponent() {\n    return this._operationHandle?.activeComponent ?? null;\n  }\n  get createGraphic() {\n    return null == this.activeComponent || \"draw-3d\" !== this.activeComponent.type && \"draw-2d\" !== this.activeComponent.type ? this._get(\"createGraphic\") : this.activeComponent.graphic;\n  }\n  get defaultCreateOptions() {\n    return this._get(\"defaultCreateOptions\");\n  }\n  set defaultCreateOptions(e) {\n    this._set(\"defaultCreateOptions\", {\n      ...Y,\n      ...e\n    });\n  }\n  get defaultUpdateOptions() {\n    return this._get(\"defaultUpdateOptions\");\n  }\n  set defaultUpdateOptions(e) {\n    this._set(\"defaultUpdateOptions\", {\n      ...J,\n      ...e,\n      reshapeOptions: {\n        ...J.reshapeOptions,\n        ...e?.reshapeOptions\n      },\n      highlightOptions: {\n        ...J.highlightOptions,\n        ...e?.highlightOptions\n      }\n    });\n  }\n  get labelOptions() {\n    return this.sketchOptions.labels;\n  }\n  set labelOptions(e) {\n    this.sketchOptions.labels = e;\n  }\n  get snappingOptions() {\n    return this.snappingManager?.options ?? this._get(\"snappingOptions\");\n  }\n  set snappingOptions(e) {\n    null != this._defaultSnappingManager && (this._defaultSnappingManager.options = e), this._set(\"snappingOptions\", e);\n  }\n  get snappingManager() {\n    return this._isOverridden(\"snappingManager\") && this._get(\"snappingManager\"), this._defaultSnappingManager;\n  }\n  set snappingManager(e) {\n    if (e) this._isOverridden(\"snappingManager\") || (this._defaultSnappingManager = s(this._defaultSnappingManager)), this._override(\"snappingManager\", e);else {\n      const {\n        view: e\n      } = this;\n      !this._defaultSnappingManager && e && (this._defaultSnappingManager = new P({\n        options: this.snappingOptions,\n        view: e\n      })), this._clearOverride(\"snappingManager\");\n    }\n  }\n  get state() {\n    const e = !(!this.view?.ready || !this.layer),\n      t = this._operationHandle;\n    return e && t ? \"active\" : e ? \"ready\" : \"disabled\";\n  }\n  get tooltipOptions() {\n    return this.sketchOptions.tooltips;\n  }\n  set tooltipOptions(e) {\n    this.sketchOptions.tooltips = e;\n  }\n  get valueOptions() {\n    return this.sketchOptions.values;\n  }\n  set valueOptions(e) {\n    this.sketchOptions.values = e;\n  }\n  get view() {\n    return this._get(\"view\");\n  }\n  set view(e) {\n    const t = this._get(\"view\");\n    if (t) {\n      const {\n        container: e,\n        map: o\n      } = t;\n      e && (t.cursor = null), o?.remove(this._internalGraphicsLayer), this.removeHandles(this._viewHandlesKey), this.cancel();\n    }\n    const o = \"view-ready\";\n    this.removeHandles(o), e && this.addHandles(d(() => e.ready, t => {\n      this.removeHandles(this._viewHandlesKey), t && this.addHandles(this._generateViewHandles(e), this._viewHandlesKey);\n    }, y), o), this._set(\"view\", e);\n  }\n  cancel() {\n    this._moduleLoaderAbortController = n(this._moduleLoaderAbortController), this._viewReadyAbortController = n(this._viewReadyAbortController), this._operationHandle && this._operationHandle.cancel();\n  }\n  complete() {\n    this._operationHandle && this._operationHandle.complete();\n  }\n  delete() {\n    const {\n      state: e,\n      updateGraphics: t\n    } = this;\n    if (\"active\" === e && t.length) {\n      const {\n          activeTool: e,\n          layer: o\n        } = this,\n        i = t.toArray();\n      o.removeMany(i), this.cancel(), this._emitDeleteEvent({\n        graphics: i,\n        tool: e\n      });\n    }\n  }\n  duplicate() {\n    if (\"active\" === this.state && this.updateGraphics.length) {\n      const e = this.updateGraphics.map(e => e.clone()).toArray();\n      return this.layer.addMany(e), this.emit(\"duplicate\", {\n        graphics: e,\n        type: \"duplicate\"\n      }), e;\n    }\n    return [];\n  }\n  async create(e, t) {\n    this.cancel(), await this._waitViewReady();\n    const {\n      view: o,\n      layer: i\n    } = this;\n    if (!o || \"disabled\" === this.state) throw i || this._logMissingLayer(), p();\n    if (null != o.activeTool && (o.activeTool = null), !e) return void this._logError(\"sketch:missing-parameter\", \"Missing parameter 'tool'.\");\n    D(o, this._internalGraphicsLayer);\n    const a = await this._setupCreateOperation(e, t);\n    if (null == a || this.destroyed) return void o.map.remove(this._internalGraphicsLayer);\n    const r = () => {\n      if (a === this._operationHandle) {\n        const t = this.createGraphic,\n          o = this._operationHandle.cancelled;\n        this._operationHandle.destroy(), this._operationHandle = null, this._set(\"createGraphic\", null), this.view?.map && this.view.map.remove(this._internalGraphicsLayer), a.cancelled || null == t || i.add(t), this.emit(\"create\", {\n          graphic: t,\n          state: o ? \"cancel\" : \"complete\",\n          tool: e,\n          toolEventInfo: null,\n          type: \"create\"\n        });\n      }\n    };\n    a.on(\"complete\", r), this._operationHandle = a, o.ready && o.focus();\n  }\n  async place(e, t) {\n    return this.create(\"mesh\", {\n      mode: \"click\",\n      hasZ: e.hasZ,\n      geometryToPlace: e,\n      ...t\n    });\n  }\n  async update(e, t) {\n    this.cancel(), await this._waitViewReady();\n    const {\n      layer: o,\n      view: i,\n      state: a\n    } = this;\n    if (!i || \"disabled\" === a) throw o || this._logMissingLayer(), p();\n    null != i.activeTool && (i.activeTool = null);\n    const r = Array.isArray(e) ? e : [e];\n    if (null == e || !r?.length) return void this._logError(\"sketch:missing-parameter\", \"Missing parameter 'graphics'.\");\n    if (r.some(e => e.layer !== o ? (this._logError(\"sketch:invalid-parameter\", \"Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer.\"), !0) : null == e.geometry && (this._logError(\"sketch:invalid-parameter\", \"Parameter 'graphics' contains one or more graphics with an unsupported geometry.\"), !0))) return;\n    const s = await this._setupUpdateOperation(r, t);\n    this.destroyed || null == s || ne(s) || (D(i, this._internalGraphicsLayer), this._setUpdateOperationHandle(s, t), this.emit(\"update\", {\n      graphics: r,\n      state: \"start\",\n      aborted: !1,\n      tool: s.tool,\n      toolEventInfo: null,\n      type: \"update\"\n    }));\n  }\n  async _updateSpatialReference(e) {\n    const t = this.view;\n    if (t) {\n      this._beginAsyncOperation(), e = Array.isArray(e) ? e : [e];\n      for (const o of e) null == o.geometry || \"mesh\" === o.geometry.type || O(o.geometry.spatialReference, t.spatialReference) || (f(o.geometry.spatialReference, t.spatialReference) || _() || (await b()), o.geometry = w(o.geometry, t.spatialReference));\n      this._endAsyncOperation();\n    } else this._logMissingView();\n  }\n  undo() {\n    this.canUndo() && this._operationHandle?.undo();\n  }\n  redo() {\n    this.canRedo() && this._operationHandle?.redo();\n  }\n  canUndo() {\n    return !!this._operationHandle?.canUndo();\n  }\n  canRedo() {\n    return !!this._operationHandle?.canRedo();\n  }\n  toggleUpdateTool() {\n    this._operationHandle?.toggleTool();\n  }\n  async _getFirstHit(e) {\n    const t = this.view;\n    if (!t) return this._logMissingView(), null;\n    if (\"2d\" === t.type) {\n      const o = [];\n      t.map.allLayers.forEach(e => {\n        \"vector-tile\" !== e.type && \"imagery\" !== e.type || o.push(e);\n      });\n      const i = await t.hitTest(e, {\n        exclude: o\n      });\n      return V(i.results);\n    }\n    const o = [t.map.ground];\n    t.map.allLayers.forEach(e => {\n      E(e.type) && o.push(e);\n    });\n    const i = await t.hitTest(e, {\n      exclude: o\n    });\n    if (i.results.length > 0) {\n      const e = i.results[0];\n      if (null != e && \"graphic\" === e.type && e.graphic && (!i.ground.mapPoint || t.map.ground.opacity < 1 || i.ground.distance - (e.distance ?? 0) > -Math.min(3 * i.ground.distance, \"global\" === t.viewingMode ? g(t.renderCoordsHelper.spatialReference).radius / t.renderCoordsHelper.unitInMeters : Number.POSITIVE_INFINITY))) return e;\n    }\n    return null;\n  }\n  _generateViewHandles(e) {\n    return [e.on(\"immediate-click\", async t => {\n      const o = \"active\" === this.state && \"create\" === this._operationHandle?.type;\n      if (\"disabled\" === this.state || o || !this.updateOnGraphicClick) return;\n      this._beginAsyncOperation();\n      const i = await t.async(() => this._getFirstHit(K(t)));\n      let a = null;\n      if (null != i) {\n        const o = i.graphic;\n        this.updateGraphics.includes(o) || o.layer === this.layer ? (t.stopPropagation(), a = o) : \"2d\" !== e.type || this._isComponentGraphic(o) || \"active\" !== this.state || this.cancel();\n      } else \"active\" === this.state && this.cancel();\n      null == a || this.updateGraphics.includes(a) || (await this.update([a], {\n        ...this.defaultUpdateOptions,\n        reshapeOptions: {\n          ...this.defaultUpdateOptions.reshapeOptions\n        }\n      })), this._endAsyncOperation();\n    }, H.WIDGET)];\n  }\n  async _setupCreateOperation(e, t) {\n    const o = this.view;\n    if (!o) return this._logMissingView(), null;\n    const i = {\n        hasZ: \"3d\" === o.type,\n        ...this.defaultCreateOptions,\n        ...t\n      },\n      a = await this._setupDrawGraphicTool(e, o, i);\n    return null == a ? null : (o.tools.add(a), o.activeTool = a, this._setupCreateOperationHandle(a));\n  }\n  async _setupDrawGraphicTool(e, t, o) {\n    if (\"multipoint\" === e && \"3d\" === t.type) return this._logError(\"sketch:create\", \"Multipoint geometries are not supported in SceneView.\"), null;\n    if (!t) return this._logMissingView(), null;\n    const {\n        cursor: i,\n        defaultZ: a,\n        hasZ: r,\n        geometryToPlace: s,\n        graphicProperties: n,\n        mode: p,\n        preserveAspectRatio: l\n      } = o,\n      h = \"rectangle\" === e || \"circle\" === e ? \"hybrid\" : \"click\",\n      c = l ?? \"rectangle\" !== e,\n      d = {\n        centered: \"rectangle\" !== e && !(\"circle\" === e && !c),\n        cursor: i,\n        defaultZ: a,\n        forceUniformSize: c,\n        graphicProperties: n,\n        geometryToPlace: s,\n        geometryType: e,\n        graphicSymbol: this._getGraphicSymbolFromTool(e),\n        hasZ: r,\n        mode: p ?? h,\n        snappingManager: this.snappingManager,\n        snapToScene: !1,\n        view: t\n      };\n    return \"2d\" === t.type ? this._makeDrawGraphicTool2D(d) : this._makeDrawGraphicTool3D(d);\n  }\n  async _makeDrawGraphicTool2D(e) {\n    const t = await this._requireModule(import(\"../../views/2d/interactive/editingTools.js\"));\n    return ne(t) || this.destroyed ? null : new t.module.DrawGraphicTool2D({\n      ...e,\n      activeVertexSymbol: this.activeVertexSymbol,\n      regularVerticesSymbol: this.vertexSymbol,\n      activeLineSymbol: this.activeLineSymbol,\n      activeFillSymbol: te(e.geometryType) ? this.activeFillSymbol : null,\n      sketchOptions: this.sketchOptions\n    });\n  }\n  async _makeDrawGraphicTool3D(e) {\n    const t = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ne(t) || this.destroyed) return null;\n    const {\n      elevationInfo: o\n    } = this.layer;\n    return new t.module.DrawGraphicTool3D({\n      ...e,\n      elevationInfo: o,\n      snapToScene: !0,\n      sketchOptions: this.sketchOptions\n    });\n  }\n  _setupCreateOperationHandle(e) {\n    const t = this.view;\n    if (!t) return this._logMissingView(), null;\n    let o = null;\n    const i = e.forceUniformSize,\n      a = e.centered,\n      r = [t.on(\"key-down\", t => {\n        if (t.key === R.pan) t.stopPropagation(), t.repeat || (e.enabled = !1);else if (t.key === R.complete) t.stopPropagation(), e.completeCreateOperation();else if (t.key !== R.vertexAdd || t.repeat) t.key === R.undo ? (t.stopPropagation(), s.undo()) : t.key === R.redo ? (t.stopPropagation(), s.redo()) : t.key !== R.constraint || \"rectangle\" !== e.geometryType && \"circle\" !== e.geometryType || t.repeat ? t.key === R.center && (t.repeat || (e.centered = !a, t.stopPropagation())) : (e.forceUniformSize = !i, t.stopPropagation());else {\n          const o = e.drawOperation.geometryType;\n          \"polyline\" !== o && \"polygon\" !== o && \"multipoint\" !== o || (t.stopPropagation(), e.drawOperation.commitStagedVertex());\n        }\n      }, H.WIDGET), t.on(\"key-up\", t => {\n        t.key === R.pan ? e.enabled = !0 : t.key !== R.constraint || \"rectangle\" !== e.geometryType && \"circle\" !== e.geometryType ? t.key === R.center && (e.centered = a, t.stopPropagation()) : (e.forceUniformSize = i, t.stopPropagation());\n      }, H.WIDGET), e.on(\"vertex-add\", t => {\n        switch (o = null == o ? \"start\" : \"active\", t.operation) {\n          case \"apply\":\n            this.emit(\"create\", {\n              graphic: e.graphic,\n              state: o,\n              tool: this.activeTool,\n              toolEventInfo: t,\n              type: \"create\"\n            });\n            break;\n          case \"undo\":\n            this._emitUndoEvent({\n              graphics: [e.graphic],\n              tool: e.geometryType\n            });\n            break;\n          case \"redo\":\n            this._emitRedoEvent({\n              graphics: [e.graphic],\n              tool: e.geometryType\n            });\n        }\n      }), e.on(\"cursor-update\", t => {\n        e.drawOperation.numCommittedVertices > 0 && this.emit(\"create\", {\n          graphic: e.graphic,\n          state: \"active\",\n          tool: this.activeTool,\n          toolEventInfo: {\n            coordinates: t.vertices[0].coordinates,\n            type: \"cursor-update\"\n          },\n          type: \"create\"\n        });\n      }), e.on(\"vertex-remove\", t => {\n        switch (t.operation) {\n          case \"apply\":\n            this.emit(\"create\", {\n              graphic: e.graphic,\n              state: \"active\",\n              tool: this.activeTool,\n              toolEventInfo: t,\n              type: \"create\"\n            });\n            break;\n          case \"undo\":\n            this._emitUndoEvent({\n              graphics: [e.graphic],\n              tool: e.geometryType\n            });\n            break;\n          case \"redo\":\n            this._emitRedoEvent({\n              graphics: [e.graphic],\n              tool: e.geometryType\n            });\n        }\n      }), e.on(\"complete\", e => {\n        this._set(\"createGraphic\", e.graphic), o = \"complete\", e.aborted ? s && s.cancel() : s && s.complete();\n      }), c(() => this._getGraphicSymbolFromTool(e.geometryType), t => {\n        e.graphicSymbol = t;\n      })],\n      s = new W({\n        activeComponent: e,\n        tool: e.geometryType,\n        type: \"create\",\n        onEnd: () => {\n          r.forEach(e => e.remove()), r.length = 0, t.tools?.remove(e);\n        },\n        undo: () => {\n          e.canUndo && e.undo();\n        },\n        redo: () => {\n          e.canRedo && e.redo();\n        },\n        canUndo: () => e.canUndo,\n        canRedo: () => e.canRedo\n      });\n    return s;\n  }\n  _getGraphicSymbolFromTool(e) {\n    switch (e) {\n      case \"point\":\n      case \"multipoint\":\n        return this.pointSymbol;\n      case \"polyline\":\n        return this.polylineSymbol;\n      case \"circle\":\n      case \"rectangle\":\n      case \"polygon\":\n        return this.polygonSymbol;\n      case \"mesh\":\n        return this.meshSymbol;\n    }\n  }\n  async _setupUpdateOperation(e, t) {\n    const {\n      layer: o,\n      view: i\n    } = this;\n    if (!i) return this._logMissingView(), null;\n    const a = {\n      ...this.defaultUpdateOptions,\n      ...t,\n      reshapeOptions: {\n        ...this.defaultUpdateOptions.reshapeOptions,\n        ...t?.reshapeOptions\n      },\n      highlightOptions: {\n        ...this.defaultUpdateOptions.highlightOptions,\n        ...t?.highlightOptions\n      }\n    };\n    let r = a.tool ?? J.tool;\n    for (const s of e) o.remove(s), o.add(s);\n    if (\"3d\" === i.type) {\n      if (0 === e.length) return null;\n      switch (r) {\n        case \"move\":\n          return this._setupMove3DOperation(e, a, i, r);\n        case \"reshape\":\n          return e.length > 1 ? (this._logError(\"sketch:reshape-multiple\", \"Reshape operation does not support multiple graphics.\"), null) : this._setupReshape3DOperation(e[0], a, i);\n        case \"transform\":\n          return this._setupGraphicTransform3DOperation(e, a, i);\n      }\n    }\n    switch (r) {\n      case \"move\":\n        return this._setupMove2DOperation(e, a, i);\n      case \"reshape\":\n        return e.length > 1 ? (this._logError(\"sketch:reshape-multiple\", \"Reshape operation does not support multiple graphics.\"), null) : this._setupTransformOrReshape2DOperation(e, r, a, i);\n      case \"transform\":\n        if (1 === e.length) {\n          const t = e[0].geometry?.type;\n          \"point\" !== t && \"multipoint\" !== t || (r = \"reshape\");\n        }\n        return this._setupTransformOrReshape2DOperation(e, r, a, i);\n    }\n  }\n  async _setupMove3DOperation(e, t, o, i, a = !1) {\n    const r = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ne(r)) return r;\n    const {\n        ManipulatedObject3DGraphic: s,\n        MoveTool3D: n\n      } = r.module,\n      p = new Map(),\n      l = () => {\n        p.forEach(e => e.destroy()), p.clear();\n      };\n    for (const u of e) {\n      const e = new s({\n          view: o,\n          graphic: u\n        }),\n        t = k(e);\n      if (t !== S.SUPPORTED) return l(), this._logError(\"sketch:move\", `Move operation not supported for provided graphic(s) (${A(t)}).`), null;\n      p.set(u, e);\n    }\n    const h = new n({\n      view: o,\n      enableZ: t.enableZ,\n      snappingManager: this.snappingManager,\n      sketchOptions: this.sketchOptions\n    });\n    o.tools.add(h), h.objects.addMany(Array.from(p.values())), a || this.updateGraphics.addMany(e);\n    const c = [],\n      d = new Z({\n        activeComponent: h,\n        tool: i,\n        type: \"update\",\n        onEnd: () => {\n          c.forEach(e => e.remove()), c.length = 0, o.tools?.remove(h), h.destroyed || h.destroy(), l();\n        },\n        undo: () => {\n          re(this.view, h), oe(d, this.updateGraphics.toArray()), this._emitUndoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: i\n          });\n        },\n        redo: () => {\n          ie(d, this.updateGraphics.toArray()), this._emitRedoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: i\n          });\n        },\n        addToSelection: e => {\n          this.updateGraphics.push(e);\n          const t = new s({\n            view: o,\n            graphic: e\n          });\n          p.set(e, t), h.objects.push(t), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [e],\n              removed: [],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          });\n        },\n        removeFromSelection: e => {\n          const t = this.updateGraphics.indexOf(e);\n          if (d.history.undo.forEach(e => e.updates.splice(t, 1)), d.history.redo.forEach(e => e.updates.splice(t, 1)), this.updateGraphics.remove(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [],\n              removed: [e],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), 0 === this.updateGraphics.length) return void d.complete();\n          const o = p.get(e);\n          o && (h.objects.remove(o), o.destroy(), p.delete(e));\n        },\n        toggleTool: async () => {\n          if (1 !== this.updateGraphics.length || !1 === t.toggleToolOnClick) return;\n          if (\"transform\" !== i) return;\n          const e = this.updateGraphics.at(0),\n            a = await this._setupReshape3DOperation(e, t, o, !0);\n          a && !ne(a) && (d.onEnd(), d.destroy(), this._setUpdateOperationHandle(a, t));\n        }\n      });\n    return c.push(...this._getHandlesForComponent(d, t), o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(d, e, t), H.WIDGET), o.on(\"key-down\", e => {\n      this._getCommonUpdateOperationKeyDownHandlers(d, e);\n    }, H.WIDGET)), d;\n  }\n  _setupGraphicTransform3DOperation(e, t, o, i = !1) {\n    if (1 === e.length && C(e[0]) === S.SUPPORTED) {\n      const a = e[0],\n        r = a.geometry;\n      if (null != r && (\"point\" === r.type || \"mesh\" === r.type)) return this._setupPointTransform3DOperation(a, t, o);\n      if (null != r && (\"polygon\" === r.type || \"polyline\" === r.type)) return this._setupPolyTransform3DOperation(a, t, o, i);\n    }\n    return this._setupMove3DOperation(e, t, o, \"transform\", i);\n  }\n  async _setupPointTransform3DOperation(e, t, o) {\n    const i = \"transform\",\n      {\n        enableRotation: a,\n        enableScaling: r,\n        enableZ: s\n      } = t,\n      n = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ne(n)) return n;\n    const {\n        TransformTool3D: p,\n        ManipulatedObject3DGraphic: l\n      } = n.module,\n      h = new l({\n        graphic: e,\n        view: o\n      }),\n      c = new p({\n        object: h,\n        view: o,\n        enableRotation: a,\n        enableScaling: r,\n        enableZ: s,\n        snappingManager: this.snappingManager,\n        sketchOptions: this.sketchOptions\n      });\n    o.tools.add(c), this.updateGraphics.add(e);\n    const d = [],\n      u = new Z({\n        activeComponent: c,\n        tool: i,\n        type: \"update\",\n        onEnd: () => {\n          d.forEach(e => e.remove()), d.length = 0, o.tools?.remove(c), c.destroyed || c.destroy(), h.destroy();\n        },\n        undo: () => {\n          re(this.view, c), oe(u, this.updateGraphics.toArray()), this._emitUndoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: i\n          });\n        },\n        redo: () => {\n          ie(u, this.updateGraphics.toArray()), this._emitRedoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: i\n          });\n        },\n        addToSelection: async e => {\n          this.updateGraphics.add(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [e],\n              removed: [],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), u.onEnd(), u.destroy();\n          const i = await this._setupMove3DOperation(this.updateGraphics.toArray(), t, o, \"transform\", !0);\n          ne(i) || this._setUpdateOperationHandle(i, t);\n        },\n        removeFromSelection: e => {\n          this.updateGraphics.remove(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [],\n              removed: [e],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), u.complete();\n        },\n        toggleTool: () => {}\n      });\n    return d.push(...this._getHandlesForComponent(u, t), o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(u, e, t), H.WIDGET), o.on(\"key-down\", e => {\n      this._getCommonUpdateOperationKeyDownHandlers(u, e);\n    }, H.WIDGET)), u;\n  }\n  async _setupPolyTransform3DOperation(e, t, o, i = !1) {\n    const a = \"transform\",\n      {\n        enableRotation: r,\n        enableScaling: s,\n        enableZ: n,\n        preserveAspectRatio: p\n      } = t,\n      l = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ne(l)) return l;\n    const {\n        ManipulatedObject3DGraphic: h,\n        ExtentTransformTool: c\n      } = l.module,\n      d = this.view?.inputManager?.isModifierKeyDown(R.constraint),\n      u = new h({\n        view: o,\n        graphic: e\n      }),\n      y = new c({\n        object: u,\n        view: o,\n        enableRotation: r,\n        enableScaling: s,\n        enableZ: n,\n        preserveAspectRatio: !!p != !!d,\n        sketchOptions: this.sketchOptions\n      });\n    o.tools.add(y), i || this.updateGraphics.add(e);\n    const m = [],\n      v = new Z({\n        activeComponent: y,\n        tool: a,\n        type: \"update\",\n        onEnd: () => {\n          m.forEach(e => e.remove()), m.length = 0, o.tools?.remove(y), y.destroyed || y.destroy(), u.destroy();\n        },\n        canUndo: () => y.canUndo,\n        undo: () => {\n          y.undo(), this._emitUndoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: a\n          });\n        },\n        canRedo: () => y.canRedo,\n        redo: () => {\n          y.redo(), this._emitRedoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: a\n          });\n        },\n        addToSelection: async e => {\n          this.updateGraphics.add(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [e],\n              removed: [],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), v.onEnd(), v.destroy();\n          const i = await this._setupMove3DOperation(this.updateGraphics.toArray(), t, o, \"transform\", !0);\n          ne(i) || this._setUpdateOperationHandle(i, t);\n        },\n        removeFromSelection: e => {\n          this.updateGraphics.remove(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [],\n              removed: [e],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), v.complete();\n        },\n        toggleTool: async () => {\n          if (1 !== this.updateGraphics.length || !1 === t.toggleToolOnClick) return;\n          const i = await this._setupReshape3DOperation(e, t, o, !0);\n          i && !ne(i) && (v.onEnd(), v.destroy(), this._setUpdateOperationHandle(i, t));\n        }\n      });\n    return m.push(...this._getHandlesForComponent(v, t), o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(v, e, t), H.WIDGET), o.on(\"key-down\", e => this._getCommonUpdateOperationKeyDownHandlers(v, e), H.WIDGET), o.on(\"key-down\", e => {\n      e.key !== R.constraint || e.repeat || (y.preserveAspectRatio = !y.preserveAspectRatio, e.stopPropagation());\n    }, H.WIDGET), o.on(\"key-up\", e => {\n      e.key === R.constraint && (y.preserveAspectRatio = !y.preserveAspectRatio, e.stopPropagation());\n    }, H.WIDGET)), v;\n  }\n  async _setupMove2DOperation(e, t, o) {\n    const i = \"move\";\n    this.updateGraphics.addMany(e), await this._updateSpatialReference(e);\n    const a = await this._getGraphicMover(e, t, o);\n    if (ne(a)) return a;\n    const r = new Z({\n      activeComponent: a,\n      tool: i,\n      type: \"update\",\n      onEnd: () => {\n        this._displayDefaultCursor(), p.forEach(e => e.remove()), n.forEach(e => e.remove()), p = [], n = [], a.destroy(), this._internalGraphicsLayer?.removeMany([...this.updateGraphics.toArray()]);\n      },\n      undo: () => {\n        const e = this.updateGraphics.toArray();\n        oe(r, e), r.refreshComponent(), this._emitUndoEvent({\n          graphics: e,\n          tool: i\n        });\n      },\n      redo: () => {\n        const e = this.updateGraphics.toArray();\n        ie(r, e), r.refreshComponent(), this._emitRedoEvent({\n          graphics: e,\n          tool: i\n        });\n      },\n      addToSelection: async e => {\n        await this._updateSpatialReference(e), this.updateGraphics.push(e), a.graphics = this.updateGraphics.toArray(), this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            added: [e],\n            removed: [],\n            type: \"selection-change\"\n          },\n          type: \"update\"\n        });\n      },\n      removeFromSelection: e => {\n        const t = this.updateGraphics.indexOf(e);\n        r.history.undo.forEach(e => e.updates.splice(t, 1)), r.history.redo.forEach(e => e.updates.splice(t, 1)), this.updateGraphics.remove(e);\n        const o = this.updateGraphics.toArray();\n        this.emit(\"update\", {\n          graphics: o,\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            added: [],\n            removed: [e],\n            type: \"selection-change\"\n          },\n          type: \"update\"\n        }), 0 !== this.updateGraphics.length ? a.graphics = o : r.complete();\n      }\n    });\n    let s = !1,\n      n = [o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(r, e, t), H.WIDGET), o.on(\"key-down\", e => {\n        this._getCommonUpdateOperationKeyDownHandlers(r, e), e.key !== R.constraint || e.repeat || (s = !0, a.enableMoveAllGraphics = !a.enableMoveAllGraphics);\n      }, H.WIDGET), o.on(\"key-up\", e => {\n        e.key === R.constraint && s && (s = !1, a.enableMoveAllGraphics = !a.enableMoveAllGraphics);\n      }, H.WIDGET)],\n      p = this._getHandlesForComponent(r, t);\n    return r;\n  }\n  async _setupReshape3DOperation(e, t, o, i = !1) {\n    const a = \"reshape\",\n      r = await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));\n    if (ne(r)) return r;\n    const {\n        ManipulatedObject3DGraphic: s,\n        ReshapeTool3D: n\n      } = r.module,\n      p = new s({\n        view: o,\n        graphic: e\n      }),\n      l = M(p);\n    if (l !== S.SUPPORTED) return p.destroy(), this._logError(\"sketch:reshape\", `Reshape operation not supported for provided graphic(s) (${A(l)}).`), null;\n    const h = t.reshapeOptions,\n      c = new n({\n        view: o,\n        object: p,\n        enableZVertex: t.enableZ && \"move\" === h?.vertexOperation,\n        enableZShape: t.enableZ && \"move\" === h?.shapeOperation,\n        enableMoveObject: \"move\" === h?.shapeOperation || \"move-xy\" === h?.shapeOperation,\n        enableMidpoints: \"split\" === h?.edgeOperation,\n        enableEdgeOffset: \"offset\" === h?.edgeOperation,\n        snappingManager: this.snappingManager,\n        sketchOptions: this.sketchOptions\n      });\n    o.tools.add(c), i || this.updateGraphics.add(p.graphic);\n    const d = [],\n      u = new Z({\n        activeComponent: c,\n        tool: a,\n        type: \"update\",\n        onEnd: () => {\n          d.forEach(e => e.remove()), d.length = 0, o.tools?.remove(c), c.destroyed || c.destroy(), p.destroy();\n        },\n        canUndo: () => c.canUndo,\n        undo: () => {\n          c.undo(), this._emitUndoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: a\n          });\n        },\n        canRedo: () => c.canRedo,\n        redo: () => {\n          c.redo(), this._emitRedoEvent({\n            graphics: this.updateGraphics.toArray(),\n            tool: a\n          });\n        },\n        addToSelection: async e => {\n          this.updateGraphics.add(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [e],\n              removed: [],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), u.onEnd(), u.destroy();\n          const i = await this._setupMove3DOperation(this.updateGraphics.toArray(), t, o, \"transform\", !0);\n          ne(i) || this._setUpdateOperationHandle(i, t);\n        },\n        removeFromSelection: e => {\n          this.updateGraphics.remove(e), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: [],\n              removed: [e],\n              type: \"selection-change\"\n            },\n            type: \"update\"\n          }), u.complete();\n        },\n        toggleTool: async () => {\n          if (!1 === t.toggleToolOnClick) return;\n          u.onEnd(), u.destroy();\n          const e = await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(), t, o, !0);\n          ne(e) || this._setUpdateOperationHandle(e, t);\n        }\n      });\n    return d.push(...this._getHandlesForComponent(u, t), o.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(u, e, t), H.WIDGET), o.on(\"key-down\", e => {\n      this._getCommonUpdateOperationKeyDownHandlers(u, e);\n    }, H.WIDGET)), u;\n  }\n  async _setupTransformOrReshape2DOperation(e, t, o, i) {\n    this.updateGraphics.addMany(e), await this._updateSpatialReference(e);\n    const a = \"transform\" === t ? await this._getBox(e, o, i) : await this._getReshape(e, o, i);\n    if (ne(a)) return a;\n    const r = new Z({\n      activeComponent: a,\n      type: \"update\",\n      onEnd: () => {\n        n.forEach(e => e.remove()), s.forEach(e => e.remove()), n = [], s = [], r.activeComponent && !r.activeComponent.destroyed && r.activeComponent.destroy(), this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray());\n      },\n      undo: () => {\n        oe(r, this.updateGraphics.toArray()), r.refreshComponent(), this._emitUndoEvent({\n          graphics: this.updateGraphics.toArray(),\n          tool: r.tool\n        });\n      },\n      redo: () => {\n        ie(r, this.updateGraphics.toArray()), r.refreshComponent(), this._emitRedoEvent({\n          graphics: this.updateGraphics.toArray(),\n          tool: r.tool\n        });\n      },\n      addToSelection: async e => {\n        let t = r.activeComponent;\n        if (\"reshape\" === t?.type) {\n          const t = [...this.updateGraphics, e];\n          this.updateGraphics.removeAll(), r.onEnd(), r.destroy();\n          const a = await this._setupTransformOrReshape2DOperation(t, \"transform\", o, i);\n          if (ne(a)) return;\n          this._setUpdateOperationHandle(a, o);\n        } else this.updateGraphics.add(e), t.graphics = this.updateGraphics.toArray(), t.refresh(), r.resetHistory();\n        this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            added: [e],\n            removed: [],\n            type: \"selection-change\"\n          },\n          type: \"update\"\n        });\n      },\n      removeFromSelection: async e => {\n        const t = this.updateGraphics.indexOf(e);\n        r.history.undo.forEach(e => e.updates.splice(t, 1)), r.history.redo.forEach(e => e.updates.splice(t, 1)), this.updateGraphics.remove(e);\n        const o = this.updateGraphics.toArray();\n        if (0 === o.length) r.complete();else {\n          const e = o[0].geometry;\n          1 !== o.length || null == e || \"point\" !== e.type && \"multipoint\" !== e.type ? r.activeComponent.graphics = o : r.toggleTool();\n        }\n        this.emit(\"update\", {\n          graphics: o,\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            added: [],\n            removed: [e],\n            type: \"selection-change\"\n          },\n          type: \"update\"\n        });\n      },\n      toggleTool: async () => {\n        if (this.updateGraphics.length > 1) return;\n        const e = this.updateGraphics.at(0),\n          t = e.geometry;\n        if (null != t && (\"reshape\" === r.tool && (\"point\" === t.type || \"multipoint\" === t.type) || \"transform\" === r.tool && \"extent\" === t.type)) return;\n        let a = null;\n        \"transform\" === r.tool ? a = await this._getReshape([e], o, i) : \"reshape\" === r.tool && (a = await this._getBox([e], o, i)), ne(a) || (r.activeComponent?.destroy(), r.activeComponent = a, r.activeComponent && (n.forEach(e => e.remove()), n = this._getHandlesForComponent(r, o)));\n      }\n    });\n    let s = [i.on(\"immediate-click\", e => this._getCommonUpdateOperationClickHandlers(r, e, o), H.WIDGET), i.on(\"key-down\", e => {\n        if (this._getCommonUpdateOperationKeyDownHandlers(r, e), e.key === R.constraint && !e.repeat && r) {\n          const e = r.activeComponent;\n          e && \"box\" === e.type && (e.preserveAspectRatio = !e.preserveAspectRatio);\n        }\n      }, H.WIDGET), i.on(\"key-up\", e => {\n        if (e.key === R.constraint && r) {\n          const e = r.activeComponent;\n          e && \"box\" === e.type && (e.preserveAspectRatio = !e.preserveAspectRatio);\n        }\n      }, H.WIDGET)],\n      n = this._getHandlesForComponent(r, o);\n    return r;\n  }\n  async _getGraphicMover(e, t, o) {\n    const {\n        enableMoveAllGraphics: i,\n        highlightOptions: a\n      } = t,\n      r = await this._requireModule(import(\"../../views/draw/support/GraphicMover.js\"));\n    return ne(r) ? r : new r.module.default({\n      enableMoveAllGraphics: i,\n      highlightsEnabled: !!a?.enabled,\n      indicatorsEnabled: !1,\n      graphics: e,\n      view: o,\n      callbacks: {\n        onGraphicMoveStart: ({\n          dx: e,\n          dy: t,\n          graphic: o\n        }) => {\n          this._displayGrabbingCursor(), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e,\n              dy: t,\n              mover: o,\n              type: \"move-start\"\n            },\n            type: \"update\"\n          });\n        },\n        onGraphicMove: ({\n          dx: e,\n          dy: t,\n          graphic: o\n        }) => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            dx: e,\n            dy: t,\n            mover: o,\n            type: \"move\"\n          },\n          type: \"update\"\n        }),\n        onGraphicMoveStop: ({\n          dx: e,\n          dy: t,\n          graphic: o\n        }) => {\n          this._displayPointerCursor(), this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e,\n              dy: t,\n              mover: o,\n              type: \"move-stop\"\n            },\n            type: \"update\"\n          });\n        },\n        onGraphicPointerOver: () => this._displayPointerCursor(),\n        onGraphicPointerOut: () => this._displayDefaultCursor()\n      }\n    });\n  }\n  async _getBox(e, t, o) {\n    const {\n        enableRotation: i,\n        enableScaling: a,\n        highlightOptions: r,\n        preserveAspectRatio: s\n      } = t,\n      n = await this._requireModule(import(\"../../views/draw/support/Box.js\"));\n    if (ne(n)) return n;\n    const p = this.view?.inputManager?.isModifierKeyDown(R.constraint);\n    return new n.module.default({\n      graphics: e,\n      enableRotation: i,\n      enableScaling: a,\n      highlightsEnabled: !!r?.enabled,\n      preserveAspectRatio: !!s != !!p,\n      layer: this._internalGraphicsLayer,\n      view: o,\n      sketchOptions: this.sketchOptions,\n      callbacks: {\n        onMoveStart: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onMove: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onMoveStop: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onScaleStart: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onScale: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onScaleStop: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onRotateStart: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onRotate: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onRotateStop: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        })\n      }\n    });\n  }\n  async _getReshape(e, t, o) {\n    const i = \"split\" === t.reshapeOptions?.edgeOperation,\n      a = \"move\" === t.reshapeOptions?.shapeOperation,\n      r = !!t.highlightOptions?.enabled,\n      s = await this._requireModule(import(\"../../views/draw/support/Reshape.js\"));\n    return ne(s) ? s : new s.module.default({\n      enableMidpoints: i,\n      enableMovement: a,\n      graphic: e[0],\n      highlightsEnabled: r,\n      layer: this._internalGraphicsLayer,\n      snappingManager: this.snappingManager,\n      sketchOptions: this.sketchOptions,\n      view: o,\n      callbacks: {\n        onReshapeStart: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onReshape: e => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            ...e\n          },\n          type: \"update\"\n        }),\n        onReshapeStop: ({\n          mover: e,\n          type: t\n        }) => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            mover: e,\n            type: t\n          },\n          type: \"update\"\n        }),\n        onMoveStart: ({\n          dx: e,\n          dy: t,\n          mover: o,\n          type: i\n        }) => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            dx: e,\n            dy: t,\n            mover: o,\n            type: i\n          },\n          type: \"update\"\n        }),\n        onMove: ({\n          dx: e,\n          dy: t,\n          mover: o,\n          type: i\n        }) => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            dx: e,\n            dy: t,\n            mover: o,\n            type: i\n          },\n          type: \"update\"\n        }),\n        onMoveStop: ({\n          dx: e,\n          dy: t,\n          mover: o,\n          type: i\n        }) => this.emit(\"update\", {\n          graphics: this.updateGraphics.toArray(),\n          state: \"active\",\n          aborted: !1,\n          tool: this.activeTool,\n          toolEventInfo: {\n            dx: e,\n            dy: t,\n            mover: o,\n            type: i\n          },\n          type: \"update\"\n        }),\n        onVertexAdd: ({\n          added: e,\n          type: t,\n          vertices: o\n        }) => {\n          const i = e.map(e => G(e.geometry));\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              added: i,\n              vertices: o,\n              type: t\n            },\n            type: \"update\"\n          });\n        },\n        onVertexRemove: ({\n          removed: e,\n          type: t,\n          vertices: o\n        }) => {\n          const i = e.map(e => G(e.geometry));\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              removed: i,\n              vertices: o,\n              type: t\n            },\n            type: \"update\"\n          });\n        }\n      }\n    });\n  }\n  _getHandlesForComponent(e, t) {\n    const o = e.activeComponent;\n    if (!o) return [];\n    switch (o.type) {\n      case \"graphic-mover\":\n        return [o.on(\"graphic-click\", ({\n          graphic: t,\n          viewEvent: o\n        }) => {\n          o.native?.shiftKey && (o.stopPropagation(), e.removeFromSelection(t));\n        }), o.on(\"graphic-move-start\", t => e.addToHistory(se(t.allGraphics)))];\n      case \"box\":\n        return [o.on(\"graphic-click\", o => this._onTransformOrReshape2DGraphicClick(e, t, o)), o.on(\"move-start\", t => e.addToHistory(se(t.graphics))), o.on(\"rotate-start\", t => e.addToHistory(se(t.graphics))), o.on(\"scale-start\", t => e.addToHistory(se(t.graphics)))];\n      case \"reshape\":\n        return [o.on(\"graphic-click\", o => this._onTransformOrReshape2DGraphicClick(e, t, o)), o.on(\"move-start\", t => e.addToHistory(se([t.mover]))), o.on(\"reshape-start\", t => e.addToHistory(se([t.graphic]))), o.on(\"vertex-add\", t => e.addToHistory(se([t.oldGraphic]))), o.on(\"vertex-remove\", t => e.addToHistory(se([t.oldGraphic])))];\n      case \"move-3d\":\n        return [o.events.on(\"record-undo\", ({\n          updates: t\n        }) => {\n          e.addToHistory({\n            updates: t\n          });\n        }), o.events.on(\"move-start\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: 0,\n              dy: 0,\n              mover: e.objects.length > 0 ? e.objects[0].graphic : null,\n              type: \"move-start\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"move\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: e.dx,\n              dy: e.dy,\n              mover: e.objects.length > 0 ? e.objects[0].graphic : null,\n              type: \"move\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"move-stop\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              dx: 0,\n              dy: 0,\n              mover: e.objects.length > 0 ? e.objects[0].graphic : null,\n              type: \"move-stop\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"immediate-click\", o => {\n          o.shiftKey ? this._toggleSelection([o.object.graphic], e, t) : e.toggleTool();\n        })];\n      case \"transform-3d\":\n        return [o.events.on(\"record-undo\", ({\n          updates: t\n        }) => {\n          e.addToHistory({\n            updates: t\n          });\n        }), o.events.on(\"translate-start\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              dx: e.dxScreen,\n              dy: e.dyScreen,\n              type: \"move-start\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"translate-stop\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              dx: e.dxScreen,\n              dy: e.dyScreen,\n              type: \"move-stop\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"rotate-start\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              angle: e.angle,\n              type: \"rotate-start\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"rotate-stop\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              angle: e.angle,\n              type: \"rotate-stop\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"scale-start\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              xScale: e.xScale,\n              yScale: e.yScale,\n              type: \"scale-start\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"scale-stop\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              xScale: e.xScale,\n              yScale: e.yScale,\n              type: \"scale-stop\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"translate\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              dx: e.dxScreen,\n              dy: e.dyScreen,\n              type: \"move\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"rotate\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              angle: e.angle,\n              type: \"rotate\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"scale\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              mover: e.object.graphic,\n              xScale: e.xScale,\n              yScale: e.yScale,\n              type: \"scale\"\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"immediate-click\", o => {\n          o.shiftKey ? this._toggleSelection([o.object.graphic], e, t) : e.toggleTool();\n        })];\n      case \"reshape-3d\":\n        return [o.events.on(\"reshape\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              ...e,\n              mover: e.object.graphic\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"move\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: {\n              ...e,\n              mover: e.object.graphic\n            },\n            type: \"update\"\n          });\n        }), o.events.on(\"vertex-add\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: e,\n            type: \"update\"\n          });\n        }), o.events.on(\"vertex-remove\", e => {\n          this.emit(\"update\", {\n            graphics: this.updateGraphics.toArray(),\n            state: \"active\",\n            aborted: !1,\n            tool: this.activeTool,\n            toolEventInfo: e,\n            type: \"update\"\n          });\n        }), o.events.on(\"immediate-click\", o => {\n          o.shiftKey ? this._toggleSelection([o.object.graphic], e, t) : e.toggleTool();\n        })];\n    }\n  }\n  _onTransformOrReshape2DGraphicClick(e, t, o) {\n    const {\n      graphic: i,\n      viewEvent: a\n    } = o;\n    return a.native?.shiftKey && i.layer === this.layer ? (a.stopPropagation(), e.removeFromSelection(i)) : t.toggleToolOnClick ? (a.stopPropagation(), e.toggleTool()) : void 0;\n  }\n  _setUpdateOperationHandle(e, t) {\n    this._operationHandle = e;\n    const o = this.view?.map;\n    this._disablePopup(t);\n    const i = () => {\n      if (e === this._operationHandle) {\n        const i = this.updateGraphics.toArray(),\n          a = this._operationHandle.tool;\n        this._operationHandle.destroy(), this._operationHandle = null, this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()), this.updateGraphics.removeAll(), o && o.remove(this._internalGraphicsLayer), this._restorePopup(t), this.emit(\"update\", {\n          graphics: i,\n          state: \"complete\",\n          aborted: e.cancelled,\n          tool: a,\n          toolEventInfo: null,\n          type: \"update\"\n        });\n      }\n    };\n    e.on(\"complete\", i);\n  }\n  async _getCommonUpdateOperationClickHandlers(e, t, o) {\n    const i = K(t),\n      a = await t.async(() => this._getFirstHit(i));\n    if (null == a) return void e.complete();\n    if (t.native.shiftKey && this._toggleSelection([a.graphic], e, o)) return void t.stopPropagation();\n    this.updateGraphics.includes(a.graphic) ? t.stopPropagation() : e.complete();\n  }\n  _toggleSelection(e, t, o) {\n    const i = !!o.multipleSelectionEnabled;\n    return e.some(e => null != e && !(!i || e.layer !== this.layer) && (this.updateGraphics.includes(e) ? t.removeFromSelection(e) : t.addToSelection(e), !0));\n  }\n  _getCommonUpdateOperationKeyDownHandlers(e, t) {\n    if (!e) return;\n    const o = t.key;\n    o === R.undo && e.canUndo() ? (t.stopPropagation(), e.undo()) : o === R.redo && e.canRedo() ? (t.stopPropagation(), e.redo()) : o === R.cancel ? (t.stopPropagation(), e.cancel()) : this.allowDeleteKey && R.delete.includes(o) && this._onDeleteKey(t);\n  }\n  _onDeleteKey(e) {\n    if (!this._operationHandle || \"update\" !== this._operationHandle.type) return;\n    const t = this.activeComponent,\n      o = this.updateGraphics.toArray();\n    null != t && (\"reshape\" !== t.type || 1 === o.length && \"point\" === o[0].geometry?.type) && (e.stopPropagation(), this.delete());\n  }\n  _removeDefaultLayer() {\n    this._internalGraphicsLayer && (this.view?.map?.remove(this._internalGraphicsLayer), this._internalGraphicsLayer = s(this._internalGraphicsLayer));\n  }\n  _isComponentGraphic(e) {\n    const {\n      activeComponent: t\n    } = this;\n    return !(!e || null == t) && (e.attributes?.esriSketchTool || \"draw-2d\" === t.type && t.graphic === e || (\"box\" === t.type || \"reshape\" === t.type) && t.isUIGraphic(e));\n  }\n  _displayPointerCursor() {\n    this.view?.container && \"pointer\" !== this.view.cursor && (this.view.cursor = \"pointer\");\n  }\n  _displayGrabbingCursor() {\n    this.view?.container && \"grabbing\" !== this.view.cursor && (this.view.cursor = \"grabbing\");\n  }\n  _displayDefaultCursor() {\n    this.view?.container && null !== this.view.cursor && (this.view.cursor = null);\n  }\n  _logError(e, t, o) {\n    r.getLogger(this).error(new i(e, t, o));\n  }\n  async _requireModule(e) {\n    const t = new AbortController();\n    this._moduleLoaderAbortController = t;\n    const o = await e;\n    return this._moduleLoaderAbortController !== t || t.signal.aborted ? {\n      requireError: \"aborted\"\n    } : {\n      module: o\n    };\n  }\n  _emitUndoEvent(e) {\n    this.emit(\"undo\", {\n      ...e,\n      type: \"undo\"\n    });\n  }\n  _emitRedoEvent(e) {\n    this.emit(\"redo\", {\n      ...e,\n      type: \"redo\"\n    });\n  }\n  _emitDeleteEvent(e) {\n    this.emit(\"delete\", {\n      ...e,\n      type: \"delete\"\n    });\n  }\n  get test() {}\n  wait() {\n    return u(() => !this.updating);\n  }\n  _beginAsyncOperation() {\n    this._numUpdating += 1, this.notifyChange(\"updating\");\n  }\n  _endAsyncOperation() {\n    this._numUpdating -= 1, this.notifyChange(\"updating\");\n  }\n  _disablePopupEnabled(e) {\n    return \"3d\" !== this.view?.type || this.updateOnGraphicClick || (e?.toggleToolOnClick ?? !1);\n  }\n  _disablePopup(e) {\n    this._disablePopupEnabled(e) && this.view && null == this._originalPopupEnabled && (this._originalPopupEnabled = this.view.popupEnabled, this.view.popupEnabled = !1);\n  }\n  _restorePopup(e) {\n    this._disablePopupEnabled(e) && this.view && null != this._originalPopupEnabled && (this.view.popupEnabled = this._originalPopupEnabled, this._originalPopupEnabled = null);\n  }\n  async _waitViewReady() {\n    const e = this.view;\n    e ? (n(this._viewReadyAbortController), this._viewReadyAbortController = new AbortController(), await l(u(() => e?.ready), this._viewReadyAbortController.signal)) : this._logMissingView();\n  }\n  _logMissingView() {\n    this._logError(\"sketch:missing-property\", ee(\"view\"));\n  }\n  _logMissingLayer() {\n    this._logError(X, ee(\"layer\"));\n  }\n};\ne([m()], Q.prototype, \"_defaultSnappingManager\", void 0), e([m()], Q.prototype, \"updating\", null), e([m()], Q.prototype, \"_operationHandle\", void 0), e([m({\n  readOnly: !0\n})], Q.prototype, \"activeTool\", null), e([m()], Q.prototype, \"activeFillSymbol\", void 0), e([m()], Q.prototype, \"activeLineSymbol\", void 0), e([m()], Q.prototype, \"activeVertexSymbol\", void 0), e([m()], Q.prototype, \"allowDeleteKey\", void 0), e([m({\n  readOnly: !0\n})], Q.prototype, \"createGraphic\", null), e([m()], Q.prototype, \"defaultCreateOptions\", null), e([m()], Q.prototype, \"defaultUpdateOptions\", null), e([m({\n  type: j,\n  nonNullable: !0\n})], Q.prototype, \"labelOptions\", null), e([m()], Q.prototype, \"layer\", void 0), e([m({\n  types: t\n})], Q.prototype, \"pointSymbol\", void 0), e([m({\n  types: t\n})], Q.prototype, \"polygonSymbol\", void 0), e([m({\n  types: t\n})], Q.prototype, \"polylineSymbol\", void 0), e([m()], Q.prototype, \"meshSymbol\", void 0), e([m({\n  type: L,\n  nonNullable: !0\n})], Q.prototype, \"snappingOptions\", null), e([m()], Q.prototype, \"snappingManager\", null), e([m({\n  readOnly: !0\n})], Q.prototype, \"state\", null), e([m({\n  type: U,\n  nonNullable: !0\n})], Q.prototype, \"tooltipOptions\", null), e([m({\n  readOnly: !0\n})], Q.prototype, \"updateGraphics\", void 0), e([m()], Q.prototype, \"updateOnGraphicClick\", void 0), e([m({\n  type: x,\n  nonNullable: !0\n})], Q.prototype, \"valueOptions\", null), e([m({\n  types: t\n})], Q.prototype, \"vertexSymbol\", void 0), e([m({\n  value: null\n})], Q.prototype, \"view\", null), e([m({\n  constructOnly: !0,\n  type: I\n})], Q.prototype, \"sketchOptions\", void 0), Q = e([v(\"esri.widgets.Sketch.SketchViewModel\")], Q);\nconst X = \"sketch:missing-property\",\n  ee = e => `Property '${e}' is missing on SketchViewModel.`;\nfunction te(e) {\n  return \"polygon\" === e || \"rectangle\" === e || \"circle\" === e;\n}\nfunction oe(e, t) {\n  ae(\"undo\", e.history.undo, e.history.redo, t);\n}\nfunction ie(e, t) {\n  ae(\"redo\", e.history.redo, e.history.undo, t);\n}\nfunction ae(e, t, o, i) {\n  const a = t.pop();\n  if (!a) return;\n  const r = a.updates,\n    s = [];\n  i.forEach((t, o) => {\n    const i = r[o];\n    null != i && (\"geometry\" in i && null != i.geometry && (s.push({\n      geometry: t.geometry\n    }), t.geometry = i.geometry), \"symbol\" in i && null != i.symbol && (s.push({\n      symbol: t.symbol\n    }), t.symbol = i.symbol), \"undo\" in i && (s.push(i), i[e](t)));\n  }), o.push({\n    updates: s\n  });\n}\nfunction re(e, t) {\n  null != e && t.hasGrabbedManipulators && (e.activeTool = null);\n}\nfunction se(e) {\n  return {\n    updates: e.map(({\n      geometry: e\n    }) => \"mesh\" === e?.type ? {\n      geometry: e.cloneShallow()\n    } : {\n      geometry: e\n    })\n  };\n}\nfunction ne(e) {\n  return \"requireError\" in e && \"aborted\" === e.requireError;\n}\nconst pe = Q;\nexport { pe as default };"],
  "mappings": "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",
  "names": ["e", "n", "n", "e", "v", "o", "r", "s", "e", "n", "e", "p", "J", "e", "h", "y", "d", "l", "c", "o", "t", "i", "u", "a", "r", "s", "n", "_", "p", "m", "v"]
}
