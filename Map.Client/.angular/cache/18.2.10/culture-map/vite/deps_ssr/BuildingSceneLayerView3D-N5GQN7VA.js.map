{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js", "../../../../../../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js", "../../../../../../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Evented.js\";\nimport { IdentifiableMixin as r } from \"../../../core/Identifiable.js\";\nimport { EsriPromiseMixin as s } from \"../../../core/Promise.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nconst p = (p, l) => {\n  let n = class extends s(r(t.EventedMixin(p))) {\n    constructor(e) {\n      super(e), this.sublayer = null, this.parent = null, this.view = null;\n    }\n    initialize() {}\n    get suspended() {\n      return !this.canResume();\n    }\n    get updating() {\n      return !this.suspended && this.isUpdating();\n    }\n    get visible() {\n      return !!this.sublayer?.visible;\n    }\n    set visible(e) {\n      this._overrideIfSome(\"visible\", e);\n    }\n    get fullOpacity() {\n      const e = e => null != e ? e : 1;\n      return e(this.sublayer?.opacity) * e(this.parent?.fullOpacity);\n    }\n    canResume() {\n      return !this.parent?.suspended && this.view?.ready && this.visible || !1;\n    }\n    isUpdating() {\n      return !1;\n    }\n  };\n  return e([i()], n.prototype, \"sublayer\", void 0), e([i()], n.prototype, \"parent\", void 0), e([i({\n    readOnly: !0\n  })], n.prototype, \"suspended\", null), e([i({\n    type: Boolean,\n    readOnly: !0\n  })], n.prototype, \"updating\", null), e([i()], n.prototype, \"view\", void 0), e([i()], n.prototype, \"visible\", null), e([i()], n.prototype, \"fullOpacity\", null), n = e([o(\"esri.views.3d.layers.BuildingSublayerView3D\")], n), n;\n};\nexport { p as BuildingSublayerView3DMixin };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clone as e } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { createMaterialFromEdges as r } from \"../support/edgeUtils.js\";\nimport { ColorMixModeEnum as o } from \"../support/symbolColorUtils.js\";\nvar a;\n!function (e) {\n  e[e.Solid = 0] = \"Solid\", e[e.WireFrame = 1] = \"WireFrame\", e[e.XRay = 2] = \"XRay\";\n}(a || (a = {}));\nconst l = .15,\n  t = .5 * l;\nfunction i(e) {\n  switch (e.filterMode.type) {\n    case \"solid\":\n      return {\n        mode: a.Solid\n      };\n    case \"wire-frame\":\n      return {\n        mode: a.WireFrame,\n        edgeMaterial: r(e.filterMode.edges, {})\n      };\n    case \"x-ray\":\n      return {\n        mode: a.XRay\n      };\n  }\n}\nfunction c(e, r) {\n  if (null == r) return e.color[3] = 0, e.edgeMaterial = null, void (e.pickable = !1);\n  switch (r.mode) {\n    case a.Solid:\n      return;\n    case a.WireFrame:\n      return e.color[3] = 0, e.edgeMaterial = r.edgeMaterial, void (e.pickable = !1);\n    case a.XRay:\n      return e.color[0] = 1, e.color[1] = 1, e.color[2] = 1, e.color[3] *= l, e.colorMixMode = o.Replace, e.castShadows = !1, e.pickable = !1, void (e.edgeMaterial = n(e.edgeMaterial));\n  }\n}\nfunction n(e) {\n  return null == e ? null : (d.lastMaterial !== e && (d.cachedMaterial = s(e), d.lastMaterial = e), d.cachedMaterial);\n}\nfunction s(r) {\n  const o = e(r.color);\n  return o[3] *= t, {\n    ...r,\n    color: o\n  };\n}\nconst d = {\n  cachedMaterial: null,\n  lastMaterial: null\n};\nexport { a as FilterModeEnum, c as applyFilterMode, i as parseFilterMode };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Accessor.js\";\nimport { property as t } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport \"../../core/accessorSupport/interfaces.js\";\nimport \"../../core/accessorSupport/tracking/Flags.js\";\nimport \"../../core/Warning.js\";\nimport \"../../core/Error.js\";\nclass o extends e {\n  constructor() {\n    super(...arguments), this.sublayer = null;\n  }\n  get updating() {\n    return !1;\n  }\n  get suspended() {\n    return !1;\n  }\n  get availableFields() {\n    return [];\n  }\n  get filter() {\n    return null;\n  }\n  set filter(r) {\n    throw new Error(\"Not implemented\");\n  }\n  queryFeatures(r, e) {\n    throw new Error(\"Not implemented\");\n  }\n  queryObjectIds(r, e) {\n    throw new Error(\"Not implemented\");\n  }\n  queryFeatureCount(r, e) {\n    throw new Error(\"Not implemented\");\n  }\n  createQuery() {\n    throw new Error(\"Not implemented\");\n  }\n  queryExtent(r, e) {\n    throw new Error(\"Not implemented\");\n  }\n  highlight(r) {\n    throw new Error(\"Not implemented\");\n  }\n}\nr([t()], o.prototype, \"sublayer\", void 0), r([t()], o.prototype, \"availableFields\", null), r([t()], o.prototype, \"filter\", null);\nexport { o as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../Graphic.js\";\nimport t from \"../../../core/Error.js\";\nimport i from \"../../../core/Logger.js\";\nimport { destroyMaybe as s } from \"../../../core/maybe.js\";\nimport { throwIfAborted as l, throwIfAbortError as a } from \"../../../core/promiseUtils.js\";\nimport { syncAndInitial as n, initial as o } from \"../../../core/reactiveUtils.js\";\nimport { property as u } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as d } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { WhereClause as p } from \"../../../core/sql/WhereClause.js\";\nimport \"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";\nimport h from \"../../../layers/support/FeatureFilter.js\";\nimport { fixFields as y, unpackFieldNames as c, populateMissingFields as f } from \"../../../layers/support/fieldUtils.js\";\nimport g from \"../../../rest/support/Query.js\";\nimport { BuildingSublayerView3DMixin as m } from \"./BuildingSublayerView3D.js\";\nimport { I3SMeshView3D as F } from \"./I3SMeshView3D.js\";\nimport { ForAllFeaturesMode as b } from \"./II3SMeshView3D.js\";\nimport { applyFilterMode as _ } from \"./i3s/BuildingFilterUtil.js\";\nimport { createGetFeatureExtent as E } from \"./i3s/I3SGeometryUtil.js\";\nimport { I3SMeshViewFilter as w } from \"./i3s/I3SMeshViewFilter.js\";\nimport { I3SQueryEngine as S } from \"./i3s/I3SQueryEngine.js\";\nimport { I3SQueryFeatureAdapter as x } from \"./i3s/I3SQueryFeatureAdapter.js\";\nimport { I3SQueryFeatureStore as j } from \"./i3s/I3SQueryFeatureStore.js\";\nimport { findFieldsCaseInsensitive as v, getIndexCrs as I } from \"./i3s/I3SUtil.js\";\nimport { DefinitionExpressionSceneLayerView as Q } from \"./support/DefinitionExpressionSceneLayerView.js\";\nimport { TemporalSceneLayerView as q } from \"./support/TemporalSceneLayerView.js\";\nimport R from \"../../layers/BuildingComponentSublayerView.js\";\nimport { hasPopupTemplate as L, getRequiredFields as V, getFetchPopupTemplate as U } from \"../../layers/support/popupUtils.js\";\nimport { isInEffectiveScaleRange as A } from \"../../support/layerViewUtils.js\";\nimport { TaskPriority as C } from \"../../support/Scheduler.js\";\nlet H = class extends q(Q(F(m(R)))) {\n  constructor() {\n    super(...arguments), this.type = \"building-component-sublayer-3d\", this.layerView = null, this._elevationContext = \"scene\", this._isIntegratedMesh = !1, this._supportsLabeling = !1, this.requiredFields = [], this.progressiveLoadFactor = 1, this._queryEngine = null;\n  }\n  get i3slayer() {\n    return this.sublayer;\n  }\n  get layerUid() {\n    return this.sublayer.layer.uid;\n  }\n  get sublayerUid() {\n    return this.sublayer.uid;\n  }\n  get layerId() {\n    return this.sublayer.layer.id;\n  }\n  get sublayerId() {\n    return this.sublayer.id;\n  }\n  get layerPopupEnabledAndHasTemplate() {\n    return this.sublayer.popupEnabled && L(this.sublayer, this.layerView?.view.popup?.defaultPopupTemplateEnabled);\n  }\n  initialize() {\n    this._updatingHandles.add(() => this.mergedFilter, e => {\n      null != e && w.checkSupport(e) ? null == this._i3sFilter ? this._i3sFilter = new w({\n        viewFilter: e,\n        layerFieldsIndex: this.sublayer.fieldsIndex,\n        loadAsyncModule: e => this._loadAsyncModule(e),\n        addSqlFilter: (e, r) => this.addSqlFilter(e, r, this.logError),\n        addTimeFilter: (e, r) => this.addTimeFilter(e, r)\n      }) : this._i3sFilter.viewFilter = e : this._i3sFilter = s(this._i3sFilter);\n    }, n), this._updatingHandles.add(() => [this.sublayer.renderer, this.definitionExpressionFields, this.filterExpressionFields], () => this._updateRequiredFields()), this._updatingHandles.add(() => this.sublayer.renderer, e => this._rendererChange(e), o);\n    const e = () => this._filterChange();\n    this._updatingHandles.add(() => this.parsedDefinitionExpression, e), this._updatingHandles.add(() => this._i3sFilter?.sortedObjectIds, e), this._updatingHandles.add(() => this._i3sFilter?.parsedWhereClause, e), this._updatingHandles.add(() => this.getTimeFilterDependencies(), e), this._updatingHandles.add(() => this.mergedFilter, e), this._updatingHandles.add(() => [this._i3sFilter?.parsedGeometry, this.filter?.spatialRelationship], () => this._geometryFilterChange()), this._updatingHandles.add(() => this.parsedFilterExpressions, () => this._updateSymbologyOverride(), o), this.addResolvingPromise(this._updateRequiredFields());\n  }\n  get lodFactor() {\n    return this.view.qualitySettings.sceneService.object.lodFactor;\n  }\n  get parsedFilterExpressions() {\n    return \"Overview\" !== this.sublayer.modelName && this.layerView ? this.layerView.filterExpressions.map(([e, r]) => {\n      let t;\n      try {\n        t = p.create(e, this.sublayer.fieldsIndex);\n      } catch (a) {\n        return i.getLogger(this).error(\"Failed to parse filterExpression: \" + a), null;\n      }\n      if (!t.isStandardized) return i.getLogger(this).error(\"filterExpression is using non standard function\"), null;\n      const s = [],\n        l = t.fieldNames;\n      return v(l, this.sublayer.fields, {\n        missingFields: s\n      }), s.length > 0 ? (i.getLogger(this).error(`filterExpression references unknown fields: ${s.join(\", \")}`), null) : [t, r];\n    }).filter(e => null != e) : [];\n  }\n  get filter() {\n    return this._get(\"filter\");\n  }\n  set filter(e) {\n    this._set(\"filter\", w.checkSupport(e) ? e : null);\n  }\n  isUpdating() {\n    return super.isUpdating() || (this._i3sFilter?.updating ?? !1);\n  }\n  _updateSymbologyOverride() {\n    const e = this.parsedFilterExpressions;\n    e.length > 0 ? this._setSymbologyOverride((r, t) => {\n      for (const [s, l] of e) try {\n        if (s.testFeature(r)) return _(t, l);\n      } catch (i) {\n        this.logError(i);\n      }\n      return _(t, null);\n    }, this.filterExpressionFields) : this._setSymbologyOverride(null, null);\n  }\n  get filterExpressionFields() {\n    return y(this.sublayer.fieldsIndex, this.parsedFilterExpressions.reduce((e, [r]) => e.concat(r.fieldNames), new Array()));\n  }\n  get availableFields() {\n    const e = this.sublayer,\n      r = e.fieldsIndex;\n    let t = this.requiredFields;\n    if (e.outFields || e.layer.outFields) {\n      const i = [...(e.outFields || []), ...(e.layer.outFields || [])];\n      t = [...c(r, i), ...t];\n    }\n    return y(r, t);\n  }\n  _createLayerGraphic(e) {\n    return new r({\n      attributes: e,\n      layer: this.sublayer.layer,\n      sourceLayer: this.sublayer\n    });\n  }\n  canResume() {\n    return super.canResume() && A(this.i3slayer.effectiveScaleRange, this.view.terrainScale) && (!this._controller || this._controller.rootNodeVisible);\n  }\n  async fetchPopupFeaturesFromGraphics(e, r) {\n    const t = this._validateFetchPopupFeatures(r);\n    if (t) throw t;\n    if (0 === e.length) return [];\n    const s = [],\n      n = [],\n      o = null != this.sublayer.associatedLayer ? await this.sublayer.associatedLayer.load(r) : this.sublayer,\n      u = c(this.sublayer.fieldsIndex, await V(o, U(this.sublayer, r)));\n    l(r);\n    const d = new Set();\n    for (const i of e) f(u, i, d) ? n.push(i) : s.push(i);\n    return 0 === n.length ? s : (null != this.sublayer.associatedLayer && (await this.sublayer.associatedLayer.load().catch(() => i.getLogger(this).warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))), this.whenGraphicAttributes(n, Array.from(d)).catch(e => (a(e), n)).then(e => s.concat(e)));\n  }\n  async _updateRequiredFields() {\n    const e = y(this.sublayer.fieldsIndex, [...(this.sublayer.renderer ? await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex) : []), ...this.definitionExpressionFields, ...this.filterExpressionFields]);\n    this._set(\"requiredFields\", e);\n  }\n  _validateFetchPopupFeatures(e) {\n    const {\n        sublayer: r\n      } = this,\n      {\n        popupEnabled: i\n      } = r;\n    return i ? U(r, e) ? void 0 : new t(\"buildingscenelayerview3d:fetchPopupFeatures\", \"Layer does not define a popup template\", {\n      sublayer: r\n    }) : new t(\"buildingscenelayerview3d:fetchPopupFeatures\", \"Popups are disabled\", {\n      sublayer: r\n    });\n  }\n  getFilters() {\n    const e = super.getFilters();\n    return this.addSqlFilter(e, this.parsedDefinitionExpression, this.logError), this._i3sFilter?.addFilters(e, this.view, this._controller.crsIndex, this._collection), e;\n  }\n  createQuery() {\n    const e = {\n      outFields: [\"*\"],\n      returnGeometry: !1,\n      outSpatialReference: this.view.spatialReference\n    };\n    return null != this.filter ? this.filter.createQuery(e) : new g(e);\n  }\n  queryExtent(e, r) {\n    return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e), r?.signal);\n  }\n  queryFeatureCount(e, r) {\n    return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e), r?.signal);\n  }\n  queryFeatures(e, r) {\n    return this._ensureQueryEngine().executeQuery(this._ensureQuery(e), r?.signal).then(e => {\n      if (!e?.features) return e;\n      const r = this.sublayer,\n        t = r.layer;\n      for (const i of e.features) i.layer = t, i.sourceLayer = r;\n      return e;\n    });\n  }\n  queryObjectIds(e, r) {\n    return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e), r?.signal);\n  }\n  _ensureQueryEngine() {\n    return null == this._queryEngine && (this._queryEngine = this._createQueryEngine()), this._queryEngine;\n  }\n  _createQueryEngine() {\n    const e = E(this.view.spatialReference, this.view.renderSpatialReference, this._collection);\n    return new S({\n      layerView: this,\n      priority: C.FEATURE_QUERY_ENGINE,\n      spatialIndex: new j({\n        featureAdapter: new x({\n          objectIdField: this.sublayer.objectIdField,\n          attributeStorageInfo: this.sublayer.attributeStorageInfo,\n          getFeatureExtent: e\n        }),\n        forAllFeatures: (e, r) => this._forAllFeatures((r, t, i) => e({\n          id: r,\n          index: t,\n          meta: i\n        }), r, b.QUERYABLE),\n        getFeatureExtent: e,\n        sourceSpatialReference: I(this.sublayer),\n        viewSpatialReference: this.view.spatialReference\n      })\n    });\n  }\n  _ensureQuery(e) {\n    return this._addDefinitionExpressionToQuery(null == e ? this.createQuery() : g.from(e));\n  }\n};\ne([u()], H.prototype, \"i3slayer\", null), e([u()], H.prototype, \"layerView\", void 0), e([u()], H.prototype, \"lodFactor\", null), e([u({\n  readOnly: !0\n})], H.prototype, \"parsedFilterExpressions\", null), e([u({\n  type: h\n})], H.prototype, \"filter\", null), e([u()], H.prototype, \"_i3sFilter\", void 0), e([u({\n  type: [String],\n  readOnly: !0\n})], H.prototype, \"filterExpressionFields\", null), e([u({\n  type: [String],\n  readOnly: !0\n})], H.prototype, \"requiredFields\", void 0), e([u({\n  type: [String],\n  readOnly: !0\n})], H.prototype, \"availableFields\", null), H = e([d(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")], H);\nconst O = H;\nexport { O as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport \"../../core/accessorSupport/interfaces.js\";\nimport \"../../core/accessorSupport/tracking/Flags.js\";\nimport \"../../core/Warning.js\";\nimport \"../../core/Error.js\";\nimport e from \"./LayerView.js\";\nclass s extends e {\n  constructor(r) {\n    super(r), this.layer = null, this.sublayerViews = null;\n  }\n  highlight(r) {\n    throw new Error(\"Not implemented\");\n  }\n}\nr([o()], s.prototype, \"layer\", void 0), r([o()], s.prototype, \"sublayerViews\", void 0);\nexport { s as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../Graphic.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { groupToMap as s } from \"../../../core/arrayUtils.js\";\nimport i from \"../../../core/Collection.js\";\nimport { handlesGroup as o } from \"../../../core/handleUtils.js\";\nimport n from \"../../../core/Logger.js\";\nimport { abortMaybe as l } from \"../../../core/maybe.js\";\nimport { isAbortError as a, allSettledValues as u, throwIfAborted as p, createResolver as h } from \"../../../core/promiseUtils.js\";\nimport { watch as c, syncAndInitial as y } from \"../../../core/reactiveUtils.js\";\nimport { property as d } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport { subclass as g } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport \"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";\nimport f from \"./BuildingComponentSublayerView3D.js\";\nimport { BuildingSublayerView3DMixin as m } from \"./BuildingSublayerView3D.js\";\nimport { LayerView3D as b } from \"./LayerView3D.js\";\nimport { parseFilterMode as w } from \"./i3s/BuildingFilterUtil.js\";\nimport { checkSpatialReference as V } from \"./i3s/I3SUtil.js\";\nimport { updatingProgress as j } from \"../support/updatingProperties.js\";\nimport C from \"../../layers/BuildingSceneLayerView.js\";\nimport { isInEffectiveScaleRange as S } from \"../../support/layerViewUtils.js\";\nconst _ = m(t);\nlet v = class extends b(C) {\n  constructor(e) {\n    super(e), this.type = \"building-scene-3d\", this.sublayerViews = new i(), this._abortController = new AbortController(), this._loadingComponents = 0, this._pendingWhenSublayerViews = new Map(), this.ignoresMemoryFactor = !1;\n  }\n  get filterExpression() {\n    const e = this.layer.activeFilterId,\n      r = null != e ? this.layer.filters.find(r => r.id === e) : null,\n      t = null != r ? r.filterBlocks?.find(e => \"solid\" === e.filterMode.type) : null;\n    return t ? t.filterExpression : null;\n  }\n  get filterExpressions() {\n    const e = this.layer.activeFilterId,\n      r = null != e ? this.layer.filters.find(r => r.id === e) : null;\n    return r?.filterBlocks ? r.filterBlocks.toArray().map(e => [e.filterExpression ?? \"\", w(e)]) : [];\n  }\n  get updatingProgressValue() {\n    const e = this.sublayerViews,\n      r = this._loadingComponents + (e ? e.length : 0);\n    return e.reduce((e, r) => e + r.updatingProgress, 0) / r;\n  }\n  get visibleAtCurrentScale() {\n    return S(this.layer.effectiveScaleRange, this.view.terrainScale);\n  }\n  isUpdating() {\n    return this._loadingComponents > 0 || this.sublayerViews && this.sublayerViews.some(e => e.updating);\n  }\n  initialize() {\n    V(this.layer.spatialReference, this.view.spatialReference, this.view.viewingMode), this._initializeSubLayerViews(this.layer.sublayers, this);\n  }\n  destroy() {\n    this.sublayerViews && (this.sublayerViews.forEach(e => e.destroy()), this.sublayerViews = null), this._abortController = l(this._abortController);\n  }\n  _initializeSubLayerViews(e, r) {\n    const t = this,\n      s = this.view;\n    e.forEach(e => {\n      if (!e.isEmpty) if (\"building-group\" === e.type) {\n        const t = new _({\n          sublayer: e,\n          view: s,\n          parent: r\n        });\n        this._initializeSubLayerViews(e.sublayers, t);\n      } else \"mesh\" === e.geometryType && (this._loadingComponents++, e.load({\n        signal: this._abortController.signal\n      }).then(() => {\n        const i = new f({\n          sublayer: e,\n          layerView: t,\n          view: s,\n          parent: r\n        });\n        this.sublayerViews.push(i);\n        const o = this._pendingWhenSublayerViews.get(e);\n        if (o) {\n          for (const e of o) e.resolve(i);\n          this._pendingWhenSublayerViews.delete(e);\n        }\n        this.addHandles([c(() => i.updating, () => this.notifyChange(\"updating\"), y), c(() => i.updatingProgress, () => this.notifyChange(\"updatingProgressValue\"), y)]);\n      }).catch(r => {\n        a(r) || n.getLogger(this).error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`, r);\n      }).then(() => {\n        this._loadingComponents--, this.notifyChange(\"updating\"), this.notifyChange(\"updatingProgressValue\");\n      }));\n    });\n  }\n  getGraphicFromIntersectorTarget(e) {\n    for (const r of this.sublayerViews.items) if (r.sublayer.uid === e.sublayerUid) return r.getGraphicFromIntersectorTarget(e);\n    return null;\n  }\n  async fetchPopupFeaturesFromGraphics(e, r) {\n    if (0 === e.length) return [];\n    const t = s(e, e => e.sourceLayer),\n      i = [];\n    for (const [s, n] of t) {\n      const e = this._findComponent(s);\n      null != e && i.push(e.fetchPopupFeaturesFromGraphics(n, r));\n    }\n    const o = await u(i);\n    return p(r), o.flat();\n  }\n  whenGraphicBounds(e) {\n    const r = this._findComponent(e.sourceLayer);\n    return null == r ? Promise.reject() : r.whenGraphicBounds(e);\n  }\n  getAABBFromIntersectorTarget(e) {\n    for (const r of this.sublayerViews.items) if (r.sublayer.uid === e.sublayerUid) return r.getAABBFromIntersectorTarget(e);\n    return null;\n  }\n  async whenSublayerView(e) {\n    const r = this._findComponent(e);\n    if (null != r) return r;\n    const t = this._pendingWhenSublayerViews.get(e),\n      s = h();\n    return t ? t.push(s) : this._pendingWhenSublayerViews.set(e, [s]), s.promise;\n  }\n  _findComponent(e) {\n    return this.sublayerViews.find(r => e === r.sublayer);\n  }\n  highlight(e) {\n    e instanceof r ? e = [e] : e instanceof i && (e = e.toArray());\n    const t = [];\n    if (Array.isArray(e) && e.length > 0 && e[0] instanceof r) {\n      const r = e,\n        s = new Map();\n      for (const e of r) {\n        let r = s.get(e.sourceLayer);\n        null == r && (r = [], s.set(e.sourceLayer, r)), r.push(e);\n      }\n      this.sublayerViews.forEach(e => {\n        const r = s.get(e.sublayer);\n        r && t.push(e.highlight(r));\n      });\n    }\n    return o(t);\n  }\n  get usedMemory() {\n    return this.sublayerViews.reduce((e, r) => e + r.usedMemory, 0);\n  }\n  get unloadedMemory() {\n    return this.sublayerViews.reduce((e, r) => e + r.unloadedMemory, 0);\n  }\n};\ne([d()], v.prototype, \"sublayerViews\", void 0), e([d({\n  readOnly: !0\n})], v.prototype, \"filterExpression\", null), e([d({\n  readOnly: !0\n})], v.prototype, \"filterExpressions\", null), e([d(j)], v.prototype, \"updatingProgress\", void 0), e([d({\n  readOnly: !0,\n  dependsOn: []\n})], v.prototype, \"updatingProgressValue\", null), e([d({\n  readOnly: !0\n})], v.prototype, \"visibleAtCurrentScale\", null), v = e([g(\"esri.views.3d.layers.BuildingSceneLayerView3D\")], v);\nconst B = v;\nexport { B as default };"],
  "mappings": "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",
  "names": ["p", "l", "n", "s", "o", "e", "a", "a", "e", "l", "t", "c", "n", "d", "s", "o", "o", "e", "u", "t", "p", "o", "e", "P", "a", "s", "l", "L", "c", "i", "I", "d", "n", "b", "r", "O", "s", "y", "e", "p", "s", "e", "r", "t", "i", "O", "o", "n", "d", "a"]
}
