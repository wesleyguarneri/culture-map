{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/Graphic.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"./chunks/tslib.es6.js\";\nimport { geometryTypes as e } from \"./geometry.js\";\nimport r from \"./PopupTemplate.js\";\nimport { symbolTypes as s } from \"./symbols.js\";\nimport { ClonableMixin as i } from \"./core/Clonable.js\";\nimport { deprecatedConstructorSignature as o } from \"./core/deprecate.js\";\nimport { isSerializable as a, JSONSupport as l } from \"./core/JSONSupport.js\";\nimport n from \"./core/Logger.js\";\nimport { when as p } from \"./core/reactiveUtils.js\";\nimport { generateUID as h } from \"./core/uid.js\";\nimport { property as u } from \"./core/accessorSupport/decorators/property.js\";\nimport \"./core/has.js\";\nimport \"./core/RandomLCG.js\";\nimport { subclass as m } from \"./core/accessorSupport/decorators/subclass.js\";\nimport { fromJSON as g } from \"./geometry/support/jsonUtils.js\";\nvar y;\nfunction c(t) {\n  if (!t) return null;\n  const e = {};\n  for (const r in t) {\n    const s = g(t[r]);\n    s && (e[r] = s);\n  }\n  return 0 !== Object.keys(e).length ? e : null;\n}\nfunction f(t) {\n  if (null == t) return null;\n  const e = {};\n  for (const r in t) {\n    const s = t[r];\n    s && (e[r] = s.toJSON());\n  }\n  return 0 !== Object.keys(e).length ? e : null;\n}\nlet b = y = class extends i(l) {\n  constructor(t) {\n    super(t), this.isAggregate = !1, this.layer = null, this.origin = null, this.popupTemplate = null, this.sourceLayer = null, Object.defineProperty(this, \"uid\", {\n      value: h(),\n      configurable: !0\n    }), Object.defineProperty(this, \"_lastMeshTransform\", {\n      value: {},\n      configurable: !0,\n      writable: !0,\n      enumerable: !1\n    }), arguments.length > 1 && o(n.getLogger(this), \"Graphic\", {\n      version: \"4.30\"\n    });\n  }\n  initialize() {\n    this._watchMeshGeometryChanges();\n  }\n  set aggregateGeometries(t) {\n    const e = this._get(\"aggregateGeometries\");\n    JSON.stringify(e) !== JSON.stringify(t) && this._set(\"aggregateGeometries\", t);\n  }\n  set attributes(t) {\n    const e = this._get(\"attributes\");\n    e !== t && (this._set(\"attributes\", t), this._notifyLayer(\"attributes\", e, t));\n  }\n  set geometry(t) {\n    const e = this._get(\"geometry\");\n    e !== t && (this._set(\"geometry\", t), \"mesh\" !== t?.type && this._notifyLayer(\"geometry\", e, t));\n  }\n  set symbol(t) {\n    const e = this._get(\"symbol\");\n    e !== t && (this._set(\"symbol\", t), this._notifyLayer(\"symbol\", e, t));\n  }\n  set visible(t) {\n    const e = this._get(\"visible\");\n    e !== t && (this._set(\"visible\", t), this._notifyLayer(\"visible\", e, t));\n  }\n  cloneShallow() {\n    return new y({\n      aggregateGeometries: this.aggregateGeometries,\n      attributes: this.attributes,\n      geometry: this.geometry,\n      isAggregate: this.isAggregate,\n      layer: this.layer,\n      popupTemplate: this.popupTemplate,\n      sourceLayer: this.sourceLayer,\n      symbol: this.symbol,\n      visible: this.visible,\n      origin: this.origin\n    });\n  }\n  getEffectivePopupTemplate(t = !1) {\n    if (this.popupTemplate) return this.popupTemplate;\n    const e = this.origin && \"layer\" in this.origin ? this.origin.layer : null;\n    for (const r of [e, this.sourceLayer, this.layer]) if (r) {\n      if (\"popupTemplate\" in r && r.popupTemplate) return r.popupTemplate;\n      if (t && \"defaultPopupTemplate\" in r && null != r.defaultPopupTemplate) return r.defaultPopupTemplate;\n    }\n    return null;\n  }\n  getAttribute(t) {\n    return this.attributes?.[t];\n  }\n  setAttribute(t, e) {\n    if (this.attributes) {\n      const r = this.getAttribute(t);\n      this.attributes[t] = e, this._notifyLayer(\"attributes\", r, e, t);\n    } else this.attributes = {\n      [t]: e\n    }, this._notifyLayer(\"attributes\", void 0, e, t);\n  }\n  getObjectId() {\n    return this.sourceLayer && \"objectIdField\" in this.sourceLayer && this.sourceLayer.objectIdField ? this.getAttribute(this.sourceLayer.objectIdField) : null;\n  }\n  toJSON() {\n    return {\n      aggregateGeometries: f(this.aggregateGeometries),\n      geometry: null != this.geometry ? this.geometry.toJSON() : null,\n      symbol: null != this.symbol ? this.symbol.toJSON() : null,\n      attributes: a(this.attributes) ? this.attributes.toJSON() : {\n        ...this.attributes\n      },\n      popupTemplate: this.popupTemplate?.toJSON() ?? null\n    };\n  }\n  notifyMeshTransformChanged(t = {}) {\n    const {\n      geometry: e\n    } = this;\n    if (\"mesh\" === e?.type) {\n      const r = {\n        origin: e.origin,\n        transform: e.transform\n      };\n      this._notifyLayer(\"origin-transform\", r, r, t.action);\n    }\n  }\n  _notifyLayer(t, e, r, s) {\n    if (!this.layer || !(\"graphicChanged\" in this.layer)) return;\n    const i = {\n      graphic: this,\n      property: t,\n      oldValue: e,\n      newValue: r\n    };\n    \"origin-transform\" === t && (i.action = s), \"attributes\" === t && (i.attributeName = s), this.layer.graphicChanged(i);\n  }\n  _watchMeshGeometryChanges() {\n    this.addHandles([p(() => \"mesh\" === this.geometry?.type && this.geometry.vertexSpace.origin ? {\n      localMatrix: this.geometry.transform?.localMatrix,\n      origin: this.geometry.vertexSpace.origin\n    } : void 0, ({\n      localMatrix: t,\n      origin: e\n    }) => {\n      this._lastMeshTransform.localMatrix === t && this._lastMeshTransform.origin === e || (this._lastMeshTransform.localMatrix = t, this._lastMeshTransform.origin = e, this.notifyMeshTransformChanged());\n    }), p(() => \"mesh\" === this.geometry?.type ? {\n      vertexAttributes: this.geometry.vertexAttributes\n    } : void 0, () => {\n      const t = this.geometry;\n      \"mesh\" === t?.type && t.vertexSpace.origin ? (this._lastMeshTransform.localMatrix = t.transform?.localMatrix, this._lastMeshTransform.origin = t.vertexSpace.origin) : (this._lastMeshTransform.localMatrix = void 0, this._lastMeshTransform.origin = void 0), this._notifyLayer(\"geometry\", this.geometry, this.geometry);\n    }, {\n      equals: (t, e) => t === e,\n      sync: !0\n    })]);\n  }\n};\nt([u({\n  value: null,\n  json: {\n    read: c\n  }\n})], b.prototype, \"aggregateGeometries\", null), t([u({\n  value: null\n})], b.prototype, \"attributes\", null), t([u({\n  value: null,\n  types: e,\n  json: {\n    read: g\n  }\n})], b.prototype, \"geometry\", null), t([u({\n  type: Boolean\n})], b.prototype, \"isAggregate\", void 0), t([u({\n  clonable: \"reference\"\n})], b.prototype, \"layer\", void 0), t([u({\n  clonable: \"reference\"\n})], b.prototype, \"origin\", void 0), t([u({\n  type: r\n})], b.prototype, \"popupTemplate\", void 0), t([u({\n  clonable: \"reference\"\n})], b.prototype, \"sourceLayer\", void 0), t([u({\n  value: null,\n  types: s\n})], b.prototype, \"symbol\", null), t([u({\n  type: Boolean,\n  value: !0\n})], b.prototype, \"visible\", null), b = y = t([m(\"esri.Graphic\")], b), function (t) {\n  t.generateUID = h;\n}(b || (b = {}));\nconst d = b;\nexport { d as default };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA,IAAIA;AACJ,SAAS,EAAE,GAAG;AACZ,MAAI,CAAC,EAAG,QAAO;AACf,QAAMC,KAAI,CAAC;AACX,aAAW,KAAK,GAAG;AACjB,UAAM,IAAID,GAAE,EAAE,CAAC,CAAC;AAChB,UAAMC,GAAE,CAAC,IAAI;AAAA,EACf;AACA,SAAO,MAAM,OAAO,KAAKA,EAAC,EAAE,SAASA,KAAI;AAC3C;AACA,SAASC,GAAE,GAAG;AACZ,MAAI,QAAQ,EAAG,QAAO;AACtB,QAAMD,KAAI,CAAC;AACX,aAAW,KAAK,GAAG;AACjB,UAAM,IAAI,EAAE,CAAC;AACb,UAAMA,GAAE,CAAC,IAAI,EAAE,OAAO;AAAA,EACxB;AACA,SAAO,MAAM,OAAO,KAAKA,EAAC,EAAE,SAASA,KAAI;AAC3C;AACA,IAAI,IAAID,KAAI,cAAc,EAAE,CAAC,EAAE;AAAA,EAC7B,YAAY,GAAG;AACb,UAAM,CAAC,GAAG,KAAK,cAAc,OAAI,KAAK,QAAQ,MAAM,KAAK,SAAS,MAAM,KAAK,gBAAgB,MAAM,KAAK,cAAc,MAAM,OAAO,eAAe,MAAM,OAAO;AAAA,MAC7J,OAAO,EAAE;AAAA,MACT,cAAc;AAAA,IAChB,CAAC,GAAG,OAAO,eAAe,MAAM,sBAAsB;AAAA,MACpD,OAAO,CAAC;AAAA,MACR,cAAc;AAAA,MACd,UAAU;AAAA,MACV,YAAY;AAAA,IACd,CAAC,GAAG,UAAU,SAAS,KAAK,EAAE,EAAE,UAAU,IAAI,GAAG,WAAW;AAAA,MAC1D,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EACA,aAAa;AACX,SAAK,0BAA0B;AAAA,EACjC;AAAA,EACA,IAAI,oBAAoB,GAAG;AACzB,UAAMC,KAAI,KAAK,KAAK,qBAAqB;AACzC,SAAK,UAAUA,EAAC,MAAM,KAAK,UAAU,CAAC,KAAK,KAAK,KAAK,uBAAuB,CAAC;AAAA,EAC/E;AAAA,EACA,IAAI,WAAW,GAAG;AAChB,UAAMA,KAAI,KAAK,KAAK,YAAY;AAChC,IAAAA,OAAM,MAAM,KAAK,KAAK,cAAc,CAAC,GAAG,KAAK,aAAa,cAAcA,IAAG,CAAC;AAAA,EAC9E;AAAA,EACA,IAAI,SAAS,GAAG;AACd,UAAMA,KAAI,KAAK,KAAK,UAAU;AAC9B,IAAAA,OAAM,MAAM,KAAK,KAAK,YAAY,CAAC,GAAG,WAAW,GAAG,QAAQ,KAAK,aAAa,YAAYA,IAAG,CAAC;AAAA,EAChG;AAAA,EACA,IAAI,OAAO,GAAG;AACZ,UAAMA,KAAI,KAAK,KAAK,QAAQ;AAC5B,IAAAA,OAAM,MAAM,KAAK,KAAK,UAAU,CAAC,GAAG,KAAK,aAAa,UAAUA,IAAG,CAAC;AAAA,EACtE;AAAA,EACA,IAAI,QAAQ,GAAG;AACb,UAAMA,KAAI,KAAK,KAAK,SAAS;AAC7B,IAAAA,OAAM,MAAM,KAAK,KAAK,WAAW,CAAC,GAAG,KAAK,aAAa,WAAWA,IAAG,CAAC;AAAA,EACxE;AAAA,EACA,eAAe;AACb,WAAO,IAAID,GAAE;AAAA,MACX,qBAAqB,KAAK;AAAA,MAC1B,YAAY,KAAK;AAAA,MACjB,UAAU,KAAK;AAAA,MACf,aAAa,KAAK;AAAA,MAClB,OAAO,KAAK;AAAA,MACZ,eAAe,KAAK;AAAA,MACpB,aAAa,KAAK;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,SAAS,KAAK;AAAA,MACd,QAAQ,KAAK;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EACA,0BAA0B,IAAI,OAAI;AAChC,QAAI,KAAK,cAAe,QAAO,KAAK;AACpC,UAAMC,KAAI,KAAK,UAAU,WAAW,KAAK,SAAS,KAAK,OAAO,QAAQ;AACtE,eAAW,KAAK,CAACA,IAAG,KAAK,aAAa,KAAK,KAAK,EAAG,KAAI,GAAG;AACxD,UAAI,mBAAmB,KAAK,EAAE,cAAe,QAAO,EAAE;AACtD,UAAI,KAAK,0BAA0B,KAAK,QAAQ,EAAE,qBAAsB,QAAO,EAAE;AAAA,IACnF;AACA,WAAO;AAAA,EACT;AAAA,EACA,aAAa,GAAG;AACd,WAAO,KAAK,aAAa,CAAC;AAAA,EAC5B;AAAA,EACA,aAAa,GAAGA,IAAG;AACjB,QAAI,KAAK,YAAY;AACnB,YAAM,IAAI,KAAK,aAAa,CAAC;AAC7B,WAAK,WAAW,CAAC,IAAIA,IAAG,KAAK,aAAa,cAAc,GAAGA,IAAG,CAAC;AAAA,IACjE,MAAO,MAAK,aAAa;AAAA,MACvB,CAAC,CAAC,GAAGA;AAAA,IACP,GAAG,KAAK,aAAa,cAAc,QAAQA,IAAG,CAAC;AAAA,EACjD;AAAA,EACA,cAAc;AACZ,WAAO,KAAK,eAAe,mBAAmB,KAAK,eAAe,KAAK,YAAY,gBAAgB,KAAK,aAAa,KAAK,YAAY,aAAa,IAAI;AAAA,EACzJ;AAAA,EACA,SAAS;AACP,WAAO;AAAA,MACL,qBAAqBC,GAAE,KAAK,mBAAmB;AAAA,MAC/C,UAAU,QAAQ,KAAK,WAAW,KAAK,SAAS,OAAO,IAAI;AAAA,MAC3D,QAAQ,QAAQ,KAAK,SAAS,KAAK,OAAO,OAAO,IAAI;AAAA,MACrD,YAAYC,GAAE,KAAK,UAAU,IAAI,KAAK,WAAW,OAAO,IAAI,mBACvD,KAAK;AAAA,MAEV,eAAe,KAAK,eAAe,OAAO,KAAK;AAAA,IACjD;AAAA,EACF;AAAA,EACA,2BAA2B,IAAI,CAAC,GAAG;AACjC,UAAM;AAAA,MACJ,UAAUF;AAAA,IACZ,IAAI;AACJ,QAAI,WAAWA,IAAG,MAAM;AACtB,YAAM,IAAI;AAAA,QACR,QAAQA,GAAE;AAAA,QACV,WAAWA,GAAE;AAAA,MACf;AACA,WAAK,aAAa,oBAAoB,GAAG,GAAG,EAAE,MAAM;AAAA,IACtD;AAAA,EACF;AAAA,EACA,aAAa,GAAGA,IAAG,GAAG,GAAG;AACvB,QAAI,CAAC,KAAK,SAAS,EAAE,oBAAoB,KAAK,OAAQ;AACtD,UAAMG,KAAI;AAAA,MACR,SAAS;AAAA,MACT,UAAU;AAAA,MACV,UAAUH;AAAA,MACV,UAAU;AAAA,IACZ;AACA,2BAAuB,MAAMG,GAAE,SAAS,IAAI,iBAAiB,MAAMA,GAAE,gBAAgB,IAAI,KAAK,MAAM,eAAeA,EAAC;AAAA,EACtH;AAAA,EACA,4BAA4B;AAC1B,SAAK,WAAW,CAAC,EAAE,MAAM,WAAW,KAAK,UAAU,QAAQ,KAAK,SAAS,YAAY,SAAS;AAAA,MAC5F,aAAa,KAAK,SAAS,WAAW;AAAA,MACtC,QAAQ,KAAK,SAAS,YAAY;AAAA,IACpC,IAAI,QAAQ,CAAC;AAAA,MACX,aAAa;AAAA,MACb,QAAQH;AAAA,IACV,MAAM;AACJ,WAAK,mBAAmB,gBAAgB,KAAK,KAAK,mBAAmB,WAAWA,OAAM,KAAK,mBAAmB,cAAc,GAAG,KAAK,mBAAmB,SAASA,IAAG,KAAK,2BAA2B;AAAA,IACrM,CAAC,GAAG,EAAE,MAAM,WAAW,KAAK,UAAU,OAAO;AAAA,MAC3C,kBAAkB,KAAK,SAAS;AAAA,IAClC,IAAI,QAAQ,MAAM;AAChB,YAAM,IAAI,KAAK;AACf,iBAAW,GAAG,QAAQ,EAAE,YAAY,UAAU,KAAK,mBAAmB,cAAc,EAAE,WAAW,aAAa,KAAK,mBAAmB,SAAS,EAAE,YAAY,WAAW,KAAK,mBAAmB,cAAc,QAAQ,KAAK,mBAAmB,SAAS,SAAS,KAAK,aAAa,YAAY,KAAK,UAAU,KAAK,QAAQ;AAAA,IAC5T,GAAG;AAAA,MACD,QAAQ,CAAC,GAAGA,OAAM,MAAMA;AAAA,MACxB,MAAM;AAAA,IACR,CAAC,CAAC,CAAC;AAAA,EACL;AACF;AACAA,GAAE,CAAC,EAAE;AAAA,EACH,OAAO;AAAA,EACP,MAAM;AAAA,IACJ,MAAM;AAAA,EACR;AACF,CAAC,CAAC,GAAG,EAAE,WAAW,uBAAuB,IAAI,GAAGA,GAAE,CAAC,EAAE;AAAA,EACnD,OAAO;AACT,CAAC,CAAC,GAAG,EAAE,WAAW,cAAc,IAAI,GAAGA,GAAE,CAAC,EAAE;AAAA,EAC1C,OAAO;AAAA,EACP,OAAOI;AAAA,EACP,MAAM;AAAA,IACJ,MAAML;AAAA,EACR;AACF,CAAC,CAAC,GAAG,EAAE,WAAW,YAAY,IAAI,GAAGC,GAAE,CAAC,EAAE;AAAA,EACxC,MAAM;AACR,CAAC,CAAC,GAAG,EAAE,WAAW,eAAe,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EAC7C,UAAU;AACZ,CAAC,CAAC,GAAG,EAAE,WAAW,SAAS,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EACvC,UAAU;AACZ,CAAC,CAAC,GAAG,EAAE,WAAW,UAAU,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EACxC,MAAM;AACR,CAAC,CAAC,GAAG,EAAE,WAAW,iBAAiB,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EAC/C,UAAU;AACZ,CAAC,CAAC,GAAG,EAAE,WAAW,eAAe,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EAC7C,OAAO;AAAA,EACP,OAAO;AACT,CAAC,CAAC,GAAG,EAAE,WAAW,UAAU,IAAI,GAAGA,GAAE,CAAC,EAAE;AAAA,EACtC,MAAM;AAAA,EACN,OAAO;AACT,CAAC,CAAC,GAAG,EAAE,WAAW,WAAW,IAAI,GAAG,IAAID,KAAIC,GAAE,CAAC,EAAE,cAAc,CAAC,GAAG,CAAC,GAAG,SAAU,GAAG;AAClF,IAAE,cAAc;AAClB,EAAE,MAAM,IAAI,CAAC,EAAE;AACf,IAAM,IAAI;",
  "names": ["y", "e", "f", "a", "i", "n"]
}
