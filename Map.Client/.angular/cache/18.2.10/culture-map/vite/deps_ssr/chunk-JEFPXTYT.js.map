{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/effects/jsonUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport { setDeepValue as t } from \"../../core/object.js\";\nimport { parse as r } from \"./parser.js\";\nimport { isEffectFunctions as s } from \"./utils.js\";\nfunction n(e, t, r) {\n  try {\n    return c(e);\n  } catch (s) {\n    r?.messages?.push(s);\n  }\n  return null;\n}\nfunction a(e, r, s, n) {\n  try {\n    const n = o(e);\n    t(s, n, r);\n  } catch (a) {\n    n.messages && n.messages.push(a);\n  }\n}\nfunction o(e) {\n  const t = r(e);\n  return t ? s(t) ? t.map(e => e.toJSON()) : t.map(({\n    scale: e,\n    effects: t\n  }) => ({\n    scale: e,\n    value: t.map(e => e.toJSON())\n  })) : null;\n}\nfunction c(e) {\n  if (!e || 0 === e.length) return null;\n  if (f(e)) {\n    const t = [];\n    for (const r of e) t.push({\n      scale: r.scale,\n      value: i(r.value)\n    });\n    return t;\n  }\n  return i(e);\n}\nfunction f(e) {\n  const t = e[0];\n  return !!t && \"scale\" in t;\n}\nfunction i(e) {\n  if (!e?.length) return \"\";\n  const t = [];\n  for (const s of e) {\n    let e = [];\n    switch (s.type) {\n      case \"grayscale\":\n      case \"sepia\":\n      case \"saturate\":\n      case \"invert\":\n      case \"brightness\":\n      case \"contrast\":\n      case \"opacity\":\n        e = [u(s, \"amount\")];\n        break;\n      case \"blur\":\n        e = [u(s, \"radius\", \"pt\")];\n        break;\n      case \"hue-rotate\":\n        e = [u(s, \"angle\", \"deg\")];\n        break;\n      case \"drop-shadow\":\n        e = [u(s, \"xoffset\", \"pt\"), u(s, \"yoffset\", \"pt\"), u(s, \"blurRadius\", \"pt\"), l(s, \"color\")];\n        break;\n      case \"bloom\":\n        e = [u(s, \"strength\"), u(s, \"radius\", \"pt\"), u(s, \"threshold\")];\n    }\n    const n = `${s.type}(${e.filter(Boolean).join(\" \")})`;\n    r(n), t.push(n);\n  }\n  return t.join(\" \");\n}\nfunction u(t, r, s) {\n  if (null == t[r]) throw new e(\"effect:missing-parameter\", `Missing parameter '${r}' in ${t.type} effect`, {\n    effect: t\n  });\n  return s ? t[r] + s : \"\" + t[r];\n}\nfunction l(t, r) {\n  if (null == t[r]) throw new e(\"effect:missing-parameter\", `Missing parameter '${r}' in ${t.type} effect`, {\n    effect: t\n  });\n  const s = t[r];\n  return `rgba(${s[0] || 0}, ${s[1] || 0}, ${s[2] || 0}, ${s[3] / 255 || 0})`;\n}\nexport { i as effectFunctionsFromJSON, c as fromJSON, n as read, o as toJSON, a as write };"],
  "mappings": "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",
  "names": ["e", "s", "n", "a", "t", "l"]
}
