{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesViewPerformanceInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/lyr3dTypeConversions.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/Tiles3DIntersectionHandler.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { LayerViewPerformanceInfo as e } from \"./support/LayerViewPerformanceInfo.js\";\nclass t extends e {\n  constructor(e, t, s, r, o, h, c) {\n    super(e, 0, 0, 0, t), this.nodesCached = s, this.vboMB = r, this.textureMB = o, this.vboMBCached = h, this.textureMBCached = c;\n  }\n}\nexport { t as IntegratedMesh3DTilesViewPerformanceInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Lyr3DPrimitiveType as e, Lyr3DAlphaMode as t, Lyr3DFaceCullingMode as n, Lyr3DUvWrapMode as E, Lyr3DType as r } from \"../../../../layers/ILyr3DWasmPerSceneView.js\";\nimport { AlphaDiscardMode as s, CullFaceOptions as o } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { PrimitiveType as i, TextureWrapMode as a } from \"../../../webgl/enums.js\";\nconst l = {\n    [e.Points]: null,\n    [e.Lines]: null,\n    [e.LineStrip]: null,\n    [e.Triangles]: i.TRIANGLES,\n    [e.TriangleStrip]: i.TRIANGLE_STRIP,\n    [e.NotSet]: null\n  },\n  T = {\n    [t.Opaque]: s.Opaque,\n    [t.Mask]: s.Mask,\n    [t.Blend]: s.Blend\n  },\n  P = {\n    [n.Back]: o.Back,\n    [n.Front]: o.Front,\n    [n.None]: o.None,\n    [n.NotSet]: o.Back\n  },\n  _ = {\n    [E.WrapYBit]: {\n      s: a.CLAMP_TO_EDGE,\n      t: a.REPEAT\n    },\n    [E.WrapXBit]: {\n      s: a.REPEAT,\n      t: a.CLAMP_TO_EDGE\n    },\n    [E.WrapXy]: {\n      s: a.REPEAT,\n      t: a.REPEAT\n    },\n    [E.None]: {\n      s: a.CLAMP_TO_EDGE,\n      t: a.CLAMP_TO_EDGE\n    },\n    [E.NotSet]: {\n      s: a.CLAMP_TO_EDGE,\n      t: a.CLAMP_TO_EDGE\n    }\n  },\n  A = {\n    [r.U8]: 1,\n    [r.I8]: 1,\n    [r.U16]: 2,\n    [r.I16]: 2,\n    [r.U32]: 4,\n    [r.I32]: 4,\n    [r.F32]: 4,\n    [r.F64]: 8,\n    [r.Utf8String]: 1,\n    [r.NotSet]: 1\n  };\nexport { T as alphaModeConversion, P as faceCullingConversion, A as lyr3DTypeToByteSize, l as primTypeConversion, _ as wrapModeConversion };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Graphic.js\";\nimport { Tiles3DTarget as i } from \"../i3s/Intersector.js\";\nimport { newIntersectorResult as t } from \"../../webgl-engine/lib/Intersector.js\";\nimport { IntersectorType as r, StoreResults as s } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { MeshIntersectionOptions as n } from \"../../webgl-engine/lib/RayIntersections.js\";\nclass l {\n  constructor(e) {\n    this.layerUid = [], this.type = r.TILES3D, this.slicePlaneEnabled = !1, this.isGround = !0, this.layerView = e, this.layerUid.push(e.layer.uid);\n  }\n  intersect(e, r, l, o, a, c) {\n    const u = e.results,\n      d = e.options.store === s.ALL;\n    if (e.options.filteredLayerUids.includes(this.layerView.layer.uid)) return;\n    const h = this.layerView.view._stage.renderView.componentObjectCollection,\n      y = new n(c ?? !1, e.options.normalRequired);\n    this.layerView.objects.forEach(s => {\n      s.visible && s.intersectionGeometry && h.intersect(s, l, o, e.tolerance, null, y, (s, n, a, c) => {\n        if (n >= 0) {\n          if (null != r && !r(l, o, n)) return;\n          const s = e => {\n            const t = new i(this.layerView.layer.uid, () => this._createTiles3DGraphic(this.layerView.layer, {}));\n            e.set(this.type, t, n, a);\n          };\n          if (this.isGround && (null == u.ground.dist || n < u.ground.dist) && s(u.ground), e.options.isFiltered) return;\n          if ((null == u.min.dist || n < u.min.dist) && s(u.min), (null == u.max.dist || n > u.max.dist) && s(u.max), d) {\n            const i = t(e.ray);\n            s(i), e.results.all.push(i);\n          }\n        }\n      });\n    });\n  }\n  _createTiles3DGraphic(i, t) {\n    return new e({\n      layer: i,\n      sourceLayer: i,\n      attributes: t\n    });\n  }\n}\nexport { l as Tiles3DIntersectionHandler };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Error.js\";\nimport has from \"../../../core/has.js\";\nimport r from \"../../../core/Logger.js\";\nimport { destroyMaybe as i } from \"../../../core/maybe.js\";\nimport { watch as s, initial as o } from \"../../../core/reactiveUtils.js\";\nimport { schedule as n } from \"../../../core/scheduling.js\";\nimport { property as a } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as l } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { fromMat4 as c, invert as m } from \"../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { IDENTITY as d, create as h } from \"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";\nimport { translate as u, getTranslation as p } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as f } from \"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { fromValues as g } from \"../../../core/libs/gl-matrix-2/factories/quatf64.js\";\nimport { g as b, t as y } from \"../../../chunks/vec32.js\";\nimport { fromArray as w, create as v } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { fromValues as _ } from \"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { SphericalECEFSpatialReferenceLike as x } from \"../../../geometry/ellipsoidUtils.js\";\nimport { computeTranslationToOriginAndRotation as j } from \"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";\nimport { localLinearScaleFactors as C } from \"../../../geometry/projection/localLinearScaleFactors.js\";\nimport { projectVectorToVector as T } from \"../../../geometry/projection/projectVectorToVector.js\";\nimport { BufferViewVec4f as M, BufferViewVec4u8 as P, BufferViewVec4u16 as O, BufferViewVec3f as U, BufferViewVec3u8 as E, BufferViewVec3u16 as V, BufferViewVec2f as I, BufferViewInt16 as H, BufferViewUint32 as R, BufferViewUint16 as A } from \"../../../geometry/support/buffer/BufferView.js\";\nimport { invalidLayerView as F, wasmFailedToInit as S, Lyr3DPrimitiveType as L, Lyr3DLightingModel as D, Lyr3DUvWrapMode as k, Lyr3DImageFormat as B, Lyr3DPixelFormat as G, Lyr3DVtxAtrbSemantic as N, Lyr3DType as z } from \"../../../layers/ILyr3DWasmPerSceneView.js\";\nimport { getElevationOffsetInMeters as W } from \"../../../support/elevationInfoUtils.js\";\nimport { ViewingMode as $ } from \"../../ViewingMode.js\";\nimport { IntegratedMesh3DTilesViewPerformanceInfo as J } from \"./IntegratedMesh3DTilesViewPerformanceInfo.js\";\nimport { DrapeTargetType as q } from \"./interfaces.js\";\nimport { LayerView3D as K } from \"./LayerView3D.js\";\nimport { addLayerViewToWasm as Q, removeLayerViewFromWasm as X, getLyr3DWasm as Y } from \"./Lyr3DWasm.js\";\nimport { LayerElevationProvider as Z } from \"./i3s/LayerElevationProvider.js\";\nimport { primTypeConversion as ee, alphaModeConversion as te, faceCullingConversion as re, wrapModeConversion as ie, lyr3DTypeToByteSize as se } from \"./support/lyr3dTypeConversions.js\";\nimport { Tiles3DIntersectionHandler as oe } from \"./support/Tiles3DIntersectionHandler.js\";\nimport { ElevationRange as ne } from \"../support/ElevationRange.js\";\nimport { Obb as ae, compute as le } from \"../support/orientedBoundingBox.js\";\nimport { ObjectParameters as ce } from \"../webgl-engine/collections/Component/ObjectParameters.js\";\nimport { createVertexBufferLayout as me } from \"../webgl-engine/collections/Component/SourceGeometry.js\";\nimport { Transform as de } from \"../webgl-engine/collections/Component/Transform.js\";\nimport { ComponentParameterSummary as he } from \"../webgl-engine/collections/Component/Material/ComponentMaterial.js\";\nimport { RenderTexture as ue } from \"../webgl-engine/core/material/RenderTexture.js\";\nimport { TextureCoordinateAttributeType as pe } from \"../webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";\nimport { getEllipsoidMode as fe } from \"../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";\nimport { Attribute as ge } from \"../webgl-engine/lib/Attribute.js\";\nimport { CullFaceOptions as be, AlphaDiscardMode as ye, TextureEncodingMimeType as we } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { compressAndTransformNormals as ve } from \"../webgl-engine/lib/Normals.js\";\nimport { Texture as _e } from \"../webgl-engine/lib/Texture.js\";\nimport { VertexAttribute as xe } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { writeDefaultAttribute as je } from \"../webgl-engine/materials/internal/bufferWriterUtils.js\";\nimport Ce from \"../../layers/LayerView.js\";\nimport { isInEffectiveScaleRange as Te } from \"../../support/layerViewUtils.js\";\nvar Me;\n!function (e) {\n  e[e.API = 1] = \"API\", e[e.VerboseAPI = 2] = \"VerboseAPI\", e[e.Error = 3] = \"Error\";\n}(Me || (Me = {}));\nclass Pe {\n  constructor() {\n    this.handle = 0, this.isVisible = !1, this.components = [], this.texMemoryUsage = 0, this.vboMemoryUsage = 0, this.cpuMemoryUsage = 0, this.textures = [];\n  }\n  totalMemory() {\n    return this.texMemoryUsage + this.vboMemoryUsage + this.cpuMemoryUsage;\n  }\n}\nfunction Oe(e) {\n  return Math.round(e / 1048.576) / 1e3;\n}\nlet Ue = class extends K(Ce) {\n  constructor() {\n    super(...arguments), this.type = \"integrated-mesh-3dtiles\", this._visibleGeometryChangedSchedulerHandle = null, this._wasmLayerId = -1, this.ignoresMemoryFactor = !1, this.drapeTargetType = q.WithoutRasterImage, this._lyrHandleToObjects = new Map(), this._initialCullFace = new Map(), this._suspendedHandle = null, this._dbgFlags = new Set();\n  }\n  initialize() {\n    if (this._dbgFlags.add(Me.Error), this._dbg(Me.VerboseAPI, \"Tiles3DLayerView3D initialize() called\"), !this._canProjectWithoutEngine()) throw new t(\"layerview:spatial-reference-incompatible\", \"The spatial reference of this scene layer is incompatible with the spatial reference of the view\", {});\n    const e = Q(this).then(e => {\n      this._intersectionHandler = new oe(this), this.view.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler), this._updatingHandles.add(() => this.slicePlaneEnabled, e => this._slicePlaneEnabledChange(e)), this._elevationProvider = new Z({\n        view: this.view,\n        layerElevationSource: this,\n        intersectionHandler: this._intersectionHandler\n      }), this.view.elevationProvider.register(\"im\", this._elevationProvider), this.view.basemapTerrain.overlayManager.registerDrapeTarget(this), this._wasmLayerId = e;\n      const t = this.view.resourceController.memoryController.newCache(`t3d-${this.uid}`, e => this._onRemoveFromCache(e));\n      this._memCache = t, this.addHandles([s(() => this.layer.elevationInfo, e => this._elevationInfoChanged(e))]), this._suspendedHandle = s(() => this.suspended, e => {\n        const t = Y(this.view);\n        t && t.setEnabled(this, !e);\n      }, o);\n    }).catch(e => {\n      if (X(this), this._wasmLayerId = -1, e === F) throw new t(\"tiles3d:addLayer-failure\", \"The 3d tiles layer description was invalid.\", {});\n      if (e === S) throw new t(\"tiles3d:addLayer-failure\", \"The 3d tiles layer web assembly module failed to download.\", {});\n    });\n    this.addResolvingPromise(e);\n  }\n  destroy() {\n    this._dbg(Me.VerboseAPI, \"Tiles3DLayerView3D destroy() called\"), X(this), this._suspendedHandle && (this._suspendedHandle.remove(), this._suspendedHandle = null), this._intersectionHandler && (this.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler), this._intersectionHandler = null), this._elevationProvider && (this._elevationProvider.objectsChanged(this._obbs), this.view.elevationProvider.unregister(this._elevationProvider), this._elevationProvider = null), this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this), this._lyrHandleToObjects.forEach(e => this.freeObject(e)), this._lyrHandleToObjects.clear(), this._initialCullFace.clear(), this._memCache = i(this._memCache), this._updatingHandles = i(this._updatingHandles), this.emit(\"visible-geometry-changed\"), this._visibleGeometryChangedSchedulerHandle && (this._visibleGeometryChangedSchedulerHandle.remove(), this._visibleGeometryChangedSchedulerHandle = null);\n  }\n  _visibleGeometryChanged() {\n    null == this._visibleGeometryChangedSchedulerHandle && (this._visibleGeometryChangedSchedulerHandle = n(() => {\n      this.emit(\"visible-geometry-changed\"), this._visibleGeometryChangedSchedulerHandle = null;\n    }));\n  }\n  _slicePlaneEnabledChange(e) {\n    this._intersectionHandler && (this._intersectionHandler.slicePlaneEnabled = e), this.objects.forEach(t => {\n      const r = this._collection.getMaterial(t);\n      r.commonMaterialParameters.hasSlicePlane = e, r.commonMaterialParameters.cullFace = e ? be.None : this._initialCullFace.get(t);\n    });\n  }\n  _elevationInfoChanged(e) {\n    const t = Y(this.view);\n    t && t.setLayerOffset(this, W(e));\n  }\n  get _obbs() {\n    return this.objects.map(e => this._collection.getComponentObb(e));\n  }\n  get wasmLayerId() {\n    return this._wasmLayerId;\n  }\n  get usedMemory() {\n    let e = 0;\n    return this._lyrHandleToObjects.forEach(t => {\n      t.isVisible && (e += t.totalMemory());\n    }), e;\n  }\n  get unloadedMemory() {\n    let e = 0;\n    return this._lyrHandleToObjects.forEach(t => {\n      t.isVisible || (e += t.totalMemory());\n    }), e;\n  }\n  get visibleAtCurrentScale() {\n    return Te(this.layer.effectiveScaleRange, this.view.terrainScale);\n  }\n  get performanceInfo() {\n    let e = 0,\n      t = 0,\n      r = 0,\n      i = 0,\n      s = 0,\n      o = 0;\n    return this._lyrHandleToObjects.forEach(n => {\n      n.isVisible ? (e += n.texMemoryUsage, t += n.vboMemoryUsage, s++) : (r += n.texMemoryUsage, i += n.vboMemoryUsage, o++);\n    }), new J(this.usedMemory, s, o, Oe(t), Oe(e), Oe(i), Oe(r));\n  }\n  _canProjectWithoutEngine() {\n    if (this.view.state.viewingMode === $.Local) {\n      const e = this.view.renderSpatialReference?.isWebMercator ? 3857 : this.view.renderSpatialReference?.wkid ?? -1;\n      if (3857 !== e && 32662 !== e) return !1;\n    }\n    return !0;\n  }\n  get _stage() {\n    return this.view._stage;\n  }\n  get _collection() {\n    return this._stage.renderView.componentObjectCollection;\n  }\n  get elevationOffset() {\n    return W(this.layer.elevationInfo);\n  }\n  get elevationRange() {\n    const e = this.fullExtent;\n    return e?.zmin && e?.zmax ? new ne(e.zmin, e.zmax) : null;\n  }\n  getElevationRange(e) {\n    return null;\n  }\n  get fullExtent() {\n    return this.layer.fullExtent;\n  }\n  get objects() {\n    return Array.from(this._lyrHandleToObjects.values()).reduce((e, t) => e.concat(t.components), new Array());\n  }\n  isUpdating() {\n    const e = Y(this.view);\n    return !(this._wasmLayerId < 0 || null == e) && e.isUpdating(this._wasmLayerId);\n  }\n  updatingFlagChanged() {\n    this.notifyChange(\"updating\");\n  }\n  async createRenderable(e) {\n    const t = e.meshData;\n    if (null == t.data) throw new Error(\"meshData.data undefined\");\n    if (t.desc = JSON.parse(t.desc), null == t.desc) throw new Error(\"meshData.desc undefined\");\n    const r = w(t.desc.origin),\n      i = new Array(),\n      s = new Map(),\n      o = new Pe();\n    o.handle = e.handle, this._lyrHandleToObjects.set(e.handle, o);\n    const n = this.view.basemapTerrain.spatialReference;\n    let a, l;\n    if (\"global\" === this.view.viewingMode) {\n      const e = f();\n      j(x, r, e, n), a = c(h(), e), l = m(h(), a);\n    } else a = d, l = d;\n    const M = f();\n    u(M, M, r);\n    const P = p(v(), M);\n    let O = null;\n    const U = v();\n    if (t.desc.obb) {\n      const e = t.desc.obb.quaternion;\n      O = new ae(t.desc.obb.center, t.desc.obb.halfSize, g(e[0], e[1], e[2], e[3]));\n    }\n    for (let c = 0; c < t.desc.prims.length; c++) {\n      const e = t.desc.prims[c];\n      if (this._dbg(Me.VerboseAPI, JSON.stringify(e)), e.ptype === L.Lines) continue;\n      if (null == ee[e.ptype] || null == t.data) {\n        this._dbg(Me.VerboseAPI, \"[Unsupported Feature] Unsupported primitive mode (\" + e.ptype + \"). Skipping primitive.\");\n        continue;\n      }\n      const m = t.desc?.materials && null != e.materialId ? t.desc.materials[e.materialId] : null,\n        h = null != m ? m.lightingModel : D.Unlit,\n        u = !has(\"disable-feature:im-shading\"),\n        {\n          positionView: p,\n          positionAttr: f,\n          normalsView: g,\n          normalsAttr: w,\n          colorAttr: x,\n          texCoord0Attr: j,\n          indicesView: M\n        } = this.getBufferViews(e, t.data.buffer, a, u);\n      if (null == f || null == p || null == M) continue;\n      const E = {\n          colors: null != x,\n          textureCoordinates: null != j ? pe.Default : pe.None,\n          hasNormals: null != g,\n          needsNormals: u\n        },\n        V = f.data.length / f.size,\n        I = (e, t) => !e || e.data.length / e.size === V || (this._dbg(Me.Error, `${t} !== numPos. Skipping primitive.`), !1);\n      if (!I(j, \"numTexcoord\") || !I(x, \"numColors\") || !I(w, \"normals\")) continue;\n      const H = me(E);\n      if (null != O ? O = O.clone() : (O = le(f), b(U, O.center, r), O.center = U), a !== d) for (let t = 0; t < p.count; t++) p.getVec(t, U), y(U, U, a), p.setVec(t, U);\n      const R = H.createBuffer(f.data.length),\n        A = new Map([[xe.POSITION, f]]);\n      null != j && A.set(xe.UV0, j), null != x && A.set(xe.COLOR, x), null != w && A.set(xe.NORMALCOMPRESSED, w), A.forEach((e, t) => {\n        null != e && je(t, e, null, null, R, 0);\n      });\n      const F = new Uint32Array([0, M.typedBuffer.length]),\n        S = {\n          vertices: {\n            data: R.buffer,\n            count: R.byteLength / H.stride,\n            layoutParameters: E\n          },\n          positionData: {\n            positions: p.typedBuffer,\n            indices: M.typedBuffer\n          },\n          indices: M.typedBuffer,\n          componentOffsets: F\n        };\n      o.cpuMemoryUsage += p.count, o.cpuMemoryUsage += M.count;\n      const k = this.view.renderSpatialReference,\n        B = v(),\n        G = [1, 1, 1];\n      C(P, k, G, n) || this._dbg(Me.Error, \"Unsupported coordinate system for IM overlay\"), T(P, k, B, n);\n      const N = this._collection.createObject(new ce(_(B[0], B[1], G[0], G[1]), new de(P, l), O, S));\n      m && this._collection.updateMaterial(N, e => {\n        e.baseColor = m.baseColorFactor, e.usePBR = h === D.Pbr, e.hasParametersFromSource = !1, e.baseColorTexture = this._getTexture(m.baseColorTex, t, s), e.usePBR && (e.mrrFactors = [m.metallicFactor, m.roughnessFactor, 0], e.emissiveFactor = m.emissiveFactor ?? [0, 0, 0], e.metallicRoughnessTexture = this._getTexture(m.metalTex, t, s), e.emissionTexture = this._getTexture(m.emissiveTex, t, s), e.occlusionTexture = this._getTexture(m.occlusionTex, t, s), e.normalTexture = this._getTexture(m.normalTex, t, s)), e.objectOpacity = 0, e.alphaDiscardMode = ye.Mask;\n        const r = [];\n        e.baseColorTexture && r.push(e.baseColorTexture.loadPromise), e.usePBR && e.metallicRoughnessTexture && r.push(e.metallicRoughnessTexture.loadPromise), e.usePBR && e.emissionTexture && r.push(e.emissionTexture.loadPromise), e.usePBR && e.occlusionTexture && r.push(e.occlusionTexture.loadPromise), e.usePBR && e.normalTexture && r.push(e.normalTexture.loadPromise);\n        const n = Promise.all(r);\n        i.push(n), n.then(() => {\n          e.alphaDiscardMode = te[m.alphaMode], e.objectOpacity = 1, o.texMemoryUsage += e.baseColorTexture?.glTexture?.usedMemory || 0, e.usePBR && (o.texMemoryUsage += e.metallicRoughnessTexture?.glTexture?.usedMemory || 0, o.texMemoryUsage += e.emissionTexture?.glTexture?.usedMemory || 0, o.texMemoryUsage += e.occlusionTexture?.glTexture?.usedMemory || 0, o.texMemoryUsage += e.normalTexture?.glTexture?.usedMemory || 0);\n        }), e.commonMaterialParameters.doubleSided = m.isDoubleSided, e.commonMaterialParameters.cullFace = m.faceCulling ? re[m.faceCulling] : be.Back, this._initialCullFace.set(N, e.commonMaterialParameters.cullFace), e.commonMaterialParameters.hasSlicePlane = this.slicePlaneEnabled, e.componentParameters.castShadows = he.All, e.textureAlphaCutoff = m.alphaCutoff ?? .1, e.alphaDiscardMode = te[m.alphaMode], e.isIntegratedMesh = !0, e.polygonOffsetEnabled = !1, e.hasOccludees = !1, e.ellipsoidMode = fe(this.view.spatialReference);\n      }), o.components.push(N), o.vboMemoryUsage += this._collection.getObjectGPUMemoryUsage(N);\n    }\n    if (await Promise.all(i), s.forEach(e => {\n      o.textures.push(e);\n    }), !this._memCache) throw new Error(\"no memCache\");\n    return this._memCache.put(`${o.handle}`, o, o.totalMemory()), {\n      memUsageBytes: o.totalMemory()\n    };\n  }\n  freeRenderable(e) {\n    const t = this._lyrHandleToObjects.get(e);\n    t && (this.freeObject(t), this._lyrHandleToObjects.delete(e));\n  }\n  freeObject(e) {\n    this._memCache && this._memCache.pop(`${e.handle}`), e.components.forEach(t => {\n      e.textures.forEach(e => {\n        this._stage.remove(e);\n      }), this._collection.destroyObject(t), this._initialCullFace.delete(t);\n    });\n  }\n  setRenderableVisibility(e, t, r) {\n    if (this._memCache) {\n      for (let i = 0; i < r; ++i) {\n        const r = e[i],\n          s = t[i];\n        if (!s) continue;\n        const o = this._lyrHandleToObjects.get(r);\n        o && (this._visibleGeometryChanged(), o.isVisible = s, o.components.forEach(e => {\n          this._collection.setObjectVisibility(e, s), this._elevationProvider.objectChanged(this._collection.getComponentObb(e));\n        }), this._memCache.pop(`${r}`));\n      }\n      for (let i = 0; i < r; ++i) {\n        const r = e[i],\n          s = t[i];\n        if (s) continue;\n        const o = this._lyrHandleToObjects.get(r);\n        o && (this._visibleGeometryChanged(), o.isVisible = s, o.components.forEach(e => {\n          this._collection.setObjectVisibility(e, s), this._elevationProvider.objectChanged(this._collection.getComponentObb(e));\n        }), this._memCache.put(`${r}`, o, o.totalMemory()));\n      }\n    }\n  }\n  _getTexture(e, t, r) {\n    let i = null;\n    if (e && t.desc?.images && t.data?.buffer) {\n      const s = t.desc.images[e?.imageId];\n      if (i = r.get(s), !i && s) {\n        const o = this._stage.renderView.renderingContext.parameters.maxMaxAnisotropy,\n          n = o > 1,\n          a = ie[e.wrapMode ?? k.None];\n        let l = s.alpha ? 4 : 3;\n        const c = new Uint8Array(t.data.buffer, s.data.byteOffset, s.data.byteCount);\n        let m = null,\n          d = null,\n          h = null;\n        switch (s.format) {\n          case B.Raw:\n            s.pixelFormat === G.R8 ? (m = c.buffer, l = 1, d = \"\") : s.pixelFormat === G.Rgb8 ? (m = c.buffer, l = 3, d = \"\") : s.pixelFormat === G.Rgba8 && (m = c.buffer, l = 4, d = \"\");\n            break;\n          case B.Dxt1:\n            m = c.buffer, l = 3, d = we.DDS_ENCODING;\n            break;\n          case B.Dxt5:\n            m = c.buffer, l = 4, d = we.DDS_ENCODING;\n            break;\n          case B.Png:\n            d = \"image/png\", h = document.createElement(\"img\");\n            break;\n          case B.Jpeg:\n            d = \"image/jpeg\", h = document.createElement(\"img\");\n            break;\n          case B.Etc2:\n            d = \"image/ktx\", h = document.createElement(\"img\");\n            break;\n          case B.Astc:\n            this._dbg(Me.Error, \"Astc texture not supported\");\n            break;\n          case B.Pvrtc:\n            this._dbg(Me.Error, \"Pvrtc texture not supported\");\n        }\n        if (h && d) {\n          const e = new Blob([c], {\n            type: d\n          });\n          h.src = URL.createObjectURL(e), m = h;\n        }\n        m && null != d && (i = new _e(m, {\n          mipmap: n,\n          maxAnisotropy: o,\n          encoding: d,\n          wrap: a,\n          components: l,\n          noUnpackFlip: !0,\n          width: s.mip0Width,\n          height: s.mip0Height\n        }), this._stage.add(i), r.set(s, i));\n      }\n    }\n    return i ? new ue(this.view._stage.renderView.textures, i.id) : null;\n  }\n  getBufferViews(e, t, r, i) {\n    let s,\n      o,\n      n,\n      a,\n      l,\n      c,\n      m,\n      d = null;\n    for (let u = 0; u < e.atrbs.length; u++) {\n      const m = e.atrbs[u],\n        p = m.view,\n        f = void 0,\n        g = p.byteOffset + p.byteCount,\n        b = p.byteCount / se[p.type],\n        y = [...Array(b).keys()].map(e => e);\n      try {\n        switch (m.sem) {\n          case N.Position:\n            3 !== p.ncomp || p.type !== z.F32 ? this._dbg(Me.Error, \"[Unsupported Feature] Unsupported view for Position (\" + p + \")\") : (s = new U(t, p.byteOffset, f, g), o = new ge(s.typedBuffer, y, 3));\n            break;\n          case N.Normal:\n            if (3 !== p.ncomp || p.type !== z.F32) this._dbg(Me.Error, \"[Unsupported Feature] Unsupported view for Normal (\" + p + \")\");else if (i) {\n              const e = new U(t, p.byteOffset, f, g),\n                i = ve(e.typedBuffer, r);\n              l = new H(i), c = new ge(l.typedBuffer, y, 2);\n            }\n            break;\n          case N.TexCoord:\n            2 !== p.ncomp || p.type !== z.F32 ? this._dbg(Me.Error, \"[Unsupported Feature] Unsupported view for Texcoord (\" + p + \")\") : void 0 === a && (a = new ge(new I(t, p.byteOffset, f, g).typedBuffer, y, 2));\n            break;\n          case N.Color:\n            4 === p.ncomp ? (p.type === z.F32 && (d = new M(t, p.byteOffset, f, g)), p.type === z.U8 && (d = new P(t, p.byteOffset, f, g)), p.type === z.U16 && (d = new O(t, p.byteOffset, f, g))) : 3 === p.ncomp && (p.type === z.F32 && (d = new U(t, p.byteOffset, f, g)), p.type === z.U8 && (d = new E(t, p.byteOffset, f, g)), p.type === z.U16 && (d = new V(t, p.byteOffset, f, g))), null == d ? this._dbg(Me.VerboseAPI, \"[Unsupported Feature] Unsupported view for Color (\" + p + \")\") : n = new ge(d.typedBuffer, y, p.ncomp);\n            break;\n          case N.FeatureIndex:\n            break;\n          default:\n            this._dbg(Me.VerboseAPI, \"[Unsupported Feature] Unsupported semantic (\" + m.sem + \"). Skipping vertex attribute.\");\n        }\n      } catch (h) {\n        this._dbg(Me.VerboseAPI, \"Error Creating buffer (\" + h + \"). Skipping vertex attribute.\");\n      }\n    }\n    if (e.index) {\n      const r = e.index.view,\n        i = void 0,\n        s = r.byteOffset + r.byteCount;\n      switch (e.index.view.type) {\n        case z.U16:\n          m = new A(t, r.byteOffset, i, s);\n          break;\n        case z.U32:\n          m = new R(t, r.byteOffset, i, s);\n          break;\n        case z.U8:\n        default:\n          this._dbg(Me.Error, \"[Unsupported Feature] index type not supported (\" + r.type + \").\");\n      }\n    }\n    if (null == m && null != s) {\n      const e = s.count;\n      if (e < 65535) {\n        const t = new Uint16Array(e);\n        m = new A(t);\n      } else {\n        const t = new Uint32Array(e);\n        m = new R(t);\n      }\n      for (let t = 0; t < e; t++) m.set(t, t);\n    }\n    return {\n      positionView: s,\n      positionAttr: o,\n      colorAttr: n,\n      texCoord0Attr: a,\n      indicesView: m,\n      normalsView: l,\n      normalsAttr: c\n    };\n  }\n  _onRemoveFromCache(e) {\n    const t = Y(this.view);\n    t && t.onRenderableEvicted(this, e.handle, e.totalMemory()), this.freeRenderable(e.handle);\n  }\n  _dbg(e, t) {\n    this._dbgFlags.has(e) && (e === Me.Error ? r.getLogger(this).error(t) : r.getLogger(this).warn(t));\n  }\n};\ne([a()], Ue.prototype, \"_visibleGeometryChangedSchedulerHandle\", void 0), e([a()], Ue.prototype, \"layer\", void 0), e([a({\n  readOnly: !0\n})], Ue.prototype, \"visibleAtCurrentScale\", null), e([a()], Ue.prototype, \"elevationOffset\", null), Ue = e([l(\"esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D\")], Ue);\nconst Ee = Ue;\nexport { Ee as default };"],
  "mappings": "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",
  "names": ["t", "e", "s", "r", "o", "c", "l", "r", "E", "T", "a", "s", "P", "S", "e", "A", "l", "e", "i", "r", "o", "a", "c", "u", "d", "y", "m", "s", "n", "t", "e", "l", "y", "t", "i", "x", "a", "d", "r", "c", "s", "o", "n", "u", "P", "O", "I", "m", "g", "f", "M", "E", "R", "A", "S", "k", "B", "G", "N", "T"]
}
