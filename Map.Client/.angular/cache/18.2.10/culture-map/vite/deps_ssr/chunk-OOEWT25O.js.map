{
  "version": 3,
  "sources": ["../../../../../../node_modules/@esri/calcite-components/dist/components/observers.js"],
  "sourcesContent": ["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { i as isBrowser } from './browser.js';\n\n/**\n * This utility ensures observers are created only for browser contexts.\n *\n * @param type - the type of observer to create\n * @param callback - the observer callback\n * @param options - the observer options\n */\nfunction createObserver(type, callback, options) {\n  if (!isBrowser()) {\n    return undefined;\n  }\n  const Observer = getObserver(type);\n  return new Observer(callback, options);\n}\nfunction getObserver(type) {\n  // based on https://github.com/whatwg/dom/issues/126#issuecomment-1049814948\n  class ExtendedMutationObserver extends window.MutationObserver {\n    constructor(callback) {\n      super(callback);\n      this.observedEntry = [];\n      this.callback = callback;\n    }\n    observe(target, options) {\n      this.observedEntry.push({\n        target,\n        options\n      });\n      return super.observe(target, options);\n    }\n    unobserve(target) {\n      const newObservedEntries = this.observedEntry.filter(observed => observed.target !== target);\n      this.observedEntry = [];\n      this.callback(super.takeRecords(), this);\n      this.disconnect();\n      newObservedEntries.forEach(observed => this.observe(observed.target, observed.options));\n    }\n  }\n  return function () {\n    return type === \"intersection\" ? window.IntersectionObserver : type === \"mutation\" ? ExtendedMutationObserver : window.ResizeObserver;\n  }();\n}\nexport { createObserver as c };\n\n"],
  "mappings": ";;;;;;AAcA,SAAS,eAAe,MAAM,UAAU,SAAS;AAC/C,MAAI,CAAC,UAAU,GAAG;AAChB,WAAO;AAAA,EACT;AACA,QAAM,WAAW,YAAY,IAAI;AACjC,SAAO,IAAI,SAAS,UAAU,OAAO;AACvC;AACA,SAAS,YAAY,MAAM;AAAA,EAEzB,MAAM,iCAAiC,OAAO,iBAAiB;AAAA,IAC7D,YAAY,UAAU;AACpB,YAAM,QAAQ;AACd,WAAK,gBAAgB,CAAC;AACtB,WAAK,WAAW;AAAA,IAClB;AAAA,IACA,QAAQ,QAAQ,SAAS;AACvB,WAAK,cAAc,KAAK;AAAA,QACtB;AAAA,QACA;AAAA,MACF,CAAC;AACD,aAAO,MAAM,QAAQ,QAAQ,OAAO;AAAA,IACtC;AAAA,IACA,UAAU,QAAQ;AAChB,YAAM,qBAAqB,KAAK,cAAc,OAAO,cAAY,SAAS,WAAW,MAAM;AAC3F,WAAK,gBAAgB,CAAC;AACtB,WAAK,SAAS,MAAM,YAAY,GAAG,IAAI;AACvC,WAAK,WAAW;AAChB,yBAAmB,QAAQ,cAAY,KAAK,QAAQ,SAAS,QAAQ,SAAS,OAAO,CAAC;AAAA,IACxF;AAAA,EACF;AACA,SAAO,WAAY;AACjB,WAAO,SAAS,iBAAiB,OAAO,uBAAuB,SAAS,aAAa,2BAA2B,OAAO;AAAA,EACzH,EAAE;AACJ;",
  "names": []
}
