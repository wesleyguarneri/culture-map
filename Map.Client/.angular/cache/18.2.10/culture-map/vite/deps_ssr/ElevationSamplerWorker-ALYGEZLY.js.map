{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/ElevationSamplerWorker.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from \"../../../core/has.js\";\nimport { PooledRBush as e } from \"../../../core/libs/rbush/PooledRBush.js\";\nimport t from \"../MeshGeoreferencedVertexSpace.js\";\nimport { convertVertexSpace as n } from \"./vertexSpaceConversion.js\";\nclass r {\n  async createIndex(t, n) {\n    const r = new Array();\n    if (!t.vertexAttributes?.position) return new e();\n    const o = a(t),\n      s = null != n ? await n.invoke(\"createIndexThread\", o, {\n        transferList: r\n      }) : this.createIndexThread(o).result;\n    return i().fromJSON(s);\n  }\n  createIndexThread(e) {\n    const t = i();\n    if (!e) return {\n      result: t.toJSON()\n    };\n    const n = new Float64Array(e.position);\n    return e.components ? s(t, n, e.components.map(e => new Uint32Array(e))) : o(t, n);\n  }\n}\nfunction o(e, t) {\n  const n = new Array(t.length / 9);\n  let r = 0;\n  for (let o = 0; o < t.length; o += 9) n[r++] = c(t, o, o + 3, o + 6);\n  return e.load(n), {\n    result: e.toJSON()\n  };\n}\nfunction s(e, t, n) {\n  let r = 0;\n  for (const a of n) r += a.length / 3;\n  const o = new Array(r);\n  let s = 0;\n  for (const a of n) for (let e = 0; e < a.length; e += 3) o[s++] = c(t, 3 * a[e], 3 * a[e + 1], 3 * a[e + 2]);\n  return e.load(o), {\n    result: e.toJSON()\n  };\n}\nfunction a(e) {\n  const {\n      vertexAttributes: {\n        position: r\n      },\n      vertexSpace: o,\n      spatialReference: s,\n      transform: a\n    } = e,\n    i = n({\n      vertexAttributes: {\n        position: r\n      },\n      vertexSpace: o,\n      spatialReference: s,\n      transform: a\n    }, new t(), {\n      allowBufferReuse: !0\n    })?.position;\n  return i ? !e.components || e.components.some(e => !e.faces) ? {\n    position: i.buffer\n  } : {\n    position: i.buffer,\n    components: e.components.map(e => e.faces)\n  } : null;\n}\nfunction i() {\n  return new e(9, has(\"esri-csp-restrictions\") ? e => e : [\".minX\", \".minY\", \".maxX\", \".maxY\"]);\n}\nfunction c(e, t, n, r) {\n  return {\n    minX: Math.min(e[t], e[n], e[r]),\n    maxX: Math.max(e[t], e[n], e[r]),\n    minY: Math.min(e[t + 1], e[n + 1], e[r + 1]),\n    maxY: Math.max(e[t + 1], e[n + 1], e[r + 1]),\n    p0: [e[t], e[t + 1], e[t + 2]],\n    p1: [e[n], e[n + 1], e[n + 2]],\n    p2: [e[r], e[r + 1], e[r + 2]]\n  };\n}\nexport { r as default };"],
  "mappings": "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",
  "names": ["r", "o", "s", "i", "e", "a"]
}
