{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/save/mediaLayerUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { save as e, saveAs as r } from \"./utils.js\";\nimport { createForItemWrite as t } from \"../../portal/support/jsonContext.js\";\nimport { getWGS84ExtentForItem as a, removeTypeKeyword as s, typeKeyword as o } from \"../../portal/support/portalItemUtils.js\";\nimport { saveResources as n } from \"../../webdoc/support/resourceUtils.js\";\nconst i = \"Media Layer\",\n  u = \"media-layer-save\",\n  p = \"media-layer-save-as\",\n  l = [\"media-layer:unsupported-source\"];\nfunction m(e) {\n  return {\n    isValid: \"media\" === e.type,\n    errorMessage: \"Layer.type should be 'media'\"\n  };\n}\nfunction c(e) {\n  return t(e, \"portal-item\", !0);\n}\nfunction y(e) {\n  return e.layerJSON;\n}\nasync function f(e, r) {\n  r.extent = e.fullExtent ? await a(e.fullExtent) : null;\n}\nasync function d(e, r) {\n  r.title ||= e.title, await f(e, r), s(r, o.METADATA);\n}\nasync function x(r, t) {\n  return e({\n    layer: r,\n    itemType: i,\n    validateLayer: m,\n    createJSONContext: e => c(e),\n    createItemData: y,\n    errorNamePrefix: u,\n    supplementalUnsupportedErrors: l,\n    setItemProperties: f,\n    saveResources: (e, t) => n(r.resourceReferences, t)\n  }, t);\n}\nasync function v(e, t, a) {\n  return r({\n    layer: e,\n    itemType: i,\n    validateLayer: m,\n    createJSONContext: e => c(e),\n    createItemData: y,\n    errorNamePrefix: p,\n    supplementalUnsupportedErrors: l,\n    newItem: t,\n    setItemProperties: d,\n    saveResources: (r, t) => n(e.resourceReferences, t)\n  }, a);\n}\nexport { x as save, v as saveAs };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,IAAM,IAAI;AAAV,IACE,IAAI;AADN,IAEEA,KAAI;AAFN,IAGEC,KAAI,CAAC,gCAAgC;AACvC,SAAS,EAAE,GAAG;AACZ,SAAO;AAAA,IACL,SAAS,YAAY,EAAE;AAAA,IACvB,cAAc;AAAA,EAChB;AACF;AACA,SAAS,EAAE,GAAG;AACZ,SAAO,EAAE,GAAG,eAAe,IAAE;AAC/B;AACA,SAAS,EAAE,GAAG;AACZ,SAAO,EAAE;AACX;AACA,SAAeC,GAAE,GAAG,GAAG;AAAA;AACrB,MAAE,SAAS,EAAE,aAAa,MAAM,EAAE,EAAE,UAAU,IAAI;AAAA,EACpD;AAAA;AACA,SAAe,EAAE,GAAG,GAAG;AAAA;AACrB,MAAE,UAAU,EAAE,OAAO,MAAMA,GAAE,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,QAAQ;AAAA,EACrD;AAAA;AACA,SAAe,EAAE,GAAG,GAAG;AAAA;AACrB,WAAO,EAAE;AAAA,MACP,OAAO;AAAA,MACP,UAAU;AAAA,MACV,eAAe;AAAA,MACf,mBAAmB,OAAK,EAAE,CAAC;AAAA,MAC3B,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,MACjB,+BAA+BD;AAAA,MAC/B,mBAAmBC;AAAA,MACnB,eAAe,CAAC,GAAGC,OAAM,EAAE,EAAE,oBAAoBA,EAAC;AAAA,IACpD,GAAG,CAAC;AAAA,EACN;AAAA;AACA,SAAe,EAAE,GAAG,GAAGC,IAAG;AAAA;AACxB,WAAO,EAAE;AAAA,MACP,OAAO;AAAA,MACP,UAAU;AAAA,MACV,eAAe;AAAA,MACf,mBAAmB,CAAAC,OAAK,EAAEA,EAAC;AAAA,MAC3B,gBAAgB;AAAA,MAChB,iBAAiBL;AAAA,MACjB,+BAA+BC;AAAA,MAC/B,SAAS;AAAA,MACT,mBAAmB;AAAA,MACnB,eAAe,CAAC,GAAGE,OAAM,EAAE,EAAE,oBAAoBA,EAAC;AAAA,IACpD,GAAGC,EAAC;AAAA,EACN;AAAA;",
  "names": ["p", "l", "f", "t", "a", "e"]
}
