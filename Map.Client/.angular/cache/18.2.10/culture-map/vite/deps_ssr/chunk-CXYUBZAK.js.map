{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/layers/LayerView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Accessor.js\";\nimport r from \"../../core/Evented.js\";\nimport { IdentifiableMixin as i } from \"../../core/Identifiable.js\";\nimport s from \"../../core/Logger.js\";\nimport { destroyMaybe as n } from \"../../core/maybe.js\";\nimport { EsriPromiseMixin as l } from \"../../core/Promise.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as p } from \"../../core/support/UpdatingHandles.js\";\nimport { validateScaleRange as d } from \"../support/layerViewUtils.js\";\nlet u = class extends i(l(r.EventedMixin(t))) {\n  constructor(e) {\n    super(e), this._updatingHandles = new p(), this.layer = null, this.parent = null;\n  }\n  initialize() {\n    this.when().catch(e => {\n      if (\"layerview:create-error\" !== e.name) {\n        const t = this.layer && this.layer.id || \"no id\",\n          r = this.layer?.title || \"no title\";\n        s.getLogger(this).error(\"#resolve()\", `Failed to resolve layer view (layer title: '${r}', id: '${t}')`, e);\n      }\n    });\n  }\n  destroy() {\n    this._updatingHandles = n(this._updatingHandles);\n  }\n  get fullOpacity() {\n    return (this.layer?.opacity ?? 1) * (this.parent?.fullOpacity ?? 1);\n  }\n  get suspended() {\n    return this.destroyed || !this.canResume();\n  }\n  get suspendInfo() {\n    return this.getSuspendInfo();\n  }\n  get legendEnabled() {\n    return !this.suspended && !0 === this.layer?.legendEnabled;\n  }\n  get updating() {\n    return !(!this._updatingHandles?.updating && !this.isUpdating());\n  }\n  get updatingProgress() {\n    return this.updating ? 0 : 1;\n  }\n  get updateSuspended() {\n    return this.suspended;\n  }\n  get visible() {\n    return !0 === this.layer?.visible;\n  }\n  set visible(e) {\n    this._overrideIfSome(\"visible\", e);\n  }\n  get visibleAtCurrentScale() {\n    return !0;\n  }\n  get visibleAtCurrentTimeExtent() {\n    const e = this.view.timeExtent,\n      t = this.layer?.visibilityTimeExtent;\n    return !e || !t || !e.intersection(t).isEmpty;\n  }\n  canResume() {\n    const e = this.layer && \"effectiveScaleRange\" in this.layer ? this.layer.effectiveScaleRange : null;\n    return this.visible && this.layer?.loaded && !this.parent?.suspended && this.view?.ready && d(e) && this.visibleAtCurrentScale && this.visibleAtCurrentTimeExtent || !1;\n  }\n  getSuspendInfo() {\n    const e = this.parent?.suspended ? this.parent.suspendInfo : {},\n      t = this;\n    t.view?.ready || (e.viewNotReady = !0), this.layer && this.layer.loaded || (e.layerNotLoaded = !0);\n    const r = this.layer && \"effectiveScaleRange\" in this.layer ? this.layer.effectiveScaleRange : null;\n    return d(r) && this.visibleAtCurrentScale || (e.outsideScaleRange = !0), this.visibleAtCurrentTimeExtent || (e.outsideVisibilityTimeExtent = !0), this.visible || (e.layerInvisible = !0), e;\n  }\n  isUpdating() {\n    return !1;\n  }\n};\ne([o()], u.prototype, \"view\", void 0), e([o()], u.prototype, \"fullOpacity\", null), e([o()], u.prototype, \"layer\", void 0), e([o()], u.prototype, \"parent\", void 0), e([o({\n  readOnly: !0\n})], u.prototype, \"suspended\", null), e([o({\n  readOnly: !0\n})], u.prototype, \"suspendInfo\", null), e([o({\n  readOnly: !0\n})], u.prototype, \"legendEnabled\", null), e([o({\n  type: Boolean,\n  readOnly: !0\n})], u.prototype, \"updating\", null), e([o({\n  readOnly: !0\n})], u.prototype, \"updatingProgress\", null), e([o()], u.prototype, \"updateSuspended\", null), e([o()], u.prototype, \"visible\", null), e([o({\n  readOnly: !0\n})], u.prototype, \"visibleAtCurrentScale\", null), e([o({\n  readOnly: !0\n})], u.prototype, \"visibleAtCurrentTimeExtent\", null), u = e([a(\"esri.views.layers.LayerView\")], u);\nconst y = u;\nexport { y as default };"],
  "mappings": "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",
  "names": ["u", "n", "e", "y"]
}
