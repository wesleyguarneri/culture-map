{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/External.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from \"../../../request.js\";\nimport { equals as r } from \"../../../core/arrayUtils.js\";\nimport { throwIfAborted as e } from \"../../../core/promiseUtils.js\";\nimport { getFileFormatId as s, getMimeTypeFormatId as n, getFilenameFormatId as a } from \"../../../layers/support/infoFor3D.js\";\nclass i {\n  constructor(t, r, e) {\n    this.assetName = t, this.assetMimeType = r, this.parts = e;\n  }\n  equals(t) {\n    return this === t || this.assetName === t.assetName && this.assetMimeType === t.assetMimeType && r(this.parts, t.parts, (t, r) => t.equals(r));\n  }\n  isOnService(t) {\n    return this.parts.every(r => r.isOnService(t));\n  }\n  makeHash() {\n    let t = \"\";\n    for (const r of this.parts) t += r.partHash;\n    return t;\n  }\n  async toBlob(t) {\n    const {\n      parts: r\n    } = this;\n    if (1 === r.length) return r[0].toBlob(t);\n    const s = await Promise.all(r.map(r => r.toBlob(t)));\n    return e(t), new Blob(s);\n  }\n}\nclass o {\n  constructor(t, r) {\n    this.partUrl = t, this.partHash = r;\n  }\n  equals(t) {\n    return this === t || this.partUrl === t.partUrl && this.partHash === t.partHash;\n  }\n  isOnService(t) {\n    return this.partUrl.startsWith(`${t.path}/assets/`);\n  }\n  async toBlob(r) {\n    const {\n      data: s\n    } = await t(this.partUrl, {\n      responseType: \"blob\"\n    });\n    return e(r), s;\n  }\n}\nfunction u(t) {\n  return p(t?.source);\n}\nfunction c(t) {\n  if (!Array.isArray(t)) return !1;\n  return t.every(t => t instanceof i);\n}\nconst f = /^(model\\/gltf\\+json)|(model\\/gltf-binary)$/,\n  l = /\\.(gltf|glb)/i;\nfunction p(t) {\n  if (!t) return !1;\n  if (Array.isArray(t)) {\n    return t.some(m);\n  }\n  return m(t);\n}\nfunction m(t) {\n  if (t instanceof File) {\n    const {\n      type: r,\n      name: e\n    } = t;\n    return f.test(r) || l.test(e);\n  }\n  return f.test(t.assetMimeType) || l.test(t.assetName);\n}\nfunction h(t, r) {\n  if (!t) return !1;\n  const {\n    source: e\n  } = t;\n  return g(e, r);\n}\nfunction y(t, r) {\n  if (t === r) return !0;\n  const {\n      source: e\n    } = t,\n    {\n      source: s\n    } = r;\n  if (e === s) return !0;\n  if (c(e) && c(s)) {\n    if (e.length !== s.length) return !1;\n    const t = (t, r) => t.assetName < r.assetName ? -1 : t.assetName > r.assetName ? 1 : 0,\n      r = [...e].sort(t),\n      n = [...s].sort(t);\n    for (let e = 0; e < r.length; ++e) if (!r[e].equals(n[e])) return !1;\n    return !0;\n  }\n  return !1;\n}\nfunction g(t, r) {\n  if (Array.isArray(t)) {\n    const e = t;\n    return e.length > 0 && e.every(t => b(t, r));\n  }\n  return b(t, r);\n}\nfunction b(t, r) {\n  return t instanceof i && t.isOnService(r);\n}\nfunction N(t, r) {\n  return t instanceof File ? s(t, r) : n(t.assetMimeType, r) ?? a(t.assetName, r);\n}\nfunction A(t) {\n  return Array.isArray(t) ? t : [t];\n}\nfunction v(t) {\n  return !!t.original;\n}\nexport { i as ServiceAsset, o as ServiceAssetPart, N as assetFormatId, b as assetIsOnService, h as externalIsOnService, A as externalSourceToMultiPart, y as externalSourcesAreEqual, m as isDisplayAsset, u as isDisplayExternal, p as isDisplaySource, v as isOriginalExternal, g as sourceIsOnService };"],
  "mappings": "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",
  "names": ["i", "t", "s", "r", "u", "c", "h", "e"]
}
