{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/chunks/persistableUrlUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { id as e } from \"../kernel.js\";\nimport { makeAbsolute as t, makeRelative as r, isAbsolute as s, normalize as o, isDataProtocol as n, splitPathExtension as l, changeDomain as a, hasSameOrigin as c, getAppUrl as i } from \"../core/urlUtils.js\";\nimport { normalizeArcGISOnlineOrgDomain as u } from \"../portal/support/urlUtils.js\";\nfunction p(e, s) {\n  const o = s?.url?.path;\n  if (e && o && (e = t(e, o, {\n    preserveProtocolRelative: !0\n  }), s.portalItem && s.readResourcePaths)) {\n    const t = r(e, s.portalItem.itemUrl);\n    null != t && v.test(t) && s.readResourcePaths.push(s.portalItem.resourceFromPath(t).path);\n  }\n  return (e = I(e, s?.portal)) && d.test(e) ? R(e) : e;\n}\nfunction m(e, l, a = y.YES) {\n  if (null == (e = e && d.test(e) ? w(e) : e)) return e;\n  !s(e) && l?.blockedRelativeUrls && l.blockedRelativeUrls.push(e);\n  let c = t(e);\n  if (l) {\n    const t = l.verifyItemRelativeUrls?.rootPath || l.url?.path;\n    if (t) {\n      const s = I(t, l.portal),\n        o = I(c, l.portal);\n      c = r(o, s, s);\n      null != c && c !== o && c !== e && l.verifyItemRelativeUrls && l.verifyItemRelativeUrls.writtenUrls.push(c);\n    }\n  }\n  return c = x(c, l?.portal), s(c) && (c = o(c)), l?.resources && l?.portalItem && !s(c) && !n(c) && a === y.YES && l.resources.toKeep.push({\n    resource: l.portalItem.resourceFromPath(c),\n    compress: !1\n  }), c;\n}\nfunction f(e, t, r) {\n  return p(e, r);\n}\nfunction h(e, t, r, s) {\n  const o = m(e, s);\n  void 0 !== o && (t[r] = o);\n}\nconst d = /\\/items\\/([^/]+)\\/resources\\/(.*)/,\n  v = /^\\.\\/resources\\//;\nfunction U(e) {\n  const t = e?.match(d) ?? null;\n  return t?.[1] ?? null;\n}\nfunction g(e) {\n  const t = e?.match(d) ?? null;\n  if (null == t) return null;\n  const r = t[2],\n    s = r.lastIndexOf(\"/\");\n  if (-1 === s) {\n    const {\n      path: e,\n      extension: t\n    } = l(r);\n    return {\n      prefix: null,\n      filename: e,\n      extension: t\n    };\n  }\n  const {\n    path: o,\n    extension: n\n  } = l(r.slice(s + 1));\n  return {\n    prefix: r.slice(0, s),\n    filename: o,\n    extension: n\n  };\n}\nfunction x(e, t) {\n  return t && !t.isPortal && t.urlKey && t.customBaseUrl ? a(e, `${t.urlKey}.${t.customBaseUrl}`, t.portalHostname) : e;\n}\nfunction I(e, t) {\n  if (!t || t.isPortal || !t.urlKey || !t.customBaseUrl) return e;\n  const r = `${t.urlKey}.${t.customBaseUrl}`,\n    s = i();\n  return c(s, `${s.scheme}://${r}`) ? a(e, t.portalHostname, r) : a(e, r, t.portalHostname);\n}\nfunction R(t) {\n  if (!t) return t || null;\n  let r = t;\n  return r && e && !e.findCredential(r) && (r = u(r), r = r.replace(/^https?:\\/\\/www\\.arcgis\\.com/, \"https://cdn.arcgis.com\"), r = r.replace(/^https?:\\/\\/devext\\.arcgis\\.com/, \"https://cdndev.arcgis.com\"), r = r.replace(/^https?:\\/\\/qaext\\.arcgis\\.com/, \"https://cdnqa.arcgis.com\")), r;\n}\nfunction w(t) {\n  if (!t) return t || null;\n  let r = t;\n  return r = r.replace(/^https?:\\/\\/cdn\\.arcgis\\.com/, \"https://www.arcgis.com\"), r = r.replace(/^https?:\\/\\/cdndev\\.arcgis\\.com/, \"https://devext.arcgis.com\"), r = r.replace(/^https?:\\/\\/cdnqa\\.arcgis\\.com/, \"https://qaext.arcgis.com\"), r && e && !e.findCredential(r) && (r = u(r)), r;\n}\nvar y;\n!function (e) {\n  e[e.YES = 0] = \"YES\", e[e.NO = 1] = \"NO\";\n}(y || (y = {}));\nconst P = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  get MarkKeep() {\n    return y;\n  },\n  ensureMainOnlineDomain: x,\n  fromCDNUrl: w,\n  fromJSON: p,\n  itemIdFromResourceUrl: U,\n  prefixAndFilenameFromResourceUrl: g,\n  read: f,\n  toCDNUrl: R,\n  toJSON: m,\n  write: h\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { y as M, R as a, P as b, w as c, x as e, p as f, U as i, g as p, f as r, m as t, h as w };"],
  "mappings": "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",
  "names": ["t", "r", "e"]
}
