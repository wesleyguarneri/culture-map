{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/point.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { newDoubleArray as t } from \"../../../../geometry/support/DoubleArray.js\";\nimport { applyPerVertexElevationAlignment as e } from \"../../layers/graphics/elevationAlignmentUtils.js\";\nfunction o(o, n, r, s, i) {\n  const l = t(3 * o.length),\n    p = t(l.length);\n  o.forEach((t, e) => {\n    l[3 * e] = t[0], l[3 * e + 1] = t[1], l[3 * e + 2] = t.length > 2 ? t[2] : 0;\n  });\n  const c = e(l, n, 0, p, 0, l, 0, l.length / 3, r, s, i),\n    m = null != c;\n  return {\n    numVertices: o.length,\n    position: l,\n    mapPositions: p,\n    projectionSuccess: m,\n    sampledElevation: c\n  };\n}\nexport { o as geometryToRenderInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { s as e } from \"../../../../chunks/vec32.js\";\nimport { create as t } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { a as r, c as i } from \"../../../../chunks/vec42.js\";\nimport { fromArray as s } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { Object3DVisualElement as a } from \"./Object3DVisualElement.js\";\nimport { ElevationContext as l } from \"../../layers/graphics/ElevationContext.js\";\nimport { geometryToRenderInfo as o } from \"../../support/renderInfoUtils/point.js\";\nimport { CullFaceOptions as n } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { createSphereGeometry as c } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as h } from \"../../webgl-engine/lib/Material.js\";\nimport { ShadedColorMaterial as u } from \"../../webgl-engine/materials/ShadedColorMaterial.js\";\nclass d extends a {\n  constructor(e) {\n    super(e), this.view = null, this._renderOccluded = h.OccludeAndTransparent, this._vertices = null, this._spatialReference = null, this._color = s([1, 127 / 255, 0, 1]), this._size = 11, this._outlineColor = s([0, 0, 0, .5]), this._outlineSize = 1, this._elevationInfo = null, this.applyProperties(e);\n  }\n  get renderOccluded() {\n    return this._renderOccluded;\n  }\n  set renderOccluded(e) {\n    e !== this._renderOccluded && (this._renderOccluded = e, this._updateMaterial(), this._updateOutlineMaterial());\n  }\n  get vertices() {\n    return this._vertices;\n  }\n  set vertices(e) {\n    this._vertices = e, this.recreateGeometry();\n  }\n  get spatialReference() {\n    return this._spatialReference;\n  }\n  set spatialReference(e) {\n    this._spatialReference = e, this.recreateGeometry();\n  }\n  get color() {\n    return this._color;\n  }\n  set color(e) {\n    r(e, this._color) || (i(this._color, e), this._updateMaterial());\n  }\n  get size() {\n    return this._size;\n  }\n  set size(e) {\n    e !== this._size && (this._size = e, this._updateMaterial());\n  }\n  get outlineColor() {\n    return this._outlineColor;\n  }\n  set outlineColor(e) {\n    r(e, this._outlineColor) || (i(this._outlineColor, e), this._updateOutlineMaterial());\n  }\n  get outlineSize() {\n    return this._outlineSize;\n  }\n  set outlineSize(e) {\n    e !== this._outlineSize && (this._outlineSize = e, this._updateOutlineMaterial());\n  }\n  get elevationInfo() {\n    return this._elevationInfo;\n  }\n  set elevationInfo(e) {\n    this._elevationInfo = e, this.recreateGeometry();\n  }\n  get _vertexMaterialParameters() {\n    return {\n      color: this._color,\n      screenSizeScale: this.size,\n      renderOccluded: this._renderOccluded,\n      isDecoration: this.isDecoration\n    };\n  }\n  get _vertexOutlineMaterialParameters() {\n    return {\n      color: this._outlineColor,\n      screenSizeScale: this.size + 2 * this.outlineSize,\n      renderOccluded: this._renderOccluded,\n      isDecoration: this.isDecoration\n    };\n  }\n  _updateMaterial() {\n    this.attached && this._vertexMaterial.setParameters(this._vertexMaterialParameters);\n  }\n  _updateOutlineMaterial() {\n    this.attached && this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters);\n  }\n  _createRenderGeometries() {\n    const t = this.vertices;\n    if (null == t || 0 === t.length) return [];\n    const r = .5,\n      i = .5,\n      s = o(t, this.spatialReference, this.view.elevationProvider, this.view.renderCoordsHelper, l.fromElevationInfo(this.elevationInfo)),\n      a = [],\n      n = s.numVertices,\n      c = s.position;\n    for (let l = 0; l < n; ++l) {\n      const t = e(_, c[3 * l], c[3 * l + 1], c[3 * l + 2]),\n        s = m(this._vertexMaterial, r, t),\n        o = m(this._vertexOutlineMaterial, i, t);\n      a.push({\n        vertexGeometry: s,\n        vertexOutlineGeometry: o\n      });\n    }\n    return a;\n  }\n  createGeometries(e) {\n    const t = this._createRenderGeometries();\n    for (const {\n      vertexGeometry: r,\n      vertexOutlineGeometry: i\n    } of t) e.addGeometry(r), e.addGeometry(i);\n  }\n  createExternalResources() {\n    this._vertexMaterial = new u({\n      ...this._vertexMaterialParameters,\n      writeDepth: !0,\n      cullFace: n.Back,\n      screenSizeEnabled: !0\n    }), this._vertexOutlineMaterial = new u({\n      ...this._vertexOutlineMaterialParameters,\n      forceTransparentMode: !0,\n      writeDepth: !0,\n      cullFace: n.Front,\n      screenSizeEnabled: !0,\n      shadingEnabled: !1\n    });\n  }\n  destroyExternalResources() {\n    this._vertexMaterial = null, this._vertexOutlineMaterial = null;\n  }\n  forEachExternalMaterial(e) {\n    e(this._vertexMaterial), e(this._vertexOutlineMaterial);\n  }\n}\nconst _ = t();\nfunction m(e, t, r) {\n  return c(e, t, 16, 16, {\n    offset: r\n  });\n}\nexport { d as VerticesVisualElement };"],
  "mappings": "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",
  "names": ["o", "n", "t", "e", "m", "a", "e", "t", "o", "n", "s"]
}
