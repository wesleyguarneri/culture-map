{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { packInterleavedBuffer as e } from \"../../../support/buffer/workerHelper.js\";\nimport { EdgeInputBufferLayout as t } from \"./bufferLayouts.js\";\nimport { extractEdges as n } from \"./edgePreprocessing.js\";\nimport { extract as s, extractEdgeInformation as r, extractEdgeLocationsLayout as i, extractComponentsEdgeLocationsLayout as a } from \"./edgeProcessing.js\";\nclass o {\n  async extract(e) {\n    const t = c(e),\n      n = s(t),\n      r = [t.data.buffer];\n    return {\n      result: u(n, r),\n      transferList: r\n    };\n  }\n  async extractComponentsEdgeLocations(t) {\n    const s = c(t),\n      i = r(s.data, s.skipDeduplicate, s.indices, s.indicesLength),\n      a = n(i, p),\n      o = [];\n    return {\n      result: e(a.regular.instancesData, o),\n      transferList: o\n    };\n  }\n  async extractEdgeLocations(t) {\n    const s = c(t),\n      i = r(s.data, s.skipDeduplicate, s.indices, s.indicesLength),\n      a = n(i, f),\n      o = [];\n    return {\n      result: e(a.regular.instancesData, o),\n      transferList: o\n    };\n  }\n}\nfunction c(e) {\n  return {\n    data: t.createView(e.dataBuffer),\n    indices: \"Uint32Array\" === e.indicesType ? new Uint32Array(e.indices) : \"Uint16Array\" === e.indicesType ? new Uint16Array(e.indices) : e.indices,\n    indicesLength: e.indicesLength,\n    writerSettings: e.writerSettings,\n    skipDeduplicate: e.skipDeduplicate\n  };\n}\nfunction u(t, n) {\n  n.push(t.regular.lodInfo.lengths.buffer), n.push(t.silhouette.lodInfo.lengths.buffer);\n  return {\n    regular: {\n      instancesData: e(t.regular.instancesData, n),\n      lodInfo: {\n        lengths: t.regular.lodInfo.lengths.buffer\n      }\n    },\n    silhouette: {\n      instancesData: e(t.silhouette.instancesData, n),\n      lodInfo: {\n        lengths: t.silhouette.lodInfo.lengths.buffer\n      }\n    },\n    averageEdgeLength: t.averageEdgeLength\n  };\n}\nclass l {\n  allocate(e) {\n    return i.createBuffer(e);\n  }\n  trim(e, t) {\n    return e.slice(0, t);\n  }\n  write(e, t, n) {\n    e.position0.setVec(t, n.position0), e.position1.setVec(t, n.position1);\n  }\n}\nclass d {\n  allocate(e) {\n    return a.createBuffer(e);\n  }\n  trim(e, t) {\n    return e.slice(0, t);\n  }\n  write(e, t, n) {\n    e.position0.setVec(t, n.position0), e.position1.setVec(t, n.position1), e.componentIndex.set(t, n.componentIndex);\n  }\n}\nconst f = new l(),\n  p = new d();\nexport { o as default };"],
  "mappings": "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",
  "names": ["u", "p", "o", "f", "d"]
}
