{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/featureReference.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js", "../../../../../../node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicsPipeline.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Error.js\";\nimport { destroyMaybe as r } from \"../../../core/maybe.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { hydrateGraphic as n } from \"../../../layers/graphics/hydratedFeatures.js\";\nimport { combineTimeExtent as p } from \"../../../layers/support/timeSupport.js\";\nimport a from \"../../../rest/support/Query.js\";\nimport { toViewIfLocal as o } from \"./support/projectExtentUtils.js\";\nimport { UpdatePolicy as l } from \"../webgl-engine/lib/UpdatePolicy.js\";\nconst u = u => {\n  let h = class extends u {\n    constructor() {\n      super(...arguments), this.updatePolicy = l.SYNC, this.slicePlaneEnabled = !1, this.fullExtentInLocalViewSpatialReference = null, this.supportsHeightUnitConversion = !0;\n    }\n    initialize() {\n      const e = this.layer;\n      \"isTable\" in e && e.isTable ? this.addResolvingPromise(Promise.reject(new t(\"featurelayerview:table-not-supported\", \"table feature layer can't be displayed\", {\n        layer: e\n      }))) : (this.addResolvingPromise(this._validateGeometryType()), this.addResolvingPromise((async () => {\n        const e = await o(this);\n        this.fullExtentInLocalViewSpatialReference = e;\n        const t = this.createGraphicsPipeline();\n        this.graphicsPipeline = t, await t.when();\n      })()), this.notifyChange(\"updating\"));\n    }\n    destroy() {\n      this.graphicsPipeline = r(this.graphicsPipeline);\n    }\n    get dataUpdating() {\n      return !!this.graphicsPipeline?.dataUpdating;\n    }\n    get legendEnabled() {\n      return this.canResume() && this.graphicsPipeline?.legendEnabled;\n    }\n    get visibleAtCurrentScale() {\n      return !this.graphicsPipeline?.scaleVisibilitySuspended;\n    }\n    get symbologySnappingSupported() {\n      return this.graphicsPipeline.symbologySnappingSupported;\n    }\n    get hasAllFeatures() {\n      return this.graphicsPipeline.hasAllFeatures;\n    }\n    get hasAllFeaturesInView() {\n      return this.graphicsPipeline.hasAllFeaturesInView;\n    }\n    get hasFullGeometries() {\n      return this.graphicsPipeline.hasFullGeometries;\n    }\n    get timeExtent() {\n      return p(this.layer, this.view?.timeExtent, this._get(\"timeExtent\"));\n    }\n    get queryEngine() {\n      return this.graphicsPipeline.queryEngine;\n    }\n    getHit(e) {\n      const t = this.graphicsPipeline.findGraphic(t => t.uid === e);\n      if (null == t) return null;\n      const r = n(t, this.layer);\n      return {\n        type: \"graphic\",\n        graphic: r,\n        layer: r.layer\n      };\n    }\n    whenGraphicBounds(e, t) {\n      return this.graphicsPipeline?.whenGraphicBounds(e, t);\n    }\n    computeAttachmentOrigin(e, t) {\n      return this.graphicsPipeline?.computeAttachmentOrigin(e, t);\n    }\n    async elevationAlignPointsInFeatures(e, t) {\n      return this.graphicsPipeline.elevationAlignPointsInFeatures(e, t);\n    }\n    async queryForSymbologySnapping(e, t) {\n      return this.graphicsPipeline.queryForSymbologySnapping(e, t);\n    }\n    queryFeatures(e, t) {\n      return this.queryEngine.executeQuery(this._ensureQuery(e), t?.signal);\n    }\n    queryObjectIds(e, t) {\n      return this.queryEngine.executeQueryForIds(this._ensureQuery(e), t?.signal);\n    }\n    queryFeatureCount(e, t) {\n      return this.queryEngine.executeQueryForCount(this._ensureQuery(e), t?.signal);\n    }\n    queryExtent(e, t) {\n      return this.queryEngine.executeQueryForExtent(this._ensureQuery(e), t?.signal);\n    }\n    _ensureQuery(e) {\n      return null == e ? this.createQuery() : a.from(e);\n    }\n    highlight(e) {\n      return this.graphicsPipeline.highlight(e);\n    }\n    maskOccludee(e) {\n      return this.graphicsPipeline.maskOccludee(e);\n    }\n    getSuspendInfo() {\n      return {\n        ...super.getSuspendInfo(),\n        ...this.graphicsPipeline.suspendInfo\n      };\n    }\n    isUpdating() {\n      return !(!this.graphicsPipeline || this.graphicsPipeline.destroyed) && !(!this.graphicsPipeline?.updating && this.view?.basemapTerrain?.ready);\n    }\n    async _validateGeometryType() {\n      switch (this.layer.geometryType) {\n        case \"multipatch\":\n        case \"multipoint\":\n          throw new t(\"featurelayerview3d:unsupported-geometry-type\", \"Unsupported geometry type ${geometryType}\", {\n            geometryType: this.layer.geometryType\n          });\n      }\n    }\n    get performanceInfo() {\n      return this.graphicsPipeline.performanceInfo;\n    }\n  };\n  return e([i()], h.prototype, \"graphicsPipeline\", void 0), e([i({\n    readOnly: !0\n  })], h.prototype, \"dataUpdating\", null), e([i()], h.prototype, \"suspended\", void 0), e([i({\n    readOnly: !0\n  })], h.prototype, \"legendEnabled\", null), e([i({\n    readOnly: !0\n  })], h.prototype, \"visibleAtCurrentScale\", null), e([i()], h.prototype, \"updating\", void 0), e([i({\n    readOnly: !0\n  })], h.prototype, \"updatePolicy\", void 0), e([i({\n    type: Boolean\n  })], h.prototype, \"slicePlaneEnabled\", void 0), e([i({\n    readOnly: !0\n  })], h.prototype, \"suspendInfo\", void 0), e([i()], h.prototype, \"symbologySnappingSupported\", null), e([i({\n    readOnly: !0\n  })], h.prototype, \"hasAllFeatures\", null), e([i({\n    readOnly: !0\n  })], h.prototype, \"hasAllFeaturesInView\", null), e([i({\n    readOnly: !0\n  })], h.prototype, \"hasFullGeometries\", null), e([i({\n    readOnly: !0\n  })], h.prototype, \"timeExtent\", null), h = e([s(\"esri.views.3d.layers.FeatureLikeLayerView3D\")], h), h;\n};\nexport { u as FeatureLikeLayerView3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../../../../geometry/Extent.js\";\nimport { QueryEngine as o } from \"../../../../layers/graphics/data/QueryEngine.js\";\nimport a from \"../../../../layers/support/FieldsIndex.js\";\nimport u from \"../../../../rest/support/FeatureSet.js\";\nimport i from \"../../../../rest/support/Query.js\";\nimport { featureGeometryTypeKebabDictionary as y } from \"../../../../geometry/support/typeUtils.js\";\nconst c = o;\nlet l = class extends t {\n  get layer() {\n    return this.context.layer;\n  }\n  get spatialReference() {\n    return this.context.spatialReference;\n  }\n  get _queryGeometryType() {\n    switch (this.layer.geometryType) {\n      case \"multipoint\":\n      case \"point\":\n      case \"polygon\":\n      case \"polyline\":\n        return this.layer.geometryType;\n      case \"mesh\":\n        return \"polygon\";\n      default:\n        return;\n    }\n  }\n  get defaultQueryJSON() {\n    return new i({\n      outSpatialReference: this.spatialReference\n    }).toJSON();\n  }\n  get _dataQueryEngine() {\n    return this._ensureDataQueryEngine();\n  }\n  constructor(e) {\n    super(e), this._dataQueryEngineInstance = null;\n  }\n  destroy() {\n    this.clear();\n  }\n  clear() {\n    return !!this._dataQueryEngineInstance && (this._dataQueryEngineInstance.destroy(), this._dataQueryEngineInstance = null, !0);\n  }\n  async executeQueryForIdSet(e, t, r) {\n    return this._dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e, t), r);\n  }\n  async executeQueryForCount(e, t) {\n    return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e), t);\n  }\n  async executeQueryForExtent(e, t) {\n    const {\n      count: r,\n      extent: s\n    } = await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e), t);\n    return {\n      count: r,\n      extent: n.fromJSON(s)\n    };\n  }\n  async executeQueryForIds(e, t) {\n    return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e), t);\n  }\n  async executeQueryForLatestObservations(e, t) {\n    const r = await this._dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e), t),\n      s = u.fromJSON(r);\n    return s.features.forEach(e => {\n      e.layer = this.layer, e.sourceLayer = this.layer;\n    }), s;\n  }\n  async executeQuery(e, t) {\n    const r = await this._dataQueryEngine.executeQuery(this._ensureQueryJSON(e), t),\n      s = u.fromJSON(r);\n    return s.features.forEach(e => {\n      e.layer = this.layer, e.sourceLayer = this.layer;\n    }), s;\n  }\n  _ensureQueryJSON(e, t) {\n    let r = this.defaultQueryJSON;\n    if (null != e && (\"outSpatialReference\" in e && !e.outSpatialReference && (e.outSpatialReference = this.spatialReference), r = e.toJSON()), null != t) {\n      const e = t.geometries.map(e => e.toJSON()).reduce((e, t) => (e.rings = e.rings.concat(t.rings), e));\n      r = {\n        ...r,\n        sceneFilter: {\n          ...t,\n          geometry: e\n        }\n      };\n    }\n    return r;\n  }\n  _ensureDataQueryEngine() {\n    if (this._dataQueryEngineInstance) return this._dataQueryEngineInstance;\n    const e = \"timeInfo\" in this.layer && this.layer.timeInfo?.toJSON() || null,\n      t = this.layer.objectIdField,\n      r = y.toJSON(this._queryGeometryType),\n      s = this.layer.fieldsIndex?.toJSON() || new a([]),\n      n = this.priority,\n      o = this.spatialReference.toJSON(),\n      {\n        hasZ: u,\n        hasM: i,\n        featureStore: l,\n        scheduler: p\n      } = this.context;\n    return this._dataQueryEngineInstance = new c({\n      hasZ: u,\n      hasM: i,\n      geometryType: r,\n      fieldsIndex: s,\n      timeInfo: e,\n      spatialReference: o,\n      objectIdField: t,\n      featureStore: l,\n      scheduler: p,\n      priority: n\n    }), this._dataQueryEngineInstance;\n  }\n};\ne([r({\n  constructOnly: !0\n})], l.prototype, \"context\", void 0), e([r({\n  constructOnly: !0\n})], l.prototype, \"priority\", void 0), e([r()], l.prototype, \"layer\", null), e([r()], l.prototype, \"spatialReference\", null), e([r()], l.prototype, \"_queryGeometryType\", null), e([r()], l.prototype, \"defaultQueryJSON\", null), l = e([s(\"esri.views.3d.layers.graphics.QueryEngine\")], l);\nexport { l as QueryEngine };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction n(n, t, e) {\n  if (!e || null == t) return null;\n  if (!n) return r(t, e);\n  const o = n.get(e);\n  return o ? t[o.name] : null;\n}\nfunction r(n, r) {\n  const t = r.toLowerCase();\n  for (const e in n) if (e.toLowerCase() === t) return n[e];\n  return null;\n}\nexport { n as attributeLookup };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport { createTask as r } from \"../../../../core/asyncUtils.js\";\nimport i from \"../../../../core/Logger.js\";\nimport { abortMaybe as s, removeMaybe as o, destroyMaybe as n } from \"../../../../core/maybe.js\";\nimport { throwIfAborted as u, throwIfAbortError as a } from \"../../../../core/promiseUtils.js\";\nimport { initial as l } from \"../../../../core/reactiveUtils.js\";\nimport { property as p } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as c } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as h } from \"../../../../core/support/UpdatingHandles.js\";\nimport d from \"../../../../layers/support/FeatureFilter.js\";\nimport { getFloorFilterClause as _ } from \"../../../../layers/support/floorFilterUtils.js\";\nimport { QueryEngine as m } from \"../graphics/QueryEngine.js\";\nimport { TaskPriority as f } from \"../../../support/Scheduler.js\";\nimport { Yield as g } from \"../../../support/Yield.js\";\nlet y = class extends e {\n  constructor(t) {\n    super(t), this._updateTask = null, this._frameTask = null, this._queryEngine = null, this._updateRequested = !0, this._updatingHandles = new h(), this._updateVisibility = async t => {\n      if (null == this._compositedFeatureFilter && null == this._sceneFilter || 0 === this.context.getFeatureCount()) return await this._frameTask.schedule(() => this.clear(), t);\n      try {\n        const e = await this._queryEngine.executeQueryForIdSet(this._compositedFeatureFilter, this._sceneFilter, t);\n        return u(t), await this._frameTask.schedule(() => {\n          this.context.updateFeatureVisibilities(t => e.has(t));\n        }, t);\n      } catch (e) {\n        return a(e), i.getLogger(this).warn(`FeatureFilter query failed: ${e}`, {\n          error: e\n        }), await this._frameTask.schedule(() => {\n          this.context.setAllFeaturesVisibility(!0);\n        }, t);\n      }\n    };\n  }\n  initialize() {\n    const t = f.FILTER_VISIBILITY,\n      {\n        layer: e,\n        view: r\n      } = this._configuration,\n      {\n        featureStore: i\n      } = this.context,\n      s = this._configuration.hasZ ?? !1,\n      o = this._configuration.hasM ?? !1;\n    this._queryEngine = new m({\n      context: {\n        spatialReference: r.spatialReference,\n        layer: e,\n        scheduler: r.resourceController.scheduler,\n        featureStore: i,\n        hasM: o,\n        hasZ: s\n      },\n      priority: t\n    }), this._frameTask = r.resourceController.scheduler.registerTask(t, this), this._updatingHandles.add(() => [this._compositedFeatureFilter, this._sceneFilter], () => this.reapply(), l);\n  }\n  destroy() {\n    this._updateRequested = !1, this._updatingHandles.destroy(), this.clear(), this._updateTask = s(this._updateTask), this._frameTask = o(this._frameTask), this._queryEngine = n(this._queryEngine), this._set(\"context\", null);\n  }\n  get updating() {\n    return this.running || this._updatingHandles.updating || null != this._updateTask && !this._updateTask.finished;\n  }\n  get running() {\n    return this._updateRequested || this._frameTask.updating;\n  }\n  get defaultVisibility() {\n    return null == this._compositedFeatureFilter && null == this._sceneFilter;\n  }\n  get _featureFilter() {\n    return \"filter\" in this._configuration ? this._configuration.filter : null;\n  }\n  get _sceneFilter() {\n    return \"layerFilter\" in this._configuration ? this._configuration.layerFilter : null;\n  }\n  get _floorFilter() {\n    return _(this._configuration);\n  }\n  get _timeExtent() {\n    return \"timeExtent\" in this._configuration ? this._configuration.timeExtent : null;\n  }\n  get _compositedFeatureFilter() {\n    const {\n      _featureFilter: t,\n      _timeExtent: e,\n      _floorFilter: r\n    } = this;\n    if (null == e && null == r) return t;\n    const i = null != t ? t.clone() : new d();\n    if (null != e && (i.timeExtent = null != i.timeExtent ? i.timeExtent.intersection(e) : e), null != r) {\n      const t = null == i.where || \"\" === i.where;\n      i.where = t ? r : `(${i.where}) AND (${r})`;\n    }\n    return i;\n  }\n  get _configuration() {\n    return this.context.configuration;\n  }\n  reapply() {\n    this._updateRequested = !0;\n  }\n  clear() {\n    this._queryEngine.clear(), this.context.clearFeaturesVisibility();\n  }\n  runTask(t) {\n    if (this._updateRequested && (this._updateTask = s(this._updateTask), this._updateTask = r(this._updateVisibility), this._updateRequested = !1, t.madeProgress()), this._frameTask.processQueue(t), !t.hasProgressed) return g;\n  }\n};\nt([p({\n  constructOnly: !0\n})], y.prototype, \"context\", void 0), t([p()], y.prototype, \"updating\", null), t([p()], y.prototype, \"running\", null), t([p()], y.prototype, \"defaultVisibility\", null), t([p()], y.prototype, \"_featureFilter\", null), t([p()], y.prototype, \"_sceneFilter\", null), t([p()], y.prototype, \"_floorFilter\", null), t([p()], y.prototype, \"_timeExtent\", null), t([p()], y.prototype, \"_compositedFeatureFilter\", null), t([p()], y.prototype, \"_configuration\", null), t([p()], y.prototype, \"_updateTask\", void 0), t([p()], y.prototype, \"_updateRequested\", void 0), y = t([c(\"esri.views.3d.layers.support.FeatureVisibilityFilter\")], y);\nexport { y as FeatureVisibilityFilter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../Graphic.js\";\nimport { XXH as i } from \"../../../../arcade/functions/hash.js\";\nimport r from \"../../../../core/Accessor.js\";\nimport { neverReached as s } from \"../../../../core/compilerUtils.js\";\nimport { makeHandle as n } from \"../../../../core/handleUtils.js\";\nimport { destroyMaybe as a } from \"../../../../core/maybe.js\";\nimport { logOnError as o } from \"../../../../core/promiseUtils.js\";\nimport { watch as p, initial as l, when as d } from \"../../../../core/reactiveUtils.js\";\nimport { property as u } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { diff as c } from \"../../../../core/accessorSupport/diffUtils.js\";\nimport { UpdatingHandles as g } from \"../../../../core/support/UpdatingHandles.js\";\nimport { canProject as y, project as m } from \"../../../../geometry/support/webMercatorUtils.js\";\nimport { matchRandomRotationExpression as f } from \"../../../../renderers/support/randomRotationExpression.js\";\nimport { getRenderingInfo as b, getRenderingInfoAsync as C } from \"../../../../renderers/support/renderingInfoUtils.js\";\nimport E from \"../../../../rest/support/Query.js\";\nimport { DrapeSourceType as x } from \"../interfaces.js\";\nimport { suspendResumeExtentOptimism as w } from \"./constants.js\";\nimport { DisplayFeatureLimit as v } from \"./DisplayFeatureLimit.js\";\nimport { Graphics3DCore as V } from \"./Graphics3DCore.js\";\nimport { Graphics3DElevationAlignment as R } from \"./Graphics3DElevationAlignment.js\";\nimport { Graphics3DFrustumVisibility as j } from \"./Graphics3DFrustumVisibility.js\";\nimport { Graphics3DObjectStates as O } from \"./Graphics3DObjectStates.js\";\nimport { Graphics3DScaleVisibility as _ } from \"./Graphics3DScaleVisibility.js\";\nimport { enlargeExtent as S } from \"./graphicUtils.js\";\nimport { attributeLookup as G } from \"../support/attributeUtils.js\";\nimport { FeatureVisibilityFilter as I } from \"../support/FeatureVisibilityFilter.js\";\nimport { Object3DState as A } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { UpdatePolicy as U } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nlet P = class extends r {\n  constructor(e) {\n    super(e), this.type = \"graphics-3d\", this._randomRotationRenderers = null, this._updatingHandles = new g(), this.elevationFeatureExpressionEnabled = !1, this.scaleVisibilityEnabled = !1, this.filterVisibilityEnabled = !1, this.frustumVisibilityEnabled = !1, this.elevationAlignmentEnabled = !1, this.timeExtentEnabled = !1, this.setUidToIdOnAdd = !0, this.dataExtent = null, this.drapeSourceType = x.Features, this.preferredUpdatePolicy = U.ASYNC, this._suspendResumeExtent = null;\n  }\n  initialize() {\n    const e = this.owner,\n      t = (this.filterVisibilityEnabled || this.timeExtentEnabled) && \"multipatch\" !== e.layer.geometryType,\n      i = new V({\n        owner: this,\n        layer: this.layer,\n        preferredUpdatePolicy: this.preferredUpdatePolicy,\n        elevationFeatureExpressionEnabled: this.elevationFeatureExpressionEnabled,\n        graphicSymbolSupported: !1,\n        hasZ: e.hasZ,\n        hasM: e.hasM,\n        setUidToIdOnAdd: this.setUidToIdOnAdd,\n        componentFactories: {\n          deconflictor: t => e.view.deconflictor.addGraphicsOwner(t),\n          labeler: (t, i) => e.view.labeler.addGraphicsOwner(t, i),\n          elevationAlignment: this.elevationAlignmentEnabled ? (t, i) => new R({\n            graphicsCoreOwner: this,\n            graphicsCore: t,\n            queryGraphicUIDsInExtent: i,\n            elevationProvider: e.view.elevationProvider\n          }) : null,\n          scaleVisibility: this.scaleVisibilityEnabled ? (t, i) => new _({\n            graphicsCoreOwner: this,\n            layer: this.layer,\n            queryGraphicUIDsInExtent: i,\n            graphicsCore: t,\n            basemapTerrain: e.view.basemapTerrain\n          }) : null,\n          filterVisibility: t ? t => new I({\n            context: {\n              ...t,\n              configuration: e\n            }\n          }) : null,\n          objectStates: e => new O(e)\n        }\n      });\n    this._set(\"graphicsCore\", i), this.frustumVisibilityEnabled && this._set(\"frustumVisibility\", new j({\n      graphicsCoreOwner: this\n    })), this.elevationAlignment && this._updatingHandles.add(() => this.layer.elevationInfo, (e, t) => {\n      c(e, t) && this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange());\n    }), this._updatingHandles.add(() => this.layer.labelsVisible, () => this.graphicsCore.updateVisibilityInfo()), this._updatingHandles.add(() => this.layer.labelingInfo, (e, t) => {\n      c(e, t) && this.graphicsCore.updateLabelingInfo();\n    }), this._updatingHandles.add(() => this.preferredUpdatePolicy, e => this.graphicsCore.preferredUpdatePolicy = e), this._set(\"initializePromise\", this._initializeAsync()), this._updatingHandles.addPromise(this.initializePromise);\n  }\n  async _initializeAsync() {\n    await o(this.graphicsCore.initializePromise);\n    const e = this.owner;\n    this._updatingHandles.add(() => this.renderer, e => this._updatingHandles.addPromise(this.graphicsCore.rendererChange(e))), this._updatingHandles.add(() => e.fullOpacity, () => this.graphicsCore.opacityChange()), this._setupSuspendResumeExtent(), this.updateClippingExtent && (this._updatingHandles.add(() => e.view.clippingArea, () => this._updateClippingExtent()), this._updateClippingExtent()), this.graphicsCore.startCreateGraphics(), this.graphicsCore.labelsEnabled && (await o(this.graphicsCore.updateLabelingInfo()));\n  }\n  destroy() {\n    this._updatingHandles.destroy(), this._set(\"frustumVisibility\", a(this.frustumVisibility)), this._set(\"graphicsCore\", a(this.graphicsCore)), this._set(\"owner\", null);\n  }\n  get layer() {\n    return this.owner.layer;\n  }\n  get dataUpdating() {\n    return this.graphicsCore?.dataUpdating ?? !1;\n  }\n  get renderer() {\n    const {\n      renderer: e,\n      objectIdField: t\n    } = this.layer;\n    if (!e || !t || \"heatmap\" === e.type || !e.visualVariables) return e;\n    const i = e.visualVariables.findIndex(e => \"rotation\" === e.type && null != e.valueExpression && f(e.valueExpression) === t && (null == e.axis || \"heading\" === e.axis) && \"geographic\" === e.rotationType);\n    if (i < 0) return e;\n    const r = e.clone();\n    return r.visualVariables.splice(i, 1), this._randomRotationRenderers || (this._randomRotationRenderers = new WeakMap()), this._randomRotationRenderers.set(r, t), r;\n  }\n  get scaleVisibility() {\n    return this.graphicsCore?.scaleVisibility;\n  }\n  get filterVisibility() {\n    return this.graphicsCore?.filterVisibility;\n  }\n  get elevationAlignment() {\n    return this.graphicsCore?.elevationAlignment;\n  }\n  get suspendResumeExtentMode() {\n    return this.owner.suspendResumeExtentMode ?? \"computed\";\n  }\n  get scaleVisibilitySuspended() {\n    return null != this.scaleVisibility && this.scaleVisibility.suspended;\n  }\n  get suspended() {\n    return this.owner.suspended;\n  }\n  get legendEnabled() {\n    return null == this.frustumVisibility || !this.frustumVisibility.suspended;\n  }\n  get suspendInfo() {\n    const e = {};\n    return this.scaleVisibilitySuspended && (e.outsideScaleRange = !0), null != this.frustumVisibility && this.frustumVisibility.suspended && (e.outsideOfView = !0), e;\n  }\n  get updating() {\n    return !!(this.graphicsCore?.updating || this.frustumVisibility?.updating || this._updatingHandles.updating);\n  }\n  get updatingRemaining() {\n    return this.graphicsCore?.updatingRemaining ?? 0;\n  }\n  get featureStore() {\n    return this.graphicsCore?.featureStore;\n  }\n  get view() {\n    return this.owner.view;\n  }\n  get loadedGraphics() {\n    return this.owner.loadedGraphics;\n  }\n  get fullOpacity() {\n    return this.owner?.fullOpacity;\n  }\n  get filter() {\n    return \"filter\" in this.owner ? this.owner.filter : null;\n  }\n  get slicePlaneEnabled() {\n    return this.owner.slicePlaneEnabled;\n  }\n  get updatePolicy() {\n    return this.owner.updatePolicy;\n  }\n  get featureSpatialReference() {\n    return \"featureSpatialReference\" in this.owner ? this.owner.featureSpatialReference : this.owner.view.spatialReference;\n  }\n  get graphics3DGraphics() {\n    return this.graphicsCore?.graphics3DGraphics;\n  }\n  get graphics3DGraphicsByObjectID() {\n    return this.graphicsCore?.graphics3DGraphicsByObjectID;\n  }\n  get symbolUpdateType() {\n    return this.graphicsCore?.symbolUpdateType;\n  }\n  get displayFeatureLimit() {\n    const e = this.view.quality,\n      t = this.graphicsCore?.displayFeatureLimit;\n    if (1 === e) return t;\n    const i = Math.ceil(t.maximumNumberOfFeatures * e);\n    return new v(t.maximumTotalNumberOfVertices, i, t.averageSymbolComplexity);\n  }\n  get usedMemory() {\n    return this.graphicsCore?.usedMemory ?? 0;\n  }\n  get loadedFeatures() {\n    return this.graphicsCore?.numberOfGraphics ?? 0;\n  }\n  get usedMemoryPerFeature() {\n    return this.graphicsCore?.usedMemoryPerGraphic ?? 0;\n  }\n  get unprocessedMemoryEstimate() {\n    return this.graphicsCore?.unprocessedMemoryEstimate ?? 0;\n  }\n  get performanceInfo() {\n    return this.graphicsCore.performanceInfo;\n  }\n  maskOccludee(e) {\n    const t = this.graphicsCore?.objectStates;\n    if (!t) return n();\n    const {\n      set: i,\n      handle: r\n    } = t.acquireSet(A.MaskOccludee, null);\n    return t.setUid(i, e.uid), r;\n  }\n  highlight(e, i) {\n    const r = this.graphicsCore?.objectStates;\n    if (!r) return n();\n    if (e instanceof E) {\n      const {\n        set: t,\n        handle: s\n      } = r.acquireSet(A.Highlight, i);\n      return this.owner.queryObjectIds(e).then(e => r.setObjectIds(t, e)), s;\n    }\n    if (\"number\" == typeof e || \"string\" == typeof e) return this.highlight([e], i);\n    if (e instanceof t) return this.highlight([e], i);\n    if (\"toArray\" in e && (e = e.toArray()), Array.isArray(e) && e.length > 0) {\n      if (e[0] instanceof t) {\n        const t = e;\n        if (null == G(this.layer.fieldsIndex, t[0].attributes, i)) {\n          const e = t.map(e => e.uid),\n            {\n              set: i,\n              handle: s\n            } = r.acquireSet(A.Highlight, null);\n          return r.setUids(i, e), s;\n        }\n        e = t.map(e => G(this.layer.fieldsIndex, e.attributes, i));\n      }\n      if (Array.isArray(e) && (\"number\" == typeof e[0] || \"string\" == typeof e[0])) {\n        const t = e,\n          {\n            set: s,\n            handle: n\n          } = r.acquireSet(A.Highlight, i);\n        return r.setObjectIds(s, t), n;\n      }\n    }\n    return n();\n  }\n  resetObjectStates() {\n    this.graphicsCore?.objectStates?.reset();\n  }\n  whenGraphicBounds(e, t) {\n    return this.graphicsCore?.whenGraphicBounds(e, t);\n  }\n  computeAttachmentOrigin(e, t) {\n    return this.graphicsCore?.computeAttachmentOrigin(e, t);\n  }\n  notifyGraphicGeometryChanged(e) {\n    this.graphicsCore.notifyGraphicGeometryChanged(e);\n  }\n  notifyGraphicVisibilityChanged(e) {\n    this.graphicsCore.notifyGraphicVisibilityChanged(e);\n  }\n  getRenderingInfo(e, t, r) {\n    const s = b(e, {\n      renderer: t,\n      arcade: r\n    });\n    if (s?.color) {\n      const e = s.color;\n      e[0] = e[0] / 255, e[1] = e[1] / 255, e[2] = e[2] / 255;\n    }\n    if (null != s && null != t && this._randomRotationRenderers?.has(t)) {\n      const r = this._randomRotationRenderers.get(t),\n        n = e.attributes[r],\n        a = new i(0);\n      a.updateFloatArray([n]), a.updateUint8Array([173]), s.heading = 8.381e-8 * a.digest();\n    }\n    return s;\n  }\n  getRenderingInfoAsync(e, t, i, r) {\n    return C(e, {\n      renderer: t,\n      arcade: i,\n      ...r\n    });\n  }\n  getSymbolLayerSize(e, t) {\n    return this.graphicsCore?.getSymbolLayerSize(e, t);\n  }\n  setObjectIdVisibility(e, t) {\n    this.graphicsCore?.setObjectIdVisibility(e, t);\n  }\n  refreshFilter() {\n    null != this.filterVisibility && this.filterVisibility.reapply();\n  }\n  getGraphics3DGraphicByObjectId(e) {\n    return this.graphicsCore?.getGraphics3DGraphicByObjectId(e);\n  }\n  _updateClippingExtent() {\n    const e = this.owner.view.clippingArea;\n    this.graphicsCore.setClippingExtent(e, this.owner.view.spatialReference) && (this.updateClippingExtent(e) || this.graphicsCore.recreateAllGraphics());\n  }\n  _setupSuspendResumeExtent() {\n    (this.frustumVisibility || this.scaleVisibility) && this.addHandles(p(() => this.suspendResumeExtentMode, () => {\n      switch (this.removeHandles(H), this.suspendResumeExtentMode) {\n        case \"computed\":\n          this.addHandles([p(() => this.graphicsCore.computedExtent, e => this._updateSuspendResumeExtent(e), l), p(() => this.graphicsCore.extentPadding, () => this._updateSuspendResumeExtent(this.graphicsCore.computedExtent))], H);\n          break;\n        case \"data\":\n          this.addHandles([d(() => this.dataExtent, e => this._updateSuspendResumeExtent(e), l), p(() => this.graphicsCore.extentPadding, () => this._updateSuspendResumeExtent(this.dataExtent))], H);\n          break;\n        default:\n          s(this.suspendResumeExtentMode);\n      }\n    }, l));\n  }\n  _updateSuspendResumeExtent(e) {\n    e ? this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e, this._suspendResumeExtent)) : this._suspendResumeExtentChanged(null);\n  }\n  _extentToSuspendResumeRect(e, t) {\n    const i = this.owner.view.spatialReference;\n    if (!e.spatialReference.equals(i)) {\n      if (!y(e, i)) return;\n      e = m(e, i);\n    }\n    return S(e, t, w, this.graphicsCore.extentPadding);\n  }\n  _suspendResumeExtentChanged(e) {\n    null != this.frustumVisibility && this.frustumVisibility.setExtent(e), null != this.scaleVisibility && this.scaleVisibility.setExtent(e);\n  }\n};\ne([u()], P.prototype, \"type\", void 0), e([u({\n  constructOnly: !0\n})], P.prototype, \"owner\", void 0), e([u()], P.prototype, \"layer\", null), e([u({\n  readOnly: !0\n})], P.prototype, \"dataUpdating\", null), e([u()], P.prototype, \"renderer\", null), e([u({\n  constructOnly: !0\n})], P.prototype, \"updateClippingExtent\", void 0), e([u({\n  constructOnly: !0\n})], P.prototype, \"elevationFeatureExpressionEnabled\", void 0), e([u({\n  constructOnly: !0\n})], P.prototype, \"graphicsCore\", void 0), e([u({\n  constructOnly: !0\n})], P.prototype, \"scaleVisibilityEnabled\", void 0), e([u({\n  constructOnly: !0\n})], P.prototype, \"filterVisibilityEnabled\", void 0), e([u({\n  constructOnly: !0\n})], P.prototype, \"frustumVisibilityEnabled\", void 0), e([u({\n  constructOnly: !0\n})], P.prototype, \"elevationAlignmentEnabled\", void 0), e([u({\n  constructOnly: !0\n})], P.prototype, \"timeExtentEnabled\", void 0), e([u({\n  constructOnly: !0\n})], P.prototype, \"setUidToIdOnAdd\", void 0), e([u()], P.prototype, \"scaleVisibility\", null), e([u()], P.prototype, \"filterVisibility\", null), e([u()], P.prototype, \"elevationAlignment\", null), e([u({\n  constructOnly: !0\n})], P.prototype, \"frustumVisibility\", void 0), e([u()], P.prototype, \"initializePromise\", void 0), e([u()], P.prototype, \"suspendResumeExtentMode\", null), e([u()], P.prototype, \"dataExtent\", void 0), e([u()], P.prototype, \"scaleVisibilitySuspended\", null), e([u()], P.prototype, \"suspended\", null), e([u()], P.prototype, \"legendEnabled\", null), e([u()], P.prototype, \"suspendInfo\", null), e([u()], P.prototype, \"updating\", null), e([u()], P.prototype, \"updatingRemaining\", null), e([u()], P.prototype, \"featureStore\", null), e([u()], P.prototype, \"view\", null), e([u()], P.prototype, \"loadedGraphics\", null), e([u()], P.prototype, \"fullOpacity\", null), e([u()], P.prototype, \"filter\", null), e([u()], P.prototype, \"slicePlaneEnabled\", null), e([u()], P.prototype, \"drapeSourceType\", void 0), e([u()], P.prototype, \"updatePolicy\", null), e([u()], P.prototype, \"preferredUpdatePolicy\", void 0), e([u({\n  readOnly: !0\n})], P.prototype, \"displayFeatureLimit\", null), P = e([h(\"esri.views.3d.layers.graphics.Graphics3DFeatureProcessor\")], P);\nconst H = \"suspendResumeExtentMode\";\nexport { P as Graphics3DFeatureProcessor };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport \"../../../../geometry/SpatialReference.js\";\nimport \"../../../../geometry/support/aaBoundingBox.js\";\nimport \"../../../../core/mathUtils.js\";\nimport \"../../../../geometry/Extent.js\";\nimport \"../../../../geometry/Geometry.js\";\nimport \"../../../../geometry/Multipoint.js\";\nimport \"../../../../geometry/Point.js\";\nimport \"../../../../geometry/Polygon.js\";\nimport \"../../../../geometry/Polyline.js\";\nimport \"../../../../geometry/support/typeUtils.js\";\nimport \"../../../../layers/support/Field.js\";\nimport { equals as e } from \"../../../../layers/graphics/dehydratedFeatureComparison.js\";\nclass t {\n  get isReferenced() {\n    return 0 !== this.versions.length;\n  }\n  get isSingle() {\n    return 1 === this.versions.length && 1 === this.versions[0].refCount;\n  }\n  constructor(e, t) {\n    this._highestResolutionVersion = null, this.versions = [], this.ref(e, t);\n  }\n  ref(t, s) {\n    const r = this.feature;\n    i.oldVersion = r, this.feature && Object.defineProperty(t, \"uid\", {\n      value: this.feature.uid,\n      configurable: !0\n    });\n    for (const n of this.versions) if (n.resolution === s) {\n      n.refCount++;\n      const s = this._highestResolutionVersion === n && !e(t, n.feature);\n      return (s || this._highestResolutionVersion !== n) && (n.feature = t), i.newVersion = s ? t : r, i;\n    }\n    const o = {\n      feature: t,\n      resolution: s,\n      refCount: 1\n    };\n    return this.versions.push(o), !this._highestResolutionVersion || s < this._highestResolutionVersion.resolution ? (i.newVersion = t, this._highestResolutionVersion = o) : i.newVersion = r, i;\n  }\n  unref(e) {\n    for (let t = 0; t < this.versions.length; t++) {\n      const s = this.versions[t];\n      if (s.resolution === e) return s.refCount--, i.oldVersion = this.feature, 0 === s.refCount && (this.versions[t] = this.versions[this.versions.length - 1], this.versions.length--, this._highestResolutionVersion === s && (this._recalculateHighestResolutionVersion(), i.oldVersion = s.feature)), i.newVersion = this.feature, i;\n    }\n    return null;\n  }\n  get feature() {\n    return this._highestResolutionVersion ? this._highestResolutionVersion.feature : null;\n  }\n  _recalculateHighestResolutionVersion() {\n    if (0 === this.versions.length) return void (this._highestResolutionVersion = null);\n    let e = this.versions[0];\n    for (let t = 1; t < this.versions.length; t++) {\n      const s = this.versions[t];\n      s.resolution < e.resolution && (e = s);\n    }\n    this._highestResolutionVersion = e;\n  }\n}\nclass s {\n  get isReferenced() {\n    return 0 !== this._refCount;\n  }\n  get isSingle() {\n    return 1 === this._refCount;\n  }\n  constructor(e) {\n    this._feature = e, this._refCount = 1;\n  }\n  ref(t) {\n    return ++this._refCount, i.oldVersion = this._feature, this.feature && Object.defineProperty(t, \"uid\", {\n      value: this.feature.uid,\n      configurable: !0\n    }), e(this._feature, t) || (this._feature = t), i.newVersion = this._feature, i;\n  }\n  unref() {\n    return i.oldVersion = this._feature, this._refCount > 0 && (this._refCount--, !this.isReferenced) ? (i.newVersion = null, i) : (i.newVersion = this._feature, i);\n  }\n  get feature() {\n    return this._feature;\n  }\n}\nconst i = {\n  oldVersion: null,\n  newVersion: null\n};\nexport { t as MultiFeatureReference, s as SingleFeatureReference };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { shuffle as t } from \"../../../../core/arrayUtils.js\";\nimport { signal as e } from \"../../../../core/signal.js\";\nimport { create as s, fromExtent as i, intersects as r, copy as u, positiveInfinity as a, intersection as h } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { numVertices as n, estimateSize as f, getObjectId as l } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nconst _ = 16438,\n  d = new Set();\nclass m {\n  get featuresMissing() {\n    return this._featuresMissing.value;\n  }\n  set featuresMissing(t) {\n    this._featuresMissing.value = t;\n  }\n  get missingAttributes() {\n    return this._missingAttributes;\n  }\n  get fetchFailed() {\n    return this._fetchFailed.value;\n  }\n  set fetchFailed(t) {\n    this._fetchFailed.value = t;\n  }\n  get displayingFeatures() {\n    return this._displayingFeatures;\n  }\n  set displayingFeatures(t) {\n    this._displayingFeatures = t, this.extentIncludingBorrowedFeatures = null;\n  }\n  get perTileMaximumNumberOfFeaturesExceeded() {\n    const t = (this.fetchStatus === c.DONE || this.fetchStatus === c.FULL) && this.featuresMissing;\n    return !this.filtered && (t || this.hasFeatureLimit);\n  }\n  get features() {\n    return this._features;\n  }\n  get featureLimit() {\n    return this._featureLimit.value;\n  }\n  set featureLimit(t) {\n    this._featureLimit.value !== t && (this._featureLimit.value = t, this._estimatedUnusedSizeDirty = !0);\n  }\n  get hasFeatureLimit() {\n    return this.featureLimit !== this._featuresLength.value;\n  }\n  get hasAllFeatures() {\n    return !(this.featuresMissing || this.fetchFailed || this.hasFeatureLimit);\n  }\n  get availableFields() {\n    return this._availableFields;\n  }\n  setFeatures(t, e, s, i) {\n    this._availableFields = s ?? d, this._features = t, this._featuresLength.value = t?.length ?? 0, this._shuffled = !1, this._estimatedSize = -1, this._estimatedUnusedSizeDirty = !0, this._missingAttributes = i, t && t.length > 0 ? (this._emptyFeatureRatio.value = e / (t.length + e), this._numVertices = t.reduce((t, e) => t + n(e.geometry), 0)) : (this._emptyFeatureRatio.value = 0, this._numVertices = 0);\n  }\n  get emptyFeatureRatio() {\n    return this._emptyFeatureRatio.value;\n  }\n  get numFeatures() {\n    return this.hasPreciseFeatureCount ? this._numFeatures : this._features ? this._features.length : 0;\n  }\n  set numFeatures(t) {\n    this._numFeatures = t;\n  }\n  get hasPreciseFeatureCount() {\n    return this._numFeatures > F;\n  }\n  get needsFeatureCount() {\n    return this._numFeatures === F;\n  }\n  get numVertices() {\n    return this._numVertices;\n  }\n  constructor(t) {\n    this.descriptor = t, this.fetchStatus = c.FETCH_NEEDED, this._features = null, this._featuresLength = e(0), this._numVertices = 0, this._featureLimit = e(0), this._featuresMissing = e(!0), this._fetchFailed = e(!1), this._shuffled = !1, this._numFeatures = F, this._emptyFeatureRatio = e(0), this._estimatedSize = -1, this._estimatedUnusedSize = 0, this._estimatedUnusedSizeDirty = !1, this._availableFields = d, this._displayingFeatures = null, this.alive = !0, this.filtered = !1;\n  }\n  get id() {\n    return this.descriptor.id;\n  }\n  get estimatedSize() {\n    return this.updateMemoryEstimates(), this._estimatedSize;\n  }\n  get estimatedUnusedSize() {\n    return this._estimatedUnusedSize;\n  }\n  updateMemoryEstimates() {\n    if (this._estimatedSize < 0) {\n      if (this._estimatedSize = 0, this._estimatedUnusedSize = 0, this._features) for (let t = 0; t < this._features.length; ++t) {\n        const e = f(this._features[t]);\n        this._estimatedSize += e, t >= this.featureLimit && (this._estimatedUnusedSize += e);\n      }\n      return !0;\n    }\n    if (this._estimatedUnusedSizeDirty) {\n      if (this._estimatedUnusedSize = 0, this._estimatedUnusedSizeDirty = !1, this._features) for (let t = this.featureLimit; t < this._features.length; ++t) this._estimatedUnusedSize += f(this._features[t]);\n      return !0;\n    }\n    return !1;\n  }\n  get isFetching() {\n    return this.fetchStatus === c.FETCHING || this.fetchStatus === c.REFETCHING;\n  }\n  get isRefetching() {\n    return this.fetchStatus === c.REFETCHING;\n  }\n  get needsFetching() {\n    return this.fetchStatus === c.FETCH_NEEDED || this.fetchStatus === c.REFETCH_NEEDED;\n  }\n  get needsRefetching() {\n    return this.fetchStatus === c.REFETCH_NEEDED;\n  }\n  get isFetched() {\n    return this.fetchStatus === c.DONE || this.fetchStatus === c.FULL;\n  }\n  resetFetching() {\n    this.fetchStatus = this.fetchStatus === c.REFETCHING ? c.REFETCH_NEEDED : c.FETCH_NEEDED;\n  }\n  get needsDisplayUpdate() {\n    return !!this._features && !E(this._features, this.displayingFeatures, this.featureLimit);\n  }\n  intersects(t) {\n    return null == t || !this.descriptor.extent || (i(t, o), r(this.descriptor.extent, o));\n  }\n  intersectionIncludingBorrowed(t, e) {\n    const s = null != this.extentIncludingBorrowedFeatures ? this.extentIncludingBorrowedFeatures : this.descriptor.extent;\n    return t || s ? (null != t ? (i(t, e), h(e, s, e)) : u(e, s), e) : (u(e, a), e);\n  }\n  _shuffle(e) {\n    this._features && (this._features.sort((t, s) => l(t, e) - l(s, e)), t(this._features, _), this._shuffled = !0, this._estimatedUnusedSizeDirty = !0);\n  }\n  reduceFeatures(t, e, s) {\n    if (t <= 0) return !1;\n    if (!this._features) return this.featureLimit = 0, !1;\n    let i = !1;\n    this.featureLimit = Math.ceil(this.numFeatures * t), this.featureLimit > this._features.length && (this.featureLimit = this._features.length, this.fetchStatus === c.DONE && this._features.length > 0 && (this.fetchStatus = c.REFETCH_NEEDED, i = !0)), !this._shuffled && t < 1 && this._shuffle(s);\n    const r = Math.max(this.featureLimit, Math.ceil(e * this.numFeatures));\n    return this._features.length > r && (this._features.length = r, this._featuresLength.value = r, this.featuresMissing = !0, this.fetchStatus === c.FULL && (this.fetchStatus = c.DONE)), i;\n  }\n  get cache() {\n    return {\n      availableFields: this._availableFields,\n      features: this._features,\n      numFeatures: this._numFeatures,\n      emptyFeatureRatio: this._emptyFeatureRatio.value,\n      fetchStatus: this.fetchStatus,\n      featuresMissing: this.featuresMissing\n    };\n  }\n  set cache(t) {\n    this.requestController = null, this._availableFields = t.availableFields, this._features = t.features, this._featuresLength.value = t.features?.length ?? 0, this._numFeatures = t.numFeatures, this._emptyFeatureRatio.value = t.emptyFeatureRatio, this.fetchStatus = t.fetchStatus, this.featuresMissing = t.featuresMissing, this._estimatedSize = -1, this._estimatedUnusedSizeDirty = !0;\n  }\n}\nconst F = -1,\n  g = -2;\nvar c;\nfunction E(t, e, s) {\n  if (null == e || null == t || s !== e.length || s > t.length) return !1;\n  for (let i = 0; i < s; ++i) if (t[i] !== e[i]) return !1;\n  return !0;\n}\n!function (t) {\n  t[t.FETCH_NEEDED = 0] = \"FETCH_NEEDED\", t[t.REFETCH_NEEDED = 1] = \"REFETCH_NEEDED\", t[t.FETCHING = 2] = \"FETCHING\", t[t.REFETCHING = 3] = \"REFETCHING\", t[t.DONE = 4] = \"DONE\", t[t.FULL = 5] = \"FULL\";\n}(c || (c = {}));\nconst o = s();\nexport { m as FeatureTile, c as FetchStatus, g as failedFeatureCount };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport \"../../../../core/has.js\";\nimport s from \"../../../../core/Logger.js\";\nimport { someMap as i, getOrCreateMapValue as r } from \"../../../../core/MapUtils.js\";\nimport { isAbortError as a, throwIfAborted as n } from \"../../../../core/promiseUtils.js\";\nimport o from \"../../../../core/ReactiveMap.js\";\nimport { on as u } from \"../../../../core/reactiveUtils.js\";\nimport { schedule as l } from \"../../../../core/scheduling.js\";\nimport { property as h } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as d } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as c, equals as p, clone as f, expand as _, toExtent as m } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { getObjectId as g, hasVertices as F } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nimport y from \"../../../../rest/support/QuantizationParameters.js\";\nimport T from \"../../../../rest/support/Query.js\";\nimport { ViewingMode as x } from \"../../../ViewingMode.js\";\nimport { MultiFeatureReference as E, SingleFeatureReference as C } from \"./featureReference.js\";\nimport { failedFeatureCount as b, FetchStatus as R, FeatureTile as v } from \"./FeatureTile.js\";\nimport { tilesAreRelated as D } from \"../../terrain/tileUtils.js\";\nimport { ImmediateTask as M, TaskPriority as w } from \"../../../support/Scheduler.js\";\nlet U = class extends t {\n  set maximumNumberOfFeatures(e) {\n    e = e || 1 / 0;\n    const t = this._get(\"maximumNumberOfFeatures\");\n    e === t || e < 1 || (this._set(\"maximumNumberOfFeatures\", e), this._maximumFeaturesUpdated(t, e));\n  }\n  set memoryFactor(e) {\n    this.memoryFactor !== e && (this._set(\"memoryFactor\", e), this._setDirty());\n  }\n  set lodFactor(e) {\n    this.lodFactor !== e && (this._set(\"lodFactor\", e), this._supportsResolution && this.refetch());\n  }\n  get useTileCount() {\n    return this._useTileCount && null != this.context.query.queryFeatureCount;\n  }\n  set useTileCount(e) {\n    this._useTileCount = e, this.notifyChange(\"useTileCount\");\n  }\n  get updating() {\n    return this._dirty || !!this._pendingEdits || this._isFetching || (this.tileDescriptors?.updating ?? !1);\n  }\n  get memoryForUnusedFeatures() {\n    let e = 0;\n    return this._featureTiles.forEach(t => e += t.estimatedUnusedSize), e;\n  }\n  get totalVertices() {\n    let e = 0;\n    return this._featureTiles.forEach(t => e += t.numVertices), e;\n  }\n  get totalFeatures() {\n    let e = 0;\n    return this._featureTiles.forEach(t => e += t.numFeatures), e;\n  }\n  get hasAllFeatures() {\n    if (this._paused || this.dataUpdating) return !1;\n    for (const [, e] of this._featureTiles) if (!this.hasFullGeometries && 0 !== e.emptyFeatureRatio || !e.hasAllFeatures) return !1;\n    return !0;\n  }\n  get hasFullGeometries() {\n    if (!this._supportsResolution) return !0;\n    return !this.tileDescriptors.find(e => null != e.resolution) || !this.context.capabilities.supportsQuantization && \"polyline\" !== this.context.geometryType;\n  }\n  set filterExtent(e) {\n    if (null != e && this.context.tilingScheme && !e.spatialReference.equals(this.context.tilingScheme.spatialReference)) return void s.getLogger(this).error(\"#filterExtent=\", \"extent needs to be in the same spatial reference as the tiling scheme\");\n    const t = this._get(\"filterExtent\");\n    if (t === e || null != t && e && t.equals(e)) return;\n    const i = null != e ? e.clone() : null;\n    this._set(\"filterExtent\", i), this._reclip(i, t);\n  }\n  constructor(e) {\n    super(e), this._useTileCount = !1, this.dataUpdating = !1, this.running = !1, this.updatingTotal = 0, this.updatingRemaining = 0, this.expectedFeatureDiff = 0, this.maximumNumberOfFeaturesExceeded = !1, this._fullRatio = 1, this._farRatio = 1, this._changes = {\n      updates: {\n        adds: new Array(),\n        removes: new Array()\n      },\n      adds: new Array(),\n      removes: new Array()\n    }, this._frameTask = M, this._dirty = !1, this._featureTiles = new o(), this._displayingFeatureReferences = new Map(), this._numDisplayingFeatureReferences = 0, this._suspended = !0, this._pendingEdits = null, this._applyEditsTilesUpdated = !1, this._isFetching = !1;\n  }\n  initialize() {\n    this.addHandles(u(() => this.tileDescriptors, \"change\", () => this._setDirty(), {\n      sync: !0,\n      onListenerAdd: () => this._setDirty()\n    })), this._objectIdField = this.context.objectIdField, this.FeatureReferenceClass = this.context.capabilities.supportsMultipleResolutions ? E : C;\n    const e = this.context.scheduler;\n    null != e && (this._frameTask = e.registerTask(w.FEATURE_TILE_FETCHER, this)), this._setDirty();\n  }\n  destroy() {\n    this._frameTask.remove(), this._featureTiles.forEach(e => {\n      this._cancelFetchTile(e), this._removeTile(e);\n    }), this._featureTiles.clear(), this._displayingFeatureReferences.clear(), this._pendingEdits?.controller.abort(), this._pendingEdits = null;\n  }\n  get _paused() {\n    return this._suspended || !!this._pendingEdits;\n  }\n  restart() {\n    this._featureTiles.forEach(e => {\n      this._cancelFetchTile(e), this._clearTile(e), this._resetFetchTile(e);\n    }), null != this.context.memoryCache && this.context.memoryCache.clear(), this._setDirty();\n  }\n  refetch() {\n    this._featureTiles.forEach(e => {\n      this._cancelFetchTile(e), this._resetFetchTile(e);\n    }), null != this.context.memoryCache && this.context.memoryCache.clear(), this._setDirty();\n  }\n  suspend() {\n    this._suspended || (this._suspended = !0, this._pause(), this._setDirty());\n  }\n  resume() {\n    this._suspended && (this._suspended = !1, this._unpause());\n  }\n  getMissingAttributesForFeature(e) {\n    for (const [, t] of this._featureTiles) {\n      const s = t.missingAttributes?.get(e);\n      if (null != s) return s;\n    }\n  }\n  _pause() {\n    this._paused && (this._featureTiles.forEach(e => this._cancelFetchTile(e)), this._updated());\n  }\n  _unpause() {\n    this._paused || this._setDirty();\n  }\n  get availableFields() {\n    let e = null;\n    return this._featureTiles.forEach(t => {\n      null != t.displayingFeatures && 0 !== t.displayingFeatures.length && (null == e ? e = new Set(t.availableFields) : e.forEach(s => {\n        t.availableFields.has(s) || e.delete(s);\n      }));\n    }), null != e ? e : new Set();\n  }\n  applyEdits(e) {\n    this._pendingEdits || (this._pendingEdits = {\n      edits: Promise.resolve(),\n      count: 0,\n      controller: new AbortController()\n    }, this._pause());\n    const t = this._pendingEdits;\n    t.count++;\n    const s = t.edits.then(() => e.result.catch(e => {\n      if (a(e)) throw e;\n      return null;\n    }).then(e => e ? (this._applyEditsDeleteFeatures(e.deletedFeatures), this._applyEditsAddUpdateFeatures(e.addedFeatures, e.updatedFeatures, t.controller.signal).then(() => e)) : e).then(e => (0 == --t.count && (this._pendingEdits === t && (this._pendingEdits = null), null != this.context.memoryCache && this.context.memoryCache.clear(), this._applyEditsTilesUpdated = !1, this._unpause()), e)));\n    return t.edits = s, this._updated(), s;\n  }\n  _applyEditsDeleteFeatures(e) {\n    if (0 === e.length) return;\n    const t = this.context.globalIdField,\n      i = t && this.availableFields.has(t),\n      r = new Set(),\n      a = this._objectIdField;\n    e.forEach(({\n      objectId: e,\n      globalId: n\n    }) => {\n      (!e || e < 0) && t && n && (i || s.getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`), e = this._objectIdFromGlobalId(n, a, t)), null != e && e >= 0 && r.add(e);\n    }), this._featureTiles.forEach(e => {\n      if (!e.features) return;\n      const t = e.features.filter(e => !r.has(g(e, this._objectIdField)));\n      t.length !== e.features.length && (this._applyEditsTileUpdated(), e.setFeatures(t, 0, e.availableFields, e.missingAttributes), this._invalidateCounts());\n    });\n  }\n  _objectIdFromGlobalId(e, t, s) {\n    if (null == e) return null;\n    const i = this.features.find(t => t.attributes?.[s] === e);\n    return i ? g(i, t) : null;\n  }\n  async _applyEditsAddUpdateFeatures(e, t, i) {\n    const {\n        objectIdField: r,\n        globalIdField: a\n      } = this.context,\n      n = a && this.availableFields.has(a),\n      o = new Set(),\n      u = new Set();\n    for (const s of e) {\n      const e = s.objectId;\n      null != e && o.add(e);\n    }\n    for (const {\n      objectId: h,\n      globalId: d\n    } of t) {\n      let e = h;\n      (null == e || e < 0) && a && (n || s.getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${a} to be included the layer's outFields for updates to be reflected in the view`), e = this._objectIdFromGlobalId(d, r, a)), null != e && e >= 0 && (o.add(e), u.add(e));\n    }\n    if (0 === o.size) return;\n    const l = [];\n    this._featureTiles.forEach(e => {\n      const t = this._applyEditsAddUpdateTile(e, o, u, i);\n      t && l.push(t);\n    }), this._updated(), await Promise.allSettled(l);\n  }\n  async _applyEditsAddUpdateTile(e, t, s, i) {\n    if (!e.features) return;\n    const r = this._createQuery(e);\n    r.resultType = void 0, r.cacheHint = !1, r.objectIds = Array.from(t);\n    const a = await this._queryFeatures(r, i);\n    let n = null;\n    if (s.size > 0) {\n      const t = e.features.filter(e => !s.has(g(e, this._objectIdField)));\n      t.length !== e.features.length && (n = t);\n    }\n    if (a.features.length > 0) {\n      n || (n = e.features.slice());\n      for (const e of a.features) n.push(e);\n    }\n    n && (e.hasPreciseFeatureCount && (e.numFeatures = Math.max(e.numFeatures, n.length)), this._applyEditsTileUpdated(), e.setFeatures(n, 0, q(e.availableFields, a.fields), L(e.missingAttributes, a.missingAttributes)), this._invalidateCounts());\n  }\n  _applyEditsTileUpdated() {\n    this._applyEditsTilesUpdated || (this._applyEditsTilesUpdated = !0, this._updated());\n  }\n  _queryFeatures(e, t) {\n    return this.context.query.queryFeaturesDehydrated(e, {\n      signal: t,\n      timeout: V\n    });\n  }\n  _setDirty() {\n    this._dirty = !0, this._updated();\n  }\n  runTask(e) {\n    const t = this._frameTask.processQueue(e);\n    if (!this._dirty || !this.initialized) return t;\n    this._dirty = !1;\n    const s = this._getListOfTiles();\n    if (this._markTilesNotAlive(s), !e.run(() => this._addTiles(s, e)) || !e.run(() => this._filterExtentTiles(s, e)) || !e.run(() => this._removeTiles(s, e)) || e.done) return void this._setDirty();\n    const i = this._sortTiles(s);\n    e.run(() => this._showTiles(i, e)) && e.run(() => this._fetchTiles(i, e)) && e.run(() => this._updateMemoryEstimates(i, e)) || this._setDirty(), this._updated(), this.updating || this._updateMaximumNumberOfFeaturesExceeded();\n  }\n  _markTilesNotAlive(e) {\n    for (const t of e) t.alive = !1;\n  }\n  _addTiles(e, t) {\n    return !(this._suspended || !this.tileDescriptors) && (this.tileDescriptors.forEach(s => {\n      const i = this._featureTiles.get(s.id);\n      i ? i.alive = !0 : t.done || (e.push(this._addTile(s)), t.madeProgress());\n    }), t.hasProgressed);\n  }\n  _filterExtentTiles(e, t) {\n    for (const s of e) {\n      if (t.done) break;\n      s.alive && (s.filtered = !s.intersects(this.filterExtent), s.filtered && (this._clearTile(s), t.madeProgress()));\n    }\n    return t.hasProgressed;\n  }\n  _removeTiles(e, t) {\n    for (let s = e.length - 1; s >= 0 && !t.done; s--) {\n      const i = e[s];\n      i.alive || (this._removeTile(i), s !== e.length - 1 && (e[s] = e[e.length - 1]), e.pop(), t.madeProgress());\n    }\n    return t.hasProgressed;\n  }\n  _sortTiles(e) {\n    return e.sort((e, t) => (e.descriptor.loadPriority ?? 0) - (t.descriptor.loadPriority ?? 0)), e;\n  }\n  _showTiles(e, t) {\n    const s = this._updateRatio(e),\n      i = e => {\n        const t = this._fullRatio < 1 ? s(e) * this._farRatio : 1;\n        return e.reduceFeatures(t, this.memoryFactor, this._objectIdField) && this._setDirty(), this._showTile(e);\n      };\n    for (const r of e) if (!t.run(() => i(r))) {\n      this._setDirty();\n      break;\n    }\n    return t.hasProgressed;\n  }\n  _fetchTiles(e, t) {\n    if (this._paused) return !1;\n    let i = !1;\n    for (const s of e) {\n      if (!s.needsFetching) continue;\n      const e = null != this.context.memoryCache ? this.context.memoryCache.pop(s.id) : null;\n      if (null == e) {\n        if (this._needsNumFeatures(s)) {\n          const e = new AbortController(),\n            r = this._fetchTileCount(s, e.signal);\n          this._handleRequest(s, r, e, () => s.numFeatures = b), i = !0, t.madeProgress();\n        }\n        if (t.done) return !0;\n      } else s.cache = e, s.numFeatures && this._notifyDataUpdating(), this._setDirty(), this._scheduleUpdated(), t.madeProgress();\n    }\n    if (i) return t.hasProgressed;\n    for (const r of e) if (r.needsFetching) {\n      const e = new AbortController(),\n        i = this._fetchTile(r, e.signal);\n      if (this._handleRequest(r, i, e, e => {\n        r.setFeatures([], 0, null, void 0), this._invalidateCounts(), r.featuresMissing = !1, r.fetchFailed = !0, this.context.logFetchError(s.getLogger(this), e);\n      }), t.madeProgress()) return !0;\n    }\n    return t.hasProgressed;\n  }\n  _updateMemoryEstimates(e, t) {\n    return e.some(e => !t.run(() => e.updateMemoryEstimates()) && (this._setDirty(), !0)), t.hasProgressed;\n  }\n  _reclip(e, t) {\n    if (!this.initialized) return;\n    const s = new Array();\n    this._featureTiles.forEach(i => {\n      null != i.displayingFeatures && 0 !== i.displayingFeatures.length && (i.intersectionIncludingBorrowed(t, Q), i.intersectionIncludingBorrowed(e, H), p(Q, H) || s.push(i));\n    }), this._refreshDisplayingFeatures(s), this._updated();\n  }\n  _refreshDisplayingFeatures(e) {\n    const t = new Set(),\n      s = this._changes.updates;\n    for (const i of e) if (null != i.displayingFeatures) for (const e of i.displayingFeatures) {\n      const i = g(e, this._objectIdField);\n      if (t.has(i)) continue;\n      t.add(i);\n      const r = this._displayingFeatureReferences.get(i).feature;\n      s.removes.push(r), s.adds.push(r);\n    }\n    this._applyChanges();\n  }\n  _updated() {\n    let e = 0;\n    if (this._paused || this._featureTiles.forEach(t => t.isFetching ? ++e : 0), this._isFetching = e > 0, this._set(\"running\", this._dirty), e > 0 || this._applyEditsTilesUpdated ? this._notifyDataUpdating() : this._dirty || this._set(\"dataUpdating\", !1), this.updating) {\n      let t = 0,\n        s = 0,\n        i = 0,\n        r = 0,\n        a = 0;\n      const n = this._displayingFeatureReferences.size / this._numDisplayingFeatureReferences;\n      this._featureTiles.forEach(e => {\n        if (++s, e.isFetching && e.hasPreciseFeatureCount) {\n          const t = this._maximumFeaturesForTile(e) * (1 - e.emptyFeatureRatio),\n            s = null != e.displayingFeatures ? e.displayingFeatures.length * n : 0;\n          a += t - s;\n        }\n        e.needsFetching ? ++r : e.numFeatures > 0 && (++i, t += e.numFeatures);\n      }), r += e;\n      let o = 0,\n        u = 0;\n      t ? (u = t, o = Math.min(r * t / i, t)) : (u = s, o = r), a = Math.min(this.maximumNumberOfFeatures - this.features.length, a), this._set(\"updatingTotal\", u), this._set(\"updatingRemaining\", o), this._set(\"expectedFeatureDiff\", a);\n    } else this._set(\"updatingTotal\", 0), this._set(\"updatingRemaining\", 0), this._set(\"expectedFeatureDiff\", 0);\n    this.debugger && this.debugger.update();\n  }\n  _updateMaximumNumberOfFeaturesExceeded() {\n    const e = i(this._featureTiles, e => e.perTileMaximumNumberOfFeaturesExceeded);\n    this._set(\"maximumNumberOfFeaturesExceeded\", e);\n  }\n  _updateRatio(e) {\n    const t = O(e),\n      s = e => 1 / (1 << Math.max(0, t - e.descriptor.lij[0]));\n    let i = 0,\n      r = 0;\n    for (const a of e) {\n      const e = a.numFeatures;\n      i += e, r += e * s(a);\n    }\n    return this._fullRatio = Math.min(1, this.maximumNumberOfFeatures / i), this._farRatio = this.maximumNumberOfFeatures / r, this._scheduleUpdated(), s;\n  }\n  _maximumFeaturesUpdated(e, t) {\n    e !== t && (t > e && this._featureTiles.forEach(e => {\n      if (!e.featuresMissing) return;\n      const t = this._maximumFeaturesForTile(e);\n      e.features && (e.features.length >= t || e.fetchStatus === R.FULL) || (this._cancelFetchTile(e), this._resetFetchTile(e));\n    }), this._setDirty());\n  }\n  _addTile(e) {\n    const t = new v(e);\n    return this._featureTiles.set(t.id, t), this._resetFetchTile(t), this._referenceDisplayingFeaturesFromRelatedTiles(t), t;\n  }\n  _referenceDisplayingFeaturesFromRelatedTiles(e) {\n    const t = e.descriptor.resolution;\n    this._featureTiles.forEach(s => {\n      if (!(null == s.displayingFeatures || e === s || e.descriptor.lij && s.descriptor.lij && !D(e.descriptor.lij, s.descriptor.lij))) {\n        null == e.displayingFeatures && (e.displayingFeatures = []), e.descriptor.extent && s.descriptor.extent && (null == e.extentIncludingBorrowedFeatures && (e.extentIncludingBorrowedFeatures = f(e.descriptor.extent)), _(e.extentIncludingBorrowedFeatures, s.descriptor.extent, e.extentIncludingBorrowedFeatures));\n        for (const i of s.displayingFeatures) {\n          e.displayingFeatures.push(i);\n          const s = this._displayingFeatureReferences.get(g(i, this._objectIdField));\n          s.ref(s.feature, t), this._numDisplayingFeatureReferences++;\n        }\n      }\n    }), e.featureLimit = null != e.displayingFeatures ? e.displayingFeatures.length : 0;\n  }\n  _removeTile(e) {\n    this._clearTile(e), this._featureTiles.delete(e.id);\n  }\n  _resetFetchTile(e) {\n    e.filtered = !e.intersects(this.filterExtent), e.filtered ? e.needsFetching && (e.fetchStatus = R.DONE) : e.fetchStatus = R.FETCH_NEEDED;\n  }\n  _cancelFetchTile(e) {\n    const t = e.requestController;\n    null != t && (e.requestController = null, e.resetFetching(), t.abort());\n  }\n  async _fetchTileCount(e, t) {\n    return e.numFeatures = await this._fetchCount(e, t), this._updateRatio(this._getListOfTiles()), e.fetchStatus === R.REFETCHING ? R.REFETCH_NEEDED : R.FETCH_NEEDED;\n  }\n  async _fetchTile(e, t) {\n    e.fetchFailed = !1;\n    const s = this._maximumFeaturesForTile(e);\n    if (s <= 0) return e.hasPreciseFeatureCount && 0 === e.numFeatures || (e.fetchFailed = !0), I(e);\n    const i = this._getMaxRecordCount(e),\n      r = Math.ceil(s / i);\n    if (j(e) || !this.context.capabilities.supportsMaxRecordCountFactor || e.numFeatures <= s && r > T.MAX_MAX_RECORD_COUNT_FACTOR) return this._fetchPagedTile(e, t);\n    const a = this._createQuery(e);\n    if (a.maxRecordCountFactor = Math.ceil(s / i), e.isRefetching && e.features && e.features.length > 0) {\n      const t = Math.ceil(e.features.length / (1 - e.emptyFeatureRatio) / i);\n      a.maxRecordCountFactor = Math.max(t + 1, a.maxRecordCountFactor);\n    }\n    const {\n        features: o,\n        exceededTransferLimit: u,\n        fields: l,\n        missingAttributes: h\n      } = await this._queryFeatures(a, t),\n      d = u ? a.maxRecordCountFactor >= T.MAX_MAX_RECORD_COUNT_FACTOR ? R.FULL : R.DONE : R.FULL;\n    return await this._frameTask.schedule(() => {\n      e.featuresMissing = e.hasPreciseFeatureCount && o.length < e.numFeatures || !!u;\n      const t = this._removeEmptyFeatures(o);\n      e.setFeatures(o, t, N(l), L(void 0, h));\n    }, t), n(t), this._invalidateCounts(), d;\n  }\n  async _fetchCount(e, t) {\n    return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e), {\n      signal: t\n    });\n  }\n  async _fetchPagedTile(e, t) {\n    let s,\n      i = 0,\n      r = 0,\n      a = 0,\n      o = this._maximumFeaturesForTile(e) - a;\n    const u = this._getMaxRecordCount(e);\n    let l,\n      h = null;\n    for (;;) {\n      const d = this._createQuery(e),\n        c = this._setPagingParameters(d, i, o, u),\n        {\n          features: p,\n          exceededTransferLimit: f,\n          fields: _,\n          missingAttributes: m\n        } = await this._queryFeatures(d, t);\n      if (await this._frameTask.schedule(() => {\n        c && (i += d.num), a += p.length, r += this._removeEmptyFeatures(p), e.featuresMissing = c && e.hasPreciseFeatureCount && i < e.numFeatures || !!f, s = s ? s.concat(p) : p, h = q(h, _), l = L(l, m), e.setFeatures(s, r, h, l);\n      }, t), n(t), this._invalidateCounts(), this._setDirty(), o = this._maximumFeaturesForTile(e) - a, !c || !f || o <= 0) return f ? R.DONE : R.FULL;\n    }\n  }\n  _createFeatureCountQuery(e) {\n    const t = this._createQuery(e);\n    return this.context.capabilities.supportsCacheHint && (t.resultType = void 0, t.cacheHint = !0), t;\n  }\n  _createQuery(e) {\n    const t = this.context.createQuery(),\n      s = e.descriptor.extent;\n    if (s) {\n      const e = this.context.tilingScheme.spatialReference;\n      t.geometry = m(s, e);\n    }\n    return this._setResolutionParams(t, e), this._useTileQuery(e) ? t.resultType = \"tile\" : this.context.capabilities.supportsCacheHint && (t.cacheHint = !0), t;\n  }\n  _setPagingParameters(e, t, s, i) {\n    return !!this.context.capabilities.supportsPagination && (e.start = t, s > 0 && this.context.capabilities.supportsMaxRecordCountFactor ? (e.maxRecordCountFactor = Math.ceil(s / i), e.num = Math.min(e.maxRecordCountFactor * i, s)) : e.num = Math.min(i), !0);\n  }\n  _getEffectiveTileResolution(e) {\n    if (null == e.descriptor.resolution) return null;\n    const t = this.context.viewingMode === x.Global ? this.context.tilingScheme.resolutionAtLevel(3) : 1 / 0;\n    return Math.min(e.descriptor.resolution, t) / this.lodFactor;\n  }\n  get _supportsResolution() {\n    return this.context.capabilities.supportsMultipleResolutions && \"point\" !== this.context.geometryType;\n  }\n  _setResolutionParams(e, t) {\n    if (!this._supportsResolution) return;\n    const s = this._getEffectiveTileResolution(t);\n    null != s && (this.context.capabilities.supportsQuantization ? e.quantizationParameters = new y({\n      mode: \"view\",\n      originPosition: \"upper-left\",\n      tolerance: s,\n      extent: this.context.fullExtent\n    }) : \"polyline\" === this.context.geometryType && (e.maxAllowableOffset = s));\n  }\n  _removeEmptyFeatures(e) {\n    const t = e.length;\n    for (let s = 0; s < e.length;) {\n      const t = e[s];\n      F(t.geometry) ? ++s : (e[s] = e[e.length - 1], --e.length);\n    }\n    return t - e.length;\n  }\n  _needsNumFeatures(e) {\n    return this.useTileCount && e.needsFeatureCount && !j(e);\n  }\n  _getMaxRecordCount(e) {\n    const {\n      tileMaxRecordCount: t,\n      maxRecordCount: s\n    } = this.context;\n    return this._useTileQuery(e) && null != t && t > 0 && this.context.capabilities.supportsResultType ? t : null != s && s > 0 ? s : S;\n  }\n  _useTileQuery(e) {\n    return (!j(e) || !this.context.capabilities.supportsCacheHint) && this.context.capabilities.supportsResultType;\n  }\n  _handleRequest(e, t, s, i) {\n    e.fetchStatus = e.needsRefetching ? R.REFETCHING : R.FETCHING, e.requestController = s;\n    let r = !1;\n    t.then(t => {\n      e.requestController = null, e.fetchStatus = t;\n    }).catch(t => {\n      e.requestController === s && (e.requestController = null, e.fetchStatus = R.DONE), a(t) ? r = !0 : i(t);\n    }).then(() => {\n      r || this._setDirty(), this._scheduleUpdated();\n    });\n  }\n  _scheduleUpdated() {\n    this.hasHandles(\"scheduleUpdated\") || this.addHandles(l(() => {\n      this.removeHandles(\"scheduleUpdated\"), this._updated();\n    }), \"scheduleUpdated\");\n  }\n  _showTile(e) {\n    if (null != e.displayingFeatures && !e.needsDisplayUpdate) return !1;\n    const t = e.features;\n    if (0 === e.featureLimit || !t) {\n      const t = null != e.displayingFeatures && e.displayingFeatures.length > 0;\n      return this._hideTileFeatures(e), e.displayingFeatures = [], t;\n    }\n    const s = e.descriptor.resolution,\n      i = this._changes.updates,\n      r = this._changes.adds,\n      a = Math.min(e.featureLimit, t.length);\n    e.featureLimit = a;\n    for (let n = 0; n < a; ++n) {\n      const e = t[n],\n        a = g(e, this._objectIdField),\n        o = this._displayingFeatureReferences.get(a);\n      if (o) {\n        const t = o.ref(e, s);\n        t.oldVersion !== t.newVersion && (t.oldVersion && i.removes.push(t.oldVersion), t.newVersion && i.adds.push(t.newVersion));\n      } else this._displayingFeatureReferences.set(a, new this.FeatureReferenceClass(e, s)), r.push(e);\n      this._numDisplayingFeatureReferences++;\n    }\n    return this._hideTileFeatures(e), this._applyChanges(), e.displayingFeatures = t.slice(0, a), !0;\n  }\n  _hideTile(e) {\n    this._cancelFetchTile(e), this._hideTileFeatures(e);\n  }\n  _hideTileFeatures(e) {\n    if (null == e.displayingFeatures) return;\n    const t = this._changes.updates,\n      s = this._changes.removes;\n    for (const i of e.displayingFeatures) {\n      const r = g(i, this._objectIdField),\n        a = this._displayingFeatureReferences.get(r);\n      if (!a) continue;\n      const n = a.unref(e.descriptor.resolution);\n      this._numDisplayingFeatureReferences--, n ? n.oldVersion !== n.newVersion && (null == n.newVersion ? (this._displayingFeatureReferences.delete(r), n.oldVersion && s.push(n.oldVersion)) : (t.adds.push(n.newVersion), n.oldVersion && t.removes.push(n.oldVersion))) : console.error(\"Hiding unreferenced feature\");\n    }\n    this._applyChanges(), e.displayingFeatures = null;\n  }\n  _notifyDataUpdating() {\n    this._get(\"dataUpdating\") || this._set(\"dataUpdating\", !0);\n  }\n  _applyChanges() {\n    const e = this._changes.updates;\n    e.removes.length > 0 && (this._notifyDataUpdating(), this.features.removeMany(e.removes), e.removes.length = 0), e.adds.length > 0 && (this._notifyDataUpdating(), this.features.addMany(e.adds), e.adds.length = 0);\n    const t = this._changes.adds,\n      s = this._changes.removes,\n      i = Math.min(t.length, s.length);\n    let r = 0;\n    for (; r < i;) {\n      const e = Math.min(r + z, i);\n      this._notifyDataUpdating(), this.features.addMany(t.slice(r, e)), this.features.removeMany(s.slice(r, e)), r = e;\n    }\n    t.length > i && (this._notifyDataUpdating(), this.features.addMany(0 === r ? t : t.slice(r))), s.length > i && (this._notifyDataUpdating(), this.features.removeMany(0 === r ? s : s.slice(r))), t.length = 0, s.length = 0;\n  }\n  _clearTile(e) {\n    if (this._hideTile(e), e.features && null != this.context.memoryCache) {\n      const t = 16 + e.estimatedSize;\n      this.context.memoryCache.put(e.id, e.cache, t);\n    }\n    e.setFeatures(null, 0, null, void 0), this._invalidateCounts();\n  }\n  _invalidateCounts() {\n    this.notifyChange(\"totalVertices\"), this.notifyChange(\"totalFeatures\"), this.notifyChange(\"memoryForUnusedFeatures\");\n  }\n  _getListOfTiles() {\n    return Array.from(this._featureTiles.values());\n  }\n  get storedFeatures() {\n    return this._getListOfTiles().reduce((e, t) => e + (t.features ? t.features.length : 0), 0);\n  }\n  get missingTiles() {\n    return Array.from(this._featureTiles.values()).reduce((e, t) => e + (t.needsFetching || t.isFetching ? 1 : 0), 0);\n  }\n  _maximumFeaturesForTile(e) {\n    const t = e.hasPreciseFeatureCount ? e.numFeatures : 1 / 0,\n      s = e.hasPreciseFeatureCount ? t : this.maximumNumberOfFeatures,\n      i = this._fullRatio < 1 ? this._farRatio : 1;\n    return Math.min(Math.ceil(s * i / (1 - e.emptyFeatureRatio)), t);\n  }\n  get test() {}\n};\nfunction j(e) {\n  return \"dummy-tile-full-extent\" === e.id;\n}\nfunction O(e) {\n  let t = 0;\n  for (const s of e) s.features && s.features.length > 0 && s.alive && (t = Math.max(t, s.descriptor.lij[0]));\n  return t;\n}\nfunction P(e) {\n  const t = e.capabilities.query;\n  return {\n    supportsMultipleResolutions: A(e),\n    supportsPagination: !(!t || !t.supportsPagination),\n    supportsResultType: !(!t || !t.supportsResultType),\n    supportsCacheHint: !(!t || !t.supportsCacheHint),\n    supportsQuantization: !(!t || !t.supportsQuantization),\n    supportsQuantizationEditMode: !(!t || !t.supportsQuantizationEditMode),\n    supportsMaxRecordCountFactor: !(!t || !t.supportsMaxRecordCountFactor),\n    supportsFormatPBF: !(!t || !t.supportsFormatPBF)\n  };\n}\nfunction A(e) {\n  switch (e.geometryType) {\n    case \"polyline\":\n      return !0;\n    case \"polygon\":\n      return e.capabilities && e.capabilities.query && e.capabilities.query.supportsQuantization;\n    default:\n      return !1;\n  }\n}\nfunction I(e) {\n  return e.setFeatures([], 0, null, void 0), e.featuresMissing = !1, R.DONE;\n}\nfunction N(e) {\n  return null == e ? new Set() : new Set(e.map(e => e.name));\n}\nfunction q(e, t) {\n  if (null == e || null == t) return N(t);\n  const s = new Set();\n  for (const {\n    name: i\n  } of t) e.has(i) && s.add(i);\n  return s;\n}\nfunction L(e, t) {\n  if (!t?.length) return e;\n  e ??= new Map();\n  const s = () => new Set();\n  for (const {\n    objectId: i,\n    attribute: a\n  } of t) r(e, i, s).add(a);\n  return e;\n}\ne([h({\n  constructOnly: !0\n})], U.prototype, \"features\", void 0), e([h()], U.prototype, \"tileDescriptors\", void 0), e([h({\n  value: 1 / 0\n})], U.prototype, \"maximumNumberOfFeatures\", null), e([h({\n  value: 1\n})], U.prototype, \"memoryFactor\", null), e([h({\n  value: 1\n})], U.prototype, \"lodFactor\", null), e([h()], U.prototype, \"useTileCount\", null), e([h({\n  readOnly: !0\n})], U.prototype, \"updating\", null), e([h({\n  readOnly: !0\n})], U.prototype, \"dataUpdating\", void 0), e([h({\n  readOnly: !0\n})], U.prototype, \"running\", void 0), e([h({\n  readOnly: !0\n})], U.prototype, \"updatingTotal\", void 0), e([h({\n  readOnly: !0\n})], U.prototype, \"updatingRemaining\", void 0), e([h({\n  readOnly: !0\n})], U.prototype, \"expectedFeatureDiff\", void 0), e([h({\n  readOnly: !0\n})], U.prototype, \"memoryForUnusedFeatures\", null), e([h({\n  readOnly: !0\n})], U.prototype, \"maximumNumberOfFeaturesExceeded\", void 0), e([h({\n  readOnly: !0\n})], U.prototype, \"totalVertices\", null), e([h({\n  readOnly: !0\n})], U.prototype, \"totalFeatures\", null), e([h({\n  readOnly: !0\n})], U.prototype, \"hasAllFeatures\", null), e([h({\n  readOnly: !0\n})], U.prototype, \"hasFullGeometries\", null), e([h()], U.prototype, \"filterExtent\", null), e([h({\n  constructOnly: !0\n})], U.prototype, \"context\", void 0), e([h()], U.prototype, \"_dirty\", void 0), e([h()], U.prototype, \"_suspended\", void 0), e([h()], U.prototype, \"_pendingEdits\", void 0), e([h()], U.prototype, \"_applyEditsTilesUpdated\", void 0), e([h()], U.prototype, \"_paused\", null), e([h()], U.prototype, \"_isFetching\", void 0), U = e([d(\"esri.views.3d.layers.support.FeatureTileFetcher3D\")], U);\nconst S = 2e3,\n  Q = c(),\n  H = c(),\n  V = 6e5,\n  z = 200;\nexport { U as FeatureTileFetcher3D, P as contextCapabilitiesFromLayer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport t from \"../../../../Graphic.js\";\nimport \"../../../../symbols.js\";\nimport i from \"../../../../core/Collection.js\";\nimport s from \"../../../../geometry/Polygon.js\";\nimport o from \"../../../../symbols/FillSymbol3DLayer.js\";\nimport r from \"../../../../symbols/PointSymbol3D.js\";\nimport a from \"../../../../symbols/PolygonSymbol3D.js\";\nimport l from \"../../../../symbols/TextSymbol3DLayer.js\";\nimport n from \"../../../../symbols/support/Symbol3DVerticalOffset.js\";\nimport { TilingScheme as h } from \"../../terrain/TilingScheme.js\";\nimport c from \"../../../../symbols/callouts/LineCallout3D.js\";\nimport m from \"../../../../symbols/callouts/LineCallout3DBorder.js\";\nconst p = [[0, 179, 255], [117, 62, 128], [0, 104, 255], [215, 189, 166], [32, 0, 193], [98, 162, 206], [102, 112, 129], [52, 125, 0], [142, 118, 246], [138, 83, 0], [92, 122, 255], [122, 55, 83], [0, 142, 255], [81, 40, 179], [0, 200, 244], [13, 24, 127], [0, 170, 147], [19, 58, 241], [22, 44, 35]];\nclass y {\n  constructor(e, t, s) {\n    this._loadingGraphics = new Map(), this._loadedGraphics = new Map(), this._pendingGraphics = new Map(), this._dataExtentGraphic = null, this._enabled = !0, this._tileFetcher = e, this._view = s, this._tilingScheme = new h(t), this._loadedSymbols = p.map(e => new a({\n      symbolLayers: new i([new o({\n        material: {\n          color: [e[0], e[1], e[2], .6]\n        },\n        outline: {\n          color: \"black\",\n          size: 1\n        }\n      })])\n    })), this._loadingSymbols = [new a({\n      symbolLayers: new i([new o({\n        material: {\n          color: [200, 200, 200, .4]\n        },\n        outline: {\n          color: [30, 30, 30],\n          size: 1\n        }\n      })])\n    })], this._pendingSymbols = [new a({\n      symbolLayers: new i([new o({\n        material: {\n          color: [100, 100, 100, .4]\n        },\n        outline: {\n          color: [30, 30, 30],\n          size: 1\n        }\n      })])\n    })], this._dataExtentSymbol = new a({\n      symbolLayers: new i([new o({\n        material: {\n          color: [0, 0, 0, 0]\n        },\n        outline: {\n          color: \"green\",\n          size: 4\n        }\n      })])\n    });\n  }\n  destroy() {\n    this.enabled = !1;\n  }\n  get enabled() {\n    return this._enabled;\n  }\n  set enabled(e) {\n    this._enabled = e, this.update();\n  }\n  update() {\n    this._enabled ? (this._synchronizeMaps(this._loadingGraphics, {\n      filter: e => e.isFetching,\n      symbols: this._loadingSymbols\n    }), this._synchronizeMaps(this._loadedGraphics, {\n      filter: e => !e.isFetching,\n      symbols: this._loadedSymbols\n    }), this._synchronizeMaps(this._pendingGraphics, {\n      filter: e => !e.isFetching,\n      symbols: this._pendingSymbols\n    }), this.showDataExtent(this._tileFetcher.filterExtent)) : (this._loadingGraphics.forEach(e => {\n      this._view.graphics.removeMany(e);\n    }), this._loadingGraphics.clear(), this._loadedGraphics.forEach(e => {\n      this._view.graphics.removeMany(e);\n    }), this._loadedGraphics.clear(), this._pendingGraphics.forEach(e => {\n      this._view.graphics.removeMany(e);\n    }), this._pendingGraphics.clear(), this._dataExtentGraphic && (this._view.graphics.remove(this._dataExtentGraphic), this._dataExtentGraphic = null));\n  }\n  showDataExtent(e) {\n    if (this._dataExtentGraphic && (this._view.graphics.remove(this._dataExtentGraphic), this._dataExtentGraphic = null), null == e) return;\n    const i = s.fromExtent(e);\n    this._dataExtentGraphic = new t({\n      geometry: i,\n      symbol: this._dataExtentSymbol\n    }), this._view.graphics.add(this._dataExtentGraphic);\n  }\n  _synchronizeMaps(s, o) {\n    const a = [];\n    s.forEach((e, t) => {\n      const i = this._tileFetcher.test.getFeatureTileById(t);\n      i && o.filter(i) || (this._view.graphics.removeMany(e), a.push(t));\n    }), a.forEach(e => s.delete(e)), this._tileFetcher.test.forEachFeatureTile(a => {\n      if (o.filter(a) && !s.has(a.id)) {\n        const [h, p, y] = a.descriptor.lij;\n        this._tilingScheme.ensureMaxLod(h);\n        const d = this._tilingScheme.getExtentGeometry(h, p, y),\n          _ = [new t({\n            geometry: d,\n            symbol: o.symbols[h % o.symbols.length]\n          }), new t({\n            geometry: d.center,\n            symbol: new r({\n              verticalOffset: new n({\n                screenLength: 40 / .75\n              }),\n              callout: new c({\n                color: new e(\"white\"),\n                border: new m({\n                  color: new e(\"black\")\n                })\n              }),\n              symbolLayers: new i([new l({\n                text: `${h}/${p}/${y}`,\n                halo: {\n                  color: \"white\",\n                  size: 1 / .75\n                },\n                material: {\n                  color: \"black\"\n                },\n                size: 16\n              })])\n            })\n          })];\n        s.set(a.id, _), this._view.graphics.addMany(_);\n      }\n    });\n  }\n}\nexport { y as FeatureTileFetcher3DDebugger };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { result as i } from \"../../../core/asyncUtils.js\";\nimport r from \"../../../core/Collection.js\";\nimport has from \"../../../core/has.js\";\nimport s from \"../../../core/Error.js\";\nimport { clone as a } from \"../../../core/lang.js\";\nimport o from \"../../../core/Logger.js\";\nimport { destroyMaybe as l, removeMaybe as n, abortMaybe as u } from \"../../../core/maybe.js\";\nimport { EsriPromiseMixin as h } from \"../../../core/Promise.js\";\nimport { createAbortError as c, isAbortError as d } from \"../../../core/promiseUtils.js\";\nimport { initial as p, whenOnce as m, watch as f, syncAndInitial as y, sync as _ } from \"../../../core/reactiveUtils.js\";\nimport { property as g } from \"../../../core/accessorSupport/decorators/property.js\";\nimport { subclass as F } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as x } from \"../../../core/support/UpdatingHandles.js\";\nimport { isHostedAgolService as v } from \"../../support/arcgisLayerUrl.js\";\nimport { getEffectiveLayerCapabilities as D } from \"../../support/layerUtils.js\";\nimport { projectGeometry as b } from \"../../../portal/support/geometryServiceUtils.js\";\nimport C from \"../../../rest/support/StatisticDefinition.js\";\nimport { FeatureTileFetcher3D as w } from \"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";\nimport { FeatureTileFetcher3DDebugger as S } from \"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";\nimport { debugFlags as E } from \"../../../views/3d/support/debugFlags.js\";\nlet T = class extends h(t) {\n  get dataUpdating() {\n    return this._tileFetcher?.dataUpdating ?? !1;\n  }\n  set extent(e) {\n    if (null != e && !e.spatialReference.equals(this.layerView.view.spatialReference)) return void o.getLogger(this).error(\"#extent=\", \"extent needs to be in the same spatial reference as the view\");\n    const t = this._get(\"extent\");\n    if (t === e) return;\n    if (null != t && e && t.equals(e)) return;\n    const i = null != e ? e.clone() : null;\n    this._set(\"extent\", i);\n  }\n  get updating() {\n    return !!(null != this._tileFetcher && this._tileFetcher.updating || null != this._fetchDataInfoPromise || \"tiles\" === this.mode && this.layerView.view.featureTiles && this.layerView.view.featureTiles.updating || this._updatingHandles && this._updatingHandles.updating);\n  }\n  get updatingTotal() {\n    return this.updating && null != this._tileFetcher ? this._tileFetcher.updatingTotal : 0;\n  }\n  get updatingRemaining() {\n    return this.updating && null != this._tileFetcher ? this._tileFetcher.updatingRemaining : 0;\n  }\n  get expectedFeatureDiff() {\n    return this.updating && null != this._tileFetcher ? this._tileFetcher.expectedFeatureDiff : 0;\n  }\n  get memoryForUnusedFeatures() {\n    return null != this._tileFetcher ? this._tileFetcher.memoryForUnusedFeatures : 0;\n  }\n  get maximumNumberOfFeaturesExceeded() {\n    return !(null == this._tileFetcher || !this._tileFetcher.maximumNumberOfFeaturesExceeded);\n  }\n  get maximumNumberOfFeatures() {\n    return this.displayFeatureLimit?.maximumNumberOfFeatures ?? 0;\n  }\n  set maximumNumberOfFeatures(e) {\n    e !== this.maximumNumberOfFeatures && this._overrideIfSome(\"maximumNumberOfFeatures\", e);\n  }\n  get hasMaximumNumberOfFeaturesOverride() {\n    return this._isOverridden(\"maximumNumberOfFeatures\");\n  }\n  get hasAllFeatures() {\n    return this.serviceDataCount === q.noServiceDataCount && \"snapshot\" === this.mode && this.hasAllFeaturesInView || this.serviceDataCount === this.graphics.length;\n  }\n  get hasAllFeaturesInView() {\n    return this._tileFetcher?.hasAllFeatures ?? !1;\n  }\n  get hasFullGeometries() {\n    return this._tileFetcher?.hasFullGeometries ?? !1;\n  }\n  get mode() {\n    const e = this.layerView.layer;\n    if (\"feature\" === e.type && null != e.infoFor3D) return \"snapshot\";\n    if (\"catalog-footprint\" === e.type) return \"tiles\";\n    if (this._forceTilesMode) return \"tiles\";\n    const t = this.layerView.view;\n    if (!1 === t.qualitySettings?.graphics3D?.snapshotAvailable || this.serviceDataCount === q.noServiceDataCount || this._snapshotLimitExceeded || this.maximumNumberOfFeaturesExceeded || t.quality < 1) return \"tiles\";\n    const i = t && t.featureTiles,\n      r = i && i.tilingScheme;\n    if (e && e.minScale && this.serviceDataExtent && r) {\n      const t = this._approximateExtentSizeAtScale(e.minScale, r);\n      if ((this.serviceDataExtent.width / t + this.serviceDataExtent.height / t) / 2 > q.maxSnapshotMinScaleFactor) return \"tiles\";\n    }\n    return !this.maximumNumberOfFeatures || this.serviceDataCount <= this.maximumNumberOfFeatures ? \"snapshot\" : \"tiles\";\n  }\n  get maxTotalSnapshotVertices() {\n    const e = this._get(\"maxTotalSnapshotVertices\") || 0,\n      t = \"snapshot\" === this.mode && this._tileFetcher?.totalVertices || 0;\n    return Math.max(e, t);\n  }\n  _approximateExtentSizeAtScale(e, t) {\n    const i = this.layerView.view,\n      r = Math.ceil((i.width / t.pixelSize + i.height / t.pixelSize) / 2),\n      s = t.levels[0];\n    return r * ((s.tileSize[0] / (s.scale / e) + s.tileSize[1] / (s.scale / e)) / 2);\n  }\n  get tileDescriptors() {\n    const e = this.layerView.view.featureTiles;\n    return \"snapshot\" === this.mode ? new r([{\n      id: \"dummy-tile-full-extent\",\n      lij: [0, 0, 0]\n    }]) : e ? e.tiles : new r();\n  }\n  get test() {}\n  constructor(e) {\n    super(e), this.type = \"feature-tile-3d\", this._updatingHandles = new x(), this.serviceDataExtent = null, this.serviceDataCount = q.noServiceDataCount, this._snapshotLimitExceeded = !1, this.displayFeatureLimit = null, this._forceTilesMode = !1, this._suspended = !1, this._tileFetcher = null, this._fetchDataInfoPromise = null, this._fetchDataInfoAbortController = null, this._lifeCycleAbortController = new AbortController();\n  }\n  initialize() {\n    this._updatingHandles.add(() => this.displayFeatureLimit, e => this._updatingHandles.addPromise(this._updateSnapshotLimit(e, null, this._lifeCycleAbortController.signal))), this._updatingHandles.add(() => this.mode, () => this._modeChanged(), p), this._updatingHandles.add(() => this.mode, (e, t) => {\n      \"tiles\" === e && \"snapshot\" === t && (this._forceTilesMode = !0);\n    }, p), this.addResolvingPromise(Promise.resolve().then(() => this._verifyCapabilities()).then(() => this._updatingHandles.addPromise(this._fetchServiceDataInfo())).then(() => this._initializeTileFetcher()));\n  }\n  _verifyCapabilities() {\n    const e = this.layerView.layer;\n    if (\"ogc-feature\" !== e.type && !D(e)?.operations.supportsQuery) throw new s(\"graphicscontroller:query-capability-required\", \"Service requires query capabilities to be used as a feature layer\", {\n      layer: e\n    });\n  }\n  destroy() {\n    this._cancelFetchServiceDataInfo(), this._tileFetcher = l(this._tileFetcher), this._tilesHandle = n(this._tilesHandle), this._lifeCycleAbortController = u(this._lifeCycleAbortController), this._updatingHandles.destroy(), this._set(\"_updatingHandles\", null);\n  }\n  suspend() {\n    this._suspended || (this._suspended = !0, null != this._tileFetcher && this._tileFetcher.suspend());\n  }\n  resume() {\n    this._suspended && (this._suspended = !1, null != this._tileFetcher && this._tileFetcher.resume());\n  }\n  restart() {\n    const e = () => {\n      null != this._tileFetcher && this._tileFetcher.restart();\n    };\n    this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(e, e));\n  }\n  refetch() {\n    this._refetch({\n      resetForceTilesMode: !1\n    });\n  }\n  getMissingAttributesForFeature(e) {\n    return this._tileFetcher?.getMissingAttributesForFeature(e);\n  }\n  _refetch(e) {\n    const t = () => {\n      null != this._tileFetcher && (e.resetForceTilesMode && (this._forceTilesMode = !1), this._tileFetcher.refetch());\n    };\n    this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(t, t));\n  }\n  _initializeTileFetcher() {\n    const e = this.layerView.view;\n    if (!e) return;\n    const t = m(() => e.featureTiles?.tilingScheme, this._lifeCycleAbortController.signal);\n    this._updatingHandles.addPromise(t), t.then(() => {\n      const {\n          layerView: e,\n          tileDescriptors: t\n        } = this,\n        i = e.layer,\n        r = new w({\n          context: this.context,\n          filterExtent: this.extent,\n          tileDescriptors: t,\n          features: this.graphics\n        });\n      this._tileFetcher = r, this._suspended ? r.suspend() : r.resume();\n      const s = this.layerView.view;\n      s && this.addHandles(f(() => s.quality, e => r.memoryFactor = e, y));\n      const a = \"polygon\" === this.context.geometryType ? \"polygonLodFactor\" : \"polyline\" === this.context.geometryType ? \"polylineLodFactor\" : null;\n      a && this.addHandles(f(() => this.layerView.view?.qualitySettings?.graphics3D?.[a], e => r.lodFactor = e || 1, p));\n      const o = e => {\n          r.maximumNumberOfFeatures = e, r.useTileCount = this.serviceDataCount > e;\n        },\n        l = e => {\n          r.useTileCount = e > this.maximumNumberOfFeatures;\n        };\n      \"ogc-feature\" !== i.type && this._updatingHandles.add(() => i.createQueryVersion, () => this._dataFilterChanged()), this._updatingHandles.add(() => e.availableFields, (e, t) => this._availableFieldsChanged(t, e)), this._updatingHandles.add(() => e.requiredFields, (e, t) => this._requiredFieldsChanged(t, e)), \"customParameters\" in i && this._updatingHandles.add(() => i.customParameters, () => this.restart()), this.addHandles([i.on(\"apply-edits\", e => this._applyEdits(e)), f(() => this.extent, e => r.filterExtent = e, _), f(() => this.tileDescriptors, e => r.tileDescriptors = e, _), f(() => this.maximumNumberOfFeatures, o, y), f(() => this.serviceDataCount, l, y), f(() => E.FEATURE_TILE_FETCH_SHOW_TILES, e => {\n        e && r && !r.debugger ? (r.debugger = new S(r, s.featureTiles.tilingScheme.toTileInfo(), s), r.debugger.update()) : !e && this._tileFetcher && r.debugger && (r.debugger.destroy(), r.debugger = null);\n      }, y)]), this._supportsExceedsLimitQuery || this._updatingHandles.add(() => this.maxTotalSnapshotVertices, () => this._updatingHandles.addPromise(this._updateSnapshotLimit(this.displayFeatureLimit, null, this._lifeCycleAbortController.signal)));\n    }).catch(() => {});\n  }\n  _modeChanged() {\n    switch (this.mode) {\n      case \"tiles\":\n        this._tilesHandle || (this._tilesHandle = this.layerView.view.featureTiles.addClient());\n        break;\n      default:\n        o.getLogger(this).warn(\"Unhandled feature layer mode \" + this.mode);\n      case \"snapshot\":\n        null != this._tilesHandle && (this._tilesHandle.remove(), this._tilesHandle = null);\n    }\n  }\n  _dataFilterChanged() {\n    this._set(\"maxTotalSnapshotVertices\", 0), this.notifyChange(\"maxTotalSnapshotVertices\"), this._refetch({\n      resetForceTilesMode: !0\n    });\n  }\n  _applyEdits(e) {\n    const t = this.layerView.layer;\n    null != this._tileFetcher && this._tileFetcher.applyEdits(e).then(e => {\n      if (e) {\n        if (!this._lifeCycleAbortController) throw c();\n        e.exceededTransferLimit && \"refresh\" in t ? t.refresh() : (e.deletedFeatures.length || e.updatedFeatures.length || e.addedFeatures.length) && this._updatingHandles.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal));\n      }\n    }).catch(e => {\n      if (!d(e)) throw e;\n    });\n  }\n  _availableFieldsChanged(e, t) {\n    null != this._tileFetcher && A(this._tileFetcher.availableFields, t) && this._refetch({\n      resetForceTilesMode: !1\n    });\n  }\n  _requiredFieldsChanged(e, t) {\n    null != this._tileFetcher && A(this._tileFetcher.availableFields, t) && this.restart();\n  }\n  _createVertexLimitExceededQuery(e) {\n    const t = this.layerView.layer,\n      i = t.createQuery();\n    return i.returnGeometry = !1, i.outStatistics = [new C({\n      statisticType: \"exceedslimit\",\n      maxVertexCount: e,\n      outStatisticFieldName: \"exceedslimit\",\n      maxPointCount: 1e8,\n      maxRecordCount: 1e8\n    })], t.capabilities?.query.supportsCacheHint && (i.cacheHint = !0), i;\n  }\n  _createDataInfoQuery() {\n    const e = this.layerView.layer,\n      t = e.createQuery();\n    return t.returnGeometry = !1, t.outSpatialReference = this.layerView.view.spatialReference, e.capabilities?.query.supportsCacheHint && (t.cacheHint = !0), t;\n  }\n  _fullExtentIsAccurate() {\n    const e = this.layerView.layer;\n    if (\"definitionExpression\" in e && e.definitionExpression) return !1;\n    switch (e.type) {\n      case \"feature\":\n      case \"catalog-footprint\":\n      case \"oriented-imagery\":\n        return v(e.url);\n      case \"csv\":\n      case \"geojson\":\n      case \"ogc-feature\":\n      case \"wfs\":\n        return !0;\n      default:\n        return;\n    }\n  }\n  async _updateServiceDataExtent(e) {\n    try {\n      await this._tryUpdateServiceDataExtent(e);\n    } catch (t) {\n      d(t) || this._set(\"serviceDataExtent\", a(this.layerView.fullExtentInLocalViewSpatialReference));\n    }\n  }\n  async _tryUpdateServiceDataExtent(e) {\n    const t = this.layerView,\n      i = t.layer,\n      r = i.capabilities?.query.supportsExtent ?? !1,\n      s = a(t.fullExtentInLocalViewSpatialReference),\n      o = i.fullExtent,\n      l = this._fullExtentIsAccurate(),\n      n = this.serviceDataCount;\n    if (r && n <= q.maxFeatureCountForExtent && (!s || !l) && \"queryExtent\" in i) {\n      const t = this._createDataInfoQuery(),\n        r = await i.queryExtent(t, {\n          timeout: q.queryExtentTimeout,\n          signal: e\n        });\n      this._set(\"serviceDataExtent\", r.extent);\n    } else if (s) this._set(\"serviceDataExtent\", s);else if (null != o) {\n      const r = \"portalItem\" in i ? i.portalItem : null,\n        s = await b(o, t.view.spatialReference, r, e);\n      this._set(\"serviceDataExtent\", s);\n    } else this._set(\"serviceDataExtent\", null);\n  }\n  async _updateServiceDataCount(e) {\n    const t = this.layerView.layer;\n    if (!(\"queryFeatureCount\" in t) || !has(\"featurelayer-snapshot-enabled\")) return void this._set(\"serviceDataCount\", q.noServiceDataCount);\n    const r = await i(t.queryFeatureCount(this._createDataInfoQuery(), {\n      timeout: q.queryStatisticsTimeout,\n      signal: e\n    }));\n    if (!0 === r.ok) this._set(\"serviceDataCount\", r.value);else {\n      if (d(r.error)) throw r.error;\n      this._set(\"serviceDataCount\", q.noServiceDataCount);\n    }\n  }\n  get _supportsExceedsLimitQuery() {\n    const e = this.layerView.layer;\n    return null != e.capabilities && e.capabilities.operations && e.capabilities.operations.supportsExceedsLimitStatistics;\n  }\n  get _minimumNumberOfVerticesForGeometry() {\n    switch (this.layerView.layer.geometryType) {\n      case \"point\":\n      case \"multipoint\":\n        return 1;\n      case \"polygon\":\n        return 4;\n      case \"polyline\":\n        return 2;\n      case \"multipatch\":\n      case \"mesh\":\n        return 3;\n      default:\n        return 0;\n    }\n  }\n  async _updateSnapshotLimit(e, t, r) {\n    if (null == e?.averageSymbolComplexity) return void (this._snapshotLimitExceeded = !1);\n    const {\n        maximumTotalNumberOfVertices: s,\n        averageSymbolComplexity: a\n      } = e,\n      {\n        verticesPerFeature: o,\n        verticesPerCoordinate: l\n      } = a,\n      n = o <= 0,\n      u = this._minimumNumberOfVerticesForGeometry > 1;\n    if (!n && !u) return void (this._snapshotLimitExceeded = !1);\n    0 !== o && null != t && (await t);\n    const h = Math.min(s, H),\n      c = this.serviceDataCount,\n      p = c !== q.noServiceDataCount;\n    let m = p ? Math.ceil((h - c * o) / (l || 1)) : Math.ceil(h / (l || 1));\n    if (u && (m = Math.min(m, L)), p && this._minimumNumberOfVerticesForGeometry * c > m) return void (this._snapshotLimitExceeded = !0);\n    if (!this._supportsExceedsLimitQuery || !has(\"featurelayer-snapshot-enabled\")) return void (this._snapshotLimitExceeded = this.maxTotalSnapshotVertices > m);\n    const f = await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(m), {\n      timeout: q.queryStatisticsTimeout,\n      signal: r\n    }));\n    if (!1 === f.ok) {\n      if (d(f.error)) throw f.error;\n      return void (this._snapshotLimitExceeded = !1);\n    }\n    const y = f.value.features[0];\n    this._snapshotLimitExceeded = !!y?.attributes && !!y.attributes.exceedslimit;\n  }\n  async _fetchServiceDataInfo() {\n    this._cancelFetchServiceDataInfo();\n    let e = new AbortController();\n    const t = e.signal,\n      i = this._updateServiceDataCount(t),\n      r = Promise.allSettled([i, this._updateSnapshotLimit(this.displayFeatureLimit, i, t)]),\n      s = r.then(() => this._updateServiceDataExtent(t)).catch(e => {\n        d(e) || o.getLogger(this).error(\"#fetchServiceDataInfo()\", e);\n      }).then(() => {\n        s === this._fetchDataInfoPromise && (this._fetchDataInfoPromise = null, this._fetchDataInfoAbortController = null), e = null;\n      });\n    return e && (this._fetchDataInfoPromise = s), this._fetchDataInfoAbortController = e, r.then(() => {}, () => {});\n  }\n  _cancelFetchServiceDataInfo() {\n    const e = this._fetchDataInfoAbortController;\n    e && (this._fetchDataInfoAbortController = null, this._fetchDataInfoPromise = null, e.abort());\n  }\n  get performanceInfo() {\n    return {\n      storedFeatures: this._tileFetcher?.storedFeatures ?? 0,\n      totalFeatures: this._tileFetcher?.totalFeatures ?? 0,\n      totalVertices: this._tileFetcher?.totalVertices ?? 0,\n      missingTiles: this._tileFetcher?.missingTiles ?? 0\n    };\n  }\n};\ne([g({\n  readOnly: !0\n})], T.prototype, \"type\", void 0), e([g({\n  constructOnly: !0\n})], T.prototype, \"graphics\", void 0), e([g({\n  constructOnly: !0\n})], T.prototype, \"layerView\", void 0), e([g({\n  constructOnly: !0\n})], T.prototype, \"context\", void 0), e([g({\n  readOnly: !0\n})], T.prototype, \"dataUpdating\", null), e([g()], T.prototype, \"extent\", null), e([g()], T.prototype, \"updating\", null), e([g({\n  readOnly: !0\n})], T.prototype, \"_updatingHandles\", void 0), e([g()], T.prototype, \"updatingTotal\", null), e([g()], T.prototype, \"updatingRemaining\", null), e([g()], T.prototype, \"expectedFeatureDiff\", null), e([g()], T.prototype, \"memoryForUnusedFeatures\", null), e([g()], T.prototype, \"maximumNumberOfFeaturesExceeded\", null), e([g({\n  readOnly: !0\n})], T.prototype, \"serviceDataExtent\", void 0), e([g({\n  readOnly: !0\n})], T.prototype, \"serviceDataCount\", void 0), e([g()], T.prototype, \"_snapshotLimitExceeded\", void 0), e([g()], T.prototype, \"displayFeatureLimit\", void 0), e([g({\n  type: Number\n})], T.prototype, \"maximumNumberOfFeatures\", null), e([g({\n  readOnly: !0\n})], T.prototype, \"hasAllFeatures\", null), e([g({\n  readOnly: !0\n})], T.prototype, \"hasAllFeaturesInView\", null), e([g({\n  readOnly: !0\n})], T.prototype, \"hasFullGeometries\", null), e([g()], T.prototype, \"_forceTilesMode\", void 0), e([g({\n  readOnly: !0\n})], T.prototype, \"mode\", null), e([g({\n  readOnly: !0\n})], T.prototype, \"maxTotalSnapshotVertices\", null), e([g({\n  readOnly: !0\n})], T.prototype, \"tileDescriptors\", null), e([g()], T.prototype, \"_tileFetcher\", void 0), e([g()], T.prototype, \"_fetchDataInfoPromise\", void 0), T = e([F(\"esri.layers.graphics.controllers.FeatureTileController3D\")], T);\nconst V = 1e4,\n  H = 1e6,\n  O = 12e3,\n  I = 1e4,\n  L = 5e6;\nfunction A(e, t) {\n  if (!t) return !1;\n  for (const i of t) if (!e.has(i)) return !0;\n  return !1;\n}\nvar q;\n!function (e) {\n  function t() {\n    e.maxFeatureCountForExtent = V, e.queryStatisticsTimeout = O, e.queryExtentTimeout = I;\n  }\n  e.noServiceDataCount = 1 / 0, e.maxSnapshotMinScaleFactor = 5, e.reset = t;\n}(q || (q = {})), q.reset();\nexport { T as FeatureTileController3D, q as FeatureTileController3DConstants };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { NoParameters as r } from \"../core/shaderModules/interfaces.js\";\nimport { ReloadableShaderModule as t } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as s } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { parameter as i } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as o } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { blendingDefault as n } from \"../lib/OrderIndependentTransparency.js\";\nimport { Program as a } from \"../lib/Program.js\";\nimport { DefaultTechniqueConfiguration as l } from \"../materials/DefaultTechniqueConfiguration.js\";\nimport { H as m } from \"../../../../chunks/Heatmap.glsl.js\";\nimport { PrimitiveType as u } from \"../../../webgl/enums.js\";\nimport { makePipelineState as p, defaultColorWriteParams as c } from \"../../../webgl/renderState.js\";\nclass h extends r {\n  constructor() {\n    super(...arguments), this.colorRamp = null, this.densityMap = null, this.searchRadius = 1, this.fieldTotal = 0, this.minDensity = 0, this.maxDensity = 100;\n  }\n}\nclass d extends s {\n  constructor(e, r) {\n    super(e, r, () => this.destroy());\n  }\n  initializeProgram(e) {\n    return new a(e.rctx, d.shader.get().build(this.configuration), o);\n  }\n  initializePipeline() {\n    return p({\n      blending: n,\n      colorWrite: c,\n      depthTest: null,\n      depthWrite: null\n    });\n  }\n  get primitiveType() {\n    return u.TRIANGLE_STRIP;\n  }\n}\nd.shader = new t(m, () => import(\"./Heatmap.glsl.js\"));\nclass f extends l {\n  constructor() {\n    super(...arguments), this.usesHalfFloat = !1;\n  }\n}\ne([i()], f.prototype, \"usesHalfFloat\", void 0);\nexport { h as HeatmapPassParameters, d as HeatmapTechnique, f as HeatmapTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { releaseMaybe as e, disposeMaybe as r } from \"../../../../core/maybe.js\";\nimport { watch as a } from \"../../../../core/reactiveUtils.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { ViewingMode as o } from \"../../../ViewingMode.js\";\nimport { createQuadVAO as n } from \"./glUtil3D.js\";\nimport { SortedRenderGeometryRenderer as h } from \"./SortedRenderGeometryRenderer.js\";\nimport { HeatmapPassParameters as m, HeatmapTechniqueConfiguration as p, HeatmapTechnique as l } from \"../shaders/HeatmapTechnique.js\";\nimport { TextureWrapMode as c, PixelType as d, ClearBufferBit as u } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as y } from \"../../../webgl/FramebufferObject.js\";\nimport { Texture as _ } from \"../../../webgl/Texture.js\";\nimport { TextureDescriptor as g } from \"../../../webgl/TextureDescriptor.js\";\nimport { vertexCount as f } from \"../../../webgl/Util.js\";\nlet x = class extends h {\n  constructor(t) {\n    super(t), this.pixelRatio = 1, this._colorRampData = new Uint8ClampedArray(4), this.type = \"draped-heatmap\", this._heatmapParameters = new m();\n    const e = new g();\n    e.pixelFormat = t.pixelFormat, e.internalFormat = t.internalFormat, e.dataType = t.dataType, e.samplingMode = t.samplingMode, e.wrapMode = c.CLAMP_TO_EDGE;\n    const r = t.rendererContext.rctx;\n    this._densityMap = new y(r, e), this._quad = n(r);\n    const a = new p();\n    a.usesHalfFloat = t.dataType !== d.FLOAT, this._technique = new l({\n      rctx: r,\n      viewingMode: o.Local\n    }, a);\n  }\n  initialize() {\n    const t = this._colorRampData,\n      e = new g(t.length / 4, 1);\n    e.wrapMode = c.CLAMP_TO_EDGE, this._colorRamp = new _(this.rctx, e, t), this._heatmapParameters.densityMap = this._densityMap.colorTexture, this.addHandles(a(() => [this.colorRampData, this.minDensity, this.maxDensity, this.fieldTotal, this.pixelRatio, this.searchRadius], () => this.rendererContext.notifyContentChanged()));\n  }\n  destroy() {\n    this._technique = e(this._technique), this._densityMap = r(this._densityMap), this._quad = r(this._quad), this._colorRamp = r(this._colorRamp);\n  }\n  get searchRadius() {\n    return this._heatmapParameters.searchRadius;\n  }\n  set searchRadius(t) {\n    t !== this._heatmapParameters.searchRadius && (this._heatmapParameters.searchRadius = t, this.notifyChange(\"searchRadius\"));\n  }\n  get minDensity() {\n    return this._heatmapParameters.minDensity;\n  }\n  set minDensity(t) {\n    t !== this._heatmapParameters.minDensity && (this._heatmapParameters.minDensity = t, this.notifyChange(\"minDensity\"));\n  }\n  get maxDensity() {\n    return this._heatmapParameters.maxDensity;\n  }\n  set maxDensity(t) {\n    t !== this._heatmapParameters.maxDensity && (this._heatmapParameters.maxDensity = t, this.notifyChange(\"maxDensity\"));\n  }\n  get fieldTotal() {\n    return this._heatmapParameters.fieldTotal;\n  }\n  set fieldTotal(t) {\n    this._heatmapParameters.fieldTotal = t, this.notifyChange(\"fieldTotal\");\n  }\n  get colorRampData() {\n    return this._colorRampData;\n  }\n  set colorRampData(t) {\n    const {\n      colorRamp: e\n    } = this._heatmapParameters;\n    if (null != e && t !== this._colorRampData) {\n      const r = e.descriptor.width,\n        a = t.length / 4;\n      a !== r && e.resize(a, 1), e.setData(t);\n    }\n    this._colorRampData = t;\n  }\n  get _colorRamp() {\n    return this._heatmapParameters.colorRamp;\n  }\n  set _colorRamp(t) {\n    this._heatmapParameters.colorRamp = t;\n  }\n  get hasHighlights() {\n    return !1;\n  }\n  get hasWater() {\n    return !1;\n  }\n  get rendersOccludedDraped() {\n    return !1;\n  }\n  render(t) {\n    const e = this._sortedMaterialRenderers;\n    if (0 === e.length) return;\n    const r = this.rctx.getBoundFramebufferObject(),\n      a = this.rctx.getViewport(),\n      {\n        pixelRatio: i\n      } = this,\n      s = Math.ceil(a.width * i),\n      o = Math.ceil(a.height * i);\n    this._densityMap.resize(s, o), this.rctx.bindFramebuffer(this._densityMap), this.rctx.setViewport(0, 0, s, o), this.rctx.clear(u.COLOR_BUFFER_BIT);\n    let n = !1;\n    e.forAll(e => {\n      const r = e.prepareTechnique(t);\n      null != r && (e.renderNode(t, r), n = !0);\n    }), this.rctx.bindFramebuffer(r), this.rctx.setViewport(a.x, a.y, a.width, a.height), n && (this.rctx.bindVAO(this._quad), this.rctx.bindTechnique(this._technique, t.bindParameters, this._heatmapParameters), this.rctx.drawArrays(this._technique.primitiveType, 0, f(this._quad, \"geometry\")));\n  }\n};\nt([i()], x.prototype, \"searchRadius\", null), t([i()], x.prototype, \"minDensity\", null), t([i()], x.prototype, \"maxDensity\", null), t([i()], x.prototype, \"fieldTotal\", null), t([i()], x.prototype, \"pixelRatio\", void 0), t([i()], x.prototype, \"colorRampData\", null), t([i({\n  constructOnly: !0\n})], x.prototype, \"dataType\", void 0), t([i({\n  constructOnly: !0\n})], x.prototype, \"samplingMode\", void 0), t([i({\n  constructOnly: !0\n})], x.prototype, \"pixelFormat\", void 0), t([i({\n  constructOnly: !0\n})], x.prototype, \"internalFormat\", void 0), t([i()], x.prototype, \"_colorRampData\", void 0), x = t([s(\"esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer\")], x);\nexport { x as DrapedHeatmapRenderer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { ReloadableShaderModule as r } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as t } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { parameter as i } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as s } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { MaterialParameters as o } from \"../lib/Material.js\";\nimport { Program as a } from \"../lib/Program.js\";\nimport { DefaultTechniqueConfiguration as n } from \"../materials/DefaultTechniqueConfiguration.js\";\nimport { H as l } from \"../../../../chunks/HeatmapDensity.glsl.js\";\nimport { BlendOperation as u, BlendFactor as m } from \"../../../webgl/enums.js\";\nimport { makePipelineState as p, simpleBlendingParams as c, defaultColorWriteParams as h } from \"../../../webgl/renderState.js\";\nclass d extends o {\n  constructor() {\n    super(...arguments), this.searchRadius = 128, this.resolutionForScale = 0;\n  }\n}\nclass f extends t {\n  initializeProgram(e) {\n    return new a(e.rctx, f.shader.get().build(this.configuration), s);\n  }\n  initializePipeline() {\n    return p({\n      blending: c(m.ONE, m.ONE, u.ADD),\n      colorWrite: h,\n      depthTest: null,\n      depthWrite: null\n    });\n  }\n  destroy() {\n    super.destroy();\n  }\n}\nf.shader = new r(l, () => import(\"./HeatmapDensity.glsl.js\"));\nclass b extends n {\n  constructor() {\n    super(...arguments), this.isAttributeDriven = !1, this.usesHalfFloat = !1;\n  }\n}\ne([i()], b.prototype, \"isAttributeDriven\", void 0), e([i()], b.prototype, \"usesHalfFloat\", void 0);\nexport { d as HeatmapDensityPassParameters, f as HeatmapDensityTechnique, b as HeatmapDensityTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { set as t, squaredDistance as e } from \"../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as r } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { newLayout as s } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as i } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport a from \"../lib/GLMaterial.js\";\nimport { Material as o } from \"../lib/Material.js\";\nimport { RenderSlot as n } from \"../lib/RenderSlot.js\";\nimport { VertexAttribute as u } from \"../lib/VertexAttribute.js\";\nimport { writePosition as l, writeBufferFloat as c } from \"./internal/bufferWriterUtils.js\";\nimport { HeatmapDensityPassParameters as f, HeatmapDensityTechniqueConfiguration as m, HeatmapDensityTechnique as p } from \"../shaders/HeatmapDensityTechnique.js\";\nconst h = 2;\nclass b extends f {\n  constructor() {\n    super(...arguments), this.isAttributeDriven = !1, this.usesHalfFloats = !1;\n  }\n}\nclass T extends o {\n  constructor(t) {\n    super(t, new b()), this.produces = new Map([[n.DRAPED_MATERIAL, t => t === i.Color]]), this._configuration = new m();\n  }\n  getConfiguration() {\n    return this._configuration.isAttributeDriven = this.parameters.isAttributeDriven, this._configuration.usesHalfFloat = this.parameters.usesHalfFloats, this._configuration;\n  }\n  createGLMaterial(t) {\n    return new d(t);\n  }\n  intersect() {}\n  intersectDraped(r, s, i, a, o, n) {\n    const l = r.attributes.get(u.POSITION),\n      {\n        parameters: c\n      } = this,\n      {\n        searchRadius: f\n      } = c,\n      {\n        screenToWorldRatio: m\n      } = r,\n      p = f * m + h * m,\n      b = p * p,\n      T = l.data.length / l.size;\n    for (let u = 0; u < T; u++) {\n      const r = u * l.size,\n        s = t(E, l.data[r], l.data[r + 1]);\n      e(s, a) < b && o(n.dist, n.normal, -1, !1);\n    }\n  }\n  createBufferWriter() {\n    return new g(this.parameters.isAttributeDriven ? I : A);\n  }\n}\nclass d extends a {\n  beginSlot(t) {\n    return this.ensureTechnique(p, t);\n  }\n}\nclass g {\n  constructor(t) {\n    this.vertexBufferLayout = t;\n  }\n  elementCount(t) {\n    return t.attributes.get(u.POSITION).indices.length * v;\n  }\n  write(t, e, r, s, i) {\n    l(r.attributes.get(u.POSITION), t, s.position, i, v);\n    const a = r.attributes.get(u.POSITION).indices.length,\n      o = s.uv0;\n    let n = i;\n    for (let u = 0; u < a; ++u) o.setValues(n++, -1, -1), o.setValues(n++, 1, -1), o.setValues(n++, 1, 1), o.setValues(n++, 1, 1), o.setValues(n++, -1, 1), o.setValues(n++, -1, -1);\n    const f = u.FEATUREATTRIBUTE in s ? s.featureAttribute : null;\n    f && c(r.attributes.get(u.FEATUREATTRIBUTE), f, i, v);\n  }\n}\nconst A = s().vec3f(u.POSITION).vec2f(u.UV0),\n  I = A.clone().f32(u.FEATUREATTRIBUTE),\n  v = 6,\n  E = r();\nexport { T as HeatmapDensityMaterial, b as HeatmapDensityMaterialParameters };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { isSome as r } from \"../../../../core/arrayUtils.js\";\nimport { estimateAttributesObjectSize as i, estimateFixedArraySize as a, estimateNumberByteSize as s } from \"../../../../core/byteSizeEstimations.js\";\nimport { makeHandle as o } from \"../../../../core/handleUtils.js\";\nimport \"../../../../core/has.js\";\nimport n from \"../../../../core/Logger.js\";\nimport { initial as l, sync as p, watch as d } from \"../../../../core/reactiveUtils.js\";\nimport { pt2px as u } from \"../../../../core/screenUtils.js\";\nimport { property as m } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport { subclass as h } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as c } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { UpdatingHandles as y } from \"../../../../core/support/UpdatingHandles.js\";\nimport { projectPointToVector as _ } from \"../../../../geometry/projection/projectPointToVector.js\";\nimport { getContinuousIndexArray as g } from \"../../../../geometry/support/Indices.js\";\nimport { getResolutionForScale as f } from \"../../../../geometry/support/scaleUtils.js\";\nimport { getObjectId as R } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nimport { convertFromPoint as F } from \"../../../../layers/graphics/featureConversionUtils.js\";\nimport { OptimizedFeature as b } from \"../../../../layers/graphics/OptimizedFeature.js\";\nimport v from \"../../../../layers/graphics/OptimizedGeometry.js\";\nimport S from \"../../../../layers/graphics/data/FeatureStore.js\";\nimport { isNumericField as w } from \"../../../../layers/support/fieldUtils.js\";\nimport { generateGradient as P } from \"../../../../renderers/support/heatmapUtils.js\";\nimport { DrapeSourceType as j } from \"../interfaces.js\";\nimport { DisplayFeatureLimit as T } from \"../graphics/DisplayFeatureLimit.js\";\nimport { GraphicsCorePerformanceInfo as V } from \"../graphics/GraphicsCorePerformanceInfo.js\";\nimport { FeatureVisibilityFilter as G } from \"./FeatureVisibilityFilter.js\";\nimport { drapedZ as x } from \"../../terrain/OverlayRenderer.js\";\nimport { Attribute as I } from \"../../webgl-engine/lib/Attribute.js\";\nimport { ContentObjectType as M } from \"../../webgl-engine/lib/ContentObjectType.js\";\nimport { DrapedHeatmapRenderer as A } from \"../../webgl-engine/lib/DrapedHeatmapRenderer.js\";\nimport { Geometry as N } from \"../../webgl-engine/lib/Geometry.js\";\nimport { DirtyOperation as O, DirtyState as H } from \"../../webgl-engine/lib/ModelDirtyTypes.js\";\nimport { RenderGeometry as U } from \"../../webgl-engine/lib/RenderGeometry.js\";\nimport { UpdatePolicy as E } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nimport { VertexAttribute as L } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { HeatmapDensityMaterial as D } from \"../../webgl-engine/materials/HeatmapDensityMaterial.js\";\nimport { scaleBoundsPredicate as C, isScaleRangeActive as B } from \"../../../support/layerViewUtils.js\";\nimport { PixelType as W, PixelFormat as Z } from \"../../../webgl/enums.js\";\nimport { loadHeatmapTextureConfiguration as z } from \"../../../webgl/heatmapTextureUtils.js\";\nconst $ = 112;\nlet q = class extends t {\n  constructor(e) {\n    super(e), this.type = \"heatmap\", this.preferredUpdatePolicy = E.ASYNC, this.dataExtent = null, this.drapeSourceType = j.Features, this._renderGeometries = new Map(), this._fieldTotal = 0, this._drapeSourceRenderer = null, this._dataType = W.HALF_FLOAT, this._pixelFormat = Z.RGBA, this._updatingHandles = new y(), this.initializePromise = Promise.resolve();\n  }\n  initialize() {\n    this._featureStore = new S({\n      geometryType: \"esriGeometryPoint\",\n      hasZ: this.hasZ,\n      hasM: this.hasM\n    });\n    const {\n      dataType: e,\n      samplingMode: t,\n      pixelFormat: r,\n      internalFormat: i\n    } = z(this._renderView.renderingContext, n.getLogger(this));\n    this._dataType = e, this._pixelFormat = r;\n    const a = e !== W.FLOAT;\n    this._drapeSourceRenderer = this.view.basemapTerrain.overlayManager.registerDrapeSource(this, A, {\n      ...this._rendererParameters,\n      dataType: e,\n      samplingMode: t,\n      pixelFormat: r,\n      internalFormat: i\n    }), this._material = new D({\n      usesHalfFloats: a\n    }), this._materialWithField = new D({\n      usesHalfFloats: a,\n      isAttributeDriven: !0\n    }), this._filterVisibility = new G({\n      context: {\n        configuration: this.owner,\n        featureStore: this.featureStore,\n        getFeatureCount: () => this._loadedPointGraphics.length,\n        setAllFeaturesVisibility: e => this._setAllFeaturesVisibility(e),\n        clearFeaturesVisibility: () => this._setAllFeaturesVisibility(!0),\n        updateFeatureVisibilities: e => this._updateFeatureVisibilities(e)\n      }\n    }), this._updatingHandles.addOnCollectionChange(() => this._loadedPointGraphics, e => this._onLoadedFeaturesChange(e), l), this._updatingHandles.addWhen(() => this._materialParameters, e => this._forEachMaterial(t => t.setParameters(e)), l), this._updatingHandles.add(() => this._rendererParameters, e => this._drapeSourceRenderer.set(e)), this._updatingHandles.add(() => this._heatmapRendererField, () => {\n      this._recreate();\n    }, p), this._updatingHandles.add(() => ({\n      fieldName: this._heatmapRendererFieldName,\n      numeric: this._heatmapRendererFieldIsNumeric\n    }), ({\n      fieldName: e,\n      numeric: t\n    }) => {\n      if (null != e && t) {\n        let t = 0;\n        this._featureStore.forEach(r => t += r.attributes[e] ?? 0), this._fieldTotal = t;\n      } else this._fieldTotal = this._featureStore.numFeatures;\n    }, l), this.addHandles([d(() => ({\n      fieldName: this._heatmapRendererFieldName,\n      field: this._heatmapRendererField\n    }), ({\n      fieldName: e,\n      field: t\n    }) => {\n      e && !t && n.getLogger(this).warn(`Heatmap renderer field '${e}' for layer '${this.layer.title ?? this.layer.id}' not found`);\n    }), d(() => ({\n      field: this._heatmapRendererField,\n      numeric: this._heatmapRendererFieldIsNumeric\n    }), ({\n      field: e,\n      numeric: t\n    }) => {\n      null == e || t || n.getLogger(this).warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title ?? this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`);\n    }), o(() => this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))]);\n  }\n  destroy() {\n    this._renderGeometries.clear(), this._material = null, this._materialWithField = null, this._featureStore.clear(), this._featureStore = null, this._updatingHandles.destroy();\n  }\n  get layer() {\n    return this.owner.layer;\n  }\n  get featureStore() {\n    return this._featureStore;\n  }\n  get updating() {\n    return this._updatingHandles.updating || this.filterVisibility.updating;\n  }\n  get updatingRemaining() {\n    return 0;\n  }\n  get suspendInfo() {\n    return {};\n  }\n  get legendEnabled() {\n    return !0;\n  }\n  get filterVisibility() {\n    return this._filterVisibility;\n  }\n  get displayFeatureLimit() {\n    const e = this.owner?.view?.quality ?? 1,\n      t = this.owner?.view?.qualitySettings,\n      r = t ? Math.ceil(t.heatmap.maxTotalNumberOfFeatures * e) : 0;\n    return new T(r * 6, r);\n  }\n  get hasZ() {\n    return \"hasZ\" in this.layer && this.layer.hasZ;\n  }\n  get hasM() {\n    return \"hasM\" in this.layer && this.layer.hasM;\n  }\n  get view() {\n    return this.owner.view;\n  }\n  get fullOpacity() {\n    return this.owner.fullOpacity;\n  }\n  get updatePolicy() {\n    return this.owner.updatePolicy;\n  }\n  get scaleVisibilitySuspended() {\n    if (!this._isScaleRangeActive) return !1;\n    const {\n        minScale: e,\n        maxScale: t\n      } = this.layer.effectiveScaleRange,\n      {\n        scale: r\n      } = this.view;\n    return !C(r, e ?? 0, t ?? 0);\n  }\n  get usedMemory() {\n    const e = this.usedMemoryPerFeature * this._featureStore.numFeatures,\n      t = this._pixelFormat === Z.RED ? 1 : 4,\n      r = this._dataType === W.FLOAT ? 4 : 2,\n      i = Math.ceil((this._overlayRenderer?.overlays[0]?.resolution ?? 0) * this._densityMapPixelRatio) ?? 0;\n    return i * i * t * r + e;\n  }\n  get usedMemoryPerFeature() {\n    const e = this._loadedPointGraphics.find(() => !0);\n    if (null == e) return 0;\n    const t = i(e),\n      r = s(),\n      o = 6;\n    return o * a([0, 0, 0], r) + o * a([0, 0], r) + (this._heatmapRendererFieldIsNumeric ? o * r : 0) + t;\n  }\n  get loadedFeatures() {\n    return this._featureStore.numFeatures;\n  }\n  get unprocessedMemoryEstimate() {\n    return 0;\n  }\n  get performanceInfo() {\n    return new V(this._visibleFeatures, 0, 0);\n  }\n  get renderer() {\n    return this._heatmapRenderer;\n  }\n  get _overlayRenderer() {\n    return this.view.basemapTerrain.overlayManager.renderer;\n  }\n  get _overlaySpatialReference() {\n    return this._overlayRenderer.spatialReference;\n  }\n  get _rendererParameters() {\n    return {\n      ...this._radiusParameter,\n      ...this._densityParameters,\n      ...this._colorRampParameter,\n      ...this._pixelRatioParameter\n    };\n  }\n  get _materialParameters() {\n    return {\n      ...this._radiusParameter,\n      ...this._resolutionForScaleParameter\n    };\n  }\n  get _densityParameters() {\n    const e = this._heatmapRenderer;\n    if (null == e) return null;\n    const {\n      minDensity: t,\n      maxDensity: r\n    } = e;\n    return {\n      minDensity: t,\n      maxDensity: r,\n      fieldTotal: this._fieldTotal\n    };\n  }\n  get _radiusParameter() {\n    const e = this._heatmapRenderer;\n    return e ? {\n      searchRadius: u(this._clampSearchRadius(e.radius))\n    } : null;\n  }\n  get _resolutionForScaleParameter() {\n    const e = this._heatmapRenderer;\n    if (!e) return null;\n    const {\n      referenceScale: t\n    } = e;\n    return {\n      resolutionForScale: 0 === t ? 0 : f(t, this.view.spatialReference)\n    };\n  }\n  get _colorRampParameter() {\n    const e = this._heatmapRenderer;\n    return e ? {\n      colorRampData: P(e.colorStops)\n    } : null;\n  }\n  get _pixelRatioParameter() {\n    return {\n      pixelRatio: this._densityMapPixelRatio\n    };\n  }\n  get _densityMapPixelRatio() {\n    return this.owner?.view?.qualitySettings.heatmap.pixelRatio ?? 1;\n  }\n  get _renderView() {\n    return this.view._stage.renderView;\n  }\n  get _featuresArePoints() {\n    return \"point\" === this.layer.geometryType;\n  }\n  get _loadedPointGraphics() {\n    return this.owner.loadedGraphics;\n  }\n  get _heatmapRenderer() {\n    const e = this.layer.renderer;\n    return \"heatmap\" === e?.type ? e : null;\n  }\n  get _heatmapRendererFieldName() {\n    return this._heatmapRenderer?.field;\n  }\n  get _heatmapRendererField() {\n    const e = this._heatmapRendererFieldName;\n    return null != e ? this.layer.fieldsIndex.get(e) : null;\n  }\n  get _heatmapRendererFieldIsNumeric() {\n    const e = this._heatmapRendererField;\n    return null != e && w(e);\n  }\n  get _isScaleRangeActive() {\n    const {\n      layer: e\n    } = this;\n    if (!(\"effectiveScaleRange\" in e)) return !1;\n    const {\n      minScale: t,\n      maxScale: r\n    } = e.effectiveScaleRange;\n    return B(t, r);\n  }\n  get _visibleFeatures() {\n    let e = 0;\n    return this._renderGeometries.forEach(t => {\n      t.visible && ++e;\n    }), e;\n  }\n  async whenGraphicBounds() {\n    return null;\n  }\n  computeAttachmentOrigin() {\n    return null;\n  }\n  highlight() {\n    return o();\n  }\n  maskOccludee() {\n    return o();\n  }\n  setObjectIdVisibility() {}\n  refreshFilter() {\n    this.filterVisibility.reapply();\n  }\n  _onLoadedFeaturesChange(e) {\n    if (!this._featuresArePoints) return;\n    const {\n      objectIdField: t\n    } = this.layer;\n    this._featureStore.removeManyById(e.removed.map(e => R(e, t))), this._featureStore.addMany(e.added.map(e => {\n      const {\n          attributes: r,\n          centroid: i,\n          geometry: a\n        } = e,\n        s = new b(F(new v(), a), r, i ? F(new v(), i) : null, R(e, t));\n      return s.displayId = e.uid, s;\n    }));\n    const i = e.added,\n      a = e.removed;\n    this._fieldTotal += this._computeFieldTotalChange(i, a);\n    const s = a.map(({\n        uid: e\n      }) => {\n        const t = this._renderGeometries.get(e);\n        return this._renderGeometries.delete(e), t;\n      }).filter(r),\n      o = i.map(e => {\n        const t = this._pointGraphicToRenderGeometry(e);\n        return this._renderGeometries.set(e.uid, t), t;\n      });\n    s.length > 0 && this._drapeSourceRenderer.removeGeometries(s, O.REMOVE), o.length > 0 && this._drapeSourceRenderer.addGeometries(o, O.ADD), (o.length > 0 || s.length > 0) && (this.filterVisibility.reapply(), this._renderView.requestRender());\n  }\n  _recreate() {\n    if (!this._loadedPointGraphics) return;\n    const e = this._loadedPointGraphics.toArray();\n    this._onLoadedFeaturesChange({\n      added: e,\n      removed: e\n    });\n  }\n  _pointGraphicToRenderGeometry(e) {\n    const t = this._heatmapRendererFieldName,\n      r = null != t ? this._materialWithField : this._material,\n      i = c();\n    _(e.geometry, i, this._overlaySpatialReference), i[2] = x;\n    const a = g(1),\n      s = [[L.POSITION, new I(i, a, i.length)]],\n      o = this._heatmapRendererFieldIsNumeric;\n    null != t && s.push([L.FEATUREATTRIBUTE, new I([o ? e.attributes[t] ?? 0 : 0], a, 1)]);\n    const n = new U(new N(r, s, null, M.Point), {\n      layerUid: this.layer.uid,\n      graphicUid: e.uid\n    });\n    return n.visible = this.filterVisibility.defaultVisibility, n;\n  }\n  _forEachMaterial(e) {\n    e(this._material), e(this._materialWithField);\n  }\n  _computeFieldTotalChange(e, t) {\n    if (null == this._heatmapRendererFieldName || !this._heatmapRendererFieldIsNumeric) return e.length - t.length;\n    const r = this._heatmapRendererFieldName,\n      i = (e, t) => e + (t.attributes[r] ?? 0);\n    return e.reduce(i, 0) - t.reduce(i, 0);\n  }\n  _clampSearchRadius(e) {\n    return e > $ && n.getLogger(this).warnOnce(`SceneView supports a maximum radius of ${$} pt for HeatmapRenderer.`), Math.min(e, $);\n  }\n  _updateFeatureVisibilities(e) {\n    const t = [];\n    this._featureStore.forEach(({\n      objectId: r,\n      displayId: i\n    }) => {\n      const a = e(r),\n        s = this._renderGeometries.get(i);\n      s && s.visible !== a && (t.push(s), s.visible = a);\n    }), this._drapeSourceRenderer.modifyGeometries(t, H.VISIBILITY);\n  }\n  _setAllFeaturesVisibility(e) {\n    const t = [];\n    for (const r of this._renderGeometries.values()) r.visible !== e && (t.push(r), r.visible = e);\n    this._drapeSourceRenderer.modifyGeometries(t, H.VISIBILITY);\n  }\n  get test() {}\n};\ne([m()], q.prototype, \"type\", void 0), e([m({\n  constructOnly: !0\n})], q.prototype, \"owner\", void 0), e([m()], q.prototype, \"layer\", null), e([m()], q.prototype, \"featureStore\", null), e([m()], q.prototype, \"updating\", null), e([m()], q.prototype, \"updatingRemaining\", null), e([m()], q.prototype, \"suspendInfo\", null), e([m()], q.prototype, \"legendEnabled\", null), e([m()], q.prototype, \"filterVisibility\", null), e([m()], q.prototype, \"displayFeatureLimit\", null), e([m()], q.prototype, \"preferredUpdatePolicy\", void 0), e([m()], q.prototype, \"hasZ\", null), e([m()], q.prototype, \"hasM\", null), e([m()], q.prototype, \"dataExtent\", void 0), e([m()], q.prototype, \"view\", null), e([m()], q.prototype, \"fullOpacity\", null), e([m()], q.prototype, \"updatePolicy\", null), e([m()], q.prototype, \"drapeSourceType\", void 0), e([m()], q.prototype, \"scaleVisibilitySuspended\", null), e([m()], q.prototype, \"renderer\", null), e([m()], q.prototype, \"_featureStore\", void 0), e([m()], q.prototype, \"_filterVisibility\", void 0), e([m()], q.prototype, \"_overlayRenderer\", null), e([m()], q.prototype, \"_overlaySpatialReference\", null), e([m()], q.prototype, \"_rendererParameters\", null), e([m()], q.prototype, \"_materialParameters\", null), e([m()], q.prototype, \"_densityParameters\", null), e([m()], q.prototype, \"_radiusParameter\", null), e([m()], q.prototype, \"_resolutionForScaleParameter\", null), e([m()], q.prototype, \"_colorRampParameter\", null), e([m()], q.prototype, \"_pixelRatioParameter\", null), e([m()], q.prototype, \"_densityMapPixelRatio\", null), e([m()], q.prototype, \"_renderGeometries\", void 0), e([m()], q.prototype, \"_material\", void 0), e([m()], q.prototype, \"_materialWithField\", void 0), e([m()], q.prototype, \"_renderView\", null), e([m()], q.prototype, \"_featuresArePoints\", null), e([m()], q.prototype, \"_loadedPointGraphics\", null), e([m()], q.prototype, \"_heatmapRenderer\", null), e([m()], q.prototype, \"_heatmapRendererFieldName\", null), e([m()], q.prototype, \"_heatmapRendererField\", null), e([m()], q.prototype, \"_heatmapRendererFieldIsNumeric\", null), e([m()], q.prototype, \"_fieldTotal\", void 0), e([m()], q.prototype, \"_drapeSourceRenderer\", void 0), e([m()], q.prototype, \"_isScaleRangeActive\", null), q = e([h(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\")], q);\nexport { q as HeatmapFeatureProcessor, $ as maxRadiusPt };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Error.js\";\nimport { destroyMaybe as r } from \"../../../../core/maybe.js\";\nimport { EsriPromise as i } from \"../../../../core/Promise.js\";\nimport { initial as s, watch as o, sync as n, whenOnce as a } from \"../../../../core/reactiveUtils.js\";\nimport { property as l } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as p } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as h } from \"../../../../core/support/UpdatingHandles.js\";\nimport { FeatureTileController3D as d } from \"../../../../layers/graphics/controllers/FeatureTileController3D.js\";\nimport { symbolHasExtrudeSymbolLayer as c } from \"../../../../symbols/support/utils.js\";\nimport { elevationAlignPointsInFeatures as u } from \"./elevationAlignPointsInFeatures.js\";\nimport { Graphics3DFeatureProcessor as y } from \"./Graphics3DFeatureProcessor.js\";\nimport { QueryEngine as g } from \"./QueryEngine.js\";\nimport { queryForSymbologySnapping as m } from \"./queryForSymbologySnapping.js\";\nimport { HeatmapFeatureProcessor as f } from \"../support/HeatmapFeatureProcessor.js\";\nimport { LayerViewPerformanceInfo as E } from \"../support/LayerViewPerformanceInfo.js\";\nimport { UpdatePolicy as w } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nimport { TaskPriority as b } from \"../../../support/Scheduler.js\";\nlet C = class extends i {\n  constructor(e) {\n    super(e), this._dataUpdatingState = S.NONE, this.controller = null, this.updatingHandles = new h(), this._controllerCreated = !1, this._pendingController = null;\n  }\n  initialize() {\n    this.addResolvingPromise(this._initializeController()), this.updatingHandles.add(() => this.layer.renderer, e => this._recreateProcessor(e), s), this.updatingHandles.add(() => this.updatePolicy, e => this.processor.preferredUpdatePolicy = e);\n    const e = () => this.processor.featureStore;\n    this.queryEngine = new g({\n      context: {\n        spatialReference: this.view.spatialReference,\n        layer: this.layer,\n        scheduler: this.view.resourceController.scheduler,\n        get featureStore() {\n          return e();\n        },\n        hasZ: this.hasZ,\n        hasM: this.hasM\n      },\n      priority: b.FEATURE_QUERY_ENGINE\n    });\n  }\n  destroy() {\n    this.removeAllHandles(), this.updatingHandles.destroy(), this._destroyPendingController(), this.controller = r(this.controller), this.processor = r(this.processor), this.queryEngine = r(this.queryEngine), this.loadedGraphics = null;\n  }\n  _destroyPendingController() {\n    this._pendingController = r(this._pendingController);\n  }\n  get updating() {\n    return this.updatingHandles.updating || !this._controllerCreated || this.controller?.updating || this.processor?.updating;\n  }\n  get legendEnabled() {\n    return this.processor.legendEnabled;\n  }\n  get layer() {\n    return this.layerView.layer;\n  }\n  get view() {\n    return this.layerView.view;\n  }\n  get hasZ() {\n    return this.layerView.hasZ;\n  }\n  get hasM() {\n    return this.layerView.hasM;\n  }\n  get fullOpacity() {\n    return this.layerView.fullOpacity;\n  }\n  get suspended() {\n    return this.layerView.suspended;\n  }\n  get filter() {\n    return \"filter\" in this.layerView ? this.layerView.filter : null;\n  }\n  get slicePlaneEnabled() {\n    return this.layerView.slicePlaneEnabled;\n  }\n  get featureSpatialReference() {\n    return \"featureSpatialReference\" in this.layerView ? this.layerView.featureSpatialReference : null;\n  }\n  get graphics3DProcessor() {\n    return \"graphics-3d\" === this.processor?.type ? this.processor : null;\n  }\n  get heatmapProcessor() {\n    return \"heatmap\" === this.processor?.type ? this.processor : null;\n  }\n  get hasAllFeatures() {\n    return !(!this.controller || !(\"hasAllFeatures\" in this.controller)) && this.controller.hasAllFeatures;\n  }\n  get hasAllFeaturesInView() {\n    return !(!this.controller || !(\"hasAllFeaturesInView\" in this.controller)) && this.controller.hasAllFeaturesInView;\n  }\n  get hasFullGeometries() {\n    return !(!this.controller || !(\"hasFullGeometries\" in this.controller)) && this.controller.hasFullGeometries;\n  }\n  get symbologySnappingSupported() {\n    const e = this.layer?.renderer?.getSymbols();\n    return e?.some(c) ?? !1;\n  }\n  get updatePolicy() {\n    return w.SYNC;\n  }\n  get scaleVisibilitySuspended() {\n    return this.processor?.scaleVisibilitySuspended;\n  }\n  get timeExtent() {\n    return \"timeExtent\" in this.layerView ? this.layerView.timeExtent : null;\n  }\n  get dataUpdating() {\n    return this._dataUpdatingState !== S.NONE;\n  }\n  get suspendInfo() {\n    return this.processor?.suspendInfo ?? {};\n  }\n  forEachGraphic(e) {\n    this.loadedGraphics.forEach(e);\n  }\n  findGraphic(e) {\n    return this.loadedGraphics.find(e);\n  }\n  queryObjectIds(e, t) {\n    return this.layerView.queryObjectIds(e, t);\n  }\n  whenGraphicBounds(e, t) {\n    return this.processor?.whenGraphicBounds(e, t);\n  }\n  computeAttachmentOrigin(e, t) {\n    return this.processor?.computeAttachmentOrigin(e, t);\n  }\n  async elevationAlignPointsInFeatures(e, r) {\n    const i = this.graphics3DProcessor;\n    if (null == i) throw new t(\"featurelayerview3d:missing-processor\", \"A Graphics3D processor is needed to resolve graphics elevation.\");\n    return u(this.view, this.layer, e => i.getGraphics3DGraphicByObjectId(e), e, r);\n  }\n  async queryForSymbologySnapping(e, t) {\n    return this.symbologySnappingSupported ? m(this.graphics3DProcessor, e, t) : {\n      candidates: [],\n      sourceCandidateIndices: []\n    };\n  }\n  highlight(e) {\n    return this.processor.highlight(e, this.layer.objectIdField);\n  }\n  maskOccludee(e) {\n    return this.processor.maskOccludee(e);\n  }\n  async _initializeController() {\n    const e = this.createController();\n    this._pendingController = e, this._setupDataUpdating(e), await e.when(), this._setControllerWhenInitialized(e);\n  }\n  _setupDataUpdating(e) {\n    \"dataUpdating\" in e && this.addHandles([o(() => e.dataUpdating, e => {\n      e && this._dataUpdatingState === S.NONE ? this._dataUpdatingState = S.CONTROLLER : e || this._dataUpdatingState !== S.CONTROLLER || (this._dataUpdatingState = S.NONE);\n    }, n), o(() => !!this.graphics3DProcessor?.dataUpdating, t => {\n      t && this._dataUpdatingState === S.CONTROLLER ? this._dataUpdatingState = S.CORE : t || this._dataUpdatingState !== S.CORE || (this._dataUpdatingState = e.dataUpdating ? S.CONTROLLER : S.NONE);\n    }, n)]);\n  }\n  async _setControllerWhenInitialized(e) {\n    try {\n      await this.when();\n    } catch (t) {}\n    this._controllerCreated = !0, this.isResolved() && !this.destroyed ? (await a(() => this.view?.basemapTerrain?.ready), this.beforeSetController(e), this._pendingController = null, this.controller = e, this.loadedGraphics = e.graphics) : this._destroyPendingController();\n  }\n  _recreateProcessor(e) {\n    const t = \"heatmap\" === e?.type,\n      r = \"heatmap\" === this.processor?.type,\n      i = this.processor;\n    if (i && t === r) return;\n    const s = t ? new f({\n      owner: this\n    }) : new y({\n      owner: this,\n      frustumVisibilityEnabled: !0,\n      scaleVisibilityEnabled: !0,\n      filterVisibilityEnabled: !0,\n      timeExtentEnabled: !0,\n      elevationAlignmentEnabled: !0,\n      elevationFeatureExpressionEnabled: !0,\n      preferredUpdatePolicy: this.updatePolicy,\n      updateClippingExtent: e => this._updateClippingExtent(e)\n    });\n    this.processor = s, i?.destroy(), this.queryEngine?.clear(), this.addResolvingPromise(s.initializePromise);\n  }\n  _updateClippingExtent(e) {\n    if (this.clippingExtent = e, !this.controller) return !1;\n    switch (this.controller.type) {\n      case \"stream\":\n        return !1;\n      case \"feature-tile-3d\":\n        return this.controller.extent = e, !0;\n    }\n  }\n  get performanceInfo() {\n    const e = this.controller instanceof d ? this.controller : null;\n    return new E(this.processor.usedMemory, this.loadedGraphics?.length, e?.serviceDataCount ?? -1, e?.maximumNumberOfFeatures ?? -1, 0, this.processor.performanceInfo);\n  }\n};\nvar S;\ne([l()], C.prototype, \"updating\", null), e([l()], C.prototype, \"legendEnabled\", null), e([l()], C.prototype, \"layerView\", void 0), e([l()], C.prototype, \"layer\", null), e([l()], C.prototype, \"view\", null), e([l()], C.prototype, \"hasZ\", null), e([l()], C.prototype, \"hasM\", null), e([l()], C.prototype, \"fullOpacity\", null), e([l()], C.prototype, \"suspended\", null), e([l()], C.prototype, \"filter\", null), e([l()], C.prototype, \"slicePlaneEnabled\", null), e([l()], C.prototype, \"featureSpatialReference\", null), e([l()], C.prototype, \"loadedGraphics\", void 0), e([l()], C.prototype, \"graphics3DProcessor\", null), e([l()], C.prototype, \"heatmapProcessor\", null), e([l()], C.prototype, \"hasAllFeatures\", null), e([l()], C.prototype, \"hasAllFeaturesInView\", null), e([l()], C.prototype, \"hasFullGeometries\", null), e([l()], C.prototype, \"symbologySnappingSupported\", null), e([l()], C.prototype, \"updatePolicy\", null), e([l()], C.prototype, \"queryEngine\", void 0), e([l()], C.prototype, \"scaleVisibilitySuspended\", null), e([l()], C.prototype, \"timeExtent\", null), e([l()], C.prototype, \"_dataUpdatingState\", void 0), e([l({\n  readOnly: !0\n})], C.prototype, \"dataUpdating\", null), e([l()], C.prototype, \"controller\", void 0), e([l()], C.prototype, \"processor\", void 0), e([l()], C.prototype, \"updatingHandles\", void 0), e([l()], C.prototype, \"_controllerCreated\", void 0), C = e([p(\"esri.views.3d.layers.graphics.Graphics3DGraphicsPipeline\")], C), function (e) {\n  e[e.NONE = 0] = \"NONE\", e[e.CONTROLLER = 1] = \"CONTROLLER\", e[e.CORE = 2] = \"CORE\";\n}(S || (S = {}));\nexport { C as Graphics3DGraphicsPipeline };"],
  "mappings": "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",
  "names": ["u", "h", "C", "e", "l", "t", "i", "r", "c", "b", "y", "a", "c", "l", "b", "e", "t", "r", "s", "w", "d", "o", "n", "u", "i", "p", "y", "a", "n", "t", "e", "r", "o", "y", "t", "h", "e", "s", "a", "n", "I", "r", "i", "o", "l", "d", "P", "e", "h", "C", "t", "i", "p", "u", "y", "s", "d", "r", "b", "n", "a", "l", "H", "t", "e", "s", "r", "i", "n", "h", "o", "_", "d", "m", "t", "c", "e", "s", "i", "F", "r", "Z", "E", "o", "g", "u", "U", "e", "t", "n", "i", "F", "s", "v", "I", "r", "a", "o", "u", "h", "d", "l", "V", "g", "H", "O", "c", "m", "x", "j", "b", "N", "p", "f", "_", "S", "z", "P", "A", "y", "p", "y", "e", "t", "s", "f", "h", "i", "d", "o", "a", "_", "w", "u", "m", "T", "n", "e", "t", "i", "q", "r", "s", "h", "O", "U", "d", "a", "o", "l", "y", "u", "A", "m", "g", "H", "c", "p", "L", "f", "V", "I", "h", "n", "d", "r", "e", "O", "S", "A", "_", "E", "t", "a", "f", "x", "G", "t", "h", "e", "r", "E", "i", "a", "f", "U", "d", "l", "c", "s", "o", "_", "n", "y", "d", "u", "f", "r", "e", "O", "S", "s", "_", "t", "b", "h", "b", "d", "T", "c", "t", "E", "o", "r", "s", "i", "a", "n", "l", "e", "f", "m", "p", "u", "g", "I", "A", "v", "$", "q", "e", "C", "U", "h", "m", "t", "r", "i", "n", "a", "x", "T", "y", "d", "o", "s", "u", "O", "E", "c", "l", "I", "C", "e", "S", "h", "l", "I", "J", "t", "r", "i", "m", "d", "s", "q", "P", "T", "y", "a"]
}
