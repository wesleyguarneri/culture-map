{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/createGraphicSymbolMeshSchemas.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicUpdateMessage.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { noVisualVariables as s } from \"../../../../layers/features/schema/processor/VisualVariablesSchema.js\";\nimport { getScaleInfo as e, createComplexTextMeshInfos as a, createComplexTexturedLineMeshInfos as r, createComplexSimpleLineMeshInfos as t, createComplexSimpleFillMeshInfos as n, createComplexFillMeshInfos as i, createComplexMarkerMeshInfos as c } from \"../../../../layers/features/schema/processor/symbols/ComplexSymbolSchema.js\";\nasync function l(l, o, p) {\n  const m = [],\n    u = {\n      scaleInfo: e(l),\n      scaleExpression: null\n    };\n  for (const e of o) switch (e.type) {\n    case \"marker\":\n      m.push(...c(p.instances.marker, e, s, u));\n      break;\n    case \"fill\":\n      null == e.spriteRasterizationParam ? m.push(...n(p.instances.fill, e, u)) : m.push(...i(p.instances.complexFill, e, !1, u));\n      break;\n    case \"line\":\n      e.spriteRasterizationParam ? m.push(...r(p.instances.texturedLine, e, !1, u)) : m.push(...t(p.instances.line, e, !1, u));\n      break;\n    case \"text\":\n      m.push(...a(p.instances.text, e, s, u));\n  }\n  return m;\n}\nexport { l as createGraphicSymbolMeshSchemas };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ringsCentroid as t, polygonCentroid as e } from \"../../../../../geometry/support/centroid.js\";\nimport { getJsonType as r } from \"../../../../../geometry/support/jsonUtils.js\";\nimport { convertFromGeometry as s, generalizeOptimizedGeometry as i, quantizeOptimizedGeometry as o } from \"../../../../../layers/graphics/featureConversionUtils.js\";\nimport n from \"../../../../../layers/graphics/OptimizedGeometry.js\";\nimport { tileSize as h } from \"../../../engine/webgl/definitions.js\";\nimport { FeatureSetReader as a } from \"./FeatureSetReader.js\";\nclass c extends a {\n  static from(t, e, r) {\n    return new c(t, e, r);\n  }\n  constructor(t, e, r) {\n    super(r), this._items = t, this._tile = e, this._index = -1, this._cachedGeometry = null;\n    const s = e.lod;\n    s.wrap && (this._wrappingInfo = {\n      worldSizeX: s.worldSize[0]\n    });\n  }\n  get _current() {\n    return this._items[this._index];\n  }\n  getItem() {\n    return this._current;\n  }\n  getZOrder() {\n    return this._current.zOrder;\n  }\n  getMeshWriters() {\n    return this._current.symbolResource?.symbolInfo.meshWriters ?? [];\n  }\n  hasField(t) {\n    return null != this._current.attributes[t];\n  }\n  field(t) {\n    return this.readAttribute(t);\n  }\n  get geometryType() {\n    const t = r(this._current.geometry);\n    return \"esriGeometryPoint\" === t ? \"esriGeometryMultipoint\" : t;\n  }\n  getCursor() {\n    return this.copy();\n  }\n  copy() {\n    const t = new c(this._items, this._tile, this.metadata);\n    return this.copyInto(t), t;\n  }\n  copyInto(t) {\n    super.copyInto(t), t._cachedGeometry = this._cachedGeometry, t._index = this._index;\n  }\n  get fields() {\n    throw new Error(\"Fields reading not supported to graphics.\");\n  }\n  get hasFeatures() {\n    return !!this._items.length;\n  }\n  get hasNext() {\n    return this._index + 1 < this._items.length;\n  }\n  get exceededTransferLimit() {\n    throw new Error(\"InternalError: exceededTransferLimit not implemented for graphics.\");\n  }\n  get hasZ() {\n    return !1;\n  }\n  get hasM() {\n    return !1;\n  }\n  getInTransform() {\n    return this._tile.transform;\n  }\n  getSize() {\n    return this._items.length;\n  }\n  getAttributeHash() {\n    let t = \"\";\n    for (const e in this._current.attributes) t += this._current.attributes[e];\n    return t;\n  }\n  getObjectId() {\n    return this._items[this._index].objectId;\n  }\n  getDisplayId() {\n    return this._current.displayId;\n  }\n  setDisplayId(t) {\n    throw new Error(\"InternalError: Setting displayId not supported for graphics.\");\n  }\n  setIndex(t) {\n    this._index = t;\n  }\n  getIndex() {\n    return this._index;\n  }\n  next() {\n    for (this._cachedGeometry = null; ++this._index < this._items.length && !this._getExists(););\n    return this._index < this._items.length;\n  }\n  readGeometryArea() {\n    throw new Error(\"InternalError: readGeometryArea not supported for graphics.\");\n  }\n  _readGeometry() {\n    if (!this._cachedGeometry) {\n      let t = s(this._current.projectedGeometry, this.hasZ, this.hasM);\n      if (\"esriGeometryPolyline\" === this.geometryType && (t = i(new n(), t, this.hasZ, this.hasM, this.geometryType, this._tile.transform.scale[0])), this._cachedGeometry = o(new n(), t, this.hasZ, this.hasM, this.geometryType, this._tile.transform), !this._cachedGeometry) return null;\n      this._wrapGeometry(this._cachedGeometry);\n    }\n    return this._cachedGeometry;\n  }\n  _wrapGeometry(t) {\n    if (!this._wrappingInfo) return;\n    const {\n      worldSizeX: e\n    } = this._wrappingInfo;\n    if (t.isPoint) return 1 === e ? (t.coords.push(h, 0), t.coords.push(2 * -h, 0), void t.lengths.push(3)) : 2 === e ? (t.coords.push(2 * h, 0), t.coords.push(4 * -h, 0), void t.lengths.push(3)) : void this._wrapVertex(t.coords, 0, 2, e);\n    if (\"esriGeometryMultipoint\" !== this.geometryType) ;else {\n      if (1 === e) {\n        const e = t.coords.slice();\n        e[0] -= 512;\n        const r = t.coords.slice();\n        r[0] += 512, t.coords.push(...e, ...r);\n        const s = t.lengths[0];\n        return void t.lengths.push(s, s);\n      }\n      this._wrapVertex(t.coords, 0, 2, e);\n    }\n  }\n  _wrapVertex(t, e, r, s) {\n    const i = e * r,\n      o = t[i];\n    o < -h * (s - 2) ? t[i] = o + h * s : o > h * (s - 1) && (t[i] = o - h * s);\n  }\n  _readX() {\n    const t = this._readGeometry();\n    return null != t ? t.coords[0] : 0;\n  }\n  _readY() {\n    const t = this._readGeometry();\n    return null != t ? t.coords[1] : 0;\n  }\n  _readServerCentroid() {\n    switch (this.geometryType) {\n      case \"esriGeometryPolygon\":\n        {\n          const t = e(this._current.projectedGeometry),\n            r = new n([], t);\n          return o(new n(), r, this.hasZ, this.hasM, this.geometryType, this._tile.transform);\n        }\n      case \"esriGeometryPolyline\":\n        {\n          const e = this._current.projectedGeometry,\n            r = t(e.paths, this.hasZ),\n            s = new n([], r);\n          return o(new n(), s, this.hasZ, this.hasM, this.geometryType, this._tile.transform);\n        }\n    }\n    return null;\n  }\n  _readAttribute(t, e) {\n    const r = this._current.attributes[t];\n    if (void 0 !== r) return r;\n    const s = t.toLowerCase();\n    for (const i in this._current.attributes) if (i.toLowerCase() === s) return this._current.attributes[i];\n  }\n  _readAttributes() {\n    return this._current.attributes;\n  }\n}\nexport { c as GraphicsReader };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as t } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { closeRingsAndFixWinding as e } from \"../../../../geometry/support/coordsUtils.js\";\nimport { isExtent as s } from \"../../../../geometry/support/jsonUtils.js\";\nimport { normalizeCentralMeridianForDisplay as i } from \"../../../../geometry/support/normalizeUtilsSync.js\";\nimport { checkProjectionSupport as r, project as o } from \"../../../../layers/graphics/data/projectionSupport.js\";\nimport { polygonFromExtent as m } from \"./graphicsUtils.js\";\nclass n {\n  static fromGraphic(t, e, s, i) {\n    return new n(t.geometry, e, {\n      ...t.attributes\n    }, t.visible, t.uid, s, i);\n  }\n  constructor(e, s, i, r, o, m, n) {\n    this.geometry = e, this.symbol = s, this.attributes = i, this.visible = r, this.objectId = o, this.zOrder = m, this.displayId = n, this.bounds = t(), this.prevBounds = t(), this.size = [0, 0, 0, 0];\n  }\n  get linearCIM() {\n    return this.symbolResource?.symbolInfo.linearCIM;\n  }\n  update(e, s, i) {\n    return (this.geometry !== e.geometry || JSON.stringify(this.attributes) !== JSON.stringify(e.attributes) || this.symbol !== s || this.zOrder !== i || this.visible !== e.visible) && (this.prevBounds = this.bounds, this.bounds = t(), this.zOrder = i, this.geometry = e.geometry, this.attributes = {\n      ...e.attributes\n    }, this.symbol = s, this.visible = e.visible, this.symbolResource = null, this.projectedGeometry = null, !0);\n  }\n  async projectAndNormalize(t) {\n    let n = this.geometry;\n    if (!n || !n.spatialReference || \"mesh\" === n.type) return;\n    \"extent\" === n.type && (n = m(n)), await r(n.spatialReference, t);\n    const p = i(n);\n    if (!p) return;\n    const h = o(p, n.spatialReference, t);\n    h && e(h), this.projectedGeometry = s(h) ? m(h) : h;\n  }\n}\nexport { n as GraphicStoreItem };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t, e, d) {\n    this.added = t, this.updated = e, this.removed = d;\n  }\n  hasAnyUpdate() {\n    return !!(this.added.length || this.updated.length || this.removed.length);\n  }\n}\nexport { t as GraphicUpdateMessage };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from \"../../../../core/has.js\";\nimport { pt2px as e } from \"../../../../core/screenUtils.js\";\nimport { r as t } from \"../../../../chunks/rbush.js\";\nimport { create as s, intersects as o } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { getBoundsXY as i } from \"../../../../geometry/support/boundsUtils.js\";\nimport { normalizeMapX as r } from \"../../../../geometry/support/normalizeUtils.js\";\nimport { getInfo as n } from \"../../../../geometry/support/spatialReferenceUtils.js\";\nimport { HittestDrawHelper as m } from \"../../../../symbols/cim/CIMSymbolDrawHelper.js\";\nimport { CIMSymbolInflatedSizeHelper as a } from \"../../../../symbols/cim/CIMSymbolHelper.js\";\nimport { hittestToleranceMobile as l, hittestToleranceDesktop as c, hittestToleranceSmallSymbol as h } from \"../../engine/webgl/definitions.js\";\nimport { GraphicStoreItem as u } from \"./GraphicStoreItem.js\";\nimport { pixelBuffer as d } from \"./graphicsUtils.js\";\nimport { GraphicUpdateMessage as p } from \"./GraphicUpdateMessage.js\";\nconst f = 1e-5;\nfunction _(e, t) {\n  return t.zOrder - e.zOrder;\n}\nclass b {\n  constructor(e, t, s, o, i) {\n    this._items = new Map(), this._boundsDirty = !1, this._outSpatialReference = e, this._cimResourceManager = t, this._hittestDrawHelper = new m(t), this._tileInfoView = s, this._store = i;\n    const r = s.getClosestInfoForScale(o);\n    this._resolution = this._tileInfoView.getTileResolution(r.level);\n  }\n  items() {\n    return this._items.values();\n  }\n  getItem(e) {\n    return this._items.get(e);\n  }\n  async update(e, t, s) {\n    const o = [],\n      i = [],\n      r = [],\n      n = new Set(),\n      m = [];\n    let a = 0;\n    for (const l of e.items) {\n      a++;\n      const e = l.uid,\n        r = this._items.get(e),\n        c = t(l);\n      if (n.add(e), r) {\n        r.update(l, c, a) && (i.push(r), m.push(this._updateItem(r, s)));\n        continue;\n      }\n      const h = this._store.createDisplayIdForObjectId(e),\n        d = u.fromGraphic(l, c, a, h);\n      m.push(this._updateItem(d, s)), this._items.set(d.objectId, d), o.push(d);\n    }\n    for (const [l, c] of this._items.entries()) n.has(l) || (this._store.releaseDisplayIdForObjectId(l), this._items.delete(l), r.push(c));\n    return await Promise.all(m), this._index = null, new p(o, i, r);\n  }\n  updateLevel(e) {\n    this._resolution !== e && (this._index = null, this._boundsDirty = !0, this._resolution = e);\n  }\n  hitTest(e, t, i, n, m) {\n    const a = has(\"esri-mobile\"),\n      u = a ? l : c,\n      p = u + (a ? 0 : h);\n    e = r(e, this._tileInfoView.spatialReference);\n    const f = n * window.devicePixelRatio * p,\n      b = s();\n    b[0] = e - f, b[1] = t - f, b[2] = e + f, b[3] = t + f;\n    const y = n * window.devicePixelRatio * u,\n      I = s();\n    I[0] = e - y, I[1] = t - y, I[2] = e + y, I[3] = t + y;\n    const g = .5 * n * (p + d),\n      j = this._searchIndex(e - g, t - g, e + g, t + g);\n    if (!j || 0 === j.length) return [];\n    const x = [],\n      w = s(),\n      S = s();\n    for (const s of j) {\n      if (!s.visible) continue;\n      const {\n        projectedGeometry: e,\n        symbolResource: t\n      } = s;\n      this._getSymbolBounds(w, t, e, S, m), S[3] = S[2] = S[1] = S[0] = 0, o(w, b) && x.push(s);\n    }\n    if (0 === x.length) return [];\n    const R = this._hittestDrawHelper,\n      z = [];\n    for (const s of x) {\n      const {\n        projectedGeometry: e,\n        symbolResource: t\n      } = s;\n      if (!t) continue;\n      const {\n          textInfo: o,\n          symbolInfo: i\n        } = t,\n        r = i.cimSymbol;\n      R.hitTest(I, r.symbol, e, o, m, n) && z.push(s);\n    }\n    return z.sort(_), z.map(e => e.objectId);\n  }\n  queryItems(e) {\n    return 0 === this._items.size ? [] : this._searchForItems(e);\n  }\n  clear() {\n    this._items.clear(), this._index = null;\n  }\n  async _updateItem(e, t) {\n    await e.projectAndNormalize(this._outSpatialReference), await t(e);\n    const {\n      size: s\n    } = e;\n    s[0] = s[1] = s[2] = s[3] = 0, this._getSymbolBounds(e.bounds, e.symbolResource, e.projectedGeometry, e.size, 0);\n  }\n  _searchIndex(e, s, o, i) {\n    return this._boundsDirty && (this._items.forEach(e => this._getSymbolBounds(e.bounds, e.symbolResource, e.projectedGeometry, e.size, 0)), this._boundsDirty = !1), this._index || (this._index = t(9, e => ({\n      minX: e.bounds[0],\n      minY: e.bounds[1],\n      maxX: e.bounds[2],\n      maxY: e.bounds[3]\n    })), this._index.load(Array.from(this._items.values()))), this._index.search({\n      minX: e,\n      minY: s,\n      maxX: o,\n      maxY: i\n    });\n  }\n  _searchForItems(e) {\n    const t = this._tileInfoView.spatialReference,\n      o = e.bounds,\n      i = n(t);\n    if (i && t.isWrappable) {\n      const [t, r] = i.valid,\n        n = Math.abs(o[2] - r) < f,\n        m = Math.abs(o[0] - t) < f;\n      if ((!n || !m) && (n || m)) {\n        const i = e.resolution;\n        let m;\n        m = s(n ? [t, o[1], t + i * d, o[3]] : [r - i * d, o[1], r, o[3]]);\n        const a = this._searchIndex(o[0], o[1], o[2], o[3]),\n          l = this._searchIndex(m[0], m[1], m[2], m[3]);\n        return [...new Set([...a, ...l])];\n      }\n    }\n    return this._searchIndex(o[0], o[1], o[2], o[3]);\n  }\n  _getSymbolBounds(t, o, r, n, m) {\n    if (!o || !o.symbolInfo.linearCIM || !r) return null;\n    if (t || (t = s()), i(t, r), !n || 0 === n[0] && 0 === n[1] && 0 === n[2] && 0 === n[3]) {\n      const {\n          textInfo: t,\n          symbolInfo: s\n        } = o,\n        i = s.cimSymbol;\n      n || (n = [0, 0, 0, 0]);\n      const r = a.getSymbolInflateSize(n, i.symbol, this._cimResourceManager, m, t);\n      n[0] = e(r[0]), n[1] = e(r[1]), n[2] = e(r[2]), n[3] = e(r[3]);\n    }\n    const l = this._resolution,\n      c = a.safeSize(n);\n    return t[0] -= c * l, t[1] -= c * l, t[2] += c * l, t[3] += c * l, t;\n  }\n}\nexport { b as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { isSome as r } from \"../../../../core/arrayUtils.js\";\nimport has from \"../../../../core/has.js\";\nimport { IdentifiableMixin as s } from \"../../../../core/Identifiable.js\";\nimport { assertIsSome as i } from \"../../../../core/maybe.js\";\nimport { ignoreAbortErrors as o, throwIfAborted as a } from \"../../../../core/promiseUtils.js\";\nimport { watch as n } from \"../../../../core/reactiveUtils.js\";\nimport { property as h } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport { subclass as d } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as c } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { isPolyline as l, isPolygon as u, isExtent as p, getJsonType as m } from \"../../../../geometry/support/jsonUtils.js\";\nimport g from \"../../../../layers/support/FieldsIndex.js\";\nimport { symbolToCIM as f, CIMSymbolHelper as y } from \"../../../../symbols/cim/CIMSymbolHelper.js\";\nimport { OverrideHelper as _ } from \"../../../../symbols/cim/OverrideHelper.js\";\nimport { errorPolylineSymbol2D as b, errorPolygonSymbol2D as w, errorPointSymbol2D as S } from \"../../../../symbols/support/defaults.js\";\nimport { filterFlag0 as v } from \"../../engine/webgl/definitions.js\";\nimport { FeatureTile as I } from \"../../engine/webgl/FeatureTile.js\";\nimport { MeshData as T } from \"../../engine/webgl/mesh/MeshData.js\";\nimport { ResourceProxy as R } from \"../../engine/webgl/mesh/factories/ResourceProxy.js\";\nimport { createGraphicSymbolMeshSchemas as M } from \"../../engine/webgl/shaderGraph/techniques/createGraphicSymbolMeshSchemas.js\";\nimport { createStorageSchema as U } from \"../features/schema/processor/StorageSchema.js\";\nimport { AttributeStore as j } from \"../features/support/AttributeStore.js\";\nimport { ComputedAttributeStorage as x } from \"../features/support/ComputedAttributeStorage.js\";\nimport { GraphicsMetadata as C } from \"../features/support/FeatureMetadata.js\";\nimport { GraphicsReader as q } from \"../features/support/GraphicsReader.js\";\nimport k from \"./GraphicStore.js\";\nimport G from \"../support/FeatureCommandQueue.js\";\nimport { UpdateTracking2D as P } from \"../support/UpdateTracking2D.js\";\nclass O {\n  static getOrCreate(e, t, r) {\n    let s = t.get(e.id);\n    return s || (s = new O(e, r), t.set(e.id, s)), s;\n  }\n  static fromItems(e, t, r) {\n    const s = new O(e, r);\n    return s.addedOrModified.push(...t), s;\n  }\n  constructor(e, t) {\n    this.tile = e, this.metadata = t, this.addedOrModified = [], this.removed = [];\n  }\n  get reader() {\n    return this._reader || (this._reader = q.from(this.addedOrModified, this.tile, this.metadata)), this._reader;\n  }\n}\nlet F = class extends s(t) {\n  constructor(e) {\n    super(e), this._attached = !1, this._tiles = new Map(), this._controller = new AbortController(), this._hashToSymbolInfo = new Map(), this._lastCleanup = performance.now(), this._cleanupRequired = !0, this.lastUpdateId = -1, this.renderer = null, this._updateTracking = new P({\n      debugName: \"GraphicsView2D\"\n    }), this.updateRequested = !1, this.defaultPointSymbolEnabled = !0, this._commandQueue = new G({\n      process: e => {\n        if (\"update\" === e.type) return this._update();\n        throw new Error(\"InternalError: Unsupported command\");\n      }\n    }), this.graphicUpdateHandler = this.graphicUpdateHandler.bind(this);\n  }\n  destroy() {\n    this.container.destroy(), this.view = null, this.renderer = null, this._set(\"graphics\", null), this._controller.abort(), this._graphicStore.clear(), this._attributeStore = null, this._hashToSymbolInfo.clear(), this._updateTracking.destroy(), this._commandQueue.destroy();\n  }\n  _initAttributeStore() {\n    this._storage = new x({\n      spatialReference: this.view.spatialReference,\n      fields: new g()\n    }), this._attributeStore = new j({\n      isLocal: !0,\n      update: e => {\n        has(\"esri-2d-update-debug\") && console.debug(`[Id: ${this.layerId}] GraphicsView2D.AttributeStoreView.updateStart`, {\n          message: e\n        }), this.container.attributeView.requestUpdate(e), this.container.requestRender(), has(\"esri-2d-update-debug\") && console.debug(`[Id: ${this.layerId}] GraphicsView2D.AttributeStoreView.updateEnd`, {\n          message: e\n        });\n      }\n    });\n    const e = U(null, []);\n    this._attributeStore.update(e, this._storage, null), this.container.checkHighlight = () => this._attributeStore.hasHighlight;\n  }\n  initialize() {\n    this._initAttributeStore(), this._metadata = C.create(this.view.spatialReference), this._resourceProxy = new R({\n      fetch: e => Promise.all(e.map(e => this.view.stage.textureManager.rasterizeItem(e))),\n      fetchDictionary: e => {\n        throw new Error(\"InternalError: Graphics do not support Dictionary requests\");\n      }\n    }), this.addHandles([n(() => this._effectiveRenderer, () => this._pushUpdate()), this.view.graphicsTileStore.on(\"update\", this._onTileUpdate.bind(this)), this.container.on(\"attach\", () => {\n      this.addHandles([this.graphics.on(\"change\", () => this._pushUpdate())]), this._graphicStore = new k(this.view.spatialReference, this._cimResourceManager, this.view.featuresTilingScheme, this.view.state.scale, this._attributeStore), this._attached = !0, this.requestUpdate(), this._pushUpdate();\n    })]), this._updateTracking.addUpdateTracking(\"CommandQueue\", this._commandQueue.updateTracking);\n    const e = this.view.graphicsTileStore.tiles;\n    this._onTileUpdate({\n      added: e,\n      removed: []\n    });\n  }\n  get _effectiveRenderer() {\n    return \"function\" == typeof this.renderer ? this.renderer() : this.renderer;\n  }\n  get _cimResourceManager() {\n    return this.view.stage.textureManager.resourceManager;\n  }\n  get updating() {\n    const e = !this._attached || this._updateTracking.updating;\n    return has(\"esri-2d-log-updating\") && console.log(`Updating GraphicsView2D: ${e}\\n  -> attaching ${!this._attached}\\n  -> updateTracking ${this._updateTracking.updating}`), e;\n  }\n  hitTest(e) {\n    if (!this.view || this.view.suspended) return [];\n    const {\n        resolution: t,\n        rotation: s\n      } = this.view.state,\n      i = this._graphicStore.hitTest(e.x, e.y, 2, t, s),\n      o = new Set(i),\n      a = this.graphics.items.reduce((e, t) => (o.has(t.uid) && e.set(t.uid, t), e), new Map());\n    return i.map(e => a.get(e)).filter(r);\n  }\n  requestUpdate() {\n    this.updateRequested || (this.updateRequested = !0, this.requestUpdateCallback()), this.notifyChange(\"updating\");\n  }\n  processUpdate(e) {\n    this.updateRequested && (this.updateRequested = !1, this.update(e));\n  }\n  viewChange() {\n    this.requestUpdate();\n  }\n  setHighlight(e) {\n    const t = [];\n    for (const {\n      objectId: r,\n      highlightFlags: s\n    } of e) {\n      const e = this._graphicStore.getItem(r)?.displayId;\n      t.push({\n        objectId: r,\n        highlightFlags: s,\n        displayId: e\n      });\n    }\n    this._attributeStore.setHighlight(t, e), this._pushUpdate();\n  }\n  graphicUpdateHandler(e) {\n    this._pushUpdate();\n  }\n  update(e) {\n    this.updateRequested = !1, this._attached && this._graphicStore.updateLevel(e.state.resolution);\n  }\n  pushUpdate() {\n    this._pushUpdate();\n  }\n  _pushUpdate() {\n    o(this._commandQueue.push({\n      type: \"update\"\n    }));\n  }\n  async _update() {\n    try {\n      has(\"esri-2d-update-debug\") && console.debug(`[Id: ${this.layerId}] GraphicsView._update start`);\n      const e = await this._graphicStore.update(this.graphics, e => this._getSymbolForGraphic(e), e => this._ensureSymbolResource(e));\n      if (!e.hasAnyUpdate()) return void this._attributeStore.sendUpdates();\n      e.removed.length && (this._cleanupRequired = !0), has(\"esri-2d-update-debug\") && console.debug(`[Id: ${this.layerId}] GraphicsView updateMessage`, e);\n      const t = this._createTileMessages(e);\n      await this._fetchResources(t), this._write(t);\n      for (const r of e.added) this._setFilterState(r);\n      for (const r of e.updated) this._setFilterState(r);\n      has(\"esri-2d-update-debug\") && console.debug(`[Id: ${this.layerId}] GraphicsView sendUpdate`, e), this._attributeStore.sendUpdates(), has(\"esri-2d-update-debug\") && console.debug(`[Id: ${this.layerId}] GraphicsView sendUpdate.await`, e);\n    } catch (e) {}\n    this._cleanupSharedResources();\n  }\n  _createTileMessages(e) {\n    const t = new Map();\n    for (const r of e.added) {\n      const e = this.view.graphicsTileStore.getIntersectingTiles(r.bounds);\n      for (const s of e) {\n        O.getOrCreate(s, t, this._metadata).addedOrModified.push(r);\n      }\n    }\n    for (const r of e.updated) {\n      const e = this.view.graphicsTileStore.getIntersectingTiles(r.prevBounds),\n        s = this.view.graphicsTileStore.getIntersectingTiles(r.bounds);\n      for (const i of e) {\n        O.getOrCreate(i, t, this._metadata).removed.push(r.displayId);\n      }\n      for (const i of s) {\n        O.getOrCreate(i, t, this._metadata).addedOrModified.push(r);\n      }\n    }\n    for (const r of e.removed) {\n      const e = this.view.graphicsTileStore.getIntersectingTiles(r.bounds);\n      for (const s of e) {\n        O.getOrCreate(s, t, this._metadata).removed.push(r.displayId);\n      }\n    }\n    return Array.from(t.values());\n  }\n  async _fetchResources(e) {\n    for (const {\n      tile: t,\n      reader: r\n    } of e) {\n      has(\"esri-2d-update-debug\") && console.debug(`Id[${this.layerId}] Tile[${t.id}] GraphicsView fetchResources`, e);\n      const s = r.getCursor();\n      for (; s.next();) for (const e of s.getMeshWriters()) e.enqueueRequest(this._resourceProxy, s, t.createArcadeEvaluationOptions(this.view.timeZone));\n    }\n    await this._resourceProxy.fetchEnqueuedResources();\n  }\n  _write(e) {\n    for (const t of e) {\n      has(\"esri-2d-update-debug\") && console.debug(`Id[${this.layerId}] Tile[${t.tile.id}] GraphicsView write`, t);\n      const e = this._writeMeshes(t);\n      let r = this._tiles.get(t.tile.key);\n      r || (r = this._createFeatureTile(t.tile.key)), has(\"esri-2d-update-debug\") && console.debug(`Id[${this.layerId}] Tile[${t.tile.id}] GraphicsView onTileData`, t), this.container.onTileData(r, {\n        type: \"update\",\n        modify: e,\n        remove: t.removed,\n        end: !1,\n        attributeEpoch: this._attributeStore.epoch\n      }), this.container.requestRender();\n    }\n  }\n  _writeMeshes(e) {\n    const t = new T(e.tile.id),\n      r = e.reader.getCursor();\n    for (; r.next();) {\n      t.entityStart(r.getDisplayId(), r.getZOrder());\n      for (const s of r.getMeshWriters()) s.write(t, this._resourceProxy, r, e.tile.createArcadeEvaluationOptions(this.view.timeZone), e.tile.level);\n      t.entityEnd();\n    }\n    return {\n      ...t.serialize().message,\n      tileId: e.tile.id\n    };\n  }\n  _setFilterState(e) {\n    const t = e.displayId,\n      r = this._attributeStore.getHighlightFlags(e.objectId);\n    this._attributeStore.setData(t, 0, 0, r | (e.visible ? v : 0));\n  }\n  _getSymbolForGraphic(e) {\n    return null != e.symbol ? e.symbol : null != this._effectiveRenderer ? this._effectiveRenderer.getSymbol(e) : this._getNullSymbol(e);\n  }\n  async _ensureSymbolResource(e) {\n    if (!e.symbol) return;\n    const t = await this._getSymbolInfo(e.symbol);\n    if (!t) return;\n    const r = t.linearCIM.filter(e => \"text\" === e.type);\n    if (r.length > 0) {\n      const s = await this._getTextResources(e, r);\n      e.symbolResource = {\n        symbolInfo: t,\n        textInfo: s\n      };\n    } else e.symbolResource = {\n      symbolInfo: t\n    };\n  }\n  _getSymbolInfo(e) {\n    const t = e.hash();\n    return this._hashToSymbolInfo.has(t) || this._hashToSymbolInfo.set(t, this._createSymbolInfo(t, e).catch(e => null)), this._hashToSymbolInfo.get(t);\n  }\n  async _createSymbolInfo(e, t) {\n    const r = await this._convertToCIMSymbol(t),\n      s = await this._createLinearCIM(r);\n    return {\n      hash: e,\n      cimSymbol: r,\n      linearCIM: s,\n      meshWriters: await this._createMeshWriters(r, s)\n    };\n  }\n  async _convertToCIMSymbol(e) {\n    const t = f(e);\n    if (\"web-style\" === t.type) {\n      return (await t.fetchCIMSymbol()).data;\n    }\n    return t;\n  }\n  async _createLinearCIM(e) {\n    return await Promise.all(y.fetchResources(e.symbol, this._cimResourceManager, [])), this.view.stage.cimAnalyzer.analyzeSymbolReference(e, !1);\n  }\n  async _createMeshWriters(e, t) {\n    a(this._controller.signal);\n    const r = this.container.instanceStore,\n      s = this.view.stage.meshWriterRegistry,\n      i = await M(e, t, r);\n    return Promise.all(i.map(e => s.createMeshWriter(this._storage, this._resourceProxy, {\n      tileInfo: this.view.featuresTilingScheme.tileInfo\n    }, e)));\n  }\n  _onTileUpdate(e) {\n    if (e.added && e.added.length > 0) for (const t of e.added) this._updateTracking.addPromise(this._addTile(t));\n    if (e.removed && e.removed.length > 0) for (const t of e.removed) this._removeTile(t.key);\n  }\n  _createFeatureTile(e) {\n    const t = this.view.featuresTilingScheme.getTileBounds(c(), e),\n      r = this.view.featuresTilingScheme.getTileResolution(e.level),\n      s = new I(e, r, t[0], t[3]);\n    return this._tiles.set(e, s), this.container.addChild(s), s;\n  }\n  async _addTile(e) {\n    if (!this._attached) return;\n    const t = this._graphicStore.queryItems(e);\n    if (!t.length) return;\n    const r = this._createFeatureTile(e.key),\n      s = O.fromItems(e, t, this._metadata);\n    await this._fetchResources([s]);\n    const i = this._writeMeshes(s);\n    r.onMessage({\n      type: \"append\",\n      append: i,\n      clear: !1,\n      end: !0,\n      attributeEpoch: this._attributeStore.epoch\n    });\n  }\n  _removeTile(e) {\n    if (!this._tiles.has(e)) return;\n    const t = this._tiles.get(e);\n    this.container.removeChild(t), t.destroy(), this._tiles.delete(e);\n  }\n  _getNullSymbol(e) {\n    const t = e.geometry;\n    return l(t) ? b : u(t) || p(t) ? w : this.defaultPointSymbolEnabled ? S : null;\n  }\n  async _getTextResources(e, t) {\n    const r = new Array(),\n      s = new Array();\n    for (let i = 0; i < t.length; i++) {\n      const o = t[i],\n        {\n          resource: a,\n          overrides: n\n        } = o.textRasterizationParam;\n      if (n?.length > 0) {\n        const t = _.resolveSymbolOverrides({\n          type: \"CIMSymbolReference\",\n          primitiveOverrides: n,\n          symbol: {\n            type: \"CIMPointSymbol\",\n            symbolLayers: [{\n              type: \"CIMVectorMarker\",\n              enable: !0,\n              size: a.symbol.height,\n              anchorPointUnits: \"Relative\",\n              frame: {\n                xmin: -5,\n                ymin: -5,\n                xmax: 5,\n                ymax: 5\n              },\n              markerGraphics: [{\n                type: \"CIMMarkerGraphic\",\n                geometry: {\n                  x: 0,\n                  y: 0\n                },\n                symbol: a.symbol,\n                textString: a.textString\n              }],\n              scaleSymbolsProportionally: !0,\n              respectFrame: !0\n            }]\n          }\n        }, e, this.view.spatialReference, null, m(e.projectedGeometry), null, null);\n        t.then(e => {\n          const t = e.symbolLayers[0],\n            {\n              textString: r\n            } = t.markerGraphics[0];\n          s.push({\n            type: \"cim-rasterization-info\",\n            resource: {\n              type: \"text\",\n              textString: r || \"\",\n              font: a.font\n            }\n          }), o.text = a.textString = r || \"\";\n        }), r.push(t);\n      } else s.push({\n        type: \"cim-rasterization-info\",\n        resource: a\n      });\n    }\n    r.length > 0 && (await Promise.all(r));\n    const o = s.map(e => this.view.stage.textureManager.rasterizeItem(e)),\n      a = await Promise.all(o);\n    i(a);\n    const n = new Map();\n    for (let i = 0; i < t.length; i++) {\n      const e = t[i];\n      n.set(e.textRasterizationParam.resource.symbol, {\n        text: e.text,\n        glyphMosaicItems: a[i]\n      });\n    }\n    return n;\n  }\n  _cleanupSharedResources() {\n    if (!this._cleanupRequired) return;\n    const e = performance.now();\n    if (e - this._lastCleanup < 5e3) return;\n    this._cleanupRequired = !1, this._lastCleanup = e;\n    const t = new Set();\n    for (const s of this._graphicStore.items()) {\n      const e = s.symbolResource?.symbolInfo.hash;\n      t.add(e);\n    }\n    const r = new Set(this._hashToSymbolInfo.keys());\n    for (const s of r.values()) t.has(s) || this._hashToSymbolInfo.delete(s);\n  }\n};\ne([h()], F.prototype, \"_effectiveRenderer\", null), e([h({\n  constructOnly: !0\n})], F.prototype, \"layerId\", void 0), e([h({\n  constructOnly: !0\n})], F.prototype, \"requestUpdateCallback\", void 0), e([h()], F.prototype, \"container\", void 0), e([h({\n  constructOnly: !0\n})], F.prototype, \"graphics\", void 0), e([h()], F.prototype, \"renderer\", void 0), e([h()], F.prototype, \"_updateTracking\", void 0), e([h()], F.prototype, \"updating\", null), e([h()], F.prototype, \"view\", void 0), e([h()], F.prototype, \"updateRequested\", void 0), e([h()], F.prototype, \"defaultPointSymbolEnabled\", void 0), F = e([d(\"esri.views.2d.layers.graphics.GraphicsView2D\")], F);\nconst V = F;\nexport { V as default };"],
  "mappings": "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",
  "names": ["l", "o", "p", "m", "u", "e", "x", "b", "y", "t", "e", "s", "a", "i", "o", "n", "t", "e", "s", "i", "o", "m", "l", "p", "a", "h", "t", "e", "d", "f", "e", "t", "b", "s", "o", "i", "n", "m", "a", "l", "r", "c", "h", "d", "u", "S", "p", "y", "j", "x", "z", "Z", "O", "e", "t", "s", "d", "p", "l", "b", "i", "o", "a", "n", "N", "W", "m", "y", "r"]
}
