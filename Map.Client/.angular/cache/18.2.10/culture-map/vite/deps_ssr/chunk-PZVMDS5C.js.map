{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/graphicSymbolUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/labelPlacement.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/MaterialCollection.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Labeler.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Graphics3DSymbol as o } from \"./Graphics3DSymbol.js\";\nimport { Graphics3DWebStyleSymbol as r } from \"./Graphics3DWebStyleSymbol.js\";\nfunction i(i) {\n  return i instanceof r ? i.graphics3DSymbol : i instanceof o ? i : null;\n}\nexport { i as getGraphics3DSymbol };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport e from \"../../../../core/Logger.js\";\nimport { s as t, l as n } from \"../../../../chunks/vec32.js\";\nimport { ZEROS as r, fromValues as l } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as a, center as c, height as s } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { labelMarginPx as o } from \"./constants.js\";\nimport { getGraphics3DSymbol as i } from \"./graphicSymbolUtils.js\";\nimport { LabelPlacement as f } from \"./LabelParameters.js\";\nimport { textVerticalPaddingPx as m } from \"../../webgl-engine/lib/TextRenderer.js\";\nimport { HUDMaterial as p } from \"../../webgl-engine/materials/HUDMaterial.js\";\nconst u = () => e.getLogger(\"esri.views.3d.layers.graphics.labelPlacement\");\nclass b {\n  constructor(e, t, n, r = null) {\n    this.graphics3DGraphic = e, this.labelSymbol = t, this.labelClass = n, this.disablePlacement = r;\n  }\n}\nfunction h(e) {\n  const t = C(e);\n  if (null == t) return null;\n  const n = g(e, t);\n  if (null == n) return null;\n  const r = n.anchor,\n    l = !!t.hasLabelVerticalOffset,\n    a = t.verticalOffset;\n  return P(new f(a, r, l), n, e);\n}\nfunction g(e, t) {\n  if (t.anchor) return t;\n  const n = e.labelClass.labelPlacement,\n    r = V[n],\n    l = r || y(e);\n  return n && !r && u().warnOncePerTick(`the requested label placement '${n}' is currently unsupported in SceneView.`), d(l, e);\n}\nfunction O(e) {\n  const t = e.graphics3DGraphic.graphics3DSymbol,\n    n = i(t);\n  return null != n ? n.symbol.symbolLayers.at(0) : null;\n}\nfunction d(e, t) {\n  const n = t.graphics3DGraphic.graphic.geometry;\n  if (null == n) return null;\n  if (null != t.disablePlacement) {\n    return t.labelClass.labelPlacement ? (u().warnOncePerTick(v(e?.placement, t.disablePlacement.logEntityDescription)), y(t)) : e;\n  }\n  const r = n.type;\n  switch (r) {\n    case \"polyline\":\n    case \"polygon\":\n    case \"extent\":\n    case \"multipoint\":\n      if (t.labelClass.labelPlacement) return u().warnOncePerTick(v(e?.placement, `'${r}' geometries`)), y(t);\n      break;\n    case \"point\":\n    case \"mesh\":\n      return e;\n  }\n  return e;\n}\nfunction v(e, t) {\n  return `the requested label placement '${e}' is currently unsupported for ${t} in SceneView.`;\n}\nfunction y(e) {\n  const t = e.graphics3DGraphic.graphic.geometry;\n  if (null == t) return null;\n  switch (t.type) {\n    case \"polyline\":\n    case \"extent\":\n    case \"multipoint\":\n      return {\n        placement: \"center-center\",\n        normalizedOffset: r,\n        anchor: \"center\"\n      };\n    case \"polygon\":\n      {\n        const t = O(e);\n        return null != t && \"extrude\" === t.type ? V[\"above-center\"] : {\n          placement: \"center-center\",\n          normalizedOffset: r,\n          anchor: \"center\"\n        };\n      }\n    case \"point\":\n    case \"mesh\":\n      return V[\"above-center\"];\n    default:\n      return;\n  }\n}\nfunction P(e, t, n) {\n  const r = n.graphics3DGraphic.graphic.geometry;\n  if (null == r) return null;\n  switch (r.type) {\n    case \"point\":\n    case \"mesh\":\n      z(e, t, n);\n      break;\n    case \"polygon\":\n      w(e, t, n);\n  }\n  const l = o - m;\n  return e.screenOffset[0] += l * t.normalizedOffset[0], e.screenOffset[1] += l * t.normalizedOffset[1], e;\n}\nfunction w(e, n, r) {\n  const l = O(r);\n  if (null != l) switch (l.type) {\n    case \"extrude\":\n      {\n        const l = r.graphics3DGraphic.layers[0];\n        null != l ? (l.getBoundingBoxObjectSpace(G), c(G, e.translation), e.translation[2] = s(G) / 2) : t(e.translation, 0, 0, 0), j(e, n, l);\n        break;\n      }\n  }\n}\nfunction z(e, n, r) {\n  const l = O(r);\n  if (null == l) return;\n  const a = r.graphics3DGraphic.layers[0];\n  switch (null != a ? a.getCenterObjectSpace(e.translation) : t(e.translation, 0, 0, 0), l.type) {\n    case \"icon\":\n    case \"text\":\n      L(e, n, r, a);\n      break;\n    case \"object\":\n    case \"fill\":\n      j(e, n, a);\n  }\n}\nfunction L(e, t, n, r) {\n  const {\n      graphics3DGraphic: l\n    } = n,\n    a = null != r ? r.getScreenSize() : null;\n  if (l.isDraped || null == a) e.hasLabelVerticalOffset || \"center\" === e.anchor || (V[n.labelClass.labelPlacement] && u().warnOncePerTick(`the requested placement '${t.placement}' is currently unsupported for draped graphics`), e.anchor = \"center\");else {\n    const r = S(n);\n    e.screenOffset[0] = a[0] / 2 * (t.normalizedOffset[0] - r[0]);\n    const l = a[1] / 2 * (t.normalizedOffset[1] - r[1]);\n    e.hasLabelVerticalOffset ? (e.centerOffset[1] = l, e.centerOffsetUnits = \"screen\") : e.screenOffset[1] = l;\n  }\n}\nfunction S(e, t = x) {\n  const {\n      graphics3DGraphic: n\n    } = e,\n    r = n.layers[0],\n    l = r?.stageObject.geometries[0].material ?? null;\n  if (l && l instanceof p) {\n    const e = l.parameters.anchorPosition;\n    t[0] = 2 * (e[0] - .5), t[1] = 2 * (e[1] - .5);\n  } else t[0] = 0, t[1] = 0;\n  return t;\n}\nfunction j(e, t, r) {\n  const a = null != r ? r.getBoundingBoxObjectSpace(G) : G,\n    c = l(a[3] - a[0], a[4] - a[1], a[5] - a[2]),\n    s = Math.sqrt(c[0] * c[0] + c[1] * c[1]);\n  e.centerOffset[0] = s / 2 * t.normalizedOffset[0];\n  const o = e.translation[2],\n    i = c[2] / 2 * t.normalizedOffset[1];\n  e.translation[2] = 0, e.elevationOffset = o + i;\n  const f = n(c);\n  e.centerOffset[2] = f / 2 * t.normalizedOffset[2];\n}\nfunction D(e) {\n  return \"above-center\" === e;\n}\nfunction C(e) {\n  const t = e.labelClass.labelPlacement,\n    {\n      labelSymbol: n,\n      graphics3DGraphic: r\n    } = e,\n    l = i(r.graphics3DSymbol),\n    a = \"point-3d\" === l?.symbol.type ? l.symbol : null,\n    c = V[t] || y(e);\n  return null != a && a.supportsCallout() && a.hasVisibleVerticalOffset() && !r.isDraped ? {\n    placement: null,\n    hasLabelVerticalOffset: !1,\n    verticalOffset: a.verticalOffset.clone(),\n    anchor: null,\n    normalizedOffset: null\n  } : !n || !n.hasVisibleVerticalOffset() || null != a && a.supportsCallout() && a.verticalOffset && !r.isDraped ? {\n    placement: null,\n    verticalOffset: null,\n    anchor: null,\n    normalizedOffset: null,\n    hasLabelVerticalOffset: !1\n  } : c && D(c.placement) ? {\n    placement: \"above-center\",\n    verticalOffset: n.verticalOffset.clone(),\n    anchor: \"bottom\",\n    normalizedOffset: [0, c.normalizedOffset[1], 0],\n    hasLabelVerticalOffset: !0\n  } : (u().errorOncePerTick(\"Callouts and vertical offset on labels are currently only supported with 'above-center' label placement (not with \" + t + \" placement)\"), null);\n}\nconst V = {\n    \"above-center\": {\n      placement: \"above-center\",\n      normalizedOffset: [0, 1, 0],\n      anchor: \"bottom\"\n    },\n    \"above-left\": {\n      placement: \"above-left\",\n      normalizedOffset: [-1, 1, 0],\n      anchor: \"bottom-right\"\n    },\n    \"above-right\": {\n      placement: \"above-right\",\n      normalizedOffset: [1, 1, 0],\n      anchor: \"bottom-left\"\n    },\n    \"below-center\": {\n      placement: \"below-center\",\n      normalizedOffset: [0, -1, 2],\n      anchor: \"top\"\n    },\n    \"below-left\": {\n      placement: \"below-left\",\n      normalizedOffset: [-1, -1, 0],\n      anchor: \"top-right\"\n    },\n    \"below-right\": {\n      placement: \"below-right\",\n      normalizedOffset: [1, -1, 0],\n      anchor: \"top-left\"\n    },\n    \"center-center\": {\n      placement: \"center-center\",\n      normalizedOffset: [0, 0, 1],\n      anchor: \"center\"\n    },\n    \"center-left\": {\n      placement: \"center-left\",\n      normalizedOffset: [-1, 0, 0],\n      anchor: \"right\"\n    },\n    \"center-right\": {\n      placement: \"center-right\",\n      normalizedOffset: [1, 0, 0],\n      anchor: \"left\"\n    }\n  },\n  k = {\n    \"above-center\": [\"default\", \"esriServerPointLabelPlacementAboveCenter\"],\n    \"above-left\": [\"esriServerPointLabelPlacementAboveLeft\"],\n    \"above-right\": [\"esriServerPointLabelPlacementAboveRight\"],\n    \"below-center\": [\"esriServerPointLabelPlacementBelowCenter\"],\n    \"below-left\": [\"esriServerPointLabelPlacementBelowLeft\"],\n    \"below-right\": [\"esriServerPointLabelPlacementBelowRight\"],\n    \"center-center\": [\"esriServerPointLabelPlacementCenterCenter\"],\n    \"center-left\": [\"esriServerPointLabelPlacementCenterLeft\"],\n    \"center-right\": [\"esriServerPointLabelPlacementCenterRight\"]\n  };\nfor (const B in k) {\n  const e = k[B],\n    t = V[B];\n  e.forEach(e => {\n    V[e] = t;\n  });\n}\nObject.freeze && (Object.freeze(V), Object.keys(V).forEach(e => {\n  Object.freeze(V[e]), Object.freeze(V[e]?.normalizedOffset);\n}));\nconst x = [0, 0],\n  G = a();\nexport { b as LabelInfo, h as getLabelPlacement };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass s {\n  constructor(s) {\n    this._stage = s, this._materials = new Map();\n  }\n  get(s) {\n    return this._materials.get(s);\n  }\n  add(s, t) {\n    this._materials.set(s, t), this._stage.add(t);\n  }\n  dispose() {\n    this._stage.removeMany(Array.from(this._materials.values())), this._materials.clear();\n  }\n}\nexport { s as MaterialCollection };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { forEach as s, result as i } from \"../../../../core/asyncUtils.js\";\nimport \"../../../../core/has.js\";\nimport l from \"../../../../core/Logger.js\";\nimport { someMap as a } from \"../../../../core/MapUtils.js\";\nimport { disposeMaybe as r, abortMaybe as o } from \"../../../../core/maybe.js\";\nimport { throwIfAborted as n, isAbortError as c } from \"../../../../core/promiseUtils.js\";\nimport { watch as h } from \"../../../../core/reactiveUtils.js\";\nimport { property as b } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as d } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { fromValues as p } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { hydrateGraphic as u } from \"../../../../layers/graphics/hydratedFeatures.js\";\nimport { createLabelFunction as y } from \"../../../../layers/support/labelFormatUtils.js\";\nimport { hasCalloutSupport as g } from \"../../../../symbols/callouts/calloutUtils.js\";\nimport { VisibilityGroup as m, VisibilityFlag as f } from \"./enums.js\";\nimport { make as C } from \"./Graphics3DCalloutSymbolLayerFactory.js\";\nimport { LineCalloutSymbolLayerRenderingInfo as x, LineCalloutCreationContext as _ } from \"./Graphics3DLineCalloutSymbolLayer.js\";\nimport { getGraphics3DSymbol as L } from \"./graphicSymbolUtils.js\";\nimport { LabelParameters as v } from \"./LabelParameters.js\";\nimport { getLabelPlacement as G, LabelInfo as T } from \"./labelPlacement.js\";\nimport { horizontalPlacementFromAnchor as D, verticalPlacementFromAnchor as w, textRenderAlignmentFromHorizontalPlacement as A } from \"./placementUtils.js\";\nimport { MaterialCollection as I } from \"../../webgl-engine/lib/MaterialCollection.js\";\nimport { TextRenderer as R } from \"../../webgl-engine/lib/TextRenderer.js\";\nimport { TextRenderParameters as S } from \"../../webgl-engine/lib/TextRenderParameters.js\";\nimport { TextTextureAtlas as P } from \"../../webgl-engine/lib/TextTextureAtlas.js\";\nimport { WebGLLayer as j } from \"../../webgl-engine/lib/WebGLLayer.js\";\nimport { TaskPriority as O } from \"../../../support/Scheduler.js\";\nimport { Yield as E } from \"../../../support/Yield.js\";\nclass z {\n  constructor(e, t) {\n    this.labelingContext = e, this.graphics3DGraphic = t, this.hasGraphics3DResources = !1, this.visible = !1, this.addedToTextureAtlas = !1, this.textInitialized = !1, this.textRenderers = new Array(), this.textLabelPlacements = new Array();\n  }\n}\nclass F {\n  constructor(e, t, s, i, l) {\n    this.labelClass = e, this.graphics3DSymbol = t, this.graphics3DCalloutSymbolLayer = s, this.textRenderParameters = i, this.labelFunction = l, this.calloutSymbolLayerIndex = 0;\n  }\n}\nclass M {\n  constructor(e, t, s, i, l, a, r, o) {\n    this.layer = t, this.graphics3DCore = s, this.scaleVisibility = i, this.emptySymbolLabelSupported = l, this.elevationInfoOverride = a, this.disablePlacement = r, this.active = o, this.labelClassAbortController = new AbortController(), this.labelClassContexts = new Array(), this.graphics = new Map(), this.labelsToInitialize = new Map(), this.stageLayer = new j(e, {\n      pickable: !0,\n      disableOctree: !0\n    }, t.uid);\n  }\n  destroy() {\n    this.stageLayer.destroy();\n  }\n}\nlet V = class extends t {\n  constructor(e) {\n    super(e), this._dirty = !1, this._labels = new Map(), this._labelingContexts = new Array();\n  }\n  setup() {\n    this.dispose(), this.addHandles([h(() => this.view.state?.camera, () => this.setDirty()), h(() => this.view.state?.rasterPixelRatio, () => this._resetAllLabels()), this.view.resourceController.scheduler.registerTask(O.LABELER, this)]), this._textTextureAtlas = new P({\n      view: this.view\n    }), this._hudMaterialCollection = new I(this.view._stage), this._calloutMaterialCollection = new I(this.view._stage);\n  }\n  dispose() {\n    this.removeAllHandles(), this._textTextureAtlas = r(this._textTextureAtlas), this._hudMaterialCollection = r(this._hudMaterialCollection), this._calloutMaterialCollection = r(this._calloutMaterialCollection), this._labelingContexts.length = 0, this._labels.clear();\n  }\n  destroy() {\n    this.dispose(), H.graphic = null, H.renderingInfo = null, H.layer = null;\n  }\n  _activateLabelingContext(e) {\n    e.graphics.forEach((t, s) => {\n      const i = new z(e, t);\n      this._labels.set(s, i), e.labelsToInitialize.set(s, i), t.setVisibilityFlag(m.LABEL, f.USER, !0);\n    }), e.active = !0;\n  }\n  _deactivateLabelingContext(e) {\n    e.graphics.forEach((e, t) => {\n      e.setVisibilityFlag(m.LABEL, f.USER, !1), this.setLabelGraphicVisibility(e, !1), e.clearLabelGraphics(), this._labels.delete(t);\n    }), e.active = !1;\n  }\n  _addLabelTextureToAtlas(e) {\n    for (const t of e.graphics3DGraphic.labelLayers) {\n      if (!t._labelClass) continue;\n      const s = e.textRenderers[t._labelIndex];\n      s && (this._textTextureAtlas.addTextTexture(s, t.stageObject), e.addedToTextureAtlas = !0);\n    }\n  }\n  _removeLabelTextureFromAtlas(e) {\n    for (const t of e.graphics3DGraphic.labelLayers) {\n      if (!t._labelClass) continue;\n      const s = e.textRenderers[t._labelIndex];\n      null != s && (this._textTextureAtlas.removeTextTexture(s, t.stageObject), e.addedToTextureAtlas = !1);\n    }\n  }\n  get running() {\n    return this.view.ready && (this._dirty || this.deconflictor.running);\n  }\n  runTask(e) {\n    return this._updateLabels(e), !this._dirty && this.deconflictor.running && this.deconflictor.runTask(e), E;\n  }\n  _updateLabels(e) {\n    if (this._dirty) {\n      this._dirty = !1;\n      for (const t of this._labelingContexts) if (t.active) if (U(t)) this._dirty = !0;else if (k(t.labelClassContexts)) {\n        if (null === t.labelClassContexts) {\n          this._deactivateLabelingContext(t);\n          continue;\n        }\n        this._createLabelClassContext(t), this._dirty = !0;\n      } else a(t.labelsToInitialize, (s, i) => (this._ensureGraphics3DResources(s) && (this._labels.set(i, s), this.deconflictor.setDirty(), e.madeProgress()), (s.visible && s.textInitialized || !s.visible && s.hasGraphics3DResources) && (t.labelsToInitialize.delete(i), e.madeProgress()), e.done)) && (this._dirty = !0);\n      this._dirty || this.notifyChange(\"updating\");\n    }\n  }\n  async _createLabelClassContextAsync(e) {\n    const t = e.labelClassAbortController?.signal;\n    e.layer.when && (await e.layer.when()), n(t), e.scaleVisibility?.updateScaleRangeActive();\n    const a = e.graphics3DCore,\n      r = a.layer,\n      o = r.labelingInfo?.filter(e => !!e.symbol);\n    if (!o || 0 === o.length) return;\n    let c = !1;\n    await s(o, async (s, r) => {\n      const o = s.symbol,\n        h = L(a.getOrCreateGraphics3DSymbol(o));\n      if (null == h) return void l.getLogger(this).error(\"Failed to create Graphics3DSymbol for label\");\n      await h.load(), n(t);\n      let b = null;\n      g(o) && o.hasVisibleCallout() && (b = C(o, a.symbolCreationContext), await b.load(), n(t));\n      const d = await i(y(s, e.layer.fieldsIndex, this.view.spatialReference));\n      if (n(t), !0 === d.ok) {\n        const i = await this._createTextRenderParameters(h.symbol);\n        n(t), e.labelClassContexts[r] = new F(s, h, b, i, d.value);\n      } else l.getLogger(this).error(`Label expression failed to evaluate: ${d.error}`), c = !0;\n    }), n(t);\n  }\n  async _createLabelClassContext(e) {\n    return null == e.labelClassPromise && (e.labelClassPromise = this._createLabelClassContextAsync(e).catch(t => {\n      if (c(t)) throw t;\n      e.labelClassContexts.length = 0;\n    }).then(() => {\n      e.labelClassAbortController = null, this.notifyChange(\"updating\");\n    }).catch(() => {}), this.notifyChange(\"updating\")), e.labelClassPromise;\n  }\n  async _createTextRenderParameters(e) {\n    const t = e.symbolLayers.at(0);\n    return \"text\" !== t?.type ? null : S.fromSymbol(t, this.view.state.rasterPixelRatio);\n  }\n  _destroyLabelClassContext(e) {\n    for (const s of e.labelClassContexts) --s.graphics3DSymbol.referenced;\n    const t = e.labelClassAbortController;\n    e.labelClassAbortController = new AbortController(), o(t), e.labelClassContexts.length = 0, e.labelClassPromise = null, this.notifyChange(\"updating\");\n  }\n  _createTextSymbolGraphic(e, t, s, i, l, a) {\n    const r = new v(s, D(s.anchor), w(s.anchor), e.text, p(e.displayWidth, e.displayHeight));\n    return H.graphic = t, H.renderingInfo = null, H.layer = i, l.createLabel(H, r, this._hudMaterialCollection, this._textTextureAtlas, () => {\n      const e = G(a);\n      return e ? e.elevationOffset : null;\n    });\n  }\n  _createLineCalloutGraphic(e, t, s, i, l) {\n    H.graphic = e, H.layer = l;\n    const a = i.screenOffset[0];\n    return H.renderingInfo = new x(null, t, i.translation, i.centerOffset, a, i.centerOffsetUnits, i.elevationOffset, this._calloutMaterialCollection), s.createGraphics3DGraphic(H);\n  }\n  _ensureGraphics3DResources(e) {\n    if (e.hasGraphics3DResources) return !1;\n    const t = e.graphics3DGraphic;\n    if (t.destroyed) return !1;\n    this._ensureTextTextureResources(e);\n    const s = e.labelingContext,\n      i = s.labelClassContexts;\n    if (k(i) || !s.emptySymbolLabelSupported && 0 === t.layers.length) return !1;\n    let l = !1;\n    const a = t.graphic,\n      r = s.layer,\n      o = B(s.layer);\n    for (let n = 0; n < i.length; n++) {\n      const c = e.textRenderers[n],\n        h = e.textLabelPlacements[n];\n      if (null == c || null == h) continue;\n      const b = i[n],\n        d = b.graphics3DSymbol,\n        p = d.symbol && \"label-3d\" === d.symbol.type ? d.symbol : null,\n        u = d.symbolLayers[0];\n      if (!u) continue;\n      u.setElevationInfoOverride(s.elevationInfoOverride);\n      const y = new T(t, p, b.labelClass),\n        g = this._createTextSymbolGraphic(c, a, h, r, u, y);\n      if (null == g) return !1;\n      g._labelClass = b.labelClass, g._labelIndex = n, t.addLabelGraphic(g, s.stageLayer), t.deconflictionPriority = b.textRenderParameters?.definition.size ?? 0, t.setVisibilityFlag(m.LABEL, f.USER, o), t.setVisibilityFlag(m.LABEL, f.SCALE_RANGE, !0), t.setVisibilityFlag(m.LABEL, f.DECONFLICTION, !1), l = !0;\n      const C = b.graphics3DCalloutSymbolLayer;\n      if (C && h.hasLabelVerticalOffset) {\n        C.setElevationInfoOverride(s.elevationInfoOverride);\n        const e = this._createLineCalloutGraphic(a, p, C, h, r);\n        null != e && (b.calloutSymbolLayerIndex = t.labelLayers.length, t.addLabelGraphic(e, s.stageLayer));\n      }\n      break;\n    }\n    return l && s.scaleVisibility?.updateGraphicLabelScaleVisibility(t), e.hasGraphics3DResources = !0, !0;\n  }\n  _destroyGraphics3DResources(e) {\n    const t = e.labelingContext.labelClassContexts;\n    for (const s of e.graphics3DGraphic.labelLayers) {\n      if (null == s._labelClass) continue;\n      const e = t[s._labelIndex].graphics3DSymbol.symbolLayers[0];\n      e?.onRemoveGraphic(s);\n    }\n    e.graphics3DGraphic.deconflictionPriority = 0, e.graphics3DGraphic.clearLabelGraphics(), e.hasGraphics3DResources = !1;\n  }\n  _ensureTextTextureResources(e) {\n    if (e.textInitialized) return;\n    const t = e.labelingContext,\n      s = t.labelClassContexts;\n    if (k(s)) return;\n    const i = e.graphics3DGraphic.graphic;\n    for (let a = 0; a < s.length; a++) {\n      const r = s[a];\n      if (e.textRenderers[a] = null, e.textLabelPlacements[a] = null, null == r?.textRenderParameters) continue;\n      const o = r.labelFunction;\n      let n;\n      if (\"arcade\" === o.type) try {\n        const e = o.needsHydrationToEvaluate() ? u(i, t.layer) : i;\n        n = o.evaluate(e);\n      } catch (l) {\n        n = null;\n      } else n = o.evaluate(i);\n      if (null == n || \"\" === n || /^\\s+$/.test(n)) continue;\n      const c = r.graphics3DSymbol,\n        h = \"label-3d\" === c.symbol?.type ? c.symbol : null;\n      if (!c.symbolLayers[0]) continue;\n      const b = e.graphics3DGraphic,\n        d = r.labelClass,\n        p = t.disablePlacement,\n        y = G({\n          graphics3DGraphic: b,\n          labelSymbol: h,\n          labelClass: d,\n          disablePlacement: p\n        });\n      if (null == y) continue;\n      const g = D(y.anchor),\n        m = A(g);\n      e.textRenderers[a] = new R(n, m, r.textRenderParameters, P.maxSize), e.textLabelPlacements[a] = y;\n    }\n    e.textInitialized = !0;\n  }\n  _destroyTextTextureResources(e) {\n    e.textInitialized = !1, e.textRenderers.length = 0, e.textLabelPlacements.length = 0;\n  }\n  _addGraphic(e, t) {\n    const s = t.graphic.uid;\n    if (e.graphics.set(s, t), e.active) {\n      const i = new z(e, t);\n      this._labels.set(s, i), e.labelsToInitialize.set(s, i);\n    }\n    this.setDirty(), this.deconflictor.setDirty();\n  }\n  _updateGraphicGeometry(e, t) {\n    const s = t.graphic.uid,\n      i = this._labels.get(s);\n    if (!i) return !0;\n    for (const l of i.graphics3DGraphic.labelLayers) {\n      if (null == l._labelClass) continue;\n      if (!e.labelClassContexts[l._labelIndex].graphics3DSymbol.symbolLayers[0].updateGeometry(l, t.graphic.geometry)) return !1;\n    }\n    return this.setDirty(), this.deconflictor.setDirty(), !0;\n  }\n  _removeGraphic(e, t) {\n    const s = t.graphic.uid,\n      i = this._labels.get(s);\n    e.graphics.delete(s), i && (this._destroyGraphic(i, s), e.labelsToInitialize.delete(s), this.setDirty(), this.deconflictor.setDirty());\n  }\n  _destroyGraphic(e, t) {\n    this._labels.delete(t), e.addedToTextureAtlas && this._removeLabelTextureFromAtlas(e), this._destroyTextTextureResources(e), e.hasGraphics3DResources && this._destroyGraphics3DResources(e);\n  }\n  async _labelingInfoChange(e, t) {\n    if (!t) return this._visibilityInfoChange(e), this._resetLabels(e), this._createLabelClassContext(e);\n    for (const s of t) {\n      const t = e.graphics.get(s);\n      t && (this._removeGraphic(e, t), this._addGraphic(e, t));\n    }\n  }\n  _globalPropertyChanged(e, t) {\n    for (const s of t.labelClassContexts) {\n      const i = new Map();\n      t.graphics.forEach(e => i.set(e.graphic.uid, e));\n      const l = e => e.labelLayers[0];\n      if (s.graphics3DSymbol.symbolLayers[0].globalPropertyChanged(e, i, l), s.graphics3DCalloutSymbolLayer) {\n        const t = e => e.labelLayers[s.calloutSymbolLayerIndex];\n        s.graphics3DCalloutSymbolLayer.globalPropertyChanged(e, i, t);\n      }\n    }\n  }\n  _visibilityInfoChange(e) {\n    const t = B(e.layer);\n    t && !e.active && this._activateLabelingContext(e), !t && e.active && this._deactivateLabelingContext(e), this.setDirty();\n  }\n  _resetAllLabels() {\n    for (const e of this._labelingContexts) this._resetLabels(e);\n  }\n  _resetLabels(e) {\n    e.graphics.forEach((t, s) => {\n      const i = this._labels.get(s);\n      i && (this._destroyGraphic(i, s), i.visible = !1, e.labelsToInitialize.set(s, i));\n    }), this._destroyLabelClassContext(e), this.setDirty(), this.deconflictor.setDirty();\n  }\n  _findLabelingContext(e) {\n    for (const t of this._labelingContexts) if (t.graphics3DCore === e) return t;\n    return null;\n  }\n  addGraphicsOwner(e, t, s) {\n    const i = s?.emptySymbolLabelSupported || !1,\n      l = s?.elevationInfoOverride || null,\n      a = s?.disablePlacement || null;\n    if (this._findLabelingContext(e)) return;\n    const r = e.layer,\n      o = new M(this.view._stage, r, e, t, i, l, a, B(r));\n    return this._labelingContexts.push(o), this.setDirty(), {\n      addGraphic: e => this._addGraphic(o, e),\n      removeGraphic: e => this._removeGraphic(o, e),\n      updateGraphicGeometry: e => this._updateGraphicGeometry(o, e),\n      layerLabelsEnabled: () => B(o.layer),\n      labelingInfoChange: e => this._labelingInfoChange(o, e),\n      elevationInfoChange: () => this._globalPropertyChanged(\"elevationInfo\", o),\n      slicePlaneEnabledChange: () => this._globalPropertyChanged(\"slicePlaneEnabled\", o),\n      visibilityInfoChange: () => this._visibilityInfoChange(o),\n      reset: () => this._resetLabels(o),\n      remove: () => this._removeGraphicsOwner(e),\n      setDirty: () => this.setDirty()\n    };\n  }\n  _removeGraphicsOwner(e) {\n    const t = this._findLabelingContext(e);\n    if (!t) return;\n    const s = this._labelingContexts.indexOf(t);\n    this._labelingContexts.splice(s, 1), t.graphics.forEach(e => this._removeGraphic(t, e)), t.destroy(), this.setDirty();\n  }\n  setLabelGraphicVisibility(e, t) {\n    const s = e.graphic.uid,\n      i = this._labels.get(s);\n    i && i.visible !== t && (t && !i.addedToTextureAtlas ? (this._addLabelTextureToAtlas(i), i.textInitialized || i.labelingContext.labelsToInitialize.set(s, i)) : !t && i.addedToTextureAtlas && this._removeLabelTextureFromAtlas(i), i.visible = t, this.setDirty());\n  }\n  setDirty() {\n    !this._dirty && this._labelingContexts.length > 0 && (this._dirty = !0, this.notifyChange(\"updating\"));\n  }\n  get updating() {\n    return this._dirty || this._textTextureAtlas?.updating || this.deconflictor.updating || this._labelingContexts.some(e => U(e));\n  }\n  get updatingProgress() {\n    if (!this.updating || !this._textTextureAtlas) return 1;\n    const e = this._labelingContexts.length > 0 ? this._labelingContexts.reduce((e, t) => e + (U(t) ? 0 : 1), 0) / this._labelingContexts.length : 1;\n    return (this._dirty ? 0 : .3) + (this._textTextureAtlas.updating ? 0 : .1) + .1 * e + .5 * this.deconflictor.updatingProgress;\n  }\n  get test() {}\n};\nfunction U(e) {\n  return !!e.labelClassPromise && !!e.labelClassAbortController;\n}\nfunction k(e) {\n  return !e || 0 === e.length;\n}\nfunction B(e) {\n  return !0 === e.labelsVisible && !!e.labelingInfo?.some(e => !!e.symbol);\n}\ne([b({\n  constructOnly: !0\n})], V.prototype, \"view\", void 0), e([b({\n  constructOnly: !0\n})], V.prototype, \"deconflictor\", void 0), e([b()], V.prototype, \"_textTextureAtlas\", void 0), e([b({\n  type: Boolean,\n  readOnly: !0\n})], V.prototype, \"updating\", null), V = e([d(\"esri.views.3d.layers.graphics.Labeler\")], V);\nconst H = new _(null, null, null);\nexport { V as Labeler, B as areLabelsVisible };"],
  "mappings": "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",
  "names": ["i", "c", "b", "e", "n", "r", "l", "a", "i", "y", "d", "v", "t", "w", "c", "s", "G", "L", "S", "o", "f", "B", "s", "z", "e", "s", "i", "l", "a", "r", "o", "V", "k", "n", "c", "h", "b", "d", "u", "y", "g", "C", "t", "S"]
}
