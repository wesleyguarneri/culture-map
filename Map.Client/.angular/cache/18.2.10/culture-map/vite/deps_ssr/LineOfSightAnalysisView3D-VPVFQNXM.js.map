{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightManipulators.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { property as e } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nlet s = class extends t {\n  constructor(o) {\n    super(o), this.target = null, this.intersectedGraphic = null, this.intersectedLocation = null, this.elevationAlignedTargetLocation = null, this.visible = void 0;\n  }\n};\no([e()], s.prototype, \"target\", void 0), o([e()], s.prototype, \"intersectedGraphic\", void 0), o([e()], s.prototype, \"intersectedLocation\", void 0), o([e()], s.prototype, \"elevationAlignedTargetLocation\", void 0), o([e({\n  type: Boolean\n})], s.prototype, \"visible\", void 0), s = o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")], s);\nexport { s as LineOfSightAnalysisResult };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport o from \"../../../../core/Accessor.js\";\nimport { property as e } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as s } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nlet i = class extends o {\n  constructor(t) {\n    super(t), this.elevationAlignedTargetLocation = null, this.inputPoints = {\n      isValid: !1,\n      observer: s(),\n      observerSurfaceNormal: null,\n      observerFeatureId: null,\n      target: s(),\n      targetSurfaceNormal: null,\n      targetFeatureId: null,\n      observerAdjusted: s(),\n      targetAdjusted: s()\n    }, this.computationResult = {\n      start: s(),\n      end: s(),\n      intersection: s(),\n      isValid: !1,\n      isTargetVisible: !1\n    }, this.result = null;\n  }\n  notifyResultChanged() {\n    this.notifyChange(\"computationResult\");\n  }\n  notifyInputPointsChanged() {\n    this.notifyChange(\"inputPoints\");\n  }\n};\nt([e()], i.prototype, \"target\", void 0), t([e()], i.prototype, \"elevationAlignedTargetLocation\", void 0), t([e()], i.prototype, \"inputPoints\", void 0), t([e()], i.prototype, \"computationResult\", void 0), t([e()], i.prototype, \"result\", void 0), i = t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")], i);\nexport { i as LineOfSightComputation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../../../chunks/tslib.es6.js\";\nimport o from \"../../../../core/Accessor.js\";\nimport { equals as t } from \"../../../../core/arrayUtils.js\";\nimport { clone as s } from \"../../../../core/lang.js\";\nimport { equalsMaybe as i } from \"../../../../core/maybe.js\";\nimport { property as e } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport { subclass as p } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { G as n } from \"../../../../chunks/vec32.js\";\nimport { clone as c } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { equals as a } from \"../../../../geometry/support/ray.js\";\nvar m;\nlet y = m = class extends o {\n  constructor(r) {\n    super(r);\n  }\n  clone() {\n    return new m({\n      type: this.type,\n      id: s(this.id),\n      mapPoint: s(this.mapPoint),\n      renderPoint: c(this.renderPoint),\n      normal: s(this.normal),\n      ray: s(this.ray),\n      graphic: this.graphic\n    });\n  }\n  equals(r) {\n    return this.type === r.type && this.id === r.id && i(this.mapPoint, r.mapPoint) && n(this.renderPoint, r.renderPoint) && t(this.normal, r.normal) && a(this.ray, r.ray) && this.graphic === r.graphic;\n  }\n};\nr([e()], y.prototype, \"type\", void 0), r([e({\n  constructOnly: !0\n})], y.prototype, \"id\", void 0), r([e({\n  constructOnly: !0\n})], y.prototype, \"mapPoint\", void 0), r([e({\n  constructOnly: !0\n})], y.prototype, \"renderPoint\", void 0), r([e({\n  constructOnly: !0\n})], y.prototype, \"normal\", void 0), r([e({\n  constructOnly: !0\n})], y.prototype, \"graphic\", void 0), r([e({\n  constructOnly: !0\n})], y.prototype, \"ray\", void 0), y = m = r([p(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")], y);\nexport { y as LineOfSightIntersectionResult };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport r from \"../../../../core/Accessor.js\";\nimport { screenPointObjectToArray as t } from \"../../../../core/screenUtils.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { a as s, c as n, n as a, j as c, g as l } from \"../../../../chunks/vec32.js\";\nimport { clone as p, create as m } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as u, copy as d, fromPoints as g } from \"../../../../geometry/support/ray.js\";\nimport { sv2d as f } from \"../../../../geometry/support/vectorStacks.js\";\nimport { getObjectId as y } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nimport { LineOfSightIntersectionResult as h } from \"./LineOfSightIntersectionResult.js\";\nimport { isI3sIntersectorResult as j, isTiles3DIntersectorResult as I } from \"../../layers/i3s/Intersector.js\";\nimport { fromScreen as w } from \"../../support/geometryUtils/ray.js\";\nimport { isTerrainIntersectorResult as v } from \"../../terrain/Intersector.js\";\nimport { newIntersector as b } from \"../../webgl-engine/lib/Intersector.js\";\nimport { StoreResults as P, IntersectorType as R } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { toGraphic as x } from \"../../webgl-engine/lib/intersectorUtilsConversions.js\";\nimport U from \"../../../../geometry/Point.js\";\nlet C = class extends r {\n  constructor(e) {\n    super(e), this._terrainIntersectionOptionsLayerUids = new Set([\"terrain\"]);\n  }\n  initialize() {\n    this.intersector = b(this.view.state.viewingMode), this.intersector.options.hud = !1, this.intersector.options.store = P.MIN;\n  }\n  getScreenPointIntersection(e) {\n    const r = t(e, f.get()),\n      i = w(this.view.state.camera, r, T);\n    return this._getRayIntersection(i);\n  }\n  _getRayIntersection(e, r) {\n    if (null == e || null == this.view.sceneIntersectionHelper) return null;\n    const {\n      intersector: t\n    } = this;\n    t.options.store = P.MIN, this.view.sceneIntersectionHelper.intersectToolIntersectorRay(e, t, r);\n    const i = t.results.min,\n      o = m();\n    if (!i.getIntersectionPoint(o)) return null;\n    if (null != r?.maxDistance && s(o, e.origin) > r.maxDistance ** 2) return null;\n    const n = this.view.renderCoordsHelper.fromRenderCoords(o, new U({\n        spatialReference: this.view.spatialReference\n      })),\n      a = p(i.normal);\n    if (j(i)) return new h({\n      type: R.OBJECT,\n      id: `${i.target.layerUid}/${i.target.nodeIndex}/${i.target.componentIndex}`,\n      mapPoint: n,\n      renderPoint: o,\n      normal: a,\n      ray: d(e),\n      graphic: null\n    });\n    if (I(i)) return new h({\n      type: R.OBJECT,\n      id: `${i.target.layerUid}/${i.target.graphicUid}`,\n      mapPoint: n,\n      renderPoint: o,\n      normal: a,\n      ray: d(e),\n      graphic: null\n    });\n    if (v(i)) return new h({\n      type: R.TERRAIN,\n      id: i.target.lij.slice(),\n      mapPoint: n,\n      renderPoint: o,\n      normal: a,\n      ray: d(e),\n      graphic: null\n    });\n    const c = x(i, this.view);\n    if (null != c) {\n      const r = c.layer,\n        t = c.sourceLayer;\n      let i;\n      if (t) {\n        if (\"scene\" === t.type) i = y(c, t.objectIdField);else i = c.uid;\n      } else i = c.uid;\n      return new h({\n        type: R.OBJECT,\n        id: `${r?.uid}/${i}`,\n        mapPoint: n,\n        renderPoint: o,\n        normal: a,\n        ray: d(e),\n        graphic: c\n      });\n    }\n    return null;\n  }\n  updateFromGroundIntersection(e, r, t) {\n    const i = L,\n      o = O,\n      s = S,\n      m = $;\n    n(o, e), this.view.renderCoordsHelper.worldUpAtPosition(o, s), a(s, s);\n    const u = this.view.basemapTerrain.visibleElevationBounds,\n      d = (r >= 0 ? 1 : -1) * ((u ? Math.abs(u.max - u.min) : 100) + Math.abs(r));\n    c(m, s, d), l(i, o, m), g(i, o, T);\n    const f = this._getRayIntersection(T, {\n      include: this._terrainIntersectionOptionsLayerUids,\n      maxDistance: d\n    });\n    if (null != f) {\n      const e = $;\n      return c(e, s, r), l(t, f.renderPoint, e), p(f.normal);\n    }\n    return n(t, e), null;\n  }\n};\ne([i()], C.prototype, \"view\", void 0), e([i()], C.prototype, \"intersector\", void 0), C = e([o(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")], C);\nconst L = m(),\n  O = m(),\n  S = m(),\n  $ = m(),\n  T = u();\nexport { C as LineOfSightRayIntersector };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport { getFeatureId as t } from \"../../../../analysis/featureReferenceUtils.js\";\nimport n from \"../../../../core/Accessor.js\";\nimport { createTask as o } from \"../../../../core/asyncUtils.js\";\nimport i from \"../../../../core/Evented.js\";\nimport r from \"../../../../core/Handles.js\";\nimport { handlesGroup as s, makeHandle as a } from \"../../../../core/handleUtils.js\";\nimport l from \"../../../../core/Logger.js\";\nimport { abortMaybe as u } from \"../../../../core/maybe.js\";\nimport { ignoreAbortErrors as c } from \"../../../../core/promiseUtils.js\";\nimport { initial as d } from \"../../../../core/reactiveUtils.js\";\nimport { property as p } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as g } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as h, p as m, f as v, n as f, j as _, g as b, F as y, z as C } from \"../../../../chunks/vec32.js\";\nimport { create as I } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { UpdatingHandles as T } from \"../../../../core/support/UpdatingHandles.js\";\nimport { projectOrLoad as P } from \"../../../../geometry/projection.js\";\nimport { projectBoundingRect as O } from \"../../../../geometry/projection/projectBoundingRect.js\";\nimport { empty as j, containsPointObject as S, intersectsSegment as R } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { fromPoints as w, create as A } from \"../../../../geometry/support/ray.js\";\nimport { zValueInAbsoluteHeightMode as H } from \"../../../../support/elevationInfoUtils.js\";\nimport { LineOfSightAnalysisResult as F } from \"../LineOfSightAnalysisResult.js\";\nimport { LineOfSightComputation as E } from \"./LineOfSightComputation.js\";\nimport { LineOfSightRayIntersector as L } from \"./LineOfSightRayIntersector.js\";\nimport { logFailedGeometryProjectionError as V } from \"../support/projectionUtils.js\";\nimport { StoreResults as x } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { toGraphic as N, hasLod as D, getIntersectedFeatureBSRadius as G } from \"../../webgl-engine/lib/intersectorUtilsConversions.js\";\nimport { ImmediateTask as z, TaskPriority as k } from \"../../../support/Scheduler.js\";\nimport M from \"../../../../geometry/Point.js\";\nlet U = class extends i.EventedMixin(n) {\n  constructor(e) {\n    super(e), this.updateOnCameraChange = !0, this._observerGroundOffsetRenderSpace = 0, this._effectiveObserverElevationMode = \"absolute-height\", this._observerFeatureId = null, this._updatingHandles = new T(), this._frameTask = z, this._computationHandles = new r(), this._externalObserverUpdate = !0;\n  }\n  initialize() {\n    const e = this.view.resourceController?.scheduler;\n    this._frameTask = e ? e.registerTask(k.LINE_OF_SIGHT_TOOL) : z, this._intersector = new L({\n      view: this.view\n    }), this.addHandles([this._connectObserver(), this._connectComputations(), this._connectTargets()]);\n  }\n  destroy() {\n    this._computationHandles.destroy(), this._computations.removeAll(), this._updatingHandles.destroy();\n  }\n  get updating() {\n    return this._frameTask.updating || this._updatingHandles.updating;\n  }\n  get priority() {\n    return this._frameTask.priority;\n  }\n  set priority(e) {\n    this._frameTask.priority = e;\n  }\n  get _computations() {\n    return this.analysisViewData.computations;\n  }\n  get _elevationAlignedObserverPositionRenderSpace() {\n    return this.analysisViewData.observerEngineLocation;\n  }\n  set _elevationAlignedObserverPositionRenderSpace(e) {\n    this.analysisViewData.observerEngineLocation = e;\n  }\n  get _screenPixelSize() {\n    return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace);\n  }\n  _computeResult(e) {\n    const t = e.computation,\n      {\n        inputPoints: n,\n        computationResult: o\n      } = t,\n      {\n        observerAdjusted: i,\n        targetAdjusted: r\n      } = n,\n      {\n        start: s,\n        end: a\n      } = o;\n    h(s, i), h(a, r);\n    this._canCompute(t) ? this._computeIntersection(e) : q(e), t.notifyResultChanged(), this.emit(\"result-changed\", {\n      target: e.computation.target,\n      result: t.result\n    });\n  }\n  _updateAdjustedPointsFromFeatures(e) {\n    const n = this.view,\n      {\n        sceneIntersectionHelper: o\n      } = n,\n      {\n        inputPoints: i\n      } = e,\n      {\n        observerAdjusted: r,\n        observerFeatureId: s,\n        targetFeatureId: a,\n        targetAdjusted: l\n      } = i;\n    if (null == s && null == a) return;\n    const u = m(r, l),\n      c = this._intersector.intersector,\n      d = w(i.observer, i.target, Q);\n    c.options.store = x.ALL, o.intersectToolIntersectorRay(d, c);\n    let p = null,\n      g = null,\n      h = null,\n      v = null;\n    for (const m of c.results.all) {\n      const e = N(m, this.view);\n      if (null == e || null == m.distanceInRenderSpace) continue;\n      const o = t(e);\n      null != o && (null != s && o === s && (null == p && (p = Z(m, n, u)), m.distanceInRenderSpace < p && (h = m)), null != a && o === a && (null == g && (g = Z(m, n, u)), null == v && m.distanceInRenderSpace < u && u - m.distanceInRenderSpace < g && (v = m)));\n    }\n    null != h && h.getIntersectionPoint(r) && (i.observerSurfaceNormal = h.getTransformedNormal(I())), null != v && v.getIntersectionPoint(l) && (i.targetSurfaceNormal = v.getTransformedNormal(I()));\n  }\n  _adjustStartEndPositions(e) {\n    const t = this._screenPixelSize,\n      n = this.view,\n      {\n        inputPoints: o\n      } = e,\n      {\n        observer: i,\n        observerSurfaceNormal: r,\n        target: s,\n        targetSurfaceNormal: a,\n        observerAdjusted: l,\n        targetAdjusted: u\n      } = o,\n      c = K;\n    h(l, i), h(u, s), this._updateAdjustedPointsFromFeatures(e), null != r ? h(c, r) : v(c, u, l);\n    const d = t;\n    f(c, c), _(c, c, Math.min(d, 1)), b(l, l, c), null != a ? h(c, a) : v(c, l, u);\n    const p = n.state.camera.computeScreenPixelSizeAt(u);\n    f(c, c), _(c, c, Math.min(p, 1)), b(u, u, c);\n  }\n  _computeIntersection({\n    computation: e,\n    interpolationInfo: t\n  }) {\n    const {\n        view: n\n      } = this,\n      {\n        sceneIntersectionHelper: o,\n        renderCoordsHelper: i\n      } = n;\n    if (null == o) return;\n    const r = this._intersector.intersector,\n      {\n        computationResult: s,\n        inputPoints: a\n      } = e,\n      {\n        observer: l,\n        target: u\n      } = a,\n      {\n        start: c,\n        end: d\n      } = s,\n      p = w(c, d, Q);\n    r.options.store = x.MIN, o.intersectToolIntersectorRay(p, r);\n    const g = r.results.min,\n      m = s.intersection,\n      v = K;\n    let f = !0;\n    if (null != g && g.getIntersectionPoint(m)) {\n      h(t.originalIntersection, m), h(t.originalObserver, c), h(t.originalTarget, d), i.fromRenderCoords(m, v, n.spatialReference);\n      const e = 1 - y(d, u) / y(c, u);\n      f = y(l, m) >= e * y(l, u);\n    }\n    const _ = new M(v, n.spatialReference);\n    {\n      const {\n        result: t,\n        target: o\n      } = e;\n      null != t ? (t.target = o, t.intersectedGraphic = f ? null : N(g, n), t.intersectedLocation = f ? null : _, t.visible = f) : e.result = new F({\n        target: o,\n        elevationAlignedTargetLocation: e.elevationAlignedTargetLocation,\n        intersectedGraphic: f ? null : N(g, n),\n        intersectedLocation: f ? null : _,\n        visible: f\n      });\n    }\n    s.isValid = a.isValid = !0, s.isTargetVisible = f;\n  }\n  _canCompute(e) {\n    const t = this.analysisViewData.elevationAlignedObserver,\n      n = this.view.frustum;\n    if (null == t || null == e.elevationAlignedTargetLocation || null == n) return !1;\n    const {\n        observerAdjusted: o,\n        targetAdjusted: i\n      } = e.inputPoints,\n      r = n.intersectsPoint(o),\n      s = n.intersectsPoint(i);\n    return r && s;\n  }\n  _onObserverPositionChange(e, n, o, i, r) {\n    if (this._externalObserverUpdate = r, null == e) return this.analysisViewData.elevationAlignedObserver = null, void (this._observerFeatureId = null);\n    if (null == n) return V(this.analysis, e.spatialReference, l.getLogger(this)), void (this.analysisViewData.elevationAlignedObserver = null);\n    const s = B(n, o),\n      {\n        absoluteZ: a,\n        elevation: u\n      } = H(n.x, n.y, n.z, this.view.spatialReference, this.view, s),\n      c = n.clone();\n    c.z = a, this._effectiveObserverElevationMode = s.mode, this.analysisViewData.elevationAlignedObserver = c;\n    const d = I();\n    this.view.renderCoordsHelper.toRenderCoords(c, d), this._elevationAlignedObserverPositionRenderSpace = d, this._observerGroundOffsetRenderSpace = a - u, this._observerFeatureId = t(i), this.priority = k.LINE_OF_SIGHT_TOOL_INTERACTIVE;\n  }\n  _onObserverRenderSpacePositionChangeForComputation(e, t, n, o, i) {\n    const {\n      inputPoints: r\n    } = e;\n    switch (h(r.observer, t), r.observerFeatureId = i, r.observerSurfaceNormal = null, o) {\n      case \"on-the-ground\":\n      case \"relative-to-ground\":\n        {\n          const e = this._intersector.updateFromGroundIntersection(r.observer, n, r.observer);\n          null == r.observerFeatureId && (r.observerSurfaceNormal = e);\n        }\n    }\n    this._adjustStartEndPositions(e), e.notifyInputPointsChanged(), this.priority = k.LINE_OF_SIGHT_TOOL_INTERACTIVE;\n  }\n  _onTargetPositionChange(e, n, o, i, r, s = !0) {\n    const a = e.inputPoints;\n    if (s && (a.isValid = !1), null == o) return null != n && V(this.analysis, n.spatialReference, l.getLogger(this)), e.elevationAlignedTargetLocation = null, void e.notifyInputPointsChanged();\n    const u = B(o, i),\n      {\n        absoluteZ: c,\n        elevation: d\n      } = H(o.x, o.y, o.z, this.view.spatialReference, this.view, u),\n      p = o.clone();\n    switch (p.z = c, e.elevationAlignedTargetLocation = p, this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation, a.target), a.targetFeatureId = t(r), a.targetSurfaceNormal = null, u.mode) {\n      case \"on-the-ground\":\n      case \"relative-to-ground\":\n        {\n          const e = this._intersector.updateFromGroundIntersection(a.target, c - d, a.target);\n          null == a.targetFeatureId && (a.targetSurfaceNormal = e);\n        }\n    }\n    this._adjustStartEndPositions(e), e.notifyInputPointsChanged(), this.priority = k.LINE_OF_SIGHT_TOOL_INTERACTIVE;\n  }\n  _connectComputationToTarget(e) {\n    return s([this._updatingHandles.add(() => ({\n      computation: e,\n      targetPosition: e.target.position,\n      targetElevationInfo: e.target.elevationInfo,\n      targetFeatureInfo: e.target.feature,\n      projectedTargetPosition: P(e.target.position, this.view.spatialReference)\n    }), ({\n      computation: e,\n      targetPosition: t,\n      targetElevationInfo: n,\n      targetFeatureInfo: o,\n      projectedTargetPosition: i\n    }) => {\n      null == i.pending ? this._onTargetPositionChange(e, t, i.geometry, n, o) : this._updatingHandles.addPromise(i.pending);\n    }, d)]);\n  }\n  _connectComputationToObserver(e) {\n    return this._updatingHandles.add(() => ({\n      computation: e,\n      observer: this.analysisViewData.elevationAlignedObserver\n    }), ({\n      computation: e\n    }) => {\n      this._externalObserverUpdate && (e.inputPoints.isValid = !1, e.notifyInputPointsChanged());\n    }, d);\n  }\n  _connectComputationToRenderSpaceObserver(e) {\n    return this._updatingHandles.add(() => ({\n      computation: e,\n      observer: this._elevationAlignedObserverPositionRenderSpace,\n      observerGroundOffset: this._observerGroundOffsetRenderSpace,\n      observerElevationMode: this._effectiveObserverElevationMode,\n      observerFeatureId: this._observerFeatureId\n    }), ({\n      computation: e,\n      observer: t,\n      observerGroundOffset: n,\n      observerElevationMode: o,\n      observerFeatureId: i\n    }) => {\n      this._onObserverRenderSpacePositionChangeForComputation(e, t, n, o, i);\n    }, d);\n  }\n  _connectComputationToCamera(e) {\n    return this._updatingHandles.add(() => ({\n      camera: this.view.state.camera,\n      isDirty: this._isCameraDirty\n    }), ({\n      isDirty: t\n    }) => {\n      !this.updateOnCameraChange || e.inputPoints.isValid && !t || e.notifyInputPointsChanged();\n    });\n  }\n  _connectComputationToSlicePlane(e) {\n    return this._updatingHandles.add(() => this.view.slicePlane, () => {\n      e.inputPoints.isValid = !1, e.notifyInputPointsChanged();\n    });\n  }\n  _connectComputationToElevation(e) {\n    const t = (n, o) => {\n      const i = this.analysis.observer,\n        r = e.target;\n      let s = null,\n        a = null,\n        l = null,\n        u = null,\n        c = null,\n        d = null;\n      if (null != i?.position) {\n        const e = P(i.position, this.view.spatialReference);\n        if (null != e.pending) return this._updatingHandles.addPromise(e.pending), void e.pending.finally(() => t(n, o));\n        s = e.geometry, a = i.elevationInfo, l = i.feature;\n      }\n      if (null != r.position) {\n        const e = P(r.position, this.view.spatialReference);\n        if (null != e.pending) return this._updatingHandles.addPromise(e.pending), void e.pending.finally(() => t(n, o));\n        u = e.geometry, c = r.elevationInfo, d = r.feature;\n      }\n      null == s && null == u || (O(n, o, W, this.view.spatialReference), null != s && S(W, s) && this._onObserverPositionChange(null != i ? i.position : null, s, a, l, !1), null != u && S(W, u) && this._onTargetPositionChange(e, r.position, u, c, d, !1), null != s && null != u && R(W, s, u) && e.notifyInputPointsChanged());\n    };\n    return this.view.elevationProvider.on(\"elevation-change\", ({\n      extent: e,\n      spatialReference: n\n    }) => t(e, n));\n  }\n  _connectComputationToTask(e) {\n    let t = null;\n    const n = {\n      computation: e,\n      interpolationInfo: {\n        originalIntersection: I(),\n        originalObserver: I(),\n        originalTarget: I()\n      }\n    };\n    return s([this._updatingHandles.add(() => e.inputPoints, () => {\n      t = u(t), t = o(async e => {\n        await c(this._frameTask.schedule(() => this._computeResult(n), e));\n      });\n    }, {\n      initial: !0,\n      equals: () => !1\n    }), a(() => t = u(t))]);\n  }\n  _connectComputation(e) {\n    const t = this._computationHandles;\n    t.has(e) || t.add([this._connectComputationToTarget(e), this._connectComputationToObserver(e), this._connectComputationToRenderSpaceObserver(e), this._connectComputationToCamera(e), this._connectComputationToSlicePlane(e), this._connectComputationToElevation(e), this._connectComputationToTask(e)], e);\n  }\n  _disconnectComputation(e) {\n    this._computationHandles.remove(e);\n  }\n  _onComputationCollectionChange({\n    added: e,\n    removed: t\n  }) {\n    for (const n of t) this._disconnectComputation(n);\n    for (const n of e) this._connectComputation(n);\n  }\n  _onTargetCollectionChange({\n    added: e,\n    removed: t\n  }) {\n    for (const n of t) this._removeTarget(n);\n    for (const n of e) this._addTarget(n);\n  }\n  _onCursorTargetChange(e, t) {\n    null != t && this._removeTarget(t), null != e && this._addTarget(e);\n  }\n  _addTarget(e) {\n    this._computations.some(t => t.target === e) || this._computations.add(new E({\n      target: e\n    }));\n  }\n  _removeTarget(e) {\n    const t = this._computations.findIndex(t => t.target === e);\n    this._computations.removeAt(t);\n  }\n  _connectObserver() {\n    return s([this._updatingHandles.add(() => ({\n      observerPosition: null != this.analysis.observer ? this.analysis.observer.position : null,\n      projectedObserverPosition: P(null != this.analysis.observer ? this.analysis.observer.position : null, this.view.spatialReference),\n      observerElevationInfo: null != this.analysis.observer ? this.analysis.observer.elevationInfo : null,\n      observerFeatureInfo: null != this.analysis.observer ? this.analysis.observer.feature : null\n    }), ({\n      observerPosition: e,\n      projectedObserverPosition: t,\n      observerElevationInfo: n,\n      observerFeatureInfo: o\n    }) => {\n      null == t.pending ? this._onObserverPositionChange(e, t.geometry, n, o, !0) : this._updatingHandles.addPromise(t.pending);\n    }, d)]);\n  }\n  _connectComputations() {\n    return this._updatingHandles.addOnCollectionChange(() => this._computations, e => this._onComputationCollectionChange(e), {\n      initial: !0,\n      final: !0\n    });\n  }\n  _connectTargets() {\n    return s([this._updatingHandles.addOnCollectionChange(() => this.analysis.targets, e => this._onTargetCollectionChange(e), {\n      initial: !0,\n      final: !0\n    }), this._updatingHandles.add(() => this.analysisViewData.cursorTarget, (e, t) => {\n      this._onCursorTargetChange(e, t);\n    })]);\n  }\n  get _isCameraDirty() {\n    const e = this.analysisViewData.elevationAlignedObserver,\n      {\n        view: t\n      } = this,\n      {\n        renderCoordsHelper: n\n      } = t;\n    if (null == e || null == n) return !1;\n    const o = K;\n    n.toRenderCoords(e, o);\n    const i = t.state.camera.computeScreenPixelSizeAt(o);\n    return Math.abs((i - this._screenPixelSize) / this._screenPixelSize) > J;\n  }\n};\nfunction Z(e, t, n) {\n  if (D(e)) {\n    const o = G(e, t);\n    if (null != o) return Math.min(o * X, n);\n  }\n  return 1e-5 * n;\n}\nfunction B(e, t) {\n  return e.hasZ ? t ?? {\n    mode: \"absolute-height\",\n    offset: 0\n  } : {\n    mode: \"on-the-ground\",\n    offset: 0\n  };\n}\nfunction q({\n  computation: e,\n  interpolationInfo: t\n}) {\n  const {\n      computationResult: n,\n      inputPoints: o\n    } = e,\n    {\n      start: i,\n      end: r,\n      intersection: s\n    } = n,\n    {\n      originalIntersection: a,\n      originalObserver: l,\n      originalTarget: u\n    } = t;\n  if (h(s, a), o.isValid) {\n    const e = K,\n      t = y(l, a) / y(l, u);\n    C(e, i, l), _(e, e, 1 - t), b(s, s, e), C(e, r, u), _(e, e, t), b(s, s, e), n.isValid = !0;\n  } else e.result = null, n.isValid = !1, n.isTargetVisible = !1;\n}\ne([p({\n  constructOnly: !0\n})], U.prototype, \"analysis\", void 0), e([p({\n  constructOnly: !0\n})], U.prototype, \"analysisViewData\", void 0), e([p({\n  constructOnly: !0\n})], U.prototype, \"view\", void 0), e([p()], U.prototype, \"updating\", null), e([p()], U.prototype, \"priority\", null), e([p()], U.prototype, \"updateOnCameraChange\", void 0), e([p()], U.prototype, \"_computations\", null), e([p()], U.prototype, \"_elevationAlignedObserverPositionRenderSpace\", null), e([p()], U.prototype, \"_observerGroundOffsetRenderSpace\", void 0), e([p()], U.prototype, \"_effectiveObserverElevationMode\", void 0), e([p()], U.prototype, \"_observerFeatureId\", void 0), e([p()], U.prototype, \"_screenPixelSize\", null), e([p({\n  readOnly: !0\n})], U.prototype, \"_updatingHandles\", void 0), e([p()], U.prototype, \"_frameTask\", void 0), e([p()], U.prototype, \"_isCameraDirty\", null), U = e([g(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\")], U);\nconst J = .1,\n  K = I(),\n  Q = A(),\n  W = j(),\n  X = .05;\nexport { U as LineOfSightController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from \"../../../../Color.js\";\nimport { getContrast as n, multiplyOpacityToUnitRGBA as t } from \"../../../../core/colorUtils.js\";\nclass e {\n  constructor() {\n    this.glowWidth = 8, this.innerWidth = .75;\n  }\n}\nconst r = new e();\nfunction s(o) {\n  const t = o.accentColor;\n  return {\n    glowColor: t,\n    innerColor: n(t),\n    globalAlpha: .75 * t.a\n  };\n}\nclass i {\n  constructor() {\n    this.size = .5;\n  }\n}\nconst c = new i();\nfunction l(o) {\n  return t(o.accentColor, .75);\n}\nclass h {\n  constructor() {\n    this.size = .5, this.visibleColor = new o([3, 252, 111, .75]), this.occludedColor = new o([252, 3, 69, .75]), this.undefinedColor = new o([127, 127, 127, .75]);\n  }\n}\nconst u = new h();\nclass d {\n  constructor() {\n    this.innerWidth = 2, this.outerWidth = 8, this.visibleInnerColor = new o([3, 252, 111, 1]), this.visibleOuterColor = new o([3, 252, 111, .15]), this.occludedInnerColor = new o([252, 3, 69, 1]), this.occludedOuterColor = new o([252, 3, 69, .1]), this.undefinedInnerColor = new o([255, 255, 255, 1]), this.undefinedOuterColor = new o([127, 127, 127, .2]);\n  }\n}\nconst w = new d();\nexport { s as getLaserLineColors, l as getObserverRGBA, r as laserLineConfiguration, w as lineOfSightConfiguration, c as observerConfiguration, u as targetConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport { watch as t } from \"../../../../core/reactiveUtils.js\";\nimport { getObserverRGBA as o, observerConfiguration as r, targetConfiguration as i } from \"./LineOfSightConfiguration.js\";\nimport { Manipulator3D as s } from \"../../interactive/Manipulator3D.js\";\nimport { createManipulatorMaterial as n } from \"../../interactive/manipulatorUtils.js\";\nimport { RenderObject as m } from \"../../interactive/RenderObject.js\";\nimport { disableDisplayOnGrab as a } from \"../../interactive/editingTools/manipulatorUtils.js\";\nimport { createSphereGeometry as c } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { ManipulatorStateCustomFlags as l } from \"../../../interactive/interfaces.js\";\nclass f extends s {\n  constructor(e, i) {\n    const s = n(o(e.effectiveTheme)),\n      l = c(s, r.size, 32, 32),\n      f = new m(l);\n    super({\n      view: e,\n      renderObjects: [f],\n      metadata: i,\n      elevationInfo: {\n        mode: \"absolute-height\",\n        offset: 0\n      }\n    }), a(this), this.themeHandle = t(() => ({\n      color: o(e.effectiveTheme)\n    }), e => {\n      s.setParameters(e);\n    });\n  }\n  destroy() {\n    this.themeHandle.remove(), super.destroy();\n  }\n}\nclass d extends s {\n  constructor(e, t) {\n    const {\n      size: o,\n      visibleColor: r,\n      occludedColor: s,\n      undefinedColor: n\n    } = i;\n    super({\n      view: e,\n      renderObjects: [u(o, r, l.Custom1), u(o, s, l.Custom2), u(o, n, l.Custom3)],\n      metadata: t,\n      elevationInfo: {\n        mode: \"absolute-height\",\n        offset: 0\n      }\n    }), a(this);\n  }\n}\nfunction u(t, o, r) {\n  return new m(c(n(e.toUnitRGBA(o)), t, 32, 32), r);\n}\nexport { f as LineOfSightObserverManipulator, d as LineOfSightTargetManipulator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../Color.js\";\nimport i from \"../../../../analysis/LineOfSightAnalysisObserver.js\";\nimport a from \"../../../../analysis/LineOfSightAnalysisTarget.js\";\nimport n from \"../../../../core/Handles.js\";\nimport \"../../../../core/has.js\";\nimport r from \"../../../../core/Logger.js\";\nimport { destroyMaybe as s } from \"../../../../core/maybe.js\";\nimport { watch as o, syncAndInitial as l, initial as u } from \"../../../../core/reactiveUtils.js\";\nimport { property as c } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as p } from \"../../../../core/support/UpdatingHandles.js\";\nimport { create as d, fromPoints as g } from \"../../../../geometry/support/lineSegment.js\";\nimport { getGraphicEffectiveElevationInfo as m, getConvertedElevation as _ } from \"../../../../support/elevationInfoUtils.js\";\nimport v from \"../../../../symbols/support/ElevationInfo.js\";\nimport { getLaserLineColors as b, laserLineConfiguration as y } from \"./LineOfSightConfiguration.js\";\nimport { LineOfSightTargetManipulator as f, LineOfSightObserverManipulator as T } from \"./LineOfSightManipulators.js\";\nimport { LineOfSightRayIntersector as L } from \"./LineOfSightRayIntersector.js\";\nimport { LaserlineVisualElement as w } from \"../../interactive/visualElements/LaserlineVisualElement.js\";\nimport { IntersectorType as C } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport \"../../../input/ViewEvents.js\";\nimport { AnalysisToolBase as k } from \"../../../interactive/AnalysisToolBase.js\";\nimport { createManipulatorDragEventPipeline as M } from \"../../../interactive/dragEventPipeline.js\";\nimport { ManipulatorStateCustomFlags as H } from \"../../../interactive/interfaces.js\";\nimport { createScreenPointFromEvent as V } from \"../../../support/screenUtils.js\";\nimport { MouseButton as P } from \"../../../input/IViewEvents.js\";\nvar I;\n!function (e) {\n  e.Ready = \"ready\", e.Creating = \"creating\", e.Created = \"created\";\n}(I || (I = {}));\nlet O = class extends k {\n  constructor(e) {\n    super(e), this.removeIncompleteOnCancel = !1, this.analysisViewData = null, this._latestPointerMovePointerType = null, this._laserlineVisualElement = null, this._grabbedManipulator = null, this._analysisHandles = new n(), this._updatingHandles = new p(), this._manipulatorHandles = new n(), this._targetTrackerManipulator = null;\n  }\n  initialize() {\n    this._intersector = new L({\n      view: this.view\n    }), this.addHandles(o(() => this.state, e => {\n      e === I.Created && this.finishToolCreation();\n    }, l)), this._observerManipulator = this._createObserverManipulator(), this._createLaserLine(), this.addHandles([this._updatingHandles.add(() => this.analysisViewData?.elevationAlignedObserver, e => this._onObserverLocationChange(e), u), this._updatingHandles.add(() => b(this.view.effectiveTheme), ({\n      glowColor: e,\n      innerColor: t,\n      globalAlpha: i\n    }) => this._updateLaserLineStyle(e, t, i), u), this._updatingHandles.add(() => this._laserLineRendererDependencies(), e => this._updateLaserLineRenderer(e)), this._connectComputations(), this._updatingHandles.addWhen(() => !this._shouldRenderTracker, () => this._clearCursorTracker(), u)]);\n  }\n  destroy() {\n    this._updatingHandles = s(this._updatingHandles), this._manipulatorHandles = s(this._manipulatorHandles), this._analysisHandles = s(this._analysisHandles), this._observerManipulator = null, this._clearCursorTracker(), this._removeLaserLine(), this._intersector = null, this._set(\"analysis\", null);\n  }\n  get state() {\n    return this.active ? this.hasGrabbedManipulators ? I.Created : I.Creating : null != this.analysis.observer?.position ? I.Created : I.Ready;\n  }\n  get cursor() {\n    return this.active && this._showTracker ? \"crosshair\" : null;\n  }\n  get updating() {\n    return null != this.analysisViewData && this.analysisViewData.updating || this._updatingHandles.updating;\n  }\n  get _showTracker() {\n    return this.active && \"mouse\" === this._latestPointerMovePointerType;\n  }\n  get _shouldRenderTracker() {\n    return this._showTracker && null != this.analysis.observer?.position && !this.hasGrabbedManipulators;\n  }\n  continue() {\n    this.view.activeTool = this;\n  }\n  stop() {\n    this.view.activeTool = null;\n  }\n  onEditableChange() {\n    this.analysisViewData.editable = this.internallyEditable;\n  }\n  onInputEvent(e) {\n    switch (e.type) {\n      case \"immediate-double-click\":\n        this._doubleClickHandler(e);\n        break;\n      case \"key-down\":\n        this._keyDownHandler(e);\n        break;\n      case \"pointer-move\":\n        this._pointerMoveHandler(e);\n    }\n  }\n  onInputEventAfter(e) {\n    if (\"immediate-click\" === e.type) this._clickHandler(e);\n  }\n  onShow() {}\n  onHide() {}\n  onDeactivate() {\n    this._clearCursorTracker();\n  }\n  _connectComputations() {\n    return this._updatingHandles.addOnCollectionChange(() => this.analysisViewData.computations, e => this._onComputationsCollectionChange(e), {\n      initial: !0,\n      final: !0\n    });\n  }\n  _onComputationsCollectionChange({\n    added: e,\n    removed: t\n  }) {\n    for (const i of t) this._disconnectComputation(i);\n    for (const i of e) this._connectComputation(i);\n  }\n  _connectComputation(e) {\n    if (this.destroyed) return void r.getLogger(this).warn(\"Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.\");\n    const t = this._analysisHandles;\n    if (t.has(e)) return;\n    const i = this._createTargetManipulator(e.target);\n    null == this._targetTrackerManipulator && i.metadata.target === this.analysisViewData.cursorTarget && (this._targetTrackerManipulator = i, this._targetTrackerManipulator.available = !1, this._targetTrackerManipulator.interactive = !1, this._updateLaserLineRenderer()), t.add([this._updatingHandles.add(() => j(e), () => D(i, e), u), this._updatingHandles.add(() => e.elevationAlignedTargetLocation, e => this._onTargetLocationChange(e, i), u)], e);\n  }\n  _disconnectComputation(e) {\n    if (this.destroyed) return void r.getLogger(this).warn(\"Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.\");\n    this._analysisHandles.remove(e);\n    const t = this._getTargetManipulator(e.target);\n    null != t && (this.manipulators.remove(t), this._manipulatorHandles.remove(t), null != this._targetTrackerManipulator && this._targetTrackerManipulator === t && (this._targetTrackerManipulator = null));\n  }\n  _clearCursorTracker() {\n    this.analysisViewData.cursorTarget = s(this.analysisViewData.cursorTarget);\n  }\n  _createTargetManipulator(e) {\n    const t = {\n        target: e,\n        type: \"target\"\n      },\n      i = new f(this.view, t);\n    return this._manipulatorHandles.add([this._createTargetManipulatorDragPipeline(i), i.events.on(\"grab-changed\", e => this._manipulatorGrabChanged(i, e)), i.events.on(\"immediate-click\", e => this._manipulatorClick(i, e))], i), this.manipulators.add(i), null != e.position ? i.elevationAlignedLocation = e.position : i.available = !1, i;\n  }\n  _getTargetManipulator(e) {\n    let t = null;\n    return this.manipulators.forEach(i => {\n      const a = i.manipulator;\n      null == t && \"target\" === a.metadata.type && a.metadata.target === e && (t = a);\n    }), t;\n  }\n  _createObserverManipulator() {\n    const e = new T(this.view, {\n      type: \"observer\",\n      intersection: null\n    });\n    return this._manipulatorHandles.add([this._createObserverManipulatorDragPipeline(e), e.events.on(\"grab-changed\", t => this._manipulatorGrabChanged(e, t)), e.events.on(\"immediate-click\", t => this._manipulatorClick(e, t))], e), this.manipulators.add(e), e;\n  }\n  _screenToIntersection() {\n    return e => {\n      const t = this._intersector.getScreenPointIntersection(e.screenEnd);\n      return null == t ? null : {\n        ...e,\n        intersection: t\n      };\n    };\n  }\n  _createTargetManipulatorDragPipeline(e) {\n    return M(e, (t, i, a) => {\n      i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next(() => this._updateLaserLineRenderer()), a.next(R(e.metadata.target)).next(() => this._updateLaserLineRenderer());\n    });\n  }\n  _createObserverManipulatorDragPipeline(e) {\n    return M(e, (e, t, i) => {\n      t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next(() => this._updateLaserLineRenderer()), i.next(this._cancelObserverDragStep()).next(() => this._updateLaserLineRenderer());\n    });\n  }\n  _updateObserverDragStep() {\n    return e => (null != e.intersection.mapPoint ? (null == this.analysis.observer && (this.analysis.observer = new i()), this._updateFromIntersection(this.analysis.observer, e.intersection)) : this.analysis.observer = null, e);\n  }\n  _cancelObserverDragStep() {\n    const e = null != this.analysis.observer?.position ? this.analysis.observer.clone() : null;\n    return t => (this.analysis.observer = e, t);\n  }\n  _updateTargetDragStep(e) {\n    return t => {\n      this._updateFromIntersection(e.metadata.target, t.intersection);\n      const i = t.intersection.mapPoint;\n      return null != i && (e.elevationAlignedLocation = i), t;\n    };\n  }\n  _manipulatorGrabChanged(e, t) {\n    switch (t.action) {\n      case \"start\":\n        this._grabbedManipulator = e;\n        break;\n      case \"end\":\n        this._grabbedManipulator === e && (this._grabbedManipulator = null);\n    }\n  }\n  _laserLineRendererDependencies() {\n    return {\n      laserlineVisualElement: this._laserlineVisualElement,\n      grabbedManipulator: this._grabbedManipulator,\n      shouldRenderTracker: this._shouldRenderTracker,\n      observerPosition: null != this.analysis.observer ? this.analysis.observer.position : null,\n      visible: this.visible\n    };\n  }\n  _updateLaserLineRenderer(e = this._laserLineRendererDependencies()) {\n    const {\n      laserlineVisualElement: t,\n      grabbedManipulator: i,\n      shouldRenderTracker: a,\n      observerPosition: n,\n      visible: r\n    } = e;\n    if (null == t) return;\n    const s = null != i ? i : a && null != n ? this._targetTrackerManipulator : null;\n    null != s && r ? (t.visible = !0, t.heightManifoldTarget = s.renderLocation, s !== this._observerManipulator ? t.lineVerticalPlaneSegment = g(this._observerManipulator.renderLocation, s.renderLocation, E) : t.lineVerticalPlaneSegment = null) : (t.visible = !1, t.heightManifoldTarget = null, t.lineVerticalPlaneSegment = null);\n  }\n  _createLaserLine() {\n    this._removeLaserLine();\n    const {\n      glowWidth: e,\n      innerWidth: t\n    } = y;\n    this._laserlineVisualElement = new w({\n      view: this.view,\n      attached: !0,\n      visible: this.visible,\n      style: {\n        glowWidth: e,\n        innerWidth: t\n      },\n      isDecoration: !0\n    });\n  }\n  _removeLaserLine() {\n    null != this._laserlineVisualElement && (this._laserlineVisualElement.destroy(), this._laserlineVisualElement = null);\n  }\n  _updateLaserLineStyle(e, i, a) {\n    const n = this._laserlineVisualElement;\n    if (null == n) return;\n    const r = n.style;\n    n.style = {\n      ...r,\n      glowColor: t.toUnitRGB(e),\n      innerColor: t.toUnitRGB(i),\n      globalAlpha: a\n    };\n  }\n  _onObserverLocationChange(e) {\n    null != e ? (this._observerManipulator.metadata.intersection = null, this._observerManipulator.available = !0, this._observerManipulator.elevationAlignedLocation = e) : this._observerManipulator.available = !1;\n  }\n  _onTargetLocationChange(e, t) {\n    null != e ? (t.elevationAlignedLocation = e, t !== this._targetTrackerManipulator && (t.available = !0)) : t.available = !1;\n  }\n  _addPointFromClickEvent(e) {\n    const t = this._intersector.getScreenPointIntersection(e);\n    if (null != t?.mapPoint) if (null != this.analysis.observer?.position) {\n      this._clearCursorTracker();\n      const e = new a();\n      this._updateFromIntersection(e, t), this.analysis.targets.add(e);\n    } else {\n      const e = new i();\n      this._updateFromIntersection(e, t), this.analysis.observer = e;\n    }\n  }\n  _clickHandler(e) {\n    this.active && e.button !== P.Right && (this._addPointFromClickEvent(V(e)), e.stopPropagation());\n  }\n  _doubleClickHandler(e) {\n    this.active && e.button !== P.Right && (this.stop(), e.stopPropagation());\n  }\n  _keyDownHandler(e) {\n    this.active && \"Escape\" === e.key && (this.stop(), e.stopPropagation());\n  }\n  _pointerMoveHandler(e) {\n    if (this.hasGrabbedManipulators) return;\n    if (this._latestPointerMovePointerType = e.pointerType, this._updateLaserLineRenderer(), !this._showTracker || null == this.analysis.observer?.position) return;\n    const t = V(e),\n      i = this._intersector.getScreenPointIntersection(t);\n    null != i?.mapPoint && (null == this.analysisViewData.cursorTarget && (this.analysisViewData.cursorTarget = new a()), this._updateFromIntersection(this.analysisViewData.cursorTarget, i), this._updateLaserLineRenderer());\n  }\n  _updateFromIntersection(e, t) {\n    if (null == t.mapPoint) return e.position = null, e.elevationInfo = null, void (e.feature = null);\n    switch (t.type) {\n      case C.OBJECT:\n        if (null != t.graphic) {\n          const i = t.graphic,\n            a = m(i);\n          \"on-the-ground\" === a.mode && (a.mode = \"relative-to-ground\", a.offset = 0), e.elevationInfo = new v(a), e.feature = i;\n        } else e.elevationInfo = null, e.feature = null;\n        break;\n      case C.TERRAIN:\n        e.elevationInfo = new v({\n          mode: \"on-the-ground\"\n        }), e.feature = null;\n        break;\n      default:\n        e.elevationInfo = null, e.feature = null;\n    }\n    const i = t.mapPoint.clone();\n    i.z = _(this.view, i, {\n      mode: \"absolute-height\",\n      offset: 0\n    }, e.elevationInfo), e.position = i;\n  }\n  _manipulatorClick(e, t) {\n    if (\"observer\" === e.metadata.type || e.grabbing || e.dragging || t.button !== P.Right || this.analysis.targets.length <= 1) return;\n    const {\n      target: i\n    } = e.metadata;\n    this.analysis.targets.remove(i), t.stopPropagation();\n  }\n  get testInfo() {}\n};\nfunction R(e) {\n  const t = e.position?.clone();\n  return i => (e.position = t, i);\n}\nfunction D(e, t) {\n  const {\n    isValid: i,\n    isTargetVisible: a\n  } = t.computationResult;\n  e.state = i ? a ? H.Custom1 : H.Custom2 : H.Custom3;\n}\nfunction j(e) {\n  const {\n    isValid: t,\n    isTargetVisible: i\n  } = e.computationResult;\n  return {\n    isValid: t,\n    isTargetVisible: i\n  };\n}\ne([c({\n  constructOnly: !0\n})], O.prototype, \"view\", void 0), e([c({\n  constructOnly: !0\n})], O.prototype, \"analysis\", void 0), e([c({\n  readOnly: !0\n})], O.prototype, \"state\", null), e([c({\n  readOnly: !0\n})], O.prototype, \"cursor\", null), e([c()], O.prototype, \"removeIncompleteOnCancel\", void 0), e([c({\n  readOnly: !0\n})], O.prototype, \"updating\", null), e([c({\n  constructOnly: !0\n})], O.prototype, \"analysisViewData\", void 0), e([c({\n  readOnly: !0\n})], O.prototype, \"_showTracker\", null), e([c()], O.prototype, \"_latestPointerMovePointerType\", void 0), e([c()], O.prototype, \"_shouldRenderTracker\", null), e([c()], O.prototype, \"_laserlineVisualElement\", void 0), e([c()], O.prototype, \"_grabbedManipulator\", void 0), O = e([h(\"esri.views.3d.analysis.LineOfSight.LineOfSightTool\")], O);\nconst E = d();\nexport { O as LineOfSightTool };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e {\n  constructor(e, i, t, s) {\n    this.visibleLineVisualElement = e, this.occludedLineVisualElement = i, this.undefinedLineVisualElement = t, this.targetVisualElement = s;\n  }\n  destroy() {\n    this.visibleLineVisualElement.destroy(), this.occludedLineVisualElement.destroy(), this.undefinedLineVisualElement.destroy(), this.targetVisualElement.destroy();\n  }\n}\nexport { e as LineOfSightVisualElement };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../Color.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport o from \"../../../../core/Handles.js\";\nimport { makeHandle as n } from \"../../../../core/handleUtils.js\";\nimport \"../../../../core/has.js\";\nimport { destroyMaybe as s } from \"../../../../core/maybe.js\";\nimport { initial as r } from \"../../../../core/reactiveUtils.js\";\nimport { property as a } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as l } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as c } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { f as d } from \"../../../../chunks/vec32.js\";\nimport { fromArray as u, create as m } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { UpdatingHandles as p } from \"../../../../core/support/UpdatingHandles.js\";\nimport { lineOfSightConfiguration as h } from \"./LineOfSightConfiguration.js\";\nimport { LineOfSightVisualElement as v } from \"./LineOfSightVisualElement.js\";\nimport { LineVisualElement as g } from \"../../interactive/visualElements/LineVisualElement.js\";\nimport { PointVisualElement as f } from \"../../interactive/visualElements/PointVisualElement.js\";\nimport \"../../webgl-engine/lib/Material.js\";\nlet b = class extends e {\n  constructor(i) {\n    super(i), this._lineOfSightVisualElements = new Array(), this._computationHandles = new o(), this._updatingHandles = new p();\n  }\n  initialize() {\n    this.addHandles(this._connectComputations()), this._createObserverVisualization();\n  }\n  destroy() {\n    this._updatingHandles = s(this._updatingHandles), this._computationHandles = s(this._computationHandles), this._observerVisualElement = s(this._observerVisualElement);\n  }\n  get visible() {\n    return this.analysisViewData.visible;\n  }\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get interactiveAndEditable() {\n    return this.analysisViewData.interactive && this.analysisViewData.editable;\n  }\n  get test() {}\n  _createLineOfSightVisualization() {\n    const i = h,\n      e = this.view,\n      o = this.isDecoration,\n      n = {\n        view: e,\n        attached: !0,\n        width: i.outerWidth,\n        innerWidth: i.innerWidth,\n        isDecoration: o\n      },\n      s = t.toUnitRGBA(i.visibleOuterColor),\n      r = t.toUnitRGBA(i.visibleInnerColor),\n      a = t.toUnitRGBA(i.occludedOuterColor),\n      l = t.toUnitRGBA(i.occludedInnerColor),\n      c = t.toUnitRGBA(i.undefinedOuterColor),\n      d = t.toUnitRGBA(i.undefinedInnerColor),\n      u = new g({\n        ...n,\n        color: s,\n        innerColor: r\n      }),\n      m = new g({\n        ...n,\n        color: a,\n        innerColor: l\n      }),\n      p = new g({\n        ...n,\n        color: c,\n        innerColor: d\n      }),\n      b = new f({\n        view: e,\n        attached: !0,\n        ..._,\n        size: 8,\n        isDecoration: o\n      }),\n      y = new v(u, m, p, b);\n    return this._lineOfSightVisualElements.push(y), y;\n  }\n  _destroyLineOfSightVisualization(i) {\n    i.destroy(), this._lineOfSightVisualElements.splice(this._lineOfSightVisualElements.indexOf(i), 1);\n  }\n  _updateLineOfSightVisualization(i, e, o) {\n    const n = h,\n      {\n        computationResult: s,\n        inputPoints: r\n      } = i,\n      {\n        start: a,\n        end: l,\n        intersection: c,\n        isValid: m,\n        isTargetVisible: p\n      } = s,\n      {\n        observer: v\n      } = r,\n      g = V;\n    g[12] = v[0], g[13] = v[1], g[14] = v[2];\n    const f = d(y, a, v),\n      b = d(C, l, v),\n      _ = d(O, c, v),\n      {\n        visibleLineVisualElement: A,\n        occludedLineVisualElement: E,\n        undefinedLineVisualElement: w,\n        targetVisualElement: j\n      } = e,\n      L = null == this.analysisViewData.elevationAlignedObserver || null == i.elevationAlignedTargetLocation,\n      S = this.visible && !L;\n    A.visible = S, E.visible = S, w.visible = S, j.visible = S, j.attached = !o.interactiveAndEditable, S && (A.geometry = null, E.geometry = null, w.geometry = null, j.geometry = i.elevationAlignedTargetLocation, m ? p ? (A.geometry = [[u(f), u(b)]], A.transform = g, A.color = t.toUnitRGBA(n.visibleOuterColor), j.color = t.toUnitRGBA(n.visibleInnerColor)) : (A.geometry = [[u(f), u(_)]], A.transform = g, A.color = t.toUnitRGBA(n.occludedOuterColor), E.geometry = [[u(_), u(b)]], E.transform = g, j.color = t.toUnitRGBA(n.occludedInnerColor)) : (w.geometry = [[u(f), u(b)]], w.transform = g, j.color = t.toUnitRGBA(n.undefinedInnerColor)));\n  }\n  _getLineOfSightVisualizationDependencies(i) {\n    const {\n        computationResult: t\n      } = i,\n      {\n        occludedOuterColor: e,\n        visibleOuterColor: o\n      } = h;\n    return {\n      computationResult: t,\n      occludedOuterColor: e,\n      visibleOuterColor: o,\n      visible: this.visible,\n      interactiveAndEditable: this.interactiveAndEditable\n    };\n  }\n  _connectComputation(i) {\n    const t = this._computationHandles;\n    if (t.has(i)) return;\n    const e = this._createLineOfSightVisualization();\n    t.add([this._updatingHandles.add(() => this._getLineOfSightVisualizationDependencies(i), t => this._updateLineOfSightVisualization(i, e, t), {\n      initial: !0,\n      equals: () => !1\n    }), n(() => this._destroyLineOfSightVisualization(e))], i);\n  }\n  _disconnectComputation(i) {\n    this._computationHandles.remove(i);\n  }\n  _connectComputations() {\n    return this._updatingHandles.addOnCollectionChange(() => this.analysisViewData.computations, i => this._onComputationsCollectionChange(i), {\n      initial: !0,\n      final: !0\n    });\n  }\n  _onComputationsCollectionChange({\n    added: i,\n    removed: t\n  }) {\n    for (const e of t) this._disconnectComputation(e);\n    for (const e of i) this._connectComputation(e);\n  }\n  _createObserverVisualization() {\n    const i = t.toUnitRGBA(h.visibleInnerColor),\n      e = new f({\n        view: this.view,\n        color: i,\n        ..._,\n        isDecoration: this.isDecoration\n      });\n    this._observerVisualElement = e, this.addHandles(this._updatingHandles.add(() => ({\n      observer: this.analysisViewData.elevationAlignedObserver,\n      interactiveAndEditable: this.interactiveAndEditable,\n      visible: this.visible\n    }), ({\n      observer: i,\n      interactiveAndEditable: t,\n      visible: o\n    }) => {\n      null != i && !t && o ? (e.geometry = i, this._observerVisualElement.attached = !0) : e.attached = !1;\n    }, r));\n  }\n};\ni([a({\n  constructOnly: !0\n})], b.prototype, \"analysis\", void 0), i([a({\n  constructOnly: !0\n})], b.prototype, \"analysisViewData\", void 0), i([a({\n  constructOnly: !0\n})], b.prototype, \"view\", void 0), i([a({\n  readOnly: !0\n})], b.prototype, \"visible\", null), i([a({\n  constructOnly: !0\n})], b.prototype, \"isDecoration\", void 0), i([a()], b.prototype, \"updating\", null), i([a()], b.prototype, \"interactiveAndEditable\", null), i([a()], b.prototype, \"test\", null), b = i([l(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")], b);\nconst _ = {\n    size: 6,\n    pixelSnappingEnabled: !1,\n    primitive: \"circle\",\n    elevationInfo: {\n      mode: \"absolute-height\",\n      offset: 0\n    },\n    outlineSize: 0\n  },\n  y = m(),\n  C = m(),\n  O = m(),\n  V = c();\nexport { b as LineOfSightVisualization };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport i from \"../../../core/Accessor.js\";\nimport s from \"../../../core/Collection.js\";\nimport o from \"../../../core/Evented.js\";\nimport \"../../../core/has.js\";\nimport { destroyMaybe as r } from \"../../../core/maybe.js\";\nimport { property as e } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as n } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { AnalysisView3D as l } from \"./AnalysisView3D.js\";\nimport { LineOfSightController as p } from \"./LineOfSight/LineOfSightController.js\";\nimport { LineOfSightTool as y } from \"./LineOfSight/LineOfSightTool.js\";\nimport { LineOfSightVisualization as u } from \"./LineOfSight/LineOfSightVisualization.js\";\nimport { connectAnalysisViewToTool as h, removeAnalysisViewTool as c } from \"../../analysis/analysisViewUtils.js\";\nlet m = class extends l(o.EventedMixin(i)) {\n  constructor(t) {\n    super(t), this.type = \"line-of-sight-view-3d\", this.analysis = null, this.tool = null, this.computations = new s(), this.elevationAlignedObserver = null, this.observerEngineLocation = n(), this.cursorTarget = null, this.editable = !0;\n  }\n  initialize() {\n    const t = this.view,\n      i = this.analysis;\n    this._analysisController = new p({\n      analysis: i,\n      analysisViewData: this,\n      view: t\n    }), this._analysisVisualization = new u({\n      analysis: i,\n      analysisViewData: this,\n      view: t,\n      isDecoration: !this.parent\n    }), this.addHandles([this._analysisController.on(\"result-changed\", t => {\n      t.target !== this.cursorTarget && this.emit(\"result-changed\", t);\n    }), h(this, y)]);\n  }\n  destroy() {\n    c(this), this._analysisController = r(this._analysisController), this._analysisVisualization = r(this._analysisVisualization);\n  }\n  get results() {\n    return this.computations.map(t => t.result);\n  }\n  get priority() {\n    return this._analysisController.priority;\n  }\n  set priority(t) {\n    this._analysisController.priority = t;\n  }\n  get updating() {\n    return null != this._analysisController && this._analysisController.updating || null != this._analysisVisualization && this._analysisVisualization.updating;\n  }\n  getResultForTarget(t) {\n    return this.computations.find(i => i.target === t)?.result;\n  }\n  get testInfo() {}\n};\nt([e({\n  readOnly: !0\n})], m.prototype, \"type\", void 0), t([e({\n  constructOnly: !0,\n  nonNullable: !0\n})], m.prototype, \"analysis\", void 0), t([e()], m.prototype, \"tool\", void 0), t([e({\n  readOnly: !0\n})], m.prototype, \"results\", null), t([e()], m.prototype, \"priority\", null), t([e()], m.prototype, \"computations\", void 0), t([e()], m.prototype, \"elevationAlignedObserver\", void 0), t([e()], m.prototype, \"observerEngineLocation\", void 0), t([e()], m.prototype, \"cursorTarget\", void 0), t([e()], m.prototype, \"updating\", null), t([e()], m.prototype, \"editable\", void 0), t([e()], m.prototype, \"_analysisController\", void 0), t([e()], m.prototype, \"_analysisVisualization\", void 0), m = t([a(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")], m);\nconst d = m;\nexport { d as default };"],
  "mappings": "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",
  "names": ["s", "o", "e", "a", "i", "t", "n", "e", "a", "m", "y", "r", "p", "e", "a", "e", "r", "d", "t", "i", "g", "T", "o", "n", "a", "y", "p", "c", "m", "s", "S", "u", "f", "U", "o", "e", "h", "F", "t", "n", "i", "r", "s", "a", "l", "u", "c", "d", "p", "g", "v", "m", "K", "f", "_", "b", "V", "e", "r", "s", "o", "t", "i", "c", "F", "h", "u", "d", "w", "f", "e", "i", "s", "l", "c", "r", "d", "t", "o", "n", "u", "I", "e", "O", "o", "h", "d", "s", "t", "i", "j", "D", "a", "f", "p", "u", "n", "r", "m", "e", "i", "t", "s", "b", "i", "h", "w", "e", "o", "n", "s", "u", "r", "a", "l", "c", "d", "f", "m", "p", "x", "_", "y", "v", "g", "V", "C", "O", "A", "E", "j", "L", "S", "t", "m", "o", "t", "n", "i", "U", "b", "a", "O", "v", "e", "d"]
}
