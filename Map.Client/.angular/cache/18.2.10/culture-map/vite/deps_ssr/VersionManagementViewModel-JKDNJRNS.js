import { createRequire } from 'module';const require = createRequire(import.meta.url);
import {
  a as a6
} from "./chunk-2L7HC722.js";
import {
  t as t3
} from "./chunk-QUICBKHP.js";
import {
  I,
  b,
  f as f3,
  j,
  m as m2,
  y as y2
} from "./chunk-OAMMMPR2.js";
import "./chunk-2H3S7IXI.js";
import "./chunk-2B3WLK32.js";
import {
  D,
  M,
  V as V2
} from "./chunk-NTSKCH4Y.js";
import "./chunk-YT63GLYW.js";
import {
  h
} from "./chunk-HFXXFWYN.js";
import "./chunk-T5C2TZNO.js";
import "./chunk-AOGKNBDG.js";
import "./chunk-F4FQ67JP.js";
import {
  f as f2,
  i,
  s as s5
} from "./chunk-FDI2X6GO.js";
import {
  a as a5,
  n as n3,
  r as r3
} from "./chunk-JBJJW35I.js";
import {
  i as i3
} from "./chunk-IKBXTTSU.js";
import {
  Q
} from "./chunk-VMZV7772.js";
import "./chunk-3FR2T2I2.js";
import "./chunk-LOZRWPGI.js";
import "./chunk-GZ64OOAB.js";
import "./chunk-WR2NVDOI.js";
import "./chunk-EPLJRYUV.js";
import "./chunk-VYRCS5VR.js";
import "./chunk-UUQ5O7GK.js";
import {
  a as a4,
  c,
  c2,
  i as i2,
  l,
  n as n2,
  s as s6,
  t as t2,
  u as u2
} from "./chunk-D3QK4EV3.js";
import "./chunk-RR7OQLEK.js";
import "./chunk-IEB4ZCRH.js";
import "./chunk-WVSTX2NW.js";
import "./chunk-CSK4VZQ7.js";
import "./chunk-GSG4T2KM.js";
import "./chunk-YGAXDKHF.js";
import "./chunk-4TOSJLKR.js";
import "./chunk-ORYC4PVJ.js";
import "./chunk-DXIKKLD7.js";
import "./chunk-VQNXE43R.js";
import "./chunk-VZ37C3ID.js";
import "./chunk-Q5TIVVER.js";
import "./chunk-ZPMUEGLK.js";
import "./chunk-GNFDYYU3.js";
import "./chunk-X36BR2QB.js";
import "./chunk-RGG3YJQA.js";
import "./chunk-GBJYL7OX.js";
import "./chunk-GHKVDSKU.js";
import "./chunk-NVOJILW6.js";
import "./chunk-KYPTWEOO.js";
import "./chunk-WVFB3H4O.js";
import "./chunk-C7BQE556.js";
import "./chunk-ZREJ3Y2F.js";
import "./chunk-IR6CVPPC.js";
import "./chunk-BBUQOCRA.js";
import "./chunk-YBUJLIWZ.js";
import "./chunk-DL2B6IFJ.js";
import "./chunk-VOOO6FU5.js";
import "./chunk-IUPJR3FF.js";
import "./chunk-TGZW6QWO.js";
import "./chunk-OYIDHTXG.js";
import "./chunk-KUBMHTYA.js";
import "./chunk-VSQZQLTQ.js";
import "./chunk-K43CZ3M5.js";
import "./chunk-6EIBUVMG.js";
import "./chunk-NXXQ35YM.js";
import {
  p
} from "./chunk-3BXPVUY5.js";
import "./chunk-LM3JDV4W.js";
import "./chunk-34V2CLL5.js";
import {
  d as d2
} from "./chunk-CXNERL22.js";
import {
  x as x2
} from "./chunk-7V4JSBFA.js";
import "./chunk-DC5LRNPY.js";
import {
  s as s4
} from "./chunk-ASCK5HJ5.js";
import "./chunk-5X5U7R6O.js";
import "./chunk-XNLAOXPY.js";
import "./chunk-C2OXE4NQ.js";
import "./chunk-KOI252FF.js";
import "./chunk-I2TVVMQ6.js";
import "./chunk-5EGQYY2H.js";
import "./chunk-JKPUNUQA.js";
import "./chunk-SR7PRON4.js";
import "./chunk-HGHPYGKP.js";
import "./chunk-4DSGTDZJ.js";
import "./chunk-VYTPFEL2.js";
import "./chunk-RLGDH6IY.js";
import "./chunk-MRPCXIVS.js";
import "./chunk-YTKVV2Y3.js";
import "./chunk-GCVQXAS4.js";
import "./chunk-UFQD6AL4.js";
import "./chunk-EGBDRLCX.js";
import "./chunk-THZPD5CT.js";
import "./chunk-OBCA6CWH.js";
import "./chunk-2JI245BP.js";
import "./chunk-N34BRXVM.js";
import {
  S as S2
} from "./chunk-KETDH2J4.js";
import {
  C
} from "./chunk-7QV7DHWN.js";
import {
  m
} from "./chunk-4L4Y34YK.js";
import "./chunk-BXONKQKI.js";
import "./chunk-2HDBQXAR.js";
import "./chunk-RNF7VOCU.js";
import "./chunk-TIRJMGGG.js";
import {
  f
} from "./chunk-ZDRQSPB6.js";
import {
  o
} from "./chunk-DCXDXGAR.js";
import {
  r as r2
} from "./chunk-BCCDYCTQ.js";
import "./chunk-AYL3HQHD.js";
import "./chunk-66YQWHHE.js";
import "./chunk-QGBMZIP4.js";
import "./chunk-AOEBZVTA.js";
import "./chunk-2OZSYJDX.js";
import "./chunk-MZM4INJV.js";
import "./chunk-J4GMQHGL.js";
import "./chunk-MHPE4SZA.js";
import "./chunk-6SSA7P3A.js";
import "./chunk-FQBTLEUI.js";
import "./chunk-GS7Y3YOG.js";
import "./chunk-Y2HYKTTT.js";
import {
  U,
  qt,
  t3 as t,
  x
} from "./chunk-XLEC46FY.js";
import {
  u2 as u
} from "./chunk-4AZPIP7K.js";
import {
  d,
  v
} from "./chunk-LZSLQ24Q.js";
import {
  V
} from "./chunk-U3RHUXYK.js";
import "./chunk-7DBI6LQG.js";
import "./chunk-AUUN7RFQ.js";
import "./chunk-JAMSDYD6.js";
import "./chunk-PH6NPTP7.js";
import {
  e as e2
} from "./chunk-NUICEVIH.js";
import {
  S
} from "./chunk-NXK752PZ.js";
import {
  y
} from "./chunk-UVNLCXWD.js";
import "./chunk-PNUA7JOS.js";
import "./chunk-OR2FKGUM.js";
import {
  a3,
  r2 as r
} from "./chunk-UDMPWVPF.js";
import "./chunk-XJNKCEWL.js";
import {
  a as a2,
  s as s3
} from "./chunk-AIZ3T7E3.js";
import {
  e
} from "./chunk-6UEMNP3E.js";
import "./chunk-6WGE3IUL.js";
import "./chunk-MLYB2YW4.js";
import {
  a,
  n2 as n,
  s,
  s2
} from "./chunk-6JFGZTLU.js";
import {
  O
} from "./chunk-2ZJE6ZFX.js";
import {
  __async,
  __objRest,
  __spreadProps,
  __spreadValues
} from "./chunk-XBPEBUD5.js";

// ../../../node_modules/@arcgis/core/rest/featureService/FeatureService.js
function x3(e3, t9) {
  const s8 = t9.id;
  return {
    id: s8,
    name: t9.name,
    url: `${e3}/${s8}`,
    type: t9.type || "Table"
  };
}
function Q2(e3) {
  return {
    data: J(e3),
    sync: $(e3),
    operations: q(e3.capabilities, e3),
    query: W(e3),
    editing: H(e3)
  };
}
function J(e3) {
  return {
    isDataVersioned: n3(e3, "hasVersionedData", false)
  };
}
function q(e3, t9) {
  const s8 = e3 ? e3.toLowerCase().split(",").map((e4) => e4.trim()) : [], r4 = s8.includes("query"), i4 = s8.includes("editing") && !t9.datesInUnknownTimezone;
  let a7 = i4 && s8.includes("create"), o2 = i4 && s8.includes("delete"), n5 = i4 && s8.includes("update");
  return i4 && !(a7 || o2 || n5) && (a7 = o2 = n5 = true), {
    supportsAdd: a7,
    supportsDelete: o2,
    supportsEditing: i4,
    supportsChangeTracking: s8.includes("changetracking"),
    supportsQuery: r4,
    supportsQueryDataElements: n3(t9, "supportsQueryDataElements", false),
    supportsQueryDomains: n3(t9, "supportsQueryDomains", false),
    supportsQueryContingentValues: n3(t9, "supportsQueryContingentValues", false),
    supportsSync: s8.includes("sync"),
    supportsUpdate: n5
  };
}
function W(e3) {
  return {
    maxRecordCountFactor: r3(e3, "maxRecordCountFactor", void 0),
    maxRecordCount: r3(e3, "maxRecordCount", void 0)
  };
}
function H(e3) {
  const t9 = e3?.advancedEditingCapabilities;
  return {
    supportsGlobalId: n3(e3, "supportsApplyEditsWithGlobalIds", false),
    supportsReturnServiceEditsInSourceSpatialReference: n3(t9, "supportsReturnServiceEditsInSourceSR", false),
    supportsSplit: n3(t9, "supportsSplit", false),
    supportsAsyncApplyEdits: n3(t9, "supportsAsyncApplyEdits", false)
  };
}
function $(e3) {
  const t9 = e3?.syncCapabilities, s8 = t9?.supportedSyncDataOptions;
  return {
    supportsAsync: n3(t9, "supportsAsync", false),
    supportedSyncDataOptions: {
      annotations: !(1 & ~s8),
      dimensions: !(2 & ~s8),
      contingentValues: !(4 & ~s8),
      attributeRules: !(8 & ~s8),
      utilityNetworkSystem: !(16 & ~s8),
      annotationFullModel: !(32 & ~s8),
      include3DObjects: !(64 & ~s8),
      utilityNetworkMissingLayers: !(128 & ~s8),
      preserveTrueCurves: !(256 & ~s8)
    }
  };
}
var G = class extends u(s4(m)) {
  constructor(e3) {
    super(e3), this.url = null, this.sourceJSON = null, this.userHasFullEditingPrivileges = false, this.userHasUpdateItemPrivileges = false, this.userTypeExtensions = [], this.layerInfos = null, this.tableInfos = null, this.capabilities = null;
  }
  read(e3, t9) {
    this.sourceJSON = e3, super.read(e3, t9);
  }
  get utilityNetworkUrl() {
    if (this.sourceJSON) {
      for (const e3 of this.sourceJSON.layers) if ("Utility Network Layer" === e3.type) return `${this.url}/${e3.id}`;
    }
    return null;
  }
  get versionManagementServiceUrl() {
    return this.sourceJSON?.hasBranchVersionedData ? this.url.replace(/\/FeatureServer/i, "/VersionManagementServer") : null;
  }
  readLayerInfos(e3, t9) {
    return (t9.layers || []).map((e4) => {
      const {
        type: t10,
        geometryType: s8
      } = e4;
      return __spreadProps(__spreadValues({}, x3(this.url, e4)), {
        type: t10 || "Feature Layer",
        geometryType: s8
      });
    });
  }
  readTableInfos(e3, t9) {
    return (t9.tables || []).map((e4) => x3(this.url, e4));
  }
  readCapabilities(e3, t9) {
    return Q2(t9);
  }
  get effectiveCapabilities() {
    const e3 = this.capabilities;
    if (!e3) return null;
    const t9 = a(e3), {
      operations: s8
    } = t9;
    return this.userHasUpdateItemPrivileges ? (s8.supportsAdd = s8.supportsDelete = s8.supportsEditing = s8.supportsQuery = s8.supportsUpdate = true, t9) : (this.userHasFullEditingPrivileges && s8.supportsEditing && (s8.supportsAdd = s8.supportsDelete = s8.supportsUpdate = true), t9);
  }
  load(e3) {
    return this.addResolvingPromise(this._fetchService(this.url, e3).then(() => this._setUserPrivileges(e3))), Promise.resolve(this);
  }
  fetchAllLayersAndTables(e3) {
    return __async(this, null, function* () {
      return yield this.load(e3), this._fetchLayersAndTablesPromise ||= this._fetchLayersAndTables(this.url), s3(e3), this._fetchLayersAndTablesPromise;
    });
  }
  applyEdits(e3, t9) {
    return __async(this, null, function* () {
      let s8 = null;
      try {
        const {
          results: r4,
          edits: i4,
          editedFeatures: a7
        } = yield this._internalApplyEdits(e3, t9), o2 = (e4) => e4.filter((e5) => !e5.error).map(a);
        let n5 = 0;
        return r4.map((e4) => {
          s8 = c2(this.url, e4.id, t9?.gdbVersion, true);
          const r5 = {
            edits: i4[n5],
            addedFeatures: o2(e4.addFeatureResults),
            updatedFeatures: o2(e4.updateFeatureResults),
            deletedFeatures: o2(e4.deleteFeatureResults),
            addedAttachments: o2(e4.addAttachmentResults),
            updatedAttachments: o2(e4.updateAttachmentResults),
            deletedAttachments: o2(e4.deleteAttachmentResults),
            exceededTransferLimit: false,
            historicMoment: e4.editMoment ? new Date(e4.editMoment) : null
          };
          n5 += 1, a7.length > 0 && (r5.editedFeatures = a7), s8.resolve(r5), s8 = null;
        }), r4;
      } catch (r4) {
        throw s8 && s8.reject(r4), r4;
      }
    });
  }
  _setUserPrivileges(e3) {
    return __async(this, null, function* () {
      if (s.userPrivilegesApplied) try {
        const {
          features: {
            fullEdit: t9
          },
          content: {
            updateItem: s8
          }
        } = yield this._fetchUserPrivileges(this.sourceJSON.serviceItemId, e3);
        this._set("userHasFullEditingPrivileges", t9), this._set("userHasUpdateItemPrivileges", s8);
      } catch (s8) {
        a2(s8);
      }
    });
  }
  _fetchUserPrivileges(e3, t9) {
    return __async(this, null, function* () {
      const r4 = true, i4 = false, a7 = false;
      if (!e3) return {
        features: {
          edit: r4,
          fullEdit: i4
        },
        content: {
          updateItem: a7
        }
      };
      let o2, n5, l3;
      try {
        o2 = yield x2(this.url, t9);
      } catch (u4) {
        a2(u4);
      }
      try {
        const e4 = null != t9 ? t9.signal : null;
        n5 = yield t?.getCredential(`${o2}/sharing`, {
          prompt: false,
          signal: e4
        });
      } catch (u4) {
        a2(u4);
      }
      if (!n5) return {
        features: {
          edit: r4,
          fullEdit: i4
        },
        content: {
          updateItem: a7
        }
      };
      try {
        if (l3 = new S2({
          id: e3,
          portal: {
            url: o2
          }
        }), yield l3.load(t9), l3.portal.user) return p(l3);
      } catch (u4) {
        a2(u4);
      }
      return {
        features: {
          edit: r4,
          fullEdit: i4
        },
        content: {
          updateItem: a7
        }
      };
    });
  }
  _internalApplyEdits(e3, t9) {
    return __async(this, null, function* () {
      yield Q(this.url);
      const s8 = t9?.globalIdUsed ?? false, a7 = f.fromJSON(this.sourceJSON.spatialReference), {
        edits: o2,
        options: n5
      } = yield this._processApplyEditsParams(e3, t9), l3 = yield Promise.all(o2.map((e4) => __async(this, null, function* () {
        const t10 = e4.addFeatures?.map((e5) => m2({
          spatialReference: a7
        }, e5, null)) ?? [], r4 = (yield Promise.all(t10)).filter(O), o3 = r4.length > 0 ? r4 : null, n6 = e4.updateFeatures?.map((e5) => m2({
          spatialReference: a7
        }, e5, null)) ?? [], l4 = (yield Promise.all(n6)).filter(O), u5 = l4.length > 0 ? l4 : null, p4 = b(e4.identifierFields, e4.deleteFeatures, s8), d4 = p4.length > 0 ? p4 : null;
        i3(o3, u5, a7);
        const c6 = yield f3(e4.identifierFields, e4);
        let m4 = null;
        if (c6) {
          m4 = {
            adds: c6.adds.length > 0 ? c6.adds : void 0,
            updates: c6.updates.length > 0 ? c6.updates : void 0,
            deletes: c6.deletes.length > 0 ? c6.deletes : void 0
          };
        }
        return {
          id: e4.id,
          adds: o3,
          updates: u5,
          deletes: d4,
          attachments: m4
        };
      }))), u4 = {
        gdbVersion: n5?.gdbVersion,
        rollbackOnFailure: true,
        useGlobalIds: s8,
        returnEditMoment: true,
        honorSequenceOfEdits: n5?.honorSequenceOfEdits,
        usePreviousEditMoment: n5?.usePreviousEditMoment,
        returnServiceEditsInSourceSR: false,
        returnServiceEditsOption: "originalAndCurrentFeatures",
        async: false
      };
      yield i2(this.url, t9?.gdbVersion, true);
      const p3 = c(this.url, t9?.gdbVersion || null);
      u4.edits = JSON.stringify(l3);
      const d3 = f2(this.url), c5 = i(d3.query, {
        query: s5(__spreadProps(__spreadValues({}, u4), {
          f: "json"
        })),
        method: "post"
      });
      let m3;
      p3 && (c5.authMode = "immediate", c5.query.sessionId = t2);
      try {
        m3 = yield U(this.url + "/applyEdits", c5);
      } catch (y3) {
        if (!j(y3)) throw y3;
        c5.authMode = "immediate", m3 = yield U(this.url + "/applyEdits", c5);
      }
      return __spreadProps(__spreadValues({}, z(m3)), {
        edits: o2
      });
    });
  }
  _processApplyEditsParams(e3, t9) {
    return __async(this, null, function* () {
      const s8 = __spreadValues({}, t9);
      return {
        edits: yield Promise.all(e3.map((e4) => __async(this, null, function* () {
          const s9 = this.effectiveCapabilities, r4 = e4 && (e4.addFeatures || e4.updateFeatures || e4.deleteFeatures), i4 = e4 && (e4.addAttachments || e4.updateAttachments || e4.deleteAttachments);
          if (M(e4, s9, t9, !!r4, !!i4, "feature-service"), !s9.data.isDataVersioned && t9?.gdbVersion) throw new s2("feature-service:invalid-parameter", "'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");
          const o2 = V2(e4, s9, "feature-service");
          return __spreadProps(__spreadValues({}, yield D(o2)), {
            id: e4.id,
            identifierFields: e4.identifierFields
          });
        }))),
        options: s8
      };
    });
  }
  _fetchService(e3, t9) {
    return __async(this, null, function* () {
      if (this.sourceJSON) return void this.read(this.sourceJSON, {
        url: f2(e3)
      });
      const s8 = yield U(e3, __spreadValues({
        responseType: "json",
        query: {
          f: "json"
        }
      }, t9));
      this.read(s8.data, {
        url: f2(e3)
      });
    });
  }
  _fetchLayersAndTables(e3) {
    return __async(this, null, function* () {
      const t9 = `${e3}/layers`, s8 = yield U(t9, {
        responseType: "json",
        query: {
          f: "json"
        }
      });
      return {
        layers: s8.data.layers.map((e4) => {
          const {
            type: t10,
            geometryType: s9
          } = e4, r4 = x3(this.url, e4), i4 = a5(e4, r4.url);
          return __spreadProps(__spreadValues({}, r4), {
            type: t10 || "Feature Layer",
            geometryType: s9,
            capabilities: i4
          });
        }),
        tables: s8.data.tables.map((e4) => {
          const t10 = x3(this.url, e4), s9 = a5(e4, t10.url);
          return __spreadProps(__spreadValues({}, t10), {
            capabilities: s9
          });
        })
      };
    });
  }
};
function z(e3) {
  const t9 = e3.data, s8 = [];
  return {
    results: t9.map((e4) => {
      const t10 = {
        addResults: e4.addResults ?? [],
        updateResults: e4.updateResults ?? [],
        deleteResults: e4.deleteResults ?? [],
        attachments: e4.attachments,
        editMoment: e4.editMoment
      }, r4 = y2(t10), i4 = e4.editedFeatures, a7 = i4?.spatialReference ? new f({
        wkid: i4?.spatialReference.wkid,
        wkt: i4?.spatialReference.wkt,
        latestWkid: i4?.spatialReference.latestWkid,
        latestVcsWkid: i4?.spatialReference.latestVcsWkid,
        vcsWkid: i4?.spatialReference.vcsWkid
      }) : null, o2 = i4 ? I(i4, a7) : null;
      return o2 && s8.push({
        layerId: e4.id,
        editedFeatures: o2
      }), __spreadValues({
        id: e4.id,
        editedFeatures: o2
      }, r4);
    }),
    editedFeatures: s8
  };
}
e2([y()], G.prototype, "url", void 0), e2([y()], G.prototype, "sourceJSON", void 0), e2([y()], G.prototype, "userHasFullEditingPrivileges", void 0), e2([y()], G.prototype, "userHasUpdateItemPrivileges", void 0), e2([y({
  readOnly: true
})], G.prototype, "utilityNetworkUrl", null), e2([y({
  readOnly: true
})], G.prototype, "versionManagementServiceUrl", null), e2([y()], G.prototype, "userTypeExtensions", void 0), e2([y({
  json: {
    read: {
      source: ["layers"]
    }
  }
})], G.prototype, "layerInfos", void 0), e2([o("layerInfos", ["layers"])], G.prototype, "readLayerInfos", null), e2([y({
  json: {
    read: {
      source: ["tables"]
    }
  }
})], G.prototype, "tableInfos", void 0), e2([o("tableInfos", ["tables"])], G.prototype, "readTableInfos", null), e2([y({
  readOnly: true,
  json: {
    read: {
      source: ["hasVersionedData", "capabilities", "supportsQueryDataElements", "supportsQueryDomains", "supportsQueryContingentValues", "maxRecordCountFactor", "maxRecordCount", "advancedEditingCapabilities", "supportsApplyEditsWithGlobalIds", "syncCapabilities", "datesInUnknownTimezone"]
    }
  }
})], G.prototype, "capabilities", void 0), e2([o("capabilities", ["hasVersionedData", "capabilities", "supportsQueryDataElements", "supportsQueryDomains", "supportsQueryContingentValues", "maxRecordCountFactor", "maxRecordCount", "advancedEditingCapabilities", "supportsApplyEditsWithGlobalIds", "syncCapabilities", "datesInUnknownTimezone"])], G.prototype, "readCapabilities", null), e2([y({
  readOnly: true
})], G.prototype, "effectiveCapabilities", null), G = e2([a3("esri.rest.featureService.FeatureService")], G);
var B = G;

// ../../../node_modules/@arcgis/core/rest/featureService/utils.js
var t4 = (s8, o2) => {
  for (const u4 of s8) if ("feature" === u4.type || "subtype-group" === u4.type) {
    if (!u4.url) continue;
    const t9 = d2(u4.url).url.path, s9 = o2.get(t9);
    if (s9) s9.layers.push(u4);
    else {
      const e3 = new B({
        url: t9
      }), s10 = [u4];
      o2.set(t9, {
        featureService: e3,
        layers: s10
      });
    }
  } else "group" === u4.type && t4(u4.layers, o2);
};
function s7(e3) {
  const r4 = /* @__PURE__ */ new Map();
  return t4(e3, r4), r4;
}

// ../../../node_modules/@arcgis/core/versionManagement/VersioningState.js
var c3 = class extends u(m) {
  constructor(e3) {
    super(e3), this.versionManagementService = null, this.featureServiceUrl = null, this.url = null, this.currentVersion = null, this.currentVersionInfo = null, this.versionInfos = [], this.versionableItems = new V(), this.usePersistentReadSessions = false, this.state = "lock-none";
  }
  initialize() {
    this.url = this.versionManagementService.url, this.featureServiceUrl = this.url.replace(/\/VersionManagementServer/i, "/FeatureServer"), this.addHandles([this.versionableItems.on("before-add", (e3) => {
      if (e3.item.featureServiceUrl.toLowerCase() !== this.featureServiceUrl.toLowerCase()) return e3.preventDefault(), void n.getLogger(this).error("#add()", "Cannot add versionAdapter, feature service urls do not match.");
    }), this.versionableItems.on("before-remove", (e3) => {
      if (0 === this.versionableItems.items.length && this.currentVersion && "name" in this.currentVersion && "none" !== this.versionManagementService.getLockType(this.currentVersion)) return e3.preventDefault(), void n.getLogger(this).error("#remove()", "Cannot remove last versionAdapter.");
    })]);
  }
  load(e3) {
    return this.addResolvingPromise(this._setUpState(e3)), Promise.resolve(this);
  }
  get defaultVersionIdentifier() {
    return this.versionManagementService.defaultVersionIdentifier;
  }
  get isDefault() {
    return !this.currentVersion || !!this.currentVersion && "name" in this.currentVersion && this.currentVersion.name === this.defaultVersionIdentifier.name;
  }
  getVersionInfos(e3 = false) {
    return __async(this, null, function* () {
      return e3 && (this.versionInfos = yield this.versionManagementService.getVersionInfos()), this.versionInfos;
    });
  }
  alterVersion(e3, t9) {
    return __async(this, null, function* () {
      if (this.currentVersion && "guid" in this.currentVersion && e3.guid === this.currentVersion.guid) return false;
      const r4 = yield this.versionManagementService.alterVersion(e3, t9);
      return r4 && (yield this.getVersionInfos(true)), r4;
    });
  }
  deleteVersion(e3) {
    return __async(this, null, function* () {
      if (this.currentVersion && "guid" in this.currentVersion && e3.guid === this.currentVersion.guid) return false;
      const t9 = yield this.versionManagementService.deleteVersion(e3);
      return t9 && (yield this.getVersionInfos(true)), t9;
    });
  }
  getVersionInfoExtended() {
    return __async(this, null, function* () {
      return this.currentVersion && "name" in this.currentVersion ? this.versionManagementService.getVersionInfoExtended(this.currentVersion) : this.versionManagementService.getVersionInfoExtended(this.defaultVersionIdentifier);
    });
  }
  startEditing() {
    return __async(this, null, function* () {
      if (this._isDefaultOrHistoricVersion()) return {
        success: false
      };
      if (!this.usePersistentReadSessions) {
        const e4 = yield this.versionManagementService.startReadingWithResult(this.currentVersion);
        if (!e4.success) return e4;
        this.state = "lock-read";
      }
      const e3 = yield this.versionManagementService.startEditingWithResult(this.currentVersion);
      return e3.success && (this.state = "lock-write"), e3;
    });
  }
  stopEditing(e3) {
    return __async(this, null, function* () {
      if (this._isDefaultOrHistoricVersion()) return {
        success: false
      };
      const t9 = yield this.versionManagementService.stopEditingWithResult(this.currentVersion, e3);
      if (!t9.success) return t9;
      if (this.state = "lock-read", !this.usePersistentReadSessions) {
        const e4 = yield this.versionManagementService.stopReadingWithResult(this.currentVersion);
        return e4.success && (this.state = "lock-none"), e4;
      }
      return t9;
    });
  }
  changeVersion(e3) {
    return __async(this, null, function* () {
      let t9 = null;
      if (this.usePersistentReadSessions) {
        if (this._isDefaultOrHistoricVersion(e3)) e3 && "name" in e3 ? (t9 = yield this.versionManagementService.getVersionInfoExtended(e3), this.state = "public" === t9?.access ? "lock-none" : "lock-read") : this.state = "lock-read";
        else if (!(yield this.versionManagementService.startReading(e3))) throw new s2("Failed to acquire read lock for version: " + e3);
        this._isDefaultOrHistoricVersion(this.currentVersion) || (yield this.versionManagementService.stopReading(this.currentVersion));
      }
      const s8 = yield this.versionManagementService.changeVersionWithResult(this.versionableItems, this.currentVersion, e3);
      let i4 = false;
      return s8.forEach((e4, t10) => {
        i4 = i4 || e4.success;
      }), i4 && (this.currentVersion = e3, this.currentVersionInfo = t9 || (yield this.getVersionInfoExtended()), this._isDefaultOrHistoricVersion() ? this.currentVersion && "name" in this.currentVersion ? this.state = "public" === this.currentVersionInfo?.access ? "lock-none" : "lock-read" : this.state = "lock-read" : this.state = "read" !== this.versionManagementService.getLockType(this.currentVersion) ? "lock-none" : "lock-read"), s8;
    });
  }
  undo() {
    return __async(this, null, function* () {
      return this._isDefaultOrHistoricVersion() ? {
        success: false
      } : (this.versionManagementService.undo(this.currentVersion), {
        success: true
      });
    });
  }
  redo() {
    return __async(this, null, function* () {
      return this._isDefaultOrHistoricVersion() ? {
        success: false
      } : (this.versionManagementService.redo(this.currentVersion), {
        success: true
      });
    });
  }
  _setUpState(e3) {
    return __async(this, null, function* () {
      yield this.versionManagementService.load(e3), this.state = "lock-none", this.currentVersionInfo = yield this.getVersionInfoExtended(), this.versionableItems.forEach((e4) => {
        this.currentVersion ? "name" in this.currentVersion ? (e4.gdbVersion = this.currentVersion.name, e4.historicMoment = null) : (e4.historicMoment = this.currentVersion, e4.gdbVersion = null) : (e4.gdbVersion = null, e4.historicMoment = null);
      }), this.usePersistentReadSessions && (this._isDefaultOrHistoricVersion() ? this.currentVersion && "name" in this.currentVersion ? this.state = "public" === this.currentVersionInfo?.access ? "lock-none" : "lock-read" : this.state = "lock-read" : (yield this.versionManagementService.startReading(this.currentVersion)) && (this.state = "lock-read"));
    });
  }
  _isDefaultOrHistoricVersion(e3 = this.currentVersion) {
    return !(e3 && "name" in e3) || e3.name === this.versionManagementService.defaultVersionIdentifier.name;
  }
};
e2([y()], c3.prototype, "versionManagementService", void 0), e2([y()], c3.prototype, "featureServiceUrl", void 0), e2([y()], c3.prototype, "url", void 0), e2([y()], c3.prototype, "currentVersion", void 0), e2([y()], c3.prototype, "currentVersionInfo", void 0), e2([y()], c3.prototype, "versionInfos", void 0), e2([y()], c3.prototype, "versionableItems", void 0), e2([y()], c3.prototype, "usePersistentReadSessions", void 0), e2([y()], c3.prototype, "state", void 0), e2([y({
  readOnly: true
})], c3.prototype, "defaultVersionIdentifier", null), e2([y({
  readOnly: true
})], c3.prototype, "isDefault", null), c3 = e2([a3("esri.versionManagement.VersioningState")], c3);
var u3 = c3;

// ../../../node_modules/@arcgis/core/versionManagement/support/EditMomentStack.js
var t5 = class {
  constructor(t9) {
    this.moments = [], this.forwardMoments = [], this.moments.push(t9);
  }
  push(t9) {
    return this.forwardMoments.length, this.moments.push(t9);
  }
  pop() {
    if (!(this.forwardMoments.length > 0)) return this.moments.pop();
  }
  undo() {
    if (!this.canUndo()) return;
    const t9 = this.moments.pop();
    return this.forwardMoments.push(t9), t9;
  }
  peek() {
    return this.moments.at(-1);
  }
  canUndo() {
    return this.moments.length > 1;
  }
  canRedo() {
    return this.hasForwardEdits();
  }
  redo() {
    if (!this.canRedo()) return;
    const t9 = this.forwardMoments.pop();
    return this.moments.push(t9), t9;
  }
  size() {
    return this.moments.length + this.forwardMoments.length;
  }
  hasForwardEdits() {
    return this.forwardMoments.length > 0;
  }
  clearForwardEdits() {
    this.forwardMoments = [];
  }
};

// ../../../node_modules/@arcgis/core/versionManagement/versionAdapters/FeatureLayerVersionAdapter.js
var t6 = class {
  constructor(e3) {
    this.versionableItem = e3, this.type = "featureLayer";
  }
  get gdbVersion() {
    return this.versionableItem.gdbVersion;
  }
  set gdbVersion(e3) {
    this.versionableItem.gdbVersion = e3;
  }
  get historicMoment() {
    return this.versionableItem.historicMoment;
  }
  set historicMoment(e3) {
    this.versionableItem.historicMoment = e3;
  }
  get featureServiceUrl() {
    const e3 = /^(.*\/FeatureServer)\/\d+$/;
    return this.versionableItem.url.replace(e3, "$1");
  }
};
e2([y({
  readOnly: true
})], t6.prototype, "type", void 0), e2([y()], t6.prototype, "gdbVersion", null), e2([y({
  type: Date
})], t6.prototype, "historicMoment", null), e2([y({
  readOnly: true
})], t6.prototype, "featureServiceUrl", null);

// ../../../node_modules/@arcgis/core/versionManagement/versionAdapters/NetworkVersionAdapter.js
var t7 = class {
  constructor(e3) {
    this.versionableItem = e3, this.type = "network";
  }
  get gdbVersion() {
    return this.versionableItem.gdbVersion;
  }
  set gdbVersion(e3) {
    this.versionableItem.gdbVersion = e3;
  }
  get historicMoment() {
    return this.versionableItem.historicMoment;
  }
  set historicMoment(e3) {
    this.versionableItem.historicMoment = e3;
  }
  get featureServiceUrl() {
    return this.versionableItem.featureServiceUrl;
  }
};
e2([y({
  readOnly: true
})], t7.prototype, "type", void 0), e2([y()], t7.prototype, "gdbVersion", null), e2([y({
  type: Date
})], t7.prototype, "historicMoment", null), e2([y({
  readOnly: true
})], t7.prototype, "featureServiceUrl", null);

// ../../../node_modules/@arcgis/core/versionManagement/versionAdapters/SubTypeGroupLayerVersionAdapter.js
var t8 = class {
  constructor(e3) {
    this.versionableItem = e3, this.type = "subtypeGroupLayer";
  }
  get gdbVersion() {
    return this.versionableItem.gdbVersion;
  }
  set gdbVersion(e3) {
    this.versionableItem.gdbVersion = e3;
  }
  get historicMoment() {
    return this.versionableItem.historicMoment;
  }
  set historicMoment(e3) {
    this.versionableItem.historicMoment = e3;
  }
  get featureServiceUrl() {
    const e3 = /^(.*\/FeatureServer)\/\d+$/;
    return this.versionableItem.url.replace(e3, "$1");
  }
};
e2([y({
  readOnly: true
})], t8.prototype, "type", void 0), e2([y()], t8.prototype, "gdbVersion", null), e2([y({
  type: Date
})], t8.prototype, "historicMoment", null), e2([y({
  readOnly: true
})], t8.prototype, "featureServiceUrl", null);

// ../../../node_modules/@arcgis/core/versionManagement/versionAdapters/utils.js
function n4(n5) {
  return "networkServiceUrl" in n5 ? new t7(n5) : "feature" !== n5.type || a6(n5) ? "subtype-group" !== n5.type || a6(n5) ? null : new t8(n5) : new t6(n5);
}
function p2(e3) {
  const r4 = [];
  for (const t9 of e3) if ("group" === t9.type) {
    const e4 = t9, o2 = e4.allTables.concat(e4.allLayers);
    for (const t10 of o2) if ("feature" === t10.type || "subtype-group" === t10.type) {
      const e5 = n4(t10);
      e5 && r4.push(e5);
    }
  } else {
    const e4 = n4(t9);
    e4 && r4.push(e4);
  }
  return r4;
}

// ../../../node_modules/@arcgis/core/versionManagement/VersionManagementService.js
var w = class extends u(m) {
  constructor(e3) {
    super(e3), this.url = null, this.sourceJSON = null, this.name = null, this.defaultVersionIdentifier = null, this.capabilities = null, this._isDefault = (e4) => !e4 || e4 === this.defaultVersionIdentifier.name, this._dateEquals = (e4, t9) => !e4 && !t9 || !(!e4 || !t9) && e4.toISOString() === t9.toISOString(), this._applyEditsHandler = (e4) => {
      const {
        serviceUrl: t9,
        gdbVersion: r4,
        result: s8
      } = e4;
      t9 === this._featureServiceUrl && s8.then((e5) => {
        const t10 = e5.historicMoment;
        t10 && this._addMomentToVersionItem(r4, t10);
      });
    };
  }
  initialize() {
    this.url = qt(this.url), this._featureServiceUrl = this.url.replace(/\/VersionManagementServer/i, "/FeatureServer"), s6.has(this.url) || s6.set(this.url, /* @__PURE__ */ new Map());
    const e3 = (a4.get(this.url) ?? 0) + 1;
    a4.set(this.url, e3), this.when().then(() => this.addHandles(l(this._applyEditsHandler)), () => {
    });
  }
  destroy() {
    const e3 = (a4.get(this.url) ?? 1) - 1;
    a4.set(this.url, e3), 0 === e3 && s6.delete(this.url), n2.delete(this._featureServiceUrl);
  }
  read(e3, t9) {
    this.sourceJSON = e3, super.read(e3, t9);
  }
  readDefaultVersionIdentifier(e3, t9) {
    return {
      name: t9.defaultVersionName,
      guid: t9.defaultVersionGuid
    };
  }
  writeDefaultVersionIdentifier(e3, t9) {
    t9.defaultVersionName = e3.name, t9.defaultVersionGuid = e3.guid;
  }
  load(e3) {
    return this.addResolvingPromise(this._fetchService(this.url, e3)), Promise.resolve(this);
  }
  createVersion(e3) {
    return __async(this, null, function* () {
      const [{
        createVersion: t9
      }, {
        default: r4
      }] = yield Promise.all([import("./createVersion-I5BY3KML.js"), import("./CreateVersionParameters-FZYRN3UN.js")]), s8 = r4.from(e3);
      return t9(this.url, s8);
    });
  }
  deleteVersion(e3) {
    return __async(this, null, function* () {
      const [{
        deleteVersion: t9
      }, {
        default: r4
      }] = yield Promise.all([import("./deleteVersion-SCPDA4JI.js"), import("./DeleteVersionParameters-6XBNAZOQ.js")]);
      let s8;
      e3.guid && s6.get(this.url)?.has(e3.guid) && (s8 = t2 ?? void 0);
      const i4 = new r4({
        versionName: e3.name,
        sessionId: s8
      });
      return t9(this.url, i4);
    });
  }
  getVersionInfoExtended(e3) {
    return __async(this, null, function* () {
      const {
        getVersion: t9
      } = yield import("./getVersion-2W23ISCW.js");
      return t9(this.url, e3.guid);
    });
  }
  getVersionInfos() {
    return __async(this, arguments, function* (e3 = {}) {
      const [{
        getVersionInfos: t9
      }, {
        default: r4
      }] = yield Promise.all([import("./getVersionInfos-APF74PJA.js"), import("./GetVersionInfosParameters-OBSLJBOM.js")]), s8 = r4.from(e3);
      return t9(this.url, s8);
    });
  }
  reconcile(_0) {
    return __async(this, arguments, function* (e3, t9 = {}) {
      const [{
        reconcile: r4
      }, {
        default: s8
      }] = yield Promise.all([import("./reconcile-EM3ULLD7.js"), import("./ReconcileParameters-OOGYBDII.js")]), i4 = s8.from(t9);
      return i4.sessionId = t2, r4(this.url, e3.guid, i4);
    });
  }
  post(e3) {
    return __async(this, null, function* () {
      const [{
        post: t9
      }, {
        default: r4
      }] = yield Promise.all([import("./post-M2FAH2BC.js"), import("./PostParameters-ZAXR3V3T.js")]), s8 = r4.from({
        sessionId: t2
      });
      return t9(this.url, e3.guid, s8);
    });
  }
  alterVersion(e3, t9) {
    return __async(this, null, function* () {
      const [{
        alterVersion: r4
      }, {
        default: s8
      }] = yield Promise.all([import("./alterVersion-O7N6ILX7.js"), import("./AlterVersionParameters-ZNY63DN7.js")]), i4 = s8.from(t9);
      return r4(this.url, e3.guid, i4);
    });
  }
  startReading(e3) {
    return __async(this, null, function* () {
      return (yield this.startReadingWithResult(e3)).success;
    });
  }
  startReadingWithResult(e3) {
    return __async(this, null, function* () {
      const {
        startReading: t9
      } = yield import("./startReading-REQOEBYM.js"), r4 = yield t9(this.url, e3.guid, t2);
      if (r4.success) {
        const t10 = yield this.getVersionInfoExtended(e3), r5 = new Date(t10.modifiedDate), s8 = {
          name: t10.versionIdentifier.name,
          moment: r5,
          lockType: "read"
        };
        this._addOrUpdateItem(e3.guid, s8), u2(this._featureServiceUrl, null, e3.name, r5);
      }
      return r4;
    });
  }
  stopReading(e3) {
    return __async(this, null, function* () {
      return (yield this.stopReadingWithResult(e3)).success;
    });
  }
  stopReadingWithResult(e3) {
    return __async(this, null, function* () {
      const {
        stopReading: t9
      } = yield import("./stopReading-3FG6ZYAX.js"), r4 = yield t9(this.url, e3.guid, t2);
      return r4.success && (s6.get(this.url)?.delete(e3.guid), u2(this._featureServiceUrl, null, e3.name, null)), r4;
    });
  }
  startEditing(e3) {
    return __async(this, null, function* () {
      return (yield this.startEditingWithResult(e3)).success;
    });
  }
  startEditingWithResult(e3) {
    return __async(this, null, function* () {
      const {
        startEditing: t9
      } = yield import("./startEditing-LLDJQQXN.js"), r4 = yield t9(this.url, e3.guid, t2);
      if (r4.success) {
        const t10 = yield this.getVersionInfoExtended(e3), r5 = new Date(t10.modifiedDate), s8 = new t5(r5), i4 = {
          name: e3.name,
          moment: r5,
          lockType: "edit",
          stack: s8
        };
        this._addOrUpdateItem(e3.guid, i4), u2(this._featureServiceUrl, null, e3.name, r5);
      }
      return r4;
    });
  }
  stopEditing(e3, t9) {
    return __async(this, null, function* () {
      return (yield this.stopEditingWithResult(e3, t9)).success;
    });
  }
  stopEditingWithResult(e3, t9) {
    return __async(this, null, function* () {
      if (t9) {
        const t10 = s6.get(this.url)?.get(e3.guid);
        if (t10?.stack?.canRedo()) {
          const [{
            deleteForwardEdits: r5
          }, {
            default: s9
          }] = yield Promise.all([import("./deleteForwardEdits-LJOOWSEV.js"), import("./DeleteForwardEditsParameters-OMI765AV.js")]), i4 = yield r5(this.url, e3.guid, new s9({
            sessionId: t2,
            moment: t10.moment
          }));
          if (!i4.success) return i4;
        }
      }
      const {
        stopEditing: r4
      } = yield import("./stopEditing-TKQBCGTW.js"), s8 = yield r4(this.url, e3.guid, t2, t9);
      if (s8.success) {
        const t10 = yield this.getVersionInfoExtended(e3), r5 = new Date(t10.modifiedDate);
        this._addOrUpdateItem(e3.guid, {
          name: e3.name,
          moment: r5,
          lockType: "read",
          editMomentStack: void 0
        }), u2(this._featureServiceUrl, null, e3.name, r5);
      }
      return s8;
    });
  }
  getLockType(e3) {
    const t9 = s6.get(this.url)?.get(e3.guid)?.lockType;
    return t9 ?? "none";
  }
  changeVersion(e3, t9, s8) {
    return __async(this, null, function* () {
      if (s8 && "name" in s8 && !(yield this.getVersionInfoExtended(s8))) throw new s2("version-management-service:invalid-version", "version does not exist");
      if ("networkServiceUrl" in e3) {
        if (this._featureServiceUrl.toLowerCase() === e3.featureServiceUrl.toLowerCase()) return this._changeVersionInternal(e3, t9, s8);
      } else {
        let r4;
        "layers" in e3 ? (r4 = e3.allTables.concat(e3.allLayers), e3.utilityNetworks && e3.utilityNetworks.forEach((e4) => {
          this._featureServiceUrl.toLowerCase() === e4.featureServiceUrl.toLowerCase() && this._changeVersionInternal(e4, t9, s8);
        })) : r4 = e3;
        for (const e4 of r4) if ("feature" === e4.type || "subtype-group" === e4.type) {
          const r5 = /^(.*\/FeatureServer)\/\d+$/, i4 = e4.url.replace(r5, "$1");
          if (this._featureServiceUrl.toLowerCase() === i4.toLowerCase() && !this._changeVersionInternal(e4, t9, s8)) return false;
        } else if ("group" === e4.type) {
          const r5 = e4.allTables.concat(e4.allLayers);
          for (const e5 of r5) if ("feature" === e5.type || "subtype-group" === e5.type) {
            const r6 = /^(.*\/FeatureServer)\/\d+$/, i4 = e5.url.replace(r6, "$1");
            if (this._featureServiceUrl.toLowerCase() === i4.toLowerCase() && !this._changeVersionInternal(e5, t9, s8)) return false;
          }
        }
      }
      return true;
    });
  }
  changeVersionWithResult(e3, t9, r4) {
    return __async(this, null, function* () {
      let s8;
      if ("layers" in e3) {
        const t10 = p2(e3.allTables.concat(e3.allLayers).filter((e4) => "group" !== e4.type).toArray());
        e3.utilityNetworks && e3.utilityNetworks.forEach((e4) => {
          const r5 = p2([e4]);
          t10.push(...r5);
        }), s8 = t10;
      } else s8 = e3;
      if (r4 && "name" in r4) {
        if (!(yield this.getVersionInfoExtended(r4))) {
          const e4 = /* @__PURE__ */ new Map();
          for (const t10 of s8) e4.set(t10, {
            success: false
          });
          return e4;
        }
      }
      if (t9 && "name" in t9) {
        if ("none" !== this.getLockType(t9)) {
          const e4 = /* @__PURE__ */ new Map();
          for (const t10 of s8) e4.set(t10, {
            success: false
          });
          return e4;
        }
      }
      const i4 = /* @__PURE__ */ new Map();
      for (const n5 of s8) if (n5) if (n5.featureServiceUrl.toLowerCase() === this._featureServiceUrl.toLowerCase()) {
        const e4 = this._changeVersionInternalWithResult(n5, t9, r4);
        i4.set(n5, e4);
      } else i4.set(n5, {
        success: false
      });
      return i4;
    });
  }
  getVersionIdentifierFromName(e3) {
    return __async(this, null, function* () {
      try {
        const t9 = yield this.getVersionInfos({
          includeHidden: true
        });
        return t9.find((t10) => t10.versionIdentifier.name === e3)?.versionIdentifier || null;
      } catch {
        return null;
      }
    });
  }
  getVersionIdentifierFromGuid(e3) {
    return __async(this, null, function* () {
      const {
        getVersion: t9
      } = yield import("./getVersion-2W23ISCW.js");
      try {
        return (yield t9(this.url, e3)).versionIdentifier;
      } catch {
        return null;
      }
    });
  }
  canUndo(e3) {
    const t9 = s6.get(this.url)?.get(e3.guid);
    return !!t9?.stack?.canUndo();
  }
  canRedo(e3) {
    const t9 = s6.get(this.url)?.get(e3.guid);
    return !!t9?.stack?.canRedo();
  }
  undo(e3) {
    const t9 = s6.get(this.url)?.get(e3.guid), r4 = t9?.stack?.undo() || void 0;
    if (t9 && r4) {
      const r5 = t9.stack.peek();
      u2(this._featureServiceUrl, null, e3.name, r5), s6.get(this.url)?.set(e3.guid, __spreadProps(__spreadValues({}, t9), {
        moment: r5
      }));
    }
  }
  redo(e3) {
    const t9 = s6.get(this.url)?.get(e3.guid), r4 = t9?.stack?.redo() || void 0;
    t9 && r4 && (u2(this._featureServiceUrl, null, e3.name, r4), s6.get(this.url)?.set(e3.guid, __spreadProps(__spreadValues({}, t9), {
      moment: r4
    })));
  }
  _setUpData(e3, t9) {
    let s8 = null, i4 = null, n5 = null, o2 = null;
    const a7 = (e4) => {
      const t10 = s6?.get(this.url)?.get(e4.guid);
      n5 = e4.name, o2 = t10?.moment ?? null;
    };
    if (e3 && "name" in e3) {
      if ("none" !== this.getLockType(e3)) throw new s2("version-management-service:version-locked", "version is locked");
      s8 = e3.name, i4 = null, t9 && "name" in t9 ? a7(t9) : (n5 = this.defaultVersionIdentifier.name, o2 = t9);
    } else s8 = this.defaultVersionIdentifier.name, i4 = e3, t9 && "name" in t9 ? a7(t9) : (n5 = this.defaultVersionIdentifier.name, o2 = t9);
    return {
      fromVersionName: s8,
      fromMoment: i4,
      toVersionName: n5,
      toMoment: o2
    };
  }
  _changeVersionInternal(e3, t9, r4) {
    try {
      const {
        fromVersionName: s8,
        fromMoment: i4,
        toVersionName: n5,
        toMoment: o2
      } = this._setUpData(t9, r4);
      (this._isDefault(s8) && this._isDefault(e3.gdbVersion) && this._dateEquals(e3.historicMoment, i4) || s8 === e3.gdbVersion && this._dateEquals(e3.historicMoment, i4)) && (e3.gdbVersion = n5, e3.historicMoment = o2);
    } catch (s8) {
      return false;
    }
    return true;
  }
  _changeVersionInternalWithResult(e3, t9, r4) {
    try {
      const {
        fromVersionName: s8,
        fromMoment: i4,
        toVersionName: n5,
        toMoment: o2
      } = this._setUpData(t9, r4);
      return this._isDefault(s8) && this._isDefault(e3.gdbVersion) && this._dateEquals(e3.historicMoment, i4) || s8 === e3.gdbVersion && this._dateEquals(e3.historicMoment, i4) ? (e3.gdbVersion = n5, e3.historicMoment = o2, {
        success: true
      }) : {
        success: false
      };
    } catch (s8) {
      return {
        success: false
      };
    }
  }
  _addMomentToVersionItem(e3, t9) {
    const r4 = s6.get(this.url);
    if (r4) for (const [s8, i4] of r4) {
      i4.name === e3 && this._addToStack(s8, t9);
    }
  }
  _addToStack(e3, t9) {
    const r4 = s6.get(this.url), s8 = r4?.get(e3);
    return !!s8?.stack && (I2(s8.stack.peek(), t9) && s8.stack.push(t9), r4.set(e3, __spreadProps(__spreadValues({}, s8), {
      moment: t9
    })), true);
  }
  _addOrUpdateItem(e3, t9) {
    const r4 = s6.get(this.url), s8 = r4?.get(e3);
    return s8 ? (r4.set(e3, __spreadValues(__spreadValues({}, s8), t9)), true) : !(!t9.name || !t9.lockType) && (r4?.set(e3, __spreadProps(__spreadValues({}, t9), {
      lockType: t9.lockType
    })), true);
  }
  _fetchService(e3, r4) {
    return __async(this, null, function* () {
      if (this.sourceJSON) {
        this.read(this.sourceJSON, {
          origin: "service",
          url: f2(e3)
        });
        const t9 = new x(this.url).host;
        return void n2.set(t9, this.defaultVersionIdentifier.name);
      }
      const s8 = yield U(e3, __spreadValues({
        responseType: "json",
        query: {
          f: "json"
        }
      }, r4));
      this.read(s8.data);
    });
  }
};
function I2(e3, t9) {
  if (e3) {
    return e3.getTime() < t9.getTime();
  }
  return true;
}
e2([y()], w.prototype, "url", void 0), e2([y()], w.prototype, "sourceJSON", void 0), e2([y({
  type: String,
  json: {
    write: true
  }
})], w.prototype, "name", void 0), e2([y({
  json: {
    write: {
      target: {
        defaultVersionName: {
          type: String
        },
        defaultVersionGuid: {
          type: String
        }
      }
    },
    read: {
      source: ["defaultVersionName", "defaultVersionGuid"]
    }
  }
})], w.prototype, "defaultVersionIdentifier", void 0), e2([o("defaultVersionIdentifier", ["defaultVersionName", "defaultVersionGuid"])], w.prototype, "readDefaultVersionIdentifier", null), e2([r2("defaultVersionIdentifier", {
  defaultVersionName: {
    type: String
  },
  defaultVersionGuid: {
    type: String
  }
})], w.prototype, "writeDefaultVersionIdentifier", null), e2([y({
  json: {
    write: true
  }
})], w.prototype, "capabilities", void 0), w = e2([a3("esri.versionManagement.VersionManagementService")], w);
var S3 = w;

// ../../../node_modules/@arcgis/core/versionManagement/utils.js
function c4(r4, t9) {
  return __async(this, null, function* () {
    let o2;
    if ("layers" in r4) {
      const e3 = p2(r4.allTables.concat(r4.allLayers).filter((e4) => "group" !== e4.type).toArray());
      r4.utilityNetworks && r4.utilityNetworks.forEach((r5) => {
        const t10 = p2([r5]);
        e3.push(...t10);
      }), o2 = e3;
    } else o2 = new V(r4);
    const c5 = /* @__PURE__ */ new Map();
    for (const n5 of o2) {
      const r5 = c5.get(n5.featureServiceUrl);
      r5 ? r5.push(n5) : c5.set(n5.featureServiceUrl, new V([n5]));
    }
    const l3 = new V();
    for (const [e3, a7] of c5) {
      const r5 = new B({
        url: e3
      });
      if (yield r5.load(), !r5.versionManagementServiceUrl) continue;
      const o3 = new S3({
        url: r5.versionManagementServiceUrl
      });
      l3.push(new u3({
        versionManagementService: o3,
        versionableItems: a7,
        usePersistentReadSessions: t9
      }));
    }
    return l3;
  });
}
var l2 = /* @__PURE__ */ new Map();
function f4(e3, n5 = false) {
  return __async(this, null, function* () {
    const s8 = yield c4(e3.map, n5);
    return r(l2, e3, () => (e3.addHandles(e(() => {
      l2.delete(e3), s8.forEach((e4) => e4.destroy());
    })), s8.forEach((e4) => e4.load().catch((e5) => {
      n.getLogger("esri.versionManagement.VersioningState").error("Failed to load Versioning State", e5);
    })), s8));
  });
}

// ../../../node_modules/@arcgis/core/widgets/VersionManagement/VersionManagementViewModel.js
var _ = class extends S {
  constructor(e3) {
    super(e3), this._portalLookup = /* @__PURE__ */ new Map(), this._updatingHandlesLoad = new h(), this._updatingHandlesExecute = new h(), this.advancedEditingUserTypeExtensionLookup = /* @__PURE__ */ new Map(), this.executionError = void 0, this.featureServiceLookup = /* @__PURE__ */ new Map(), this.loadError = void 0, this.serverVersionLookup = /* @__PURE__ */ new Map(), this.serviceNameLookup = /* @__PURE__ */ new Map(), this.userLookup = /* @__PURE__ */ new Map(), this.versionIdentifierLookup = /* @__PURE__ */ new Map(), this.versionInfoLookup = /* @__PURE__ */ new Map(), this.versionManagementServiceLookup = /* @__PURE__ */ new Map(), this.versioningStateLookup = /* @__PURE__ */ new Map(), this.view = null, this.versioningStates = null;
  }
  initialize() {
    this._viewChangeHandle(), this.addHandles([d(() => this.view, () => {
      this._resetAllLookupProperties(), this._viewChangeHandle();
    }), d(() => this.versioningStates, () => {
      this._resetVersioningLookupProperties(), this._setVersioningStatesLookups();
    })]);
  }
  destroy() {
    this._updatingHandlesLoad.destroy(), this._updatingHandlesExecute.destroy();
  }
  get state() {
    return this._updatingHandlesLoad.updating ? "loading" : this.loadError ? "disabled" : this._updatingHandlesExecute.updating ? "executing" : this.executionError ? "failed" : "ready";
  }
  alterVersion(e3) {
    return __async(this, null, function* () {
      return this._updatingHandlesExecute.addPromise(this._alterVersionInternal(e3));
    });
  }
  changeVersion(e3, r4, o2) {
    return __async(this, null, function* () {
      return this._updatingHandlesExecute.addPromise(this._changeVersionInternal(e3, r4, o2));
    });
  }
  createVersion(e3) {
    return __async(this, null, function* () {
      return this._updatingHandlesExecute.addPromise(this._createVersionInternal(e3));
    });
  }
  deleteVersion(e3, r4, o2) {
    return __async(this, null, function* () {
      return this._updatingHandlesExecute.addPromise(this._deleteVersionInternal(e3, r4, o2));
    });
  }
  getVersionInfos(e3) {
    return __async(this, null, function* () {
      return this._updatingHandlesExecute.addPromise(this._getVersionInfosInternal(e3));
    });
  }
  _alterVersionInternal(e3) {
    return __async(this, null, function* () {
      if ("disabled" === this.state) throw this._logError("version-management-view-model:load-error", this.loadError), new s2("version-management-view-model:load-error", this.loadError);
      this._setExecutionError();
      const r4 = this.versioningStateLookup.get(e3.featureServerUrl);
      if (!r4) throw this._logError("version-management-view-model:execution-error", "no-versioning-state-found"), new s2("version-management-view-model:execution-error", this.executionError);
      if (!this.serverVersionLookup.has(e3.featureServerUrl) || this.serverVersionLookup.get(e3.featureServerUrl) <= 11.1) throw this._logError("version-management-view-model:execution-error", "no-valid-enterprise-version"), new s2("version-management-view-model:execution-error", this.executionError);
      if (!this.advancedEditingUserTypeExtensionLookup.get(e3.featureServerUrl)) throw this._logError("version-management-view-model:execution-error", "no-advanced-editing-user-type-extension"), new s2("version-management-view-model:execution-error", this.executionError);
      const _a = e3, {
        featureServerUrl: o2,
        versionIdentifier: i4
      } = _a, n5 = __objRest(_a, [
        "featureServerUrl",
        "versionIdentifier"
      ]), s8 = yield r4.alterVersion(i4, n5).catch((e4) => {
        throw this._logExecutionError(e4), e4;
      });
      return yield this.getVersionInfos(o2), s8;
    });
  }
  _changeVersionInternal(e3, r4, o2) {
    return __async(this, null, function* () {
      if ("disabled" === this.state) throw this._logError("version-management-view-model:load-error", this.loadError), new s2("version-management-view-model:load-error", this.loadError);
      this._setExecutionError();
      const i4 = this.versioningStateLookup.get(e3);
      if (!i4) throw this._logError("version-management-view-model:execution-error", "no-versioning-state-found"), new s2("version-management-view-model:execution-error", this.executionError);
      const n5 = {
        name: r4,
        guid: o2
      };
      return yield i4.changeVersion(n5).catch((e4) => {
        throw this._logExecutionError(e4), e4;
      });
    });
  }
  _updateVersionableItems(e3) {
    this._updatingHandlesLoad.addPromise((() => __async(this, null, function* () {
      p2(e3.added).forEach((e4) => {
        const r4 = e4.featureServiceUrl, o2 = this.versioningStateLookup.get(r4);
        o2 && (o2.versionableItems.find((r5) => r5.versionableItem === e4.versionableItem) || o2.versionableItems.add(e4));
      });
      p2(e3.removed).forEach((e4) => {
        const r4 = e4.featureServiceUrl, o2 = this.versioningStateLookup.get(r4);
        if (!o2) return void this._logError("version-management-view-model:execution-error", "no-version-management-service-found");
        const t9 = o2.versionableItems.find((r5) => r5.versionableItem === e4.versionableItem);
        t9 && o2.versionableItems.remove(t9);
      });
    }))());
  }
  _createVersionInternal(e3) {
    return __async(this, null, function* () {
      if ("disabled" === this.state) throw this._logError("version-management-view-model:load-error", this.loadError), new s2("version-management-view-model:load-error", this.loadError);
      this._setExecutionError();
      const r4 = e3.featureServerUrl, o2 = this.versioningStateLookup.get(r4);
      if (!o2) throw this._logError("version-management-view-model:execution-error", "no-versioning-state-found"), new s2("version-management-view-model:execution-error", this.executionError);
      const i4 = this.advancedEditingUserTypeExtensionLookup.get(e3.featureServerUrl), n5 = this.userLookup.get(r4).toUpperCase(), s8 = this._isEmptyString(e3.ownerName) ? n5 : e3.ownerName?.trim().toUpperCase();
      if (s8 !== n5) {
        if (this.serverVersionLookup.get(r4) <= 11.1) throw this._logError("version-management-view-model:execution-error", "versioning-api-error"), new s2("version-management-view-model:execution-error", this.executionError);
        if (!i4) throw this._logError("version-management-view-model:execution-error", "no-advanced-editing-user-type-extension"), new s2("version-management-view-model:execution-error", this.executionError);
      }
      let a7 = yield this.versioningStateLookup.get(r4)?.getVersionInfos();
      if ("SDE" === s8?.toUpperCase() && "DEFAULT" === e3.versionName.toUpperCase() || a7?.find((r5) => r5.versionIdentifier.name.toUpperCase() === (s8 + "." + e3.versionName).toUpperCase() || r5.versionIdentifier.name.toUpperCase() === (n5 + "." + e3.versionName).toUpperCase())) throw this._logError("version-management-view-model:execution-error", "no-valid-version-name"), new s2("version-management-view-model:execution-error", this.executionError);
      const d3 = yield o2.versionManagementService.createVersion({
        versionName: e3.versionName,
        access: s8 !== n5 ? "public" : e3.access,
        description: e3.description
      }).catch((e4) => {
        throw this._logExecutionError(e4), e4;
      });
      if (s8 !== n5) {
        const {
          guid: o3,
          name: t9
        } = d3.versionIdentifier, i5 = {
          featureServerUrl: r4,
          versionIdentifier: {
            guid: o3,
            name: t9
          },
          access: e3.access,
          ownerName: s8
        };
        (yield this.alterVersion(i5)) || this.deleteVersion(r4, n5 + "." + e3.versionName, d3.versionIdentifier.guid);
      }
      return yield this.getVersionInfos(r4), a7 = yield this.versioningStateLookup.get(r4)?.getVersionInfos(), a7?.find((e4) => e4.versionIdentifier.guid === d3.versionIdentifier.guid);
    });
  }
  _deleteVersionInternal(e3, r4, o2) {
    return __async(this, null, function* () {
      if ("disabled" === this.state) throw this._logError("version-management-view-model:load-error", this.loadError), new s2("version-management-view-model:load-error", this.loadError);
      this._setExecutionError();
      const i4 = this.versioningStateLookup.get(e3);
      if (!i4) throw this._logError("version-management-view-model:execution-error", "no-versioning-state-found"), new s2("version-management-view-model:execution-error", this.executionError);
      if (this.serverVersionLookup.get(e3) <= 11.1) throw this._logError("version-management-view-model:execution-error", "versioning-api-error"), new s2("version-management-view-model:execution-error", this.executionError);
      if (!this.advancedEditingUserTypeExtensionLookup.get(e3)) throw this._logError("version-management-view-model:execution-error", "no-advanced-editing-user-type-extension"), new s2("version-management-view-model:execution-error", this.executionError);
      const n5 = {
        name: r4,
        guid: o2
      };
      return yield i4.deleteVersion(n5).catch((e4) => {
        throw this._logExecutionError(e4), new s2("version-management-view-model:execution-error", this.executionError);
      });
    });
  }
  _getVersionInfosInternal(e3) {
    return __async(this, null, function* () {
      if ("disabled" === this.state) throw this._logError("version-management-view-model:load-error", this.loadError), new s2("version-management-view-model:load-error", this.loadError);
      this._setExecutionError();
      const r4 = this.featureServiceLookup.get(e3)?.featureService;
      if (!r4) throw this._logError("version-management-view-model:execution-error", "no-feature-service-found"), new s2("version-management-view-model:execution-error", this.executionError);
      r4.loaded || (yield r4.load().catch((e4) => {
        throw this._logExecutionError(e4), e4;
      }));
      const o2 = r4.url;
      this.serverVersionLookup.set(o2, r4.sourceJSON?.currentVersion ?? 0), this.serverVersionLookup.get(o2) <= 11.1 && this.advancedEditingUserTypeExtensionLookup.set(o2, false);
      const i4 = this.userLookup.get(e3);
      this._portalLookup.get(e3) && i4 ? this.advancedEditingUserTypeExtensionLookup.set(o2, yield t3(this._portalLookup.get(e3), i4, "advediting")) : this.advancedEditingUserTypeExtensionLookup.set(o2, false);
      const n5 = this.versioningStateLookup.get(e3);
      if (!n5) throw this._logError("version-management-view-model:execution-error", "no-versioning-state-found"), new s2("version-management-view-model:execution-error", this.executionError);
      n5.loaded || (yield n5.load().catch((e4) => {
        throw this._logExecutionError(e4), e4;
      }));
      return yield n5.getVersionInfos(true).catch((e4) => {
        throw this._logExecutionError(e4), e4;
      });
    });
  }
  _isEmptyString(e3) {
    return !e3 || 0 === e3.trim().length;
  }
  _logError(e3, r4) {
    switch (n.getLogger(this).error(new s2(e3, r4)), e3) {
      case "version-management-view-model:load-error":
        this._setLoadError(r4);
        break;
      case "version-management-view-model:execution-error":
        this._setExecutionError(r4);
    }
  }
  _logExecutionError(e3) {
    this._logError("version-management-view-model:execution-error", e3.message);
  }
  _viewChangeHandle() {
    return __async(this, null, function* () {
      this._updatingHandlesLoad.addPromise((() => __async(this, null, function* () {
        if (this._setLoadError(), !this.view) return void this._setLoadError("no-view-property");
        if (this.view && "2d" !== this.view.type) return void this._logError("version-management-view-model:load-error", "sceneView-not-supported");
        this.removeHandles("map-change-handle"), this.addHandles([d(() => this.view?.map, () => {
          this._resetAllLookupProperties(), this._mapChangeHandle(this.versioningStates);
        })], "map-change-handle");
        const e3 = yield this._getVersioningStates();
        yield this._mapChangeHandle(e3);
      }))());
    });
  }
  _mapChangeHandle(e3) {
    return __async(this, null, function* () {
      this._updatingHandlesLoad.addPromise((() => __async(this, null, function* () {
        this._setLoadError(), this.removeHandles("map-layers-tables-change-handle"), this.addHandles([v(() => this.view?.map.allLayers, "change", (e4) => {
          (e4.added.some(({
            type: e5
          }) => "feature" === e5) || e4.removed.some(({
            type: e5
          }) => "feature" === e5) || e4.added.some(({
            type: e5
          }) => "subtype-group" === e5) || e4.removed.some(({
            type: e5
          }) => "subtype-group" === e5)) && (this._resetServiceRelatedLookupProperties(), this._propertiesChangeInternal(this.versioningStates), this._updateVersionableItems(e4));
        }), v(() => this.view?.map.allTables, "change", (e4) => {
          (e4.added.some(({
            type: e5
          }) => "feature" === e5) || e4.removed.some(({
            type: e5
          }) => "feature" === e5) || e4.added.some(({
            type: e5
          }) => "subtype-group" === e5) || e4.removed.some(({
            type: e5
          }) => "subtype-group" === e5)) && (this._resetServiceRelatedLookupProperties(), this._propertiesChangeInternal(this.versioningStates), this._updateVersionableItems(e4));
        })], "map-layers-tables-change-handle"), yield this._propertiesChangeInternal(e3);
      }))());
    });
  }
  _propertiesChangeInternal(e3) {
    return __async(this, null, function* () {
      this._updatingHandlesLoad.addPromise((() => __async(this, null, function* () {
        const r4 = (e4) => "feature" === e4.type, {
          allLayers: o2,
          allTables: t9
        } = this.view.map;
        if (this._setLoadError(), this.featureServiceLookup = s7([...o2.filter(r4), ...t9.filter(r4)]), this.featureServiceLookup.size) {
          this._updateFeatureServiceLookup(e3), this.serviceNameLookup = /* @__PURE__ */ new Map();
          for (const e4 of this.featureServiceLookup.values()) {
            const {
              featureService: r5,
              featureService: {
                url: o3
              }
            } = e4;
            if (!this.serviceNameLookup.has(o3)) {
              if (r5.loaded || (yield r5.load().catch((e6) => {
                n.getLogger(this).error(e6);
              })), !r5.versionManagementServiceUrl) {
                this.featureServiceLookup.delete(o3);
                continue;
              }
              const e5 = yield x2(o3), t10 = new C({
                authMode: "immediate",
                url: e5
              });
              yield t10.load().catch((e6) => {
                n.getLogger(this).error(e6);
              });
              const n5 = t10.user?.username;
              if (!r5.loaded || !t10.loaded || !n5) continue;
              this.serviceNameLookup.set(qt(o3), o3.split("/").at(-2)), this.userLookup.set(o3, n5), this._portalLookup.set(o3, t10);
            }
          }
          this.removeHandles("versioning-states-change-handle"), e3.forEach((e4) => this._handleVersioningStateLookupUpdate(e4)), yield this._updateVersioningStates(e3), this.versioningStates = e3;
        } else this._logError("version-management-view-model:load-error", "no-feature-services");
      }))());
    });
  }
  _updateFeatureServiceLookup(e3) {
    for (const r4 of e3) {
      const e4 = r4.featureServiceUrl;
      if (!this.featureServiceLookup.has(e4)) {
        const o2 = new B({
          url: e4
        }), t9 = r4.versionableItems.toArray().flatMap((e5) => "network" === e5.type ? null : e5.versionableItem);
        this.featureServiceLookup.set(e4, {
          featureService: o2,
          layers: t9
        });
      }
    }
  }
  _updateVersioningStates(e3) {
    return __async(this, null, function* () {
      for (const r4 of this.featureServiceLookup.values()) {
        const t9 = r4.featureService;
        if (!t9.versionManagementServiceUrl) continue;
        if (!e3.find((e4) => e4.featureServiceUrl === t9.url) && t9.versionManagementServiceUrl) {
          const i4 = new V(p2(r4.layers)), n5 = new u3({
            versionManagementService: new S3({
              url: t9.versionManagementServiceUrl
            }),
            versionableItems: i4
          });
          e3.add(n5), this._handleVersioningStateLookupUpdate(n5);
        }
        yield this.getVersionInfos(t9.url);
      }
    });
  }
  _getVersioningStates() {
    return __async(this, null, function* () {
      return this.versioningStates && this.versioningStates.length ? this.versioningStates : this.view ? yield f4(this.view, false) : (this._logError("version-management-view-model:load-error", "no-view-property"), new V());
    });
  }
  _handleVersioningStateLookupUpdate(e3) {
    this.versioningStateLookup.set(e3.featureServiceUrl, e3), this._addHandlesToVersioningState(e3), this.versionIdentifierLookup.set(e3.featureServiceUrl, e3.currentVersionInfo?.versionIdentifier), this.versionManagementServiceLookup.set(e3.featureServiceUrl, e3.versionManagementService);
  }
  _setVersioningStatesLookups() {
    return __async(this, null, function* () {
      this._updatingHandlesLoad.addPromise((() => __async(this, null, function* () {
        this.versioningStates && (this.removeHandles("versioning-states-change-handle"), this._updateFeatureServiceLookup(this.versioningStates), this.versioningStates.forEach((e3) => this._handleVersioningStateLookupUpdate(e3)), yield this._updateVersioningStates(this.versioningStates));
      }))());
    });
  }
  _addHandlesToVersioningState(e3) {
    this.addHandles([d(() => e3.versionInfos, () => {
      this.versionInfoLookup.set(e3.featureServiceUrl, e3.versionInfos);
    }), d(() => e3.currentVersionInfo?.versionIdentifier, () => {
      this.versionIdentifierLookup.set(e3.featureServiceUrl, e3.currentVersionInfo?.versionIdentifier);
    })], "versioning-states-change-handle");
  }
  _resetVersioningLookupProperties() {
    this.versionIdentifierLookup = /* @__PURE__ */ new Map(), this.versionInfoLookup = /* @__PURE__ */ new Map(), this.versionManagementServiceLookup = /* @__PURE__ */ new Map(), this.versioningStateLookup = /* @__PURE__ */ new Map();
  }
  _resetAllLookupProperties() {
    this._portalLookup = /* @__PURE__ */ new Map(), this.advancedEditingUserTypeExtensionLookup = /* @__PURE__ */ new Map(), this.serverVersionLookup = /* @__PURE__ */ new Map(), this.userLookup = /* @__PURE__ */ new Map(), this.versioningStates = new V(), this._resetVersioningLookupProperties(), this._resetServiceRelatedLookupProperties();
  }
  _resetServiceRelatedLookupProperties() {
    this.featureServiceLookup = /* @__PURE__ */ new Map(), this.serviceNameLookup = /* @__PURE__ */ new Map();
  }
  _setExecutionError(e3) {
    this._set("executionError", e3);
  }
  _setLoadError(e3) {
    this._set("loadError", e3);
  }
};
e2([y()], _.prototype, "_portalLookup", void 0), e2([y()], _.prototype, "advancedEditingUserTypeExtensionLookup", void 0), e2([y({
  readOnly: true
})], _.prototype, "executionError", void 0), e2([y()], _.prototype, "featureServiceLookup", void 0), e2([y({
  readOnly: true
})], _.prototype, "loadError", void 0), e2([y()], _.prototype, "serverVersionLookup", void 0), e2([y()], _.prototype, "serviceNameLookup", void 0), e2([y({
  readOnly: true
})], _.prototype, "state", null), e2([y()], _.prototype, "userLookup", void 0), e2([y()], _.prototype, "versionIdentifierLookup", void 0), e2([y()], _.prototype, "versionInfoLookup", void 0), e2([y()], _.prototype, "versionManagementServiceLookup", void 0), e2([y()], _.prototype, "versioningStateLookup", void 0), e2([y()], _.prototype, "view", void 0), e2([y()], _.prototype, "versioningStates", void 0), _ = e2([a3("esri.widgets.VersionManagement.VersionManagementViewModel")], _);
var L = _;
export {
  L as default
};
//# sourceMappingURL=VersionManagementViewModel-JKDNJRNS.js.map
