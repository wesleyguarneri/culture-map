{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMeshViewFilter.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryEngine.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureAdapter.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryFeatureStore.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { indexOf as r, PositionHint as i } from \"../../../../core/arrayUtils.js\";\nimport s from \"../../../../core/Logger.js\";\nimport { clamp as n } from \"../../../../core/mathUtils.js\";\nimport { unwrapUpdating as o, updating as a, isUpdating as l } from \"../../../../core/maybeUpdating.js\";\nimport { whenOnce as c } from \"../../../../core/reactiveUtils.js\";\nimport { getUnitString as p } from \"../../../../core/unitUtils.js\";\nimport { property as u } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport { subclass as g } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { t as m, g as f, s as d } from \"../../../../chunks/vec32.js\";\nimport { fromValues as y } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { WhereClause as h } from \"../../../../core/sql/WhereClause.js\";\nimport { getReferenceEllipsoid as j } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { load as S, project as R } from \"../../../../geometry/projection.js\";\nimport { projectBoundingSphere as E } from \"../../../../geometry/projection/projectBoundingSphere.js\";\nimport { projectVectorToVector as b } from \"../../../../geometry/projection/projectVectorToVector.js\";\nimport { create as w } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { fromValues as v, expandWithNestedArray as F, expand as _ } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { doubleArrayFrom as I } from \"../../../../geometry/support/DoubleArray.js\";\nimport { earth as k } from \"../../../../geometry/support/Ellipsoid.js\";\nimport { isWGS84 as M, isWebMercator as T } from \"../../../../geometry/support/spatialReferenceUtils.js\";\nimport { f as D } from \"../../../../chunks/sphere.js\";\nimport { project as G } from \"../../../../geometry/support/webMercatorUtils.js\";\nimport C from \"../../../../layers/support/FeatureFilter.js\";\nimport { objectIdFilter as A, filterInPlace as x } from \"./I3SUtil.js\";\nimport O from \"../../../../geometry/SpatialReference.js\";\nconst B = \"esri.views.3d.layers.i3s.I3SMeshViewFilter\",\n  L = () => s.getLogger(B);\nlet P = class extends t {\n  constructor(e) {\n    super(e), this._projectionEngineLoaded = !1;\n  }\n  initialize() {\n    c(() => this.viewFilter?.geometry || null != this.layerFilter).then(() => this.loadAsyncModule(import(\"../../../../geometry/geometryEngine.js\").then(e => {\n      this.destroyed || (this._geometryEngine = e);\n    })));\n  }\n  get sortedObjectIds() {\n    if (null == this.viewFilter?.objectIds) return null;\n    const e = I(this.viewFilter.objectIds);\n    return e.sort(), e;\n  }\n  get parsedWhereClause() {\n    const e = this.viewFilter?.where;\n    if (null == e || !e) return null;\n    try {\n      return h.create(e, this.layerFieldsIndex);\n    } catch (t) {\n      L().error(`Failed to parse filter where clause: ${t}`);\n    }\n    return null;\n  }\n  addFilters(e, t, r, i) {\n    const s = this.sortedObjectIds;\n    null != s && e.push(e => A(s, !0, e)), this.addSqlFilter(e, this.parsedWhereClause), this.addTimeFilter(e, this.viewFilter?.timeExtent);\n    const n = o(this._layerMaskGeometries),\n      a = this._geometryEngine;\n    if (null != n && null != this.layerFilter && null != a) {\n      const s = this.layerFilter.spatialRelationship;\n      e.push((e, o) => N(a, e, o, i, t, r, n, s));\n    }\n    const l = o(this._viewMaskGeometries);\n    if (null != l && null != this.viewFilter && null != a) {\n      const s = this.viewFilter.spatialRelationship;\n      e.push((e, n) => N(a, e, n, i, t, r, l, s));\n    }\n  }\n  isMBSGeometryVisible(e, t, r) {\n    const i = o(this._layerMaskGeometries),\n      s = this._geometryEngine;\n    if (null != i && null != this.layerFilter && null != s) {\n      const n = this.layerFilter.spatialRelationship,\n        o = i[0].spatialReference || t;\n      if (!E(e, r, $, o)) return L().warnOnce(\"SceneLayer.mask geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"), !0;\n      return q(s, $, i, o, n);\n    }\n    const n = o(this._viewMaskGeometries);\n    if (null != n && null != this.viewFilter && null != s) {\n      const i = this.viewFilter.spatialRelationship,\n        o = n[0].spatialReference || t;\n      if (!E(e, r, $, o)) return L().warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter for MBS\"), !0;\n      return q(s, $, n, o, i);\n    }\n    return !0;\n  }\n  get parsedGeometry() {\n    const e = o(this._viewMaskGeometries),\n      t = o(this._layerMaskGeometries);\n    return null == e || null == t ? e || t : t.concat(e);\n  }\n  get _layerMaskGeometries() {\n    const e = this.layerFilter;\n    return null == e ? null : null == this._geometryEngine ? a : \"disjoint\" === e.spatialRelationship ? e.geometries.map(e => ({\n      type: \"polygon\",\n      rings: e.rings,\n      spatialReference: e.spatialReference,\n      cache: {}\n    })) : [e.geometries.reduce((e, t) => (e.rings = [...e.rings, ...t.rings], e), {\n      type: \"polygon\",\n      rings: [],\n      spatialReference: e.geometries[0].spatialReference,\n      cache: {}\n    })];\n  }\n  get _viewMaskGeometries() {\n    if (null == this.viewFilter) return null;\n    const {\n      geometry: e\n    } = this.viewFilter;\n    if (null == e) return null;\n    if (null == this.viewFilter || null == this._geometryEngine) return a;\n    const {\n        distance: t,\n        units: r\n      } = this.viewFilter,\n      i = this.viewFilter.spatialRelationship,\n      s = \"mesh\" === e.type ? e.extent : e;\n    if (null == t || 0 === t) return V(this._geometryEngine, s, i);\n    const n = r || p(s.spatialReference);\n    if (s.spatialReference.isWGS84) {\n      const e = this._geometryEngine.geodesicBuffer(s, t, n);\n      return V(this._geometryEngine, e, i);\n    }\n    const o = G(s, O.WGS84);\n    if (null != o) {\n      const e = G(this._geometryEngine.geodesicBuffer(o, t, n), s.spatialReference);\n      return V(this._geometryEngine, e, i);\n    }\n    if (!this._projectionEngineLoaded && (this.loadAsyncModule(S().then(() => this._projectionEngineLoaded = !0)), !this._projectionEngineLoaded)) return null;\n    let l = null;\n    try {\n      l = R(s, O.WGS84);\n    } catch (c) {}\n    if (l) try {\n      l = R(this._geometryEngine.geodesicBuffer(l, t, n), s.spatialReference);\n    } catch (c) {\n      l = null;\n    }\n    return l || L().error(`Filter by geodesic buffer (distance) unsupported, failed to project input geometry (${s.spatialReference.wkid}) to WGS84.`), V(this._geometryEngine, l, i);\n  }\n  get updating() {\n    return l(this._layerMaskGeometries) || l(this._viewMaskGeometries);\n  }\n  static checkSupport(e) {\n    return null != e && (!!K(e.spatialRelationship) || (L().warn(`Filters with spatialRelationship other than ${U.join(\", \")} are not supported for mesh scene layers`), !1));\n  }\n};\ne([u()], P.prototype, \"layerFilter\", void 0), e([u({\n  type: C\n})], P.prototype, \"viewFilter\", void 0), e([u()], P.prototype, \"layerFieldsIndex\", void 0), e([u()], P.prototype, \"loadAsyncModule\", void 0), e([u()], P.prototype, \"addSqlFilter\", void 0), e([u()], P.prototype, \"addTimeFilter\", void 0), e([u({\n  readOnly: !0\n})], P.prototype, \"sortedObjectIds\", null), e([u({\n  readOnly: !0\n})], P.prototype, \"parsedWhereClause\", null), e([u({\n  readOnly: !0\n})], P.prototype, \"parsedGeometry\", null), e([u({\n  readOnly: !0\n})], P.prototype, \"_layerMaskGeometries\", null), e([u({\n  readOnly: !0\n})], P.prototype, \"_viewMaskGeometries\", null), e([u()], P.prototype, \"updating\", null), e([u()], P.prototype, \"_projectionEngineLoaded\", void 0), e([u()], P.prototype, \"_geometryEngine\", void 0), P = e([g(B)], P);\nconst U = (e => e)([\"contains\", \"intersects\", \"disjoint\"]);\nfunction K(e) {\n  return null != e && U.includes(e);\n}\nvar W;\nfunction V(e, t, s) {\n  if (null == t) return null;\n  if (\"disjoint\" === s && \"polygon\" === t.type) {\n    const s = t.rings.length,\n      n = t.spatialReference,\n      o = new Array(s);\n    for (let e = 0; e < s; ++e) {\n      const r = v(1 / 0, 1 / 0, -1 / 0, -1 / 0);\n      F(r, t.rings[e]), o[e] = {\n        type: \"polygon\",\n        rings: [t.rings[e]],\n        spatialReference: n,\n        cache: {},\n        aabr: r\n      };\n    }\n    o.sort((e, t) => e.aabr[0] - t.aabr[0]);\n    const a = new Set(),\n      l = new i();\n    for (let t = 0; t < o.length; ++t) {\n      const i = o[t],\n        s = i.aabr[0];\n      a.forEach(t => {\n        if (s >= t.aabr[2]) return void a.delete(t);\n        if (i.aabr[1] > t.aabr[3] || i.aabr[3] < t.aabr[1] || !e.intersects(i, t)) return;\n        i.rings = i.rings.concat(t.rings), _(i.aabr, t.aabr, i.aabr), i.cache = {}, a.delete(t);\n        const n = r(o, t, o.length, l);\n        o.splice(n, 1);\n      }), a.add(i);\n    }\n    for (const e of o) e.aabr = void 0;\n    return o;\n  }\n  return [t];\n}\nfunction q(e, t, r, i, s) {\n  if (t[3] >= .5 * (t[2] + j(i).radius)) return !0;\n  const n = H(e, t, i);\n  return r.every(t => Z(e, t, n, s) !== W.DISCARD);\n}\nfunction N(e, t, r, i, s, n, o, a) {\n  const l = o[0].spatialReference || s.spatialReference;\n  if (!E(r.node.serviceMbsInIndexSR, n, $, l)) return void L().warnOnce(\"SceneLayerView.filter.geometry is using unsupported SpatialReference, skipping geometry filter\");\n  const c = H(e, $, l),\n    p = z(a, s, l, i, r.objectHandle);\n  for (const u of o) {\n    if (0 === t.length) return;\n    switch (Z(e, u, c, a)) {\n      case W.DISCARD:\n        return void (t.length = 0);\n      case W.KEEP:\n        continue;\n    }\n    x(t, r.featureIds, t => X(e, u, t, p));\n  }\n}\n!function (e) {\n  e[e.KEEP = 0] = \"KEEP\", e[e.DISCARD = 1] = \"DISCARD\", e[e.TEST = 2] = \"TEST\";\n}(W || (W = {}));\nconst $ = D(0, 0, 0, 0);\nfunction z(e, t, r, i, s) {\n  const n = t.renderSpatialReference,\n    o = new Map(),\n    a = {\n      type: \"polygon\",\n      rings: [[[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]]],\n      spatialReference: r\n    };\n  a.rings[0][3] = a.rings[0][0];\n  const l = {\n    indices: null,\n    data: null,\n    stride: 0,\n    startIndex: 0,\n    endIndex: 0\n  };\n  let c, p;\n  switch (e) {\n    case \"intersects\":\n      c = (e, t, r) => e.intersects(t, r) ? W.KEEP : W.TEST, p = J;\n      break;\n    case \"contains\":\n      c = (e, t, r) => e.contains(t, r) ? W.TEST : W.DISCARD, p = J;\n      break;\n    default:\n      c = (e, t, r) => e.disjoint(t, r) ? W.TEST : W.DISCARD, p = Q;\n  }\n  return {\n    collection: i,\n    object: s,\n    type: e,\n    maskSR: r,\n    renderSR: n,\n    aabbCache: o,\n    triangle: a,\n    positions: l,\n    triangleTest: c,\n    geometryTest: p\n  };\n}\nfunction H(e, t, r) {\n  const i = {\n      type: \"point\",\n      x: t[0],\n      y: t[1],\n      hasZ: !1,\n      hasM: !1,\n      spatialReference: r\n    },\n    s = !M(r) && !T(r),\n    o = Number.isNaN(t[3]) ? 0 : n(t[3], 0, 2 * k.radius),\n    a = s ? e.buffer(i, o, 1) : e.geodesicBuffer(i, o, 1);\n  return a.type = \"polygon\", a;\n}\nfunction Z(e, t, r, i) {\n  switch (i) {\n    case \"intersects\":\n    case \"contains\":\n      return J(e, t, r);\n    case \"disjoint\":\n      return Q(e, t, r);\n  }\n}\nfunction J(e, t, r) {\n  return e.intersects(t, r) ? e.contains(t, r) ? W.KEEP : W.TEST : W.DISCARD;\n}\nfunction Q(e, t, r) {\n  return e.intersects(t, r) ? e.contains(t, r) ? W.DISCARD : W.TEST : W.KEEP;\n}\nfunction X(e, t, r, i) {\n  const {\n    collection: s,\n    object: n,\n    renderSR: o,\n    maskSR: a,\n    geometryTest: l,\n    aabbCache: c\n  } = i;\n  let p = c.get(r);\n  if (!p) {\n    const e = s.getObjectTransform(n);\n    s.getComponentAabb(n, r, Y);\n    const t = [y(Y[0], Y[1], 0), y(Y[0], Y[4], 0), y(Y[3], Y[4], 0), y(Y[3], Y[1], 0)];\n    for (let r = 0; r < 4; ++r) m(t[r], t[r], e.rotationScale), f(t[r], t[r], e.position), b(t[r], o, t[r], a);\n    p = {\n      type: \"polygon\",\n      rings: [t],\n      spatialReference: a,\n      cache: {}\n    }, p.rings[0][4] = p.rings[0][0], c.set(r, p);\n  }\n  switch (l(e, t, p)) {\n    case W.DISCARD:\n      return !1;\n    case W.KEEP:\n      return !0;\n  }\n  const {\n      triangle: u,\n      triangleTest: g,\n      positions: h\n    } = i,\n    j = u.rings[0][0],\n    S = u.rings[0][1],\n    R = u.rings[0][2],\n    E = s.getObjectTransform(n);\n  s.getComponentPositions(n, r, h);\n  const {\n    indices: w,\n    data: v,\n    stride: F,\n    startIndex: _,\n    endIndex: I\n  } = h;\n  for (let y = _; y < I; y += 3) {\n    const r = F * w[y],\n      i = F * w[y + 1],\n      s = F * w[y + 2];\n    switch (d(j, v[r], v[r + 1], v[r + 2]), d(S, v[i], v[i + 1], v[i + 2]), d(R, v[s], v[s + 1], v[s + 2]), m(j, j, E.rotationScale), m(S, S, E.rotationScale), m(R, R, E.rotationScale), f(j, j, E.position), f(S, S, E.position), f(R, R, E.position), b(j, o, j, a), b(S, o, S, a), b(R, o, R, a), g(e, t, u)) {\n      case W.DISCARD:\n        return !1;\n      case W.KEEP:\n        return !0;\n    }\n  }\n  return \"intersects\" !== i.type;\n}\nconst Y = w();\nexport { P as I3SMeshViewFilter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport r from \"../../../../core/Accessor.js\";\nimport t from \"../../../../core/Error.js\";\nimport { destroyMaybe as s } from \"../../../../core/maybe.js\";\nimport { property as n } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../../../../geometry/Extent.js\";\nimport { fallbackObjectIDAttribute as a } from \"../../../../layers/LayerConstants.js\";\nimport { QueryEngine as u } from \"../../../../layers/graphics/data/QueryEngine.js\";\nimport y from \"../../../../layers/support/FieldsIndex.js\";\nimport c from \"../../../../rest/support/FeatureSet.js\";\nimport l from \"../../../../rest/support/Query.js\";\nconst p = u;\nlet d = class extends r {\n  get spatialReference() {\n    return this.layerView.view.spatialReference;\n  }\n  get layer() {\n    return this.layerView.i3slayer;\n  }\n  get defaultQueryJSON() {\n    return new l({\n      outSpatialReference: this.spatialReference\n    }).toJSON();\n  }\n  get _dataQueryEngine() {\n    return this._ensureDataQueryEngine();\n  }\n  constructor(e) {\n    super(e);\n  }\n  initialize() {\n    this.addHandles(this.layerView.on(\"visible-geometry-changed\", () => this.spatialIndex.events.emit(\"changed\")));\n  }\n  destroy() {\n    this._dataQueryEngineInstance = s(this._dataQueryEngineInstance), this._set(\"layerView\", null);\n  }\n  async executeQueryForCount(e, r) {\n    return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e), r);\n  }\n  async executeQueryForExtent(e, r) {\n    const {\n      count: t,\n      extent: s\n    } = await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e), r);\n    return {\n      count: t,\n      extent: i.fromJSON(s)\n    };\n  }\n  async executeQueryForIds(e, r) {\n    return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e), r);\n  }\n  async executeQuery(e, r) {\n    const s = this._ensureQueryJSON(e);\n    if (s.returnGeometry) throw new t(\"unsupported-query\", \"returnGeometry is not supported when querying a mesh scene layer view, it is only supported when directly querying a scene layer\");\n    if (s.returnCentroid) throw new t(\"unsupported-query\", \"returnCentroid is not yet supported for mesh scene layer queries\");\n    const n = await this._dataQueryEngine.executeQuery(s, r),\n      o = c.fromJSON(n);\n    return o.features.forEach(e => e.geometry = null), o;\n  }\n  _ensureQueryJSON(e) {\n    return null == e ? this.defaultQueryJSON : e.toJSON();\n  }\n  _ensureDataQueryEngine() {\n    if (this._dataQueryEngineInstance) return this._dataQueryEngineInstance;\n    const e = this.layer.objectIdField || a,\n      r = \"esriGeometryPolygon\",\n      t = this.layer.fieldsIndex?.toJSON() || new y([]),\n      s = this.layerView.view.resourceController.scheduler,\n      n = this.spatialReference.toJSON(),\n      o = this.priority,\n      i = this.spatialIndex;\n    return this._dataQueryEngineInstance = new p({\n      hasZ: !0,\n      hasM: !1,\n      geometryType: r,\n      fieldsIndex: t,\n      timeInfo: null,\n      spatialReference: n,\n      objectIdField: e,\n      featureStore: i,\n      scheduler: s,\n      priority: o\n    }), this._dataQueryEngineInstance;\n  }\n};\ne([n({\n  constructOnly: !0\n})], d.prototype, \"layerView\", void 0), e([n({\n  constructOnly: !0\n})], d.prototype, \"priority\", void 0), e([n({\n  constructOnly: !0\n})], d.prototype, \"spatialIndex\", void 0), e([n()], d.prototype, \"spatialReference\", null), e([n()], d.prototype, \"layer\", null), e([n()], d.prototype, \"defaultQueryJSON\", null), d = e([o(\"esri.views.3d.layers.i3s.I3SQueryEngine\")], d);\nexport { d as I3SQueryEngine };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as t } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { getCentroidOptimizedGeometry as e } from \"../../../../layers/graphics/centroid.js\";\nimport r from \"../../../../layers/graphics/OptimizedGeometry.js\";\nimport { getCachedAttributeValue as i } from \"./I3SUtil.js\";\nclass o {\n  constructor(t) {\n    this._objectIdField = t.objectIdField, this._getFeatureExtent = t.getFeatureExtent;\n  }\n  getObjectId(t) {\n    return t.id;\n  }\n  getAttributes(t) {\n    const {\n        meta: e,\n        index: r\n      } = t,\n      o = {};\n    this._objectIdField && (o[this._objectIdField] = t.id);\n    const n = e.attributeInfo?.attributeData;\n    if (null != n) for (const s of Object.keys(n)) o[s] = i(n[s], r);\n    return o;\n  }\n  getAttribute(t, e) {\n    if (e === this._objectIdField) return t.id;\n    const {\n        meta: r,\n        index: o\n      } = t,\n      n = r.attributeInfo?.attributeData;\n    return null != n ? i(n[e], o) : null;\n  }\n  getGeometry(t) {\n    if (t.geometry) return t.geometry;\n    const [e, i, o, s, a] = this._getFeatureExtent(t, n);\n    return new r([5], [e, i, o, s, i, o, s, a, o, e, a, o, e, i, o]);\n  }\n  getCentroid(t, i) {\n    if (t.geometry) return e(new r(), t.geometry, i.hasZ, i.hasM);\n    const [o, s, a, u, d, c] = this._getFeatureExtent(t, n);\n    return new r([0], [(o + u) / 2, (s + d) / 2, (a + c) / 2]);\n  }\n  cloneWithGeometry(t, e) {\n    const {\n      id: r,\n      index: i,\n      meta: o\n    } = t;\n    return {\n      id: r,\n      index: i,\n      meta: o,\n      geometry: e\n    };\n  }\n}\nconst n = t();\nexport { o as I3SQueryFeatureAdapter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport r from \"../../../../core/Accessor.js\";\nimport t from \"../../../../core/Evented.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { projectBoundingSphere as c } from \"../../../../geometry/projection/projectBoundingSphere.js\";\nimport { create as n, toRect as i } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { create as p, intersects as a } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { f as u } from \"../../../../chunks/sphere.js\";\nimport { ForAllFeaturesReturnType as m } from \"../II3SMeshView3D.js\";\nconst f = n();\nlet h = class extends r {\n  constructor(e) {\n    super(e), this.events = new t();\n  }\n  forEach(e) {\n    this.forAllFeatures(r => (e(r), m.CONTINUE));\n  }\n  forEachBounds(e, r) {\n    const t = this.getFeatureExtent;\n    for (const o of e) r(t(o, f));\n  }\n  forEachInBounds(e, r) {\n    this.forAllFeatures(t => {\n      const o = this.getFeatureExtent(t, d);\n      return a(e, i(o, y)) && r(t), m.CONTINUE;\n    }, r => {\n      if (c(r.node.serviceMbsInIndexSR, this.sourceSpatialReference, l, this.viewSpatialReference), l[0] >= e[0] && l[2] <= e[2] && l[1] >= e[1] && l[3] <= e[3]) return m.CONTINUE;\n      const t = Math.max(e[0], Math.min(l[0], e[2])),\n        o = Math.max(e[1], Math.min(l[1], e[3])),\n        s = l[0] - t,\n        n = l[1] - o;\n      return s * s + n * n <= l[3] * l[3] ? m.CONTINUE : m.SKIP;\n    });\n  }\n};\ne([o({\n  constructOnly: !0\n})], h.prototype, \"featureAdapter\", void 0), e([o({\n  constructOnly: !0\n})], h.prototype, \"forAllFeatures\", void 0), e([o({\n  constructOnly: !0\n})], h.prototype, \"getFeatureExtent\", void 0), e([o({\n  constructOnly: !0\n})], h.prototype, \"sourceSpatialReference\", void 0), e([o({\n  constructOnly: !0\n})], h.prototype, \"viewSpatialReference\", void 0), h = e([s(\"esri.views.3d.layers.i3s.I3SQueryFeatureStore\")], h);\nconst l = u(0, 0, 0, 0),\n  d = n(),\n  y = p();\nexport { h as I3SQueryFeatureStore };"],
  "mappings": "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",
  "names": ["e", "t", "r", "i", "s", "W", "n", "a", "o", "l", "$", "u", "K", "y", "d", "Z", "p", "X", "Q", "w", "S", "g", "h", "E", "v", "d", "e", "r", "t", "s", "w", "n", "o", "i", "y", "o", "t", "e", "r", "n", "s", "i", "a", "u", "d", "f", "h", "e", "r", "o", "t", "d", "S", "y", "a", "s", "n", "Z", "u"]
}
