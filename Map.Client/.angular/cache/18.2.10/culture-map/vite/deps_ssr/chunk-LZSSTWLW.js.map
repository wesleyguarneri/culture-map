{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ShaderOutput as e } from \"./ShaderOutput.js\";\nimport { VertexPosition as a } from \"./attributes/VertexPosition.glsl.js\";\nimport { Float2PassUniform as r } from \"../shaderModules/Float2PassUniform.js\";\nimport { glsl as o } from \"../shaderModules/interfaces.js\";\nfunction t(e) {\n  e.varyings.add(\"linearDepth\", \"float\");\n}\nfunction i(e) {\n  e.vertex.uniforms.add(new r(\"nearFar\", (e, a) => a.camera.nearFar));\n}\nfunction d(e) {\n  e.vertex.code.add(o`float calculateLinearDepth(vec2 nearFar,float z) {\nreturn (-z - nearFar[0]) / (nearFar[1] - nearFar[0]);\n}`);\n}\nfunction n(r, n) {\n  const {\n    vertex: s\n  } = r;\n  switch (n.output) {\n    case e.Color:\n      if (n.receiveShadows) return t(r), void s.code.add(o`void forwardLinearDepth() { linearDepth = gl_Position.w; }`);\n      break;\n    case e.Shadow:\n    case e.ShadowHighlight:\n    case e.ShadowExcludeHighlight:\n    case e.ViewshedShadow:\n      return r.include(a, n), t(r), i(r), d(r), void s.code.add(o`void forwardLinearDepth() {\nlinearDepth = calculateLinearDepth(nearFar, vPosition_view.z);\n}`);\n  }\n  s.code.add(o`void forwardLinearDepth() {}`);\n}\nexport { n as ForwardLinearDepth, d as addCalculateLinearDepth, t as addLinearDepth, i as addNearFar };"],
  "mappings": ";;;;;;;;;;;;;;;AAQA,SAAS,EAAEA,IAAG;AACZ,EAAAA,GAAE,SAAS,IAAI,eAAe,OAAO;AACvC;AACA,SAAS,EAAEA,IAAG;AACZ,EAAAA,GAAE,OAAO,SAAS,IAAI,IAAI,EAAE,WAAW,CAACA,IAAG,MAAM,EAAE,OAAO,OAAO,CAAC;AACpE;AACA,SAAS,EAAEA,IAAG;AACZ,EAAAA,GAAE,OAAO,KAAK,IAAI;AAAA;AAAA,EAElB;AACF;AACA,SAAS,EAAE,GAAGC,IAAG;AACf,QAAM;AAAA,IACJ,QAAQ;AAAA,EACV,IAAI;AACJ,UAAQA,GAAE,QAAQ;AAAA,IAChB,KAAKC,GAAE;AACL,UAAID,GAAE,eAAgB,QAAO,EAAE,CAAC,GAAG,KAAK,EAAE,KAAK,IAAI,6DAA6D;AAChH;AAAA,IACF,KAAKC,GAAE;AAAA,IACP,KAAKA,GAAE;AAAA,IACP,KAAKA,GAAE;AAAA,IACP,KAAKA,GAAE;AACL,aAAO,EAAE,QAAQ,GAAGD,EAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,KAAK,EAAE,KAAK,IAAI;AAAA;AAAA,EAE9D;AAAA,EACA;AACA,IAAE,KAAK,IAAI,+BAA+B;AAC5C;",
  "names": ["e", "n", "o"]
}
