{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/core/accessorSupport/diffUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from \"../Accessor.js\";\nimport e from \"../Collection.js\";\nimport { getProperties as n } from \"./utils.js\";\nconst o = new Set([\"esri.Color\", \"esri.portal.Portal\", \"esri.symbols.support.Symbol3DAnchorPosition2D\", \"esri.symbols.support.Symbol3DAnchorPosition3D\"]);\nfunction r(e) {\n  return e instanceof t;\n}\nfunction f(t) {\n  return t instanceof e ? Object.keys(t.items) : r(t) ? n(t).keys() : t ? Object.keys(t) : [];\n}\nfunction i(t, n) {\n  return t instanceof e ? t.items[n] : t[n];\n}\nfunction l(t, e) {\n  return !(!Array.isArray(t) || !Array.isArray(e)) && t.length !== e.length;\n}\nfunction u(t) {\n  return t ? t.declaredClass : null;\n}\nfunction c(t, e) {\n  const n = t.diff;\n  if (n && \"function\" == typeof n) return n(t, e);\n  const s = f(t),\n    p = f(e);\n  if (0 === s.length && 0 === p.length) return;\n  if (!s.length || !p.length || l(t, e)) return {\n    type: \"complete\",\n    oldValue: t,\n    newValue: e\n  };\n  const a = p.filter(t => !s.includes(t)),\n    y = s.filter(t => !p.includes(t)),\n    d = s.filter(n => p.includes(n) && i(t, n) !== i(e, n)).concat(a, y).sort(),\n    m = u(t);\n  if (m && o.has(m) && d.length) return {\n    type: \"complete\",\n    oldValue: t,\n    newValue: e\n  };\n  let h;\n  const b = r(t) && r(e);\n  for (const o of d) {\n    const r = i(t, o),\n      f = i(e, o);\n    let l;\n    if ((b || \"function\" != typeof r && \"function\" != typeof f) && r !== f && (null != r || null != f)) {\n      if (n && n[o] && \"function\" == typeof n[o]) l = n[o]?.(r, f);else if (r instanceof Date && f instanceof Date) {\n        if (r.getTime() === f.getTime()) continue;\n        l = {\n          type: \"complete\",\n          oldValue: r,\n          newValue: f\n        };\n      } else l = \"object\" == typeof r && \"object\" == typeof f && u(r) === u(f) ? c(r, f) : {\n        type: \"complete\",\n        oldValue: r,\n        newValue: f\n      };\n      null != l && (null != h ? h.diff[o] = l : h = {\n        type: \"partial\",\n        diff: {\n          [o]: l\n        }\n      });\n    }\n  }\n  return h;\n}\nfunction s(t, e) {\n  return p(t, e);\n}\nfunction p(t, e) {\n  if (null == t) return !1;\n  const n = e.split(\".\");\n  let o = t;\n  for (const r of n) {\n    if (\"complete\" === o.type) return !0;\n    if (\"partial\" !== o.type) return !1;\n    {\n      const t = o.diff[r];\n      if (!t) return !1;\n      o = t;\n    }\n  }\n  return !0;\n}\nfunction a(t, e) {\n  for (const n of e) if (p(t, n)) return !0;\n  return !1;\n}\nfunction y(t, e) {\n  if (!t) return !1;\n  if (\"partial\" === t.type) {\n    const n = Object.keys(t.diff);\n    return 1 === n.length && n[0] === e;\n  }\n  return !1;\n}\nfunction d(t, e) {\n  if (\"function\" != typeof t && \"function\" != typeof e && (null != t || null != e)) return null == t || null == e || \"object\" == typeof t && \"object\" == typeof e && u(t) !== u(e) ? {\n    type: \"complete\",\n    oldValue: t,\n    newValue: e\n  } : c(t, e);\n}\nfunction m(t) {\n  if (null == t) return !0;\n  switch (t.type) {\n    case \"complete\":\n      return !1;\n    case \"collection\":\n      {\n        const e = t;\n        for (const t of e.added) if (!m(t)) return !1;\n        for (const t of e.removed) if (!m(t)) return !1;\n        for (const t of e.changed) if (!m(t)) return !1;\n        return !0;\n      }\n    case \"partial\":\n      for (const e in t.diff) {\n        if (!m(t.diff[e])) return !1;\n      }\n      return !0;\n  }\n}\nexport { d as diff, p as hasDiff, a as hasDiffAny, s as hasRootDiff, y as hasRootDiffOnly, m as isEmpty };"],
  "mappings": "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",
  "names": ["t", "s", "p", "y", "d", "n", "m", "o", "r", "f", "l", "t"]
}
