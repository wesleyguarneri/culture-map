import { createRequire } from 'module';const require = createRequire(import.meta.url);
import {
  E3 as E,
  I,
  b2,
  c
} from "./chunk-K2N5C427.js";
import "./chunk-6VEI6WC5.js";
import "./chunk-IVVINOEJ.js";
import "./chunk-2U6PTPT5.js";
import "./chunk-VBF36LQH.js";
import "./chunk-QXI57KH6.js";
import "./chunk-DSARYBLQ.js";
import "./chunk-5ZLERKFB.js";
import "./chunk-62NDSO75.js";
import "./chunk-FN552AT6.js";
import "./chunk-OEC3KBO5.js";
import "./chunk-3MEAEIED.js";
import "./chunk-6JVMYNKO.js";
import "./chunk-MAPT6E5F.js";
import "./chunk-RIA56QWL.js";
import "./chunk-C7GHK6X7.js";
import "./chunk-YGUT6MDD.js";
import "./chunk-GNNS7MMB.js";
import "./chunk-KU2YMUPJ.js";
import "./chunk-KSVRNA4R.js";
import "./chunk-4UXMYOWI.js";
import "./chunk-2H3S7IXI.js";
import "./chunk-2B3WLK32.js";
import "./chunk-JARG4EKD.js";
import "./chunk-H65MVS3B.js";
import "./chunk-YT63GLYW.js";
import "./chunk-2CXNO3UO.js";
import "./chunk-EJXWYKCR.js";
import "./chunk-CE7BUKSQ.js";
import "./chunk-NOVQFMBE.js";
import "./chunk-IQ72QELA.js";
import "./chunk-SU5BOQUT.js";
import "./chunk-7MWFHTLS.js";
import "./chunk-SNHVHW2N.js";
import "./chunk-Q47GASPN.js";
import "./chunk-PK6A5N2R.js";
import "./chunk-44O4APOL.js";
import "./chunk-MIIC4I55.js";
import "./chunk-B63XAMYJ.js";
import "./chunk-THUD7LGO.js";
import "./chunk-A45QR3VT.js";
import "./chunk-MYCEJRPQ.js";
import "./chunk-YSJVVDDH.js";
import "./chunk-53Z6KOJR.js";
import "./chunk-DLWZ3HVT.js";
import "./chunk-B76NC7GX.js";
import "./chunk-EFLOBCAZ.js";
import "./chunk-BY3XBMAH.js";
import "./chunk-OO7WNZEW.js";
import "./chunk-LU7PU2CS.js";
import "./chunk-4O23HCRT.js";
import "./chunk-T5C2TZNO.js";
import "./chunk-AOGKNBDG.js";
import "./chunk-F4FQ67JP.js";
import "./chunk-FDI2X6GO.js";
import "./chunk-3XHDZQO5.js";
import "./chunk-2BLQXT54.js";
import "./chunk-JSWVKNBA.js";
import "./chunk-MM5HQGRH.js";
import "./chunk-NOH3NLJ5.js";
import "./chunk-LX5BT6XP.js";
import "./chunk-PLGJMWC5.js";
import "./chunk-UGFQYEND.js";
import "./chunk-XC5RDNAY.js";
import "./chunk-AGBPYPP3.js";
import "./chunk-LOZRWPGI.js";
import "./chunk-WR2NVDOI.js";
import "./chunk-EPLJRYUV.js";
import "./chunk-VYRCS5VR.js";
import "./chunk-OOK3QTWF.js";
import "./chunk-VFYCIIDC.js";
import "./chunk-PQUZDC3L.js";
import "./chunk-UUQ5O7GK.js";
import "./chunk-6XY35LS7.js";
import "./chunk-T42EJVJR.js";
import "./chunk-RR7OQLEK.js";
import "./chunk-L6FG3WIC.js";
import "./chunk-6ZLH7XBS.js";
import "./chunk-44ZUWZXU.js";
import "./chunk-NAG6YX7T.js";
import "./chunk-EKHRAAS6.js";
import "./chunk-IEB4ZCRH.js";
import "./chunk-7QOUHKW5.js";
import "./chunk-NHYYZMJR.js";
import "./chunk-WVSTX2NW.js";
import "./chunk-CSK4VZQ7.js";
import "./chunk-2TNGEJGS.js";
import "./chunk-OYGNGIHQ.js";
import "./chunk-GSG4T2KM.js";
import "./chunk-BZHHBBFX.js";
import "./chunk-GK5M6FUR.js";
import "./chunk-MRP3FBLV.js";
import "./chunk-Y7SJWJAL.js";
import "./chunk-A2FDYA6M.js";
import "./chunk-YGAXDKHF.js";
import "./chunk-4TOSJLKR.js";
import "./chunk-EXPZNTF3.js";
import "./chunk-ORYC4PVJ.js";
import "./chunk-DXIKKLD7.js";
import "./chunk-VQNXE43R.js";
import "./chunk-VZ37C3ID.js";
import "./chunk-5R3HARKC.js";
import "./chunk-BKSTWG4S.js";
import "./chunk-FSG7HOZQ.js";
import "./chunk-Q5TIVVER.js";
import "./chunk-ZPMUEGLK.js";
import "./chunk-GNFDYYU3.js";
import "./chunk-X36BR2QB.js";
import "./chunk-RGG3YJQA.js";
import "./chunk-GBJYL7OX.js";
import "./chunk-GHKVDSKU.js";
import {
  d
} from "./chunk-NVOJILW6.js";
import "./chunk-KYPTWEOO.js";
import "./chunk-WVFB3H4O.js";
import "./chunk-C7BQE556.js";
import "./chunk-ZREJ3Y2F.js";
import "./chunk-IR6CVPPC.js";
import "./chunk-BBUQOCRA.js";
import "./chunk-YBUJLIWZ.js";
import "./chunk-DL2B6IFJ.js";
import "./chunk-VOOO6FU5.js";
import "./chunk-IUPJR3FF.js";
import "./chunk-TGZW6QWO.js";
import "./chunk-OYIDHTXG.js";
import "./chunk-KUBMHTYA.js";
import "./chunk-V33IUWAS.js";
import "./chunk-VSQZQLTQ.js";
import "./chunk-K43CZ3M5.js";
import "./chunk-6EIBUVMG.js";
import "./chunk-NBJSAHZT.js";
import "./chunk-BD24XM4D.js";
import "./chunk-NXXQ35YM.js";
import "./chunk-3BXPVUY5.js";
import "./chunk-LM3JDV4W.js";
import "./chunk-34V2CLL5.js";
import "./chunk-RXENIWFD.js";
import "./chunk-CXNERL22.js";
import "./chunk-7V4JSBFA.js";
import "./chunk-ACSTKBET.js";
import "./chunk-KAHESDP5.js";
import "./chunk-ONRZ4VTT.js";
import "./chunk-REIMIECM.js";
import "./chunk-EO2EW5KR.js";
import "./chunk-JEFPXTYT.js";
import "./chunk-MVS2BECH.js";
import "./chunk-UZ7IOCF3.js";
import "./chunk-OS542PQQ.js";
import "./chunk-3B5GODXR.js";
import "./chunk-NKXXHQDD.js";
import "./chunk-7TBQUMV3.js";
import "./chunk-TPLUZX3A.js";
import "./chunk-BGLJ2FAH.js";
import "./chunk-2EJFYNM7.js";
import "./chunk-DC5LRNPY.js";
import "./chunk-ASCK5HJ5.js";
import "./chunk-5X5U7R6O.js";
import "./chunk-XNLAOXPY.js";
import "./chunk-ZT7V2AVD.js";
import "./chunk-C2OXE4NQ.js";
import "./chunk-KOI252FF.js";
import "./chunk-I2TVVMQ6.js";
import "./chunk-5EGQYY2H.js";
import "./chunk-JKPUNUQA.js";
import "./chunk-SR7PRON4.js";
import "./chunk-HGHPYGKP.js";
import "./chunk-4DSGTDZJ.js";
import "./chunk-VYTPFEL2.js";
import "./chunk-RLGDH6IY.js";
import {
  j
} from "./chunk-MRPCXIVS.js";
import "./chunk-YTKVV2Y3.js";
import "./chunk-GCVQXAS4.js";
import "./chunk-UFQD6AL4.js";
import "./chunk-THZPD5CT.js";
import "./chunk-OBCA6CWH.js";
import "./chunk-2JI245BP.js";
import "./chunk-ZEZ3LI2L.js";
import "./chunk-N34BRXVM.js";
import "./chunk-KETDH2J4.js";
import "./chunk-7QV7DHWN.js";
import "./chunk-4L4Y34YK.js";
import "./chunk-BXONKQKI.js";
import "./chunk-2HDBQXAR.js";
import "./chunk-RNF7VOCU.js";
import "./chunk-TIRJMGGG.js";
import "./chunk-ZDRQSPB6.js";
import "./chunk-DCXDXGAR.js";
import "./chunk-BCCDYCTQ.js";
import "./chunk-AYL3HQHD.js";
import "./chunk-66YQWHHE.js";
import "./chunk-QGBMZIP4.js";
import "./chunk-AOEBZVTA.js";
import "./chunk-2OZSYJDX.js";
import "./chunk-MZM4INJV.js";
import "./chunk-J4GMQHGL.js";
import "./chunk-MHPE4SZA.js";
import "./chunk-6SSA7P3A.js";
import "./chunk-FQBTLEUI.js";
import "./chunk-GS7Y3YOG.js";
import "./chunk-Y2HYKTTT.js";
import "./chunk-XLEC46FY.js";
import "./chunk-4AZPIP7K.js";
import "./chunk-G73HQZEL.js";
import "./chunk-LZSLQ24Q.js";
import "./chunk-U3RHUXYK.js";
import "./chunk-7DBI6LQG.js";
import "./chunk-AUUN7RFQ.js";
import "./chunk-JAMSDYD6.js";
import "./chunk-PH6NPTP7.js";
import "./chunk-NUICEVIH.js";
import "./chunk-NXK752PZ.js";
import "./chunk-UVNLCXWD.js";
import "./chunk-PNUA7JOS.js";
import "./chunk-OR2FKGUM.js";
import "./chunk-UDMPWVPF.js";
import "./chunk-XJNKCEWL.js";
import {
  D,
  b,
  s
} from "./chunk-AIZ3T7E3.js";
import "./chunk-6UEMNP3E.js";
import "./chunk-6WGE3IUL.js";
import "./chunk-MLYB2YW4.js";
import {
  n2 as n
} from "./chunk-6JFGZTLU.js";
import {
  O
} from "./chunk-2ZJE6ZFX.js";
import {
  __async
} from "./chunk-XBPEBUD5.js";

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer/adapters/OrientedImageryViewerViewModelAdapter2D.js
var p = class {
  constructor(p2) {
    this.viewModel = p2, this.createFootprints = (t) => __async(this, null, function* () {
      yield D(t);
      const {
        coveragePolygons: i,
        currentBestFeature: r,
        isAdditionalCoverageVisible: s2
      } = this.viewModel;
      for (const o of i) o?.imageID === r.attributes.objectId ? this.viewModel.bestFeatureFootprint = new d({
        attributes: {
          imageID: o?.imageID
        },
        geometry: o,
        symbol: c,
        visible: false
      }) : this.viewModel.additionalFootprints.push(new d({
        attributes: {
          imageID: o?.imageID
        },
        geometry: o,
        symbol: b2.clone(),
        visible: s2
      }));
    }), this.updateFootprint = (o, n2) => __async(this, null, function* () {
      const {
        activeViewer: m,
        currentBestFeature: p3,
        currentCoverageVisible: g,
        footprintExtent: u
      } = this.viewModel, f = m?.imageSize;
      if (p3 && f && u) try {
        const i = yield E(o, {
          feature: p3,
          imageProperties: {
            width: f[0],
            height: f[1]
          },
          options: n2,
          footprintExtent: u
        });
        s(n2);
        const s2 = i.filter(O);
        if (!s2.length) return;
        const m2 = [s2.map(({
          x: e,
          y: t
        }) => [e, t, 1])];
        m2[0].push(m2[0][0]);
        const d2 = new j({
          rings: m2,
          spatialReference: s2[0].spatialReference
        });
        this.viewModel.updateCurrentCoveragePolygon(new d({
          geometry: d2,
          attributes: {
            imageID: p3.attributes.objectId
          },
          symbol: c,
          visible: g
        }));
      } catch (d2) {
        b(d2) || n.getLogger(this.viewModel).error("update-footprint", d2);
      }
    }), this.updateFootprintPanorama = (t, i) => __async(this, null, function* () {
      const {
        horizontalFieldOfView: o,
        pitch: s2,
        verticalFieldOfView: m,
        yaw: p3
      } = t, {
        activeViewer: g,
        currentBestFeature: u,
        currentCoverageVisible: f,
        footprintExtent: d2
      } = this.viewModel, h = g?.imageSize;
      if (!u || !h || !d2) return;
      const {
        cameraPitch: y,
        objectId: w
      } = u.attributes;
      if (s2 + y - m / 2 > 180) return void this.viewModel.updateCurrentCoveragePolygon(null);
      let v = [];
      if (s2 + y + m / 2 < 180) {
        v = [[-o / 2, m / 2], [o / 2, m / 2], ...s2 - m / 2 < 0 ? [[-o / 2, -m / 2], [o / 2, -m / 2]] : [[o / 2, -m / 2], [-o / 2, -m / 2]]];
      } else if (s2 + y - m / 2 < 180 && s2 + y + m / 2 > 180) {
        v = [[-o / 2, -m / 2]];
        const e = Math.floor(o / 6), t2 = o / e;
        for (let i2 = 0; i2 <= e; i2++) v.push([i2 * t2 - o / 2, 90 - s2]);
        v.push([o / 2, -m / 2]);
      }
      const b3 = v.map(([e, t2]) => I(p3 + e, s2 + t2, h[0], h[1])), j2 = yield E(b3, {
        feature: u,
        imageProperties: {
          width: h[0],
          height: h[1]
        },
        options: i,
        footprintExtent: d2
      });
      s(i);
      const I2 = [j2.map(({
        x: e,
        y: t2
      }) => [e, t2, 1])];
      I2[0].push(I2[0][0]);
      const F = new j({
        rings: I2,
        spatialReference: j2[0].spatialReference
      });
      this.viewModel.updateCurrentCoveragePolygon(new d({
        geometry: F,
        attributes: {
          imageID: w
        },
        symbol: c.clone(),
        visible: f
      }));
    });
  }
};
export {
  p as default
};
//# sourceMappingURL=OrientedImageryViewerViewModelAdapter2D-GPSIX3IM.js.map
