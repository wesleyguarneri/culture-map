import { createRequire } from 'module';const require = createRequire(import.meta.url);
import {
  C as C2,
  u as u2
} from "./chunk-D65ISPAR.js";
import "./chunk-SQLC7OUS.js";
import {
  h
} from "./chunk-643BP7AU.js";
import "./chunk-UGYP7KWT.js";
import "./chunk-HKIMJMAK.js";
import "./chunk-TB56ZLSL.js";
import "./chunk-NVXUR2U4.js";
import "./chunk-2RZQMCBM.js";
import "./chunk-BZIXBYMC.js";
import "./chunk-K2ZPKMR7.js";
import "./chunk-OPYMVWCV.js";
import "./chunk-U56HLK7D.js";
import "./chunk-23QWXKUK.js";
import "./chunk-PDKNFFCG.js";
import "./chunk-3CXCTPDQ.js";
import "./chunk-IRKNVCIL.js";
import "./chunk-BV256A2V.js";
import "./chunk-KJGRJNY4.js";
import "./chunk-AJ474NL3.js";
import "./chunk-X3HF4XA3.js";
import "./chunk-AP543QXG.js";
import "./chunk-6SSO6SUU.js";
import "./chunk-ATL6GPJC.js";
import "./chunk-IPGNBAEV.js";
import "./chunk-N7TLJ6LV.js";
import "./chunk-VTFYXQEG.js";
import "./chunk-INUNNFZT.js";
import "./chunk-NF2MOJH5.js";
import "./chunk-2NPPOPEZ.js";
import "./chunk-JP4VYCP3.js";
import "./chunk-BKOZEXTL.js";
import "./chunk-NLRSH3TD.js";
import "./chunk-3Q4YEFJ3.js";
import "./chunk-K6JW77RY.js";
import "./chunk-377KSYNB.js";
import "./chunk-VYDQSSRF.js";
import "./chunk-AL4PULDK.js";
import "./chunk-PSH57UZT.js";
import "./chunk-GRGU5GK7.js";
import "./chunk-AEOIGAYL.js";
import "./chunk-KRRPY5PU.js";
import "./chunk-YUYMEQ3T.js";
import "./chunk-ZTTGFJJT.js";
import "./chunk-TFCCIKDP.js";
import "./chunk-FT6GF7ST.js";
import "./chunk-TNVMQBUP.js";
import "./chunk-GM77XP2M.js";
import "./chunk-JTDHZ664.js";
import "./chunk-4FKLKPBD.js";
import "./chunk-IQWWKVQ4.js";
import "./chunk-4B3LNBOC.js";
import "./chunk-KAKCJGSZ.js";
import "./chunk-LEBOC3ZD.js";
import "./chunk-FSYMZVRK.js";
import {
  C
} from "./chunk-T4DTOVU4.js";
import "./chunk-4EO5HMDC.js";
import "./chunk-GYNRSS5Q.js";
import "./chunk-TO2KOAJE.js";
import "./chunk-JZISCETB.js";
import "./chunk-DM6DHTKZ.js";
import "./chunk-OEBP4L4N.js";
import "./chunk-L3REUUFH.js";
import "./chunk-JMJZXQF3.js";
import "./chunk-UT2ZOLZR.js";
import "./chunk-VH65OWFZ.js";
import "./chunk-DTMLHZFB.js";
import "./chunk-C22SF7N4.js";
import "./chunk-R7WTJU3N.js";
import {
  l
} from "./chunk-ECUSUVZM.js";
import "./chunk-CQIKG7VH.js";
import {
  r as r2
} from "./chunk-RMSTDKGD.js";
import "./chunk-UZL2AATT.js";
import "./chunk-LWIPFUZ3.js";
import "./chunk-JRL65HQ7.js";
import "./chunk-N7GIZJ5Z.js";
import {
  y as y2
} from "./chunk-CXYUBZAK.js";
import "./chunk-LUORW76W.js";
import "./chunk-OPXEKSUB.js";
import "./chunk-3SFUX3VL.js";
import "./chunk-ZCCDVQ3H.js";
import "./chunk-GJ3FZNZ2.js";
import "./chunk-IIFJBCK7.js";
import "./chunk-PZKTCBLJ.js";
import "./chunk-HRIGBQ5I.js";
import "./chunk-5ZLERKFB.js";
import "./chunk-62NDSO75.js";
import "./chunk-IOTEB5UE.js";
import "./chunk-MOCYVZAJ.js";
import "./chunk-N4FQBAT2.js";
import "./chunk-K7U66W6G.js";
import "./chunk-WQMUOLHB.js";
import "./chunk-LVERV6OU.js";
import "./chunk-3FFTEL3W.js";
import "./chunk-4WON4QDF.js";
import "./chunk-45GTM6LF.js";
import "./chunk-XUZTWNKD.js";
import "./chunk-Q5PBA64J.js";
import "./chunk-TIAWSZQK.js";
import "./chunk-KWHFMZEB.js";
import "./chunk-FBMJVQWQ.js";
import "./chunk-WUTM5T74.js";
import "./chunk-ONVI4SC3.js";
import "./chunk-PEIYDOPW.js";
import "./chunk-JA3N2M36.js";
import "./chunk-TV5XWCY5.js";
import "./chunk-6CEQ5OKG.js";
import "./chunk-ARXBOZID.js";
import "./chunk-HFMWGPCY.js";
import "./chunk-H6YDISWJ.js";
import "./chunk-2IRGMYX2.js";
import "./chunk-EJJ75QBE.js";
import "./chunk-OU2TYICP.js";
import "./chunk-DZAXDRPA.js";
import "./chunk-RV5QLAWU.js";
import "./chunk-T7SGV75D.js";
import "./chunk-HRVAAVBD.js";
import "./chunk-7GRSBOIB.js";
import "./chunk-AA5NMQ6N.js";
import "./chunk-Z4PRO5ND.js";
import "./chunk-MHGADXDL.js";
import "./chunk-VYJ7IUDT.js";
import "./chunk-2ZXVDYHF.js";
import "./chunk-TYNTF5BJ.js";
import "./chunk-22UDIQGJ.js";
import "./chunk-XFLPRRYT.js";
import "./chunk-Z5ZLX3BE.js";
import "./chunk-23Q4INNG.js";
import "./chunk-LZSSTWLW.js";
import "./chunk-ALQIX2AS.js";
import "./chunk-D3VQCVGJ.js";
import "./chunk-PFTDB6ZJ.js";
import "./chunk-6YHZYHJS.js";
import "./chunk-UVHNQY4M.js";
import "./chunk-FCVY35OB.js";
import "./chunk-TSTMST4X.js";
import "./chunk-I47GCEJP.js";
import "./chunk-LA4GCRJY.js";
import "./chunk-ZTMARHUQ.js";
import "./chunk-P5MJSFMN.js";
import "./chunk-HMPRRFR4.js";
import "./chunk-UE7ZYRIH.js";
import "./chunk-W24M6HII.js";
import "./chunk-FWGI52X4.js";
import "./chunk-E5RXQH35.js";
import "./chunk-62ZEBDPC.js";
import "./chunk-ZFMS3XGM.js";
import "./chunk-QWQJOAVR.js";
import "./chunk-YLQMUXQA.js";
import "./chunk-4U7LUZFD.js";
import "./chunk-T257OY4U.js";
import "./chunk-BMO2W6EC.js";
import "./chunk-QA265FYQ.js";
import "./chunk-HUOFTIIK.js";
import "./chunk-5JRJJYA6.js";
import "./chunk-4J7E4E75.js";
import "./chunk-4XL4QIZH.js";
import "./chunk-6NVF5BZF.js";
import "./chunk-ZDFN6OZC.js";
import "./chunk-DUV7OLAZ.js";
import "./chunk-KSOKDIBG.js";
import "./chunk-3NWWTJOW.js";
import "./chunk-TRF6JO5N.js";
import "./chunk-ZHVMMFTW.js";
import "./chunk-4UXMYOWI.js";
import "./chunk-2B3WLK32.js";
import "./chunk-AD33ZJKF.js";
import "./chunk-A2RMQRQR.js";
import "./chunk-FEREHKJY.js";
import "./chunk-EPIUUGS2.js";
import "./chunk-2CXNO3UO.js";
import "./chunk-EJXWYKCR.js";
import "./chunk-CE7BUKSQ.js";
import "./chunk-NOVQFMBE.js";
import "./chunk-TMXHZTIG.js";
import "./chunk-FIQ7DCCC.js";
import "./chunk-SNHVHW2N.js";
import "./chunk-MLTNYBJG.js";
import "./chunk-HVJMAP6C.js";
import {
  o as o2
} from "./chunk-JECKI4WE.js";
import "./chunk-6C3NPNB6.js";
import "./chunk-FWYSNIVU.js";
import "./chunk-MDEPINSI.js";
import "./chunk-Q2RVB4BK.js";
import "./chunk-SKOGSS6Z.js";
import "./chunk-G3WMCIUE.js";
import "./chunk-WS7U2AGS.js";
import "./chunk-U4NXHH3L.js";
import "./chunk-2LHHRVKS.js";
import "./chunk-QATJRB5Q.js";
import "./chunk-7Z4UWMRU.js";
import "./chunk-IQEF4U4C.js";
import "./chunk-KB6CBN72.js";
import "./chunk-BCMXVFG5.js";
import "./chunk-FB2GCV4L.js";
import "./chunk-NOBDTR4N.js";
import "./chunk-5RF6XDV4.js";
import "./chunk-Q47GASPN.js";
import {
  r
} from "./chunk-VUWWHENY.js";
import "./chunk-YEB36ZCF.js";
import "./chunk-BFSKQ7XP.js";
import "./chunk-WHVSAUHM.js";
import "./chunk-LQUVB46M.js";
import "./chunk-GHPF24X4.js";
import "./chunk-PK6A5N2R.js";
import "./chunk-UC4DX4SE.js";
import "./chunk-44O4APOL.js";
import "./chunk-LCPLUSDH.js";
import "./chunk-KINQ7OJ3.js";
import "./chunk-KYLW5XXS.js";
import "./chunk-B63XAMYJ.js";
import "./chunk-THUD7LGO.js";
import "./chunk-A45QR3VT.js";
import "./chunk-MYCEJRPQ.js";
import "./chunk-YSJVVDDH.js";
import "./chunk-53Z6KOJR.js";
import "./chunk-DLWZ3HVT.js";
import "./chunk-B76NC7GX.js";
import "./chunk-HFXXFWYN.js";
import "./chunk-BY3XBMAH.js";
import "./chunk-OO7WNZEW.js";
import "./chunk-LU7PU2CS.js";
import "./chunk-4O23HCRT.js";
import "./chunk-BYXMUOMW.js";
import "./chunk-YEWOBDQB.js";
import "./chunk-FWEBARAB.js";
import "./chunk-RHUWRAPT.js";
import "./chunk-VY63YX6I.js";
import "./chunk-EXKCGLRO.js";
import "./chunk-WRLGLGM6.js";
import "./chunk-47DYJR3W.js";
import "./chunk-NE35ZNG6.js";
import "./chunk-ZLSZAC2I.js";
import "./chunk-QRWQ6QBB.js";
import "./chunk-TFW6WS6R.js";
import "./chunk-X5QZGB37.js";
import "./chunk-T5C2TZNO.js";
import "./chunk-AOGKNBDG.js";
import "./chunk-F4FQ67JP.js";
import "./chunk-FDI2X6GO.js";
import "./chunk-3XHDZQO5.js";
import "./chunk-2BLQXT54.js";
import "./chunk-JSWVKNBA.js";
import "./chunk-LL33G4DK.js";
import "./chunk-CILHMGNK.js";
import "./chunk-UZFXFPGS.js";
import "./chunk-BK3AMA5C.js";
import "./chunk-2BOKEEZV.js";
import "./chunk-VENH3UKS.js";
import "./chunk-ZSJNH2BT.js";
import "./chunk-2W7YKBRA.js";
import "./chunk-KXVPQVTB.js";
import "./chunk-ARN5GJBK.js";
import "./chunk-MPLS4PY6.js";
import "./chunk-AGBPYPP3.js";
import "./chunk-GZ64OOAB.js";
import "./chunk-WR2NVDOI.js";
import "./chunk-EPLJRYUV.js";
import "./chunk-VYRCS5VR.js";
import "./chunk-VFYCIIDC.js";
import "./chunk-6XY35LS7.js";
import "./chunk-JTDKNK44.js";
import "./chunk-RR7OQLEK.js";
import "./chunk-5PXOWPHT.js";
import "./chunk-OGKROLZ3.js";
import "./chunk-BHG37GSO.js";
import "./chunk-QI5HKZYN.js";
import "./chunk-RIZOHDTP.js";
import "./chunk-ZFES27RA.js";
import "./chunk-XP2AJZUL.js";
import "./chunk-CZA7RDJP.js";
import "./chunk-FYE6XHDR.js";
import "./chunk-NCMX3DAD.js";
import "./chunk-BCNABTAE.js";
import "./chunk-3PPEJ4QJ.js";
import "./chunk-ZEOLGKXL.js";
import "./chunk-HITI6WDM.js";
import "./chunk-IS4RJOPJ.js";
import "./chunk-XK3CKE5Q.js";
import "./chunk-AMH7CZMY.js";
import "./chunk-EAVSYZXD.js";
import "./chunk-7GHUVMBI.js";
import "./chunk-Q5JLNMWZ.js";
import "./chunk-AABDXAD3.js";
import "./chunk-LGS63R4F.js";
import "./chunk-L6FG3WIC.js";
import "./chunk-6ZLH7XBS.js";
import "./chunk-44ZUWZXU.js";
import "./chunk-NAG6YX7T.js";
import "./chunk-EKHRAAS6.js";
import "./chunk-IEB4ZCRH.js";
import "./chunk-U4EMQMDC.js";
import "./chunk-WVSTX2NW.js";
import "./chunk-AVCKPV77.js";
import "./chunk-MNBTLVRM.js";
import "./chunk-GNCXYHNE.js";
import "./chunk-CSK4VZQ7.js";
import "./chunk-2TNGEJGS.js";
import "./chunk-OYGNGIHQ.js";
import "./chunk-GSG4T2KM.js";
import "./chunk-D7C26LZP.js";
import "./chunk-BZHHBBFX.js";
import "./chunk-GK5M6FUR.js";
import "./chunk-MRP3FBLV.js";
import "./chunk-Y7SJWJAL.js";
import "./chunk-A2FDYA6M.js";
import "./chunk-YGAXDKHF.js";
import "./chunk-4TOSJLKR.js";
import "./chunk-EXPZNTF3.js";
import {
  b
} from "./chunk-ORYC4PVJ.js";
import "./chunk-DXIKKLD7.js";
import "./chunk-VQNXE43R.js";
import "./chunk-VZ37C3ID.js";
import "./chunk-5R3HARKC.js";
import "./chunk-BKSTWG4S.js";
import "./chunk-FSG7HOZQ.js";
import "./chunk-Q5TIVVER.js";
import "./chunk-ZPMUEGLK.js";
import "./chunk-GNFDYYU3.js";
import "./chunk-X36BR2QB.js";
import "./chunk-RGG3YJQA.js";
import "./chunk-GBJYL7OX.js";
import "./chunk-GHKVDSKU.js";
import {
  d as d2
} from "./chunk-NVOJILW6.js";
import "./chunk-KYPTWEOO.js";
import "./chunk-WVFB3H4O.js";
import "./chunk-C7BQE556.js";
import "./chunk-ZREJ3Y2F.js";
import "./chunk-IR6CVPPC.js";
import "./chunk-BBUQOCRA.js";
import "./chunk-YBUJLIWZ.js";
import "./chunk-DL2B6IFJ.js";
import "./chunk-VOOO6FU5.js";
import "./chunk-IUPJR3FF.js";
import "./chunk-TGZW6QWO.js";
import "./chunk-OYIDHTXG.js";
import "./chunk-KUBMHTYA.js";
import "./chunk-NU4K6CTR.js";
import "./chunk-42ZAWY2C.js";
import "./chunk-TVHVZK5G.js";
import "./chunk-P2MUOE6G.js";
import "./chunk-CRYYUS4E.js";
import "./chunk-V33IUWAS.js";
import "./chunk-E5NWFBZG.js";
import "./chunk-FP37456K.js";
import "./chunk-VSQZQLTQ.js";
import "./chunk-K43CZ3M5.js";
import "./chunk-6EIBUVMG.js";
import "./chunk-UAETKRWQ.js";
import "./chunk-YCXNHEGB.js";
import "./chunk-CSATD3VX.js";
import "./chunk-NXXQ35YM.js";
import "./chunk-LM3JDV4W.js";
import "./chunk-34V2CLL5.js";
import "./chunk-CXNERL22.js";
import "./chunk-7V4JSBFA.js";
import "./chunk-KAHESDP5.js";
import "./chunk-ONRZ4VTT.js";
import "./chunk-JEFPXTYT.js";
import "./chunk-MVS2BECH.js";
import "./chunk-TPLUZX3A.js";
import "./chunk-2EJFYNM7.js";
import "./chunk-DC5LRNPY.js";
import "./chunk-ASCK5HJ5.js";
import "./chunk-5X5U7R6O.js";
import "./chunk-XNLAOXPY.js";
import "./chunk-ZT7V2AVD.js";
import "./chunk-C2OXE4NQ.js";
import "./chunk-KOI252FF.js";
import "./chunk-I2TVVMQ6.js";
import "./chunk-5EGQYY2H.js";
import "./chunk-JKPUNUQA.js";
import "./chunk-SR7PRON4.js";
import {
  o
} from "./chunk-HGHPYGKP.js";
import "./chunk-4DSGTDZJ.js";
import "./chunk-VYTPFEL2.js";
import "./chunk-RLGDH6IY.js";
import "./chunk-MRPCXIVS.js";
import "./chunk-YTKVV2Y3.js";
import "./chunk-GCVQXAS4.js";
import "./chunk-UFQD6AL4.js";
import "./chunk-THZPD5CT.js";
import "./chunk-OBCA6CWH.js";
import "./chunk-2JI245BP.js";
import "./chunk-CBOFHWPI.js";
import "./chunk-ABIG6PT5.js";
import "./chunk-ZEZ3LI2L.js";
import "./chunk-N34BRXVM.js";
import "./chunk-KETDH2J4.js";
import "./chunk-7QV7DHWN.js";
import "./chunk-4L4Y34YK.js";
import "./chunk-BXONKQKI.js";
import {
  n
} from "./chunk-2HDBQXAR.js";
import "./chunk-RNF7VOCU.js";
import "./chunk-TIRJMGGG.js";
import "./chunk-ZDRQSPB6.js";
import "./chunk-DCXDXGAR.js";
import "./chunk-BCCDYCTQ.js";
import "./chunk-AYL3HQHD.js";
import "./chunk-66YQWHHE.js";
import "./chunk-QGBMZIP4.js";
import "./chunk-AOEBZVTA.js";
import "./chunk-2OZSYJDX.js";
import "./chunk-MZM4INJV.js";
import "./chunk-J4GMQHGL.js";
import "./chunk-MHPE4SZA.js";
import "./chunk-6SSA7P3A.js";
import "./chunk-FQBTLEUI.js";
import "./chunk-GS7Y3YOG.js";
import "./chunk-Y2HYKTTT.js";
import "./chunk-XLEC46FY.js";
import "./chunk-4AZPIP7K.js";
import "./chunk-G73HQZEL.js";
import {
  d
} from "./chunk-LZSLQ24Q.js";
import "./chunk-U3RHUXYK.js";
import "./chunk-7DBI6LQG.js";
import "./chunk-AUUN7RFQ.js";
import "./chunk-JAMSDYD6.js";
import "./chunk-PH6NPTP7.js";
import {
  e
} from "./chunk-NUICEVIH.js";
import {
  S
} from "./chunk-NXK752PZ.js";
import {
  y
} from "./chunk-UVNLCXWD.js";
import "./chunk-PNUA7JOS.js";
import "./chunk-OR2FKGUM.js";
import {
  a3 as a
} from "./chunk-UDMPWVPF.js";
import "./chunk-XJNKCEWL.js";
import "./chunk-AIZ3T7E3.js";
import "./chunk-6UEMNP3E.js";
import {
  u
} from "./chunk-6WGE3IUL.js";
import "./chunk-MLYB2YW4.js";
import {
  s2 as s
} from "./chunk-6JFGZTLU.js";
import "./chunk-2ZJE6ZFX.js";
import "./chunk-XBPEBUD5.js";

// ../../../node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js
var p = 2500;
var u3 = class extends d2 {
  constructor(e2) {
    super(e2);
  }
  getObjectId() {
    return this.objectId;
  }
};
e([y({
  type: Number,
  json: {
    read: true
  }
})], u3.prototype, "objectId", void 0), u3 = e([a("esri.layers.graphics.controllers.StreamController.StreamGraphic")], u3);
var m = class {
  constructor(e2) {
    this.onUpdate = e2, this._idToGraphic = /* @__PURE__ */ new Map();
  }
  destroy() {
    this._idToGraphic.clear();
  }
  add(e2) {
    this._idToGraphic.set(e2.objectId, e2);
  }
  get(e2) {
    return this._idToGraphic.get(e2);
  }
  forEach(e2) {
    this._idToGraphic.forEach(e2);
  }
  removeById(e2) {
    const t = this._idToGraphic.get(e2);
    return t ? (t.sourceLayer = t.layer = null, this._idToGraphic.delete(e2), t) : null;
  }
  update(e2, t) {
    this.onUpdate(e2, t);
  }
  get size() {
    return this._idToGraphic.size;
  }
};
var y3 = class extends n(S) {
  constructor() {
    super(...arguments), this.isPaused = false, this.graphics = new h(), this._updateInfo = {
      websocket: 0,
      client: 0
    }, this._updateIntervalId = null, this._outSpatialReference = null;
  }
  initialize() {
    this.addResolvingPromise(this.layer.when(() => this._startup()));
  }
  destroy() {
    this.clear();
  }
  _clearInterval() {
    null !== this._updateIntervalId && (clearInterval(this._updateIntervalId), this._updateIntervalId = null);
  }
  clear() {
    this._shutdown(), this.graphics.clear();
  }
  get updating() {
    return !this.connection || "connected" === this.connection.connectionStatus;
  }
  _shutdown() {
    this._clearInterval(), this.connection = u(this.connection), this.store = u(this.store), this.removeAllHandles();
  }
  _startup() {
    const {
      layer: e2,
      layerView: t
    } = this, {
      spatialReference: s2,
      definitionExpression: r3,
      geometryDefinition: o3,
      objectIdField: a2,
      timeInfo: n2,
      purgeOptions: d4,
      maxReconnectionAttempts: p2,
      maxReconnectionInterval: u5,
      customParameters: y4
    } = e2, f = e2.geometryType ? o.toJSON(e2.geometryType) : null, g = s2, _ = t.view.spatialReference;
    this.clear(), this._set("connection", r(e2.parsedUrl, g, _, f, r3, o3, p2, u5, y4 ?? void 0)), this._outSpatialReference = _.toJSON(), this.store = new m(this._onUpdate.bind(this)), this.featuresManager = new o2(this.store, a2, n2.toJSON(), d4);
    const I = "startup-watches";
    this.removeHandles(I), this.addHandles([e2.on("send-message-to-socket", (e3) => this.connection.sendMessageToSocket(e3)), e2.on("send-message-to-client", (e3) => this.connection.sendMessageToClient(e3)), this.connection.on("data-received", (e3) => this._onFeature(e3)), this.connection.on("message-received", (e3) => this._onWebSocketMessage(e3)), d(() => [e2.definitionExpression, e2.geometryDefinition, e2.purgeOptions], () => this._startup())], I), this.isPaused || this._initUpdateInterval();
  }
  _onWebSocketMessage(e2) {
    if (this.layerView.emit("message-received", e2), "type" in e2) switch (e2.type) {
      case "delete":
        if (e2.objectIds) for (const t of e2.objectIds) this.featuresManager.removeById(t);
        if (e2.trackIds) for (const t of e2.trackIds) this.featuresManager.removeByTrackId(t);
        break;
      case "clear":
        this.store.forEach((e3) => this.featuresManager.removeById(e3.objectId));
    }
  }
  _onFeature(e2) {
    this._updateInfo.websocket++, this.layerView.hasEventListener("data-received") && this.layerView.emit("data-received", {
      attributes: e2.attributes,
      centroid: e2.centroid,
      geometry: e2.geometry
    });
    try {
      null == e2.geometry || e2.geometry.spatialReference || (e2.geometry.spatialReference = this._outSpatialReference);
      const t = u3.fromJSON(e2);
      t.sourceLayer = t.layer = this.layer, this.featuresManager.add(t);
    } catch {
    }
  }
  _onUpdate(e2, t) {
    null != t && this.graphics.removeMany(t), null != e2 && (this._updateInfo.client += e2.length, this.graphics.addMany(e2));
  }
  _initUpdateInterval() {
    this._clearInterval();
    const {
      updateInterval: e2
    } = this.layer;
    let t = performance.now();
    this._updateIntervalId = setInterval(() => {
      const e3 = performance.now(), s2 = e3 - t;
      if (s2 > p) {
        t = e3;
        const r3 = Math.round(this._updateInfo.client / (s2 / 1e3)), o3 = Math.round(this._updateInfo.websocket / (s2 / 1e3));
        this._updateInfo.client = 0, this._updateInfo.websocket = 0, this.layerView.emit("update-rate", {
          client: r3,
          websocket: o3
        });
      }
      this.featuresManager.checkForUpdates();
    }, e2);
  }
  pauseStream() {
    this.isPaused = true, this._clearInterval();
  }
  resumeStream() {
    this.isPaused = false, this._initUpdateInterval();
  }
  disconnect() {
    this._shutdown();
  }
  connect() {
    null == this.connection && this._startup();
  }
  clearGraphics() {
    this.graphics.clear();
  }
};
e([y()], y3.prototype, "isPaused", void 0), e([y({
  constructOnly: true
})], y3.prototype, "layer", void 0), e([y({
  constructOnly: true
})], y3.prototype, "layerView", void 0), e([y()], y3.prototype, "connection", void 0), e([y({
  readOnly: true
})], y3.prototype, "updating", null), y3 = e([a("esri.layers.graphics.controllers.StreamController")], y3);

// ../../../node_modules/@arcgis/core/views/3d/layers/graphics/StreamGraphics3DGraphicsPipeline.js
var c = class extends C2 {
  constructor(r3) {
    super(r3), this.suspendResumeExtentMode = "computed";
  }
  get connection() {
    return this.controller?.connection;
  }
  createController() {
    return new y3({
      layer: this.layer,
      layerView: this.layerView
    });
  }
  beforeSetController() {
  }
  pause() {
    this.controller?.pauseStream();
  }
  resume() {
    this.controller?.resumeStream();
  }
  disconnect() {
    this.controller?.disconnect();
  }
  connect() {
    this.controller?.connect();
  }
  clear() {
    this.controller?.clearGraphics();
  }
};
e([y()], c.prototype, "controller", void 0), e([y()], c.prototype, "connection", null), e([y()], c.prototype, "suspendResumeExtentMode", void 0), c = e([a("esri.views.3d.layers.graphics.StreamGraphics3DGraphicsPipeline")], c);

// ../../../node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js
var u4 = class extends r2(u2(l(y2))) {
  constructor() {
    super(...arguments), this.type = "stream-3d", this.updatePolicy = C.ASYNC, this.hasZ = true, this.hasM = false;
  }
  initialize() {
    this.addHandles(d(() => this.suspended, (e2) => {
      this.graphicsPipeline && this._onSuspendedChange(e2);
    }));
  }
  get connectionError() {
    const e2 = this.graphicsPipeline?.connection?.errorString;
    return e2 ? new s("stream-controller", e2) : null;
  }
  createQuery() {
    return new b({
      outFields: ["*"],
      returnGeometry: true,
      outSpatialReference: this.view.spatialReference
    });
  }
  queryLatestObservations(e2, r3) {
    return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(e2), r3?.signal);
  }
  get _streamConnectionStatus() {
    return this.graphicsPipeline?.connection?.connectionStatus ?? "disconnected";
  }
  createGraphicsPipeline() {
    return new c({
      layerView: this
    });
  }
  createController() {
    return new y3({
      layer: this.layer,
      layerView: this
    });
  }
  beforeSetController() {
  }
  _doPause() {
    this.graphicsPipeline?.pause();
  }
  _doResume() {
    this.graphicsPipeline?.resume();
  }
  _doDisconnect() {
    this.graphicsPipeline?.disconnect(), this._doPause();
  }
  _doConnect() {
    this.graphicsPipeline?.connect(), this.resume();
  }
  _doClear() {
    this.graphicsPipeline?.clear();
  }
};
e([y({
  readOnly: true
})], u4.prototype, "updatePolicy", void 0), e([y({
  readOnly: true
})], u4.prototype, "connectionError", null), e([y()], u4.prototype, "graphicsPipeline", void 0), e([y({
  readOnly: true
})], u4.prototype, "hasZ", void 0), e([y({
  readOnly: true
})], u4.prototype, "hasM", void 0), e([y({
  readOnly: true
})], u4.prototype, "_streamConnectionStatus", null), u4 = e([a("esri.views.3d.layers.StreamLayerView3D")], u4);
var d3 = u4;
export {
  d3 as default
};
//# sourceMappingURL=StreamLayerView3D-YJTCHAE7.js.map
