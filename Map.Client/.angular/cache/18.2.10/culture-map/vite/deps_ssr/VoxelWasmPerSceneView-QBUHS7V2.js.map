{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/libs/vxl/enums.js", "../../../../../../node_modules/@arcgis/core/libs/vxl/VxlModule.js", "../../../../../../node_modules/@arcgis/core/layers/VoxelWasmPerSceneView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar e, i, t, n, a, o;\n!function (e) {\n  e[e.Binary = 0] = \"Binary\", e[e.JSON = 1] = \"JSON\";\n}(e || (e = {})), function (e) {\n  e[e.TreeIndex = 0] = \"TreeIndex\", e[e.TreeStats = 1] = \"TreeStats\", e[e.TreeData = 2] = \"TreeData\", e[e.BrickBundles = 3] = \"BrickBundles\", e[e.Section = 4] = \"Section\", e[e.VariableStats = 5] = \"VariableStats\";\n}(i || (i = {})), function (e) {\n  e[e.None = 1] = \"None\", e[e.Front = 2] = \"Front\", e[e.Back = 3] = \"Back\";\n}(t || (t = {})), function (e) {\n  e[e.Low = 0] = \"Low\", e[e.Medium = 1] = \"Medium\", e[e.High = 2] = \"High\";\n}(n || (n = {})), function (e) {\n  e[e.None = 0] = \"None\", e[e.StaticSections = 1] = \"StaticSections\", e[e.Slices = 2] = \"Slices\", e[e.DynamicSections = 4] = \"DynamicSections\", e[e.GhostShell = 8] = \"GhostShell\", e[e.Isosurface = 16] = \"Isosurface\", e[e.Quality = 32] = \"Quality\", e[e.SunLocation = 64] = \"SunLocation\", e[e.StaticSectionSelection = 128] = \"StaticSectionSelection\", e[e.ExaggerationAndOffset = 256] = \"ExaggerationAndOffset\", e[e.CurrentTime = 512] = \"CurrentTime\", e[e.CurrentVariable = 1024] = \"CurrentVariable\", e[e.DeleteIsosurface = 2048] = \"DeleteIsosurface\", e[e.ContainerVisibility = 4096] = \"ContainerVisibility\", e[e.RenderMode = 8192] = \"RenderMode\", e[e.Optimization = 16384] = \"Optimization\", e[e.VariableStyles = 32768] = \"VariableStyles\", e[e.VolumeStyles = 65536] = \"VolumeStyles\", e[e.AnalysisSlice = 131072] = \"AnalysisSlice\";\n}(a || (a = {})), function (e) {\n  e[e.Isosurfaces = 0] = \"Isosurfaces\", e[e.DynamicSections = 1] = \"DynamicSections\", e[e.StaticSections = 2] = \"StaticSections\";\n}(o || (o = {}));\nexport { o as ContainerType, a as UpdateFlags, i as VoxelRequestType, t as WasmCullMode, n as WasmRenderingQuality, e as WasmResponseType };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { getAssetUrl as t } from \"../../assets.js\";\nfunction e(t) {\n  return new Promise(e => import(\"../../chunks/vxlLayer.js\").then(t => t.v).then(({\n    default: n\n  }) => {\n    const r = n({\n      locateFile: i,\n      preinitializedWebGLContext: t,\n      onRuntimeInitialized: () => e(r)\n    });\n  })).catch(t => {\n    throw t;\n  });\n}\nfunction i(e) {\n  return t(`esri/libs/vxl/${e}`);\n}\nexport { e as loadVoxelWASM };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../Graphic.js\";\nimport s from \"../request.js\";\nimport has from \"../core/has.js\";\nimport r from \"../core/Logger.js\";\nimport { isAbortError as i } from \"../core/promiseUtils.js\";\nimport { watch as a, initial as n } from \"../core/reactiveUtils.js\";\nimport { convertTime as o } from \"../core/timeUtils.js\";\nimport { property as l } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as h } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { p as d } from \"../chunks/vec32.js\";\nimport { create as u } from \"../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { renderSRFromViewSR as _ } from \"../geometry/support/coordinateSystem.js\";\nimport { PointIndex as c, PlaneIndex as m } from \"../geometry/support/frustum.js\";\nimport { WasmCullMode as g, VoxelRequestType as f, UpdateFlags as p, ContainerType as x } from \"../libs/vxl/enums.js\";\nimport { loadVoxelWASM as y } from \"../libs/vxl/VxlModule.js\";\nimport { ViewingMode as v } from \"../views/ViewingMode.js\";\nimport { VoxelTarget as b } from \"../views/3d/layers/i3s/Intersector.js\";\nimport { Frustum as w } from \"../views/3d/state/Frustum.js\";\nimport { RenderCoordsHelper as T } from \"../views/3d/support/RenderCoordsHelper.js\";\nimport { SyncRenderPlugin as R } from \"../views/3d/webgl-engine/effects/RenderPlugin.js\";\nimport { newIntersectorResult as L } from \"../views/3d/webgl-engine/lib/Intersector.js\";\nimport { IntersectorType as V, StoreResults as E } from \"../views/3d/webgl-engine/lib/IntersectorInterfaces.js\";\nimport { RenderFeature as C } from \"../views/3d/webgl-engine/lib/RenderFeature.js\";\nimport { RenderSlot as F } from \"../views/3d/webgl-engine/lib/RenderSlot.js\";\nimport { CompareFunction as S, Face as P, StencilOperation as I } from \"../views/webgl/enums.js\";\nvar U;\n!function (e) {\n  e[e.Lifetime = 1] = \"Lifetime\", e[e.RequestResponse = 2] = \"RequestResponse\", e[e.Rendering = 3] = \"Rendering\", e[e.Error = 4] = \"Error\";\n}(U || (U = {}));\nlet k = class extends R {\n  constructor(e) {\n    super(e), this._halfIntTexturesAvailable = !1, this._textureFloatLinearAvailable = !1, this._havePreparedWithAllLayers = !1, this._renderPluginContext = null, this._vxlPromise = null, this._vxl = null, this._pluginIsActive = !1, this._moreToLoad = !1, this._viewportWidth = -1, this._viewportHeight = -1, this._newLayers = [], this._layers = new Map(), this._rctx = null, this._renderTargetToRestore = null, this._lastFrameWasStationary = !1, this._wasmMemBlockSizes = [512, 1024, 2048, 4096, 8192, 16384, 32768, 65536], this._wasmMemBlocks = new Map(), this._dbgFlags = new Set(), this._captureFrustum = !1, this._frustum = null, this._frustumRenderableId = -1, this._renderCoordsHelper = null, this.produces = new Map([[F.VOXEL, () => !!this._vxl && \"local\" === this.view.viewingMode]]), this.type = V.VOXEL, this.slicePlaneEnabled = !0, this.isGround = !1, this.layerUid = [];\n  }\n  _dbg(e, t) {\n    this._dbgFlags.has(e) && (e === U.Error ? r.getLogger(this).error(t) : r.getLogger(this).warn(t));\n  }\n  _removeRenderPlugin() {\n    this._pluginIsActive && this.view._stage && (this._dbg(U.Lifetime, \"--removeRenderPlugin--\"), this.view._stage.removeRenderPlugin(this)), this._pluginIsActive = !1;\n  }\n  initialize() {\n    this._dbg(U.Lifetime, \"--initialize--\");\n    for (const e of this._wasmMemBlockSizes) this._wasmMemBlocks.set(e, 0);\n    this.addHandles([a(() => this.view.ready, e => {\n      e && \"local\" === this.view.viewingMode ? (this._dbg(U.Lifetime, \"view ready status changed to ready on a local view, calling addRenderPlugin\"), this.view._stage.addRenderPlugin(this), this._pluginIsActive = !0) : (this._dbg(U.Lifetime, \"view ready status changed, not ready or not a local view!\"), this._removeRenderPlugin());\n    }, n), a(() => this.view?.qualityProfile, e => {\n      this._dbg(U.Rendering, \"qualityProfile changed to \" + e), this._vxl && this._vxl.set_quality(this._toWasmQuality(e));\n    }, n), a(() => this.view?.timeExtent, () => {\n      if (this._vxl) {\n        const e = this._getTimeArgs(this.view?.timeExtent);\n        this._dbg(U.Rendering, \"sceneView timeExtent changed to useTime=\" + e.hasTime + \" st=\" + e.startTime + \" et=\" + e.endTime), this._vxl.set_scene_time_extent(e.startTime, e.endTime, e.hasTime), this._renderPluginContext.requestRender();\n      }\n    }, n), a(() => this.view?.stationary, e => {\n      this._vxl && e && !this._lastFrameWasStationary && this._renderPluginContext.requestRender();\n    })]);\n  }\n  initializeRenderContext(e) {\n    this._dbg(U.Lifetime, \"--initializeRenderContext--\");\n    const t = e.renderContext.rctx;\n    this._renderPluginContext = e, this._rctx = e.renderContext.rctx, this._halfIntTexturesAvailable = !!this._rctx.capabilities.textureNorm16, this._textureFloatLinearAvailable = this._rctx.capabilities.textureFloatLinear, this._initializeWasm(t.gl);\n  }\n  uninitializeRenderContext() {\n    this._renderPluginContext = null, this._rctx = null, this._dbg(U.Lifetime, \"--uninitializeRenderContext--\");\n  }\n  _restoreFramebuffer() {\n    if (!this._renderTargetToRestore) return;\n    const e = this._renderTargetToRestore.fbo;\n    if (!!!this._rctx) return void this._dbg(U.Error, \"no context in restoreFramebuffer!\");\n    this._rctx.bindFramebuffer(e, !0);\n    const t = this._renderTargetToRestore.viewport;\n    this._rctx.setViewport(t.x, t.y, t.width, t.height);\n  }\n  _bindPreviousDepthToSlot(e, t) {\n    const s = !!this._rctx,\n      r = !!this._renderTargetToRestore;\n    if (!s || !r) return 0;\n    const i = this._renderTargetToRestore.fbo.depthStencilTexture;\n    return i ? (0 === t ? this._rctx.bindTexture(null, e, !0) : this._rctx.bindTexture(i, e, !0), 1) : (this._dbg(U.Error, \"no depth/stencil texture exists!\"), 0);\n  }\n  _modifyResourceCount(e, t, s) {\n    if (!this._rctx) return void this._dbg(U.Error, \"modifyAllocation callback has no rendering context!\");\n    const r = e;\n    1 === s ? this._rctx.instanceCounter.increment(r, t) : this._rctx.instanceCounter.decrement(r, t);\n  }\n  _setBlendState(e, t, s, r) {\n    this._rctx ? (this._rctx.setBlendingEnabled(1 === e), this._rctx.setBlendFunction(t, s), this._rctx.setBlendEquation(r)) : this._dbg(U.Error, \"setBlendState callback has no rendering context!\");\n  }\n  _setFrontFace(e) {\n    this._rctx ? this._rctx.setFrontFace(e) : this._dbg(U.Error, \"setFrontFace callback has no rendering context!\");\n  }\n  _setDepthStencilStateFunction(e, t, s) {\n    this._rctx ? (this._rctx.setDepthFunction(s), this._rctx.setDepthTestEnabled(1 === e), this._rctx.setDepthWriteEnabled(1 === t), this._rctx.setStencilTestEnabled(!1), this._rctx.setStencilFunction(S.ALWAYS, 0, 255), this._rctx.setStencilOpSeparate(P.FRONT, I.KEEP, I.INCR, I.KEEP), this._rctx.setStencilOpSeparate(P.BACK, I.KEEP, I.DECR, I.KEEP)) : this._dbg(U.Error, \"setDepthStencilStateFunction callback has no rendering context!\");\n  }\n  _setRasterizerState(e) {\n    if (this._rctx) switch (e) {\n      case g.None:\n        this._rctx.setFaceCullingEnabled(!1);\n        break;\n      case g.Back:\n        this._rctx.setCullFace(P.BACK), this._rctx.setFaceCullingEnabled(!0);\n        break;\n      case g.Front:\n        this._rctx.setCullFace(P.FRONT), this._rctx.setFaceCullingEnabled(!0);\n    } else this._dbg(U.Error, \"setRasterizerState callback has no rendering context!\");\n  }\n  _setViewport(e, t, s, r) {\n    this._rctx ? this._rctx.setViewport(e, t, s, r) : this._dbg(U.Error, \"setViewport callback has no rendering context!\");\n  }\n  _updateMemoryUsage() {\n    this._layers.forEach((e, t) => {\n      if (e.needMemoryUsageUpdate) {\n        const s = this._vxl.estimate_memory_usage(t);\n        s >= 0 && (e.needMemoryUsageUpdate = !1, e.layerView.setUsedMemory(s));\n      }\n    });\n  }\n  _syncRequestsResponses() {\n    this._layers.forEach((e, t) => {\n      const r = [];\n      e.responses.forEach((s, i) => {\n        r.push(i), this._dbg(U.RequestResponse, \"responding for requestID:\" + i + \" size:\" + s.size), this._vxl.respond(t, i, s), s.requestType !== f.TreeIndex && s.requestType !== f.Section || (e.needMemoryUsageUpdate = !0);\n      });\n      const a = e.responses;\n      for (const s of r) a.delete(s);\n      const n = this._vxl.get_new_requests(t),\n        o = e.abortController.signal;\n      for (const l in n) {\n        e.outstandingRequestCount += 1, 1 === e.outstandingRequestCount && e.layerView.updatingFlagChanged();\n        const t = n[l],\n          r = {\n            responseType: \"array-buffer\",\n            signal: o,\n            query: {\n              ...e.layerView.layer.customParameters,\n              token: e.layerView.layer.apiKey\n            }\n          };\n        this._dbg(U.RequestResponse, \"making requestID:\" + l + \" url:\" + t.url), s(t.url, r).then(s => {\n          e.outstandingRequestCount -= 1, 0 === e.outstandingRequestCount && e.layerView.updatingFlagChanged(), this._dbg(U.RequestResponse, \"have response for requestID:\" + l);\n          let r = 0;\n          if (s.data.byteLength > 0) {\n            r = this._vxl._malloc(s.data.byteLength);\n            const e = new Uint8Array(this._vxl.HEAPU8.buffer, r, s.data.byteLength),\n              t = new Uint8Array(s.data);\n            for (let r = 0; r < s.data.byteLength; ++r) e[r] = t[r];\n          }\n          a.set(+l, {\n            responseType: t.responseType,\n            ptr: r,\n            size: s.data.byteLength,\n            success: !0,\n            requestType: t.requestType\n          });\n        }).catch(s => {\n          e.outstandingRequestCount -= 1, 0 === e.outstandingRequestCount && e.layerView.updatingFlagChanged(), i(s) || (this._dbg(U.Error, `requestID:${l} failed, error=${s.toString()}`), a.set(+l, {\n            responseType: t.responseType,\n            ptr: 0,\n            size: 0,\n            success: !1,\n            requestType: t.requestType\n          }));\n        });\n      }\n    });\n  }\n  updateWasmCamera(e) {\n    this._vxl.set_projection_matrix.apply(this._vxl, e.projectionMatrix), this._vxl.set_view_matrix.apply(this._vxl, e.viewMatrix), this._vxl.set_near_far(e.near, e.far);\n  }\n  isUpdating(e) {\n    if (!this._vxl && this._vxlPromise) return !0;\n    const t = this._layers.get(e);\n    return !!t && t.outstandingRequestCount > 0;\n  }\n  getLayerTimes(e) {\n    const t = [];\n    return this._layers.forEach((s, r) => {\n      if (s.layerView.wasmLayerId === e.wasmLayerId) {\n        const s = this._vxl.get_layer_epoch_times(r, e.layer.currentVariableId);\n        for (let e = 0; e < s.length; ++e) t.push(s[e]);\n      }\n    }), t;\n  }\n  getCurrentLayerTimeIndex(e) {\n    let t = 0;\n    return this._layers.forEach((s, r) => {\n      s.layerView.wasmLayerId === e.wasmLayerId && (t = this._vxl.get_layer_current_time_id(r));\n    }), t;\n  }\n  setEnabled(e, t) {\n    this._layers.forEach((s, r) => {\n      s.layerView.wasmLayerId === e.wasmLayerId && (this._vxl.set_enabled(r, t), s.needMemoryUsageUpdate = !0, this._renderPluginContext.requestRender());\n    });\n  }\n  setIsInScaleRange(e, t) {\n    const s = this._layers.get(e.wasmLayerId);\n    s && t !== s.isInScaleRange && (s.isInScaleRange = t, this._vxl.set_is_in_scale_range(e.wasmLayerId, t), s.needMemoryUsageUpdate = !t, this._renderPluginContext.requestRender());\n  }\n  setStaticSections(e, t) {\n    const s = {\n      mask: p.StaticSections,\n      staticSections: t\n    };\n    return this._doMaskedUIUpdate(e, s, !0);\n  }\n  setCurrentVariable(e, t) {\n    const s = {\n      mask: p.CurrentVariable,\n      currentVariable: t\n    };\n    return this._doMaskedUIUpdate(e, s, !0);\n  }\n  setRenderMode(e, t) {\n    const s = {\n      mask: p.RenderMode,\n      renderMode: t\n    };\n    return this._doMaskedUIUpdate(e, s, !0);\n  }\n  setVerticalExaggerationAndOffset(e, t, s, r) {\n    const i = {\n      mask: p.ExaggerationAndOffset,\n      volStyleDesc: {\n        volumeId: t,\n        verticalExaggeration: s,\n        verticalOffset: r\n      }\n    };\n    return this._doMaskedUIUpdate(e, i, !0);\n  }\n  setVariableStyles(e, t) {\n    const s = {\n      mask: p.VariableStyles,\n      variableStyles: t\n    };\n    return this._doMaskedUIUpdate(e, s, !0);\n  }\n  setVolumeStyles(e, t) {\n    const s = {\n      mask: p.VolumeStyles,\n      volumeStyles: t\n    };\n    return this._doMaskedUIUpdate(e, s, !0);\n  }\n  setEnableDynamicSections(e, t) {\n    const s = {\n      mask: p.ContainerVisibility,\n      containerIsVisible: t,\n      container: x.DynamicSections\n    };\n    return this._doMaskedUIUpdate(e, s, !0);\n  }\n  setEnableIsosurfaces(e, t) {\n    const s = {\n      mask: p.ContainerVisibility,\n      containerIsVisible: t,\n      container: x.Isosurfaces\n    };\n    return this._doMaskedUIUpdate(e, s, !0);\n  }\n  setEnableSections(e, t) {\n    const s = {\n      mask: p.ContainerVisibility,\n      containerIsVisible: t,\n      container: x.StaticSections\n    };\n    return this._doMaskedUIUpdate(e, s, !0);\n  }\n  setAnalysisSlice(e, t, s, r) {\n    const i = {\n      mask: p.AnalysisSlice,\n      analysisSlice: {\n        point: s,\n        normal: r,\n        enabled: t\n      }\n    };\n    return this._doMaskedUIUpdate(e, i, !0);\n  }\n  updateLayerTimeProperties(e) {\n    if (!this._vxl) return;\n    const t = this._layers.get(e.wasmLayerId);\n    if (t) {\n      const s = t.layerView.layer;\n      let r = 0;\n      s.timeOffset && (r = o(s.timeOffset.value, s.timeOffset.unit, \"seconds\"));\n      const i = this._getTimeArgs(s.timeExtent);\n      this._vxl.set_layer_time_properties(e.wasmLayerId, i.startTime, i.endTime, i.hasTime, s.useViewTime, r), this._renderPluginContext.requestRender();\n    }\n  }\n  _doMaskedUIUpdate(e, t, s) {\n    if (!this._vxl) return !1;\n    let r = !1;\n    return this._layers.forEach((s, i) => {\n      if (s.layerView.wasmLayerId === e.wasmLayerId) {\n        const e = {\n          str: JSON.stringify(t),\n          byteCount: 0,\n          ptr: 0,\n          isReusable: !1\n        };\n        this._allocateBlock(e) && (r = 1 === this._vxl.handle_masked_ui_update(i, e.ptr, e.byteCount), e.isReusable || this._vxl._free(e.ptr));\n      }\n    }), r && s && this._renderPluginContext.requestRender(), r;\n  }\n  _addTriangleToWasmBuffer(e, t, s, r, i) {\n    return e[3 * t] = s[0], e[3 * t + 1] = s[1], e[3 * t + 2] = s[2], e[3 * (t += 1)] = r[0], e[3 * t + 1] = r[1], e[3 * t + 2] = r[2], e[3 * (t += 1)] = i[0], e[3 * t + 1] = i[1], e[3 * t + 2] = i[2], t += 1;\n  }\n  _addNormalToWasmBuffer(e, t, s) {\n    return e[3 * t] = s[0], e[3 * t + 1] = s[1], e[3 * t + 2] = s[2], t += 1;\n  }\n  _doCaptureFrustum() {\n    if (!this._vxl) return;\n    const e = 36,\n      t = e / 3,\n      s = this._vxl._malloc(3 * e * Float32Array.BYTES_PER_ELEMENT),\n      r = new Float32Array(this._vxl.HEAPF32.buffer, s, 3 * e),\n      i = this._vxl._malloc(3 * t * Float32Array.BYTES_PER_ELEMENT),\n      a = new Float32Array(this._vxl.HEAPF32.buffer, i, e),\n      n = this._frustum.points[c.NEAR_BOTTOM_LEFT],\n      o = this._frustum.points[c.NEAR_BOTTOM_RIGHT],\n      l = this._frustum.points[c.NEAR_TOP_RIGHT],\n      h = this._frustum.points[c.NEAR_TOP_LEFT],\n      d = this._frustum.points[c.FAR_BOTTOM_LEFT],\n      u = this._frustum.points[c.FAR_BOTTOM_RIGHT],\n      _ = this._frustum.points[c.FAR_TOP_RIGHT],\n      g = this._frustum.points[c.FAR_TOP_LEFT];\n    let f = 0,\n      p = 0;\n    const x = this._frustum.planes[m.NEAR];\n    f = this._addTriangleToWasmBuffer(r, f, l, o, n), p = this._addNormalToWasmBuffer(a, p, x), f = this._addTriangleToWasmBuffer(r, f, n, h, l), p = this._addNormalToWasmBuffer(a, p, x);\n    const y = this._frustum.planes[m.FAR];\n    f = this._addTriangleToWasmBuffer(r, f, d, u, _), p = this._addNormalToWasmBuffer(a, p, y), f = this._addTriangleToWasmBuffer(r, f, _, g, d), p = this._addNormalToWasmBuffer(a, p, y);\n    const v = this._frustum.planes[m.TOP];\n    f = this._addTriangleToWasmBuffer(r, f, _, l, h), p = this._addNormalToWasmBuffer(a, p, v), f = this._addTriangleToWasmBuffer(r, f, h, g, _), p = this._addNormalToWasmBuffer(a, p, v);\n    const b = this._frustum.planes[m.BOTTOM];\n    f = this._addTriangleToWasmBuffer(r, f, n, o, u), p = this._addNormalToWasmBuffer(a, p, b), f = this._addTriangleToWasmBuffer(r, f, u, d, n), p = this._addNormalToWasmBuffer(a, p, b);\n    const w = this._frustum.planes[m.LEFT];\n    f = this._addTriangleToWasmBuffer(r, f, h, n, d), p = this._addNormalToWasmBuffer(a, p, w), f = this._addTriangleToWasmBuffer(r, f, d, g, h), p = this._addNormalToWasmBuffer(a, p, w);\n    const T = this._frustum.planes[m.RIGHT];\n    f = this._addTriangleToWasmBuffer(r, f, l, _, u), p = this._addNormalToWasmBuffer(a, p, T), f = this._addTriangleToWasmBuffer(r, f, u, o, l), p = this._addNormalToWasmBuffer(a, p, T), -1 !== this._frustumRenderableId && this._vxl.remove_generic_mesh(this._frustumRenderableId), this._frustumRenderableId = this._vxl.add_generic_mesh(s, 3 * e, i, e, 255, 0, 0, 64), this._vxl._free(s), this._vxl._free(i), this._captureFrustum = !1, this._renderPluginContext.requestRender();\n  }\n  captureFrustum() {\n    null === this._renderCoordsHelper && (this._renderCoordsHelper = T.create(v.Local, _(!1, this.view.spatialReference))), null === this._frustum && (this._frustum = new w(this._renderCoordsHelper)), this._captureFrustum = !0, null !== this._renderPluginContext && this._renderPluginContext.requestRender();\n  }\n  toggleFullVolumeExtentDraw(e) {\n    this._vxl && this._layers.forEach((t, s) => {\n      t.layerView.wasmLayerId === e.wasmLayerId && (this._vxl.toggle_full_volume_extent_draw(s), this._renderPluginContext.requestRender());\n    });\n  }\n  addVoxelLayer(e) {\n    if (!this._vxl) {\n      const t = {\n          layerView: e,\n          resolveCallback: null,\n          rejectCallback: null\n        },\n        s = new Promise((e, s) => {\n          t.resolveCallback = e, t.rejectCallback = s;\n        });\n      return this._newLayers.push(t), s;\n    }\n    const t = this._addVoxelLayer(e);\n    return t < 0 ? Promise.reject(-1) : Promise.resolve(t);\n  }\n  removeVoxelLayer(e) {\n    if (!this._vxl) {\n      const t = this._newLayers.findIndex(t => e.uid === t.layerView.uid);\n      t >= 0 && (this._newLayers[t].resolveCallback(-1), this._newLayers.splice(t, 1));\n      const s = this._newLayers.length;\n      return 0 === s && (this._dbg(U.Lifetime, \" no voxel layers left after removing a layer, removing RenderPlugin and destroying\"), this.destroy()), s;\n    }\n    let t = -1;\n    this._layers.forEach((s, r) => {\n      if (s.layerView.wasmLayerId === e.wasmLayerId) {\n        t = r, s.abortController.abort(), this._vxl.remove_layer(t);\n        const i = this.layerUid.indexOf(e.layer.uid);\n        -1 !== i && this.layerUid.splice(i, 1);\n      }\n    }), t >= 0 && this._layers.delete(t);\n    const s = this._layers.size;\n    return 0 === s && (this._dbg(U.Lifetime, \" no voxel layers left after removing a layer, removing RenderPlugin and destroying\"), this.destroy()), s;\n  }\n  _getBlockSize(e) {\n    for (const t of this._wasmMemBlockSizes) if (e < t) return t;\n    return -1;\n  }\n  _allocateBlock(e) {\n    e.byteCount = this._vxl.lengthBytesUTF8(e.str) + 1;\n    const t = this._getBlockSize(e.byteCount);\n    return t < 0 ? (e.isReusable = !1, e.ptr = this._vxl._malloc(e.byteCount)) : (e.isReusable = !0, e.ptr = this._wasmMemBlocks.get(t), 0 === e.ptr && (e.ptr = this._vxl._malloc(t), this._wasmMemBlocks.set(t, e.ptr))), 0 !== e.ptr && (this._vxl.stringToUTF8(e.str, e.ptr, e.byteCount), !0);\n  }\n  _getTimeArgs(e) {\n    let t = -Number.MAX_VALUE,\n      s = Number.MAX_VALUE,\n      r = !1;\n    return null != e && (e.isAllTime ? r = !0 : (null != e.start && (r = !0, t = e.start.getTime() / 1e3), null != e.end && (r = !0, s = e.end.getTime() / 1e3))), {\n      startTime: t,\n      endTime: s,\n      hasTime: r\n    };\n  }\n  _addVoxelLayer(e) {\n    const t = e.layer;\n    let s = -1;\n    const i = t.getConfiguration();\n    if (i.length < 1) return -1;\n    const a = {\n      str: i,\n      byteCount: 0,\n      ptr: 0,\n      isReusable: !1\n    };\n    if (!this._allocateBlock(a)) return -1;\n    const n = this._getTimeArgs(t.timeExtent),\n      l = this.view.spatialReference.isWGS84 && t.spatialReference.isWGS84 ? 111319.49079327357 : 1;\n    let h = 0;\n    if (t.timeOffset && (h = o(t.timeOffset.value, t.timeOffset.unit, \"seconds\")), s = this._vxl.add_layer(t.serviceRoot, a.ptr, a.byteCount, l, l, n.startTime, n.endTime, n.hasTime, t.useViewTime, h, this._toWasmQuality(this.view.qualityProfile)), a.isReusable || this._vxl._free(a.ptr), s >= 0) {\n      t.test?.constantUpscaling && (this._setUpscalingLimits(0, .25, .25), this._setUpscalingLimits(1, .5, .5), this._setUpscalingLimits(2, .75, .75));\n      const i = new AbortController();\n      if (this._layers.set(s, {\n        layerView: e,\n        responses: new Map(),\n        outstandingRequestCount: 0,\n        abortController: i,\n        needMemoryUsageUpdate: !1,\n        isInScaleRange: !0\n      }), this.layerUid.push(e.layer.uid), !this._halfIntTexturesAvailable || has(\"mac\")) {\n        const t = [];\n        let s = \"\";\n        for (const r of e.layer.variables) \"Int16\" !== r.renderingFormat.type && \"UInt16\" !== r.renderingFormat.type || (t.push(r.name), r.id === e.layer.currentVariableId && (s = r.name));\n        \"\" !== s && r.getLogger(this).error(\"#addVoxelLayer_error()\", e.layer, `The voxel layer '${e.layer.title}' cannot render the current variable '${s}' in this browser`), t.length > 0 && r.getLogger(this).warn(\"#addVoxelLayer_warning()\", e.layer, `The voxel layer '${e.layer.title}' cannot render the variables '${t.toString()}' in this browser`);\n      }\n      if (!this._textureFloatLinearAvailable) {\n        const t = [];\n        let s = \"\";\n        for (const r of e.layer.variables) \"Float32\" === r.renderingFormat.type && (t.push(r.name), r.id === e.layer.currentVariableId && (s = r.name));\n        \"\" !== s && r.getLogger(this).error(\"#addVoxelLayer_error()\", e.layer, `The voxel layer '${e.layer.title}' cannot render the current variable '${s}' in this browser`), t.length > 0 && r.getLogger(this).warn(\"#addVoxelLayer_warning()\", e.layer, `The voxel layer '${e.layer.title}' cannot render the variables '${t.toString()}' in this browser`);\n      }\n      return has(\"esri-mobile\") && r.getLogger(this).warnOnce(\"Mobile support differs across devices. Voxel layer might not display as expected.\"), s;\n    }\n    return -1;\n  }\n  prepareRender(e) {\n    if (!this._vxl) return;\n    const t = e.bindParameters.camera.viewForward,\n      s = e.bindParameters.camera.eye;\n    this._vxl.update_camera_pos_and_direction(s[0], s[1], s[2], t[0], t[1], t[2]);\n    const r = this._vxl.cull();\n    this._dbg(U.RequestResponse, \"missingResourceCount=\" + r), this._moreToLoad = r > 0, this._havePreparedWithAllLayers = 0 === this._newLayers.length, this._updateMemoryUsage();\n  }\n  renderNode(e) {\n    if (!this._vxl) return;\n    for (const s of this._newLayers) {\n      const e = this._addVoxelLayer(s.layerView);\n      -1 === e ? s.rejectCallback(-1) : s.resolveCallback(e);\n    }\n    if (this._newLayers = [], 0 === this._layers.size) return void this._dbg(U.Error, \"No voxel layers but RenderPlugin instance is being asked to render!\");\n    this._lastFrameWasStationary = this.view.stationary, this._syncRequestsResponses(), this._beforeDraw(), this._vxl.begin_color_frame(!this.view._stage.renderer.isFeatureEnabled(C.HighResolutionVoxel), e.bindParameters.lighting.mainLight.direction[0], e.bindParameters.lighting.mainLight.direction[1], e.bindParameters.lighting.mainLight.direction[2]);\n    const t = this._renderTargetToRestore.viewport;\n    t.width === this._viewportWidth && t.height === this._viewportHeight || (this._viewportWidth = t.width, this._viewportHeight = t.height, this._vxl.set_viewport(t.width, t.height), this._layers.forEach(e => {\n      e.needMemoryUsageUpdate = !0;\n    })), 0 === t.x && 0 === t.y || this._dbg(U.Error, \"Unsupported viewport parameters detected!\"), this.updateWasmCamera(e.bindParameters.camera), this._captureFrustum && (this._frustum.update(e.bindParameters.camera), this._doCaptureFrustum()), this._vxl.draw(), this._afterDraw(), (this._moreToLoad || !this._havePreparedWithAllLayers && this._layers.size > 0) && this._renderPluginContext.requestRender();\n  }\n  destroy() {\n    this._dbg(U.Lifetime, \"--destroy--\"), this._removeRenderPlugin(), this._vxl && (this._layers.forEach(e => {\n      e.abortController.abort();\n    }), this._wasmMemBlocks.forEach(e => {\n      0 !== e && this._vxl._free(e);\n    }), this._vxl.uninitialize_voxel_wasm(), this._vxl = null);\n  }\n  _initializeWasm(e) {\n    return this._vxl ? Promise.resolve() : (this._vxlPromise || (this._vxlPromise = y(e).then(e => {\n      if (this._vxl = e, this._vxlPromise = null, this._newLayers.length <= 0) return this._dbg(U.Lifetime, \" no voxel layers left after WASM downloaded, removing RenderPlugin and destroying\"), void this.destroy();\n      const t = this._getTimeArgs(this.view?.timeExtent),\n        s = this._vxl.addFunction(this._restoreFramebuffer.bind(this), \"v\"),\n        r = this._vxl.addFunction(this._setBlendState.bind(this), \"viiii\"),\n        i = this._vxl.addFunction(this._setFrontFace.bind(this), \"vi\"),\n        a = this._vxl.addFunction(this._setRasterizerState.bind(this), \"vi\"),\n        n = this._vxl.addFunction(this._setDepthStencilStateFunction.bind(this), \"viii\"),\n        o = this._vxl.addFunction(this._setViewport.bind(this), \"viiii\"),\n        l = this._vxl.addFunction(this._bindPreviousDepthToSlot.bind(this), \"iii\"),\n        h = this._vxl.addFunction(this._modifyResourceCount.bind(this), \"viii\"),\n        d = this._halfIntTexturesAvailable && !has(\"mac\"),\n        u = this._textureFloatLinearAvailable;\n      this._vxl.initialize_voxel_wasm(s, r, i, a, n, o, l, h, t.startTime, t.endTime, t.hasTime, d, u), this._renderPluginContext && this._renderPluginContext.requestRender();\n    }).catch(() => {\n      for (const e of this._newLayers) e.rejectCallback(-2);\n      this._dbg(U.Error, \" WASM failed to download, removing RenderPlugin and destroying\"), this.destroy();\n    })), this._vxlPromise);\n  }\n  pickDepth(e, t, s) {\n    if (!this._vxl || !this._rctx || 0 === this._layers.size) return null;\n    const r = s.viewport[3] - t;\n    if (e < 0 || e > s.viewport[2] || t < 0 || t > s.viewport[3]) return this._dbg(U.Error, `[js] pickDepth: outOfRange, screenXY=[${e.toFixed(0)}, ${r.toFixed(0)}]]`), null;\n    this._beforeDraw();\n    const i = s.viewForward,\n      a = s.eye;\n    this._vxl.update_camera_pos_and_direction(a[0], a[1], a[2], i[0], i[1], i[2]), this.updateWasmCamera(s), this._vxl.begin_frame();\n    const n = this._vxl.pick_depth(e, r);\n    if (this._afterDraw(), n.success) {\n      return n.distanceToCamera;\n    }\n    return null;\n  }\n  pickObject(e, t, s, r) {\n    if (!this._vxl || !this._rctx || 0 === this._layers.size) return null;\n    const i = Math.round(e),\n      a = Math.round(t);\n    if (i < 0 || i > s.viewport[2] || a < 0 || a > s.viewport[3]) return this._dbg(U.Error, `[js] pickObject: outOfRange, screenXY=[${i}, ${a}], vp=[${s.viewport.toString()}]`), null;\n    this._beforeDraw();\n    const n = s.viewForward,\n      o = s.eye;\n    this._vxl.update_camera_pos_and_direction(o[0], o[1], o[2], n[0], n[1], n[2]), this.updateWasmCamera(s), this._vxl.begin_frame();\n    let l = null;\n    if (0 === r.length) l = this._vxl.pick_object(i, a, 0, 0);else {\n      const e = {\n        str: JSON.stringify({\n          layerIds: r\n        }),\n        byteCount: 0,\n        ptr: 0,\n        isReusable: !1\n      };\n      this._allocateBlock(e) && (l = this._vxl.pick_object(i, a, e.ptr, e.byteCount), e.isReusable || this._vxl._free(e.ptr));\n    }\n    return this._afterDraw(), l;\n  }\n  _beforeDraw() {\n    this._renderTargetToRestore = {\n      fbo: this._rctx.getBoundFramebufferObject(),\n      viewport: this._rctx.getViewport()\n    }, this._rctx.setPolygonOffsetFillEnabled(!1), this._rctx.setScissorTestEnabled(!1), this._rctx.setColorMask(!0, !0, !0, !0);\n  }\n  _afterDraw() {\n    this._renderTargetToRestore.fbo = null, this._rctx.externalTextureUnitUpdate(this._vxl.get_texture_units_bound_in_frame(), this._vxl.get_active_texture_unit()), this._rctx.externalVertexArrayObjectUpdate(), this._rctx.externalVertexBufferUpdate(), this._rctx.externalProgramUpdate();\n  }\n  intersect(e, t, s, r, i) {\n    if (!this._vxl || !this._rctx || 0 === this._layers.size || !e.options.selectionMode || e.options.isFiltered) return;\n    if (null == i || i[0] < 0 || i[0] > e.camera.viewport[2] || i[1] < 0 || i[1] > e.camera.viewport[3]) return this._dbg(U.Error, `[js] VoxelWasmPerScene.intersect: outOfRange, screenXY=[${i[0].toFixed(0)}, ${i[1].toFixed(0)}]`), null;\n    const a = [];\n    this._layers.forEach(t => {\n      e.options.filteredLayerUids.includes(t.layerView.layer.uid) && a.push(t.layerView.wasmLayerId);\n    });\n    const n = this.pickObject(i[0], i[1], e.camera, a);\n    if (null == n || -1 === n.layerId) return;\n    const o = this._layers.get(n.layerId);\n    if (o) {\n      const t = o.layerView.layer.uid,\n        i = n.distanceToCamera / d(s, r),\n        a = u();\n      a[0] = n.worldX, a[1] = n.worldY, a[2] = n.worldZ;\n      const l = {};\n      if (null != n.continuousValue && null != n.continuousValueUnits ? l[\"Voxel.ServiceValue\"] = `${n.continuousValue.toLocaleString()} ${n.continuousValueUnits}` : null != n.uniqueValueLabel && null != n.uniqueValue ? l[\"Voxel.ServiceValue\"] = `${n.uniqueValueLabel} (${n.uniqueValue})` : null != n.uniqueValue && (l[\"Voxel.ServiceValue\"] = `${n.uniqueValue}`), l[\"Voxel.ServiceVariableLabel\"] = n.variableLabel, l[\"Voxel.Position\"] = n.voxelSpacePosition, null != n.epochTime && null != n.nativeTime && null != n.nativeTimeUnits) {\n        const e = new Date(n.epochTime);\n        l[\"Voxel.ServiceLocalTime\"] = e.toString(), l[\"Voxel.ServiceNativeTime\"] = `${n.nativeTime.toLocaleString()} ${n.nativeTimeUnits}`;\n      }\n      null != n.depth && null != n.depthUnits && (l[\"Voxel.ServiceDepth\"] = `${n.depth.toLocaleString()} ${n.depthUnits}`);\n      const h = n.faceNormal;\n      l[\"Voxel.WorldPosition\"] = `[${a[0]}, ${a[1]}, ${a[2]}]`;\n      const _ = e => {\n          const s = new b(a, t, () => this._createVoxelGraphic(o.layerView.layer, l));\n          e.set(this.type, s, i, h);\n        },\n        c = e.results,\n        m = e.options.store === E.ALL;\n      if ((null == c.min.dist || i < c.min.dist) && _(c.min), (null == c.max.dist || i > c.max.dist) && _(c.max), m) {\n        const t = L(e.ray);\n        _(t), e.results.all.push(t);\n      }\n    }\n  }\n  _createVoxelGraphic(e, s) {\n    return new t({\n      layer: e,\n      sourceLayer: e,\n      attributes: s\n    });\n  }\n  _toWasmQuality(e) {\n    switch (e) {\n      case \"low\":\n        return 0;\n      case \"medium\":\n        return 1;\n      case \"high\":\n        return 2;\n    }\n  }\n  _setUpscalingLimits(e, t, s) {\n    this._vxl && this._vxl.set_upscaling_limits(e, t, s);\n  }\n};\ne([l({\n  constructOnly: !0\n})], k.prototype, \"view\", void 0), k = e([h(\"esri.layers.VoxelWasmPerSceneView\")], k);\nconst B = k;\nexport { B as default };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,IAAIA;AAAJ,IAAOC;AAAP,IAAU;AAAV,IAAaC;AAAb,IAAgBC;AAAhB,IAAmBC;AACnB,CAAC,SAAUJ,IAAG;AACZ,EAAAA,GAAEA,GAAE,SAAS,CAAC,IAAI,UAAUA,GAAEA,GAAE,OAAO,CAAC,IAAI;AAC9C,EAAEA,OAAMA,KAAI,CAAC,EAAE,GAAG,SAAUA,IAAG;AAC7B,EAAAA,GAAEA,GAAE,YAAY,CAAC,IAAI,aAAaA,GAAEA,GAAE,YAAY,CAAC,IAAI,aAAaA,GAAEA,GAAE,WAAW,CAAC,IAAI,YAAYA,GAAEA,GAAE,eAAe,CAAC,IAAI,gBAAgBA,GAAEA,GAAE,UAAU,CAAC,IAAI,WAAWA,GAAEA,GAAE,gBAAgB,CAAC,IAAI;AACrM,EAAEC,OAAMA,KAAI,CAAC,EAAE,GAAG,SAAUD,IAAG;AAC7B,EAAAA,GAAEA,GAAE,OAAO,CAAC,IAAI,QAAQA,GAAEA,GAAE,QAAQ,CAAC,IAAI,SAASA,GAAEA,GAAE,OAAO,CAAC,IAAI;AACpE,EAAE,MAAM,IAAI,CAAC,EAAE,GAAG,SAAUA,IAAG;AAC7B,EAAAA,GAAEA,GAAE,MAAM,CAAC,IAAI,OAAOA,GAAEA,GAAE,SAAS,CAAC,IAAI,UAAUA,GAAEA,GAAE,OAAO,CAAC,IAAI;AACpE,EAAEE,OAAMA,KAAI,CAAC,EAAE,GAAG,SAAUF,IAAG;AAC7B,EAAAA,GAAEA,GAAE,OAAO,CAAC,IAAI,QAAQA,GAAEA,GAAE,iBAAiB,CAAC,IAAI,kBAAkBA,GAAEA,GAAE,SAAS,CAAC,IAAI,UAAUA,GAAEA,GAAE,kBAAkB,CAAC,IAAI,mBAAmBA,GAAEA,GAAE,aAAa,CAAC,IAAI,cAAcA,GAAEA,GAAE,aAAa,EAAE,IAAI,cAAcA,GAAEA,GAAE,UAAU,EAAE,IAAI,WAAWA,GAAEA,GAAE,cAAc,EAAE,IAAI,eAAeA,GAAEA,GAAE,yBAAyB,GAAG,IAAI,0BAA0BA,GAAEA,GAAE,wBAAwB,GAAG,IAAI,yBAAyBA,GAAEA,GAAE,cAAc,GAAG,IAAI,eAAeA,GAAEA,GAAE,kBAAkB,IAAI,IAAI,mBAAmBA,GAAEA,GAAE,mBAAmB,IAAI,IAAI,oBAAoBA,GAAEA,GAAE,sBAAsB,IAAI,IAAI,uBAAuBA,GAAEA,GAAE,aAAa,IAAI,IAAI,cAAcA,GAAEA,GAAE,eAAe,KAAK,IAAI,gBAAgBA,GAAEA,GAAE,iBAAiB,KAAK,IAAI,kBAAkBA,GAAEA,GAAE,eAAe,KAAK,IAAI,gBAAgBA,GAAEA,GAAE,gBAAgB,MAAM,IAAI;AAC3yB,EAAEG,OAAMA,KAAI,CAAC,EAAE,GAAG,SAAUH,IAAG;AAC7B,EAAAA,GAAEA,GAAE,cAAc,CAAC,IAAI,eAAeA,GAAEA,GAAE,kBAAkB,CAAC,IAAI,mBAAmBA,GAAEA,GAAE,iBAAiB,CAAC,IAAI;AAChH,EAAEI,OAAMA,KAAI,CAAC,EAAE;;;ACZf,SAASC,GAAEC,IAAG;AACZ,SAAO,IAAI,QAAQ,CAAAD,OAAK,OAAO,wBAA0B,EAAE,KAAK,CAAAC,OAAKA,GAAE,CAAC,EAAE,KAAK,CAAC;AAAA,IAC9E,SAASC;AAAA,EACX,MAAM;AACJ,UAAM,IAAIA,GAAE;AAAA,MACV,YAAYC;AAAA,MACZ,4BAA4BF;AAAA,MAC5B,sBAAsB,MAAMD,GAAE,CAAC;AAAA,IACjC,CAAC;AAAA,EACH,CAAC,CAAC,EAAE,MAAM,CAAAC,OAAK;AACb,UAAMA;AAAA,EACR,CAAC;AACH;AACA,SAASE,GAAEH,IAAG;AACZ,SAAOE,GAAE,iBAAiBF,EAAC,EAAE;AAC/B;;;ACWA,IAAII;AACJ,CAAC,SAAUC,IAAG;AACZ,EAAAA,GAAEA,GAAE,WAAW,CAAC,IAAI,YAAYA,GAAEA,GAAE,kBAAkB,CAAC,IAAI,mBAAmBA,GAAEA,GAAE,YAAY,CAAC,IAAI,aAAaA,GAAEA,GAAE,QAAQ,CAAC,IAAI;AACnI,EAAED,OAAMA,KAAI,CAAC,EAAE;AACf,IAAI,IAAI,cAAc,EAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,4BAA4B,OAAI,KAAK,+BAA+B,OAAI,KAAK,6BAA6B,OAAI,KAAK,uBAAuB,MAAM,KAAK,cAAc,MAAM,KAAK,OAAO,MAAM,KAAK,kBAAkB,OAAI,KAAK,cAAc,OAAI,KAAK,iBAAiB,IAAI,KAAK,kBAAkB,IAAI,KAAK,aAAa,CAAC,GAAG,KAAK,UAAU,oBAAI,IAAI,GAAG,KAAK,QAAQ,MAAM,KAAK,yBAAyB,MAAM,KAAK,0BAA0B,OAAI,KAAK,qBAAqB,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,OAAO,OAAO,KAAK,GAAG,KAAK,iBAAiB,oBAAI,IAAI,GAAG,KAAK,YAAY,oBAAI,IAAI,GAAG,KAAK,kBAAkB,OAAI,KAAK,WAAW,MAAM,KAAK,uBAAuB,IAAI,KAAK,sBAAsB,MAAM,KAAK,WAAW,oBAAI,IAAI,CAAC,CAAC,EAAE,OAAO,MAAM,CAAC,CAAC,KAAK,QAAQ,YAAY,KAAK,KAAK,WAAW,CAAC,CAAC,GAAG,KAAK,OAAO,EAAE,OAAO,KAAK,oBAAoB,MAAI,KAAK,WAAW,OAAI,KAAK,WAAW,CAAC;AAAA,EAC/2B;AAAA,EACA,KAAKA,IAAGC,IAAG;AACT,SAAK,UAAU,IAAID,EAAC,MAAMA,OAAMD,GAAE,QAAQ,EAAE,UAAU,IAAI,EAAE,MAAME,EAAC,IAAI,EAAE,UAAU,IAAI,EAAE,KAAKA,EAAC;AAAA,EACjG;AAAA,EACA,sBAAsB;AACpB,SAAK,mBAAmB,KAAK,KAAK,WAAW,KAAK,KAAKF,GAAE,UAAU,wBAAwB,GAAG,KAAK,KAAK,OAAO,mBAAmB,IAAI,IAAI,KAAK,kBAAkB;AAAA,EACnK;AAAA,EACA,aAAa;AACX,SAAK,KAAKA,GAAE,UAAU,gBAAgB;AACtC,eAAWC,MAAK,KAAK,mBAAoB,MAAK,eAAe,IAAIA,IAAG,CAAC;AACrE,SAAK,WAAW,CAAC,EAAE,MAAM,KAAK,KAAK,OAAO,CAAAA,OAAK;AAC7C,MAAAA,MAAK,YAAY,KAAK,KAAK,eAAe,KAAK,KAAKD,GAAE,UAAU,6EAA6E,GAAG,KAAK,KAAK,OAAO,gBAAgB,IAAI,GAAG,KAAK,kBAAkB,SAAO,KAAK,KAAKA,GAAE,UAAU,2DAA2D,GAAG,KAAK,oBAAoB;AAAA,IACrU,GAAG,CAAC,GAAG,EAAE,MAAM,KAAK,MAAM,gBAAgB,CAAAC,OAAK;AAC7C,WAAK,KAAKD,GAAE,WAAW,+BAA+BC,EAAC,GAAG,KAAK,QAAQ,KAAK,KAAK,YAAY,KAAK,eAAeA,EAAC,CAAC;AAAA,IACrH,GAAG,CAAC,GAAG,EAAE,MAAM,KAAK,MAAM,YAAY,MAAM;AAC1C,UAAI,KAAK,MAAM;AACb,cAAMA,KAAI,KAAK,aAAa,KAAK,MAAM,UAAU;AACjD,aAAK,KAAKD,GAAE,WAAW,6CAA6CC,GAAE,UAAU,SAASA,GAAE,YAAY,SAASA,GAAE,OAAO,GAAG,KAAK,KAAK,sBAAsBA,GAAE,WAAWA,GAAE,SAASA,GAAE,OAAO,GAAG,KAAK,qBAAqB,cAAc;AAAA,MAC1O;AAAA,IACF,GAAG,CAAC,GAAG,EAAE,MAAM,KAAK,MAAM,YAAY,CAAAA,OAAK;AACzC,WAAK,QAAQA,MAAK,CAAC,KAAK,2BAA2B,KAAK,qBAAqB,cAAc;AAAA,IAC7F,CAAC,CAAC,CAAC;AAAA,EACL;AAAA,EACA,wBAAwBA,IAAG;AACzB,SAAK,KAAKD,GAAE,UAAU,6BAA6B;AACnD,UAAME,KAAID,GAAE,cAAc;AAC1B,SAAK,uBAAuBA,IAAG,KAAK,QAAQA,GAAE,cAAc,MAAM,KAAK,4BAA4B,CAAC,CAAC,KAAK,MAAM,aAAa,eAAe,KAAK,+BAA+B,KAAK,MAAM,aAAa,oBAAoB,KAAK,gBAAgBC,GAAE,EAAE;AAAA,EACvP;AAAA,EACA,4BAA4B;AAC1B,SAAK,uBAAuB,MAAM,KAAK,QAAQ,MAAM,KAAK,KAAKF,GAAE,UAAU,+BAA+B;AAAA,EAC5G;AAAA,EACA,sBAAsB;AACpB,QAAI,CAAC,KAAK,uBAAwB;AAClC,UAAMC,KAAI,KAAK,uBAAuB;AACtC,QAAI,CAAC,CAAC,CAAC,KAAK,MAAO,QAAO,KAAK,KAAK,KAAKD,GAAE,OAAO,mCAAmC;AACrF,SAAK,MAAM,gBAAgBC,IAAG,IAAE;AAChC,UAAMC,KAAI,KAAK,uBAAuB;AACtC,SAAK,MAAM,YAAYA,GAAE,GAAGA,GAAE,GAAGA,GAAE,OAAOA,GAAE,MAAM;AAAA,EACpD;AAAA,EACA,yBAAyBD,IAAGC,IAAG;AAC7B,UAAM,IAAI,CAAC,CAAC,KAAK,OACf,IAAI,CAAC,CAAC,KAAK;AACb,QAAI,CAAC,KAAK,CAAC,EAAG,QAAO;AACrB,UAAMC,KAAI,KAAK,uBAAuB,IAAI;AAC1C,WAAOA,MAAK,MAAMD,KAAI,KAAK,MAAM,YAAY,MAAMD,IAAG,IAAE,IAAI,KAAK,MAAM,YAAYE,IAAGF,IAAG,IAAE,GAAG,MAAM,KAAK,KAAKD,GAAE,OAAO,kCAAkC,GAAG;AAAA,EAC9J;AAAA,EACA,qBAAqBC,IAAGC,IAAG,GAAG;AAC5B,QAAI,CAAC,KAAK,MAAO,QAAO,KAAK,KAAK,KAAKF,GAAE,OAAO,qDAAqD;AACrG,UAAM,IAAIC;AACV,UAAM,IAAI,KAAK,MAAM,gBAAgB,UAAU,GAAGC,EAAC,IAAI,KAAK,MAAM,gBAAgB,UAAU,GAAGA,EAAC;AAAA,EAClG;AAAA,EACA,eAAeD,IAAGC,IAAG,GAAG,GAAG;AACzB,SAAK,SAAS,KAAK,MAAM,mBAAmB,MAAMD,EAAC,GAAG,KAAK,MAAM,iBAAiBC,IAAG,CAAC,GAAG,KAAK,MAAM,iBAAiB,CAAC,KAAK,KAAK,KAAKF,GAAE,OAAO,kDAAkD;AAAA,EAClM;AAAA,EACA,cAAcC,IAAG;AACf,SAAK,QAAQ,KAAK,MAAM,aAAaA,EAAC,IAAI,KAAK,KAAKD,GAAE,OAAO,iDAAiD;AAAA,EAChH;AAAA,EACA,8BAA8BC,IAAGC,IAAG,GAAG;AACrC,SAAK,SAAS,KAAK,MAAM,iBAAiB,CAAC,GAAG,KAAK,MAAM,oBAAoB,MAAMD,EAAC,GAAG,KAAK,MAAM,qBAAqB,MAAMC,EAAC,GAAG,KAAK,MAAM,sBAAsB,KAAE,GAAG,KAAK,MAAM,mBAAmB,EAAE,QAAQ,GAAG,GAAG,GAAG,KAAK,MAAM,qBAAqB,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,GAAG,KAAK,MAAM,qBAAqB,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,KAAK,KAAK,KAAKF,GAAE,OAAO,iEAAiE;AAAA,EACnb;AAAA,EACA,oBAAoBC,IAAG;AACrB,QAAI,KAAK,MAAO,SAAQA,IAAG;AAAA,MACzB,KAAK,EAAE;AACL,aAAK,MAAM,sBAAsB,KAAE;AACnC;AAAA,MACF,KAAK,EAAE;AACL,aAAK,MAAM,YAAY,EAAE,IAAI,GAAG,KAAK,MAAM,sBAAsB,IAAE;AACnE;AAAA,MACF,KAAK,EAAE;AACL,aAAK,MAAM,YAAY,EAAE,KAAK,GAAG,KAAK,MAAM,sBAAsB,IAAE;AAAA,IACxE;AAAA,QAAO,MAAK,KAAKD,GAAE,OAAO,uDAAuD;AAAA,EACnF;AAAA,EACA,aAAaC,IAAGC,IAAG,GAAG,GAAG;AACvB,SAAK,QAAQ,KAAK,MAAM,YAAYD,IAAGC,IAAG,GAAG,CAAC,IAAI,KAAK,KAAKF,GAAE,OAAO,gDAAgD;AAAA,EACvH;AAAA,EACA,qBAAqB;AACnB,SAAK,QAAQ,QAAQ,CAACC,IAAGC,OAAM;AAC7B,UAAID,GAAE,uBAAuB;AAC3B,cAAM,IAAI,KAAK,KAAK,sBAAsBC,EAAC;AAC3C,aAAK,MAAMD,GAAE,wBAAwB,OAAIA,GAAE,UAAU,cAAc,CAAC;AAAA,MACtE;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,yBAAyB;AACvB,SAAK,QAAQ,QAAQ,CAACA,IAAGC,OAAM;AAC7B,YAAM,IAAI,CAAC;AACX,MAAAD,GAAE,UAAU,QAAQ,CAAC,GAAGE,OAAM;AAC5B,UAAE,KAAKA,EAAC,GAAG,KAAK,KAAKH,GAAE,iBAAiB,8BAA8BG,KAAI,WAAW,EAAE,IAAI,GAAG,KAAK,KAAK,QAAQD,IAAGC,IAAG,CAAC,GAAG,EAAE,gBAAgBA,GAAE,aAAa,EAAE,gBAAgBA,GAAE,YAAYF,GAAE,wBAAwB;AAAA,MACvN,CAAC;AACD,YAAMG,KAAIH,GAAE;AACZ,iBAAW,KAAK,EAAG,CAAAG,GAAE,OAAO,CAAC;AAC7B,YAAMC,KAAI,KAAK,KAAK,iBAAiBH,EAAC,GACpCI,KAAIL,GAAE,gBAAgB;AACxB,iBAAWM,MAAKF,IAAG;AACjB,QAAAJ,GAAE,2BAA2B,GAAG,MAAMA,GAAE,2BAA2BA,GAAE,UAAU,oBAAoB;AACnG,cAAMC,KAAIG,GAAEE,EAAC,GACXC,KAAI;AAAA,UACF,cAAc;AAAA,UACd,QAAQF;AAAA,UACR,OAAO,iCACFL,GAAE,UAAU,MAAM,mBADhB;AAAA,YAEL,OAAOA,GAAE,UAAU,MAAM;AAAA,UAC3B;AAAA,QACF;AACF,aAAK,KAAKD,GAAE,iBAAiB,sBAAsBO,KAAI,UAAUL,GAAE,GAAG,GAAG,EAAEA,GAAE,KAAKM,EAAC,EAAE,KAAK,OAAK;AAC7F,UAAAP,GAAE,2BAA2B,GAAG,MAAMA,GAAE,2BAA2BA,GAAE,UAAU,oBAAoB,GAAG,KAAK,KAAKD,GAAE,iBAAiB,iCAAiCO,EAAC;AACrK,cAAIC,KAAI;AACR,cAAI,EAAE,KAAK,aAAa,GAAG;AACzB,YAAAA,KAAI,KAAK,KAAK,QAAQ,EAAE,KAAK,UAAU;AACvC,kBAAMP,KAAI,IAAI,WAAW,KAAK,KAAK,OAAO,QAAQO,IAAG,EAAE,KAAK,UAAU,GACpEN,KAAI,IAAI,WAAW,EAAE,IAAI;AAC3B,qBAASM,KAAI,GAAGA,KAAI,EAAE,KAAK,YAAY,EAAEA,GAAG,CAAAP,GAAEO,EAAC,IAAIN,GAAEM,EAAC;AAAA,UACxD;AACA,UAAAJ,GAAE,IAAI,CAACG,IAAG;AAAA,YACR,cAAcL,GAAE;AAAA,YAChB,KAAKM;AAAA,YACL,MAAM,EAAE,KAAK;AAAA,YACb,SAAS;AAAA,YACT,aAAaN,GAAE;AAAA,UACjB,CAAC;AAAA,QACH,CAAC,EAAE,MAAM,OAAK;AACZ,UAAAD,GAAE,2BAA2B,GAAG,MAAMA,GAAE,2BAA2BA,GAAE,UAAU,oBAAoB,GAAG,EAAE,CAAC,MAAM,KAAK,KAAKD,GAAE,OAAO,aAAaO,EAAC,kBAAkB,EAAE,SAAS,CAAC,EAAE,GAAGH,GAAE,IAAI,CAACG,IAAG;AAAA,YAC3L,cAAcL,GAAE;AAAA,YAChB,KAAK;AAAA,YACL,MAAM;AAAA,YACN,SAAS;AAAA,YACT,aAAaA,GAAE;AAAA,UACjB,CAAC;AAAA,QACH,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,iBAAiBD,IAAG;AAClB,SAAK,KAAK,sBAAsB,MAAM,KAAK,MAAMA,GAAE,gBAAgB,GAAG,KAAK,KAAK,gBAAgB,MAAM,KAAK,MAAMA,GAAE,UAAU,GAAG,KAAK,KAAK,aAAaA,GAAE,MAAMA,GAAE,GAAG;AAAA,EACtK;AAAA,EACA,WAAWA,IAAG;AACZ,QAAI,CAAC,KAAK,QAAQ,KAAK,YAAa,QAAO;AAC3C,UAAMC,KAAI,KAAK,QAAQ,IAAID,EAAC;AAC5B,WAAO,CAAC,CAACC,MAAKA,GAAE,0BAA0B;AAAA,EAC5C;AAAA,EACA,cAAcD,IAAG;AACf,UAAMC,KAAI,CAAC;AACX,WAAO,KAAK,QAAQ,QAAQ,CAAC,GAAG,MAAM;AACpC,UAAI,EAAE,UAAU,gBAAgBD,GAAE,aAAa;AAC7C,cAAMQ,KAAI,KAAK,KAAK,sBAAsB,GAAGR,GAAE,MAAM,iBAAiB;AACtE,iBAASA,KAAI,GAAGA,KAAIQ,GAAE,QAAQ,EAAER,GAAG,CAAAC,GAAE,KAAKO,GAAER,EAAC,CAAC;AAAA,MAChD;AAAA,IACF,CAAC,GAAGC;AAAA,EACN;AAAA,EACA,yBAAyBD,IAAG;AAC1B,QAAIC,KAAI;AACR,WAAO,KAAK,QAAQ,QAAQ,CAAC,GAAG,MAAM;AACpC,QAAE,UAAU,gBAAgBD,GAAE,gBAAgBC,KAAI,KAAK,KAAK,0BAA0B,CAAC;AAAA,IACzF,CAAC,GAAGA;AAAA,EACN;AAAA,EACA,WAAWD,IAAGC,IAAG;AACf,SAAK,QAAQ,QAAQ,CAAC,GAAG,MAAM;AAC7B,QAAE,UAAU,gBAAgBD,GAAE,gBAAgB,KAAK,KAAK,YAAY,GAAGC,EAAC,GAAG,EAAE,wBAAwB,MAAI,KAAK,qBAAqB,cAAc;AAAA,IACnJ,CAAC;AAAA,EACH;AAAA,EACA,kBAAkBD,IAAGC,IAAG;AACtB,UAAM,IAAI,KAAK,QAAQ,IAAID,GAAE,WAAW;AACxC,SAAKC,OAAM,EAAE,mBAAmB,EAAE,iBAAiBA,IAAG,KAAK,KAAK,sBAAsBD,GAAE,aAAaC,EAAC,GAAG,EAAE,wBAAwB,CAACA,IAAG,KAAK,qBAAqB,cAAc;AAAA,EACjL;AAAA,EACA,kBAAkBD,IAAGC,IAAG;AACtB,UAAM,IAAI;AAAA,MACR,MAAME,GAAE;AAAA,MACR,gBAAgBF;AAAA,IAClB;AACA,WAAO,KAAK,kBAAkBD,IAAG,GAAG,IAAE;AAAA,EACxC;AAAA,EACA,mBAAmBA,IAAGC,IAAG;AACvB,UAAM,IAAI;AAAA,MACR,MAAME,GAAE;AAAA,MACR,iBAAiBF;AAAA,IACnB;AACA,WAAO,KAAK,kBAAkBD,IAAG,GAAG,IAAE;AAAA,EACxC;AAAA,EACA,cAAcA,IAAGC,IAAG;AAClB,UAAM,IAAI;AAAA,MACR,MAAME,GAAE;AAAA,MACR,YAAYF;AAAA,IACd;AACA,WAAO,KAAK,kBAAkBD,IAAG,GAAG,IAAE;AAAA,EACxC;AAAA,EACA,iCAAiCA,IAAGC,IAAG,GAAG,GAAG;AAC3C,UAAMC,KAAI;AAAA,MACR,MAAMC,GAAE;AAAA,MACR,cAAc;AAAA,QACZ,UAAUF;AAAA,QACV,sBAAsB;AAAA,QACtB,gBAAgB;AAAA,MAClB;AAAA,IACF;AACA,WAAO,KAAK,kBAAkBD,IAAGE,IAAG,IAAE;AAAA,EACxC;AAAA,EACA,kBAAkBF,IAAGC,IAAG;AACtB,UAAM,IAAI;AAAA,MACR,MAAME,GAAE;AAAA,MACR,gBAAgBF;AAAA,IAClB;AACA,WAAO,KAAK,kBAAkBD,IAAG,GAAG,IAAE;AAAA,EACxC;AAAA,EACA,gBAAgBA,IAAGC,IAAG;AACpB,UAAM,IAAI;AAAA,MACR,MAAME,GAAE;AAAA,MACR,cAAcF;AAAA,IAChB;AACA,WAAO,KAAK,kBAAkBD,IAAG,GAAG,IAAE;AAAA,EACxC;AAAA,EACA,yBAAyBA,IAAGC,IAAG;AAC7B,UAAM,IAAI;AAAA,MACR,MAAME,GAAE;AAAA,MACR,oBAAoBF;AAAA,MACpB,WAAWI,GAAE;AAAA,IACf;AACA,WAAO,KAAK,kBAAkBL,IAAG,GAAG,IAAE;AAAA,EACxC;AAAA,EACA,qBAAqBA,IAAGC,IAAG;AACzB,UAAM,IAAI;AAAA,MACR,MAAME,GAAE;AAAA,MACR,oBAAoBF;AAAA,MACpB,WAAWI,GAAE;AAAA,IACf;AACA,WAAO,KAAK,kBAAkBL,IAAG,GAAG,IAAE;AAAA,EACxC;AAAA,EACA,kBAAkBA,IAAGC,IAAG;AACtB,UAAM,IAAI;AAAA,MACR,MAAME,GAAE;AAAA,MACR,oBAAoBF;AAAA,MACpB,WAAWI,GAAE;AAAA,IACf;AACA,WAAO,KAAK,kBAAkBL,IAAG,GAAG,IAAE;AAAA,EACxC;AAAA,EACA,iBAAiBA,IAAGC,IAAG,GAAG,GAAG;AAC3B,UAAMC,KAAI;AAAA,MACR,MAAMC,GAAE;AAAA,MACR,eAAe;AAAA,QACb,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,SAASF;AAAA,MACX;AAAA,IACF;AACA,WAAO,KAAK,kBAAkBD,IAAGE,IAAG,IAAE;AAAA,EACxC;AAAA,EACA,0BAA0BF,IAAG;AAC3B,QAAI,CAAC,KAAK,KAAM;AAChB,UAAMC,KAAI,KAAK,QAAQ,IAAID,GAAE,WAAW;AACxC,QAAIC,IAAG;AACL,YAAM,IAAIA,GAAE,UAAU;AACtB,UAAI,IAAI;AACR,QAAE,eAAe,IAAI,EAAE,EAAE,WAAW,OAAO,EAAE,WAAW,MAAM,SAAS;AACvE,YAAMC,KAAI,KAAK,aAAa,EAAE,UAAU;AACxC,WAAK,KAAK,0BAA0BF,GAAE,aAAaE,GAAE,WAAWA,GAAE,SAASA,GAAE,SAAS,EAAE,aAAa,CAAC,GAAG,KAAK,qBAAqB,cAAc;AAAA,IACnJ;AAAA,EACF;AAAA,EACA,kBAAkBF,IAAGC,IAAG,GAAG;AACzB,QAAI,CAAC,KAAK,KAAM,QAAO;AACvB,QAAI,IAAI;AACR,WAAO,KAAK,QAAQ,QAAQ,CAACO,IAAGN,OAAM;AACpC,UAAIM,GAAE,UAAU,gBAAgBR,GAAE,aAAa;AAC7C,cAAMA,KAAI;AAAA,UACR,KAAK,KAAK,UAAUC,EAAC;AAAA,UACrB,WAAW;AAAA,UACX,KAAK;AAAA,UACL,YAAY;AAAA,QACd;AACA,aAAK,eAAeD,EAAC,MAAM,IAAI,MAAM,KAAK,KAAK,wBAAwBE,IAAGF,GAAE,KAAKA,GAAE,SAAS,GAAGA,GAAE,cAAc,KAAK,KAAK,MAAMA,GAAE,GAAG;AAAA,MACtI;AAAA,IACF,CAAC,GAAG,KAAK,KAAK,KAAK,qBAAqB,cAAc,GAAG;AAAA,EAC3D;AAAA,EACA,yBAAyBA,IAAGC,IAAG,GAAG,GAAGC,IAAG;AACtC,WAAOF,GAAE,IAAIC,EAAC,IAAI,EAAE,CAAC,GAAGD,GAAE,IAAIC,KAAI,CAAC,IAAI,EAAE,CAAC,GAAGD,GAAE,IAAIC,KAAI,CAAC,IAAI,EAAE,CAAC,GAAGD,GAAE,KAAKC,MAAK,EAAE,IAAI,EAAE,CAAC,GAAGD,GAAE,IAAIC,KAAI,CAAC,IAAI,EAAE,CAAC,GAAGD,GAAE,IAAIC,KAAI,CAAC,IAAI,EAAE,CAAC,GAAGD,GAAE,KAAKC,MAAK,EAAE,IAAIC,GAAE,CAAC,GAAGF,GAAE,IAAIC,KAAI,CAAC,IAAIC,GAAE,CAAC,GAAGF,GAAE,IAAIC,KAAI,CAAC,IAAIC,GAAE,CAAC,GAAGD,MAAK;AAAA,EAC7M;AAAA,EACA,uBAAuBD,IAAGC,IAAG,GAAG;AAC9B,WAAOD,GAAE,IAAIC,EAAC,IAAI,EAAE,CAAC,GAAGD,GAAE,IAAIC,KAAI,CAAC,IAAI,EAAE,CAAC,GAAGD,GAAE,IAAIC,KAAI,CAAC,IAAI,EAAE,CAAC,GAAGA,MAAK;AAAA,EACzE;AAAA,EACA,oBAAoB;AAClB,QAAI,CAAC,KAAK,KAAM;AAChB,UAAMD,KAAI,IACRC,KAAID,KAAI,GACR,IAAI,KAAK,KAAK,QAAQ,IAAIA,KAAI,aAAa,iBAAiB,GAC5D,IAAI,IAAI,aAAa,KAAK,KAAK,QAAQ,QAAQ,GAAG,IAAIA,EAAC,GACvDE,KAAI,KAAK,KAAK,QAAQ,IAAID,KAAI,aAAa,iBAAiB,GAC5DE,KAAI,IAAI,aAAa,KAAK,KAAK,QAAQ,QAAQD,IAAGF,EAAC,GACnDI,KAAI,KAAK,SAAS,OAAO,EAAE,gBAAgB,GAC3CC,KAAI,KAAK,SAAS,OAAO,EAAE,iBAAiB,GAC5CC,KAAI,KAAK,SAAS,OAAO,EAAE,cAAc,GACzC,IAAI,KAAK,SAAS,OAAO,EAAE,aAAa,GACxCG,KAAI,KAAK,SAAS,OAAO,EAAE,eAAe,GAC1CC,KAAI,KAAK,SAAS,OAAO,EAAE,gBAAgB,GAC3C,IAAI,KAAK,SAAS,OAAO,EAAE,aAAa,GACxCC,KAAI,KAAK,SAAS,OAAO,EAAE,YAAY;AACzC,QAAI,IAAI,GACN,IAAI;AACN,UAAMC,KAAI,KAAK,SAAS,OAAO,EAAE,IAAI;AACrC,QAAI,KAAK,yBAAyB,GAAG,GAAGN,IAAGD,IAAGD,EAAC,GAAG,IAAI,KAAK,uBAAuBD,IAAG,GAAGS,EAAC,GAAG,IAAI,KAAK,yBAAyB,GAAG,GAAGR,IAAG,GAAGE,EAAC,GAAG,IAAI,KAAK,uBAAuBH,IAAG,GAAGS,EAAC;AACrL,UAAMC,KAAI,KAAK,SAAS,OAAO,EAAE,GAAG;AACpC,QAAI,KAAK,yBAAyB,GAAG,GAAGJ,IAAGC,IAAG,CAAC,GAAG,IAAI,KAAK,uBAAuBP,IAAG,GAAGU,EAAC,GAAG,IAAI,KAAK,yBAAyB,GAAG,GAAG,GAAGF,IAAGF,EAAC,GAAG,IAAI,KAAK,uBAAuBN,IAAG,GAAGU,EAAC;AACrL,UAAMC,KAAI,KAAK,SAAS,OAAO,EAAE,GAAG;AACpC,QAAI,KAAK,yBAAyB,GAAG,GAAG,GAAGR,IAAG,CAAC,GAAG,IAAI,KAAK,uBAAuBH,IAAG,GAAGW,EAAC,GAAG,IAAI,KAAK,yBAAyB,GAAG,GAAG,GAAGH,IAAG,CAAC,GAAG,IAAI,KAAK,uBAAuBR,IAAG,GAAGW,EAAC;AACrL,UAAMC,KAAI,KAAK,SAAS,OAAO,EAAE,MAAM;AACvC,QAAI,KAAK,yBAAyB,GAAG,GAAGX,IAAGC,IAAGK,EAAC,GAAG,IAAI,KAAK,uBAAuBP,IAAG,GAAGY,EAAC,GAAG,IAAI,KAAK,yBAAyB,GAAG,GAAGL,IAAGD,IAAGL,EAAC,GAAG,IAAI,KAAK,uBAAuBD,IAAG,GAAGY,EAAC;AACrL,UAAM,IAAI,KAAK,SAAS,OAAO,EAAE,IAAI;AACrC,QAAI,KAAK,yBAAyB,GAAG,GAAG,GAAGX,IAAGK,EAAC,GAAG,IAAI,KAAK,uBAAuBN,IAAG,GAAG,CAAC,GAAG,IAAI,KAAK,yBAAyB,GAAG,GAAGM,IAAGE,IAAG,CAAC,GAAG,IAAI,KAAK,uBAAuBR,IAAG,GAAG,CAAC;AACrL,UAAM,IAAI,KAAK,SAAS,OAAO,EAAE,KAAK;AACtC,QAAI,KAAK,yBAAyB,GAAG,GAAGG,IAAG,GAAGI,EAAC,GAAG,IAAI,KAAK,uBAAuBP,IAAG,GAAG,CAAC,GAAG,IAAI,KAAK,yBAAyB,GAAG,GAAGO,IAAGL,IAAGC,EAAC,GAAG,IAAI,KAAK,uBAAuBH,IAAG,GAAG,CAAC,GAAG,OAAO,KAAK,wBAAwB,KAAK,KAAK,oBAAoB,KAAK,oBAAoB,GAAG,KAAK,uBAAuB,KAAK,KAAK,iBAAiB,GAAG,IAAIH,IAAGE,IAAGF,IAAG,KAAK,GAAG,GAAG,EAAE,GAAG,KAAK,KAAK,MAAM,CAAC,GAAG,KAAK,KAAK,MAAME,EAAC,GAAG,KAAK,kBAAkB,OAAI,KAAK,qBAAqB,cAAc;AAAA,EAC1d;AAAA,EACA,iBAAiB;AACf,aAAS,KAAK,wBAAwB,KAAK,sBAAsB,EAAE,OAAO,EAAE,OAAO,EAAE,OAAI,KAAK,KAAK,gBAAgB,CAAC,IAAI,SAAS,KAAK,aAAa,KAAK,WAAW,IAAIc,GAAE,KAAK,mBAAmB,IAAI,KAAK,kBAAkB,MAAI,SAAS,KAAK,wBAAwB,KAAK,qBAAqB,cAAc;AAAA,EAChT;AAAA,EACA,2BAA2BhB,IAAG;AAC5B,SAAK,QAAQ,KAAK,QAAQ,QAAQ,CAACC,IAAG,MAAM;AAC1C,MAAAA,GAAE,UAAU,gBAAgBD,GAAE,gBAAgB,KAAK,KAAK,+BAA+B,CAAC,GAAG,KAAK,qBAAqB,cAAc;AAAA,IACrI,CAAC;AAAA,EACH;AAAA,EACA,cAAcA,IAAG;AACf,QAAI,CAAC,KAAK,MAAM;AACd,YAAMC,KAAI;AAAA,QACN,WAAWD;AAAA,QACX,iBAAiB;AAAA,QACjB,gBAAgB;AAAA,MAClB,GACA,IAAI,IAAI,QAAQ,CAACA,IAAGQ,OAAM;AACxB,QAAAP,GAAE,kBAAkBD,IAAGC,GAAE,iBAAiBO;AAAA,MAC5C,CAAC;AACH,aAAO,KAAK,WAAW,KAAKP,EAAC,GAAG;AAAA,IAClC;AACA,UAAMA,KAAI,KAAK,eAAeD,EAAC;AAC/B,WAAOC,KAAI,IAAI,QAAQ,OAAO,EAAE,IAAI,QAAQ,QAAQA,EAAC;AAAA,EACvD;AAAA,EACA,iBAAiBD,IAAG;AAClB,QAAI,CAAC,KAAK,MAAM;AACd,YAAMC,KAAI,KAAK,WAAW,UAAU,CAAAA,OAAKD,GAAE,QAAQC,GAAE,UAAU,GAAG;AAClE,MAAAA,MAAK,MAAM,KAAK,WAAWA,EAAC,EAAE,gBAAgB,EAAE,GAAG,KAAK,WAAW,OAAOA,IAAG,CAAC;AAC9E,YAAMO,KAAI,KAAK,WAAW;AAC1B,aAAO,MAAMA,OAAM,KAAK,KAAKT,GAAE,UAAU,oFAAoF,GAAG,KAAK,QAAQ,IAAIS;AAAA,IACnJ;AACA,QAAIP,KAAI;AACR,SAAK,QAAQ,QAAQ,CAACO,IAAG,MAAM;AAC7B,UAAIA,GAAE,UAAU,gBAAgBR,GAAE,aAAa;AAC7C,QAAAC,KAAI,GAAGO,GAAE,gBAAgB,MAAM,GAAG,KAAK,KAAK,aAAaP,EAAC;AAC1D,cAAMC,KAAI,KAAK,SAAS,QAAQF,GAAE,MAAM,GAAG;AAC3C,eAAOE,MAAK,KAAK,SAAS,OAAOA,IAAG,CAAC;AAAA,MACvC;AAAA,IACF,CAAC,GAAGD,MAAK,KAAK,KAAK,QAAQ,OAAOA,EAAC;AACnC,UAAM,IAAI,KAAK,QAAQ;AACvB,WAAO,MAAM,MAAM,KAAK,KAAKF,GAAE,UAAU,oFAAoF,GAAG,KAAK,QAAQ,IAAI;AAAA,EACnJ;AAAA,EACA,cAAcC,IAAG;AACf,eAAWC,MAAK,KAAK,mBAAoB,KAAID,KAAIC,GAAG,QAAOA;AAC3D,WAAO;AAAA,EACT;AAAA,EACA,eAAeD,IAAG;AAChB,IAAAA,GAAE,YAAY,KAAK,KAAK,gBAAgBA,GAAE,GAAG,IAAI;AACjD,UAAMC,KAAI,KAAK,cAAcD,GAAE,SAAS;AACxC,WAAOC,KAAI,KAAKD,GAAE,aAAa,OAAIA,GAAE,MAAM,KAAK,KAAK,QAAQA,GAAE,SAAS,MAAMA,GAAE,aAAa,MAAIA,GAAE,MAAM,KAAK,eAAe,IAAIC,EAAC,GAAG,MAAMD,GAAE,QAAQA,GAAE,MAAM,KAAK,KAAK,QAAQC,EAAC,GAAG,KAAK,eAAe,IAAIA,IAAGD,GAAE,GAAG,KAAK,MAAMA,GAAE,QAAQ,KAAK,KAAK,aAAaA,GAAE,KAAKA,GAAE,KAAKA,GAAE,SAAS,GAAG;AAAA,EAC7R;AAAA,EACA,aAAaA,IAAG;AACd,QAAIC,KAAI,CAAC,OAAO,WACd,IAAI,OAAO,WACX,IAAI;AACN,WAAO,QAAQD,OAAMA,GAAE,YAAY,IAAI,QAAM,QAAQA,GAAE,UAAU,IAAI,MAAIC,KAAID,GAAE,MAAM,QAAQ,IAAI,MAAM,QAAQA,GAAE,QAAQ,IAAI,MAAI,IAAIA,GAAE,IAAI,QAAQ,IAAI,QAAQ;AAAA,MAC7J,WAAWC;AAAA,MACX,SAAS;AAAA,MACT,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EACA,eAAeD,IAAG;AAChB,UAAMC,KAAID,GAAE;AACZ,QAAI,IAAI;AACR,UAAME,KAAID,GAAE,iBAAiB;AAC7B,QAAIC,GAAE,SAAS,EAAG,QAAO;AACzB,UAAMC,KAAI;AAAA,MACR,KAAKD;AAAA,MACL,WAAW;AAAA,MACX,KAAK;AAAA,MACL,YAAY;AAAA,IACd;AACA,QAAI,CAAC,KAAK,eAAeC,EAAC,EAAG,QAAO;AACpC,UAAMC,KAAI,KAAK,aAAaH,GAAE,UAAU,GACtCK,KAAI,KAAK,KAAK,iBAAiB,WAAWL,GAAE,iBAAiB,UAAU,qBAAqB;AAC9F,QAAI,IAAI;AACR,QAAIA,GAAE,eAAe,IAAI,EAAEA,GAAE,WAAW,OAAOA,GAAE,WAAW,MAAM,SAAS,IAAI,IAAI,KAAK,KAAK,UAAUA,GAAE,aAAaE,GAAE,KAAKA,GAAE,WAAWG,IAAGA,IAAGF,GAAE,WAAWA,GAAE,SAASA,GAAE,SAASH,GAAE,aAAa,GAAG,KAAK,eAAe,KAAK,KAAK,cAAc,CAAC,GAAGE,GAAE,cAAc,KAAK,KAAK,MAAMA,GAAE,GAAG,GAAG,KAAK,GAAG;AACnS,MAAAF,GAAE,MAAM,sBAAsB,KAAK,oBAAoB,GAAG,MAAK,IAAG,GAAG,KAAK,oBAAoB,GAAG,KAAI,GAAE,GAAG,KAAK,oBAAoB,GAAG,MAAK,IAAG;AAC9I,YAAMC,KAAI,IAAI,gBAAgB;AAC9B,UAAI,KAAK,QAAQ,IAAI,GAAG;AAAA,QACtB,WAAWF;AAAA,QACX,WAAW,oBAAI,IAAI;AAAA,QACnB,yBAAyB;AAAA,QACzB,iBAAiBE;AAAA,QACjB,uBAAuB;AAAA,QACvB,gBAAgB;AAAA,MAClB,CAAC,GAAG,KAAK,SAAS,KAAKF,GAAE,MAAM,GAAG,GAAG,CAAC,KAAK,6BAA6B,IAAI,KAAK,GAAG;AAClF,cAAMC,KAAI,CAAC;AACX,YAAIO,KAAI;AACR,mBAAW,KAAKR,GAAE,MAAM,UAAW,aAAY,EAAE,gBAAgB,QAAQ,aAAa,EAAE,gBAAgB,SAASC,GAAE,KAAK,EAAE,IAAI,GAAG,EAAE,OAAOD,GAAE,MAAM,sBAAsBQ,KAAI,EAAE;AAC9K,eAAOA,MAAK,EAAE,UAAU,IAAI,EAAE,MAAM,0BAA0BR,GAAE,OAAO,oBAAoBA,GAAE,MAAM,KAAK,yCAAyCQ,EAAC,mBAAmB,GAAGP,GAAE,SAAS,KAAK,EAAE,UAAU,IAAI,EAAE,KAAK,4BAA4BD,GAAE,OAAO,oBAAoBA,GAAE,MAAM,KAAK,kCAAkCC,GAAE,SAAS,CAAC,mBAAmB;AAAA,MACxV;AACA,UAAI,CAAC,KAAK,8BAA8B;AACtC,cAAMA,KAAI,CAAC;AACX,YAAIO,KAAI;AACR,mBAAW,KAAKR,GAAE,MAAM,UAAW,eAAc,EAAE,gBAAgB,SAASC,GAAE,KAAK,EAAE,IAAI,GAAG,EAAE,OAAOD,GAAE,MAAM,sBAAsBQ,KAAI,EAAE;AACzI,eAAOA,MAAK,EAAE,UAAU,IAAI,EAAE,MAAM,0BAA0BR,GAAE,OAAO,oBAAoBA,GAAE,MAAM,KAAK,yCAAyCQ,EAAC,mBAAmB,GAAGP,GAAE,SAAS,KAAK,EAAE,UAAU,IAAI,EAAE,KAAK,4BAA4BD,GAAE,OAAO,oBAAoBA,GAAE,MAAM,KAAK,kCAAkCC,GAAE,SAAS,CAAC,mBAAmB;AAAA,MACxV;AACA,aAAO,IAAI,aAAa,KAAK,EAAE,UAAU,IAAI,EAAE,SAAS,mFAAmF,GAAG;AAAA,IAChJ;AACA,WAAO;AAAA,EACT;AAAA,EACA,cAAcD,IAAG;AACf,QAAI,CAAC,KAAK,KAAM;AAChB,UAAMC,KAAID,GAAE,eAAe,OAAO,aAChC,IAAIA,GAAE,eAAe,OAAO;AAC9B,SAAK,KAAK,gCAAgC,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAGC,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGA,GAAE,CAAC,CAAC;AAC5E,UAAM,IAAI,KAAK,KAAK,KAAK;AACzB,SAAK,KAAKF,GAAE,iBAAiB,0BAA0B,CAAC,GAAG,KAAK,cAAc,IAAI,GAAG,KAAK,6BAA6B,MAAM,KAAK,WAAW,QAAQ,KAAK,mBAAmB;AAAA,EAC/K;AAAA,EACA,WAAWC,IAAG;AACZ,QAAI,CAAC,KAAK,KAAM;AAChB,eAAW,KAAK,KAAK,YAAY;AAC/B,YAAMA,KAAI,KAAK,eAAe,EAAE,SAAS;AACzC,aAAOA,KAAI,EAAE,eAAe,EAAE,IAAI,EAAE,gBAAgBA,EAAC;AAAA,IACvD;AACA,QAAI,KAAK,aAAa,CAAC,GAAG,MAAM,KAAK,QAAQ,KAAM,QAAO,KAAK,KAAK,KAAKD,GAAE,OAAO,qEAAqE;AACvJ,SAAK,0BAA0B,KAAK,KAAK,YAAY,KAAK,uBAAuB,GAAG,KAAK,YAAY,GAAG,KAAK,KAAK,kBAAkB,CAAC,KAAK,KAAK,OAAO,SAAS,iBAAiB,EAAE,mBAAmB,GAAGC,GAAE,eAAe,SAAS,UAAU,UAAU,CAAC,GAAGA,GAAE,eAAe,SAAS,UAAU,UAAU,CAAC,GAAGA,GAAE,eAAe,SAAS,UAAU,UAAU,CAAC,CAAC;AAC5V,UAAMC,KAAI,KAAK,uBAAuB;AACtC,IAAAA,GAAE,UAAU,KAAK,kBAAkBA,GAAE,WAAW,KAAK,oBAAoB,KAAK,iBAAiBA,GAAE,OAAO,KAAK,kBAAkBA,GAAE,QAAQ,KAAK,KAAK,aAAaA,GAAE,OAAOA,GAAE,MAAM,GAAG,KAAK,QAAQ,QAAQ,CAAAD,OAAK;AAC5M,MAAAA,GAAE,wBAAwB;AAAA,IAC5B,CAAC,IAAI,MAAMC,GAAE,KAAK,MAAMA,GAAE,KAAK,KAAK,KAAKF,GAAE,OAAO,2CAA2C,GAAG,KAAK,iBAAiBC,GAAE,eAAe,MAAM,GAAG,KAAK,oBAAoB,KAAK,SAAS,OAAOA,GAAE,eAAe,MAAM,GAAG,KAAK,kBAAkB,IAAI,KAAK,KAAK,KAAK,GAAG,KAAK,WAAW,IAAI,KAAK,eAAe,CAAC,KAAK,8BAA8B,KAAK,QAAQ,OAAO,MAAM,KAAK,qBAAqB,cAAc;AAAA,EACrZ;AAAA,EACA,UAAU;AACR,SAAK,KAAKD,GAAE,UAAU,aAAa,GAAG,KAAK,oBAAoB,GAAG,KAAK,SAAS,KAAK,QAAQ,QAAQ,CAAAC,OAAK;AACxG,MAAAA,GAAE,gBAAgB,MAAM;AAAA,IAC1B,CAAC,GAAG,KAAK,eAAe,QAAQ,CAAAA,OAAK;AACnC,YAAMA,MAAK,KAAK,KAAK,MAAMA,EAAC;AAAA,IAC9B,CAAC,GAAG,KAAK,KAAK,wBAAwB,GAAG,KAAK,OAAO;AAAA,EACvD;AAAA,EACA,gBAAgBA,IAAG;AACjB,WAAO,KAAK,OAAO,QAAQ,QAAQ,KAAK,KAAK,gBAAgB,KAAK,cAAcA,GAAEA,EAAC,EAAE,KAAK,CAAAA,OAAK;AAC7F,UAAI,KAAK,OAAOA,IAAG,KAAK,cAAc,MAAM,KAAK,WAAW,UAAU,EAAG,QAAO,KAAK,KAAKD,GAAE,UAAU,mFAAmF,GAAG,KAAK,KAAK,QAAQ;AAC9M,YAAME,KAAI,KAAK,aAAa,KAAK,MAAM,UAAU,GAC/C,IAAI,KAAK,KAAK,YAAY,KAAK,oBAAoB,KAAK,IAAI,GAAG,GAAG,GAClE,IAAI,KAAK,KAAK,YAAY,KAAK,eAAe,KAAK,IAAI,GAAG,OAAO,GACjEC,KAAI,KAAK,KAAK,YAAY,KAAK,cAAc,KAAK,IAAI,GAAG,IAAI,GAC7DC,KAAI,KAAK,KAAK,YAAY,KAAK,oBAAoB,KAAK,IAAI,GAAG,IAAI,GACnEC,KAAI,KAAK,KAAK,YAAY,KAAK,8BAA8B,KAAK,IAAI,GAAG,MAAM,GAC/EC,KAAI,KAAK,KAAK,YAAY,KAAK,aAAa,KAAK,IAAI,GAAG,OAAO,GAC/DC,KAAI,KAAK,KAAK,YAAY,KAAK,yBAAyB,KAAK,IAAI,GAAG,KAAK,GACzE,IAAI,KAAK,KAAK,YAAY,KAAK,qBAAqB,KAAK,IAAI,GAAG,MAAM,GACtEG,KAAI,KAAK,6BAA6B,CAAC,IAAI,KAAK,GAChDC,KAAI,KAAK;AACX,WAAK,KAAK,sBAAsB,GAAG,GAAGR,IAAGC,IAAGC,IAAGC,IAAGC,IAAG,GAAGL,GAAE,WAAWA,GAAE,SAASA,GAAE,SAASQ,IAAGC,EAAC,GAAG,KAAK,wBAAwB,KAAK,qBAAqB,cAAc;AAAA,IACzK,CAAC,EAAE,MAAM,MAAM;AACb,iBAAWV,MAAK,KAAK,WAAY,CAAAA,GAAE,eAAe,EAAE;AACpD,WAAK,KAAKD,GAAE,OAAO,gEAAgE,GAAG,KAAK,QAAQ;AAAA,IACrG,CAAC,IAAI,KAAK;AAAA,EACZ;AAAA,EACA,UAAUC,IAAGC,IAAG,GAAG;AACjB,QAAI,CAAC,KAAK,QAAQ,CAAC,KAAK,SAAS,MAAM,KAAK,QAAQ,KAAM,QAAO;AACjE,UAAM,IAAI,EAAE,SAAS,CAAC,IAAIA;AAC1B,QAAID,KAAI,KAAKA,KAAI,EAAE,SAAS,CAAC,KAAKC,KAAI,KAAKA,KAAI,EAAE,SAAS,CAAC,EAAG,QAAO,KAAK,KAAKF,GAAE,OAAO,yCAAyCC,GAAE,QAAQ,CAAC,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,IAAI,GAAG;AACrK,SAAK,YAAY;AACjB,UAAME,KAAI,EAAE,aACVC,KAAI,EAAE;AACR,SAAK,KAAK,gCAAgCA,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGD,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGA,GAAE,CAAC,CAAC,GAAG,KAAK,iBAAiB,CAAC,GAAG,KAAK,KAAK,YAAY;AAC/H,UAAME,KAAI,KAAK,KAAK,WAAWJ,IAAG,CAAC;AACnC,QAAI,KAAK,WAAW,GAAGI,GAAE,SAAS;AAChC,aAAOA,GAAE;AAAA,IACX;AACA,WAAO;AAAA,EACT;AAAA,EACA,WAAWJ,IAAGC,IAAG,GAAG,GAAG;AACrB,QAAI,CAAC,KAAK,QAAQ,CAAC,KAAK,SAAS,MAAM,KAAK,QAAQ,KAAM,QAAO;AACjE,UAAMC,KAAI,KAAK,MAAMF,EAAC,GACpBG,KAAI,KAAK,MAAMF,EAAC;AAClB,QAAIC,KAAI,KAAKA,KAAI,EAAE,SAAS,CAAC,KAAKC,KAAI,KAAKA,KAAI,EAAE,SAAS,CAAC,EAAG,QAAO,KAAK,KAAKJ,GAAE,OAAO,0CAA0CG,EAAC,KAAKC,EAAC,UAAU,EAAE,SAAS,SAAS,CAAC,GAAG,GAAG;AAC9K,SAAK,YAAY;AACjB,UAAMC,KAAI,EAAE,aACVC,KAAI,EAAE;AACR,SAAK,KAAK,gCAAgCA,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGD,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGA,GAAE,CAAC,CAAC,GAAG,KAAK,iBAAiB,CAAC,GAAG,KAAK,KAAK,YAAY;AAC/H,QAAIE,KAAI;AACR,QAAI,MAAM,EAAE,OAAQ,CAAAA,KAAI,KAAK,KAAK,YAAYJ,IAAGC,IAAG,GAAG,CAAC;AAAA,SAAO;AAC7D,YAAMH,KAAI;AAAA,QACR,KAAK,KAAK,UAAU;AAAA,UAClB,UAAU;AAAA,QACZ,CAAC;AAAA,QACD,WAAW;AAAA,QACX,KAAK;AAAA,QACL,YAAY;AAAA,MACd;AACA,WAAK,eAAeA,EAAC,MAAMM,KAAI,KAAK,KAAK,YAAYJ,IAAGC,IAAGH,GAAE,KAAKA,GAAE,SAAS,GAAGA,GAAE,cAAc,KAAK,KAAK,MAAMA,GAAE,GAAG;AAAA,IACvH;AACA,WAAO,KAAK,WAAW,GAAGM;AAAA,EAC5B;AAAA,EACA,cAAc;AACZ,SAAK,yBAAyB;AAAA,MAC5B,KAAK,KAAK,MAAM,0BAA0B;AAAA,MAC1C,UAAU,KAAK,MAAM,YAAY;AAAA,IACnC,GAAG,KAAK,MAAM,4BAA4B,KAAE,GAAG,KAAK,MAAM,sBAAsB,KAAE,GAAG,KAAK,MAAM,aAAa,MAAI,MAAI,MAAI,IAAE;AAAA,EAC7H;AAAA,EACA,aAAa;AACX,SAAK,uBAAuB,MAAM,MAAM,KAAK,MAAM,0BAA0B,KAAK,KAAK,iCAAiC,GAAG,KAAK,KAAK,wBAAwB,CAAC,GAAG,KAAK,MAAM,gCAAgC,GAAG,KAAK,MAAM,2BAA2B,GAAG,KAAK,MAAM,sBAAsB;AAAA,EAC3R;AAAA,EACA,UAAUN,IAAGC,IAAG,GAAG,GAAGC,IAAG;AACvB,QAAI,CAAC,KAAK,QAAQ,CAAC,KAAK,SAAS,MAAM,KAAK,QAAQ,QAAQ,CAACF,GAAE,QAAQ,iBAAiBA,GAAE,QAAQ,WAAY;AAC9G,QAAI,QAAQE,MAAKA,GAAE,CAAC,IAAI,KAAKA,GAAE,CAAC,IAAIF,GAAE,OAAO,SAAS,CAAC,KAAKE,GAAE,CAAC,IAAI,KAAKA,GAAE,CAAC,IAAIF,GAAE,OAAO,SAAS,CAAC,EAAG,QAAO,KAAK,KAAKD,GAAE,OAAO,2DAA2DG,GAAE,CAAC,EAAE,QAAQ,CAAC,CAAC,KAAKA,GAAE,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,GAAG;AACnO,UAAMC,KAAI,CAAC;AACX,SAAK,QAAQ,QAAQ,CAAAF,OAAK;AACxB,MAAAD,GAAE,QAAQ,kBAAkB,SAASC,GAAE,UAAU,MAAM,GAAG,KAAKE,GAAE,KAAKF,GAAE,UAAU,WAAW;AAAA,IAC/F,CAAC;AACD,UAAMG,KAAI,KAAK,WAAWF,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGF,GAAE,QAAQG,EAAC;AACjD,QAAI,QAAQC,MAAK,OAAOA,GAAE,QAAS;AACnC,UAAMC,KAAI,KAAK,QAAQ,IAAID,GAAE,OAAO;AACpC,QAAIC,IAAG;AACL,YAAMJ,KAAII,GAAE,UAAU,MAAM,KAC1BH,KAAIE,GAAE,mBAAmB,EAAE,GAAG,CAAC,GAC/BD,KAAIC,GAAE;AACR,MAAAD,GAAE,CAAC,IAAIC,GAAE,QAAQD,GAAE,CAAC,IAAIC,GAAE,QAAQD,GAAE,CAAC,IAAIC,GAAE;AAC3C,YAAME,KAAI,CAAC;AACX,UAAI,QAAQF,GAAE,mBAAmB,QAAQA,GAAE,uBAAuBE,GAAE,oBAAoB,IAAI,GAAGF,GAAE,gBAAgB,eAAe,CAAC,IAAIA,GAAE,oBAAoB,KAAK,QAAQA,GAAE,oBAAoB,QAAQA,GAAE,cAAcE,GAAE,oBAAoB,IAAI,GAAGF,GAAE,gBAAgB,KAAKA,GAAE,WAAW,MAAM,QAAQA,GAAE,gBAAgBE,GAAE,oBAAoB,IAAI,GAAGF,GAAE,WAAW,KAAKE,GAAE,4BAA4B,IAAIF,GAAE,eAAeE,GAAE,gBAAgB,IAAIF,GAAE,oBAAoB,QAAQA,GAAE,aAAa,QAAQA,GAAE,cAAc,QAAQA,GAAE,iBAAiB;AAC7gB,cAAMJ,KAAI,IAAI,KAAKI,GAAE,SAAS;AAC9B,QAAAE,GAAE,wBAAwB,IAAIN,GAAE,SAAS,GAAGM,GAAE,yBAAyB,IAAI,GAAGF,GAAE,WAAW,eAAe,CAAC,IAAIA,GAAE,eAAe;AAAA,MAClI;AACA,cAAQA,GAAE,SAAS,QAAQA,GAAE,eAAeE,GAAE,oBAAoB,IAAI,GAAGF,GAAE,MAAM,eAAe,CAAC,IAAIA,GAAE,UAAU;AACjH,YAAM,IAAIA,GAAE;AACZ,MAAAE,GAAE,qBAAqB,IAAI,IAAIH,GAAE,CAAC,CAAC,KAAKA,GAAE,CAAC,CAAC,KAAKA,GAAE,CAAC,CAAC;AACrD,YAAM,IAAI,CAAAH,OAAK;AACX,cAAMQ,KAAI,IAAI,EAAEL,IAAGF,IAAG,MAAM,KAAK,oBAAoBI,GAAE,UAAU,OAAOC,EAAC,CAAC;AAC1E,QAAAN,GAAE,IAAI,KAAK,MAAMQ,IAAGN,IAAG,CAAC;AAAA,MAC1B,GACAc,KAAIhB,GAAE,SACNiB,KAAIjB,GAAE,QAAQ,UAAUA,GAAE;AAC5B,WAAK,QAAQgB,GAAE,IAAI,QAAQd,KAAIc,GAAE,IAAI,SAAS,EAAEA,GAAE,GAAG,IAAI,QAAQA,GAAE,IAAI,QAAQd,KAAIc,GAAE,IAAI,SAAS,EAAEA,GAAE,GAAG,GAAGC,IAAG;AAC7G,cAAMhB,KAAI,EAAED,GAAE,GAAG;AACjB,UAAEC,EAAC,GAAGD,GAAE,QAAQ,IAAI,KAAKC,EAAC;AAAA,MAC5B;AAAA,IACF;AAAA,EACF;AAAA,EACA,oBAAoBD,IAAG,GAAG;AACxB,WAAO,IAAIS,GAAE;AAAA,MACX,OAAOT;AAAA,MACP,aAAaA;AAAA,MACb,YAAY;AAAA,IACd,CAAC;AAAA,EACH;AAAA,EACA,eAAeA,IAAG;AAChB,YAAQA,IAAG;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,IACX;AAAA,EACF;AAAA,EACA,oBAAoBA,IAAGC,IAAG,GAAG;AAC3B,SAAK,QAAQ,KAAK,KAAK,qBAAqBD,IAAGC,IAAG,CAAC;AAAA,EACrD;AACF;AACA,EAAE,CAAC,EAAE;AAAA,EACH,eAAe;AACjB,CAAC,CAAC,GAAG,EAAE,WAAW,QAAQ,MAAM,GAAG,IAAI,EAAE,CAAC,EAAE,mCAAmC,CAAC,GAAG,CAAC;AACpF,IAAM,IAAI;",
  "names": ["e", "i", "n", "a", "o", "e", "t", "n", "i", "U", "e", "t", "i", "a", "n", "o", "l", "r", "s", "d", "u", "g", "x", "y", "v", "b", "c", "m"]
}
