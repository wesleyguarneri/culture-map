{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/geometry/support/rotate.js", "../../../../../../node_modules/@arcgis/core/views/draw/support/Box.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../geometry.js\";\nimport { isClockwise as n } from \"./coordsUtils.js\";\nimport e from \"../Polygon.js\";\nimport t from \"../Polyline.js\";\nimport s from \"../Point.js\";\nimport i from \"../Multipoint.js\";\nfunction o(n, e, t, s) {\n  const i = [];\n  for (const o of n) {\n    const n = o.slice(0);\n    i.push(n);\n    const r = e * (o[0] - s.x) - t * (o[1] - s.y) + s.x,\n      a = t * (o[0] - s.x) + e * (o[1] - s.y) + s.y;\n    n[0] = r, n[1] = a;\n  }\n  return i;\n}\nfunction r(r, a, c) {\n  const {\n      hasM: m,\n      hasZ: x,\n      spatialReference: f\n    } = r,\n    p = a * Math.PI / 180,\n    l = Math.cos(p),\n    h = Math.sin(p);\n  if (\"xmin\" in r && (c = c ?? r.center, r = new e({\n    spatialReference: f,\n    rings: [[[r.xmin, r.ymin], [r.xmin, r.ymax], [r.xmax, r.ymax], [r.xmax, r.ymin], [r.xmin, r.ymin]]]\n  })), \"paths\" in r) {\n    c = c ?? r.extent.center;\n    const n = [];\n    for (const e of r.paths) n.push(o(e, l, h, c));\n    return new t({\n      hasM: m,\n      hasZ: x,\n      spatialReference: f,\n      paths: n\n    });\n  }\n  if (\"rings\" in r) {\n    c = c ?? r.extent.center;\n    const t = [];\n    for (const e of r.rings) {\n      const s = n(e),\n        i = o(e, l, h, c);\n      n(i) !== s && i.reverse(), t.push(i);\n    }\n    return new e({\n      hasM: m,\n      hasZ: x,\n      spatialReference: f,\n      rings: t\n    });\n  }\n  if (\"x\" in r) {\n    c = c ?? r;\n    const n = new s({\n      x: l * (r.x - c.x) - h * (r.y - c.y) + c.x,\n      y: h * (r.x - c.x) + l * (r.y - c.y) + c.y,\n      spatialReference: f\n    });\n    return null != r.z && (n.z = r.z), null != r.m && (n.m = r.m), n;\n  }\n  return \"points\" in r ? (c = c ?? r.extent.center, new i({\n    hasM: m,\n    hasZ: x,\n    points: o(r.points, l, h, c),\n    spatialReference: f\n  })) : null;\n}\nexport { r as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport e from \"../../../Graphic.js\";\nimport i from \"../../../core/Evented.js\";\nimport { destroyMaybe as s } from \"../../../core/maybe.js\";\nimport { zeroMeters as o } from \"../../../core/quantityUtils.js\";\nimport { when as r, watch as a, syncAndInitial as h, initial as c } from \"../../../core/reactiveUtils.js\";\nimport { property as n } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as l } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as p } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { getRingsOrPathsBounds as _ } from \"../../../geometry/support/boundsUtils.js\";\nimport { geometryToCoordinates as d } from \"../../../geometry/support/coordsUtils.js\";\nimport m from \"../../../geometry/support/rotate.js\";\nimport u from \"../../../symbols/SimpleFillSymbol.js\";\nimport g from \"../../../symbols/SimpleLineSymbol.js\";\nimport y from \"../../../symbols/SimpleMarkerSymbol.js\";\nimport { cloneMove as v, scale as f, getRotationAngle as G, getScaleRatio as b } from \"./drawUtils.js\";\nimport w from \"./GraphicMover.js\";\nimport x from \"./HighlightHelper.js\";\nimport { addUniqueLayer as S } from \"./layerUtils.js\";\nimport { settings as k } from \"./settings.js\";\nimport R from \"../../interactive/sketch/SketchOptions.js\";\nimport { Tooltip as M } from \"../../interactive/tooltip/Tooltip.js\";\nimport { ExtentRotateTooltipInfo as I } from \"../../interactive/tooltip/infos/ExtentRotateTooltipInfo.js\";\nimport { ExtentScaleTooltipInfo as H } from \"../../interactive/tooltip/infos/ExtentScaleTooltipInfo.js\";\nimport { TranslateTooltipInfo as C } from \"../../interactive/tooltip/infos/TranslateTooltipInfo.js\";\nimport { autoDistanceBetweenPoints2D as O } from \"../../support/automaticLengthMeasurementUtils.js\";\nimport { autoSize2D as j } from \"../../support/extentUtils.js\";\nimport T from \"../../../geometry/Point.js\";\nimport E from \"../../../geometry/Polygon.js\";\nimport L from \"../../../geometry/Polyline.js\";\nclass z {\n  constructor(t, e, i, s) {\n    this.graphics = t, this.mover = e, this.dx = i, this.dy = s, this.type = \"move-start\";\n  }\n}\nclass B {\n  constructor(t, e, i, s) {\n    this.graphics = t, this.mover = e, this.dx = i, this.dy = s, this.type = \"move\";\n  }\n}\nclass Y {\n  constructor(t, e, i, s) {\n    this.graphics = t, this.mover = e, this.dx = i, this.dy = s, this.type = \"move-stop\";\n  }\n}\nclass N {\n  constructor(t, e, i) {\n    this.graphics = t, this.mover = e, this.angle = i, this.type = \"rotate-start\";\n  }\n}\nclass U {\n  constructor(t, e, i) {\n    this.graphics = t, this.mover = e, this.angle = i, this.type = \"rotate\";\n  }\n}\nclass A {\n  constructor(t, e, i) {\n    this.graphics = t, this.mover = e, this.angle = i, this.type = \"rotate-stop\";\n  }\n}\nclass P {\n  constructor(t, e, i, s) {\n    this.graphics = t, this.mover = e, this.xScale = i, this.yScale = s, this.type = \"scale-start\";\n  }\n}\nclass X {\n  constructor(t, e, i, s) {\n    this.graphics = t, this.mover = e, this.xScale = i, this.yScale = s, this.type = \"scale\";\n  }\n}\nclass F {\n  constructor(t, e, i, s) {\n    this.graphics = t, this.mover = e, this.xScale = i, this.yScale = s, this.type = \"scale-stop\";\n  }\n}\nconst D = k.transformGraphics,\n  V = {\n    centerIndicator: new y({\n      style: \"cross\",\n      size: D.center.size,\n      color: D.center.color\n    }),\n    fill: {\n      default: new u({\n        color: D.fill.color,\n        outline: {\n          color: D.fill.outlineColor,\n          join: \"round\",\n          width: 1\n        }\n      }),\n      active: new u({\n        color: D.fill.stagedColor,\n        outline: {\n          color: D.fill.outlineColor,\n          join: \"round\",\n          style: \"dash\",\n          width: 1\n        }\n      })\n    },\n    handles: {\n      default: new y({\n        style: \"square\",\n        size: D.vertex.size,\n        color: D.vertex.color,\n        outline: {\n          color: D.vertex.outlineColor,\n          width: 1\n        }\n      }),\n      hover: new y({\n        style: \"square\",\n        size: D.vertex.hoverSize,\n        color: D.vertex.hoverColor,\n        outline: {\n          color: D.vertex.hoverOutlineColor,\n          width: 1\n        }\n      })\n    },\n    rotator: {\n      default: new y({\n        style: \"circle\",\n        size: D.vertex.size,\n        color: D.vertex.color,\n        outline: {\n          color: D.vertex.outlineColor,\n          width: 1\n        }\n      }),\n      hover: new y({\n        style: \"circle\",\n        size: D.vertex.hoverSize,\n        color: D.vertex.hoverColor,\n        outline: {\n          color: D.vertex.hoverOutlineColor,\n          width: 1\n        }\n      })\n    },\n    rotatorLine: new g({\n      color: D.line.color,\n      width: 1\n    })\n  };\nlet q = class extends i.EventedAccessor {\n  constructor(t) {\n    super(t), this._activeHandleGraphic = null, this._graphicAttributes = {\n      esriSketchTool: \"box\"\n    }, this._mover = null, this._centerGraphic = null, this._backgroundGraphic = null, this._vertexGraphics = [], this._rotateHandleGraphic = null, this._rotateGraphicOffset = 20, this._angleOfRotation = 0, this._rotateLineGraphic = null, this._startInfo = null, this._totalDx = 0, this._totalDy = 0, this._xScale = 1, this._yScale = 1, this.tooltip = null, this.type = \"box\", this.callbacks = {\n      onMoveStart() {},\n      onMove() {},\n      onMoveStop() {},\n      onScaleStart() {},\n      onScale() {},\n      onScaleStop() {},\n      onRotateStart() {},\n      onRotate() {},\n      onRotateStop() {},\n      onGraphicClick() {}\n    }, this.enableMovement = !0, this.enableRotation = !0, this.enableScaling = !0, this.graphics = [], this.highlightsEnabled = !0, this.layer = null, this.preserveAspectRatio = !1, this.showCenterGraphic = !0, this.symbols = V, this.sketchOptions = new R(), this.view = null, this._getBounds = (() => {\n      const t = p();\n      return (e, i) => {\n        e[0] = Number.POSITIVE_INFINITY, e[1] = Number.POSITIVE_INFINITY, e[2] = Number.NEGATIVE_INFINITY, e[3] = Number.NEGATIVE_INFINITY;\n        for (const s of i) {\n          if (!s) continue;\n          let i, o, r, a;\n          if (\"point\" === s.type) i = r = s.x, o = a = s.y;else if (\"multipoint\" === s.type) {\n            const e = d(s);\n            [i, o, r, a] = _(t, [e]);\n          } else if (\"extent\" === s.type) [i, o, r, a] = [s.xmin, s.ymin, s.xmax, s.ymax];else {\n            const e = d(s);\n            [i, o, r, a] = _(t, e);\n          }\n          e[0] = Math.min(i, e[0]), e[1] = Math.min(o, e[1]), e[2] = Math.max(r, e[2]), e[3] = Math.max(a, e[3]);\n        }\n        return e;\n      };\n    })();\n  }\n  initialize() {\n    const t = this.view;\n    this._highlightHelper = new x({\n      view: t\n    }), this._setup(), this.addHandles([r(() => t?.ready, () => {\n      const {\n        layer: t,\n        view: e\n      } = this;\n      S(e, t);\n    }, {\n      once: !0,\n      initial: !0\n    }), a(() => this.preserveAspectRatio, () => {\n      this._activeHandleGraphic && (this._scaleGraphic(this._activeHandleGraphic), this._updateGraphics(), this._updateTooltip(this._activeHandleGraphic));\n    }), a(() => t?.scale, () => {\n      this._updateRotateGraphic(), this._updateRotateLineGraphic();\n    }), a(() => this.graphics, () => this.refresh()), a(() => this.layer, (t, e) => {\n      e && this._resetGraphics(e), this.refresh();\n    }), a(() => this.highlightsEnabled, () => {\n      this._highlightHelper?.removeAll(), this._setUpHighlights();\n    }), a(() => this.sketchOptions.tooltips.effectiveEnabled, t => {\n      this.tooltip = t ? new M({\n        view: this.view\n      }) : s(this.tooltip);\n    }, h), a(() => this.view.effectiveTheme.accentColor, () => this._updateSymbolsForTheme(), c), this.on(\"move-start\", t => this.callbacks?.onMoveStart?.(t)), this.on(\"move\", t => this.callbacks?.onMove?.(t)), this.on(\"move-stop\", t => this.callbacks?.onMoveStop?.(t)), this.on(\"rotate-start\", t => this.callbacks?.onRotateStart?.(t)), this.on(\"rotate\", t => this.callbacks?.onRotate?.(t)), this.on(\"rotate-stop\", t => this.callbacks?.onRotateStop?.(t)), this.on(\"scale-start\", t => this.callbacks?.onScaleStart?.(t)), this.on(\"scale\", t => this.callbacks?.onScale?.(t)), this.on(\"scale-stop\", t => this.callbacks?.onScaleStop?.(t))]);\n  }\n  destroy() {\n    this._reset(), this.tooltip = s(this.tooltip);\n  }\n  get state() {\n    const t = this.view?.ready ?? !1,\n      e = this.graphics.length && this.layer;\n    return t && e ? \"active\" : t ? \"ready\" : \"disabled\";\n  }\n  isUIGraphic(t) {\n    return this._vertexGraphics.includes(t) || t === this._backgroundGraphic || t === this._centerGraphic || t === this._rotateHandleGraphic || t === this._rotateLineGraphic;\n  }\n  move(t, e) {\n    if (this._mover && this.graphics.length) {\n      for (const i of this.graphics) {\n        const s = i.geometry,\n          o = v(s, t, e, this.view);\n        i.geometry = o;\n      }\n      this.refresh(), this.emit(\"move-stop\", new Y(this.graphics, null, t, e));\n    }\n  }\n  scale(t, e) {\n    if (this._mover && this.graphics.length) {\n      for (const i of this.graphics) {\n        const s = i.geometry,\n          o = f(s, t, e);\n        i.geometry = o;\n      }\n      this.refresh(), this.emit(\"scale-stop\", new F(this.graphics, null, t, e));\n    }\n  }\n  rotate(t, e) {\n    if (this._mover && this.graphics.length) {\n      if (!e) {\n        const t = this._vertexGraphics[1].geometry.x,\n          i = this._vertexGraphics[3].geometry.y;\n        e = new T(t, i, this.view.spatialReference);\n      }\n      for (const i of this.graphics) {\n        const s = i.geometry,\n          o = m(s, t, e);\n        i.geometry = o;\n      }\n      this.refresh(), this.emit(\"rotate-stop\", new A(this.graphics, null, t));\n    }\n  }\n  refresh() {\n    this._reset(), this._setup();\n  }\n  reset() {\n    this.graphics = [];\n  }\n  _setup() {\n    \"active\" === this.state && (this._setUpHighlights(), this._setupGraphics(), this._setupMover(), this._updateGraphics());\n  }\n  _reset() {\n    this._highlightHelper?.removeAll(), this._resetGraphicStateVars(), this._resetGraphics(), this._updateTooltip(), this._mover && this._mover.destroy(), this._mover = null, this.view.cursor = \"default\";\n  }\n  _resetGraphicStateVars() {\n    this._startInfo = null, this._activeHandleGraphic = null, this._totalDx = 0, this._totalDy = 0, this._xScale = 1, this._yScale = 1, this._angleOfRotation = 0;\n  }\n  _resetGraphics(t) {\n    (t = t || this.layer) && (t.removeMany(this._vertexGraphics), t.remove(this._backgroundGraphic), t.remove(this._centerGraphic), t.remove(this._rotateHandleGraphic), t.remove(this._rotateLineGraphic)), this._vertexGraphics.forEach(t => !t.destroyed && t.destroy()), !this._backgroundGraphic.destroyed && this._backgroundGraphic.destroy(), !this._centerGraphic.destroyed && this._centerGraphic.destroy(), !this._rotateHandleGraphic.destroyed && this._rotateHandleGraphic.destroy(), !this._rotateLineGraphic.destroyed && this._rotateLineGraphic.destroy(), this._vertexGraphics = [], this._backgroundGraphic = null, this._centerGraphic = null, this._rotateHandleGraphic = null, this._rotateLineGraphic = null;\n  }\n  _setupMover() {\n    let t = [];\n    this.enableScaling && (t = t.concat(this._vertexGraphics)), this.enableMovement && (t = t.concat(this.graphics, this._backgroundGraphic)), this.enableRotation && t.push(this._rotateHandleGraphic), this.showCenterGraphic && t.push(this._centerGraphic), this._mover = new w({\n      enableMoveAllGraphics: !1,\n      highlightsEnabled: !1,\n      indicatorsEnabled: !1,\n      view: this.view,\n      graphics: t,\n      callbacks: {\n        onGraphicClick: t => this._onGraphicClickCallback(t),\n        onGraphicMoveStart: t => this._onGraphicMoveStartCallback(t),\n        onGraphicMove: t => this._onGraphicMoveCallback(t),\n        onGraphicMoveStop: t => this._onGraphicMoveStopCallback(t),\n        onGraphicPointerOver: t => this._onGraphicPointerOverCallback(t),\n        onGraphicPointerOut: t => this._onGraphicPointerOutCallback(t)\n      }\n    });\n  }\n  _getStartInfo(t) {\n    const [e, i, s, o] = this._getBoxBounds(p()),\n      r = Math.abs(s - e),\n      a = Math.abs(o - i),\n      h = (s + e) / 2,\n      c = (o + i) / 2,\n      {\n        x: n,\n        y: l\n      } = t.geometry;\n    return {\n      width: r,\n      height: a,\n      centerX: h,\n      centerY: c,\n      startX: n,\n      startY: l,\n      graphicInfos: this._getGraphicInfos(),\n      box: this._backgroundGraphic.geometry,\n      rotate: this._rotateHandleGraphic.geometry\n    };\n  }\n  _getGraphicInfos() {\n    return this.graphics.map(t => this._getGraphicInfo(t));\n  }\n  _getGraphicInfo(t) {\n    const e = t.geometry,\n      [i, s, o, r] = this._getBounds(p(), [e]);\n    return {\n      width: Math.abs(o - i),\n      height: Math.abs(r - s),\n      centerX: (o + i) / 2,\n      centerY: (r + s) / 2,\n      geometry: e\n    };\n  }\n  _onGraphicClickCallback(t) {\n    t.viewEvent.stopPropagation(), this.emit(\"graphic-click\", t), this.callbacks.onGraphicClick && this.callbacks.onGraphicClick(t);\n  }\n  _onGraphicMoveStartCallback(t) {\n    const {\n        _angleOfRotation: e,\n        _xScale: i,\n        _yScale: s,\n        _backgroundGraphic: o,\n        _vertexGraphics: r,\n        _rotateHandleGraphic: a,\n        symbols: h\n      } = this,\n      c = t.graphic;\n    this._resetGraphicStateVars(), this._hideGraphicsBeforeUpdate(), o.symbol = h.fill.active, this._startInfo = this._getStartInfo(c), this._updateTooltip(c, t.viewEvent), c === a ? (this.view.cursor = \"grabbing\", this.emit(\"rotate-start\", new N(this.graphics, c, e))) : r.includes(c) ? (this._activeHandleGraphic = c, this.emit(\"scale-start\", new P(this.graphics, c, i, s))) : this.emit(\"move-start\", new z(this.graphics, c, t.dx, t.dy));\n  }\n  _onGraphicMoveCallback(t) {\n    const e = t.graphic;\n    if (this._startInfo) if (this._vertexGraphics.includes(e)) this._scaleGraphic(e), this._updateTooltip(e, t.viewEvent), this.emit(\"scale\", new X(this.graphics, e, this._xScale, this._yScale));else if (e === this._rotateHandleGraphic) this._rotateGraphic(e), this._updateTooltip(e, t.viewEvent), this.emit(\"rotate\", new U(this.graphics, e, this._angleOfRotation));else {\n      const {\n        dx: i,\n        dy: s\n      } = t;\n      this._totalDx += i, this._totalDy += s, this._moveGraphic(e, i, s), this._updateTooltip(e, t.viewEvent), this.emit(\"move\", new B(this.graphics, e, i, s));\n    }\n  }\n  _onGraphicMoveStopCallback(t) {\n    const e = t.graphic;\n    if (!this._startInfo) return void this.refresh();\n    const {\n      _angleOfRotation: i,\n      _totalDx: s,\n      _totalDy: o,\n      _xScale: r,\n      _yScale: a,\n      _vertexGraphics: h,\n      _rotateHandleGraphic: c\n    } = this;\n    this.refresh(), e === c ? (this.view.cursor = \"pointer\", this.emit(\"rotate-stop\", new A(this.graphics, e, i))) : h.includes(e) ? this.emit(\"scale-stop\", new F(this.graphics, e, r, a)) : this.emit(\"move-stop\", new Y(this.graphics, e, s, o));\n  }\n  _onGraphicPointerOverCallback(t) {\n    const {\n        _backgroundGraphic: e,\n        _vertexGraphics: i,\n        graphics: s,\n        _rotateHandleGraphic: o,\n        symbols: r,\n        view: a\n      } = this,\n      h = t.graphic;\n    if (this._hoveredGraphic = h, h === o) return o.symbol = r.rotator.hover, a.cursor = \"pointer\", void this._updateTooltip(h);\n    if (s.includes(h) || h === e) return void (a.cursor = \"move\");\n    if (!i.includes(h)) return void (a.cursor = \"pointer\");\n    this._updateTooltip(h), t.graphic.symbol = r.handles.hover;\n    const c = a.rotation;\n    let n,\n      l = t.index;\n    switch (l < 8 && (c >= 0 && c < 45 ? l %= 8 : l = c >= 45 && c < 90 ? (l + 1) % 8 : c >= 90 && c < 135 ? (l + 2) % 8 : c >= 135 && c < 180 ? (l + 3) % 8 : c >= 180 && c < 225 ? (l + 4) % 8 : c >= 225 && c < 270 ? (l + 5) % 8 : c >= 270 && c < 315 ? (l + 6) % 8 : (l + 7) % 8), l) {\n      case 0:\n      case 4:\n        n = \"nwse-resize\";\n        break;\n      case 1:\n      case 5:\n        n = \"ns-resize\";\n        break;\n      case 2:\n      case 6:\n        n = \"nesw-resize\";\n        break;\n      case 3:\n      case 7:\n        n = \"ew-resize\";\n        break;\n      default:\n        n = \"pointer\";\n    }\n    a.cursor = n;\n  }\n  _onGraphicPointerOutCallback(t) {\n    const {\n      _vertexGraphics: e,\n      _rotateHandleGraphic: i,\n      symbols: s,\n      view: o\n    } = this;\n    this._hoveredGraphic = null, t.graphic === i ? i.symbol = s.rotator.default : e.includes(t.graphic) && (t.graphic.symbol = s.handles.default), o.cursor = \"default\", this._updateTooltip();\n  }\n  _scaleGraphic(t) {\n    const {\n        _startInfo: e,\n        _vertexGraphics: i,\n        preserveAspectRatio: s,\n        view: o\n      } = this,\n      {\n        centerX: r,\n        centerY: a,\n        graphicInfos: h,\n        height: c,\n        startX: n,\n        startY: l,\n        width: p\n      } = e,\n      {\n        resolution: _,\n        transform: d\n      } = o.state,\n      m = i.indexOf(t);\n    1 !== m && 5 !== m || this._updateX(t, r), 3 !== m && 7 !== m || this._updateY(t, a);\n    const {\n        x: u,\n        y: g\n      } = t.geometry,\n      y = d[0] * u + d[2] * g + d[4],\n      G = d[1] * u + d[3] * g + d[5],\n      w = h?.map(t => t.geometry) ?? [],\n      x = w.every(t => \"point\" === t.type);\n    if ((0 === p || 0 === c) && x) {\n      const t = J((u - n) / _),\n        i = J((l - g) / _);\n      for (let e = 0; e < w.length; e++) this.graphics[e].geometry = v(w[e], t, i, o, !0);\n      return this._centerGraphic.geometry = new T(u, g, o.spatialReference), void (this._backgroundGraphic.geometry = v(e.box, t, i, o, !0));\n    }\n    if (s) {\n      const t = J(d[0] * r + d[2] * a + d[4], 2),\n        e = J(d[1] * r + d[3] * a + d[5], 2),\n        i = J(d[0] * n + d[2] * l + d[4], 2),\n        s = J(d[1] * n + d[3] * l + d[5], 2);\n      let o = b(t, e, i, s, y, G);\n      0 !== o && Math.abs(o) !== 1 / 0 || (o = 1), this._xScale = this._yScale = o;\n      for (const h of w) {\n        const t = w.indexOf(h);\n        this.graphics[t].geometry = f(h, this._xScale, this._yScale, [r, a]);\n      }\n      this._updateBackgroundGraphic();\n    } else {\n      let t = u - n,\n        i = l - g;\n      if (1 === m || 5 === m ? t = 0 : 3 !== m && 7 !== m || (i = 0), 0 === t && 0 === i) return;\n      const s = r + t / 2,\n        h = a + i / 2;\n      let d = (p + (n > r ? t : -1 * t)) / p,\n        y = (c + (l < a ? i : -1 * i)) / c;\n      1 !== m && 5 !== m && 0 !== d && Math.abs(d) !== 1 / 0 || (d = 1), 3 !== m && 7 !== m && 0 !== y && Math.abs(y) !== 1 / 0 || (y = 1), this._xScale = d, this._yScale = y;\n      const G = (s - r) / _,\n        b = (h - a) / _,\n        x = f(e.box, this._xScale, this._yScale);\n      this._backgroundGraphic.geometry = v(x, G, b, o, !0);\n      const {\n          centerX: S,\n          centerY: k\n        } = this._getGraphicInfo(this._backgroundGraphic),\n        R = (S - r) / _,\n        M = -1 * (k - a) / _;\n      for (const e of w) {\n        const t = w.indexOf(e),\n          i = f(e, this._xScale, this._yScale, [r, a]);\n        this.graphics[t].geometry = v(i, R, M, o, !0);\n      }\n      this._centerGraphic.geometry = new T(S, k, o.spatialReference);\n    }\n  }\n  _rotateGraphic(t) {\n    const {\n        centerX: e,\n        centerY: i,\n        startX: s,\n        startY: o,\n        box: r,\n        rotate: a\n      } = this._startInfo,\n      h = this.view.spatialReference,\n      c = new T(s, o, h),\n      n = new T(e, i, h),\n      l = t.geometry;\n    this._angleOfRotation = G(c, l, n);\n    const p = this._startInfo.graphicInfos?.map(t => t.geometry) ?? [];\n    for (const _ of p) {\n      const t = p.indexOf(_),\n        e = m(_, this._angleOfRotation, n);\n      this.graphics[t].geometry = e;\n    }\n    this._backgroundGraphic.geometry = m(r, this._angleOfRotation, n), this._rotateHandleGraphic.geometry = m(a, this._angleOfRotation, n);\n  }\n  _moveGraphic(t, e, i) {\n    if (this.graphics.includes(t)) {\n      const s = this._backgroundGraphic.geometry;\n      this._backgroundGraphic.geometry = v(s, e, i, this.view);\n      for (const o of this.graphics) o !== t && (o.geometry = v(o.geometry, e, i, this.view));\n    } else if (t === this._centerGraphic) {\n      const t = this._backgroundGraphic.geometry;\n      this._backgroundGraphic.geometry = v(t, e, i, this.view);\n    }\n    if (t === this._backgroundGraphic || t === this._centerGraphic) for (const s of this.graphics) s.geometry = v(s.geometry, e, i, this.view);\n  }\n  _setUpHighlights() {\n    this.highlightsEnabled && this.graphics.length && this._highlightHelper?.add(this.graphics);\n  }\n  _setupGraphics() {\n    const {\n      _graphicAttributes: t,\n      symbols: i\n    } = this;\n    this._centerGraphic = new e({\n      symbol: i.centerIndicator,\n      attributes: t\n    }), this.showCenterGraphic && this.layer.add(this._centerGraphic), this._backgroundGraphic = new e({\n      symbol: i.fill.default,\n      attributes: t\n    }), this.layer.add(this._backgroundGraphic), this._rotateLineGraphic = new e({\n      symbol: i.rotatorLine,\n      attributes: t\n    }), this._rotateHandleGraphic = new e({\n      symbol: i.rotator.default,\n      attributes: t\n    }), this.enableRotation && !this._hasExtentGraphic() && this.layer.addMany([this._rotateLineGraphic, this._rotateHandleGraphic]);\n    for (let s = 0; s < 8; s++) this._vertexGraphics.push(new e({\n      symbol: i.handles.default,\n      attributes: t\n    }));\n    this.enableScaling && this.layer.addMany(this._vertexGraphics);\n  }\n  _updateSymbolsForTheme() {\n    const t = this.view.effectiveTheme.accentColor;\n    this.symbols = {\n      ...this.symbols,\n      fill: {\n        active: this.symbols.fill.active?.clone().set(\"outline.color\", t),\n        default: this.symbols.fill.default?.clone().set(\"outline.color\", t)\n      },\n      handles: {\n        ...this.symbols.handles,\n        default: this.symbols.handles.default.clone().set(\"outline.color\", t)\n      },\n      rotator: {\n        ...this.symbols.rotator,\n        default: this.symbols.rotator.default.clone().set(\"outline.color\", t)\n      },\n      rotatorLine: this.symbols.rotatorLine.clone().set(\"color\", t)\n    };\n    for (const e of this._vertexGraphics) e.symbol = e === this._hoveredGraphic ? this.symbols.handles.hover : this.symbols.handles.default;\n    this._backgroundGraphic.symbol = this.symbols.fill.default, this._rotateHandleGraphic.symbol = this._rotateHandleGraphic === this._hoveredGraphic ? this.symbols.rotator.hover : this.symbols.rotator.default, this._rotateLineGraphic.symbol = this.symbols.rotatorLine;\n  }\n  _updateGraphics() {\n    this._updateBackgroundGraphic(), this._updateHandleGraphics(), this._updateCenterGraphic(), this._updateRotateGraphic(), this._updateRotateLineGraphic();\n  }\n  _hideGraphicsBeforeUpdate() {\n    this._centerGraphic.visible = !1, this._rotateHandleGraphic.visible = !1, this._rotateLineGraphic.visible = !1, this._vertexGraphics.forEach(t => t.visible = !1);\n  }\n  _updateHandleGraphics() {\n    const t = this._getCoordinates(!0);\n    this._vertexGraphics.forEach((e, i) => {\n      const [s, o] = t[i];\n      this._updateXY(e, s, o);\n    });\n  }\n  _updateBackgroundGraphic() {\n    const t = this._getCoordinates();\n    this._backgroundGraphic.geometry = new E({\n      rings: t,\n      spatialReference: this.view.spatialReference\n    });\n  }\n  _updateCenterGraphic() {\n    const [t, e, i, s] = this._getBoxBounds(p()),\n      o = (i + t) / 2,\n      r = (s + e) / 2;\n    this._centerGraphic.geometry = new T(o, r, this.view.spatialReference);\n  }\n  _updateRotateGraphic() {\n    if (!this._vertexGraphics.length) return;\n    const {\n        x: t,\n        y: e\n      } = this._vertexGraphics[1].geometry,\n      i = e + this.view.state.resolution * this._rotateGraphicOffset;\n    this._rotateHandleGraphic.geometry = new T(t, i, this.view.spatialReference);\n  }\n  _updateRotateLineGraphic() {\n    if (!this._vertexGraphics.length || !this._rotateHandleGraphic?.geometry) return;\n    const t = this._vertexGraphics[1].geometry,\n      e = this._rotateHandleGraphic.geometry;\n    this._rotateLineGraphic.geometry = new L({\n      paths: [[t.x, t.y], [e.x, e.y]],\n      spatialReference: this.view.spatialReference\n    });\n  }\n  _updateXY(t, e, i) {\n    t.geometry = new T(e, i, this.view.spatialReference);\n  }\n  _updateX(t, e) {\n    const i = t.geometry.y;\n    t.geometry = new T(e, i, this.view.spatialReference);\n  }\n  _updateY(t, e) {\n    const i = t.geometry.x;\n    t.geometry = new T(i, e, this.view.spatialReference);\n  }\n  _hasExtentGraphic() {\n    return this.graphics.some(t => null != t?.geometry && \"extent\" === t.geometry.type);\n  }\n  _getBoxBounds(t) {\n    const e = this.graphics.map(t => t.geometry);\n    return this._getBounds(t, e);\n  }\n  _getCoordinates(t) {\n    const [e, i, s, o] = this._getBoxBounds(p());\n    if (t) {\n      const t = (e + s) / 2,\n        r = (o + i) / 2;\n      return [[e, o], [t, o], [s, o], [s, r], [s, i], [t, i], [e, i], [e, r]];\n    }\n    return [[e, o], [s, o], [s, i], [e, i]];\n  }\n  _updateTooltip(t, e) {\n    if (null == this.tooltip) return;\n    if (!t) return void this.tooltip.clear();\n    const {\n      _backgroundGraphic: i,\n      graphics: s,\n      _vertexGraphics: o,\n      _rotateHandleGraphic: r\n    } = this;\n    t === r ? this._updateRotateTooltip() : o.includes(t) ? this._updateScaleTooltip() : (s.includes(t) || t === i) && this._updateMoveTooltip(e);\n  }\n  _updateRotateTooltip() {\n    null != this.tooltip && (this.tooltip.info = new I({\n      sketchOptions: this.sketchOptions,\n      angle: -this._angleOfRotation\n    }));\n  }\n  _updateScaleTooltip() {\n    const {\n      tooltip: t,\n      _xScale: e,\n      _yScale: i,\n      sketchOptions: s,\n      view: o\n    } = this;\n    if (null == t) return;\n    const r = this._getCoordinates(),\n      a = j({\n        topLeft: r[0],\n        topRight: r[1],\n        bottomRight: r[2],\n        bottomLeft: r[3],\n        spatialReference: o.spatialReference\n      });\n    if (null == a) return;\n    const {\n        xSize: h,\n        ySize: c\n      } = a,\n      n = Math.abs(e),\n      l = Math.abs(i);\n    t.info = new H({\n      sketchOptions: s,\n      xScale: n,\n      yScale: l,\n      xSize: h,\n      ySize: c\n    });\n  }\n  _updateMoveTooltip(t) {\n    const {\n      tooltip: e,\n      sketchOptions: i,\n      view: s\n    } = this;\n    if (null == e) return;\n    const r = new C({\n      sketchOptions: i\n    });\n    if (t) {\n      const {\n          x: e,\n          y: i\n        } = t.origin,\n        a = s.toMap(t),\n        h = s.toMap({\n          x: e,\n          y: i\n        }),\n        c = O(h, a);\n      r.distance = null != c ? c : o;\n    }\n    e.info = r;\n  }\n};\nfunction J(t, e = 2) {\n  return Number.parseFloat(t.toFixed(e));\n}\nt([n()], q.prototype, \"tooltip\", void 0), t([n({\n  readOnly: !0\n})], q.prototype, \"type\", void 0), t([n()], q.prototype, \"callbacks\", void 0), t([n()], q.prototype, \"enableMovement\", void 0), t([n()], q.prototype, \"enableRotation\", void 0), t([n()], q.prototype, \"enableScaling\", void 0), t([n()], q.prototype, \"graphics\", void 0), t([n()], q.prototype, \"highlightsEnabled\", void 0), t([n()], q.prototype, \"layer\", void 0), t([n()], q.prototype, \"preserveAspectRatio\", void 0), t([n()], q.prototype, \"showCenterGraphic\", void 0), t([n({\n  readOnly: !0\n})], q.prototype, \"state\", null), t([n()], q.prototype, \"symbols\", void 0), t([n({\n  type: R\n})], q.prototype, \"sketchOptions\", void 0), t([n({\n  constructOnly: !0\n})], q.prototype, \"view\", void 0), q = t([l(\"esri.views.draw.support.Box\")], q);\nconst K = q;\nexport { K as default };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,SAASA,GAAE,GAAGC,IAAG,GAAGC,IAAG;AACrB,QAAMC,KAAI,CAAC;AACX,aAAWH,MAAK,GAAG;AACjB,UAAMI,KAAIJ,GAAE,MAAM,CAAC;AACnB,IAAAG,GAAE,KAAKC,EAAC;AACR,UAAMC,KAAIJ,MAAKD,GAAE,CAAC,IAAIE,GAAE,KAAK,KAAKF,GAAE,CAAC,IAAIE,GAAE,KAAKA,GAAE,GAChDI,KAAI,KAAKN,GAAE,CAAC,IAAIE,GAAE,KAAKD,MAAKD,GAAE,CAAC,IAAIE,GAAE,KAAKA,GAAE;AAC9C,IAAAE,GAAE,CAAC,IAAIC,IAAGD,GAAE,CAAC,IAAIE;AAAA,EACnB;AACA,SAAOH;AACT;AACA,SAAS,EAAEE,IAAGC,IAAG,GAAG;AAClB,QAAM;AAAA,IACF,MAAMC;AAAA,IACN,MAAMC;AAAA,IACN,kBAAkB;AAAA,EACpB,IAAIH,IACJI,KAAIH,KAAI,KAAK,KAAK,KAClBI,KAAI,KAAK,IAAID,EAAC,GACdE,KAAI,KAAK,IAAIF,EAAC;AAChB,MAAI,UAAUJ,OAAM,IAAI,KAAKA,GAAE,QAAQA,KAAI,IAAI,EAAE;AAAA,IAC/C,kBAAkB;AAAA,IAClB,OAAO,CAAC,CAAC,CAACA,GAAE,MAAMA,GAAE,IAAI,GAAG,CAACA,GAAE,MAAMA,GAAE,IAAI,GAAG,CAACA,GAAE,MAAMA,GAAE,IAAI,GAAG,CAACA,GAAE,MAAMA,GAAE,IAAI,GAAG,CAACA,GAAE,MAAMA,GAAE,IAAI,CAAC,CAAC;AAAA,EACpG,CAAC,IAAI,WAAWA,IAAG;AACjB,QAAI,KAAKA,GAAE,OAAO;AAClB,UAAM,IAAI,CAAC;AACX,eAAWJ,MAAKI,GAAE,MAAO,GAAE,KAAKL,GAAEC,IAAGS,IAAGC,IAAG,CAAC,CAAC;AAC7C,WAAO,IAAI,EAAE;AAAA,MACX,MAAMJ;AAAA,MACN,MAAMC;AAAA,MACN,kBAAkB;AAAA,MAClB,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AACA,MAAI,WAAWH,IAAG;AAChB,QAAI,KAAKA,GAAE,OAAO;AAClB,UAAM,IAAI,CAAC;AACX,eAAWJ,MAAKI,GAAE,OAAO;AACvB,YAAMH,KAAII,GAAEL,EAAC,GACXE,KAAIH,GAAEC,IAAGS,IAAGC,IAAG,CAAC;AAClB,MAAAL,GAAEH,EAAC,MAAMD,MAAKC,GAAE,QAAQ,GAAG,EAAE,KAAKA,EAAC;AAAA,IACrC;AACA,WAAO,IAAI,EAAE;AAAA,MACX,MAAMI;AAAA,MACN,MAAMC;AAAA,MACN,kBAAkB;AAAA,MAClB,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AACA,MAAI,OAAOH,IAAG;AACZ,QAAI,KAAKA;AACT,UAAM,IAAI,IAAI,EAAE;AAAA,MACd,GAAGK,MAAKL,GAAE,IAAI,EAAE,KAAKM,MAAKN,GAAE,IAAI,EAAE,KAAK,EAAE;AAAA,MACzC,GAAGM,MAAKN,GAAE,IAAI,EAAE,KAAKK,MAAKL,GAAE,IAAI,EAAE,KAAK,EAAE;AAAA,MACzC,kBAAkB;AAAA,IACpB,CAAC;AACD,WAAO,QAAQA,GAAE,MAAM,EAAE,IAAIA,GAAE,IAAI,QAAQA,GAAE,MAAM,EAAE,IAAIA,GAAE,IAAI;AAAA,EACjE;AACA,SAAO,YAAYA,MAAK,IAAI,KAAKA,GAAE,OAAO,QAAQ,IAAIO,GAAE;AAAA,IACtD,MAAML;AAAA,IACN,MAAMC;AAAA,IACN,QAAQR,GAAEK,GAAE,QAAQK,IAAGC,IAAG,CAAC;AAAA,IAC3B,kBAAkB;AAAA,EACpB,CAAC,KAAK;AACR;;;ACpCA,IAAM,IAAN,MAAQ;AAAA,EACN,YAAY,GAAGE,IAAGC,IAAGC,IAAG;AACtB,SAAK,WAAW,GAAG,KAAK,QAAQF,IAAG,KAAK,KAAKC,IAAG,KAAK,KAAKC,IAAG,KAAK,OAAO;AAAA,EAC3E;AACF;AACA,IAAM,IAAN,MAAQ;AAAA,EACN,YAAY,GAAGF,IAAGC,IAAGC,IAAG;AACtB,SAAK,WAAW,GAAG,KAAK,QAAQF,IAAG,KAAK,KAAKC,IAAG,KAAK,KAAKC,IAAG,KAAK,OAAO;AAAA,EAC3E;AACF;AACA,IAAM,IAAN,MAAQ;AAAA,EACN,YAAY,GAAGF,IAAGC,IAAGC,IAAG;AACtB,SAAK,WAAW,GAAG,KAAK,QAAQF,IAAG,KAAK,KAAKC,IAAG,KAAK,KAAKC,IAAG,KAAK,OAAO;AAAA,EAC3E;AACF;AACA,IAAM,IAAN,MAAQ;AAAA,EACN,YAAY,GAAGF,IAAGC,IAAG;AACnB,SAAK,WAAW,GAAG,KAAK,QAAQD,IAAG,KAAK,QAAQC,IAAG,KAAK,OAAO;AAAA,EACjE;AACF;AACA,IAAME,KAAN,MAAQ;AAAA,EACN,YAAY,GAAGH,IAAGC,IAAG;AACnB,SAAK,WAAW,GAAG,KAAK,QAAQD,IAAG,KAAK,QAAQC,IAAG,KAAK,OAAO;AAAA,EACjE;AACF;AACA,IAAMG,KAAN,MAAQ;AAAA,EACN,YAAY,GAAGJ,IAAGC,IAAG;AACnB,SAAK,WAAW,GAAG,KAAK,QAAQD,IAAG,KAAK,QAAQC,IAAG,KAAK,OAAO;AAAA,EACjE;AACF;AACA,IAAMI,KAAN,MAAQ;AAAA,EACN,YAAY,GAAGL,IAAGC,IAAGC,IAAG;AACtB,SAAK,WAAW,GAAG,KAAK,QAAQF,IAAG,KAAK,SAASC,IAAG,KAAK,SAASC,IAAG,KAAK,OAAO;AAAA,EACnF;AACF;AACA,IAAM,IAAN,MAAQ;AAAA,EACN,YAAY,GAAGF,IAAGC,IAAGC,IAAG;AACtB,SAAK,WAAW,GAAG,KAAK,QAAQF,IAAG,KAAK,SAASC,IAAG,KAAK,SAASC,IAAG,KAAK,OAAO;AAAA,EACnF;AACF;AACA,IAAM,IAAN,MAAQ;AAAA,EACN,YAAY,GAAGF,IAAGC,IAAGC,IAAG;AACtB,SAAK,WAAW,GAAG,KAAK,QAAQF,IAAG,KAAK,SAASC,IAAG,KAAK,SAASC,IAAG,KAAK,OAAO;AAAA,EACnF;AACF;AACA,IAAM,IAAII,GAAE;AAAZ,IACE,IAAI;AAAA,EACF,iBAAiB,IAAIC,GAAE;AAAA,IACrB,OAAO;AAAA,IACP,MAAM,EAAE,OAAO;AAAA,IACf,OAAO,EAAE,OAAO;AAAA,EAClB,CAAC;AAAA,EACD,MAAM;AAAA,IACJ,SAAS,IAAI,EAAE;AAAA,MACb,OAAO,EAAE,KAAK;AAAA,MACd,SAAS;AAAA,QACP,OAAO,EAAE,KAAK;AAAA,QACd,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,IACD,QAAQ,IAAI,EAAE;AAAA,MACZ,OAAO,EAAE,KAAK;AAAA,MACd,SAAS;AAAA,QACP,OAAO,EAAE,KAAK;AAAA,QACd,MAAM;AAAA,QACN,OAAO;AAAA,QACP,OAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,SAAS;AAAA,IACP,SAAS,IAAIA,GAAE;AAAA,MACb,OAAO;AAAA,MACP,MAAM,EAAE,OAAO;AAAA,MACf,OAAO,EAAE,OAAO;AAAA,MAChB,SAAS;AAAA,QACP,OAAO,EAAE,OAAO;AAAA,QAChB,OAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,IACD,OAAO,IAAIA,GAAE;AAAA,MACX,OAAO;AAAA,MACP,MAAM,EAAE,OAAO;AAAA,MACf,OAAO,EAAE,OAAO;AAAA,MAChB,SAAS;AAAA,QACP,OAAO,EAAE,OAAO;AAAA,QAChB,OAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,SAAS;AAAA,IACP,SAAS,IAAIA,GAAE;AAAA,MACb,OAAO;AAAA,MACP,MAAM,EAAE,OAAO;AAAA,MACf,OAAO,EAAE,OAAO;AAAA,MAChB,SAAS;AAAA,QACP,OAAO,EAAE,OAAO;AAAA,QAChB,OAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,IACD,OAAO,IAAIA,GAAE;AAAA,MACX,OAAO;AAAA,MACP,MAAM,EAAE,OAAO;AAAA,MACf,OAAO,EAAE,OAAO;AAAA,MAChB,SAAS;AAAA,QACP,OAAO,EAAE,OAAO;AAAA,QAChB,OAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,aAAa,IAAIC,GAAE;AAAA,IACjB,OAAO,EAAE,KAAK;AAAA,IACd,OAAO;AAAA,EACT,CAAC;AACH;AACF,IAAI,IAAI,cAAc,EAAE,gBAAgB;AAAA,EACtC,YAAY,GAAG;AACb,UAAM,CAAC,GAAG,KAAK,uBAAuB,MAAM,KAAK,qBAAqB;AAAA,MACpE,gBAAgB;AAAA,IAClB,GAAG,KAAK,SAAS,MAAM,KAAK,iBAAiB,MAAM,KAAK,qBAAqB,MAAM,KAAK,kBAAkB,CAAC,GAAG,KAAK,uBAAuB,MAAM,KAAK,uBAAuB,IAAI,KAAK,mBAAmB,GAAG,KAAK,qBAAqB,MAAM,KAAK,aAAa,MAAM,KAAK,WAAW,GAAG,KAAK,WAAW,GAAG,KAAK,UAAU,GAAG,KAAK,UAAU,GAAG,KAAK,UAAU,MAAM,KAAK,OAAO,OAAO,KAAK,YAAY;AAAA,MACpY,cAAc;AAAA,MAAC;AAAA,MACf,SAAS;AAAA,MAAC;AAAA,MACV,aAAa;AAAA,MAAC;AAAA,MACd,eAAe;AAAA,MAAC;AAAA,MAChB,UAAU;AAAA,MAAC;AAAA,MACX,cAAc;AAAA,MAAC;AAAA,MACf,gBAAgB;AAAA,MAAC;AAAA,MACjB,WAAW;AAAA,MAAC;AAAA,MACZ,eAAe;AAAA,MAAC;AAAA,MAChB,iBAAiB;AAAA,MAAC;AAAA,IACpB,GAAG,KAAK,iBAAiB,MAAI,KAAK,iBAAiB,MAAI,KAAK,gBAAgB,MAAI,KAAK,WAAW,CAAC,GAAG,KAAK,oBAAoB,MAAI,KAAK,QAAQ,MAAM,KAAK,sBAAsB,OAAI,KAAK,oBAAoB,MAAI,KAAK,UAAU,GAAG,KAAK,gBAAgB,IAAI,EAAE,GAAG,KAAK,OAAO,MAAM,KAAK,cAAc,MAAM;AACzS,YAAMC,KAAIC,GAAE;AACZ,aAAO,CAACV,IAAGC,OAAM;AACf,QAAAD,GAAE,CAAC,IAAI,OAAO,mBAAmBA,GAAE,CAAC,IAAI,OAAO,mBAAmBA,GAAE,CAAC,IAAI,OAAO,mBAAmBA,GAAE,CAAC,IAAI,OAAO;AACjH,mBAAWE,MAAKD,IAAG;AACjB,cAAI,CAACC,GAAG;AACR,cAAID,IAAGU,IAAGC,IAAGC;AACb,cAAI,YAAYX,GAAE,KAAM,CAAAD,KAAIW,KAAIV,GAAE,GAAGS,KAAIE,KAAIX,GAAE;AAAA,mBAAW,iBAAiBA,GAAE,MAAM;AACjF,kBAAMF,KAAIA,GAAEE,EAAC;AACb,aAACD,IAAGU,IAAGC,IAAGC,EAAC,IAAI,EAAEJ,IAAG,CAACT,EAAC,CAAC;AAAA,UACzB,WAAW,aAAaE,GAAE,KAAM,EAACD,IAAGU,IAAGC,IAAGC,EAAC,IAAI,CAACX,GAAE,MAAMA,GAAE,MAAMA,GAAE,MAAMA,GAAE,IAAI;AAAA,eAAO;AACnF,kBAAMF,KAAIA,GAAEE,EAAC;AACb,aAACD,IAAGU,IAAGC,IAAGC,EAAC,IAAI,EAAEJ,IAAGT,EAAC;AAAA,UACvB;AACA,UAAAA,GAAE,CAAC,IAAI,KAAK,IAAIC,IAAGD,GAAE,CAAC,CAAC,GAAGA,GAAE,CAAC,IAAI,KAAK,IAAIW,IAAGX,GAAE,CAAC,CAAC,GAAGA,GAAE,CAAC,IAAI,KAAK,IAAIY,IAAGZ,GAAE,CAAC,CAAC,GAAGA,GAAE,CAAC,IAAI,KAAK,IAAIa,IAAGb,GAAE,CAAC,CAAC;AAAA,QACvG;AACA,eAAOA;AAAA,MACT;AAAA,IACF,GAAG;AAAA,EACL;AAAA,EACA,aAAa;AACX,UAAM,IAAI,KAAK;AACf,SAAK,mBAAmB,IAAIM,GAAE;AAAA,MAC5B,MAAM;AAAA,IACR,CAAC,GAAG,KAAK,OAAO,GAAG,KAAK,WAAW,CAAC,EAAE,MAAM,GAAG,OAAO,MAAM;AAC1D,YAAM;AAAA,QACJ,OAAOG;AAAA,QACP,MAAMT;AAAA,MACR,IAAI;AACJ,MAAAA,GAAEA,IAAGS,EAAC;AAAA,IACR,GAAG;AAAA,MACD,MAAM;AAAA,MACN,SAAS;AAAA,IACX,CAAC,GAAG,EAAE,MAAM,KAAK,qBAAqB,MAAM;AAC1C,WAAK,yBAAyB,KAAK,cAAc,KAAK,oBAAoB,GAAG,KAAK,gBAAgB,GAAG,KAAK,eAAe,KAAK,oBAAoB;AAAA,IACpJ,CAAC,GAAG,EAAE,MAAM,GAAG,OAAO,MAAM;AAC1B,WAAK,qBAAqB,GAAG,KAAK,yBAAyB;AAAA,IAC7D,CAAC,GAAG,EAAE,MAAM,KAAK,UAAU,MAAM,KAAK,QAAQ,CAAC,GAAG,EAAE,MAAM,KAAK,OAAO,CAACA,IAAGT,OAAM;AAC9E,MAAAA,MAAK,KAAK,eAAeA,EAAC,GAAG,KAAK,QAAQ;AAAA,IAC5C,CAAC,GAAG,EAAE,MAAM,KAAK,mBAAmB,MAAM;AACxC,WAAK,kBAAkB,UAAU,GAAG,KAAK,iBAAiB;AAAA,IAC5D,CAAC,GAAG,EAAE,MAAM,KAAK,cAAc,SAAS,kBAAkB,CAAAS,OAAK;AAC7D,WAAK,UAAUA,KAAI,IAAIH,GAAE;AAAA,QACvB,MAAM,KAAK;AAAA,MACb,CAAC,IAAI,EAAE,KAAK,OAAO;AAAA,IACrB,GAAG,CAAC,GAAG,EAAE,MAAM,KAAK,KAAK,eAAe,aAAa,MAAM,KAAK,uBAAuB,GAAG,CAAC,GAAG,KAAK,GAAG,cAAc,CAAAG,OAAK,KAAK,WAAW,cAAcA,EAAC,CAAC,GAAG,KAAK,GAAG,QAAQ,CAAAA,OAAK,KAAK,WAAW,SAASA,EAAC,CAAC,GAAG,KAAK,GAAG,aAAa,CAAAA,OAAK,KAAK,WAAW,aAAaA,EAAC,CAAC,GAAG,KAAK,GAAG,gBAAgB,CAAAA,OAAK,KAAK,WAAW,gBAAgBA,EAAC,CAAC,GAAG,KAAK,GAAG,UAAU,CAAAA,OAAK,KAAK,WAAW,WAAWA,EAAC,CAAC,GAAG,KAAK,GAAG,eAAe,CAAAA,OAAK,KAAK,WAAW,eAAeA,EAAC,CAAC,GAAG,KAAK,GAAG,eAAe,CAAAA,OAAK,KAAK,WAAW,eAAeA,EAAC,CAAC,GAAG,KAAK,GAAG,SAAS,CAAAA,OAAK,KAAK,WAAW,UAAUA,EAAC,CAAC,GAAG,KAAK,GAAG,cAAc,CAAAA,OAAK,KAAK,WAAW,cAAcA,EAAC,CAAC,CAAC,CAAC;AAAA,EACxnB;AAAA,EACA,UAAU;AACR,SAAK,OAAO,GAAG,KAAK,UAAU,EAAE,KAAK,OAAO;AAAA,EAC9C;AAAA,EACA,IAAI,QAAQ;AACV,UAAM,IAAI,KAAK,MAAM,SAAS,OAC5BT,KAAI,KAAK,SAAS,UAAU,KAAK;AACnC,WAAO,KAAKA,KAAI,WAAW,IAAI,UAAU;AAAA,EAC3C;AAAA,EACA,YAAY,GAAG;AACb,WAAO,KAAK,gBAAgB,SAAS,CAAC,KAAK,MAAM,KAAK,sBAAsB,MAAM,KAAK,kBAAkB,MAAM,KAAK,wBAAwB,MAAM,KAAK;AAAA,EACzJ;AAAA,EACA,KAAK,GAAGA,IAAG;AACT,QAAI,KAAK,UAAU,KAAK,SAAS,QAAQ;AACvC,iBAAWC,MAAK,KAAK,UAAU;AAC7B,cAAMC,KAAID,GAAE,UACVU,KAAIV,GAAEC,IAAG,GAAGF,IAAG,KAAK,IAAI;AAC1B,QAAAC,GAAE,WAAWU;AAAA,MACf;AACA,WAAK,QAAQ,GAAG,KAAK,KAAK,aAAa,IAAI,EAAE,KAAK,UAAU,MAAM,GAAGX,EAAC,CAAC;AAAA,IACzE;AAAA,EACF;AAAA,EACA,MAAM,GAAGA,IAAG;AACV,QAAI,KAAK,UAAU,KAAK,SAAS,QAAQ;AACvC,iBAAWC,MAAK,KAAK,UAAU;AAC7B,cAAMC,KAAID,GAAE,UACVU,KAAIT,GAAEA,IAAG,GAAGF,EAAC;AACf,QAAAC,GAAE,WAAWU;AAAA,MACf;AACA,WAAK,QAAQ,GAAG,KAAK,KAAK,cAAc,IAAI,EAAE,KAAK,UAAU,MAAM,GAAGX,EAAC,CAAC;AAAA,IAC1E;AAAA,EACF;AAAA,EACA,OAAO,GAAGA,IAAG;AACX,QAAI,KAAK,UAAU,KAAK,SAAS,QAAQ;AACvC,UAAI,CAACA,IAAG;AACN,cAAMS,KAAI,KAAK,gBAAgB,CAAC,EAAE,SAAS,GACzCR,KAAI,KAAK,gBAAgB,CAAC,EAAE,SAAS;AACvC,QAAAD,KAAI,IAAI,EAAES,IAAGR,IAAG,KAAK,KAAK,gBAAgB;AAAA,MAC5C;AACA,iBAAWA,MAAK,KAAK,UAAU;AAC7B,cAAMC,KAAID,GAAE,UACVU,KAAI,EAAET,IAAG,GAAGF,EAAC;AACf,QAAAC,GAAE,WAAWU;AAAA,MACf;AACA,WAAK,QAAQ,GAAG,KAAK,KAAK,eAAe,IAAIP,GAAE,KAAK,UAAU,MAAM,CAAC,CAAC;AAAA,IACxE;AAAA,EACF;AAAA,EACA,UAAU;AACR,SAAK,OAAO,GAAG,KAAK,OAAO;AAAA,EAC7B;AAAA,EACA,QAAQ;AACN,SAAK,WAAW,CAAC;AAAA,EACnB;AAAA,EACA,SAAS;AACP,iBAAa,KAAK,UAAU,KAAK,iBAAiB,GAAG,KAAK,eAAe,GAAG,KAAK,YAAY,GAAG,KAAK,gBAAgB;AAAA,EACvH;AAAA,EACA,SAAS;AACP,SAAK,kBAAkB,UAAU,GAAG,KAAK,uBAAuB,GAAG,KAAK,eAAe,GAAG,KAAK,eAAe,GAAG,KAAK,UAAU,KAAK,OAAO,QAAQ,GAAG,KAAK,SAAS,MAAM,KAAK,KAAK,SAAS;AAAA,EAChM;AAAA,EACA,yBAAyB;AACvB,SAAK,aAAa,MAAM,KAAK,uBAAuB,MAAM,KAAK,WAAW,GAAG,KAAK,WAAW,GAAG,KAAK,UAAU,GAAG,KAAK,UAAU,GAAG,KAAK,mBAAmB;AAAA,EAC9J;AAAA,EACA,eAAe,GAAG;AAChB,KAAC,IAAI,KAAK,KAAK,WAAW,EAAE,WAAW,KAAK,eAAe,GAAG,EAAE,OAAO,KAAK,kBAAkB,GAAG,EAAE,OAAO,KAAK,cAAc,GAAG,EAAE,OAAO,KAAK,oBAAoB,GAAG,EAAE,OAAO,KAAK,kBAAkB,IAAI,KAAK,gBAAgB,QAAQ,CAAAK,OAAK,CAACA,GAAE,aAAaA,GAAE,QAAQ,CAAC,GAAG,CAAC,KAAK,mBAAmB,aAAa,KAAK,mBAAmB,QAAQ,GAAG,CAAC,KAAK,eAAe,aAAa,KAAK,eAAe,QAAQ,GAAG,CAAC,KAAK,qBAAqB,aAAa,KAAK,qBAAqB,QAAQ,GAAG,CAAC,KAAK,mBAAmB,aAAa,KAAK,mBAAmB,QAAQ,GAAG,KAAK,kBAAkB,CAAC,GAAG,KAAK,qBAAqB,MAAM,KAAK,iBAAiB,MAAM,KAAK,uBAAuB,MAAM,KAAK,qBAAqB;AAAA,EAC9rB;AAAA,EACA,cAAc;AACZ,QAAI,IAAI,CAAC;AACT,SAAK,kBAAkB,IAAI,EAAE,OAAO,KAAK,eAAe,IAAI,KAAK,mBAAmB,IAAI,EAAE,OAAO,KAAK,UAAU,KAAK,kBAAkB,IAAI,KAAK,kBAAkB,EAAE,KAAK,KAAK,oBAAoB,GAAG,KAAK,qBAAqB,EAAE,KAAK,KAAK,cAAc,GAAG,KAAK,SAAS,IAAI,EAAE;AAAA,MAC9Q,uBAAuB;AAAA,MACvB,mBAAmB;AAAA,MACnB,mBAAmB;AAAA,MACnB,MAAM,KAAK;AAAA,MACX,UAAU;AAAA,MACV,WAAW;AAAA,QACT,gBAAgB,CAAAA,OAAK,KAAK,wBAAwBA,EAAC;AAAA,QACnD,oBAAoB,CAAAA,OAAK,KAAK,4BAA4BA,EAAC;AAAA,QAC3D,eAAe,CAAAA,OAAK,KAAK,uBAAuBA,EAAC;AAAA,QACjD,mBAAmB,CAAAA,OAAK,KAAK,2BAA2BA,EAAC;AAAA,QACzD,sBAAsB,CAAAA,OAAK,KAAK,8BAA8BA,EAAC;AAAA,QAC/D,qBAAqB,CAAAA,OAAK,KAAK,6BAA6BA,EAAC;AAAA,MAC/D;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,cAAc,GAAG;AACf,UAAM,CAACT,IAAGC,IAAGC,IAAGS,EAAC,IAAI,KAAK,cAAcD,GAAE,CAAC,GACzCE,KAAI,KAAK,IAAIV,KAAIF,EAAC,GAClBa,KAAI,KAAK,IAAIF,KAAIV,EAAC,GAClBK,MAAKJ,KAAIF,MAAK,GACd,KAAKW,KAAIV,MAAK,GACd;AAAA,MACE,GAAG;AAAA,MACH,GAAGa;AAAA,IACL,IAAI,EAAE;AACR,WAAO;AAAA,MACL,OAAOF;AAAA,MACP,QAAQC;AAAA,MACR,SAASP;AAAA,MACT,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,QAAQQ;AAAA,MACR,cAAc,KAAK,iBAAiB;AAAA,MACpC,KAAK,KAAK,mBAAmB;AAAA,MAC7B,QAAQ,KAAK,qBAAqB;AAAA,IACpC;AAAA,EACF;AAAA,EACA,mBAAmB;AACjB,WAAO,KAAK,SAAS,IAAI,OAAK,KAAK,gBAAgB,CAAC,CAAC;AAAA,EACvD;AAAA,EACA,gBAAgB,GAAG;AACjB,UAAMd,KAAI,EAAE,UACV,CAACC,IAAGC,IAAGS,IAAGC,EAAC,IAAI,KAAK,WAAWF,GAAE,GAAG,CAACV,EAAC,CAAC;AACzC,WAAO;AAAA,MACL,OAAO,KAAK,IAAIW,KAAIV,EAAC;AAAA,MACrB,QAAQ,KAAK,IAAIW,KAAIV,EAAC;AAAA,MACtB,UAAUS,KAAIV,MAAK;AAAA,MACnB,UAAUW,KAAIV,MAAK;AAAA,MACnB,UAAUF;AAAA,IACZ;AAAA,EACF;AAAA,EACA,wBAAwB,GAAG;AACzB,MAAE,UAAU,gBAAgB,GAAG,KAAK,KAAK,iBAAiB,CAAC,GAAG,KAAK,UAAU,kBAAkB,KAAK,UAAU,eAAe,CAAC;AAAA,EAChI;AAAA,EACA,4BAA4B,GAAG;AAC7B,UAAM;AAAA,MACF,kBAAkBA;AAAA,MAClB,SAASC;AAAA,MACT,SAASC;AAAA,MACT,oBAAoBS;AAAA,MACpB,iBAAiBC;AAAA,MACjB,sBAAsBC;AAAA,MACtB,SAASP;AAAA,IACX,IAAI,MACJ,IAAI,EAAE;AACR,SAAK,uBAAuB,GAAG,KAAK,0BAA0B,GAAGK,GAAE,SAASL,GAAE,KAAK,QAAQ,KAAK,aAAa,KAAK,cAAc,CAAC,GAAG,KAAK,eAAe,GAAG,EAAE,SAAS,GAAG,MAAMO,MAAK,KAAK,KAAK,SAAS,YAAY,KAAK,KAAK,gBAAgB,IAAI,EAAE,KAAK,UAAU,GAAGb,EAAC,CAAC,KAAKY,GAAE,SAAS,CAAC,KAAK,KAAK,uBAAuB,GAAG,KAAK,KAAK,eAAe,IAAIP,GAAE,KAAK,UAAU,GAAGJ,IAAGC,EAAC,CAAC,KAAK,KAAK,KAAK,cAAc,IAAI,EAAE,KAAK,UAAU,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC;AAAA,EACpb;AAAA,EACA,uBAAuB,GAAG;AACxB,UAAMF,KAAI,EAAE;AACZ,QAAI,KAAK,WAAY,KAAI,KAAK,gBAAgB,SAASA,EAAC,EAAG,MAAK,cAAcA,EAAC,GAAG,KAAK,eAAeA,IAAG,EAAE,SAAS,GAAG,KAAK,KAAK,SAAS,IAAI,EAAE,KAAK,UAAUA,IAAG,KAAK,SAAS,KAAK,OAAO,CAAC;AAAA,aAAWA,OAAM,KAAK,qBAAsB,MAAK,eAAeA,EAAC,GAAG,KAAK,eAAeA,IAAG,EAAE,SAAS,GAAG,KAAK,KAAK,UAAU,IAAIG,GAAE,KAAK,UAAUH,IAAG,KAAK,gBAAgB,CAAC;AAAA,SAAO;AAC7W,YAAM;AAAA,QACJ,IAAIC;AAAA,QACJ,IAAIC;AAAA,MACN,IAAI;AACJ,WAAK,YAAYD,IAAG,KAAK,YAAYC,IAAG,KAAK,aAAaF,IAAGC,IAAGC,EAAC,GAAG,KAAK,eAAeF,IAAG,EAAE,SAAS,GAAG,KAAK,KAAK,QAAQ,IAAI,EAAE,KAAK,UAAUA,IAAGC,IAAGC,EAAC,CAAC;AAAA,IAC1J;AAAA,EACF;AAAA,EACA,2BAA2B,GAAG;AAC5B,UAAMF,KAAI,EAAE;AACZ,QAAI,CAAC,KAAK,WAAY,QAAO,KAAK,KAAK,QAAQ;AAC/C,UAAM;AAAA,MACJ,kBAAkBC;AAAA,MAClB,UAAUC;AAAA,MACV,UAAUS;AAAA,MACV,SAASC;AAAA,MACT,SAASC;AAAA,MACT,iBAAiBP;AAAA,MACjB,sBAAsB;AAAA,IACxB,IAAI;AACJ,SAAK,QAAQ,GAAGN,OAAM,KAAK,KAAK,KAAK,SAAS,WAAW,KAAK,KAAK,eAAe,IAAII,GAAE,KAAK,UAAUJ,IAAGC,EAAC,CAAC,KAAKK,GAAE,SAASN,EAAC,IAAI,KAAK,KAAK,cAAc,IAAI,EAAE,KAAK,UAAUA,IAAGY,IAAGC,EAAC,CAAC,IAAI,KAAK,KAAK,aAAa,IAAI,EAAE,KAAK,UAAUb,IAAGE,IAAGS,EAAC,CAAC;AAAA,EAChP;AAAA,EACA,8BAA8B,GAAG;AAC/B,UAAM;AAAA,MACF,oBAAoBX;AAAA,MACpB,iBAAiBC;AAAA,MACjB,UAAUC;AAAA,MACV,sBAAsBS;AAAA,MACtB,SAASC;AAAA,MACT,MAAMC;AAAA,IACR,IAAI,MACJP,KAAI,EAAE;AACR,QAAI,KAAK,kBAAkBA,IAAGA,OAAMK,GAAG,QAAOA,GAAE,SAASC,GAAE,QAAQ,OAAOC,GAAE,SAAS,WAAW,KAAK,KAAK,eAAeP,EAAC;AAC1H,QAAIJ,GAAE,SAASI,EAAC,KAAKA,OAAMN,GAAG,QAAO,MAAMa,GAAE,SAAS;AACtD,QAAI,CAACZ,GAAE,SAASK,EAAC,EAAG,QAAO,MAAMO,GAAE,SAAS;AAC5C,SAAK,eAAeP,EAAC,GAAG,EAAE,QAAQ,SAASM,GAAE,QAAQ;AACrD,UAAM,IAAIC,GAAE;AACZ,QAAI,GACFC,KAAI,EAAE;AACR,YAAQA,KAAI,MAAM,KAAK,KAAK,IAAI,KAAKA,MAAK,IAAIA,KAAI,KAAK,MAAM,IAAI,MAAMA,KAAI,KAAK,IAAI,KAAK,MAAM,IAAI,OAAOA,KAAI,KAAK,IAAI,KAAK,OAAO,IAAI,OAAOA,KAAI,KAAK,IAAI,KAAK,OAAO,IAAI,OAAOA,KAAI,KAAK,IAAI,KAAK,OAAO,IAAI,OAAOA,KAAI,KAAK,IAAI,KAAK,OAAO,IAAI,OAAOA,KAAI,KAAK,KAAKA,KAAI,KAAK,IAAIA,IAAG;AAAA,MACtR,KAAK;AAAA,MACL,KAAK;AACH,YAAI;AACJ;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AACH,YAAI;AACJ;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AACH,YAAI;AACJ;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AACH,YAAI;AACJ;AAAA,MACF;AACE,YAAI;AAAA,IACR;AACA,IAAAD,GAAE,SAAS;AAAA,EACb;AAAA,EACA,6BAA6B,GAAG;AAC9B,UAAM;AAAA,MACJ,iBAAiBb;AAAA,MACjB,sBAAsBC;AAAA,MACtB,SAASC;AAAA,MACT,MAAMS;AAAA,IACR,IAAI;AACJ,SAAK,kBAAkB,MAAM,EAAE,YAAYV,KAAIA,GAAE,SAASC,GAAE,QAAQ,UAAUF,GAAE,SAAS,EAAE,OAAO,MAAM,EAAE,QAAQ,SAASE,GAAE,QAAQ,UAAUS,GAAE,SAAS,WAAW,KAAK,eAAe;AAAA,EAC3L;AAAA,EACA,cAAc,GAAG;AACf,UAAM;AAAA,MACF,YAAYX;AAAA,MACZ,iBAAiBC;AAAA,MACjB,qBAAqBC;AAAA,MACrB,MAAMS;AAAA,IACR,IAAI,MACJ;AAAA,MACE,SAASC;AAAA,MACT,SAASC;AAAA,MACT,cAAcP;AAAA,MACd,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQQ;AAAA,MACR,OAAOC;AAAA,IACT,IAAIf,IACJ;AAAA,MACE,YAAYgB;AAAA,MACZ,WAAWR;AAAA,IACb,IAAIG,GAAE,OACNM,KAAIhB,GAAE,QAAQ,CAAC;AACjB,UAAMgB,MAAK,MAAMA,MAAK,KAAK,SAAS,GAAGL,EAAC,GAAG,MAAMK,MAAK,MAAMA,MAAK,KAAK,SAAS,GAAGJ,EAAC;AACnF,UAAM;AAAA,MACF,GAAGH;AAAA,MACH,GAAG;AAAA,IACL,IAAI,EAAE,UACNH,KAAIC,GAAE,CAAC,IAAIE,KAAIF,GAAE,CAAC,IAAI,IAAIA,GAAE,CAAC,GAC7B,IAAIA,GAAE,CAAC,IAAIE,KAAIF,GAAE,CAAC,IAAI,IAAIA,GAAE,CAAC,GAC7B,IAAIF,IAAG,IAAI,CAAAG,OAAKA,GAAE,QAAQ,KAAK,CAAC,GAChCS,KAAI,EAAE,MAAM,CAAAT,OAAK,YAAYA,GAAE,IAAI;AACrC,SAAK,MAAMM,MAAK,MAAM,MAAMG,IAAG;AAC7B,YAAMT,KAAI,GAAGC,KAAI,KAAKM,EAAC,GACrBf,KAAI,GAAGa,KAAI,KAAKE,EAAC;AACnB,eAAShB,KAAI,GAAGA,KAAI,EAAE,QAAQA,KAAK,MAAK,SAASA,EAAC,EAAE,WAAWC,GAAE,EAAED,EAAC,GAAGS,IAAGR,IAAGU,IAAG,IAAE;AAClF,aAAO,KAAK,eAAe,WAAW,IAAI,EAAED,IAAG,GAAGC,GAAE,gBAAgB,GAAG,MAAM,KAAK,mBAAmB,WAAWV,GAAED,GAAE,KAAKS,IAAGR,IAAGU,IAAG,IAAE;AAAA,IACtI;AACA,QAAIT,IAAG;AACL,YAAMO,KAAI,EAAED,GAAE,CAAC,IAAII,KAAIJ,GAAE,CAAC,IAAIK,KAAIL,GAAE,CAAC,GAAG,CAAC,GACvCR,KAAI,EAAEQ,GAAE,CAAC,IAAII,KAAIJ,GAAE,CAAC,IAAIK,KAAIL,GAAE,CAAC,GAAG,CAAC,GACnCP,KAAI,EAAEO,GAAE,CAAC,IAAI,IAAIA,GAAE,CAAC,IAAIM,KAAIN,GAAE,CAAC,GAAG,CAAC,GACnCN,KAAI,EAAEM,GAAE,CAAC,IAAI,IAAIA,GAAE,CAAC,IAAIM,KAAIN,GAAE,CAAC,GAAG,CAAC;AACrC,UAAIG,KAAIE,GAAEJ,IAAGT,IAAGC,IAAGC,IAAGK,IAAG,CAAC;AAC1B,YAAMI,MAAK,KAAK,IAAIA,EAAC,MAAM,IAAI,MAAMA,KAAI,IAAI,KAAK,UAAU,KAAK,UAAUA;AAC3E,iBAAWL,MAAK,GAAG;AACjB,cAAMG,KAAI,EAAE,QAAQH,EAAC;AACrB,aAAK,SAASG,EAAC,EAAE,WAAWP,GAAEI,IAAG,KAAK,SAAS,KAAK,SAAS,CAACM,IAAGC,EAAC,CAAC;AAAA,MACrE;AACA,WAAK,yBAAyB;AAAA,IAChC,OAAO;AACL,UAAIJ,KAAIC,KAAI,GACVT,KAAIa,KAAI;AACV,UAAI,MAAMG,MAAK,MAAMA,KAAIR,KAAI,IAAI,MAAMQ,MAAK,MAAMA,OAAMhB,KAAI,IAAI,MAAMQ,MAAK,MAAMR,GAAG;AACpF,YAAMC,KAAIU,KAAIH,KAAI,GAChBH,KAAIO,KAAIZ,KAAI;AACd,UAAIO,MAAKO,MAAK,IAAIH,KAAIH,KAAI,KAAKA,OAAMM,IACnCR,MAAK,KAAKO,KAAID,KAAIZ,KAAI,KAAKA,OAAM;AACnC,YAAMgB,MAAK,MAAMA,MAAK,MAAMT,MAAK,KAAK,IAAIA,EAAC,MAAM,IAAI,MAAMA,KAAI,IAAI,MAAMS,MAAK,MAAMA,MAAK,MAAMV,MAAK,KAAK,IAAIA,EAAC,MAAM,IAAI,MAAMA,KAAI,IAAI,KAAK,UAAUC,IAAG,KAAK,UAAUD;AACvK,YAAMY,MAAKjB,KAAIU,MAAKI,IAClB,KAAKV,KAAIO,MAAKG,IACdE,KAAIhB,GAAEF,GAAE,KAAK,KAAK,SAAS,KAAK,OAAO;AACzC,WAAK,mBAAmB,WAAWC,GAAEiB,IAAGC,IAAG,GAAGR,IAAG,IAAE;AACnD,YAAM;AAAA,QACF,SAASS;AAAA,QACT,SAAS;AAAA,MACX,IAAI,KAAK,gBAAgB,KAAK,kBAAkB,GAChD,KAAKA,KAAIR,MAAKI,IACd,IAAI,MAAM,IAAIH,MAAKG;AACrB,iBAAWhB,MAAK,GAAG;AACjB,cAAMS,KAAI,EAAE,QAAQT,EAAC,GACnBC,KAAIC,GAAEF,IAAG,KAAK,SAAS,KAAK,SAAS,CAACY,IAAGC,EAAC,CAAC;AAC7C,aAAK,SAASJ,EAAC,EAAE,WAAWR,GAAEA,IAAG,GAAG,GAAGU,IAAG,IAAE;AAAA,MAC9C;AACA,WAAK,eAAe,WAAW,IAAI,EAAES,IAAG,GAAGT,GAAE,gBAAgB;AAAA,IAC/D;AAAA,EACF;AAAA,EACA,eAAe,GAAG;AAChB,UAAM;AAAA,MACF,SAASX;AAAA,MACT,SAASC;AAAA,MACT,QAAQC;AAAA,MACR,QAAQS;AAAA,MACR,KAAKC;AAAA,MACL,QAAQC;AAAA,IACV,IAAI,KAAK,YACTP,KAAI,KAAK,KAAK,kBACd,IAAI,IAAI,EAAEJ,IAAGS,IAAGL,EAAC,GACjB,IAAI,IAAI,EAAEN,IAAGC,IAAGK,EAAC,GACjBQ,KAAI,EAAE;AACR,SAAK,mBAAmBG,GAAE,GAAGH,IAAG,CAAC;AACjC,UAAMC,KAAI,KAAK,WAAW,cAAc,IAAI,CAAAN,OAAKA,GAAE,QAAQ,KAAK,CAAC;AACjE,eAAWO,MAAKD,IAAG;AACjB,YAAMN,KAAIM,GAAE,QAAQC,EAAC,GACnBhB,KAAI,EAAEgB,IAAG,KAAK,kBAAkB,CAAC;AACnC,WAAK,SAASP,EAAC,EAAE,WAAWT;AAAA,IAC9B;AACA,SAAK,mBAAmB,WAAW,EAAEY,IAAG,KAAK,kBAAkB,CAAC,GAAG,KAAK,qBAAqB,WAAW,EAAEC,IAAG,KAAK,kBAAkB,CAAC;AAAA,EACvI;AAAA,EACA,aAAa,GAAGb,IAAGC,IAAG;AACpB,QAAI,KAAK,SAAS,SAAS,CAAC,GAAG;AAC7B,YAAMC,KAAI,KAAK,mBAAmB;AAClC,WAAK,mBAAmB,WAAWD,GAAEC,IAAGF,IAAGC,IAAG,KAAK,IAAI;AACvD,iBAAWU,MAAK,KAAK,SAAU,CAAAA,OAAM,MAAMA,GAAE,WAAWV,GAAEU,GAAE,UAAUX,IAAGC,IAAG,KAAK,IAAI;AAAA,IACvF,WAAW,MAAM,KAAK,gBAAgB;AACpC,YAAMQ,KAAI,KAAK,mBAAmB;AAClC,WAAK,mBAAmB,WAAWR,GAAEQ,IAAGT,IAAGC,IAAG,KAAK,IAAI;AAAA,IACzD;AACA,QAAI,MAAM,KAAK,sBAAsB,MAAM,KAAK,eAAgB,YAAWC,MAAK,KAAK,SAAU,CAAAA,GAAE,WAAWD,GAAEC,GAAE,UAAUF,IAAGC,IAAG,KAAK,IAAI;AAAA,EAC3I;AAAA,EACA,mBAAmB;AACjB,SAAK,qBAAqB,KAAK,SAAS,UAAU,KAAK,kBAAkB,IAAI,KAAK,QAAQ;AAAA,EAC5F;AAAA,EACA,iBAAiB;AACf,UAAM;AAAA,MACJ,oBAAoB;AAAA,MACpB,SAASA;AAAA,IACX,IAAI;AACJ,SAAK,iBAAiB,IAAIO,GAAE;AAAA,MAC1B,QAAQP,GAAE;AAAA,MACV,YAAY;AAAA,IACd,CAAC,GAAG,KAAK,qBAAqB,KAAK,MAAM,IAAI,KAAK,cAAc,GAAG,KAAK,qBAAqB,IAAIO,GAAE;AAAA,MACjG,QAAQP,GAAE,KAAK;AAAA,MACf,YAAY;AAAA,IACd,CAAC,GAAG,KAAK,MAAM,IAAI,KAAK,kBAAkB,GAAG,KAAK,qBAAqB,IAAIO,GAAE;AAAA,MAC3E,QAAQP,GAAE;AAAA,MACV,YAAY;AAAA,IACd,CAAC,GAAG,KAAK,uBAAuB,IAAIO,GAAE;AAAA,MACpC,QAAQP,GAAE,QAAQ;AAAA,MAClB,YAAY;AAAA,IACd,CAAC,GAAG,KAAK,kBAAkB,CAAC,KAAK,kBAAkB,KAAK,KAAK,MAAM,QAAQ,CAAC,KAAK,oBAAoB,KAAK,oBAAoB,CAAC;AAC/H,aAASC,KAAI,GAAGA,KAAI,GAAGA,KAAK,MAAK,gBAAgB,KAAK,IAAIM,GAAE;AAAA,MAC1D,QAAQP,GAAE,QAAQ;AAAA,MAClB,YAAY;AAAA,IACd,CAAC,CAAC;AACF,SAAK,iBAAiB,KAAK,MAAM,QAAQ,KAAK,eAAe;AAAA,EAC/D;AAAA,EACA,yBAAyB;AACvB,UAAM,IAAI,KAAK,KAAK,eAAe;AACnC,SAAK,UAAU,iCACV,KAAK,UADK;AAAA,MAEb,MAAM;AAAA,QACJ,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,EAAE,IAAI,iBAAiB,CAAC;AAAA,QAChE,SAAS,KAAK,QAAQ,KAAK,SAAS,MAAM,EAAE,IAAI,iBAAiB,CAAC;AAAA,MACpE;AAAA,MACA,SAAS,iCACJ,KAAK,QAAQ,UADT;AAAA,QAEP,SAAS,KAAK,QAAQ,QAAQ,QAAQ,MAAM,EAAE,IAAI,iBAAiB,CAAC;AAAA,MACtE;AAAA,MACA,SAAS,iCACJ,KAAK,QAAQ,UADT;AAAA,QAEP,SAAS,KAAK,QAAQ,QAAQ,QAAQ,MAAM,EAAE,IAAI,iBAAiB,CAAC;AAAA,MACtE;AAAA,MACA,aAAa,KAAK,QAAQ,YAAY,MAAM,EAAE,IAAI,SAAS,CAAC;AAAA,IAC9D;AACA,eAAWD,MAAK,KAAK,gBAAiB,CAAAA,GAAE,SAASA,OAAM,KAAK,kBAAkB,KAAK,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ;AAChI,SAAK,mBAAmB,SAAS,KAAK,QAAQ,KAAK,SAAS,KAAK,qBAAqB,SAAS,KAAK,yBAAyB,KAAK,kBAAkB,KAAK,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,SAAS,KAAK,mBAAmB,SAAS,KAAK,QAAQ;AAAA,EAC/P;AAAA,EACA,kBAAkB;AAChB,SAAK,yBAAyB,GAAG,KAAK,sBAAsB,GAAG,KAAK,qBAAqB,GAAG,KAAK,qBAAqB,GAAG,KAAK,yBAAyB;AAAA,EACzJ;AAAA,EACA,4BAA4B;AAC1B,SAAK,eAAe,UAAU,OAAI,KAAK,qBAAqB,UAAU,OAAI,KAAK,mBAAmB,UAAU,OAAI,KAAK,gBAAgB,QAAQ,OAAK,EAAE,UAAU,KAAE;AAAA,EAClK;AAAA,EACA,wBAAwB;AACtB,UAAM,IAAI,KAAK,gBAAgB,IAAE;AACjC,SAAK,gBAAgB,QAAQ,CAACA,IAAGC,OAAM;AACrC,YAAM,CAACC,IAAGS,EAAC,IAAI,EAAEV,EAAC;AAClB,WAAK,UAAUD,IAAGE,IAAGS,EAAC;AAAA,IACxB,CAAC;AAAA,EACH;AAAA,EACA,2BAA2B;AACzB,UAAM,IAAI,KAAK,gBAAgB;AAC/B,SAAK,mBAAmB,WAAW,IAAI,EAAE;AAAA,MACvC,OAAO;AAAA,MACP,kBAAkB,KAAK,KAAK;AAAA,IAC9B,CAAC;AAAA,EACH;AAAA,EACA,uBAAuB;AACrB,UAAM,CAAC,GAAGX,IAAGC,IAAGC,EAAC,IAAI,KAAK,cAAcQ,GAAE,CAAC,GACzCC,MAAKV,KAAI,KAAK,GACdW,MAAKV,KAAIF,MAAK;AAChB,SAAK,eAAe,WAAW,IAAI,EAAEW,IAAGC,IAAG,KAAK,KAAK,gBAAgB;AAAA,EACvE;AAAA,EACA,uBAAuB;AACrB,QAAI,CAAC,KAAK,gBAAgB,OAAQ;AAClC,UAAM;AAAA,MACF,GAAG;AAAA,MACH,GAAGZ;AAAA,IACL,IAAI,KAAK,gBAAgB,CAAC,EAAE,UAC5BC,KAAID,KAAI,KAAK,KAAK,MAAM,aAAa,KAAK;AAC5C,SAAK,qBAAqB,WAAW,IAAI,EAAE,GAAGC,IAAG,KAAK,KAAK,gBAAgB;AAAA,EAC7E;AAAA,EACA,2BAA2B;AACzB,QAAI,CAAC,KAAK,gBAAgB,UAAU,CAAC,KAAK,sBAAsB,SAAU;AAC1E,UAAM,IAAI,KAAK,gBAAgB,CAAC,EAAE,UAChCD,KAAI,KAAK,qBAAqB;AAChC,SAAK,mBAAmB,WAAW,IAAI,EAAE;AAAA,MACvC,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAACA,GAAE,GAAGA,GAAE,CAAC,CAAC;AAAA,MAC9B,kBAAkB,KAAK,KAAK;AAAA,IAC9B,CAAC;AAAA,EACH;AAAA,EACA,UAAU,GAAGA,IAAGC,IAAG;AACjB,MAAE,WAAW,IAAI,EAAED,IAAGC,IAAG,KAAK,KAAK,gBAAgB;AAAA,EACrD;AAAA,EACA,SAAS,GAAGD,IAAG;AACb,UAAMC,KAAI,EAAE,SAAS;AACrB,MAAE,WAAW,IAAI,EAAED,IAAGC,IAAG,KAAK,KAAK,gBAAgB;AAAA,EACrD;AAAA,EACA,SAAS,GAAGD,IAAG;AACb,UAAMC,KAAI,EAAE,SAAS;AACrB,MAAE,WAAW,IAAI,EAAEA,IAAGD,IAAG,KAAK,KAAK,gBAAgB;AAAA,EACrD;AAAA,EACA,oBAAoB;AAClB,WAAO,KAAK,SAAS,KAAK,OAAK,QAAQ,GAAG,YAAY,aAAa,EAAE,SAAS,IAAI;AAAA,EACpF;AAAA,EACA,cAAc,GAAG;AACf,UAAMA,KAAI,KAAK,SAAS,IAAI,CAAAS,OAAKA,GAAE,QAAQ;AAC3C,WAAO,KAAK,WAAW,GAAGT,EAAC;AAAA,EAC7B;AAAA,EACA,gBAAgB,GAAG;AACjB,UAAM,CAACA,IAAGC,IAAGC,IAAGS,EAAC,IAAI,KAAK,cAAcD,GAAE,CAAC;AAC3C,QAAI,GAAG;AACL,YAAMD,MAAKT,KAAIE,MAAK,GAClBU,MAAKD,KAAIV,MAAK;AAChB,aAAO,CAAC,CAACD,IAAGW,EAAC,GAAG,CAACF,IAAGE,EAAC,GAAG,CAACT,IAAGS,EAAC,GAAG,CAACT,IAAGU,EAAC,GAAG,CAACV,IAAGD,EAAC,GAAG,CAACQ,IAAGR,EAAC,GAAG,CAACD,IAAGC,EAAC,GAAG,CAACD,IAAGY,EAAC,CAAC;AAAA,IACxE;AACA,WAAO,CAAC,CAACZ,IAAGW,EAAC,GAAG,CAACT,IAAGS,EAAC,GAAG,CAACT,IAAGD,EAAC,GAAG,CAACD,IAAGC,EAAC,CAAC;AAAA,EACxC;AAAA,EACA,eAAe,GAAGD,IAAG;AACnB,QAAI,QAAQ,KAAK,QAAS;AAC1B,QAAI,CAAC,EAAG,QAAO,KAAK,KAAK,QAAQ,MAAM;AACvC,UAAM;AAAA,MACJ,oBAAoBC;AAAA,MACpB,UAAUC;AAAA,MACV,iBAAiBS;AAAA,MACjB,sBAAsBC;AAAA,IACxB,IAAI;AACJ,UAAMA,KAAI,KAAK,qBAAqB,IAAID,GAAE,SAAS,CAAC,IAAI,KAAK,oBAAoB,KAAKT,GAAE,SAAS,CAAC,KAAK,MAAMD,OAAM,KAAK,mBAAmBD,EAAC;AAAA,EAC9I;AAAA,EACA,uBAAuB;AACrB,YAAQ,KAAK,YAAY,KAAK,QAAQ,OAAO,IAAI,EAAE;AAAA,MACjD,eAAe,KAAK;AAAA,MACpB,OAAO,CAAC,KAAK;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EACA,sBAAsB;AACpB,UAAM;AAAA,MACJ,SAAS;AAAA,MACT,SAASA;AAAA,MACT,SAASC;AAAA,MACT,eAAeC;AAAA,MACf,MAAMS;AAAA,IACR,IAAI;AACJ,QAAI,QAAQ,EAAG;AACf,UAAMC,KAAI,KAAK,gBAAgB,GAC7BC,KAAIF,GAAE;AAAA,MACJ,SAASC,GAAE,CAAC;AAAA,MACZ,UAAUA,GAAE,CAAC;AAAA,MACb,aAAaA,GAAE,CAAC;AAAA,MAChB,YAAYA,GAAE,CAAC;AAAA,MACf,kBAAkBD,GAAE;AAAA,IACtB,CAAC;AACH,QAAI,QAAQE,GAAG;AACf,UAAM;AAAA,MACF,OAAOP;AAAA,MACP,OAAO;AAAA,IACT,IAAIO,IACJ,IAAI,KAAK,IAAIb,EAAC,GACdc,KAAI,KAAK,IAAIb,EAAC;AAChB,MAAE,OAAO,IAAIA,GAAE;AAAA,MACb,eAAeC;AAAA,MACf,QAAQ;AAAA,MACR,QAAQY;AAAA,MACR,OAAOR;AAAA,MACP,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EACA,mBAAmB,GAAG;AACpB,UAAM;AAAA,MACJ,SAASN;AAAA,MACT,eAAeC;AAAA,MACf,MAAMC;AAAA,IACR,IAAI;AACJ,QAAI,QAAQF,GAAG;AACf,UAAMY,KAAI,IAAI,EAAE;AAAA,MACd,eAAeX;AAAA,IACjB,CAAC;AACD,QAAI,GAAG;AACL,YAAM;AAAA,QACF,GAAGD;AAAA,QACH,GAAGC;AAAA,MACL,IAAI,EAAE,QACNY,KAAIX,GAAE,MAAM,CAAC,GACbI,KAAIJ,GAAE,MAAM;AAAA,QACV,GAAGF;AAAA,QACH,GAAGC;AAAA,MACL,CAAC,GACD,IAAIgB,GAAEX,IAAGO,EAAC;AACZ,MAAAD,GAAE,WAAW,QAAQ,IAAI,IAAI;AAAA,IAC/B;AACA,IAAAZ,GAAE,OAAOY;AAAA,EACX;AACF;AACA,SAAS,EAAE,GAAGZ,KAAI,GAAG;AACnB,SAAO,OAAO,WAAW,EAAE,QAAQA,EAAC,CAAC;AACvC;AACA,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,WAAW,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC7C,UAAU;AACZ,CAAC,CAAC,GAAG,EAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,aAAa,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,kBAAkB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,kBAAkB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,iBAAiB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,qBAAqB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,SAAS,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,uBAAuB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,qBAAqB,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EACrd,UAAU;AACZ,CAAC,CAAC,GAAG,EAAE,WAAW,SAAS,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,WAAW,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC/E,MAAM;AACR,CAAC,CAAC,GAAG,EAAE,WAAW,iBAAiB,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC/C,eAAe;AACjB,CAAC,CAAC,GAAG,EAAE,WAAW,QAAQ,MAAM,GAAG,IAAI,EAAE,CAAC,EAAE,6BAA6B,CAAC,GAAG,CAAC;AAC9E,IAAM,IAAI;",
  "names": ["o", "e", "s", "i", "n", "r", "a", "m", "x", "p", "l", "h", "u", "e", "i", "s", "U", "A", "P", "h", "y", "d", "t", "u", "o", "r", "a", "l", "p", "_", "m", "x", "G", "S"]
}
