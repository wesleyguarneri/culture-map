import { createRequire } from 'module';const require = createRequire(import.meta.url);
import {
  c as c3
} from "./chunk-7SNJPIUA.js";
import {
  a as a2
} from "./chunk-V6ZMT2EX.js";
import {
  o
} from "./chunk-YPXYKVMN.js";
import {
  y as y2
} from "./chunk-FCOW4GHI.js";
import {
  t as t2
} from "./chunk-TKVHHGIS.js";
import "./chunk-S5XISVKE.js";
import "./chunk-DJBRQU7Y.js";
import {
  b as b2,
  f as f3,
  g as g2
} from "./chunk-PTO6XZBI.js";
import {
  f as f4
} from "./chunk-XK5LKXMQ.js";
import "./chunk-74SVQPE6.js";
import {
  y as y3
} from "./chunk-CXYUBZAK.js";
import "./chunk-LUORW76W.js";
import "./chunk-A5U437OT.js";
import "./chunk-OPZOJLPA.js";
import {
  V as V2
} from "./chunk-5QRKSSRL.js";
import "./chunk-4OEN6IBN.js";
import "./chunk-HUMKNI5V.js";
import "./chunk-3SFUX3VL.js";
import "./chunk-YQ4BFXXY.js";
import {
  h
} from "./chunk-BUAHJQUY.js";
import "./chunk-MWR6F5NE.js";
import "./chunk-NLU6ZPOA.js";
import "./chunk-YQDGVKY6.js";
import "./chunk-PAFRRTJD.js";
import "./chunk-A47NS37R.js";
import "./chunk-VOJZD4TW.js";
import "./chunk-6JRLR4LF.js";
import "./chunk-OQI6JU2J.js";
import "./chunk-7PJ3GUSK.js";
import "./chunk-BNFI45VE.js";
import "./chunk-CSA6OEKA.js";
import "./chunk-ZCCDVQ3H.js";
import "./chunk-NZTRS5LW.js";
import {
  t
} from "./chunk-FV32SB4U.js";
import {
  c as c2
} from "./chunk-MXW2KGHZ.js";
import "./chunk-FW7J76DZ.js";
import {
  b,
  d as d2,
  g
} from "./chunk-B2Q56YUE.js";
import "./chunk-ONVI4SC3.js";
import "./chunk-QA265FYQ.js";
import "./chunk-HUOFTIIK.js";
import "./chunk-EPIUUGS2.js";
import {
  C,
  ee
} from "./chunk-PLQQNSQY.js";
import "./chunk-DDV74AXO.js";
import "./chunk-37RAJ54N.js";
import "./chunk-SM7IYUF6.js";
import "./chunk-Y72ZILQ6.js";
import "./chunk-V4U3XK2O.js";
import "./chunk-7DRGM3JS.js";
import "./chunk-LR3PYNHM.js";
import "./chunk-VM4DYPO2.js";
import "./chunk-PXFPCKFW.js";
import "./chunk-RAYFUCRQ.js";
import "./chunk-ONQZSDXQ.js";
import {
  E
} from "./chunk-FWYSNIVU.js";
import "./chunk-MDEPINSI.js";
import "./chunk-Q2RVB4BK.js";
import "./chunk-SKOGSS6Z.js";
import "./chunk-G3WMCIUE.js";
import "./chunk-WS7U2AGS.js";
import "./chunk-U4NXHH3L.js";
import "./chunk-J7FRIDYV.js";
import "./chunk-QWE4DSVN.js";
import "./chunk-2LHHRVKS.js";
import {
  c,
  e2 as e3
} from "./chunk-QATJRB5Q.js";
import "./chunk-7Z4UWMRU.js";
import "./chunk-IQEF4U4C.js";
import "./chunk-KB6CBN72.js";
import "./chunk-BCMXVFG5.js";
import "./chunk-FB2GCV4L.js";
import "./chunk-NOBDTR4N.js";
import "./chunk-5RF6XDV4.js";
import "./chunk-Q47GASPN.js";
import "./chunk-YEB36ZCF.js";
import "./chunk-LCPLUSDH.js";
import "./chunk-KINQ7OJ3.js";
import {
  D,
  G,
  U as U2,
  X
} from "./chunk-KYLW5XXS.js";
import "./chunk-B76NC7GX.js";
import "./chunk-HFXXFWYN.js";
import "./chunk-NE35ZNG6.js";
import "./chunk-ZLSZAC2I.js";
import "./chunk-QRWQ6QBB.js";
import "./chunk-X5QZGB37.js";
import "./chunk-T5C2TZNO.js";
import "./chunk-AOGKNBDG.js";
import "./chunk-F4FQ67JP.js";
import {
  f as f2
} from "./chunk-FDI2X6GO.js";
import "./chunk-3XHDZQO5.js";
import "./chunk-2BLQXT54.js";
import "./chunk-JSWVKNBA.js";
import "./chunk-CILHMGNK.js";
import "./chunk-2BOKEEZV.js";
import "./chunk-KXVPQVTB.js";
import "./chunk-ARN5GJBK.js";
import "./chunk-MPLS4PY6.js";
import "./chunk-AGBPYPP3.js";
import "./chunk-GZ64OOAB.js";
import "./chunk-WR2NVDOI.js";
import "./chunk-EPLJRYUV.js";
import "./chunk-VYRCS5VR.js";
import "./chunk-6XY35LS7.js";
import "./chunk-JTDKNK44.js";
import "./chunk-RR7OQLEK.js";
import "./chunk-CZA7RDJP.js";
import "./chunk-LGS63R4F.js";
import "./chunk-NAG6YX7T.js";
import "./chunk-WFNAKG2H.js";
import "./chunk-EKHRAAS6.js";
import "./chunk-IEB4ZCRH.js";
import "./chunk-NHYYZMJR.js";
import "./chunk-U4EMQMDC.js";
import "./chunk-WVSTX2NW.js";
import "./chunk-BZHHBBFX.js";
import "./chunk-A2FDYA6M.js";
import "./chunk-ORYC4PVJ.js";
import "./chunk-DXIKKLD7.js";
import "./chunk-VQNXE43R.js";
import "./chunk-VZ37C3ID.js";
import "./chunk-5R3HARKC.js";
import "./chunk-BKSTWG4S.js";
import "./chunk-FSG7HOZQ.js";
import "./chunk-Q5TIVVER.js";
import "./chunk-ZPMUEGLK.js";
import "./chunk-GNFDYYU3.js";
import "./chunk-X36BR2QB.js";
import "./chunk-RGG3YJQA.js";
import "./chunk-GBJYL7OX.js";
import "./chunk-GHKVDSKU.js";
import "./chunk-NVOJILW6.js";
import "./chunk-KYPTWEOO.js";
import "./chunk-WVFB3H4O.js";
import "./chunk-C7BQE556.js";
import "./chunk-ZREJ3Y2F.js";
import "./chunk-IR6CVPPC.js";
import "./chunk-BBUQOCRA.js";
import "./chunk-YBUJLIWZ.js";
import "./chunk-DL2B6IFJ.js";
import "./chunk-VOOO6FU5.js";
import "./chunk-IUPJR3FF.js";
import "./chunk-TGZW6QWO.js";
import "./chunk-OYIDHTXG.js";
import "./chunk-KUBMHTYA.js";
import "./chunk-E5NWFBZG.js";
import "./chunk-FP37456K.js";
import "./chunk-VSQZQLTQ.js";
import "./chunk-K43CZ3M5.js";
import "./chunk-6EIBUVMG.js";
import "./chunk-NXXQ35YM.js";
import {
  K,
  W
} from "./chunk-LM3JDV4W.js";
import "./chunk-34V2CLL5.js";
import "./chunk-7V4JSBFA.js";
import "./chunk-MVS2BECH.js";
import "./chunk-DC5LRNPY.js";
import "./chunk-ASCK5HJ5.js";
import "./chunk-5X5U7R6O.js";
import "./chunk-XNLAOXPY.js";
import "./chunk-ZT7V2AVD.js";
import "./chunk-C2OXE4NQ.js";
import "./chunk-KOI252FF.js";
import "./chunk-I2TVVMQ6.js";
import "./chunk-5EGQYY2H.js";
import "./chunk-JKPUNUQA.js";
import "./chunk-SR7PRON4.js";
import "./chunk-HGHPYGKP.js";
import "./chunk-4DSGTDZJ.js";
import "./chunk-VYTPFEL2.js";
import "./chunk-RLGDH6IY.js";
import "./chunk-MRPCXIVS.js";
import "./chunk-YTKVV2Y3.js";
import "./chunk-GCVQXAS4.js";
import "./chunk-UFQD6AL4.js";
import "./chunk-THZPD5CT.js";
import "./chunk-OBCA6CWH.js";
import "./chunk-2JI245BP.js";
import "./chunk-ABIG6PT5.js";
import "./chunk-ZEZ3LI2L.js";
import "./chunk-N34BRXVM.js";
import "./chunk-7QV7DHWN.js";
import "./chunk-4L4Y34YK.js";
import "./chunk-BXONKQKI.js";
import "./chunk-2HDBQXAR.js";
import {
  w
} from "./chunk-RNF7VOCU.js";
import {
  _
} from "./chunk-TIRJMGGG.js";
import {
  f
} from "./chunk-ZDRQSPB6.js";
import "./chunk-DCXDXGAR.js";
import "./chunk-BCCDYCTQ.js";
import "./chunk-AYL3HQHD.js";
import "./chunk-66YQWHHE.js";
import "./chunk-QGBMZIP4.js";
import "./chunk-AOEBZVTA.js";
import "./chunk-2OZSYJDX.js";
import "./chunk-MZM4INJV.js";
import "./chunk-J4GMQHGL.js";
import "./chunk-MHPE4SZA.js";
import "./chunk-6SSA7P3A.js";
import "./chunk-FQBTLEUI.js";
import "./chunk-GS7Y3YOG.js";
import "./chunk-Y2HYKTTT.js";
import {
  A,
  U,
  r2 as r,
  v
} from "./chunk-XLEC46FY.js";
import "./chunk-4AZPIP7K.js";
import "./chunk-G73HQZEL.js";
import {
  d
} from "./chunk-LZSLQ24Q.js";
import {
  V
} from "./chunk-U3RHUXYK.js";
import "./chunk-7DBI6LQG.js";
import "./chunk-AUUN7RFQ.js";
import "./chunk-JAMSDYD6.js";
import "./chunk-PH6NPTP7.js";
import {
  e as e2
} from "./chunk-NUICEVIH.js";
import "./chunk-NXK752PZ.js";
import {
  y
} from "./chunk-UVNLCXWD.js";
import "./chunk-PNUA7JOS.js";
import "./chunk-OR2FKGUM.js";
import {
  a3 as a
} from "./chunk-UDMPWVPF.js";
import "./chunk-XJNKCEWL.js";
import "./chunk-AIZ3T7E3.js";
import "./chunk-6UEMNP3E.js";
import {
  e,
  u
} from "./chunk-6WGE3IUL.js";
import "./chunk-MLYB2YW4.js";
import "./chunk-6JFGZTLU.js";
import "./chunk-2ZJE6ZFX.js";
import {
  __async,
  __spreadValues
} from "./chunk-XBPEBUD5.js";

// ../../../node_modules/@arcgis/core/views/support/imageReprojection.js
var w2 = class _w {
  constructor(t3) {
    if (this._ownsRctx = false, t3) this._ownsRctx = false, this._rctx = t3;
    else {
      if (_w._instance) return _w._instanceRefCount++, _w._instance;
      _w._instanceRefCount = 1, _w._instance = this, this._ownsRctx = true;
      const t4 = document.createElement("canvas"), e5 = t(t4);
      e5.getExtension("OES_texture_float"), this._rctx = new y2(e5, {});
    }
    const e4 = {
      applyProjection: true,
      bilinear: false,
      bicubic: false
    }, r2 = o("raster/reproject", "raster/reproject", /* @__PURE__ */ new Map([["a_position", 0]]), e4);
    this._program = this._rctx.programCache.acquire(r2.shaders.vertexShader, r2.shaders.fragmentShader, r2.attributes), this._rctx.useProgram(this._program), this._program.setUniform1f("u_opacity", 1), this._program.setUniform1i("u_image", 0), this._program.setUniform1i("u_flipY", 0), this._program.setUniform1i("u_transformGrid", 1), this._quad = new h(this._rctx, [0, 0, 1, 0, 0, 1, 1, 1]);
  }
  reprojectTexture(t3, s, n = false) {
    const o2 = K(t3.extent, s), m = new _({
      x: (t3.extent.xmax - t3.extent.xmin) / t3.texture.descriptor.width,
      y: (t3.extent.ymax - t3.extent.ymin) / t3.texture.descriptor.height,
      spatialReference: t3.extent.spatialReference
    }), {
      x: c4,
      y: g3
    } = C(m, s, t3.extent);
    let f5 = (c4 + g3) / 2;
    const w3 = Math.round((o2.xmax - o2.xmin) / f5), b3 = Math.round((o2.ymax - o2.ymin) / f5);
    f5 = (o2.width / w3 + o2.height / b3) / 2;
    const j2 = new _({
      x: f5,
      y: f5,
      spatialReference: o2.spatialReference
    }), D2 = ee({
      projectedExtent: o2,
      srcBufferExtent: t3.extent,
      pixelSize: j2,
      hasWrapAround: true,
      spacing: [16, 16]
    }), R = c3(this._rctx, D2), T = new e3(w3, b3);
    T.wrapMode = D.CLAMP_TO_EDGE;
    const C3 = new E(this._rctx, T);
    this._rctx.bindFramebuffer(C3), this._rctx.setViewport(0, 0, w3, b3), this._rctx.useProgram(this._program), this._rctx.bindTexture(t3.texture, 0), this._rctx.bindTexture(R, 1), this._quad.bind();
    const {
      width: y4 = 0,
      height: E2 = 0
    } = t3.texture.descriptor;
    if (this._program.setUniform2f("u_srcImageSize", y4, E2), this._program.setUniform2fv("u_transformSpacing", D2.spacing), this._program.setUniform2fv("u_transformGridSize", D2.size), this._program.setUniform2f("u_targetImageSize", w3, b3), this._quad.draw(), this._quad.unbind(), this._rctx.useProgram(null), this._rctx.bindFramebuffer(null), R.dispose(), n) {
      const {
        width: t4,
        height: e4
      } = C3, r2 = new ImageData(t4 ?? 0, e4 ?? 0);
      C3.readPixels(0, 0, t4 ?? 0, e4 ?? 0, G.RGBA, U2.UNSIGNED_BYTE, r2.data);
      const i = C3.detachColorTexture(X.COLOR_ATTACHMENT0);
      return C3.dispose(), {
        texture: i,
        extent: o2,
        imageData: r2
      };
    }
    const U3 = C3.detachColorTexture(X.COLOR_ATTACHMENT0);
    return C3.dispose(), {
      texture: U3,
      extent: o2
    };
  }
  reprojectBitmapData(t3, e4) {
    const r2 = g2(t3.bitmapData) ? f3(t3.bitmapData) : t3.bitmapData, i = new e3();
    i.wrapMode = D.CLAMP_TO_EDGE, i.width = t3.bitmapData.width, i.height = t3.bitmapData.height;
    const a3 = new c(this._rctx, i, r2), o2 = this.reprojectTexture({
      texture: a3,
      extent: t3.extent
    }, e4, true);
    o2.texture.dispose();
    const m = document.createElement("canvas"), c4 = o2.imageData;
    m.width = c4.width, m.height = c4.height;
    return m.getContext("2d").putImageData(c4, 0, 0), {
      bitmapData: m,
      extent: o2.extent
    };
  }
  loadAndReprojectBitmapData(e4, r2, i) {
    return __async(this, null, function* () {
      const a3 = (yield U(e4, {
        responseType: "image"
      })).data, s = document.createElement("canvas");
      s.width = a3.width, s.height = a3.height;
      const n = s.getContext("2d");
      n.drawImage(a3, 0, 0);
      const o2 = n.getImageData(0, 0, s.width, s.height);
      if (r2.spatialReference.equals(i)) return {
        bitmapData: o2,
        extent: r2
      };
      const m = this.reprojectBitmapData({
        bitmapData: o2,
        extent: r2
      }, i);
      return {
        bitmapData: m.bitmapData,
        extent: m.extent
      };
    });
  }
  destroy() {
    this._ownsRctx ? (_w._instanceRefCount--, 0 === _w._instanceRefCount && (this._quad.dispose(), this._program.dispose(), this._rctx.dispose(), _w._instance = null)) : (this._quad.dispose(), this._program.dispose());
  }
};
w2._instanceRefCount = 0;

// ../../../node_modules/@arcgis/core/views/2d/layers/KMLLayerView2D.js
var C2 = class {
  constructor() {
    this.allSublayers = /* @__PURE__ */ new Map(), this.allPoints = [], this.allPolylines = [], this.allPolygons = [], this.allMapImages = [];
  }
};
var j = class extends f4(y3) {
  constructor() {
    super(...arguments), this._bitmapIndex = /* @__PURE__ */ new Map(), this._mapImageContainer = new a2(), this._kmlVisualData = new C2(), this._fetchController = null, this.allVisiblePoints = new c2(), this.allVisiblePolylines = new c2(), this.allVisiblePolygons = new c2(), this.allVisibleMapImages = new V();
  }
  hitTest(e4, i) {
    return __async(this, null, function* () {
      const t3 = this.layer;
      return [this._pointsView?.hitTest(e4), this._polylinesView?.hitTest(e4), this._polygonsView?.hitTest(e4)].flat().filter(Boolean).map((i2) => (i2.layer = t3, i2.sourceLayer = t3, {
        type: "graphic",
        graphic: i2,
        layer: t3,
        mapPoint: e4
      }));
    });
  }
  update(e4) {
    this._polygonsView && this._polygonsView.processUpdate(e4), this._polylinesView && this._polylinesView.processUpdate(e4), this._pointsView && this._pointsView.processUpdate(e4);
  }
  attach() {
    this._fetchController = new AbortController(), this.container.addChild(this._mapImageContainer), this._polygonsView = new V2({
      view: this.view,
      graphics: this.allVisiblePolygons,
      requestUpdateCallback: () => this.requestUpdate(),
      container: new t2(this.view.featuresTilingScheme)
    }), this.container.addChild(this._polygonsView.container), this._polylinesView = new V2({
      view: this.view,
      graphics: this.allVisiblePolylines,
      requestUpdateCallback: () => this.requestUpdate(),
      container: new t2(this.view.featuresTilingScheme)
    }), this.container.addChild(this._polylinesView.container), this._pointsView = new V2({
      view: this.view,
      graphics: this.allVisiblePoints,
      requestUpdateCallback: () => this.requestUpdate(),
      container: new t2(this.view.featuresTilingScheme)
    }), this.container.addChild(this._pointsView.container), this.addAttachHandles([this.allVisibleMapImages.on("change", (e4) => {
      e4.added.forEach((e5) => this._addMapImage(e5)), e4.removed.forEach((e5) => this._removeMapImage(e5));
    }), d(() => this.layer.visibleSublayers, (e4) => {
      for (const [i, t3] of this._kmlVisualData.allSublayers) t3.visibility = 0;
      for (const i of e4) {
        const e5 = this._kmlVisualData.allSublayers.get(i.id);
        e5 && (e5.visibility = 1);
      }
      this._refreshCollections();
    })]), this._updatingHandles.addPromise(this._fetchService(this._fetchController.signal)), this._imageReprojector = new w2();
  }
  detach() {
    this._fetchController = e(this._fetchController), this._mapImageContainer.removeAllChildren(), this.container.removeAllChildren(), this._bitmapIndex.clear(), this._polygonsView = u(this._polygonsView), this._polylinesView = u(this._polylinesView), this._pointsView = u(this._pointsView), this._imageReprojector = u(this._imageReprojector);
  }
  viewChange() {
    this._polygonsView.viewChange(), this._polylinesView.viewChange(), this._pointsView.viewChange();
  }
  moveEnd() {
  }
  isUpdating() {
    return this._pointsView.updating || this._polygonsView.updating || this._polylinesView.updating;
  }
  _addMapImage(e4) {
    (this.view.spatialReference?.isWGS84 || this.view.spatialReference?.isWebMercator) && this._imageReprojector.loadAndReprojectBitmapData(e4.href, w.fromJSON(e4.extent), this.view.spatialReference).then((i) => {
      const t3 = new b2(i.bitmapData);
      t3.x = i.extent.xmin, t3.y = i.extent.ymax, t3.resolution = i.extent.width / i.bitmapData.width, t3.rotation = e4.rotation, this._mapImageContainer.addChild(t3), this._bitmapIndex.set(e4, t3);
    });
  }
  _getViewDependentUrl(e4, t3) {
    return __async(this, null, function* () {
      const {
        viewFormat: s,
        viewBoundScale: a3,
        httpQuery: o2
      } = e4;
      if (null != s) {
        if (null == t3) throw new Error("Loading this network link requires a view state.");
        let n;
        if (yield W(), null != a3 && 1 !== a3) {
          const e5 = new w(t3.extent);
          e5.expand(a3), n = e5;
        } else n = t3.extent;
        n = K(n, f.WGS84);
        const h2 = K(n, f.WebMercator), y4 = n.xmin, g3 = n.xmax, w3 = n.ymin, _2 = n.ymax, b3 = t3.size[0] * t3.pixelRatio, V3 = t3.size[1] * t3.pixelRatio, f5 = Math.max(h2.width, h2.height), v2 = {
          "[bboxWest]": y4.toString(),
          "[bboxEast]": g3.toString(),
          "[bboxSouth]": w3.toString(),
          "[bboxNorth]": _2.toString(),
          "[lookatLon]": n.center.x.toString(),
          "[lookatLat]": n.center.y.toString(),
          "[lookatRange]": f5.toString(),
          "[lookatTilt]": "0",
          "[lookatHeading]": t3.rotation.toString(),
          "[lookatTerrainLon]": n.center.x.toString(),
          "[lookatTerrainLat]": n.center.y.toString(),
          "[lookatTerrainAlt]": "0",
          "[cameraLon]": n.center.x.toString(),
          "[cameraLat]": n.center.y.toString(),
          "[cameraAlt]": f5.toString(),
          "[horizFov]": "60",
          "[vertFov]": "60",
          "[horizPixels]": b3.toString(),
          "[vertPixels]": V3.toString(),
          "[terrainEnabled]": "0",
          "[clientVersion]": r,
          "[kmlVersion]": "2.2",
          "[clientName]": "ArcGIS API for JavaScript",
          "[language]": "en-US"
        }, S = (e5) => {
          for (const i in e5) {
            let t4;
            for (t4 in v2) e5[i] = e5[i].replace(t4, v2[t4]);
          }
        }, I = A(s);
        S(I);
        let x = {};
        null != o2 && (x = A(o2), S(x));
        const C3 = f2(e4.href);
        C3.query = __spreadValues(__spreadValues(__spreadValues({}, C3.query), I), x);
        return `${C3.path}?${v(I)}`;
      }
      return e4.href;
    });
  }
  _fetchService(e4) {
    return __async(this, null, function* () {
      const i = new C2();
      yield this._loadVisualData(this.layer.url, i, e4), this._kmlVisualData = i, this._refreshCollections();
    });
  }
  _refreshCollections() {
    this.allVisiblePoints.removeAll(), this.allVisiblePolylines.removeAll(), this.allVisiblePolygons.removeAll(), this.allVisibleMapImages.removeAll(), this.allVisiblePoints.addMany(this._kmlVisualData.allPoints.filter((e4) => this._isSublayerVisible(e4.sublayerId)).map(({
      item: e4
    }) => e4)), this.allVisiblePolylines.addMany(this._kmlVisualData.allPolylines.filter((e4) => this._isSublayerVisible(e4.sublayerId)).map(({
      item: e4
    }) => e4)), this.allVisiblePolygons.addMany(this._kmlVisualData.allPolygons.filter((e4) => this._isSublayerVisible(e4.sublayerId)).map(({
      item: e4
    }) => e4)), this.allVisibleMapImages.addMany(this._kmlVisualData.allMapImages.filter((e4) => this._isSublayerVisible(e4.sublayerId)).map(({
      item: e4
    }) => e4));
  }
  _isSublayerVisible(e4) {
    const i = this._kmlVisualData.allSublayers.get(e4);
    return !!i?.visibility && (-1 === i.parentFolderId || this._isSublayerVisible(i.parentFolderId));
  }
  _loadVisualData(e4, i, t3) {
    return this._fetchParsedKML(e4, t3).then((e5) => __async(this, null, function* () {
      for (const s of e5.sublayers) {
        i.allSublayers.set(s.id, s);
        const e6 = s.points ? yield b(s.points) : [], a3 = s.polylines ? yield b(s.polylines) : [], o2 = s.polygons ? yield b(s.polygons) : [], l = s.mapImages || [];
        if (i.allPoints.push(...e6.map((e7) => ({
          item: e7,
          sublayerId: s.id
        }))), i.allPolylines.push(...a3.map((e7) => ({
          item: e7,
          sublayerId: s.id
        }))), i.allPolygons.push(...o2.map((e7) => ({
          item: e7,
          sublayerId: s.id
        }))), i.allMapImages.push(...l.map((e7) => ({
          item: e7,
          sublayerId: s.id
        }))), s.networkLink) {
          const e7 = yield this._getViewDependentUrl(s.networkLink, this.view.state);
          yield this._loadVisualData(e7, i, t3);
        }
      }
    }));
  }
  _fetchParsedKML(e4, i) {
    return g(e4, this.layer.spatialReference, this.layer.refreshInterval, i).then((e5) => d2(e5.data));
  }
  _removeMapImage(e4) {
    const i = this._bitmapIndex.get(e4);
    i && (this._mapImageContainer.removeChild(i), this._bitmapIndex.delete(e4));
  }
};
e2([y()], j.prototype, "_pointsView", void 0), e2([y()], j.prototype, "_polylinesView", void 0), e2([y()], j.prototype, "_polygonsView", void 0), e2([y()], j.prototype, "updating", void 0), j = e2([a("esri.views.2d.layers.KMLLayerView2D")], j);
var k = j;
export {
  k as default
};
//# sourceMappingURL=KMLLayerView2D-C3TZFFH5.js.map
