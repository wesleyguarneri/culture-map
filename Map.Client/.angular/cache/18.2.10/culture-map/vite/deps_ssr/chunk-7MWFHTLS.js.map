{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst t = 9999999e31,\n  e = 2e-7,\n  n = {\n    u1: [0, 1],\n    u2: [0, 3],\n    u4: [0, 15],\n    u8: [0, 255],\n    s8: [-128, 127],\n    u16: [0, 65535],\n    s16: [-32768, 32767],\n    u32: [0, 4294967295],\n    s32: [-2147483648, 2147483647],\n    f32: [-34028234663852886e22, 34028234663852886e22],\n    f64: [-Number.MAX_VALUE, Number.MAX_VALUE],\n    unknown: void 0,\n    c64: void 0,\n    c128: void 0\n  };\nfunction s(t) {\n  return n[t] ?? [-34028234663852886e22, 34028234663852886e22];\n}\nfunction u(t, e) {\n  return null == t || null == e ? \"s32\" : t < 0 ? t >= -128 && e < 128 ? \"s8\" : t >= -32768 && e < 32768 ? \"s16\" : \"s32\" : e < 256 ? \"u8\" : e < 65536 ? \"u16\" : \"u32\";\n}\nfunction i(t) {\n  return (t?.startsWith(\"s\") || t?.startsWith(\"u\")) ?? !1;\n}\nfunction l(n, u, i) {\n  if (n.depthCount && n.depthCount > 1) return;\n  const {\n      pixels: l,\n      statistics: a,\n      pixelType: o\n    } = n,\n    r = l[0].length,\n    c = n.bandMasks ?? [],\n    f = n.mask ?? new Uint8Array(r).fill(255),\n    b = \"f32\" === o || \"f64\" === o,\n    h = s(o);\n  let m = !1;\n  for (let s = 0; s < l.length; s++) {\n    const n = \"number\" == typeof u ? u : u[s];\n    if (null == n) continue;\n    const r = a?.[s]?.minValue ?? h[0],\n      d = a?.[s]?.maxValue ?? h[1];\n    if (r > n + Number.EPSILON || d < n - Number.EPSILON) continue;\n    const p = c[s] || f.slice(),\n      M = l[s],\n      N = i?.customFloatTolerance;\n    if (b && 0 !== N) {\n      let s = N;\n      s || (s = Math.abs(n) >= t ? e * Math.abs(n) : \"f32\" === o ? 2 ** -23 : Number.EPSILON);\n      for (let t = 0; t < M.length; t++) p[t] && Math.abs(M[t] - n) < s && (M[t] = 0, p[t] = 0, f[t] = 0, m = !0);\n    } else for (let t = 0; t < M.length; t++) p[t] && M[t] === n && (M[t] = 0, p[t] = 0, f[t] = 0, m = !0);\n    c[s] = p;\n  }\n  m && (n.bandMasks = n.bandMasks || n.pixels.length > 1 ? c : null, n.mask = f), m && \"updateStatistics\" in n && n.updateStatistics();\n}\nexport { l as convertNoDataToMask, u as getIntegerPixelType, s as getPixelValueRange, i as isIntegerPixelType };"],
  "mappings": "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",
  "names": ["t", "e", "n", "u", "i", "l", "s", "r"]
}
