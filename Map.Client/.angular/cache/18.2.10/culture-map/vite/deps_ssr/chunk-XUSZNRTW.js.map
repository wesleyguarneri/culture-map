{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/support/ExpressionInfo.js", "../../../../../../node_modules/@arcgis/core/layers/support/AggregateField.js", "../../../../../../node_modules/@arcgis/core/layers/support/FeatureReductionBinning.js", "../../../../../../node_modules/@arcgis/core/layers/support/FeatureReductionCluster.js", "../../../../../../node_modules/@arcgis/core/layers/support/featureReductionUtils.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js", "../../../../../../node_modules/@arcgis/core/layers/mixins/FeatureReductionLayer.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport { ClonableMixin as o } from \"../../core/Clonable.js\";\nimport { JSONSupport as t } from \"../../core/JSONSupport.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../core/accessorSupport/decorators/subclass.js\";\nlet p = class extends o(t) {\n  constructor(r) {\n    super(r), this.expression = null, this.title = null, this.returnType = null;\n  }\n};\nr([s({\n  type: String,\n  json: {\n    write: !0\n  }\n})], p.prototype, \"expression\", void 0), r([s({\n  type: String,\n  json: {\n    write: !0\n  }\n})], p.prototype, \"title\", void 0), r([s({\n  type: String,\n  json: {\n    write: !0\n  }\n})], p.prototype, \"returnType\", void 0), p = r([e(\"esri.layers.support.ExpressionInfo\")], p);\nconst i = p;\nexport { i as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport { JSONSupport as s } from \"../../core/JSONSupport.js\";\nimport { clone as o } from \"../../core/lang.js\";\nimport { property as i } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport { subclass as e } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport r from \"./ExpressionInfo.js\";\nvar p;\nlet n = p = class extends s {\n  constructor(t) {\n    super(t), this.isAutoGenerated = !1, this.name = null, this.alias = null, this.onStatisticField = null, this.onStatisticExpression = null, this.statisticType = null;\n  }\n  clone() {\n    return new p({\n      name: this.name,\n      alias: this.alias,\n      isAutoGenerated: this.isAutoGenerated,\n      onStatisticExpression: o(this.onStatisticExpression),\n      onStatisticField: this.onStatisticField,\n      statisticType: this.statisticType\n    });\n  }\n};\nt([i({\n  type: Boolean,\n  json: {\n    write: !0\n  }\n})], n.prototype, \"isAutoGenerated\", void 0), t([i({\n  type: String,\n  json: {\n    write: !0\n  }\n})], n.prototype, \"name\", void 0), t([i({\n  type: String,\n  json: {\n    write: !0\n  }\n})], n.prototype, \"alias\", void 0), t([i({\n  type: String,\n  json: {\n    write: !0\n  }\n})], n.prototype, \"onStatisticField\", void 0), t([i({\n  type: r,\n  json: {\n    write: !0\n  }\n})], n.prototype, \"onStatisticExpression\", void 0), t([i({\n  type: String,\n  json: {\n    write: !0\n  }\n})], n.prototype, \"statisticType\", void 0), n = p = t([e(\"esri.layers.support.AggregateField\")], n);\nconst a = n;\nexport { a as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../PopupTemplate.js\";\nimport \"../../renderers/ClassBreaksRenderer.js\";\nimport \"../../renderers/DictionaryRenderer.js\";\nimport \"../../renderers/DotDensityRenderer.js\";\nimport \"../../renderers/HeatmapRenderer.js\";\nimport \"../../renderers/PieChartRenderer.js\";\nimport \"../../renderers/Renderer.js\";\nimport \"../../renderers/SimpleRenderer.js\";\nimport \"../../renderers/UniqueValueRenderer.js\";\nimport { read as o } from \"../../renderers/support/jsonUtils.js\";\nimport { rendererTypes as t } from \"../../renderers/support/types.js\";\nimport { clone as s } from \"../../core/lang.js\";\nimport { setDeepValue as i } from \"../../core/object.js\";\nimport { toPt as p } from \"../../core/screenUtils.js\";\nimport { property as n } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport { enumeration as a } from \"../../core/accessorSupport/decorators/enumeration.js\";\nimport { reader as l } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as d } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as m } from \"../../core/accessorSupport/decorators/writer.js\";\nimport c from \"./AggregateField.js\";\nimport { labelsVisible as u, popupEnabled as f } from \"./commonProperties.js\";\nimport { createDefaultRenderer as j } from \"./featureLayerUtils.js\";\nimport { FeatureReduction as y } from \"./FeatureReduction.js\";\nimport b from \"./LabelClass.js\";\nvar h;\nlet g = h = class extends y {\n  constructor(e) {\n    super(e), this.type = \"binning\", this.binType = \"geohash\", this.fixedBinLevel = null, this.labelingInfo = null, this.labelsVisible = !0, this.maxScale = 0, this.popupEnabled = !0, this.popupTemplate = null, this.size = p(\"12px\"), this.fields = [], this.renderer = null;\n  }\n  writeFields(e, r, o) {\n    const t = e.filter(e => \"avg_angle\" !== e.statisticType).map(e => e.toJSON());\n    i(o, t, r);\n  }\n  readRenderer(e, r, t) {\n    const s = r.drawingInfo?.renderer;\n    return s ? o(s, r, t) ?? void 0 : j(r, t);\n  }\n  clone() {\n    return new h({\n      fields: s(this.fields),\n      fixedBinLevel: this.fixedBinLevel,\n      labelingInfo: s(this.labelingInfo),\n      labelsVisible: this.labelsVisible,\n      maxScale: this.maxScale,\n      popupEnabled: this.popupEnabled,\n      popupTemplate: s(this.popupTemplate),\n      renderer: s(this.renderer),\n      binType: s(this.binType),\n      size: this.size\n    });\n  }\n};\ne([a({\n  binning: \"binning\"\n})], g.prototype, \"type\", void 0), e([a({\n  geohash: \"geohash\",\n  square: \"square\"\n}), n({\n  type: [\"geohash\", \"square\"]\n})], g.prototype, \"binType\", void 0), e([n({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], g.prototype, \"fixedBinLevel\", void 0), e([n({\n  type: [b],\n  json: {\n    read: {\n      source: \"drawingInfo.labelingInfo\"\n    },\n    write: {\n      target: \"drawingInfo.labelingInfo\"\n    }\n  }\n})], g.prototype, \"labelingInfo\", void 0), e([n(u)], g.prototype, \"labelsVisible\", void 0), e([n({\n  type: Number,\n  json: {\n    default: 0,\n    name: \"visibilityInfo.maxScale\"\n  }\n})], g.prototype, \"maxScale\", void 0), e([n(f)], g.prototype, \"popupEnabled\", void 0), e([n({\n  type: r,\n  json: {\n    name: \"popupInfo\",\n    write: !0\n  }\n})], g.prototype, \"popupTemplate\", void 0), e([n({\n  type: Number,\n  cast: e => \"auto\" === e ? e : p(e)\n})], g.prototype, \"size\", void 0), e([n({\n  type: [c],\n  json: {\n    write: !0\n  }\n})], g.prototype, \"fields\", void 0), e([m(\"fields\")], g.prototype, \"writeFields\", null), e([n({\n  types: t,\n  json: {\n    write: {\n      target: \"drawingInfo.renderer\"\n    }\n  }\n})], g.prototype, \"renderer\", void 0), e([l(\"renderer\", [\"drawingInfo.renderer\"])], g.prototype, \"readRenderer\", null), g = h = e([d(\"esri.layers.support.FeatureReductionBinning\")], g);\nconst v = g;\nexport { v as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../PopupTemplate.js\";\nimport \"../../renderers/ClassBreaksRenderer.js\";\nimport \"../../renderers/DictionaryRenderer.js\";\nimport \"../../renderers/DotDensityRenderer.js\";\nimport \"../../renderers/HeatmapRenderer.js\";\nimport \"../../renderers/PieChartRenderer.js\";\nimport \"../../renderers/Renderer.js\";\nimport t from \"../../renderers/SimpleRenderer.js\";\nimport \"../../renderers/UniqueValueRenderer.js\";\nimport { read as o } from \"../../renderers/support/jsonUtils.js\";\nimport { rendererTypes as s } from \"../../renderers/support/types.js\";\nimport { symbolTypesCluster as i } from \"../../symbols.js\";\nimport { JSONSupport as p } from \"../../core/JSONSupport.js\";\nimport { clone as n } from \"../../core/lang.js\";\nimport { setDeepValue as l } from \"../../core/object.js\";\nimport { toPt as a } from \"../../core/screenUtils.js\";\nimport { property as d } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport { reader as u } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as m } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as c } from \"../../core/accessorSupport/decorators/writer.js\";\nimport f from \"./AggregateField.js\";\nimport { popupEnabled as y, labelsVisible as b } from \"./commonProperties.js\";\nimport { createDefaultRenderer as j } from \"./featureLayerUtils.js\";\nimport h from \"./LabelClass.js\";\nvar g;\nfunction S(e) {\n  return \"simple\" === e.type && !e.visualVariables?.length;\n}\nlet w = g = class extends p {\n  constructor(e) {\n    super(e), this.type = \"cluster\", this.clusterRadius = a(\"80px\"), this.clusterMinSize = a(\"12px\"), this.clusterMaxSize = a(\"50px\"), this.maxScale = 0, this.popupEnabled = !0, this.popupTemplate = null, this.renderer = null, this.symbol = null, this.labelingInfo = null, this.labelsVisible = !0, this.fields = [];\n  }\n  readRenderer(e, r, t) {\n    const s = r.drawingInfo?.renderer;\n    return s?.authoringInfo?.isAutoGenerated ? null : s ? S(s) ? null : o(s, r, t) ?? void 0 : j(r, t);\n  }\n  readSymbol(e, r, t) {\n    const s = r.drawingInfo?.renderer;\n    if (s?.authoringInfo?.isAutoGenerated) return null;\n    if (s && S(s)) {\n      const e = o(s, r, t);\n      return e?.symbol;\n    }\n    return null;\n  }\n  writeSymbol(e, r, o, s) {\n    const i = this.renderer?.authoringInfo?.isAutoGenerated;\n    if (!this.renderer || i) {\n      const o = new t({\n        symbol: e\n      });\n      r.drawingInfo = {\n        renderer: o.write({}, s)\n      };\n    }\n  }\n  writeFields(e, r, t) {\n    const o = e.filter(e => \"avg_angle\" !== e.statisticType).map(e => e.toJSON());\n    l(t, o, r);\n  }\n  readFields(e, r, t) {\n    return e.filter(e => !e.isAutoGenerated).map(e => f.fromJSON(e));\n  }\n  clone() {\n    return new g({\n      clusterRadius: this.clusterRadius,\n      clusterMinSize: this.clusterMinSize,\n      clusterMaxSize: this.clusterMaxSize,\n      labelingInfo: n(this.labelingInfo),\n      labelsVisible: this.labelsVisible,\n      fields: n(this.fields),\n      maxScale: this.maxScale,\n      renderer: n(this.renderer),\n      symbol: n(this.symbol),\n      popupEnabled: this.popupEnabled,\n      popupTemplate: n(this.popupTemplate)\n    });\n  }\n};\ne([d({\n  type: [\"cluster\"],\n  readOnly: !0,\n  json: {\n    write: !0\n  }\n})], w.prototype, \"type\", void 0), e([d({\n  type: Number,\n  cast: e => \"auto\" === e ? e : a(e),\n  json: {\n    write: !0\n  }\n})], w.prototype, \"clusterRadius\", void 0), e([d({\n  type: Number,\n  cast: a,\n  json: {\n    write: !0\n  }\n})], w.prototype, \"clusterMinSize\", void 0), e([d({\n  type: Number,\n  cast: a,\n  json: {\n    write: !0\n  }\n})], w.prototype, \"clusterMaxSize\", void 0), e([d({\n  type: Number,\n  json: {\n    default: 0,\n    name: \"visibilityInfo.maxScale\"\n  }\n})], w.prototype, \"maxScale\", void 0), e([d(y)], w.prototype, \"popupEnabled\", void 0), e([d({\n  type: r,\n  json: {\n    read: {\n      source: \"popupInfo\"\n    },\n    write: {\n      target: \"popupInfo\"\n    }\n  }\n})], w.prototype, \"popupTemplate\", void 0), e([d({\n  types: s,\n  json: {\n    write: {\n      target: \"drawingInfo.renderer\"\n    }\n  }\n})], w.prototype, \"renderer\", void 0), e([u(\"renderer\", [\"drawingInfo.renderer\"])], w.prototype, \"readRenderer\", null), e([d({\n  types: i\n})], w.prototype, \"symbol\", void 0), e([u(\"symbol\", [\"drawingInfo.renderer\"])], w.prototype, \"readSymbol\", null), e([c(\"symbol\")], w.prototype, \"writeSymbol\", null), e([d({\n  type: [h],\n  json: {\n    read: {\n      source: \"drawingInfo.labelingInfo\"\n    },\n    write: {\n      target: \"drawingInfo.labelingInfo\"\n    }\n  }\n})], w.prototype, \"labelingInfo\", void 0), e([d(b)], w.prototype, \"labelsVisible\", void 0), e([d({\n  type: [f],\n  json: {\n    write: !0\n  }\n})], w.prototype, \"fields\", void 0), e([c(\"fields\")], w.prototype, \"writeFields\", null), e([u(\"fields\")], w.prototype, \"readFields\", null), w = g = e([m(\"esri.layers.support.FeatureReductionCluster\")], w);\nconst I = w;\nexport { I as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { excludeTables as e } from \"../../core/accessorSupport/layerContainerType.js\";\nimport { FeatureReduction as t } from \"./FeatureReduction.js\";\nimport i from \"./FeatureReductionBinning.js\";\nimport r from \"./FeatureReductionCluster.js\";\nimport n from \"./FeatureReductionSelection.js\";\nconst o = {\n    key: \"type\",\n    base: t,\n    typeMap: {\n      cluster: r,\n      binning: i\n    }\n  },\n  p = {\n    types: {\n      key: \"type\",\n      base: t,\n      typeMap: {\n        selection: n,\n        cluster: r,\n        binning: i\n      }\n    },\n    json: {\n      name: \"layerDefinition.featureReduction\",\n      write: {\n        allowNull: !0\n      },\n      origins: {\n        \"web-map\": {\n          types: o\n        },\n        \"portal-item\": {\n          types: o\n        },\n        \"web-scene\": {\n          types: {\n            key: \"type\",\n            base: t,\n            typeMap: {\n              selection: n\n            }\n          },\n          name: \"layerDefinition.featureReduction\",\n          write: {\n            layerContainerTypes: e\n          }\n        }\n      }\n    }\n  };\nexport { p as featureReductionProperty };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../renderers/ClassBreaksRenderer.js\";\nimport \"../../../../renderers/DictionaryRenderer.js\";\nimport \"../../../../renderers/DotDensityRenderer.js\";\nimport \"../../../../renderers/HeatmapRenderer.js\";\nimport \"../../../../renderers/PieChartRenderer.js\";\nimport \"../../../../renderers/Renderer.js\";\nimport e from \"../../../../renderers/SimpleRenderer.js\";\nimport \"../../../../renderers/UniqueValueRenderer.js\";\nimport \"../../../../renderers/support/jsonUtils.js\";\nimport r from \"../../../../core/Logger.js\";\nimport \"../../../../symbols.js\";\nimport s from \"../../../../core/Error.js\";\nimport has from \"../../../../core/has.js\";\nimport { createMD5Hash as n } from \"../../../../core/MD5.js\";\nimport i from \"../../../../layers/support/AggregateField.js\";\nimport t from \"../../../../layers/support/ExpressionInfo.js\";\nimport o from \"../../../../renderers/support/AuthoringInfo.js\";\nimport a from \"../../../../symbols/SimpleMarkerSymbol.js\";\nconst l = () => r.getLogger(\"esri.views.2d.layers.support.clusterUtils\");\nhas.add(\"esri-cluster-arcade-enabled\", !0);\nconst u = has(\"esri-cluster-arcade-enabled\"),\n  p = new Set([\"simple-line\", \"simple-fill\", \"picture-fill\"]);\nfunction d(r, s) {\n  let n = s.clone();\n  if (!c(n)) return n;\n  if (s.getSymbols().some(e => p.has(e.type)) && (n = new e({\n    symbol: new a()\n  })), n.authoringInfo || (n.authoringInfo = new o()), n.authoringInfo.isAutoGenerated = !0, \"visualVariables\" in n) {\n    const e = (n.visualVariables || []).filter(e => \"$view.scale\" !== e.valueExpression);\n    e.forEach(e => {\n      \"rotation\" === e.type ? e.field ? e.field = g(r, e.field, \"avg_angle\", \"number\") : e.valueExpression && (e.field = b(r, e.valueExpression, \"avg_angle\", \"number\"), e.valueExpression = null) : e.normalizationField ? (e.field = g(r, e.field, \"avg_norm\", \"number\", e.normalizationField), e.normalizationField = null) : e.field ? e.field = g(r, e.field, \"avg\", \"number\") : e.valueExpression && (e.field = b(r, e.valueExpression, \"avg\", \"number\"), e.valueExpression = null);\n    }), n.visualVariables = e;\n  }\n  switch (n.type) {\n    case \"simple\":\n      break;\n    case \"pie-chart\":\n      for (const e of n.attributes) e.field ? e.field = g(r, e.field, \"sum\", \"number\") : e.valueExpression && (e.field = b(r, e.valueExpression, \"sum\", \"number\"), e.valueExpression = null);\n      break;\n    case \"unique-value\":\n      n.field ? n.field = g(r, n.field, \"mode\", \"string\") : n.valueExpression && (n.field = b(r, n.valueExpression, \"mode\", \"string\"), n.valueExpression = null);\n      break;\n    case \"class-breaks\":\n      n.normalizationField ? (n.field = g(r, n.field, \"avg_norm\", \"number\", n.normalizationField), n.normalizationField = null) : n.field ? n.field = g(r, n.field, \"avg\", \"number\") : n.valueExpression && (n.field = b(r, n.valueExpression, \"avg\", \"number\"), n.valueExpression = null);\n  }\n  return n;\n}\nconst m = e => {\n    for (const r of e) if (\"size\" === r.type) return r;\n    return null;\n  },\n  f = e => {\n    for (const r of e) if (\"cluster_count\" === r.field) return !0;\n    return !1;\n  },\n  c = e => {\n    const r = r => l().error(new s(\"Unsupported-renderer\", r, {\n      renderer: e\n    }));\n    if (!e) return !1;\n    switch (e.type) {\n      case \"unique-value\":\n        if (e.field2 || e.field3) return r(\"FeatureReductionCluster does not support multi-field UniqueValueRenderers\"), !1;\n        break;\n      case \"class-breaks\":\n        if (e.normalizationField) {\n          const s = e.normalizationType;\n          if (\"field\" !== s) return r(`FeatureReductionCluster does not support a normalizationType of ${s}`), !1;\n        }\n        break;\n      case \"simple\":\n      case \"pie-chart\":\n        break;\n      default:\n        return r(`FeatureReductionCluster does not support renderers of type ${e.type}`), !1;\n    }\n    if (!u) {\n      if (\"valueExpression\" in e && e.valueExpression) return r(\"FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release\"), !1;\n      if ((\"visualVariables\" in e && e.visualVariables || []).some(e => !(!(\"valueExpression\" in e) || !e.valueExpression))) return r(\"FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release\"), !1;\n    }\n    return !0;\n  };\nfunction v(e, r, s) {\n  switch (e) {\n    case \"sum\":\n      return `cluster_sum_${r}`;\n    case \"avg\":\n    case \"avg_angle\":\n      return `cluster_avg_${r}`;\n    case \"mode\":\n      return `cluster_type_${r}`;\n    case \"avg_norm\":\n      {\n        const e = s,\n          i = \"field\",\n          t = r.toLowerCase() + \",norm:\" + i + \",\" + e.toLowerCase();\n        return \"cluster_avg_\" + n(t);\n      }\n  }\n}\nfunction b(e, r, s, o) {\n  const a = n(r),\n    l = \"mode\" === s ? `cluster_type_${a}` : \"sum\" === s ? `cluster_sum_${a}` : `cluster_avg_${a}`;\n  return e.some(e => e.name === l) || e.push(new i({\n    name: l,\n    isAutoGenerated: !0,\n    onStatisticExpression: new t({\n      expression: r,\n      returnType: o\n    }),\n    statisticType: s\n  })), l;\n}\nfunction g(e, r, s, n, o) {\n  if (\"cluster_count\" === r || e.some(e => e.name === r)) return r;\n  const a = v(s, r, o);\n  return e.some(e => e.name === a) || (\"avg_norm\" === s ? e.push(new i({\n    name: a,\n    isAutoGenerated: !0,\n    onStatisticExpression: new t({\n      expression: `$feature.${r} / $feature.${o}`,\n      returnType: n\n    }),\n    statisticType: \"avg\"\n  })) : e.push(new i({\n    name: a,\n    isAutoGenerated: !0,\n    onStatisticField: r,\n    statisticType: s\n  }))), a;\n}\nexport { d as createInferredClusterRenderer, m as findSizeVV, f as hasClusterCountVV, c as isClusterCompatibleRenderer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../renderers/ClassBreaksRenderer.js\";\nimport \"../../renderers/DictionaryRenderer.js\";\nimport \"../../renderers/DotDensityRenderer.js\";\nimport \"../../renderers/HeatmapRenderer.js\";\nimport \"../../renderers/PieChartRenderer.js\";\nimport \"../../renderers/Renderer.js\";\nimport r from \"../../renderers/SimpleRenderer.js\";\nimport \"../../renderers/UniqueValueRenderer.js\";\nimport \"../../renderers/support/jsonUtils.js\";\nimport \"../../core/Logger.js\";\nimport { watch as s, sync as t } from \"../../core/reactiveUtils.js\";\nimport { property as i } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"../support/AggregateField.js\";\nimport { featureReductionProperty as a } from \"../support/featureReductionUtils.js\";\nimport u from \"../../renderers/visualVariables/SizeVariable.js\";\nimport l from \"../../renderers/visualVariables/support/SizeStop.js\";\nimport { createInferredClusterRenderer as d } from \"../../views/2d/layers/support/clusterUtils.js\";\nconst c = c => {\n  let p = class extends c {\n    constructor(...e) {\n      super(...e), this.addHandles(s(() => this.renderer, () => {\n        if (this.featureReduction) {\n          const e = this._normalizeFeatureReduction(this.featureReduction);\n          this._set(\"featureReduction\", e);\n        }\n      }, t));\n    }\n    set featureReduction(e) {\n      const r = this._normalizeFeatureReduction(e);\n      this._set(\"featureReduction\", r);\n    }\n    set renderer(e) {}\n    _withClusterVariable(e, r, s) {\n      const t = e.clone();\n      if (\"visualVariables\" in t) {\n        t.visualVariables || (t.visualVariables = []);\n        t.visualVariables.some(e => \"size\" === e.type) || t.visualVariables.push(new u({\n          field: \"cluster_count\",\n          stops: [new l({\n            value: 1\n          }), new l({\n            useMinValue: !0,\n            size: r\n          }), new l({\n            useMaxValue: !0,\n            size: s\n          })]\n        }));\n      }\n      return t;\n    }\n    _normalizeFeatureReduction(e) {\n      if (\"cluster\" !== e?.type) return e;\n      const s = e.clone(),\n        t = [new o({\n          name: \"cluster_count\",\n          isAutoGenerated: !0,\n          statisticType: \"count\"\n        })],\n        i = (s.fields ?? []).filter(e => !e.isAutoGenerated),\n        n = e.renderer && !e.renderer.authoringInfo?.isAutoGenerated,\n        {\n          clusterMinSize: a,\n          clusterMaxSize: u\n        } = s;\n      if (n) {\n        s.fields = [...t, ...i];\n        const e = this._withClusterVariable(s.renderer, a, u);\n        return s.effectiveFeatureRenderer = e, s.effectiveClusterRenderer = e, s;\n      }\n      if (e.symbol) {\n        if (s.fields = [...t, ...i], s.renderer = null, !this.renderer) return s.effectiveFeatureRenderer = null, s.effectiveClusterRenderer = null, s;\n        const n = d(t, this.renderer),\n          o = this._withClusterVariable(n, a, u),\n          l = \"visualVariables\" in o && o.visualVariables ? o.visualVariables : [],\n          c = new r({\n            symbol: e.symbol,\n            visualVariables: l\n          });\n        return s.fields = [...t, ...i], s.effectiveFeatureRenderer = o, s.effectiveClusterRenderer = c, s;\n      }\n      if (!this.renderer) return e;\n      const l = d(t, this.renderer);\n      s.fields = [...t, ...i], s.renderer = l;\n      const c = this._withClusterVariable(l, a, u);\n      return s.effectiveFeatureRenderer = c, s.effectiveClusterRenderer = c, s;\n    }\n  };\n  return e([i(a)], p.prototype, \"featureReduction\", null), p = e([n(\"esri.layers.mixins.FeatureReductionLayer\")], p), p;\n};\nexport { c as FeatureReductionLayer };"],
  "mappings": "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",
  "names": ["p", "r", "e", "a", "i", "p", "n", "t", "e", "i", "a", "e", "o", "r", "t", "s", "C", "a", "g", "e", "o", "r", "t", "s", "i", "a", "C", "o", "p", "a", "l", "p", "d", "r", "s", "n", "e", "y", "g", "b", "e", "r", "l", "s", "v", "i", "t", "b", "o", "a", "g", "n", "c", "p", "e", "r", "s", "t", "a", "i", "n", "u", "d", "o", "l"]
}
