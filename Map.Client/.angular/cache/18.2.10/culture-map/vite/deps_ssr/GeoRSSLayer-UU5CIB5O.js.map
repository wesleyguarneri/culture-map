{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/GeoRSSLayer.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport o from \"../config.js\";\nimport r from \"../request.js\";\nimport \"../symbols.js\";\nimport { MultiOriginJSONMixin as t } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as s } from \"../core/promiseUtils.js\";\nimport { getFilename as i } from \"../core/urlUtils.js\";\nimport { property as l } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { reader as n } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as p } from \"../core/accessorSupport/decorators/subclass.js\";\nimport a from \"../geometry/Extent.js\";\nimport { isWGS84 as m } from \"../geometry/support/spatialReferenceUtils.js\";\nimport y from \"./Layer.js\";\nimport { BlendLayer as c } from \"./mixins/BlendLayer.js\";\nimport { OperationalLayer as u } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as d } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as f } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as h } from \"./mixins/ScaleRangeLayer.js\";\nimport { id as S, legendEnabled as g, url as j } from \"./support/commonProperties.js\";\nimport b from \"../symbols/Symbol.js\";\nimport v from \"../symbols/SimpleLineSymbol.js\";\nimport x from \"../symbols/PictureMarkerSymbol.js\";\nimport C from \"../symbols/SimpleMarkerSymbol.js\";\nimport L from \"../symbols/SimpleFillSymbol.js\";\nconst G = [\"atom\", \"xml\"],\n  P = {\n    base: b,\n    key: \"type\",\n    typeMap: {\n      \"simple-line\": v\n    },\n    errorContext: \"symbol\"\n  },\n  R = {\n    base: b,\n    key: \"type\",\n    typeMap: {\n      \"picture-marker\": x,\n      \"simple-marker\": C\n    },\n    errorContext: \"symbol\"\n  },\n  k = {\n    base: b,\n    key: \"type\",\n    typeMap: {\n      \"simple-fill\": L\n    },\n    errorContext: \"symbol\"\n  };\nlet _ = class extends c(f(u(d(h(t(y)))))) {\n  constructor(...e) {\n    super(...e), this.description = null, this.fullExtent = null, this.legendEnabled = !0, this.lineSymbol = null, this.pointSymbol = null, this.polygonSymbol = null, this.operationalLayerType = \"GeoRSS\", this.url = null, this.type = \"geo-rss\";\n  }\n  normalizeCtorArgs(e, o) {\n    return \"string\" == typeof e ? {\n      url: e,\n      ...o\n    } : e;\n  }\n  readFeatureCollections(e, o) {\n    return o.featureCollection.layers.forEach(e => {\n      const o = e.layerDefinition.drawingInfo.renderer.symbol;\n      o && \"esriSFS\" === o.type && o.outline?.style.includes(\"esriSFS\") && (o.outline.style = \"esriSLSSolid\");\n    }), o.featureCollection.layers;\n  }\n  get hasPoints() {\n    return this._hasGeometry(\"esriGeometryPoint\");\n  }\n  get hasPolylines() {\n    return this._hasGeometry(\"esriGeometryPolyline\");\n  }\n  get hasPolygons() {\n    return this._hasGeometry(\"esriGeometryPolygon\");\n  }\n  get title() {\n    const e = this._get(\"title\");\n    return e && \"defaults\" !== this.originOf(\"title\") ? e : this.url ? i(this.url, G) || \"GeoRSS\" : e;\n  }\n  set title(e) {\n    this._set(\"title\", e);\n  }\n  load(e) {\n    const o = null != e ? e.signal : null;\n    return this.addResolvingPromise(this.loadFromPortal({\n      supportedTypes: [\"Map Service\", \"Feature Service\", \"Feature Collection\", \"Scene Service\"]\n    }, e).catch(s).then(() => this._fetchService(o)).then(e => {\n      this.read(e, {\n        origin: \"service\"\n      });\n    })), Promise.resolve(this);\n  }\n  async hasDataChanged() {\n    const e = await this._fetchService();\n    return this.read(e, {\n      origin: \"service\",\n      ignoreDefaults: !0\n    }), !0;\n  }\n  async _fetchService(e) {\n    const t = this.spatialReference,\n      {\n        data: s\n      } = await r(o.geoRSSServiceUrl, {\n        query: {\n          url: this.url,\n          refresh: !!this.loaded || void 0,\n          outSR: m(t) ? void 0 : t.wkid ?? JSON.stringify(t)\n        },\n        signal: e\n      });\n    return s;\n  }\n  _hasGeometry(e) {\n    return this.featureCollections?.some(o => o.featureSet?.geometryType === e && o.featureSet.features?.length > 0) ?? !1;\n  }\n};\ne([l()], _.prototype, \"description\", void 0), e([l()], _.prototype, \"featureCollections\", void 0), e([n(\"service\", \"featureCollections\", [\"featureCollection.layers\"])], _.prototype, \"readFeatureCollections\", null), e([l({\n  type: a,\n  json: {\n    name: \"lookAtExtent\"\n  }\n})], _.prototype, \"fullExtent\", void 0), e([l(S)], _.prototype, \"id\", void 0), e([l(g)], _.prototype, \"legendEnabled\", void 0), e([l({\n  types: P,\n  json: {\n    write: !0\n  }\n})], _.prototype, \"lineSymbol\", void 0), e([l({\n  type: [\"show\", \"hide\"]\n})], _.prototype, \"listMode\", void 0), e([l({\n  types: R,\n  json: {\n    write: !0\n  }\n})], _.prototype, \"pointSymbol\", void 0), e([l({\n  types: k,\n  json: {\n    write: !0\n  }\n})], _.prototype, \"polygonSymbol\", void 0), e([l({\n  type: [\"GeoRSS\"]\n})], _.prototype, \"operationalLayerType\", void 0), e([l(j)], _.prototype, \"url\", void 0), e([l({\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"name\",\n          reader: e => e || void 0\n        }\n      }\n    }\n  }\n})], _.prototype, \"title\", null), e([l({\n  readOnly: !0,\n  json: {\n    read: !1\n  },\n  value: \"geo-rss\"\n})], _.prototype, \"type\", void 0), _ = e([p(\"esri.layers.GeoRSSLayer\")], _);\nconst w = _;\nexport { w as default };"],
  "mappings": "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",
  "names": ["n", "y", "S", "f", "e", "o", "t", "s", "a", "w"]
}
