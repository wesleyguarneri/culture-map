{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/core/events.js", "../../../../../../node_modules/@arcgis/core/core/clock.js", "../../../../../../node_modules/@arcgis/core/core/promiseUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { makeHandle as e } from \"./handleUtils.js\";\nfunction n(e) {\n  return t(e) || r(e);\n}\nfunction t(e) {\n  return null != e && \"object\" == typeof e && \"on\" in e && \"function\" == typeof e.on;\n}\nfunction r(e) {\n  return null != e && \"object\" == typeof e && \"addEventListener\" in e && \"function\" == typeof e.addEventListener;\n}\nfunction o(e, t, o) {\n  if (!n(e)) throw new TypeError(\"target is not a Evented or EventTarget object\");\n  return r(e) ? i(e, t, o) : e.on(t, o);\n}\nfunction i(n, t, r, o) {\n  if (Array.isArray(t)) {\n    const i = t.slice();\n    for (const e of i) n.addEventListener(e, r, o);\n    return e(() => {\n      for (const e of i) n.removeEventListener(e, r, o);\n    });\n  }\n  return n.addEventListener(t, r, o), e(() => n.removeEventListener(t, r, o));\n}\nfunction c(e, t, r) {\n  if (!n(e)) throw new TypeError(\"target is not a Evented or EventTarget object\");\n  if (\"once\" in e) return e.once(t, r);\n  const i = o(e, t, n => {\n    i.remove(), r.call(e, n);\n  });\n  return i;\n}\nfunction f(e, n, t) {\n  let r = !1;\n  const i = o(e, n, n => {\n    r || t.call(e, n);\n  });\n  return {\n    resume() {\n      r = !1;\n    },\n    pause() {\n      r = !0;\n    },\n    remove() {\n      i.remove();\n    }\n  };\n}\nexport { i as addEventListener, n as isEventedOrEventTarget, o as on, c as once, f as pausable };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { makeHandle as t } from \"./handleUtils.js\";\nfunction e(e) {\n  return {\n    setTimeout: (o, r) => {\n      const i = e.setTimeout(o, r);\n      return t(() => e.clearTimeout(i));\n    }\n  };\n}\nconst o = e(globalThis);\nexport { o as clock, e as wrap };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clock as t } from \"./clock.js\";\nimport n from \"./Error.js\";\nimport { once as r } from \"./events.js\";\nimport e from \"./Logger.js\";\nimport { removeMaybe as o } from \"./maybe.js\";\nasync function i(t, n) {\n  const r = t.slice(),\n    e = await Promise.all(t.map((t, r) => n(t, r)));\n  return r.filter((t, n) => e[n]);\n}\nfunction u(t = \"Aborted\") {\n  return new n(\"AbortError\", t);\n}\nfunction s(t, n = \"Aborted\") {\n  if (c(t)) throw u(n);\n}\nfunction l(t) {\n  return t instanceof AbortSignal ? t : t?.signal;\n}\nfunction c(t) {\n  const n = l(t);\n  return null != n && n.aborted;\n}\nfunction a(t) {\n  if (b(t)) throw t;\n}\nfunction f(t) {\n  if (!b(t)) throw t;\n}\nfunction m(t, n) {\n  const e = l(t);\n  if (null != e) {\n    if (!e.aborted) return r(e, \"abort\", () => n());\n    n();\n  }\n}\nfunction w(t, n) {\n  const e = l(t);\n  if (null != e) return s(e), r(e, \"abort\", () => n(u()));\n}\nfunction h(t, n) {\n  return null == l(n) ? t : new Promise((r, e) => {\n    let i = m(n, () => e(u()));\n    const s = () => {\n      i = o(i);\n    };\n    t.then(s, s), t.then(r, e);\n  });\n}\nfunction p(t, r, e) {\n  return Promise.race([t, A(r).then(() => {\n    throw new n(\"timeout\", `Did not resolve within ${r} milliseconds (${e ?? \"timeout\"})`);\n  })]);\n}\nfunction b(t) {\n  return \"AbortError\" === t?.name;\n}\nasync function d(t) {\n  try {\n    return await t;\n  } catch (n) {\n    if (!b(n)) throw n;\n    return;\n  }\n}\nasync function y(t, n = e.getLogger(\"esri\")) {\n  try {\n    return await t;\n  } catch (r) {\n    b(r) || n.error(r);\n  }\n}\nasync function v(t) {\n  if (!t) return;\n  if (\"function\" != typeof t.forEach) {\n    const n = Object.keys(t),\n      r = n.map(n => t[n]),\n      e = await v(r),\n      o = {};\n    return n.map((t, n) => o[t] = e[n]), o;\n  }\n  const n = t;\n  return Promise.allSettled(n).then(t => Array.from(n, (n, r) => {\n    const e = t[r];\n    return \"fulfilled\" === e.status ? {\n      promise: n,\n      value: e.value\n    } : {\n      promise: n,\n      error: e.reason\n    };\n  }));\n}\nasync function j(t) {\n  return (await v(t)).filter(t => !!t.value).map(t => t.value);\n}\nasync function g(t) {\n  return (await Promise.allSettled(t)).filter(t => \"fulfilled\" === t.status).map(t => t.value);\n}\nasync function P(t) {\n  return (await Promise.allSettled(t)).filter(t => \"rejected\" === t.status).map(t => t.reason);\n}\nfunction A(t, n = void 0, r) {\n  const e = new AbortController();\n  return m(r, () => e.abort()), new Promise((r, o) => {\n    let i = setTimeout(() => {\n      i = 0, r(n);\n    }, t);\n    m(e, () => {\n      i && (clearTimeout(i), o(u()));\n    });\n  });\n}\nfunction T(t, r, e, o) {\n  const i = e && \"abort\" in e ? e : null;\n  null != o || i || (o = e);\n  let u = setTimeout(() => {\n    u = 0, i?.abort();\n  }, r);\n  const s = () => o || new n(\"promiseUtils:timeout\", \"The wrapped promise did not resolve within \" + r + \" ms\");\n  return t.then(t => {\n    if (0 === u) throw s();\n    return clearTimeout(u), t;\n  }, t => {\n    throw clearTimeout(u), 0 === u ? s() : t;\n  });\n}\nfunction E(t, n) {\n  const r = new AbortController(),\n    e = setTimeout(() => r.abort(), n);\n  return m(t, () => {\n    r.abort(), clearTimeout(e);\n  }), {\n    ...t,\n    signal: r.signal\n  };\n}\nfunction S(t) {\n  return t && \"function\" == typeof t.then;\n}\nfunction C(t) {\n  return S(t) ? t : Promise.resolve(t);\n}\nfunction k(t, n = -1) {\n  let r,\n    e,\n    o,\n    i,\n    s = null;\n  const l = (...c) => {\n    if (r) {\n      e = c, i && i.reject(u()), i = L();\n      const t = i.promise;\n      if (s) {\n        const t = s;\n        s = null, t.abort();\n      }\n      return t;\n    }\n    if (o = i || L(), i = null, n > 0) {\n      const e = new AbortController();\n      r = C(t(...c, e.signal));\n      const o = r;\n      A(n).then(() => {\n        r === o && (i ? e.abort() : s = e);\n      });\n    } else r = 1, r = C(t(...c));\n    const a = () => {\n        const t = e;\n        e = o = r = s = null, null != t && l(...t);\n      },\n      f = r,\n      m = o;\n    return f.then(a, a), f.then(m.resolve, m.reject), m.promise;\n  };\n  return l;\n}\nfunction L() {\n  let n, r;\n  const e = new Promise((t, e) => {\n      n = t, r = e;\n    }),\n    o = t => {\n      n(t);\n    };\n  return o.resolve = t => n(t), o.reject = t => r(t), o.timeout = (n, r) => t.setTimeout(() => o.reject(r), n), o.promise = e, o;\n}\nfunction $(t, n) {\n  return t.then(n, n);\n}\nfunction x(t, n) {\n  n.then(t.resolve, t.reject);\n}\nasync function D(t) {\n  await Promise.resolve(), s(t);\n}\nexport { A as after, P as allSettledErrors, g as allSettledValues, $ as always, u as createAbortError, L as createResolver, k as debounce, v as eachAlways, j as eachAlwaysValues, i as filter, d as ignoreAbortErrors, b as isAbortError, c as isAborted, S as isPromiseLike, y as logOnError, m as onAbort, w as onAbortOrThrow, x as settleWithPromise, l as signalFromSignalOrOptions, a as throwIfAbortError, s as throwIfAborted, f as throwIfNotAbortError, T as timeout, D as waitTick, C as when, h as whenOrAbort, p as whenOrTimeout, E as wrapAbortWithTimeout };"],
  "mappings": "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",
  "names": ["n", "e", "t", "o", "r", "i", "e", "o", "r", "i", "t", "s", "n", "c", "l", "f", "e", "r", "i", "t", "n", "r", "e", "o", "t", "n", "r", "e", "o", "i", "t", "n", "r", "e", "o", "i", "s", "l", "c", "a", "f", "m", "t", "s"]
}
