{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/geometry/support/lineSegment.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../core/mathUtils.js\";\nimport { ObjectStack as r } from \"../../core/ObjectStack.js\";\nimport { c as n, f as o, m as e, j as i, g as c, q as s, a } from \"../../chunks/vec32.js\";\nimport { clone as u, create as g } from \"../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { sv3d as f } from \"./vectorStacks.js\";\nfunction v(t) {\n  return t ? {\n    origin: u(t.origin),\n    vector: u(t.vector)\n  } : {\n    origin: g(),\n    vector: g()\n  };\n}\nfunction m(t, r) {\n  const n = S.get();\n  return n.origin = t, n.vector = r, n;\n}\nfunction p(t, r = v()) {\n  return b(t.origin, t.vector, r);\n}\nfunction b(t, r, o = v()) {\n  return n(o.origin, t), n(o.vector, r), o;\n}\nfunction h(t, r, e = v()) {\n  return n(e.origin, t), o(e.vector, r, t), e;\n}\nfunction j(r, n) {\n  const c = o(f.get(), n, r.origin),\n    s = e(r.vector, c),\n    a = e(r.vector, r.vector),\n    u = t(s / a, 0, 1),\n    g = o(f.get(), i(f.get(), r.vector, u), c);\n  return e(g, g);\n}\nfunction M(t, r, n) {\n  return A(t, r, 0, 1, n);\n}\nfunction l(t, r, n) {\n  return c(n, t.origin, i(n, t.vector, r));\n}\nfunction A(r, n, a, u, g) {\n  const {\n      vector: v,\n      origin: m\n    } = r,\n    p = o(f.get(), n, m),\n    b = e(v, p) / s(v);\n  return i(g, v, t(b, a, u)), c(g, g, r.origin);\n}\nfunction B(t, r) {\n  if (k(t, m(r.origin, r.direction), !1, x)) {\n    const {\n      tA: r,\n      pB: n,\n      distance2: o\n    } = x;\n    if (r >= 0 && r <= 1) return o;\n    if (r < 0) return a(t.origin, n);\n    if (r > 1) return a(c(f.get(), t.origin, t.vector), n);\n  }\n  return null;\n}\nfunction d(t, r, o) {\n  return !!k(t, r, !0, x) && (n(o, x.pA), !0);\n}\nfunction k(r, n, o, e) {\n  const i = 1e-6,\n    s = r.origin,\n    u = c(f.get(), s, r.vector),\n    g = n.origin,\n    v = c(f.get(), g, n.vector),\n    m = f.get(),\n    p = f.get();\n  if (m[0] = s[0] - g[0], m[1] = s[1] - g[1], m[2] = s[2] - g[2], p[0] = v[0] - g[0], p[1] = v[1] - g[1], p[2] = v[2] - g[2], Math.abs(p[0]) < i && Math.abs(p[1]) < i && Math.abs(p[2]) < i) return !1;\n  const b = f.get();\n  if (b[0] = u[0] - s[0], b[1] = u[1] - s[1], b[2] = u[2] - s[2], Math.abs(b[0]) < i && Math.abs(b[1]) < i && Math.abs(b[2]) < i) return !1;\n  const h = m[0] * p[0] + m[1] * p[1] + m[2] * p[2],\n    j = p[0] * b[0] + p[1] * b[1] + p[2] * b[2],\n    M = m[0] * b[0] + m[1] * b[1] + m[2] * b[2],\n    l = p[0] * p[0] + p[1] * p[1] + p[2] * p[2],\n    A = (b[0] * b[0] + b[1] * b[1] + b[2] * b[2]) * l - j * j;\n  if (Math.abs(A) < i) return !1;\n  let B = (h * j - M * l) / A,\n    d = (h + j * B) / l;\n  o && (B = t(B, 0, 1), d = t(d, 0, 1));\n  const k = f.get(),\n    x = f.get();\n  return k[0] = s[0] + B * b[0], k[1] = s[1] + B * b[1], k[2] = s[2] + B * b[2], x[0] = g[0] + d * p[0], x[1] = g[1] + d * p[1], x[2] = g[2] + d * p[2], e.tA = B, e.tB = d, e.pA = k, e.pB = x, e.distance2 = a(k, x), !0;\n}\nconst x = {\n    tA: 0,\n    tB: 0,\n    pA: g(),\n    pB: g(),\n    distance2: 0\n  },\n  S = new r(() => v());\nexport { d as closestLineSegmentPoint, B as closestRayDistance2, p as copy, v as create, j as distance2, h as fromPoints, b as fromValues, l as pointAt, M as projectPoint, A as projectPointClamp, m as wrap };"],
  "mappings": "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",
  "names": ["v", "t", "r", "n", "p", "e", "c", "s", "u", "g", "m", "b", "h", "j", "M", "l", "A", "B", "d", "k", "x"]
}
