{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/symbols/support/symbolLayerUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport r from \"../../core/Error.js\";\nimport { LRUCache as o } from \"../../core/LRUCache.js\";\nimport { create as i } from \"../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { size as t, create as s } from \"../../geometry/support/aaBoundingBox.js\";\nimport { objectSymbolLayerPrimitiveBoundingBox as n } from \"./symbolLayerUtils3D.js\";\nlet c = a();\nfunction a() {\n  return new o(50);\n}\nfunction u() {\n  c = a();\n}\nasync function l(e, o) {\n  if (e.resource?.href) return m(e.resource.href).then(e => [e.width, e.height]);\n  if (e.resource?.primitive) return null != o ? [o, o] : [256, 256];\n  throw new r(\"symbol3d:invalid-symbol-layer\", \"symbol layers of type Icon must have either an href or a primitive resource\");\n}\nfunction m(r) {\n  return e(r, {\n    responseType: \"image\"\n  }).then(e => e.data);\n}\nasync function f(e, o = null) {\n  if (!e.isPrimitive) {\n    const o = e.resource?.href;\n    if (!o) throw new r(\"symbol:invalid-resource\", \"The symbol does not have a valid resource\");\n    const s = c.get(o);\n    if (void 0 !== s) return s;\n    const {\n        fetch: n\n      } = await import(\"../../views/3d/layers/graphics/objectResourceUtils.js\"),\n      a = await n(o, {\n        disableTextures: !0\n      }),\n      u = t(a.referenceBoundingBox, i());\n    return c.put(o, u), u;\n  }\n  if (!e.resource?.primitive) throw new r(\"symbol:invalid-resource\", \"The symbol does not have a valid resource\");\n  const a = s(n(e.resource.primitive));\n  if (null != o) for (let r = 0; r < a.length; r++) a[r] *= o;\n  return t(a, i());\n}\nexport { u as clearBoundingBoxCache, l as computeIconLayerResourceSize, f as computeObjectLayerResourceSize };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,IAAIA,KAAI,EAAE;AACV,SAAS,IAAI;AACX,SAAO,IAAI,EAAE,EAAE;AACjB;AACA,SAAS,IAAI;AACX,EAAAA,KAAI,EAAE;AACR;AACA,SAAe,EAAEC,IAAG,GAAG;AAAA;AACrB,QAAIA,GAAE,UAAU,KAAM,QAAO,EAAEA,GAAE,SAAS,IAAI,EAAE,KAAK,CAAAA,OAAK,CAACA,GAAE,OAAOA,GAAE,MAAM,CAAC;AAC7E,QAAIA,GAAE,UAAU,UAAW,QAAO,QAAQ,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG;AAChE,UAAM,IAAI,EAAE,iCAAiC,6EAA6E;AAAA,EAC5H;AAAA;AACA,SAAS,EAAE,GAAG;AACZ,SAAO,EAAE,GAAG;AAAA,IACV,cAAc;AAAA,EAChB,CAAC,EAAE,KAAK,CAAAA,OAAKA,GAAE,IAAI;AACrB;AACA,SAAe,EAAEA,IAAG,IAAI,MAAM;AAAA;AAC5B,QAAI,CAACA,GAAE,aAAa;AAClB,YAAMC,KAAID,GAAE,UAAU;AACtB,UAAI,CAACC,GAAG,OAAM,IAAI,EAAE,2BAA2B,2CAA2C;AAC1F,YAAMC,KAAIH,GAAE,IAAIE,EAAC;AACjB,UAAI,WAAWC,GAAG,QAAOA;AACzB,YAAM;AAAA,QACF,OAAOC;AAAA,MACT,IAAI,MAAM,OAAO,mCAAuD,GACxEC,KAAI,MAAMD,GAAEF,IAAG;AAAA,QACb,iBAAiB;AAAA,MACnB,CAAC,GACDI,KAAI,EAAED,GAAE,sBAAsB,EAAE,CAAC;AACnC,aAAOL,GAAE,IAAIE,IAAGI,EAAC,GAAGA;AAAA,IACtB;AACA,QAAI,CAACL,GAAE,UAAU,UAAW,OAAM,IAAI,EAAE,2BAA2B,2CAA2C;AAC9G,UAAMI,KAAI,EAAE,EAAEJ,GAAE,SAAS,SAAS,CAAC;AACnC,QAAI,QAAQ,EAAG,UAAS,IAAI,GAAG,IAAII,GAAE,QAAQ,IAAK,CAAAA,GAAE,CAAC,KAAK;AAC1D,WAAO,EAAEA,IAAG,EAAE,CAAC;AAAA,EACjB;AAAA;",
  "names": ["c", "e", "o", "s", "n", "a", "u"]
}
