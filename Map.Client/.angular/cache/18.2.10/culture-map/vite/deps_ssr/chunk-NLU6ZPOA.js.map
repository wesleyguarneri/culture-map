{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLBackground.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLCircle.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLFill.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLLine.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLSymbol.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor() {\n    this.name = this.constructor.name || \"UnnamedBrush\", this.brushEffect = null;\n  }\n  prepareState(t, r) {}\n  draw(t, r, s) {}\n  drawMany(t, r, s) {\n    for (const a of r) a.visible && this.draw(t, a, s);\n  }\n}\nexport { t as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { nextPowerOfTwo as t } from \"../../../../../core/mathUtils.js\";\nimport { create as e } from \"../../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";\nimport { fromValues as r } from \"../../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";\nimport { vtlTextureBindingUnitSprites as o, vtlHighResCutoff as i } from \"../definitions.js\";\nimport s from \"./WGLBrush.js\";\nimport { BufferObject as a } from \"../../../../webgl/BufferObject.js\";\nimport { TextureSamplingMode as n, CompareFunction as c, PrimitiveType as l, Usage as f } from \"../../../../webgl/enums.js\";\nimport { VertexArrayObject as m } from \"../../../../webgl/VertexArrayObject.js\";\nclass u extends s {\n  constructor() {\n    super(...arguments), this._color = r(1, 0, 0, 1), this._patternMatrix = e(), this._programOptions = {\n      id: !1,\n      pattern: !1\n    };\n  }\n  dispose() {\n    this._vao && (this._vao.dispose(), this._vao = null);\n  }\n  drawMany(e, r) {\n    const {\n      context: s,\n      painter: a,\n      requestRender: f,\n      allowDelayedRender: m\n    } = e;\n    this._loadWGLResources(e);\n    const u = e.displayLevel,\n      p = e.styleLayer,\n      _ = p.backgroundMaterial,\n      d = a.vectorTilesMaterialManager,\n      g = p.getPaintValue(\"background-color\", u),\n      h = p.getPaintValue(\"background-opacity\", u),\n      x = p.getPaintValue(\"background-pattern\", u),\n      b = void 0 !== x,\n      M = 1 | window.devicePixelRatio,\n      v = e.spriteMosaic;\n    let y, w;\n    const j = M > i ? 2 : 1,\n      A = this._programOptions;\n    A.pattern = b;\n    const L = d.getMaterialProgram(s, _, A);\n    if (!m || null == f || L.compiled) {\n      if (s.bindVAO(this._vao), s.useProgram(L), b) {\n        const t = v.getMosaicItemPosition(x, !0);\n        if (null != t) {\n          const {\n            tl: e,\n            br: r,\n            page: i\n          } = t;\n          y = r[0] - e[0], w = r[1] - e[1];\n          const a = v.getPageSize(i);\n          null != a && (v.bind(s, n.LINEAR, i, o), L.setUniform4f(\"u_tlbr\", e[0], e[1], r[0], r[1]), L.setUniform2fv(\"u_mosaicSize\", a), L.setUniform1i(\"u_texture\", o));\n        }\n        L.setUniform1f(\"u_opacity\", h);\n      } else {\n        const t = g[3] * h;\n        this._color[0] = t * g[0], this._color[1] = t * g[1], this._color[2] = t * g[2], this._color[3] = t, L.setUniform4fv(\"u_color\", this._color);\n      }\n      L.setUniform1f(\"u_depth\", p.z || 0);\n      for (const e of r) {\n        if (L.setUniform1f(\"u_coord_range\", e.rangeX), L.setUniformMatrix3fv(\"u_dvsMat3\", e.transforms.displayViewScreenMat3), b) {\n          const r = Math.max(2 ** (Math.round(u) - e.key.level), 1),\n            o = j * e.width * r,\n            i = o / t(y),\n            s = o / t(w);\n          this._patternMatrix[0] = i, this._patternMatrix[4] = s, L.setUniformMatrix3fv(\"u_pattern_matrix\", this._patternMatrix);\n        }\n        s.setStencilFunction(c.EQUAL, 0, 255), s.drawArrays(l.TRIANGLE_STRIP, 0, 4);\n      }\n    } else f();\n  }\n  _loadWGLResources(t) {\n    if (this._vao) return;\n    const {\n        context: e,\n        styleLayer: r\n      } = t,\n      o = r.backgroundMaterial,\n      i = new Int8Array([0, 0, 1, 0, 0, 1, 1, 1]),\n      s = a.createVertex(e, f.STATIC_DRAW, i),\n      n = new m(e, o.getAttributeLocations(), o.getLayoutInfo(), {\n        geometry: s\n      });\n    this._vao = n;\n  }\n}\nexport { u as WGLBrushVTLBackground };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { TranslateAnchor as e } from \"../../vectorTiles/style/StyleDefinition.js\";\nimport t from \"./WGLBrush.js\";\nimport { CompareFunction as r, PrimitiveType as i, DataType as a } from \"../../../../webgl/enums.js\";\nclass n extends t {\n  constructor() {\n    super(...arguments), this._programOptions = {\n      id: !1\n    };\n  }\n  dispose() {}\n  drawMany(t, n) {\n    const {\n      context: l,\n      displayLevel: s,\n      requiredLevel: o,\n      state: c,\n      painter: u,\n      spriteMosaic: d,\n      styleLayerUID: f,\n      requestRender: m,\n      allowDelayedRender: p\n    } = t;\n    if (!n.some(e => e.layerData.get(f)?.circleIndexCount ?? !1)) return;\n    const y = t.styleLayer,\n      g = y.circleMaterial,\n      M = u.vectorTilesMaterialManager,\n      v = 1.2,\n      E = y.getPaintValue(\"circle-translate\", s),\n      x = y.getPaintValue(\"circle-translate-anchor\", s),\n      I = this._programOptions,\n      U = M.getMaterialProgram(l, g, I);\n    if (p && null != m && !U.compiled) return void m();\n    l.useProgram(U), U.setUniformMatrix3fv(\"u_displayMat3\", x === e.VIEWPORT ? c.displayMat3 : c.displayViewMat3), U.setUniform2fv(\"u_circleTranslation\", E), U.setUniform1f(\"u_depth\", y.z), U.setUniform1f(\"u_antialiasingWidth\", v);\n    let _ = -1;\n    for (const e of n) {\n      if (!e.layerData.has(f)) continue;\n      e.key.level !== _ && (_ = e.key.level, g.setDataUniforms(U, s, y, _, d));\n      const t = e.layerData.get(f);\n      if (!t.circleIndexCount) continue;\n      t.prepareForRendering(l);\n      const n = t.vao;\n      null != n && (l.bindVAO(n), U.setUniformMatrix3fv(\"u_dvsMat3\", e.transforms.displayViewScreenMat3), o !== e.key.level ? l.setStencilFunction(r.EQUAL, e.stencilRef, 255) : l.setStencilFunction(r.GREATER, 255, 255), l.drawElements(i.TRIANGLES, t.circleIndexCount, a.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * t.circleIndexStart), e.triangleCount += t.circleIndexCount / 3);\n    }\n  }\n}\nexport { n as WGLBrushVTLCircle };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { TranslateAnchor as t } from \"../../vectorTiles/style/StyleDefinition.js\";\nimport { vtlTextureBindingUnitSprites as e, vtlHighResCutoff as i } from \"../definitions.js\";\nimport n from \"./WGLBrush.js\";\nimport { TextureSamplingMode as a, CompareFunction as l, PrimitiveType as r, DataType as o } from \"../../../../webgl/enums.js\";\nconst s = 1 / 65536;\nclass f extends n {\n  constructor() {\n    super(...arguments), this._fillProgramOptions = {\n      id: !1,\n      pattern: !1\n    }, this._outlineProgramOptions = {\n      id: !1\n    };\n  }\n  dispose() {}\n  drawMany(t, e) {\n    const {\n      displayLevel: i,\n      renderPass: n,\n      spriteMosaic: a,\n      styleLayerUID: l\n    } = t;\n    let r = !1;\n    for (const _ of e) if (_.layerData.has(l)) {\n      const t = _.layerData.get(l);\n      if (t.fillIndexCount > 0 || t.outlineIndexCount > 0) {\n        r = !0;\n        break;\n      }\n    }\n    if (!r) return;\n    const o = t.styleLayer,\n      s = o.getPaintProperty(\"fill-pattern\"),\n      f = void 0 !== s,\n      u = f && s.isDataDriven;\n    let c;\n    if (f && !u) {\n      const t = s.getValue(i);\n      c = a.getMosaicItemPosition(t, !0);\n    }\n    const d = !f && o.getPaintValue(\"fill-antialias\", i);\n    let p = !0,\n      m = 1;\n    if (!f) {\n      const t = o.getPaintProperty(\"fill-color\"),\n        e = o.getPaintProperty(\"fill-opacity\");\n      if (!t?.isDataDriven && !e?.isDataDriven) {\n        const t = o.getPaintValue(\"fill-color\", i);\n        m = o.getPaintValue(\"fill-opacity\", i) * t[3], m >= 1 && (p = !1);\n      }\n    }\n    if (p && \"opaque\" === n) return;\n    const y = o.getPaintValue(\"fill-translate\", i),\n      g = o.getPaintValue(\"fill-translate-anchor\", i);\n    (p || \"translucent\" !== n) && this._drawFill(t, l, o, e, y, g, f, c, u);\n    const M = !o.hasDataDrivenOutlineColor && o.outlineUsesFillColor && m < 1;\n    d && \"opaque\" !== n && !M && this._drawOutline(t, l, o, e, y, g);\n  }\n  _drawFill(n, f, u, c, d, p, m, y, g) {\n    if (m && !g && null == y) return;\n    const {\n        context: M,\n        displayLevel: _,\n        state: E,\n        painter: v,\n        pixelRatio: P,\n        spriteMosaic: U,\n        requestRender: I,\n        allowDelayedRender: x\n      } = n,\n      D = u.fillMaterial,\n      R = v.vectorTilesMaterialManager,\n      S = P > i ? 2 : 1,\n      T = this._fillProgramOptions;\n    T.pattern = m;\n    const h = R.getMaterialProgram(M, D, T);\n    if (x && null != I && !h.compiled) return void I();\n    if (M.useProgram(h), null != y) {\n      const {\n          page: t\n        } = y,\n        i = U.getPageSize(t);\n      null != i && (U.bind(M, a.LINEAR, t, e), h.setUniform2fv(\"u_mosaicSize\", i), h.setUniform1i(\"u_texture\", e));\n    }\n    h.setUniformMatrix3fv(\"u_displayMat3\", p === t.VIEWPORT ? E.displayMat3 : E.displayViewMat3), h.setUniform2fv(\"u_fillTranslation\", d), h.setUniform1f(\"u_depth\", u.z + s);\n    let w = -1;\n    for (const t of c) {\n      if (!t.layerData.has(f)) continue;\n      t.key.level !== w && (w = t.key.level, D.setDataUniforms(h, _, u, w, U));\n      const i = t.layerData.get(f);\n      if (!i.fillIndexCount) continue;\n      i.prepareForRendering(M);\n      const n = i.fillVAO;\n      if (null != n) {\n        if (M.bindVAO(n), h.setUniformMatrix3fv(\"u_dvsMat3\", t.transforms.displayViewScreenMat3), M.setStencilFunction(l.EQUAL, t.stencilRef, 255), m) {\n          const e = Math.max(2 ** (Math.round(_) - t.key.level), 1),\n            i = t.rangeX / (S * t.width * e);\n          h.setUniform1f(\"u_patternFactor\", i);\n        }\n        if (g) {\n          const t = i.patternMap;\n          if (!t) continue;\n          for (const [i, n] of t) {\n            const t = U.getPageSize(i);\n            null != t && (U.bind(M, a.LINEAR, i, e), h.setUniform2fv(\"u_mosaicSize\", t), h.setUniform1i(\"u_texture\", e), M.drawElements(r.TRIANGLES, n[1], o.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * n[0]));\n          }\n        } else M.drawElements(r.TRIANGLES, i.fillIndexCount, o.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * i.fillIndexStart);\n        t.triangleCount += i.fillIndexCount / 3;\n      }\n    }\n  }\n  _drawOutline(e, i, n, a, f, u) {\n    const {\n        context: c,\n        displayLevel: d,\n        state: p,\n        painter: m,\n        pixelRatio: y,\n        spriteMosaic: g,\n        requestRender: M,\n        allowDelayedRender: _\n      } = e,\n      E = n.outlineMaterial,\n      v = m.vectorTilesMaterialManager,\n      P = .75 / y,\n      U = this._outlineProgramOptions,\n      I = v.getMaterialProgram(c, E, U);\n    if (_ && null != M && !I.compiled) return void M();\n    c.useProgram(I), I.setUniformMatrix3fv(\"u_displayMat3\", u === t.VIEWPORT ? p.displayMat3 : p.displayViewMat3), I.setUniform2fv(\"u_fillTranslation\", f), I.setUniform1f(\"u_depth\", n.z + s), I.setUniform1f(\"u_outline_width\", P);\n    let x = -1;\n    for (const t of a) {\n      if (!t.layerData.has(i)) continue;\n      t.key.level !== x && (x = t.key.level, E.setDataUniforms(I, d, n, x, g));\n      const e = t.layerData.get(i);\n      if (e.prepareForRendering(c), !e.outlineIndexCount) continue;\n      const a = e.outlineVAO;\n      null != a && (c.bindVAO(a), I.setUniformMatrix3fv(\"u_dvsMat3\", t.transforms.displayViewScreenMat3), c.setStencilFunction(l.EQUAL, t.stencilRef, 255), c.drawElements(r.TRIANGLES, e.outlineIndexCount, o.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * e.outlineIndexStart), t.triangleCount += e.outlineIndexCount / 3);\n    }\n  }\n}\nexport { f as WGLBrushVTLFill };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { TranslateAnchor as e } from \"../../vectorTiles/style/StyleDefinition.js\";\nimport { vtlTextureBindingUnitSprites as t } from \"../definitions.js\";\nimport i from \"./WGLBrush.js\";\nimport { TextureSamplingMode as n, CompareFunction as a, PrimitiveType as r, DataType as o } from \"../../../../webgl/enums.js\";\nclass s extends i {\n  constructor() {\n    super(...arguments), this._programOptions = {\n      id: !1,\n      pattern: !1,\n      sdf: !1\n    };\n  }\n  dispose() {}\n  drawMany(i, s) {\n    const {\n      context: l,\n      displayLevel: f,\n      state: u,\n      painter: c,\n      pixelRatio: d,\n      spriteMosaic: m,\n      styleLayerUID: p,\n      requestRender: g,\n      allowDelayedRender: y\n    } = i;\n    if (!s.some(e => e.layerData.get(p)?.lineIndexCount ?? !1)) return;\n    const M = i.styleLayer,\n      E = M.lineMaterial,\n      _ = c.vectorTilesMaterialManager,\n      v = M.getPaintValue(\"line-translate\", f),\n      U = M.getPaintValue(\"line-translate-anchor\", f),\n      I = M.getPaintProperty(\"line-pattern\"),\n      P = void 0 !== I,\n      x = P && I.isDataDriven;\n    let D, S;\n    if (P && !x) {\n      const e = I.getValue(f);\n      D = m.getMosaicItemPosition(e);\n    }\n    let L = !1;\n    if (!P) {\n      const e = M.getPaintProperty(\"line-dasharray\");\n      if (S = void 0 !== e, L = S && e.isDataDriven, S && !L) {\n        const t = e.getValue(f),\n          i = M.getDashKey(t, M.getLayoutValue(\"line-cap\", f));\n        D = m.getMosaicItemPosition(i);\n      }\n    }\n    const N = 1 / d,\n      R = this._programOptions;\n    R.pattern = P, R.sdf = S;\n    const T = _.getMaterialProgram(l, E, R);\n    if (y && null != g && !T.compiled) return void g();\n    if (l.useProgram(T), T.setUniformMatrix3fv(\"u_displayViewMat3\", u.displayViewMat3), T.setUniformMatrix3fv(\"u_displayMat3\", U === e.VIEWPORT ? u.displayMat3 : u.displayViewMat3), T.setUniform2fv(\"u_lineTranslation\", v), T.setUniform1f(\"u_depth\", M.z), T.setUniform1f(\"u_antialiasing\", N), D && null != D) {\n      const {\n          page: e\n        } = D,\n        i = m.getPageSize(e);\n      null != i && (m.bind(l, n.LINEAR, e, t), T.setUniform2fv(\"u_mosaicSize\", i), T.setUniform1i(\"u_texture\", t));\n    }\n    let V = -1;\n    for (const e of s) {\n      if (!e.layerData.has(p)) continue;\n      e.key.level !== V && (V = e.key.level, E.setDataUniforms(T, f, M, V, m));\n      const i = 2 ** (f - V) / d;\n      T.setUniform1f(\"u_zoomFactor\", i);\n      const s = e.layerData.get(p);\n      if (!s.lineIndexCount) continue;\n      s.prepareForRendering(l);\n      const u = s.vao;\n      if (null != u) {\n        if (l.bindVAO(u), T.setUniformMatrix3fv(\"u_dvsMat3\", e.transforms.displayViewScreenMat3), l.setStencilFunction(a.EQUAL, e.stencilRef, 255), x || L) {\n          const e = s.patternMap;\n          if (!e) continue;\n          for (const [i, a] of e) {\n            const e = m.getPageSize(i);\n            null != e && (m.bind(l, n.LINEAR, i, t), T.setUniform2fv(\"u_mosaicSize\", e), T.setUniform1i(\"u_texture\", t), l.drawElements(r.TRIANGLES, a[1], o.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * a[0]));\n          }\n        } else l.drawElements(r.TRIANGLES, s.lineIndexCount, o.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * s.lineIndexStart);\n        e.triangleCount += s.lineIndexCount / 3;\n      }\n    }\n  }\n}\nexport { s as WGLBrushVTLLine };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst n = 128 / Math.PI,\n  t = 256 / 360,\n  r = 1 / Math.LN2;\nfunction u(n, t) {\n  return (n %= t) >= 0 ? n : n + t;\n}\nfunction o(t) {\n  return u(t * n, 256);\n}\nfunction c(n) {\n  return u(n * t, 256);\n}\nfunction e(n) {\n  return Math.log(n) * r;\n}\nfunction f(n, t, r) {\n  return n * (1 - r) + t * r;\n}\nfunction i(n, t, r) {\n  return n >= t && n <= r || n >= r && n <= t;\n}\nexport { i as between, c as degToByte, f as interpolate, e as log2, u as positiveMod, o as radToByte };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as e, fromValues as t } from \"../../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";\nimport { fadeDuration as i } from \"../../vectorTiles/decluttering/config.js\";\nimport { RotationAlignment as a, SymbolPlacement as r, TranslateAnchor as n } from \"../../vectorTiles/style/StyleDefinition.js\";\nimport { vtlTextureBindingUnitSprites as s, vtlTextureBindingUnitGlyphs as o } from \"../definitions.js\";\nimport { degToByte as l } from \"../GeometryUtils.js\";\nimport f from \"./WGLBrush.js\";\nimport { TextureSamplingMode as c, PrimitiveType as u, DataType as p, CompareFunction as m } from \"../../../../webgl/enums.js\";\nconst g = 1 / 65536;\nclass d extends f {\n  constructor() {\n    super(...arguments), this._iconProgramOptions = {\n      id: !1,\n      sdf: !1\n    }, this._sdfProgramOptions = {\n      id: !1\n    }, this._spritesTextureSize = e();\n  }\n  dispose() {}\n  drawMany(e, t) {\n    const i = e.styleLayer;\n    this._drawIcons(e, i, t), this._drawText(e, i, t);\n  }\n  _drawIcons(e, t, o) {\n    const {\n        context: f,\n        displayLevel: c,\n        painter: u,\n        spriteMosaic: p,\n        state: m,\n        styleLayerUID: g,\n        requestRender: d,\n        allowDelayedRender: y\n      } = e,\n      _ = t.iconMaterial,\n      M = u.vectorTilesMaterialManager;\n    let h,\n      P = !1;\n    for (const i of o) if (i.layerData.has(g) && (h = i.layerData.get(g), h.iconPerPageElementsMap.size > 0)) {\n      P = !0;\n      break;\n    }\n    if (!P) return;\n    const U = t.getPaintValue(\"icon-translate\", c),\n      E = t.getPaintValue(\"icon-translate-anchor\", c);\n    let T = t.getLayoutValue(\"icon-rotation-alignment\", c);\n    T === a.AUTO && (T = t.getLayoutValue(\"symbol-placement\", c) === r.POINT ? a.VIEWPORT : a.MAP);\n    const x = T === a.MAP,\n      S = t.getLayoutValue(\"icon-keep-upright\", c) && x,\n      v = h.isIconSDF,\n      D = this._iconProgramOptions;\n    D.sdf = v;\n    const V = M.getMaterialProgram(f, _, D);\n    if (y && null != d && !V.compiled) return void d();\n    f.useProgram(V), V.setUniformMatrix3fv(\"u_displayViewMat3\", T === a.MAP ? m.displayViewMat3 : m.displayMat3), V.setUniformMatrix3fv(\"u_displayMat3\", E === n.VIEWPORT ? m.displayMat3 : m.displayViewMat3), V.setUniform2fv(\"u_iconTranslation\", U), V.setUniform1f(\"u_depth\", t.z), V.setUniform1f(\"u_mapRotation\", l(m.rotation)), V.setUniform1f(\"u_keepUpright\", S ? 1 : 0), V.setUniform1f(\"u_level\", 10 * c), V.setUniform1i(\"u_texture\", s), V.setUniform1f(\"u_fadeDuration\", i / 1e3);\n    let R = -1;\n    for (const i of o) {\n      if (!i.layerData.has(g)) continue;\n      if (i.key.level !== R && (R = i.key.level, _.setDataUniforms(V, c, t, R, p)), h = i.layerData.get(g), 0 === h.iconPerPageElementsMap.size) continue;\n      h.prepareForRendering(f), h.updateOpacityInfo();\n      const a = h.iconVAO;\n      if (null != a) {\n        f.bindVAO(a), V.setUniformMatrix3fv(\"u_dvsMat3\", i.transforms.displayViewScreenMat3), V.setUniform1f(\"u_time\", (performance.now() - h.lastOpacityUpdate) / 1e3);\n        for (const [t, a] of h.iconPerPageElementsMap) this._renderIconRange(e, V, a, t, i);\n      }\n    }\n  }\n  _renderIconRange(e, t, i, a, r) {\n    const {\n      context: n,\n      spriteMosaic: o\n    } = e;\n    this._spritesTextureSize[0] = o.getWidth(a) / 4, this._spritesTextureSize[1] = o.getHeight(a) / 4, t.setUniform2fv(\"u_mosaicSize\", this._spritesTextureSize), o.bind(n, c.LINEAR, a, s), this._setStencilState(e, r), n.drawElements(u.TRIANGLES, i[1], p.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * i[0]), r.triangleCount += i[1] / 3;\n  }\n  _drawText(e, s, f) {\n    const {\n        context: c,\n        displayLevel: u,\n        glyphMosaic: p,\n        painter: m,\n        pixelRatio: d,\n        spriteMosaic: y,\n        state: _,\n        styleLayerUID: M,\n        requestRender: h,\n        allowDelayedRender: P\n      } = e,\n      U = s.textMaterial,\n      E = m.vectorTilesMaterialManager;\n    let T,\n      x = !1;\n    for (const t of f) if (t.layerData.has(M) && (T = t.layerData.get(M), T.glyphPerPageElementsMap.size > 0)) {\n      x = !0;\n      break;\n    }\n    if (!x) return;\n    const S = s.getPaintProperty(\"text-opacity\");\n    if (S && !S.isDataDriven && 0 === S.getValue(u)) return;\n    const v = s.getPaintProperty(\"text-color\"),\n      D = !v || v.isDataDriven || v.getValue(u)[3] > 0,\n      V = s.getPaintProperty(\"text-halo-width\"),\n      R = s.getPaintProperty(\"text-halo-color\"),\n      I = (!V || V.isDataDriven || V.getValue(u) > 0) && (!R || R.isDataDriven || R.getValue(u)[3] > 0);\n    if (!D && !I) return;\n    const A = 24 / 8;\n    let w = s.getLayoutValue(\"text-rotation-alignment\", u);\n    w === a.AUTO && (w = s.getLayoutValue(\"symbol-placement\", u) === r.POINT ? a.VIEWPORT : a.MAP);\n    const L = w === a.MAP,\n      O = s.getLayoutValue(\"text-keep-upright\", u) && L,\n      N = .8 * A / d;\n    this._glyphTextureSize || (this._glyphTextureSize = t(p.width / 4, p.height / 4));\n    const z = s.getPaintValue(\"text-translate\", u),\n      b = s.getPaintValue(\"text-translate-anchor\", u),\n      k = this._sdfProgramOptions,\n      G = E.getMaterialProgram(c, U, k);\n    if (P && null != h && !G.compiled) return void h();\n    c.useProgram(G), G.setUniformMatrix3fv(\"u_displayViewMat3\", w === a.MAP ? _.displayViewMat3 : _.displayMat3), G.setUniformMatrix3fv(\"u_displayMat3\", b === n.VIEWPORT ? _.displayMat3 : _.displayViewMat3), G.setUniform2fv(\"u_textTranslation\", z), G.setUniform1f(\"u_depth\", s.z + g), G.setUniform2fv(\"u_mosaicSize\", this._glyphTextureSize), G.setUniform1f(\"u_mapRotation\", l(_.rotation)), G.setUniform1f(\"u_keepUpright\", O ? 1 : 0), G.setUniform1f(\"u_level\", 10 * u), G.setUniform1i(\"u_texture\", o), G.setUniform1f(\"u_antialiasingWidth\", N), G.setUniform1f(\"u_fadeDuration\", i / 1e3);\n    let W = -1;\n    for (const t of f) {\n      if (!t.layerData.has(M)) continue;\n      if (t.key.level !== W && (W = t.key.level, U.setDataUniforms(G, u, s, W, y)), T = t.layerData.get(M), 0 === T.glyphPerPageElementsMap.size) continue;\n      T.prepareForRendering(c), T.updateOpacityInfo();\n      const i = T.textVAO;\n      if (null == i) continue;\n      c.bindVAO(i), G.setUniformMatrix3fv(\"u_dvsMat3\", t.transforms.displayViewScreenMat3), this._setStencilState(e, t);\n      const a = (performance.now() - T.lastOpacityUpdate) / 1e3;\n      G.setUniform1f(\"u_time\", a), T.glyphPerPageElementsMap.forEach((e, i) => {\n        this._renderGlyphRange(c, e, i, p, G, I, D, t);\n      });\n    }\n  }\n  _renderGlyphRange(e, t, i, a, r, n, s, l) {\n    a.bind(e, c.LINEAR, i, o), n && (r.setUniform1f(\"u_halo\", 1), e.drawElements(u.TRIANGLES, t[1], p.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * t[0]), l.triangleCount += t[1] / 3), s && (r.setUniform1f(\"u_halo\", 0), e.drawElements(u.TRIANGLES, t[1], p.UNSIGNED_INT, Uint32Array.BYTES_PER_ELEMENT * t[0]), l.triangleCount += t[1] / 3);\n  }\n  _setStencilState(e, t) {\n    const {\n      context: i,\n      is3D: a,\n      stencilSymbols: r\n    } = e;\n    if (i.setStencilTestEnabled(!0), r) return i.setStencilWriteMask(255), void i.setStencilFunction(m.ALWAYS, t.stencilRef, 255);\n    i.setStencilWriteMask(0), a ? i.setStencilFunction(m.EQUAL, t.stencilRef, 255) : i.setStencilFunction(m.GREATER, 255, 255);\n  }\n}\nexport { d as WGLBrushVTLSymbol };"],
  "mappings": "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",
  "names": ["t", "r", "s", "t", "r", "e", "s", "f", "u", "d", "g", "L", "a", "o", "n", "n", "t", "l", "s", "o", "c", "u", "d", "f", "e", "g", "E", "t", "e", "n", "l", "r", "o", "s", "f", "u", "c", "d", "g", "E", "i", "a", "s", "t", "l", "f", "u", "c", "d", "g", "e", "E", "L", "i", "n", "t", "r", "u", "c", "n", "u", "t", "e", "r", "t", "e", "o", "f", "c", "u", "g", "d", "E", "n", "a", "r", "s", "L", "O", "i", "l"]
}
