{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { DiscardOrAdjustAlphaBlend as a } from \"./DiscardOrAdjustAlphaBlend.glsl.js\";\nimport { FloatDrawUniform as e } from \"../../shaderModules/FloatDrawUniform.js\";\nimport { FloatPassUniform as r } from \"../../shaderModules/FloatPassUniform.js\";\nimport { glsl as o } from \"../../shaderModules/interfaces.js\";\nimport { AlphaDiscardMode as d } from \"../../../lib/basicInterfaces.js\";\nfunction s(a, e) {\n  l(a, e, new r(\"textureAlphaCutoff\", a => a.textureAlphaCutoff));\n}\nfunction t(a, r) {\n  l(a, r, new e(\"textureAlphaCutoff\", a => a.textureAlphaCutoff));\n}\nfunction l(e, r, s) {\n  const t = e.fragment;\n  switch (r.alphaDiscardMode !== d.Mask && r.alphaDiscardMode !== d.MaskBlend || t.uniforms.add(s), r.alphaDiscardMode) {\n    case d.Blend:\n      return e.include(a);\n    case d.Opaque:\n      t.code.add(o`void discardOrAdjustAlpha(inout vec4 color) {\ncolor.a = 1.0;\n}`);\n      break;\n    case d.Mask:\n      t.code.add(o`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } else { color.a = 1.0; } }`);\n      break;\n    case d.MaskBlend:\n      e.fragment.code.add(o`#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } }`);\n  }\n}\nexport { t as DiscardOrAdjustAlphaDraw, s as DiscardOrAdjustAlphaPass };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ColorMixModeEnum as e } from \"../../../../layers/support/symbolColorUtils.js\";\nimport { ColorConversion as t } from \"./ColorConversion.glsl.js\";\nimport { glsl as r } from \"../../shaderModules/interfaces.js\";\nfunction i(i) {\n  i.include(t), i.code.add(r`\n    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      vec3 internalMixed = internalColor * textureColor;\n      vec3 allMixed = internalMixed * externalColor;\n\n      if (mode == ${r.int(e.Multiply)}) {\n        return allMixed;\n      }\n      if (mode == ${r.int(e.Ignore)}) {\n        return internalMixed;\n      }\n      if (mode == ${r.int(e.Replace)}) {\n        return externalColor;\n      }\n\n      // tint (or something invalid)\n      float vIn = rgb2v(internalMixed);\n      vec3 hsvTint = rgb2hsv(externalColor);\n      vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\n      return hsv2rgb(hsvOut);\n    }\n\n    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      float internalMixed = internalOpacity * textureOpacity;\n      float allMixed = internalMixed * externalOpacity;\n\n      if (mode == ${r.int(e.Ignore)}) {\n        return internalMixed;\n      }\n      if (mode == ${r.int(e.Replace)}) {\n        return externalOpacity;\n      }\n\n      // multiply or tint (or something invalid)\n      return allMixed;\n    }\n  `);\n}\nexport { i as MixExternalColor };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AASA,SAASA,GAAE,GAAGC,IAAG;AACf,IAAE,GAAGA,IAAG,IAAIC,GAAE,sBAAsB,CAAAC,OAAKA,GAAE,kBAAkB,CAAC;AAChE;AACA,SAAS,EAAE,GAAG,GAAG;AACf,IAAE,GAAG,GAAG,IAAI,EAAE,sBAAsB,CAAAA,OAAKA,GAAE,kBAAkB,CAAC;AAChE;AACA,SAAS,EAAEF,IAAG,GAAGD,IAAG;AAClB,QAAMI,KAAIH,GAAE;AACZ,UAAQ,EAAE,qBAAqB,EAAE,QAAQ,EAAE,qBAAqB,EAAE,aAAaG,GAAE,SAAS,IAAIJ,EAAC,GAAG,EAAE,kBAAkB;AAAA,IACpH,KAAK,EAAE;AACL,aAAOC,GAAE,QAAQ,CAAC;AAAA,IACpB,KAAK,EAAE;AACL,MAAAG,GAAE,KAAK,IAAI;AAAA;AAAA,EAEf;AACI;AAAA,IACF,KAAK,EAAE;AACL,MAAAA,GAAE,KAAK,IAAI,iHAAiH;AAC5H;AAAA,IACF,KAAK,EAAE;AACL,MAAAH,GAAE,SAAS,KAAK,IAAI,yFAAyF;AAAA,EACjH;AACF;;;ACxBA,SAAS,EAAEI,IAAG;AACZ,EAAAA,GAAE,QAAQC,EAAC,GAAGD,GAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOP,EAAE,IAAI,EAAE,QAAQ,CAAC;AAAA;AAAA;AAAA,oBAGjB,EAAE,IAAI,EAAE,MAAM,CAAC;AAAA;AAAA;AAAA,oBAGf,EAAE,IAAI,EAAE,OAAO,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAiBhB,EAAE,IAAI,EAAE,MAAM,CAAC;AAAA;AAAA;AAAA,oBAGf,EAAE,IAAI,EAAE,OAAO,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAOjC;AACH;",
  "names": ["s", "e", "o", "a", "t", "i", "e"]
}
