{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/draw/DrawAction.js", "../../../../../../node_modules/@arcgis/core/views/draw/input/DrawEvents.js", "../../../../../../node_modules/@arcgis/core/views/draw/MultipointDrawAction.js", "../../../../../../node_modules/@arcgis/core/views/draw/DrawTool.js", "../../../../../../node_modules/@arcgis/core/views/draw/PointDrawAction.js", "../../../../../../node_modules/@arcgis/core/views/draw/PolygonDrawAction.js", "../../../../../../node_modules/@arcgis/core/views/draw/PolylineDrawAction.js", "../../../../../../node_modules/@arcgis/core/views/draw/SegmentDrawAction.js", "../../../../../../node_modules/@arcgis/core/views/draw/Draw.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Evented.js\";\nimport { clone as i } from \"../../core/lang.js\";\nimport { destroyMaybe as r } from \"../../core/maybe.js\";\nimport { ignoreAbortErrors as n } from \"../../core/promiseUtils.js\";\nimport { createScreenPointArray as s } from \"../../core/screenUtils.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport p from \"../../layers/GraphicsLayer.js\";\nimport { makeDehydratedPoint as d } from \"../../layers/graphics/dehydratedPoint.js\";\nimport { ViewingMode as l } from \"../ViewingMode.js\";\nimport { SnappingVisualizer2D as h } from \"../2d/interactive/SnappingVisualizer2D.js\";\nimport { createCoordinateHelper as c } from \"../interactive/coordinateHelper.js\";\nimport { EditGeometry as m, Component as _ } from \"../interactive/editGeometry/EditGeometry.js\";\nimport { EditGeometryOperations as u } from \"../interactive/editGeometry/EditGeometryOperations.js\";\nimport { SnappingContext as y } from \"../interactive/snapping/SnappingContext.js\";\nimport { SnappingOperation as g } from \"../interactive/snapping/SnappingOperation.js\";\nvar v;\nlet f = v = class extends t.EventedAccessor {\n  constructor(e) {\n    super(e), this._hasZ = null, this._cursorScreenPoint = null, this._activePointerId = null, this._stagedVertexUnsnapped = null, this._lastVertexUnsnapped = null, this.interactiveUndoDisabled = !1, this.history = [], this.redoHistory = [], this.snapToScene = !1, this.view = null, this.elevationInfo = null, this.defaultZ = 0, this._coordinateHelper = c(!!e.hasZ, !1, e.view.spatialReference), this._snappingManager = e.snappingManager, this._editGeometryOperations = new u(new m(e.editGeometryType ?? \"polygon\", this._coordinateHelper), l.Local), this._snappingGraphicsLayer = new p({\n      id: v.SNAPPING_GRAPHICS_LAYER_ID,\n      listMode: \"hide\",\n      internal: !0\n    }), this._snappingContext = new y({\n      editGeometryOperations: this._editGeometryOperations,\n      elevationInfo: {\n        mode: \"on-the-ground\",\n        offset: 0\n      },\n      pointer: \"mouse\",\n      visualizer: new h(this._snappingGraphicsLayer)\n    }), this._activeComponent = new _(e.view.spatialReference, l.Local), this._editGeometryOperations.data.components.push(this._activeComponent);\n  }\n  normalizeCtorArgs(e) {\n    const t = {\n      ...e\n    };\n    return delete t.editGeometryType, delete t.snappingManager, t;\n  }\n  initialize() {\n    this._snappingOperation = new g({\n      view: this.view\n    }), \"2d\" === this.view.type && this.view.map.layers.add(this._snappingGraphicsLayer);\n  }\n  destroy() {\n    this.view.map.layers.remove(this._snappingGraphicsLayer), this._snappingGraphicsLayer.destroy(), null != this._snappingManager && this._snappingManager.doneSnapping(), this._snappingOperation = r(this._snappingOperation), this._editGeometryOperations.destroy();\n  }\n  get _committedVertices() {\n    return this._editGeometryOperations.data.components[0].vertices.map(e => e.pos);\n  }\n  get vertices() {\n    return null != this._stagedVertex ? [...this._committedVertices, this._coordinateHelper.pointToArray(this._stagedVertex)] : this._committedVertices;\n  }\n  get hasZ() {\n    return null != this._hasZ ? this._hasZ : \"3d\" === this.view.type;\n  }\n  set hasZ(e) {\n    this._hasZ = e, this.notifyChange(\"hasZ\");\n  }\n  get _stagedVertex() {\n    return this._snappingOperation.stagedPoint;\n  }\n  set _stagedVertex(e) {\n    this._snappingOperation.stagedPoint = i(e);\n  }\n  canUndo() {\n    return this._editGeometryOperations.canUndo;\n  }\n  canRedo() {\n    return this._editGeometryOperations.canRedo;\n  }\n  undo() {\n    this.canUndo && this._editGeometryOperations.undo();\n  }\n  redo() {\n    this.canRedo && this._editGeometryOperations.redo();\n  }\n  getCoordsFromScreenPoint(e) {\n    const t = e && this.screenToMap(e);\n    return null == t ? null : t.hasZ ? [t.x, t.y, t.z] : [t.x, t.y];\n  }\n  getCoordsAndPointFromScreenPoint(e) {\n    const t = this.screenToMap(e);\n    return null == t ? null : t.hasZ ? {\n      vertex: [t.x, t.y, t.z],\n      mapPoint: t\n    } : {\n      vertex: [t.x, t.y],\n      mapPoint: t\n    };\n  }\n  screenToMap(e) {\n    let t = null;\n    if (\"3d\" === this.view.type) {\n      if (this.hasZ) {\n        const i = this.elevationInfo ?? x;\n        t = this.view.sceneIntersectionHelper.intersectElevationFromScreen(s(e.x, e.y), i, this._getGeometryZValue());\n      } else {\n        const i = this.elevationInfo ?? G;\n        t = this.view.sceneIntersectionHelper.intersectElevationFromScreen(s(e.x, e.y), i, 0), null != t && (t.z = void 0);\n      }\n    } else t = this.view.toMap(e), null != t && (t.z = this.hasZ ? this._getGeometryZValue() : void 0);\n    return t;\n  }\n  _pushCursorVertex(e, t) {\n    const i = d(e[0], e[1], void 0, this.view.spatialReference);\n    this._stagedVertexUnsnapped = i;\n    const r = this._snappingManager;\n    if (null == r) return this._stagedVertex = i, void t();\n    n(this._snappingOperation.snap({\n      point: i\n    }, r, this._snappingContext)).then(() => {\n      t();\n    });\n  }\n  _popCursorVertex() {\n    this._stagedVertexUnsnapped = null, this._stagedVertex = null;\n  }\n  _getGeometryZValue() {\n    return this.defaultZ;\n  }\n  _abortSnapping() {\n    this._snappingOperation.abort();\n  }\n  _isDuplicateOfLastVertex(e) {\n    const t = this._editGeometryOperations.data.components[0].getLastVertex()?.pos;\n    if (t && e[0] === t[0] && e[1] === t[1]) return !0;\n    const {\n      x: i,\n      y: r\n    } = this._coordinateHelper.vectorToDehydratedPoint(e);\n    return null != this._lastVertexUnsnapped && i === this._lastVertexUnsnapped.x && r === this._lastVertexUnsnapped.y;\n  }\n  _shouldHandlePointerEvent(e) {\n    return w(e) && (null == this._activePointerId || this._activePointerId === e.pointerId);\n  }\n  _vertexAddHandler(e) {\n    const t = null != this._stagedVertex ? this._coordinateHelper.pointToArray(this._stagedVertex) : this.getCoordsFromScreenPoint(this._cursorScreenPoint);\n    null != t && this._addVertex(t, e.native);\n  }\n  _drawCompleteHandler(e) {\n    this._completeDrawing(e.native);\n  }\n};\nf.SNAPPING_GRAPHICS_LAYER_ID = \"DrawAction-snapping-graphics-layer\", e([o({\n  readOnly: !0\n})], f.prototype, \"vertices\", null), e([o({\n  type: Boolean,\n  nonNullable: !0\n})], f.prototype, \"interactiveUndoDisabled\", void 0), e([o({\n  readOnly: !0\n})], f.prototype, \"history\", void 0), e([o({\n  readOnly: !0\n})], f.prototype, \"redoHistory\", void 0), e([o()], f.prototype, \"snapToScene\", void 0), e([o()], f.prototype, \"view\", void 0), e([o()], f.prototype, \"elevationInfo\", void 0), e([o({\n  nonNullable: !0\n})], f.prototype, \"defaultZ\", void 0), e([o()], f.prototype, \"hasZ\", null), e([o()], f.prototype, \"_snappingOperation\", void 0), e([o()], f.prototype, \"_stagedVertex\", null), f = v = e([a(\"esri.views.draw.DrawAction\")], f);\nconst x = {\n    mode: \"absolute-height\",\n    offset: 0\n  },\n  G = {\n    mode: \"on-the-ground\",\n    offset: 0\n  };\nfunction w(e) {\n  return \"mouse\" !== e.pointerType || 0 === e.button;\n}\nconst V = f;\nexport { V as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e {\n  constructor(e, t, s) {\n    this.view = e, this.vertexIndex = t, this.vertices = s, this.defaultPrevented = !1, this.type = \"vertex-add\";\n  }\n  preventDefault() {\n    this.defaultPrevented = !0;\n  }\n}\nclass t {\n  constructor(e, t, s) {\n    this.view = e, this.vertexIndex = t, this.vertices = s, this.defaultPrevented = !1, this.type = \"vertex-update\";\n  }\n  preventDefault() {\n    this.defaultPrevented = !0;\n  }\n}\nclass s {\n  constructor(e, t, s) {\n    this.view = e, this.vertexIndex = t, this.vertices = s, this.defaultPrevented = !1, this.type = \"vertex-remove\";\n  }\n  preventDefault() {\n    this.defaultPrevented = !0;\n  }\n}\nclass i {\n  constructor(e, t, s, i = null) {\n    this.view = e, this.vertexIndex = t, this.vertices = s, this.mapPoint = i, this.coordinates = null, this.defaultPrevented = !1, this.type = \"cursor-update\", this.coordinates = 1 === s.length ? s[0] : null;\n  }\n  preventDefault() {\n    this.defaultPrevented = !0;\n  }\n}\nclass r {\n  constructor(e) {\n    this.vertices = e, this.coordinates = null, this.defaultPrevented = !1, this.type = \"draw-complete\", this.coordinates = 1 === e.length ? e[0] : null;\n  }\n  preventDefault() {\n    this.defaultPrevented = !0;\n  }\n}\nexport { i as CursorUpdateEvent, r as DrawCompleteEvent, e as VertexAddEvent, s as VertexRemoveEvent, t as VertexUpdateEvent };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport \"../../core/Error.js\";\nimport { subclass as t } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"./DrawAction.js\";\nimport { VertexRemoveEvent as o, VertexAddEvent as r, CursorUpdateEvent as s, DrawCompleteEvent as n } from \"./input/DrawEvents.js\";\nimport { ViewEventPriorities as a } from \"../input/InputManager.js\";\nimport { sketchKeys as d } from \"../interactive/keybindings.js\";\nimport { createScreenPointFromEvent as p } from \"../support/screenUtils.js\";\nimport h from \"../../geometry/Point.js\";\nconst l = Symbol(\"view-handles\"),\n  c = Symbol(\"undo-redo-handles\");\nlet _ = class extends i {\n  constructor(e) {\n    super(e), this._popVertexOnPointerMove = !1, this._addVertexOnPointerUp = !1;\n  }\n  initialize() {\n    this._addViewHandles(), this._addUndoRedoHandles();\n  }\n  destroy() {\n    this._removeViewHandles(), this._removeUndoRedoHandles(), this.emit(\"destroy\");\n  }\n  undo() {\n    super.undo(), this.notifyChange(\"vertices\");\n  }\n  redo() {\n    super.redo(), this.notifyChange(\"vertices\");\n  }\n  complete() {\n    this._completeDrawing();\n  }\n  _addViewHandles() {\n    this._removeViewHandles(), this.addHandles([this.view.on(\"click\", e => {\n      e.stopPropagation();\n    }, a.TOOL), this.view.on(\"pointer-down\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._activePointerId = e.pointerId, this._addVertexOnPointerUp = !0, this._cursorScreenPoint = p(e), \"touch\" === e.pointerType && this._updateCursor());\n    }, a.TOOL), this.view.on(\"pointer-move\", e => {\n      this._popVertexOnPointerMove && (this.undo(), this._popVertexOnPointerMove = !1), this._abortSnapping(), this._cursorScreenPoint = p(e), \"touch\" !== e.pointerType && this._updateCursor();\n    }, a.TOOL), this.view.on(\"pointer-drag\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._addVertexOnPointerUp = !1);\n    }, a.TOOL), this.view.on(\"pointer-up\", e => {\n      if (this._shouldHandlePointerEvent(e)) if (this._abortSnapping(), this._activePointerId = null, this._addVertexOnPointerUp) this._vertexAddHandler(e);else {\n        const t = \"touch\" === e.pointerType;\n        this._updateCursor(t);\n      }\n    }, a.TOOL), this.view.on(\"drag\", [\"Shift\"], e => {\n      e.stopPropagation();\n    }, a.TOOL), this.view.on(\"double-click\", e => {\n      e.stopPropagation(), this._drawCompleteHandler(e);\n    }, a.TOOL), this.view.on(\"double-click\", [\"Control\"], e => {\n      e.stopPropagation(), this._drawCompleteHandler(e);\n    }, a.TOOL), this.view.on(\"key-down\", e => {\n      const {\n        key: t,\n        repeat: i\n      } = e;\n      t === d.vertexAdd && !i && this._cursorScreenPoint ? (e.stopPropagation(), this._abortSnapping(), this._vertexAddHandler(e)) : t !== d.complete || i ? t !== d.undo || this.interactiveUndoDisabled || i ? t !== d.redo || this.interactiveUndoDisabled || i ? t !== d.pan || i || e.stopPropagation() : (e.stopPropagation(), this.redo()) : (e.stopPropagation(), this.undo()) : (e.stopPropagation(), this._drawCompleteHandler(e));\n    }, a.TOOL), this.view.on(\"key-up\", e => {\n      e.key === d.pan && e.stopPropagation();\n    }, a.TOOL)], l);\n  }\n  _addUndoRedoHandles() {\n    this._removeUndoRedoHandles(), this.addHandles([this._editGeometryOperations.on(\"vertex-remove\", e => {\n      if (this.notifyChange(\"vertices\"), \"undo\" === e.operation) {\n        const t = [...this._committedVertices];\n        null != this._stagedVertex && t.push(this._coordinateHelper.pointToArray(this._stagedVertex)), this.emit(\"undo\", new o(this.view, e.vertices[0].index, t));\n      }\n    }), this._editGeometryOperations.on(\"vertex-add\", e => {\n      if (this.notifyChange(\"vertices\"), \"apply\" === e.operation) {\n        const e = this._committedVertices.length - 1,\n          t = new r(this.view, e, this.vertices);\n        this.emit(\"vertex-add\", t), t.defaultPrevented && (this._popVertexOnPointerMove = !0);\n      } else if (\"redo\" === e.operation) {\n        const t = [...this._committedVertices];\n        null != this._stagedVertex && t.push(this._coordinateHelper.pointToArray(this._stagedVertex)), this.emit(\"redo\", new r(this.view, e.vertices[0].index, t));\n      }\n    })], c);\n  }\n  _removeViewHandles() {\n    this.removeHandles(l);\n  }\n  _removeUndoRedoHandles() {\n    this.removeHandles(c);\n  }\n  _addVertex(e) {\n    const t = this._coordinateHelper.arrayToVector(e);\n    this._isDuplicateOfLastVertex(t) || this._editGeometryOperations.appendVertex(t);\n  }\n  _updateCursor(e = !1) {\n    if (this._popCursorVertex(), !this._cursorScreenPoint) return;\n    const t = this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);\n    null == t || e || this._pushCursorVertex(t.vertex, () => this.emit(\"cursor-update\", new s(this.view, this._activeComponent.vertices.length, this.vertices, null != this._stagedVertex ? new h(this._stagedVertex) : null)));\n  }\n  _completeDrawing() {\n    if (this._activePointerId = null, this._popCursorVertex(), this._abortSnapping(), null != this._snappingManager && this._snappingManager.doneSnapping(), this.vertices.length < 1) return;\n    const e = new n(this.vertices);\n    this.emit(\"draw-complete\", e), e.defaultPrevented || this._removeViewHandles();\n  }\n};\n_ = e([t(\"esri.views.draw.MultipointDrawAction\")], _);\nexport { _ as MultipointDrawAction };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Evented.js\";\nimport { destroyMaybe as o } from \"../../core/maybe.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { getEffectiveElevationInfo as n } from \"../../support/elevationInfoUtils.js\";\nimport { DrawOperation as a } from \"./DrawOperation.js\";\nimport { SceneDrawSurface as s, ElevationDrawSurface as p } from \"./drawSurfaces.js\";\nimport { InteractiveToolBase as d } from \"../interactive/InteractiveToolBase.js\";\nlet l = class extends t.EventedMixin(d) {\n  constructor(e) {\n    super(e), this.defaultZ = 0, this.elevationInfo = null, this.hasZ = !0, this.mode = null, this.snapToScene = null, this.type = \"draw-3d\";\n  }\n  initialize() {\n    const e = this.view,\n      t = n(this.hasZ, this.elevationInfo);\n    this.drawOperation = new a({\n      view: e,\n      manipulators: this.manipulators,\n      geometryType: this.geometryType,\n      drawingMode: this.mode,\n      hasZ: this.hasZ,\n      defaultZ: this.defaultZ,\n      snapToSceneEnabled: this.snapToScene,\n      drawSurface: \"3d\" === e.type ? new s(e, t) : null,\n      elevationDrawSurface: \"3d\" === e.type ? new p(t, this.defaultZ, e) : null,\n      hasM: !1,\n      elevationInfo: t\n    }), this.addHandles([this.drawOperation.on(\"vertex-add\", e => this.onVertexAdd(e)), this.drawOperation.on(\"vertex-remove\", e => this.onVertexRemove(e)), this.drawOperation.on(\"vertex-update\", e => this.onVertexUpdate(e)), this.drawOperation.on(\"cursor-update\", e => this.onCursorUpdate(e)), this.drawOperation.on(\"complete\", e => this.onComplete(e))]), this.finishToolCreation();\n  }\n  destroy() {\n    this.drawOperation = o(this.drawOperation), this._set(\"view\", null);\n  }\n  set enabled(e) {\n    this.drawOperation.interactive = e, this._set(\"enabled\", e);\n  }\n  get updating() {\n    return this.drawOperation?.updating ?? !1;\n  }\n  completeCreateOperation() {\n    this.drawOperation.complete();\n  }\n  onDeactivate() {\n    this.drawOperation.isCompleted || this.drawOperation.cancel();\n  }\n  getVertexCoords() {\n    return this.drawOperation.geometryIncludingUncommittedVertices;\n  }\n  onInputEvent(e) {\n    this.drawOperation.onInputEvent(e);\n  }\n  canRedo() {\n    return this.drawOperation.canRedo;\n  }\n  canUndo() {\n    return this.drawOperation.canUndo;\n  }\n  redo() {\n    this.drawOperation.redo();\n  }\n  reset() {}\n  undo() {\n    this.drawOperation.undo();\n  }\n  onComplete(e) {\n    this.emit(\"complete\", e);\n  }\n  onCursorUpdate(e) {\n    this.emit(\"cursor-update\", e);\n  }\n  onVertexAdd(e) {\n    this.emit(\"vertex-add\", e);\n  }\n  onVertexRemove(e) {\n    this.emit(\"vertex-remove\", e);\n  }\n  onVertexUpdate(e) {\n    this.emit(\"vertex-update\", e);\n  }\n};\ne([r({\n  constructOnly: !0,\n  nonNullable: !0\n})], l.prototype, \"defaultZ\", void 0), e([r()], l.prototype, \"drawOperation\", void 0), e([r({\n  constructOnly: !0\n})], l.prototype, \"elevationInfo\", void 0), e([r({\n  value: !0\n})], l.prototype, \"enabled\", null), e([r({\n  constructOnly: !0\n})], l.prototype, \"geometryType\", void 0), e([r({\n  constructOnly: !0\n})], l.prototype, \"hasZ\", void 0), e([r({\n  constructOnly: !0\n})], l.prototype, \"mode\", void 0), e([r()], l.prototype, \"snapToScene\", void 0), e([r({\n  readOnly: !0\n})], l.prototype, \"type\", void 0), e([r({\n  readOnly: !0\n})], l.prototype, \"updating\", null), e([r({\n  constructOnly: !0,\n  nonNullable: !0\n})], l.prototype, \"view\", void 0), l = e([i(\"esri.views.draw.DrawTool\")], l);\nexport { l as DrawTool };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport \"../../core/Error.js\";\nimport { subclass as t } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"./DrawAction.js\";\nimport { DrawTool as o } from \"./DrawTool.js\";\nimport { CursorUpdateEvent as r, DrawCompleteEvent as s } from \"./input/DrawEvents.js\";\nimport { ViewEventPriorities as n } from \"../input/InputManager.js\";\nimport { sketchKeys as a } from \"../interactive/keybindings.js\";\nimport { createScreenPointFromEvent as d } from \"../support/screenUtils.js\";\nimport p from \"../../geometry/Point.js\";\nlet h = class extends i {\n  constructor(e) {\n    super(e), this._addVertexOnPointerUp = !1, this._drawTool = null;\n  }\n  initialize() {\n    this._addViewHandles(), \"3d\" === this.view.type && this._addDrawTool();\n  }\n  destroy() {\n    this._removeDrawTool(), this.emit(\"destroy\");\n  }\n  complete() {\n    this._completeDrawing();\n  }\n  _addViewHandles() {\n    this._addViewHandles2DOnly(), this.addHandles([this.view.on(\"key-down\", e => {\n      e.key === a.complete && (this._drawTool ? this.complete() : (this._abortSnapping(), this._vertexAddHandler(e)));\n    }, n.TOOL)]);\n  }\n  _addViewHandles2DOnly() {\n    \"2d\" === this.view.type && this.addHandles([this.view.on(\"pointer-down\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._activePointerId = e.pointerId, this._addVertexOnPointerUp = !0, this._cursorScreenPoint = d(e), \"touch\" === e.pointerType && this._updateCursor());\n    }, n.TOOL), this.view.on(\"pointer-move\", e => {\n      this._abortSnapping(), this._cursorScreenPoint = d(e), \"touch\" !== e.pointerType && this._updateCursor();\n    }, n.TOOL), this.view.on(\"pointer-drag\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._addVertexOnPointerUp = !1);\n    }, n.TOOL), this.view.on(\"pointer-up\", e => {\n      if (this._shouldHandlePointerEvent(e)) if (this._abortSnapping(), this._activePointerId = null, this._addVertexOnPointerUp) e.stopPropagation(), this._vertexAddHandler(e);else {\n        const t = \"touch\" === e.pointerType;\n        this._updateCursor(t);\n      }\n    }, n.TOOL), this.view.on(\"drag\", [\"Shift\"], e => {\n      e.stopPropagation();\n    }, n.TOOL)]);\n  }\n  _addDrawTool() {\n    const e = new o({\n      view: this.view,\n      elevationInfo: this.elevationInfo,\n      hasZ: this.hasZ,\n      geometryType: \"point\",\n      mode: \"click\"\n    });\n    this._drawTool = e, this.view.addAndActivateTool(e), this.addHandles([e.on(\"cursor-update\", t => {\n      1 === t.vertices.length && this.emit(\"cursor-update\", new r(this.view, t.vertices[0].vertexIndex, e.getVertexCoords()));\n    }), e.on(\"complete\", t => {\n      this.emit(\"draw-complete\", new s(e.getVertexCoords())), this._removeDrawTool(), this.removeAllHandles();\n    })]);\n  }\n  _removeDrawTool() {\n    this._drawTool && (this.view.tools.remove(this._drawTool), this._drawTool = null);\n  }\n  _addVertex(e) {\n    const t = this._coordinateHelper.arrayToVector(e);\n    this._isDuplicateOfLastVertex(t) || (this._lastVertexUnsnapped = this._stagedVertexUnsnapped, this._popCursorVertex(), this._editGeometryOperations.appendVertex(t), this.notifyChange(\"vertices\"), this._completeDrawing());\n  }\n  _updateCursor(e = !1) {\n    if (this._popCursorVertex(), !this._cursorScreenPoint) return;\n    const t = this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);\n    null == t || e || this._pushCursorVertex(t.vertex, () => this.emit(\"cursor-update\", new r(this.view, this._activeComponent.vertices.length, this.vertices, null != this._stagedVertex ? new p(this._stagedVertex) : null)));\n  }\n  _completeDrawing() {\n    if (this._drawTool) return void this._drawTool.completeCreateOperation();\n    this._activePointerId = null, this._popCursorVertex(), this._abortSnapping(), null != this._snappingManager && this._snappingManager.doneSnapping();\n    const e = new s(this.vertices);\n    this.emit(\"draw-complete\", e), e.defaultPrevented || this.removeAllHandles();\n  }\n};\nh = e([t(\"esri.views.draw.PointDrawAction\")], h);\nexport { h as PointDrawAction };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport { property as t } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"./DrawAction.js\";\nimport { defaultDrawingMode as r, drawingModes as s } from \"./DrawingMode.js\";\nimport { DrawTool as n } from \"./DrawTool.js\";\nimport { VertexRemoveEvent as a, VertexAddEvent as d, CursorUpdateEvent as h, DrawCompleteEvent as p } from \"./input/DrawEvents.js\";\nimport { ViewEventPriorities as l } from \"../input/InputManager.js\";\nimport { sketchKeys as c } from \"../interactive/keybindings.js\";\nimport { createScreenPointFromEvent as _ } from \"../support/screenUtils.js\";\nimport v from \"../../geometry/Point.js\";\nlet m = class extends o {\n  constructor(e) {\n    super(e), this._panEnabled = !1, this._popVertexOnPointerMove = !1, this._addVertexOnPointerUp = !1, this._drawTool = null, this.mode = r;\n  }\n  initialize() {\n    this._addViewHandles(), \"3d\" === this.view.type && this._addDrawTool();\n  }\n  destroy() {\n    this._removeDrawTool(), this.emit(\"destroy\");\n  }\n  get _dragEnabled() {\n    return \"freehand\" === this.mode || \"hybrid\" === this.mode;\n  }\n  get _clickEnabled() {\n    return \"click\" === this.mode || \"hybrid\" === this.mode;\n  }\n  undo() {\n    this._drawTool ? this._drawTool.undo() : (super.undo(), this.notifyChange(\"vertices\"));\n  }\n  redo() {\n    this._drawTool ? this._drawTool.redo() : (super.redo(), this.notifyChange(\"vertices\"));\n  }\n  canUndo() {\n    return this._drawTool?.canUndo() ?? super.canUndo();\n  }\n  canRedo() {\n    return this._drawTool?.canRedo() ?? super.canRedo();\n  }\n  complete() {\n    this._completeDrawing();\n  }\n  _getGeometryZValue() {\n    return this.hasZ && this.vertices.length > 0 ? this.vertices[0][2] : this.defaultZ;\n  }\n  _addViewHandles() {\n    this._addViewHandles2DOnly(), this.addHandles(this.view.on(\"key-down\", e => {\n      const {\n        key: t,\n        repeat: i\n      } = e;\n      t !== c.vertexAdd || i ? t !== c.complete || i ? t !== c.undo || this.interactiveUndoDisabled || i ? t !== c.redo || this.interactiveUndoDisabled || i || (e.stopPropagation(), this.redo()) : (e.stopPropagation(), this.undo()) : (e.stopPropagation(), this._drawCompleteHandler(e)) : (e.stopPropagation(), this._handleVertexAddKey(e));\n    }, l.TOOL));\n  }\n  _addViewHandles2DOnly() {\n    \"2d\" === this.view.type && (this.addHandles([this.view.on(\"click\", e => {\n      e.stopPropagation();\n    }, l.TOOL), this.view.on(\"pointer-down\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._activePointerId = e.pointerId, this._addVertexOnPointerUp = !0, this._cursorScreenPoint = _(e), \"touch\" === e.pointerType && this._updateCursor());\n    }, l.TOOL), this.view.on(\"pointer-move\", e => {\n      this._abortSnapping(), this._popVertexOnPointerMove && (this.undo(), this._popVertexOnPointerMove = !1), this._cursorScreenPoint = _(e), \"touch\" !== e.pointerType && this._updateCursor();\n    }, l.TOOL), this.view.on(\"pointer-drag\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._cursorScreenPoint = _(e), this._dragEnabled && !this._panEnabled ? this._vertexAddHandler(e) : this._addVertexOnPointerUp = !1);\n    }, l.TOOL), this.view.on(\"pointer-up\", e => {\n      if (this._shouldHandlePointerEvent(e)) if (this._abortSnapping(), this._activePointerId = null, this._addVertexOnPointerUp) {\n        if (!this._clickEnabled) return 1 === this.vertices.length && this.vertices.pop(), void this._drawCompleteHandler(e);\n        this._vertexAddHandler(e);\n      } else {\n        const t = \"touch\" === e.pointerType;\n        this._updateCursor(t);\n      }\n    }, l.TOOL), this.view.on(\"drag\", e => {\n      this._dragEnabled && null != this._activePointerId && !this._panEnabled && e.stopPropagation();\n    }, l.TOOL), this.view.on(\"drag\", [\"Shift\"], e => {\n      e.stopPropagation();\n    }, l.TOOL), this.view.on(\"double-click\", e => {\n      e.stopPropagation(), this._drawCompleteHandler(e);\n    }, l.TOOL), this.view.on(\"double-click\", [\"Control\"], e => {\n      e.stopPropagation(), this._drawCompleteHandler(e);\n    }, l.TOOL), this.view.on(\"key-down\", e => {\n      const {\n        key: t,\n        repeat: i\n      } = e;\n      t !== c.pan || i || (e.stopPropagation(), this._panEnabled = !0);\n    }, l.TOOL), this.view.on(\"key-up\", e => {\n      e.key === c.pan && (e.stopPropagation(), this._panEnabled = !1);\n    }, l.TOOL)]), this._addUndoRedoHandles());\n  }\n  _handleVertexAddKey(e) {\n    this._drawTool ? this._drawTool.drawOperation.commitStagedVertex() : this._cursorScreenPoint && (this._abortSnapping(), this._vertexAddHandler(e));\n  }\n  _addUndoRedoHandles() {\n    this.addHandles([this._editGeometryOperations.on(\"vertex-remove\", e => {\n      if (this.notifyChange(\"vertices\"), \"undo\" === e.operation) {\n        const t = [...this._committedVertices];\n        null != this._stagedVertex && t.push(this._coordinateHelper.pointToArray(this._stagedVertex)), this.emit(\"undo\", new a(this.view, e.vertices[0].index, t));\n      }\n    }), this._editGeometryOperations.on(\"vertex-add\", e => {\n      if (this.notifyChange(\"vertices\"), \"apply\" === e.operation) {\n        const e = this._committedVertices.length - 1,\n          t = new d(this.view, e, this.vertices);\n        this.emit(\"vertex-add\", t), t.defaultPrevented && (this._popVertexOnPointerMove = !0);\n      } else if (\"redo\" === e.operation) {\n        const t = [...this._committedVertices];\n        null != this._stagedVertex && t.push(this._coordinateHelper.pointToArray(this._stagedVertex)), this.emit(\"redo\", new d(this.view, e.vertices[0].index, t));\n      }\n    })]);\n  }\n  _addDrawTool() {\n    const e = new n({\n      view: this.view,\n      elevationInfo: this.elevationInfo,\n      hasZ: this.hasZ,\n      geometryType: \"polygon\",\n      mode: this.mode\n    });\n    this._drawTool = e, this.view.addAndActivateTool(e), e.on(\"vertex-add\", t => {\n      if (1 === t.vertices.length) {\n        const {\n            view: i\n          } = this,\n          o = t.vertices[0].vertexIndex,\n          r = e.getVertexCoords();\n        this.emit(\"vertex-add\", new d(i, o, r)), \"undo\" !== t.operation && \"redo\" !== t.operation || this.emit(t.operation, new d(i, o, r));\n      }\n    }), e.on(\"vertex-remove\", t => {\n      if (1 === t.vertices.length) {\n        const {\n            view: i\n          } = this,\n          o = t.vertices[0].vertexIndex,\n          r = e.getVertexCoords();\n        this.emit(\"vertex-remove\", new a(i, o, r)), \"undo\" !== t.operation && \"redo\" !== t.operation || this.emit(t.operation, new a(i, o, r));\n      }\n    }), e.on(\"cursor-update\", t => {\n      1 === t.vertices.length && this.emit(\"cursor-update\", new h(this.view, t.vertices[0].vertexIndex, e.getVertexCoords()));\n    }), e.on(\"complete\", t => {\n      this.emit(\"draw-complete\", new p(e.getVertexCoords())), this._removeDrawTool(), this.removeAllHandles();\n    });\n  }\n  _removeDrawTool() {\n    this._drawTool && (this.view.tools.remove(this._drawTool), this._drawTool = null);\n  }\n  _addVertex(e) {\n    const t = this._coordinateHelper.arrayToVector(e);\n    this._isDuplicateOfLastVertex(t) || (this._lastVertexUnsnapped = this._stagedVertexUnsnapped, this._popCursorVertex(), this._editGeometryOperations.appendVertex(t));\n  }\n  _updateCursor(e = !1) {\n    if (this._popCursorVertex(), !this._cursorScreenPoint) return;\n    const t = this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);\n    null == t || e || this._pushCursorVertex(t.vertex, () => this.emit(\"cursor-update\", new h(this.view, this._activeComponent.vertices.length, this.vertices, null != this._stagedVertex ? new v(this._stagedVertex) : null)));\n  }\n  _completeDrawing() {\n    if (this._drawTool) return void this._drawTool.completeCreateOperation();\n    if (this._activePointerId = null, this._popCursorVertex(), this._committedVertices.length < 3) return;\n    this._abortSnapping(), null != this._snappingManager && this._snappingManager.doneSnapping();\n    const e = new p(this.vertices);\n    this.emit(\"draw-complete\", e), e.defaultPrevented || this.removeAllHandles();\n  }\n};\ne([t()], m.prototype, \"_dragEnabled\", null), e([t()], m.prototype, \"_clickEnabled\", null), e([t({\n  type: s\n})], m.prototype, \"mode\", void 0), m = e([i(\"esri.views.draw.PolygonDrawAction\")], m);\nexport { m as PolygonDrawAction };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport { property as t } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"./DrawAction.js\";\nimport { defaultDrawingMode as r, drawingModes as s } from \"./DrawingMode.js\";\nimport { DrawTool as n } from \"./DrawTool.js\";\nimport { VertexRemoveEvent as d, VertexAddEvent as a, CursorUpdateEvent as h, DrawCompleteEvent as p } from \"./input/DrawEvents.js\";\nimport { ViewEventPriorities as l } from \"../input/InputManager.js\";\nimport { sketchKeys as c } from \"../interactive/keybindings.js\";\nimport { createScreenPointFromEvent as _ } from \"../support/screenUtils.js\";\nimport v from \"../../geometry/Point.js\";\nlet m = class extends o {\n  constructor(e) {\n    super(e), this._panEnabled = !1, this._popVertexOnPointerMove = !1, this._addVertexOnPointerUp = !1, this._drawTool = null, this.mode = r;\n  }\n  initialize() {\n    this._addViewHandles(), \"3d\" === this.view.type && this._addDrawTool();\n  }\n  destroy() {\n    this._removeDrawTool(), this.emit(\"destroy\");\n  }\n  get _clickEnabled() {\n    return \"click\" === this.mode || \"hybrid\" === this.mode;\n  }\n  get _dragEnabled() {\n    return \"freehand\" === this.mode || \"hybrid\" === this.mode;\n  }\n  undo() {\n    this._drawTool ? this._drawTool.undo() : (super.undo(), this.notifyChange(\"vertices\"));\n  }\n  redo() {\n    this._drawTool ? this._drawTool.redo() : (super.redo(), this.notifyChange(\"vertices\"));\n  }\n  canUndo() {\n    return this._drawTool?.canUndo() ?? super.canUndo();\n  }\n  canRedo() {\n    return this._drawTool?.canRedo() ?? super.canRedo();\n  }\n  complete() {\n    this._completeDrawing();\n  }\n  _addViewHandles() {\n    this._addViewHandles2DOnly(), this.addHandles([this.view.on(\"key-down\", e => {\n      const {\n        key: t,\n        repeat: i\n      } = e;\n      t !== c.vertexAdd || i ? t !== c.complete || i ? t !== c.undo || this.interactiveUndoDisabled || i ? t !== c.redo || this.interactiveUndoDisabled || i || (e.stopPropagation(), this.redo()) : (e.stopPropagation(), this.undo()) : (e.stopPropagation(), this._drawCompleteHandler(e)) : (e.stopPropagation(), this._handleVertexAddKey(e));\n    }, l.TOOL)]);\n  }\n  _addViewHandles2DOnly() {\n    \"2d\" === this.view.type && (this.addHandles([this.view.on(\"click\", e => {\n      e.stopPropagation();\n    }, l.TOOL), this.view.on(\"pointer-down\", e => {\n      this._shouldHandlePointerEvent(e) && !this._panEnabled && (this._abortSnapping(), this._activePointerId = e.pointerId, this._addVertexOnPointerUp = !0, this._cursorScreenPoint = _(e), \"touch\" === e.pointerType && this._updateCursor());\n    }, l.TOOL), this.view.on(\"pointer-move\", e => {\n      this._popVertexOnPointerMove && (this.undo(), this._popVertexOnPointerMove = !1), this._abortSnapping(), this._cursorScreenPoint = _(e), \"touch\" !== e.pointerType && this._updateCursor();\n    }, l.TOOL), this.view.on(\"pointer-drag\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._cursorScreenPoint = _(e), this._dragEnabled && !this._panEnabled ? this._vertexAddHandler(e) : this._addVertexOnPointerUp = !1);\n    }, l.TOOL), this.view.on(\"pointer-up\", e => {\n      if (this._shouldHandlePointerEvent(e)) if (this._abortSnapping(), this._activePointerId = null, this._addVertexOnPointerUp) {\n        if (!this._clickEnabled) return 1 === this.vertices.length && this.vertices.pop(), void this._drawCompleteHandler(e);\n        this._vertexAddHandler(e);\n      } else {\n        const t = \"touch\" === e.pointerType;\n        this._updateCursor(t);\n      }\n    }, l.TOOL), this.view.on(\"drag\", e => {\n      this._dragEnabled && null != this._activePointerId && !this._panEnabled && e.stopPropagation();\n    }, l.TOOL), this.view.on(\"drag\", [\"Shift\"], e => {\n      e.stopPropagation();\n    }, l.TOOL), this.view.on(\"double-click\", e => {\n      e.stopPropagation(), this._drawCompleteHandler(e);\n    }, l.TOOL), this.view.on(\"double-click\", [\"Control\"], e => {\n      e.stopPropagation(), this._drawCompleteHandler(e);\n    }, l.TOOL), this.view.on(\"key-down\", e => {\n      const {\n        key: t,\n        repeat: i\n      } = e;\n      t !== c.pan || i || (e.stopPropagation(), this._panEnabled = !0);\n    }, l.TOOL), this.view.on(\"key-up\", e => {\n      e.key === c.pan && (e.stopPropagation(), this._panEnabled = !1);\n    }, l.TOOL)]), this._addUndoRedoHandles());\n  }\n  _handleVertexAddKey(e) {\n    this._drawTool ? this._drawTool.drawOperation.commitStagedVertex() : this._cursorScreenPoint && (this._abortSnapping(), this._vertexAddHandler(e));\n  }\n  _addUndoRedoHandles() {\n    this.addHandles([this._editGeometryOperations.on(\"vertex-remove\", e => {\n      if (this.notifyChange(\"vertices\"), \"undo\" === e.operation) {\n        const t = [...this._committedVertices];\n        null != this._stagedVertex && t.push(this._coordinateHelper.pointToArray(this._stagedVertex)), this.emit(\"undo\", new d(this.view, e.vertices[0].index, t));\n      }\n    }), this._editGeometryOperations.on(\"vertex-add\", e => {\n      if (this.notifyChange(\"vertices\"), \"apply\" === e.operation) {\n        const e = this._committedVertices.length - 1,\n          t = new a(this.view, e, this.vertices);\n        this.emit(\"vertex-add\", t), t.defaultPrevented && (this._popVertexOnPointerMove = !0);\n      } else if (\"redo\" === e.operation) {\n        const t = [...this._committedVertices];\n        null != this._stagedVertex && t.push(this._coordinateHelper.pointToArray(this._stagedVertex)), this.emit(\"redo\", new a(this.view, e.vertices[0].index, t));\n      }\n    })]);\n  }\n  _addDrawTool() {\n    const e = new n({\n      view: this.view,\n      elevationInfo: this.elevationInfo,\n      hasZ: this.hasZ,\n      geometryType: \"polyline\",\n      mode: this.mode\n    });\n    this._drawTool = e, this.view.addAndActivateTool(e), this.addHandles([e.on(\"vertex-add\", t => {\n      if (1 !== t.vertices.length) return;\n      const {\n          view: i\n        } = this,\n        o = t.vertices[0].vertexIndex,\n        r = e.getVertexCoords();\n      this.emit(\"vertex-add\", new a(i, o, r)), \"undo\" !== t.operation && \"redo\" !== t.operation || this.emit(t.operation, new a(i, o, r));\n    }), e.on(\"vertex-remove\", t => {\n      if (1 !== t.vertices.length) return;\n      const {\n          view: i\n        } = this,\n        o = t.vertices[0].vertexIndex,\n        r = e.getVertexCoords();\n      this.emit(\"vertex-remove\", new d(i, o, r)), \"undo\" !== t.operation && \"redo\" !== t.operation || this.emit(t.operation, new d(i, o, r));\n    }), e.on(\"cursor-update\", t => {\n      1 === t.vertices.length && this.emit(\"cursor-update\", new h(this.view, t.vertices[0].vertexIndex, e.getVertexCoords()));\n    }), e.on(\"complete\", t => {\n      this.emit(\"draw-complete\", new p(e.getVertexCoords())), this._removeDrawTool(), this.removeAllHandles();\n    })]);\n  }\n  _removeDrawTool() {\n    this._drawTool && (this.view.tools.remove(this._drawTool), this._drawTool = null);\n  }\n  _addVertex(e) {\n    const t = this._coordinateHelper.arrayToVector(e);\n    this._isDuplicateOfLastVertex(t) || (this._lastVertexUnsnapped = this._stagedVertexUnsnapped, this._popCursorVertex(), this._editGeometryOperations.appendVertex(t));\n  }\n  _updateCursor(e = !1) {\n    if (this._popCursorVertex(), !this._cursorScreenPoint) return;\n    const t = this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);\n    null == t || e || this._pushCursorVertex(t.vertex, () => this.emit(\"cursor-update\", new h(this.view, this._activeComponent.vertices.length, this.vertices, null != this._stagedVertex ? new v(this._stagedVertex) : null)));\n  }\n  _completeDrawing() {\n    if (this._drawTool) return void this._drawTool.completeCreateOperation();\n    if (this._activePointerId = null, this._popCursorVertex(), this._committedVertices.length < 2) return;\n    this._abortSnapping(), null != this._snappingManager && this._snappingManager.doneSnapping();\n    const e = new p(this.vertices);\n    this.emit(\"draw-complete\", e), e.defaultPrevented || this.removeAllHandles();\n  }\n};\ne([t()], m.prototype, \"_clickEnabled\", null), e([t()], m.prototype, \"_dragEnabled\", null), e([t({\n  type: s\n})], m.prototype, \"mode\", void 0), m = e([i(\"esri.views.draw.PolylineDrawAction\")], m);\nexport { m as PolylineDrawAction };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport { property as t } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { ViewingMode as r } from \"../ViewingMode.js\";\nimport o from \"./DrawAction.js\";\nimport { DrawTool as s } from \"./DrawTool.js\";\nimport { VertexAddEvent as n, CursorUpdateEvent as a, DrawCompleteEvent as d } from \"./input/DrawEvents.js\";\nimport { createViewAlignedCoordinateSystem as h } from \"./support/surfaceCoordinateSystems.js\";\nimport { ViewEventPriorities as p } from \"../input/InputManager.js\";\nimport { sketchKeys as l } from \"../interactive/keybindings.js\";\nimport { EditGeometry as c, Component as _ } from \"../interactive/editGeometry/EditGeometry.js\";\nimport { EditGeometryOperations as m } from \"../interactive/editGeometry/EditGeometryOperations.js\";\nimport { createScreenPointFromEvent as g } from \"../support/screenUtils.js\";\nimport v from \"../../geometry/Point.js\";\nconst u = [\"freehand\", \"click\"];\nlet w = class extends o {\n  constructor(e) {\n    super(e), this._isDragging = !1, this._panEnabled = !1, this._addVertexOnPointerUp = !1, this._drawTool = null, this.viewAlignedCoordinateSystem = null, this.mode = \"freehand\";\n  }\n  initialize() {\n    \"2d\" === this.view.type ? this._addViewHandles() : this._addDrawTool();\n  }\n  destroy() {\n    this._removeDrawTool(), this.emit(\"destroy\");\n  }\n  complete() {\n    this._completeDrawing();\n  }\n  _getGeometryZValue() {\n    return this.hasZ && this.vertices.length > 0 ? this.vertices[0][2] : this.defaultZ;\n  }\n  _addViewHandles() {\n    \"click\" === this.mode ? this.addHandles(this._getClickModeViewHandles()) : this.addHandles(this._getDragModeViewHandles());\n  }\n  _getDragModeViewHandles() {\n    return [this.view.on(\"immediate-click\", e => {\n      if (e.stopPropagation(), e.mapPoint && !this._panEnabled) {\n        null != this.getCoordsFromScreenPoint(g(e)) && (this._vertexAddHandler(e), this._drawCompleteHandler(e));\n      }\n    }, p.TOOL), this.view.on(\"pointer-down\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._panEnabled || (this._resetGeometry(), this._addVertexOnPointerUp = !0, this._cursorScreenPoint = g(e), this._activePointerId = e.pointerId, this._vertexAddHandler(e), this._isDragging = !1, \"touch\" === e.pointerType && this._updateCursor()));\n    }, p.TOOL), this.view.on(\"pointer-move\", e => {\n      this._abortSnapping(), null == this._activePointerId && \"touch\" !== e.pointerType && (this._cursorScreenPoint = g(e), this._updateCursor());\n    }, p.TOOL), this.view.on(\"pointer-drag\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._isDragging = !0, this._cursorScreenPoint = g(e), this._updateCursor());\n    }, p.TOOL), this.view.on(\"pointer-up\", e => {\n      this._shouldHandlePointerEvent(e) && this._addVertexOnPointerUp && (this._abortSnapping(), this._activePointerId = null, this._isDragging && this._vertexAddHandler(e), 2 === this._committedVertices.length && this._drawCompleteHandler(e), this._isDragging = !1);\n    }, p.TOOL), this.view.on(\"key-down\", e => {\n      e.key === l.complete && this._cursorScreenPoint ? (this._abortSnapping(), this._vertexAddHandler(e), this._drawCompleteHandler(e)) : e.key === l.pan && (this._panEnabled = !0);\n    }, p.TOOL), this.view.on(\"key-up\", e => {\n      e.key === l.pan && (this._panEnabled = !1);\n    }, p.TOOL), this.view.on(\"drag\", e => {\n      null != this._activePointerId && e.stopPropagation();\n    }, p.TOOL), this.view.on(\"drag\", [\"Shift\"], e => {\n      e.stopPropagation();\n    }, p.TOOL)];\n  }\n  _getClickModeViewHandles() {\n    return [this.view.on(\"pointer-down\", e => {\n      this._abortSnapping(), this._cursorScreenPoint = g(e), this._activePointerId = e.pointerId, this._isDragging = !1, \"touch\" === e.pointerType && this._updateCursor();\n    }, p.TOOL), this.view.on(\"pointer-move\", e => {\n      this._abortSnapping(), this._cursorScreenPoint = g(e), null == this._activePointerId && \"touch\" !== e.pointerType && this._updateCursor();\n    }, p.TOOL), this.view.on(\"pointer-drag\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._isDragging = !0);\n    }, p.TOOL), this.view.on(\"pointer-up\", e => {\n      this._shouldHandlePointerEvent(e) && (this._abortSnapping(), this._activePointerId = null, e.stopPropagation(), this._isDragging || this._vertexAddHandler(e), 2 !== this.vertices.length || this._isDragging || this._drawCompleteHandler(e), this._isDragging = !1);\n    }, p.TOOL), this.view.on(\"key-down\", e => {\n      e.key === l.vertexAdd && this._cursorScreenPoint && (this._vertexAddHandler(e), 2 === this.vertices.length && this._drawCompleteHandler(e)), e.key === l.complete && this._cursorScreenPoint && 2 === this.vertices.length && (this._vertexAddHandler(e), this._drawCompleteHandler(e));\n    }, p.TOOL)];\n  }\n  _addDrawTool() {\n    const e = new s({\n      view: this.view,\n      elevationInfo: this.elevationInfo,\n      hasZ: this.hasZ,\n      geometryType: \"segment\",\n      mode: this.mode\n    });\n    this._drawTool = e, this.view.addAndActivateTool(e), this.addHandles([e.on(\"vertex-add\", t => {\n      1 === t.vertices.length && this.emit(\"vertex-add\", new n(this.view, t.vertices[0].vertexIndex, e.getVertexCoords()));\n    }), e.on(\"cursor-update\", t => {\n      1 === t.vertices.length && this.emit(\"cursor-update\", new a(this.view, t.vertices[0].vertexIndex, e.getVertexCoords()));\n    }), e.on(\"complete\", t => {\n      this.emit(\"draw-complete\", new d(e.getVertexCoords())), this._removeDrawTool();\n    }), this.view.on(\"key-down\", t => {\n      t.key !== l.vertexAdd || t.repeat || \"click\" !== this.mode ? t.key !== l.complete || t.repeat || e.completeCreateOperation() : e.drawOperation.numCommittedVertices > 0 ? e.completeCreateOperation() : e.drawOperation.commitStagedVertex();\n    }, p.TOOL)]);\n  }\n  _removeDrawTool() {\n    this._drawTool && (this.view.tools.remove(this._drawTool), this._drawTool = null);\n  }\n  _addVertex(e) {\n    const t = this._coordinateHelper.arrayToVector(e);\n    if (this._isDuplicateOfLastVertex(t)) return;\n    this._lastVertexUnsnapped = this._stagedVertexUnsnapped, this._popCursorVertex(), this._editGeometryOperations.appendVertex(t), 1 === this._committedVertices.length && (this.viewAlignedCoordinateSystem = h(this.view, this._committedVertices[0]));\n    const i = this._committedVertices.length - 1,\n      r = new n(this.view, i, this.vertices);\n    this.emit(\"vertex-add\", r);\n  }\n  _updateCursor() {\n    if (this._popCursorVertex(), !this._cursorScreenPoint) return;\n    const e = this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);\n    null != e && this._pushCursorVertex(e.vertex, () => this.emit(\"cursor-update\", new a(this.view, this._activeComponent.vertices.length, this.vertices, null != this._stagedVertex ? new v(this._stagedVertex) : null)));\n  }\n  _completeDrawing() {\n    if (this._drawTool) return this._drawTool.completeCreateOperation(), void this.removeAllHandles();\n    if (this._activePointerId = null, this._popCursorVertex(), this._cursorScreenPoint = null, this._isDragging = !1, this._abortSnapping(), null != this._snappingManager && this._snappingManager.doneSnapping(), this.vertices.length < 1) return;\n    const e = new d(this.vertices);\n    this.emit(\"draw-complete\", e), e.defaultPrevented || this.removeAllHandles();\n  }\n  _resetGeometry() {\n    this._editGeometryOperations.destroy(), this._editGeometryOperations = new m(new c(\"polygon\", this._coordinateHelper), r.Local), this._activeComponent = new _(this._coordinateHelper.spatialReference, r.Local), this._editGeometryOperations.data.components.push(this._activeComponent);\n  }\n};\ne([t({\n  type: u\n})], w.prototype, \"mode\", void 0), w = e([i(\"esri.views.draw.SegmentDrawAction\")], w);\nexport { w as SegmentDrawAction };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Accessor.js\";\nimport \"../../core/has.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { MultipointDrawAction as r } from \"./MultipointDrawAction.js\";\nimport { PointDrawAction as c } from \"./PointDrawAction.js\";\nimport { PolygonDrawAction as s } from \"./PolygonDrawAction.js\";\nimport { PolylineDrawAction as n } from \"./PolylineDrawAction.js\";\nimport { SegmentDrawAction as a } from \"./SegmentDrawAction.js\";\nlet p = class extends e {\n  constructor() {\n    super(...arguments), this.activeAction = null, this.type = \"draw\", this.view = null;\n  }\n  destroy() {\n    this.activeAction && (this.activeAction.destroy(), this.activeAction = null);\n  }\n  create(t, e) {\n    this.reset();\n    const o = {\n      view: this.view,\n      ...e\n    };\n    switch (t) {\n      case \"point\":\n        o.editGeometryType = \"point\", this.activeAction = new c(o);\n        break;\n      case \"polyline\":\n        o.editGeometryType = \"polyline\", this.activeAction = new n(o);\n        break;\n      case \"multipoint\":\n        o.editGeometryType = \"polygon\", this.activeAction = new r(o);\n        break;\n      case \"polygon\":\n        o.editGeometryType = \"polygon\", this.activeAction = new s(o);\n        break;\n      case \"rectangle\":\n      case \"circle\":\n      case \"ellipse\":\n      case \"triangle\":\n        o.editGeometryType = \"polygon\", this.activeAction = new a(o);\n    }\n    return this.activeAction;\n  }\n  complete() {\n    this.activeAction && this.activeAction.complete(), this.activeAction = null;\n  }\n  reset() {\n    this.activeAction && this.activeAction.destroy(), this.activeAction = null;\n  }\n};\nt([o()], p.prototype, \"activeAction\", void 0), t([o({\n  readOnly: !0\n})], p.prototype, \"type\", void 0), t([o()], p.prototype, \"view\", void 0), p = t([i(\"esri.views.draw.Draw\")], p);\nconst l = p;\nexport { l as default };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAI;AACJ,IAAIA,KAAI,IAAI,cAAc,EAAE,gBAAgB;AAAA,EAC1C,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,QAAQ,MAAM,KAAK,qBAAqB,MAAM,KAAK,mBAAmB,MAAM,KAAK,yBAAyB,MAAM,KAAK,uBAAuB,MAAM,KAAK,0BAA0B,OAAI,KAAK,UAAU,CAAC,GAAG,KAAK,cAAc,CAAC,GAAG,KAAK,cAAc,OAAI,KAAK,OAAO,MAAM,KAAK,gBAAgB,MAAM,KAAK,WAAW,GAAG,KAAK,oBAAoB,EAAE,CAAC,CAACA,GAAE,MAAM,OAAIA,GAAE,KAAK,gBAAgB,GAAG,KAAK,mBAAmBA,GAAE,iBAAiB,KAAK,0BAA0B,IAAI,EAAE,IAAI,EAAEA,GAAE,oBAAoB,WAAW,KAAK,iBAAiB,GAAG,EAAE,KAAK,GAAG,KAAK,yBAAyB,IAAI,EAAE;AAAA,MACpkB,IAAI,EAAE;AAAA,MACN,UAAU;AAAA,MACV,UAAU;AAAA,IACZ,CAAC,GAAG,KAAK,mBAAmB,IAAIA,GAAE;AAAA,MAChC,wBAAwB,KAAK;AAAA,MAC7B,eAAe;AAAA,QACb,MAAM;AAAA,QACN,QAAQ;AAAA,MACV;AAAA,MACA,SAAS;AAAA,MACT,YAAY,IAAI,EAAE,KAAK,sBAAsB;AAAA,IAC/C,CAAC,GAAG,KAAK,mBAAmB,IAAIC,GAAED,GAAE,KAAK,kBAAkB,EAAE,KAAK,GAAG,KAAK,wBAAwB,KAAK,WAAW,KAAK,KAAK,gBAAgB;AAAA,EAC9I;AAAA,EACA,kBAAkBA,IAAG;AACnB,UAAM,IAAI,mBACLA;AAEL,WAAO,OAAO,EAAE,kBAAkB,OAAO,EAAE,iBAAiB;AAAA,EAC9D;AAAA,EACA,aAAa;AACX,SAAK,qBAAqB,IAAIE,GAAE;AAAA,MAC9B,MAAM,KAAK;AAAA,IACb,CAAC,GAAG,SAAS,KAAK,KAAK,QAAQ,KAAK,KAAK,IAAI,OAAO,IAAI,KAAK,sBAAsB;AAAA,EACrF;AAAA,EACA,UAAU;AACR,SAAK,KAAK,IAAI,OAAO,OAAO,KAAK,sBAAsB,GAAG,KAAK,uBAAuB,QAAQ,GAAG,QAAQ,KAAK,oBAAoB,KAAK,iBAAiB,aAAa,GAAG,KAAK,qBAAqB,EAAE,KAAK,kBAAkB,GAAG,KAAK,wBAAwB,QAAQ;AAAA,EACrQ;AAAA,EACA,IAAI,qBAAqB;AACvB,WAAO,KAAK,wBAAwB,KAAK,WAAW,CAAC,EAAE,SAAS,IAAI,CAAAF,OAAKA,GAAE,GAAG;AAAA,EAChF;AAAA,EACA,IAAI,WAAW;AACb,WAAO,QAAQ,KAAK,gBAAgB,CAAC,GAAG,KAAK,oBAAoB,KAAK,kBAAkB,aAAa,KAAK,aAAa,CAAC,IAAI,KAAK;AAAA,EACnI;AAAA,EACA,IAAI,OAAO;AACT,WAAO,QAAQ,KAAK,QAAQ,KAAK,QAAQ,SAAS,KAAK,KAAK;AAAA,EAC9D;AAAA,EACA,IAAI,KAAKA,IAAG;AACV,SAAK,QAAQA,IAAG,KAAK,aAAa,MAAM;AAAA,EAC1C;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,mBAAmB;AAAA,EACjC;AAAA,EACA,IAAI,cAAcA,IAAG;AACnB,SAAK,mBAAmB,cAAc,EAAEA,EAAC;AAAA,EAC3C;AAAA,EACA,UAAU;AACR,WAAO,KAAK,wBAAwB;AAAA,EACtC;AAAA,EACA,UAAU;AACR,WAAO,KAAK,wBAAwB;AAAA,EACtC;AAAA,EACA,OAAO;AACL,SAAK,WAAW,KAAK,wBAAwB,KAAK;AAAA,EACpD;AAAA,EACA,OAAO;AACL,SAAK,WAAW,KAAK,wBAAwB,KAAK;AAAA,EACpD;AAAA,EACA,yBAAyBA,IAAG;AAC1B,UAAM,IAAIA,MAAK,KAAK,YAAYA,EAAC;AACjC,WAAO,QAAQ,IAAI,OAAO,EAAE,OAAO,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;AAAA,EAChE;AAAA,EACA,iCAAiCA,IAAG;AAClC,UAAM,IAAI,KAAK,YAAYA,EAAC;AAC5B,WAAO,QAAQ,IAAI,OAAO,EAAE,OAAO;AAAA,MACjC,QAAQ,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAAA,MACtB,UAAU;AAAA,IACZ,IAAI;AAAA,MACF,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC;AAAA,MACjB,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EACA,YAAYA,IAAG;AACb,QAAI,IAAI;AACR,QAAI,SAAS,KAAK,KAAK,MAAM;AAC3B,UAAI,KAAK,MAAM;AACb,cAAMG,KAAI,KAAK,iBAAiB;AAChC,YAAI,KAAK,KAAK,wBAAwB,6BAA6B,EAAEH,GAAE,GAAGA,GAAE,CAAC,GAAGG,IAAG,KAAK,mBAAmB,CAAC;AAAA,MAC9G,OAAO;AACL,cAAMA,KAAI,KAAK,iBAAiB;AAChC,YAAI,KAAK,KAAK,wBAAwB,6BAA6B,EAAEH,GAAE,GAAGA,GAAE,CAAC,GAAGG,IAAG,CAAC,GAAG,QAAQ,MAAM,EAAE,IAAI;AAAA,MAC7G;AAAA,IACF,MAAO,KAAI,KAAK,KAAK,MAAMH,EAAC,GAAG,QAAQ,MAAM,EAAE,IAAI,KAAK,OAAO,KAAK,mBAAmB,IAAI;AAC3F,WAAO;AAAA,EACT;AAAA,EACA,kBAAkBA,IAAG,GAAG;AACtB,UAAMG,KAAIH,GAAEA,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAG,QAAQ,KAAK,KAAK,gBAAgB;AAC1D,SAAK,yBAAyBG;AAC9B,UAAMC,KAAI,KAAK;AACf,QAAI,QAAQA,GAAG,QAAO,KAAK,gBAAgBD,IAAG,KAAK,EAAE;AACrD,MAAE,KAAK,mBAAmB,KAAK;AAAA,MAC7B,OAAOA;AAAA,IACT,GAAGC,IAAG,KAAK,gBAAgB,CAAC,EAAE,KAAK,MAAM;AACvC,QAAE;AAAA,IACJ,CAAC;AAAA,EACH;AAAA,EACA,mBAAmB;AACjB,SAAK,yBAAyB,MAAM,KAAK,gBAAgB;AAAA,EAC3D;AAAA,EACA,qBAAqB;AACnB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,iBAAiB;AACf,SAAK,mBAAmB,MAAM;AAAA,EAChC;AAAA,EACA,yBAAyBJ,IAAG;AAC1B,UAAM,IAAI,KAAK,wBAAwB,KAAK,WAAW,CAAC,EAAE,cAAc,GAAG;AAC3E,QAAI,KAAKA,GAAE,CAAC,MAAM,EAAE,CAAC,KAAKA,GAAE,CAAC,MAAM,EAAE,CAAC,EAAG,QAAO;AAChD,UAAM;AAAA,MACJ,GAAGG;AAAA,MACH,GAAGC;AAAA,IACL,IAAI,KAAK,kBAAkB,wBAAwBJ,EAAC;AACpD,WAAO,QAAQ,KAAK,wBAAwBG,OAAM,KAAK,qBAAqB,KAAKC,OAAM,KAAK,qBAAqB;AAAA,EACnH;AAAA,EACA,0BAA0BJ,IAAG;AAC3B,WAAO,EAAEA,EAAC,MAAM,QAAQ,KAAK,oBAAoB,KAAK,qBAAqBA,GAAE;AAAA,EAC/E;AAAA,EACA,kBAAkBA,IAAG;AACnB,UAAM,IAAI,QAAQ,KAAK,gBAAgB,KAAK,kBAAkB,aAAa,KAAK,aAAa,IAAI,KAAK,yBAAyB,KAAK,kBAAkB;AACtJ,YAAQ,KAAK,KAAK,WAAW,GAAGA,GAAE,MAAM;AAAA,EAC1C;AAAA,EACA,qBAAqBA,IAAG;AACtB,SAAK,iBAAiBA,GAAE,MAAM;AAAA,EAChC;AACF;AACAD,GAAE,6BAA6B,sCAAsC,EAAE,CAAC,EAAE;AAAA,EACxE,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,YAAY,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EACxC,MAAM;AAAA,EACN,aAAa;AACf,CAAC,CAAC,GAAGA,GAAE,WAAW,2BAA2B,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EACzD,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,WAAW,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EACzC,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,eAAe,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,eAAe,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,iBAAiB,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAClL,aAAa;AACf,CAAC,CAAC,GAAGA,GAAE,WAAW,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,QAAQ,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,sBAAsB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,iBAAiB,IAAI,GAAGA,KAAI,IAAI,EAAE,CAACE,GAAE,4BAA4B,CAAC,GAAGF,EAAC;AAC7N,IAAM,IAAI;AAAA,EACN,MAAM;AAAA,EACN,QAAQ;AACV;AAHF,IAIE,IAAI;AAAA,EACF,MAAM;AAAA,EACN,QAAQ;AACV;AACF,SAAS,EAAEC,IAAG;AACZ,SAAO,YAAYA,GAAE,eAAe,MAAMA,GAAE;AAC9C;AACA,IAAM,IAAID;;;AC1KV,IAAMM,KAAN,MAAQ;AAAA,EACN,YAAYA,IAAG,GAAGC,IAAG;AACnB,SAAK,OAAOD,IAAG,KAAK,cAAc,GAAG,KAAK,WAAWC,IAAG,KAAK,mBAAmB,OAAI,KAAK,OAAO;AAAA,EAClG;AAAA,EACA,iBAAiB;AACf,SAAK,mBAAmB;AAAA,EAC1B;AACF;AASA,IAAM,IAAN,MAAQ;AAAA,EACN,YAAYC,IAAG,GAAGC,IAAG;AACnB,SAAK,OAAOD,IAAG,KAAK,cAAc,GAAG,KAAK,WAAWC,IAAG,KAAK,mBAAmB,OAAI,KAAK,OAAO;AAAA,EAClG;AAAA,EACA,iBAAiB;AACf,SAAK,mBAAmB;AAAA,EAC1B;AACF;AACA,IAAMC,KAAN,MAAQ;AAAA,EACN,YAAYF,IAAG,GAAGC,IAAGC,KAAI,MAAM;AAC7B,SAAK,OAAOF,IAAG,KAAK,cAAc,GAAG,KAAK,WAAWC,IAAG,KAAK,WAAWC,IAAG,KAAK,cAAc,MAAM,KAAK,mBAAmB,OAAI,KAAK,OAAO,iBAAiB,KAAK,cAAc,MAAMD,GAAE,SAASA,GAAE,CAAC,IAAI;AAAA,EAC1M;AAAA,EACA,iBAAiB;AACf,SAAK,mBAAmB;AAAA,EAC1B;AACF;AACA,IAAM,IAAN,MAAQ;AAAA,EACN,YAAYD,IAAG;AACb,SAAK,WAAWA,IAAG,KAAK,cAAc,MAAM,KAAK,mBAAmB,OAAI,KAAK,OAAO,iBAAiB,KAAK,cAAc,MAAMA,GAAE,SAASA,GAAE,CAAC,IAAI;AAAA,EAClJ;AAAA,EACA,iBAAiB;AACf,SAAK,mBAAmB;AAAA,EAC1B;AACF;;;AC1BA,IAAMG,KAAI,OAAO,cAAc;AAA/B,IACEC,KAAI,OAAO,mBAAmB;AAChC,IAAIC,KAAI,cAAc,EAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,0BAA0B,OAAI,KAAK,wBAAwB;AAAA,EAC5E;AAAA,EACA,aAAa;AACX,SAAK,gBAAgB,GAAG,KAAK,oBAAoB;AAAA,EACnD;AAAA,EACA,UAAU;AACR,SAAK,mBAAmB,GAAG,KAAK,uBAAuB,GAAG,KAAK,KAAK,SAAS;AAAA,EAC/E;AAAA,EACA,OAAO;AACL,UAAM,KAAK,GAAG,KAAK,aAAa,UAAU;AAAA,EAC5C;AAAA,EACA,OAAO;AACL,UAAM,KAAK,GAAG,KAAK,aAAa,UAAU;AAAA,EAC5C;AAAA,EACA,WAAW;AACT,SAAK,iBAAiB;AAAA,EACxB;AAAA,EACA,kBAAkB;AAChB,SAAK,mBAAmB,GAAG,KAAK,WAAW,CAAC,KAAK,KAAK,GAAG,SAAS,CAAAA,OAAK;AACrE,MAAAA,GAAE,gBAAgB;AAAA,IACpB,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAC,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,mBAAmBA,GAAE,WAAW,KAAK,wBAAwB,MAAI,KAAK,qBAAqB,EAAEA,EAAC,GAAG,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IACrN,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAC,OAAK;AAC5C,WAAK,4BAA4B,KAAK,KAAK,GAAG,KAAK,0BAA0B,QAAK,KAAK,eAAe,GAAG,KAAK,qBAAqB,EAAEA,EAAC,GAAG,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IAC3L,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAC,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,wBAAwB;AAAA,IAC5F,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,cAAc,CAAAC,OAAK;AAC1C,UAAI,KAAK,0BAA0BA,EAAC,EAAG,KAAI,KAAK,eAAe,GAAG,KAAK,mBAAmB,MAAM,KAAK,sBAAuB,MAAK,kBAAkBA,EAAC;AAAA,WAAO;AACzJ,cAAM,IAAI,YAAYA,GAAE;AACxB,aAAK,cAAc,CAAC;AAAA,MACtB;AAAA,IACF,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,QAAQ,CAAC,OAAO,GAAG,CAAAC,OAAK;AAC/C,MAAAA,GAAE,gBAAgB;AAAA,IACpB,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAC,OAAK;AAC5C,MAAAA,GAAE,gBAAgB,GAAG,KAAK,qBAAqBA,EAAC;AAAA,IAClD,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAC,SAAS,GAAG,CAAAC,OAAK;AACzD,MAAAA,GAAE,gBAAgB,GAAG,KAAK,qBAAqBA,EAAC;AAAA,IAClD,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,YAAY,CAAAC,OAAK;AACxC,YAAM;AAAA,QACJ,KAAK;AAAA,QACL,QAAQC;AAAA,MACV,IAAID;AACJ,YAAME,GAAE,aAAa,CAACD,MAAK,KAAK,sBAAsBD,GAAE,gBAAgB,GAAG,KAAK,eAAe,GAAG,KAAK,kBAAkBA,EAAC,KAAK,MAAME,GAAE,YAAYD,KAAI,MAAMC,GAAE,QAAQ,KAAK,2BAA2BD,KAAI,MAAMC,GAAE,QAAQ,KAAK,2BAA2BD,KAAI,MAAMC,GAAE,OAAOD,MAAKD,GAAE,gBAAgB,KAAKA,GAAE,gBAAgB,GAAG,KAAK,KAAK,MAAMA,GAAE,gBAAgB,GAAG,KAAK,KAAK,MAAMA,GAAE,gBAAgB,GAAG,KAAK,qBAAqBA,EAAC;AAAA,IACta,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,UAAU,CAAAC,OAAK;AACtC,MAAAA,GAAE,QAAQE,GAAE,OAAOF,GAAE,gBAAgB;AAAA,IACvC,GAAGD,GAAE,IAAI,CAAC,GAAGF,EAAC;AAAA,EAChB;AAAA,EACA,sBAAsB;AACpB,SAAK,uBAAuB,GAAG,KAAK,WAAW,CAAC,KAAK,wBAAwB,GAAG,iBAAiB,CAAAG,OAAK;AACpG,UAAI,KAAK,aAAa,UAAU,GAAG,WAAWA,GAAE,WAAW;AACzD,cAAM,IAAI,CAAC,GAAG,KAAK,kBAAkB;AACrC,gBAAQ,KAAK,iBAAiB,EAAE,KAAK,KAAK,kBAAkB,aAAa,KAAK,aAAa,CAAC,GAAG,KAAK,KAAK,QAAQ,IAAI,EAAE,KAAK,MAAMA,GAAE,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;AAAA,MAC3J;AAAA,IACF,CAAC,GAAG,KAAK,wBAAwB,GAAG,cAAc,CAAAA,OAAK;AACrD,UAAI,KAAK,aAAa,UAAU,GAAG,YAAYA,GAAE,WAAW;AAC1D,cAAMA,KAAI,KAAK,mBAAmB,SAAS,GACzC,IAAI,IAAIA,GAAE,KAAK,MAAMA,IAAG,KAAK,QAAQ;AACvC,aAAK,KAAK,cAAc,CAAC,GAAG,EAAE,qBAAqB,KAAK,0BAA0B;AAAA,MACpF,WAAW,WAAWA,GAAE,WAAW;AACjC,cAAM,IAAI,CAAC,GAAG,KAAK,kBAAkB;AACrC,gBAAQ,KAAK,iBAAiB,EAAE,KAAK,KAAK,kBAAkB,aAAa,KAAK,aAAa,CAAC,GAAG,KAAK,KAAK,QAAQ,IAAIA,GAAE,KAAK,MAAMA,GAAE,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;AAAA,MAC3J;AAAA,IACF,CAAC,CAAC,GAAGF,EAAC;AAAA,EACR;AAAA,EACA,qBAAqB;AACnB,SAAK,cAAcD,EAAC;AAAA,EACtB;AAAA,EACA,yBAAyB;AACvB,SAAK,cAAcC,EAAC;AAAA,EACtB;AAAA,EACA,WAAWE,IAAG;AACZ,UAAM,IAAI,KAAK,kBAAkB,cAAcA,EAAC;AAChD,SAAK,yBAAyB,CAAC,KAAK,KAAK,wBAAwB,aAAa,CAAC;AAAA,EACjF;AAAA,EACA,cAAcA,KAAI,OAAI;AACpB,QAAI,KAAK,iBAAiB,GAAG,CAAC,KAAK,mBAAoB;AACvD,UAAM,IAAI,KAAK,iCAAiC,KAAK,kBAAkB;AACvE,YAAQ,KAAKA,MAAK,KAAK,kBAAkB,EAAE,QAAQ,MAAM,KAAK,KAAK,iBAAiB,IAAIC,GAAE,KAAK,MAAM,KAAK,iBAAiB,SAAS,QAAQ,KAAK,UAAU,QAAQ,KAAK,gBAAgB,IAAI,EAAE,KAAK,aAAa,IAAI,IAAI,CAAC,CAAC;AAAA,EAC5N;AAAA,EACA,mBAAmB;AACjB,QAAI,KAAK,mBAAmB,MAAM,KAAK,iBAAiB,GAAG,KAAK,eAAe,GAAG,QAAQ,KAAK,oBAAoB,KAAK,iBAAiB,aAAa,GAAG,KAAK,SAAS,SAAS,EAAG;AACnL,UAAMD,KAAI,IAAI,EAAE,KAAK,QAAQ;AAC7B,SAAK,KAAK,iBAAiBA,EAAC,GAAGA,GAAE,oBAAoB,KAAK,mBAAmB;AAAA,EAC/E;AACF;AACAD,KAAI,EAAE,CAACI,GAAE,sCAAsC,CAAC,GAAGJ,EAAC;;;AC1FpD,IAAIK,KAAI,cAAc,EAAE,aAAaC,EAAC,EAAE;AAAA,EACtC,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,WAAW,GAAG,KAAK,gBAAgB,MAAM,KAAK,OAAO,MAAI,KAAK,OAAO,MAAM,KAAK,cAAc,MAAM,KAAK,OAAO;AAAA,EACjI;AAAA,EACA,aAAa;AACX,UAAMA,KAAI,KAAK,MACb,IAAIC,GAAE,KAAK,MAAM,KAAK,aAAa;AACrC,SAAK,gBAAgB,IAAIC,GAAE;AAAA,MACzB,MAAMF;AAAA,MACN,cAAc,KAAK;AAAA,MACnB,cAAc,KAAK;AAAA,MACnB,aAAa,KAAK;AAAA,MAClB,MAAM,KAAK;AAAA,MACX,UAAU,KAAK;AAAA,MACf,oBAAoB,KAAK;AAAA,MACzB,aAAa,SAASA,GAAE,OAAO,IAAIF,GAAEE,IAAG,CAAC,IAAI;AAAA,MAC7C,sBAAsB,SAASA,GAAE,OAAO,IAAIG,GAAE,GAAG,KAAK,UAAUH,EAAC,IAAI;AAAA,MACrE,MAAM;AAAA,MACN,eAAe;AAAA,IACjB,CAAC,GAAG,KAAK,WAAW,CAAC,KAAK,cAAc,GAAG,cAAc,CAAAA,OAAK,KAAK,YAAYA,EAAC,CAAC,GAAG,KAAK,cAAc,GAAG,iBAAiB,CAAAA,OAAK,KAAK,eAAeA,EAAC,CAAC,GAAG,KAAK,cAAc,GAAG,iBAAiB,CAAAA,OAAK,KAAK,eAAeA,EAAC,CAAC,GAAG,KAAK,cAAc,GAAG,iBAAiB,CAAAA,OAAK,KAAK,eAAeA,EAAC,CAAC,GAAG,KAAK,cAAc,GAAG,YAAY,CAAAA,OAAK,KAAK,WAAWA,EAAC,CAAC,CAAC,CAAC,GAAG,KAAK,mBAAmB;AAAA,EAC3X;AAAA,EACA,UAAU;AACR,SAAK,gBAAgB,EAAE,KAAK,aAAa,GAAG,KAAK,KAAK,QAAQ,IAAI;AAAA,EACpE;AAAA,EACA,IAAI,QAAQA,IAAG;AACb,SAAK,cAAc,cAAcA,IAAG,KAAK,KAAK,WAAWA,EAAC;AAAA,EAC5D;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,eAAe,YAAY;AAAA,EACzC;AAAA,EACA,0BAA0B;AACxB,SAAK,cAAc,SAAS;AAAA,EAC9B;AAAA,EACA,eAAe;AACb,SAAK,cAAc,eAAe,KAAK,cAAc,OAAO;AAAA,EAC9D;AAAA,EACA,kBAAkB;AAChB,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,aAAaA,IAAG;AACd,SAAK,cAAc,aAAaA,EAAC;AAAA,EACnC;AAAA,EACA,UAAU;AACR,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,UAAU;AACR,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,OAAO;AACL,SAAK,cAAc,KAAK;AAAA,EAC1B;AAAA,EACA,QAAQ;AAAA,EAAC;AAAA,EACT,OAAO;AACL,SAAK,cAAc,KAAK;AAAA,EAC1B;AAAA,EACA,WAAWA,IAAG;AACZ,SAAK,KAAK,YAAYA,EAAC;AAAA,EACzB;AAAA,EACA,eAAeA,IAAG;AAChB,SAAK,KAAK,iBAAiBA,EAAC;AAAA,EAC9B;AAAA,EACA,YAAYA,IAAG;AACb,SAAK,KAAK,cAAcA,EAAC;AAAA,EAC3B;AAAA,EACA,eAAeA,IAAG;AAChB,SAAK,KAAK,iBAAiBA,EAAC;AAAA,EAC9B;AAAA,EACA,eAAeA,IAAG;AAChB,SAAK,KAAK,iBAAiBA,EAAC;AAAA,EAC9B;AACF;AACA,EAAE,CAAC,EAAE;AAAA,EACH,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAGF,GAAE,WAAW,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,iBAAiB,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC1F,eAAe;AACjB,CAAC,CAAC,GAAGA,GAAE,WAAW,iBAAiB,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC/C,OAAO;AACT,CAAC,CAAC,GAAGA,GAAE,WAAW,WAAW,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EACvC,eAAe;AACjB,CAAC,CAAC,GAAGA,GAAE,WAAW,gBAAgB,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC9C,eAAe;AACjB,CAAC,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EACtC,eAAe;AACjB,CAAC,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,eAAe,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EACpF,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EACtC,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,YAAY,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EACxC,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAGA,KAAI,EAAE,CAACM,GAAE,0BAA0B,CAAC,GAAGN,EAAC;;;ACzF3E,IAAIO,KAAI,cAAc,EAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,wBAAwB,OAAI,KAAK,YAAY;AAAA,EAC9D;AAAA,EACA,aAAa;AACX,SAAK,gBAAgB,GAAG,SAAS,KAAK,KAAK,QAAQ,KAAK,aAAa;AAAA,EACvE;AAAA,EACA,UAAU;AACR,SAAK,gBAAgB,GAAG,KAAK,KAAK,SAAS;AAAA,EAC7C;AAAA,EACA,WAAW;AACT,SAAK,iBAAiB;AAAA,EACxB;AAAA,EACA,kBAAkB;AAChB,SAAK,sBAAsB,GAAG,KAAK,WAAW,CAAC,KAAK,KAAK,GAAG,YAAY,CAAAA,OAAK;AAC3E,MAAAA,GAAE,QAAQC,GAAE,aAAa,KAAK,YAAY,KAAK,SAAS,KAAK,KAAK,eAAe,GAAG,KAAK,kBAAkBD,EAAC;AAAA,IAC9G,GAAGE,GAAE,IAAI,CAAC,CAAC;AAAA,EACb;AAAA,EACA,wBAAwB;AACtB,aAAS,KAAK,KAAK,QAAQ,KAAK,WAAW,CAAC,KAAK,KAAK,GAAG,gBAAgB,CAAAF,OAAK;AAC5E,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,mBAAmBA,GAAE,WAAW,KAAK,wBAAwB,MAAI,KAAK,qBAAqB,EAAEA,EAAC,GAAG,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IACrN,GAAGE,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAF,OAAK;AAC5C,WAAK,eAAe,GAAG,KAAK,qBAAqB,EAAEA,EAAC,GAAG,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IACzG,GAAGE,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAF,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,wBAAwB;AAAA,IAC5F,GAAGE,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,cAAc,CAAAF,OAAK;AAC1C,UAAI,KAAK,0BAA0BA,EAAC,EAAG,KAAI,KAAK,eAAe,GAAG,KAAK,mBAAmB,MAAM,KAAK,sBAAuB,CAAAA,GAAE,gBAAgB,GAAG,KAAK,kBAAkBA,EAAC;AAAA,WAAO;AAC9K,cAAM,IAAI,YAAYA,GAAE;AACxB,aAAK,cAAc,CAAC;AAAA,MACtB;AAAA,IACF,GAAGE,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,QAAQ,CAAC,OAAO,GAAG,CAAAF,OAAK;AAC/C,MAAAA,GAAE,gBAAgB;AAAA,IACpB,GAAGE,GAAE,IAAI,CAAC,CAAC;AAAA,EACb;AAAA,EACA,eAAe;AACb,UAAMF,KAAI,IAAIG,GAAE;AAAA,MACd,MAAM,KAAK;AAAA,MACX,eAAe,KAAK;AAAA,MACpB,MAAM,KAAK;AAAA,MACX,cAAc;AAAA,MACd,MAAM;AAAA,IACR,CAAC;AACD,SAAK,YAAYH,IAAG,KAAK,KAAK,mBAAmBA,EAAC,GAAG,KAAK,WAAW,CAACA,GAAE,GAAG,iBAAiB,OAAK;AAC/F,YAAM,EAAE,SAAS,UAAU,KAAK,KAAK,iBAAiB,IAAII,GAAE,KAAK,MAAM,EAAE,SAAS,CAAC,EAAE,aAAaJ,GAAE,gBAAgB,CAAC,CAAC;AAAA,IACxH,CAAC,GAAGA,GAAE,GAAG,YAAY,OAAK;AACxB,WAAK,KAAK,iBAAiB,IAAI,EAAEA,GAAE,gBAAgB,CAAC,CAAC,GAAG,KAAK,gBAAgB,GAAG,KAAK,iBAAiB;AAAA,IACxG,CAAC,CAAC,CAAC;AAAA,EACL;AAAA,EACA,kBAAkB;AAChB,SAAK,cAAc,KAAK,KAAK,MAAM,OAAO,KAAK,SAAS,GAAG,KAAK,YAAY;AAAA,EAC9E;AAAA,EACA,WAAWA,IAAG;AACZ,UAAM,IAAI,KAAK,kBAAkB,cAAcA,EAAC;AAChD,SAAK,yBAAyB,CAAC,MAAM,KAAK,uBAAuB,KAAK,wBAAwB,KAAK,iBAAiB,GAAG,KAAK,wBAAwB,aAAa,CAAC,GAAG,KAAK,aAAa,UAAU,GAAG,KAAK,iBAAiB;AAAA,EAC5N;AAAA,EACA,cAAcA,KAAI,OAAI;AACpB,QAAI,KAAK,iBAAiB,GAAG,CAAC,KAAK,mBAAoB;AACvD,UAAM,IAAI,KAAK,iCAAiC,KAAK,kBAAkB;AACvE,YAAQ,KAAKA,MAAK,KAAK,kBAAkB,EAAE,QAAQ,MAAM,KAAK,KAAK,iBAAiB,IAAII,GAAE,KAAK,MAAM,KAAK,iBAAiB,SAAS,QAAQ,KAAK,UAAU,QAAQ,KAAK,gBAAgB,IAAI,EAAE,KAAK,aAAa,IAAI,IAAI,CAAC,CAAC;AAAA,EAC5N;AAAA,EACA,mBAAmB;AACjB,QAAI,KAAK,UAAW,QAAO,KAAK,KAAK,UAAU,wBAAwB;AACvE,SAAK,mBAAmB,MAAM,KAAK,iBAAiB,GAAG,KAAK,eAAe,GAAG,QAAQ,KAAK,oBAAoB,KAAK,iBAAiB,aAAa;AAClJ,UAAMJ,KAAI,IAAI,EAAE,KAAK,QAAQ;AAC7B,SAAK,KAAK,iBAAiBA,EAAC,GAAGA,GAAE,oBAAoB,KAAK,iBAAiB;AAAA,EAC7E;AACF;AACAD,KAAI,EAAE,CAACM,GAAE,iCAAiC,CAAC,GAAGN,EAAC;;;AClE/C,IAAI,IAAI,cAAc,EAAE;AAAA,EACtB,YAAYO,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,cAAc,OAAI,KAAK,0BAA0B,OAAI,KAAK,wBAAwB,OAAI,KAAK,YAAY,MAAM,KAAK,OAAOA;AAAA,EAC1I;AAAA,EACA,aAAa;AACX,SAAK,gBAAgB,GAAG,SAAS,KAAK,KAAK,QAAQ,KAAK,aAAa;AAAA,EACvE;AAAA,EACA,UAAU;AACR,SAAK,gBAAgB,GAAG,KAAK,KAAK,SAAS;AAAA,EAC7C;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,eAAe,KAAK,QAAQ,aAAa,KAAK;AAAA,EACvD;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,YAAY,KAAK,QAAQ,aAAa,KAAK;AAAA,EACpD;AAAA,EACA,OAAO;AACL,SAAK,YAAY,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,GAAG,KAAK,aAAa,UAAU;AAAA,EACtF;AAAA,EACA,OAAO;AACL,SAAK,YAAY,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,GAAG,KAAK,aAAa,UAAU;AAAA,EACtF;AAAA,EACA,UAAU;AACR,WAAO,KAAK,WAAW,QAAQ,KAAK,MAAM,QAAQ;AAAA,EACpD;AAAA,EACA,UAAU;AACR,WAAO,KAAK,WAAW,QAAQ,KAAK,MAAM,QAAQ;AAAA,EACpD;AAAA,EACA,WAAW;AACT,SAAK,iBAAiB;AAAA,EACxB;AAAA,EACA,qBAAqB;AACnB,WAAO,KAAK,QAAQ,KAAK,SAAS,SAAS,IAAI,KAAK,SAAS,CAAC,EAAE,CAAC,IAAI,KAAK;AAAA,EAC5E;AAAA,EACA,kBAAkB;AAChB,SAAK,sBAAsB,GAAG,KAAK,WAAW,KAAK,KAAK,GAAG,YAAY,CAAAA,OAAK;AAC1E,YAAM;AAAA,QACJ,KAAK;AAAA,QACL,QAAQC;AAAA,MACV,IAAID;AACJ,YAAME,GAAE,aAAaD,KAAI,MAAMC,GAAE,YAAYD,KAAI,MAAMC,GAAE,QAAQ,KAAK,2BAA2BD,KAAI,MAAMC,GAAE,QAAQ,KAAK,2BAA2BD,OAAMD,GAAE,gBAAgB,GAAG,KAAK,KAAK,MAAMA,GAAE,gBAAgB,GAAG,KAAK,KAAK,MAAMA,GAAE,gBAAgB,GAAG,KAAK,qBAAqBA,EAAC,MAAMA,GAAE,gBAAgB,GAAG,KAAK,oBAAoBA,EAAC;AAAA,IAC5U,GAAGG,GAAE,IAAI,CAAC;AAAA,EACZ;AAAA,EACA,wBAAwB;AACtB,aAAS,KAAK,KAAK,SAAS,KAAK,WAAW,CAAC,KAAK,KAAK,GAAG,SAAS,CAAAH,OAAK;AACtE,MAAAA,GAAE,gBAAgB;AAAA,IACpB,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAH,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,mBAAmBA,GAAE,WAAW,KAAK,wBAAwB,MAAI,KAAK,qBAAqB,EAAEA,EAAC,GAAG,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IACrN,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAH,OAAK;AAC5C,WAAK,eAAe,GAAG,KAAK,4BAA4B,KAAK,KAAK,GAAG,KAAK,0BAA0B,QAAK,KAAK,qBAAqB,EAAEA,EAAC,GAAG,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IAC3L,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAH,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,qBAAqB,EAAEA,EAAC,GAAG,KAAK,gBAAgB,CAAC,KAAK,cAAc,KAAK,kBAAkBA,EAAC,IAAI,KAAK,wBAAwB;AAAA,IACjM,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,cAAc,CAAAH,OAAK;AAC1C,UAAI,KAAK,0BAA0BA,EAAC,EAAG,KAAI,KAAK,eAAe,GAAG,KAAK,mBAAmB,MAAM,KAAK,uBAAuB;AAC1H,YAAI,CAAC,KAAK,cAAe,QAAO,MAAM,KAAK,SAAS,UAAU,KAAK,SAAS,IAAI,GAAG,KAAK,KAAK,qBAAqBA,EAAC;AACnH,aAAK,kBAAkBA,EAAC;AAAA,MAC1B,OAAO;AACL,cAAM,IAAI,YAAYA,GAAE;AACxB,aAAK,cAAc,CAAC;AAAA,MACtB;AAAA,IACF,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,QAAQ,CAAAH,OAAK;AACpC,WAAK,gBAAgB,QAAQ,KAAK,oBAAoB,CAAC,KAAK,eAAeA,GAAE,gBAAgB;AAAA,IAC/F,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,QAAQ,CAAC,OAAO,GAAG,CAAAH,OAAK;AAC/C,MAAAA,GAAE,gBAAgB;AAAA,IACpB,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAH,OAAK;AAC5C,MAAAA,GAAE,gBAAgB,GAAG,KAAK,qBAAqBA,EAAC;AAAA,IAClD,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAC,SAAS,GAAG,CAAAH,OAAK;AACzD,MAAAA,GAAE,gBAAgB,GAAG,KAAK,qBAAqBA,EAAC;AAAA,IAClD,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,YAAY,CAAAH,OAAK;AACxC,YAAM;AAAA,QACJ,KAAK;AAAA,QACL,QAAQC;AAAA,MACV,IAAID;AACJ,YAAME,GAAE,OAAOD,OAAMD,GAAE,gBAAgB,GAAG,KAAK,cAAc;AAAA,IAC/D,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,UAAU,CAAAH,OAAK;AACtC,MAAAA,GAAE,QAAQE,GAAE,QAAQF,GAAE,gBAAgB,GAAG,KAAK,cAAc;AAAA,IAC9D,GAAGG,GAAE,IAAI,CAAC,CAAC,GAAG,KAAK,oBAAoB;AAAA,EACzC;AAAA,EACA,oBAAoBH,IAAG;AACrB,SAAK,YAAY,KAAK,UAAU,cAAc,mBAAmB,IAAI,KAAK,uBAAuB,KAAK,eAAe,GAAG,KAAK,kBAAkBA,EAAC;AAAA,EAClJ;AAAA,EACA,sBAAsB;AACpB,SAAK,WAAW,CAAC,KAAK,wBAAwB,GAAG,iBAAiB,CAAAA,OAAK;AACrE,UAAI,KAAK,aAAa,UAAU,GAAG,WAAWA,GAAE,WAAW;AACzD,cAAM,IAAI,CAAC,GAAG,KAAK,kBAAkB;AACrC,gBAAQ,KAAK,iBAAiB,EAAE,KAAK,KAAK,kBAAkB,aAAa,KAAK,aAAa,CAAC,GAAG,KAAK,KAAK,QAAQ,IAAI,EAAE,KAAK,MAAMA,GAAE,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;AAAA,MAC3J;AAAA,IACF,CAAC,GAAG,KAAK,wBAAwB,GAAG,cAAc,CAAAA,OAAK;AACrD,UAAI,KAAK,aAAa,UAAU,GAAG,YAAYA,GAAE,WAAW;AAC1D,cAAMA,KAAI,KAAK,mBAAmB,SAAS,GACzC,IAAI,IAAIA,GAAE,KAAK,MAAMA,IAAG,KAAK,QAAQ;AACvC,aAAK,KAAK,cAAc,CAAC,GAAG,EAAE,qBAAqB,KAAK,0BAA0B;AAAA,MACpF,WAAW,WAAWA,GAAE,WAAW;AACjC,cAAM,IAAI,CAAC,GAAG,KAAK,kBAAkB;AACrC,gBAAQ,KAAK,iBAAiB,EAAE,KAAK,KAAK,kBAAkB,aAAa,KAAK,aAAa,CAAC,GAAG,KAAK,KAAK,QAAQ,IAAIA,GAAE,KAAK,MAAMA,GAAE,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;AAAA,MAC3J;AAAA,IACF,CAAC,CAAC,CAAC;AAAA,EACL;AAAA,EACA,eAAe;AACb,UAAMA,KAAI,IAAII,GAAE;AAAA,MACd,MAAM,KAAK;AAAA,MACX,eAAe,KAAK;AAAA,MACpB,MAAM,KAAK;AAAA,MACX,cAAc;AAAA,MACd,MAAM,KAAK;AAAA,IACb,CAAC;AACD,SAAK,YAAYJ,IAAG,KAAK,KAAK,mBAAmBA,EAAC,GAAGA,GAAE,GAAG,cAAc,OAAK;AAC3E,UAAI,MAAM,EAAE,SAAS,QAAQ;AAC3B,cAAM;AAAA,UACF,MAAMC;AAAA,QACR,IAAI,MACJI,KAAI,EAAE,SAAS,CAAC,EAAE,aAClBC,KAAIN,GAAE,gBAAgB;AACxB,aAAK,KAAK,cAAc,IAAIA,GAAEC,IAAGI,IAAGC,EAAC,CAAC,GAAG,WAAW,EAAE,aAAa,WAAW,EAAE,aAAa,KAAK,KAAK,EAAE,WAAW,IAAIN,GAAEC,IAAGI,IAAGC,EAAC,CAAC;AAAA,MACpI;AAAA,IACF,CAAC,GAAGN,GAAE,GAAG,iBAAiB,OAAK;AAC7B,UAAI,MAAM,EAAE,SAAS,QAAQ;AAC3B,cAAM;AAAA,UACF,MAAMC;AAAA,QACR,IAAI,MACJI,KAAI,EAAE,SAAS,CAAC,EAAE,aAClBC,KAAIN,GAAE,gBAAgB;AACxB,aAAK,KAAK,iBAAiB,IAAI,EAAEC,IAAGI,IAAGC,EAAC,CAAC,GAAG,WAAW,EAAE,aAAa,WAAW,EAAE,aAAa,KAAK,KAAK,EAAE,WAAW,IAAI,EAAEL,IAAGI,IAAGC,EAAC,CAAC;AAAA,MACvI;AAAA,IACF,CAAC,GAAGN,GAAE,GAAG,iBAAiB,OAAK;AAC7B,YAAM,EAAE,SAAS,UAAU,KAAK,KAAK,iBAAiB,IAAIC,GAAE,KAAK,MAAM,EAAE,SAAS,CAAC,EAAE,aAAaD,GAAE,gBAAgB,CAAC,CAAC;AAAA,IACxH,CAAC,GAAGA,GAAE,GAAG,YAAY,OAAK;AACxB,WAAK,KAAK,iBAAiB,IAAI,EAAEA,GAAE,gBAAgB,CAAC,CAAC,GAAG,KAAK,gBAAgB,GAAG,KAAK,iBAAiB;AAAA,IACxG,CAAC;AAAA,EACH;AAAA,EACA,kBAAkB;AAChB,SAAK,cAAc,KAAK,KAAK,MAAM,OAAO,KAAK,SAAS,GAAG,KAAK,YAAY;AAAA,EAC9E;AAAA,EACA,WAAWA,IAAG;AACZ,UAAM,IAAI,KAAK,kBAAkB,cAAcA,EAAC;AAChD,SAAK,yBAAyB,CAAC,MAAM,KAAK,uBAAuB,KAAK,wBAAwB,KAAK,iBAAiB,GAAG,KAAK,wBAAwB,aAAa,CAAC;AAAA,EACpK;AAAA,EACA,cAAcA,KAAI,OAAI;AACpB,QAAI,KAAK,iBAAiB,GAAG,CAAC,KAAK,mBAAoB;AACvD,UAAM,IAAI,KAAK,iCAAiC,KAAK,kBAAkB;AACvE,YAAQ,KAAKA,MAAK,KAAK,kBAAkB,EAAE,QAAQ,MAAM,KAAK,KAAK,iBAAiB,IAAIC,GAAE,KAAK,MAAM,KAAK,iBAAiB,SAAS,QAAQ,KAAK,UAAU,QAAQ,KAAK,gBAAgB,IAAI,EAAE,KAAK,aAAa,IAAI,IAAI,CAAC,CAAC;AAAA,EAC5N;AAAA,EACA,mBAAmB;AACjB,QAAI,KAAK,UAAW,QAAO,KAAK,KAAK,UAAU,wBAAwB;AACvE,QAAI,KAAK,mBAAmB,MAAM,KAAK,iBAAiB,GAAG,KAAK,mBAAmB,SAAS,EAAG;AAC/F,SAAK,eAAe,GAAG,QAAQ,KAAK,oBAAoB,KAAK,iBAAiB,aAAa;AAC3F,UAAMD,KAAI,IAAI,EAAE,KAAK,QAAQ;AAC7B,SAAK,KAAK,iBAAiBA,EAAC,GAAGA,GAAE,oBAAoB,KAAK,iBAAiB;AAAA,EAC7E;AACF;AACA,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,gBAAgB,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,iBAAiB,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EAC9F,MAAM;AACR,CAAC,CAAC,GAAG,EAAE,WAAW,QAAQ,MAAM,GAAG,IAAI,EAAE,CAACO,GAAE,mCAAmC,CAAC,GAAG,CAAC;;;ACxJpF,IAAIC,KAAI,cAAc,EAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,cAAc,OAAI,KAAK,0BAA0B,OAAI,KAAK,wBAAwB,OAAI,KAAK,YAAY,MAAM,KAAK,OAAOA;AAAA,EAC1I;AAAA,EACA,aAAa;AACX,SAAK,gBAAgB,GAAG,SAAS,KAAK,KAAK,QAAQ,KAAK,aAAa;AAAA,EACvE;AAAA,EACA,UAAU;AACR,SAAK,gBAAgB,GAAG,KAAK,KAAK,SAAS;AAAA,EAC7C;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,YAAY,KAAK,QAAQ,aAAa,KAAK;AAAA,EACpD;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,eAAe,KAAK,QAAQ,aAAa,KAAK;AAAA,EACvD;AAAA,EACA,OAAO;AACL,SAAK,YAAY,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,GAAG,KAAK,aAAa,UAAU;AAAA,EACtF;AAAA,EACA,OAAO;AACL,SAAK,YAAY,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,GAAG,KAAK,aAAa,UAAU;AAAA,EACtF;AAAA,EACA,UAAU;AACR,WAAO,KAAK,WAAW,QAAQ,KAAK,MAAM,QAAQ;AAAA,EACpD;AAAA,EACA,UAAU;AACR,WAAO,KAAK,WAAW,QAAQ,KAAK,MAAM,QAAQ;AAAA,EACpD;AAAA,EACA,WAAW;AACT,SAAK,iBAAiB;AAAA,EACxB;AAAA,EACA,kBAAkB;AAChB,SAAK,sBAAsB,GAAG,KAAK,WAAW,CAAC,KAAK,KAAK,GAAG,YAAY,CAAAA,OAAK;AAC3E,YAAM;AAAA,QACJ,KAAK;AAAA,QACL,QAAQC;AAAA,MACV,IAAID;AACJ,YAAME,GAAE,aAAaD,KAAI,MAAMC,GAAE,YAAYD,KAAI,MAAMC,GAAE,QAAQ,KAAK,2BAA2BD,KAAI,MAAMC,GAAE,QAAQ,KAAK,2BAA2BD,OAAMD,GAAE,gBAAgB,GAAG,KAAK,KAAK,MAAMA,GAAE,gBAAgB,GAAG,KAAK,KAAK,MAAMA,GAAE,gBAAgB,GAAG,KAAK,qBAAqBA,EAAC,MAAMA,GAAE,gBAAgB,GAAG,KAAK,oBAAoBA,EAAC;AAAA,IAC5U,GAAGG,GAAE,IAAI,CAAC,CAAC;AAAA,EACb;AAAA,EACA,wBAAwB;AACtB,aAAS,KAAK,KAAK,SAAS,KAAK,WAAW,CAAC,KAAK,KAAK,GAAG,SAAS,CAAAH,OAAK;AACtE,MAAAA,GAAE,gBAAgB;AAAA,IACpB,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAH,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,KAAK,CAAC,KAAK,gBAAgB,KAAK,eAAe,GAAG,KAAK,mBAAmBA,GAAE,WAAW,KAAK,wBAAwB,MAAI,KAAK,qBAAqB,EAAEA,EAAC,GAAG,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IAC1O,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAH,OAAK;AAC5C,WAAK,4BAA4B,KAAK,KAAK,GAAG,KAAK,0BAA0B,QAAK,KAAK,eAAe,GAAG,KAAK,qBAAqB,EAAEA,EAAC,GAAG,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IAC3L,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAH,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,qBAAqB,EAAEA,EAAC,GAAG,KAAK,gBAAgB,CAAC,KAAK,cAAc,KAAK,kBAAkBA,EAAC,IAAI,KAAK,wBAAwB;AAAA,IACjM,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,cAAc,CAAAH,OAAK;AAC1C,UAAI,KAAK,0BAA0BA,EAAC,EAAG,KAAI,KAAK,eAAe,GAAG,KAAK,mBAAmB,MAAM,KAAK,uBAAuB;AAC1H,YAAI,CAAC,KAAK,cAAe,QAAO,MAAM,KAAK,SAAS,UAAU,KAAK,SAAS,IAAI,GAAG,KAAK,KAAK,qBAAqBA,EAAC;AACnH,aAAK,kBAAkBA,EAAC;AAAA,MAC1B,OAAO;AACL,cAAM,IAAI,YAAYA,GAAE;AACxB,aAAK,cAAc,CAAC;AAAA,MACtB;AAAA,IACF,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,QAAQ,CAAAH,OAAK;AACpC,WAAK,gBAAgB,QAAQ,KAAK,oBAAoB,CAAC,KAAK,eAAeA,GAAE,gBAAgB;AAAA,IAC/F,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,QAAQ,CAAC,OAAO,GAAG,CAAAH,OAAK;AAC/C,MAAAA,GAAE,gBAAgB;AAAA,IACpB,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAH,OAAK;AAC5C,MAAAA,GAAE,gBAAgB,GAAG,KAAK,qBAAqBA,EAAC;AAAA,IAClD,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAC,SAAS,GAAG,CAAAH,OAAK;AACzD,MAAAA,GAAE,gBAAgB,GAAG,KAAK,qBAAqBA,EAAC;AAAA,IAClD,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,YAAY,CAAAH,OAAK;AACxC,YAAM;AAAA,QACJ,KAAK;AAAA,QACL,QAAQC;AAAA,MACV,IAAID;AACJ,YAAME,GAAE,OAAOD,OAAMD,GAAE,gBAAgB,GAAG,KAAK,cAAc;AAAA,IAC/D,GAAGG,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,UAAU,CAAAH,OAAK;AACtC,MAAAA,GAAE,QAAQE,GAAE,QAAQF,GAAE,gBAAgB,GAAG,KAAK,cAAc;AAAA,IAC9D,GAAGG,GAAE,IAAI,CAAC,CAAC,GAAG,KAAK,oBAAoB;AAAA,EACzC;AAAA,EACA,oBAAoBH,IAAG;AACrB,SAAK,YAAY,KAAK,UAAU,cAAc,mBAAmB,IAAI,KAAK,uBAAuB,KAAK,eAAe,GAAG,KAAK,kBAAkBA,EAAC;AAAA,EAClJ;AAAA,EACA,sBAAsB;AACpB,SAAK,WAAW,CAAC,KAAK,wBAAwB,GAAG,iBAAiB,CAAAA,OAAK;AACrE,UAAI,KAAK,aAAa,UAAU,GAAG,WAAWA,GAAE,WAAW;AACzD,cAAM,IAAI,CAAC,GAAG,KAAK,kBAAkB;AACrC,gBAAQ,KAAK,iBAAiB,EAAE,KAAK,KAAK,kBAAkB,aAAa,KAAK,aAAa,CAAC,GAAG,KAAK,KAAK,QAAQ,IAAI,EAAE,KAAK,MAAMA,GAAE,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;AAAA,MAC3J;AAAA,IACF,CAAC,GAAG,KAAK,wBAAwB,GAAG,cAAc,CAAAA,OAAK;AACrD,UAAI,KAAK,aAAa,UAAU,GAAG,YAAYA,GAAE,WAAW;AAC1D,cAAMA,KAAI,KAAK,mBAAmB,SAAS,GACzC,IAAI,IAAIA,GAAE,KAAK,MAAMA,IAAG,KAAK,QAAQ;AACvC,aAAK,KAAK,cAAc,CAAC,GAAG,EAAE,qBAAqB,KAAK,0BAA0B;AAAA,MACpF,WAAW,WAAWA,GAAE,WAAW;AACjC,cAAM,IAAI,CAAC,GAAG,KAAK,kBAAkB;AACrC,gBAAQ,KAAK,iBAAiB,EAAE,KAAK,KAAK,kBAAkB,aAAa,KAAK,aAAa,CAAC,GAAG,KAAK,KAAK,QAAQ,IAAIA,GAAE,KAAK,MAAMA,GAAE,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;AAAA,MAC3J;AAAA,IACF,CAAC,CAAC,CAAC;AAAA,EACL;AAAA,EACA,eAAe;AACb,UAAMA,KAAI,IAAII,GAAE;AAAA,MACd,MAAM,KAAK;AAAA,MACX,eAAe,KAAK;AAAA,MACpB,MAAM,KAAK;AAAA,MACX,cAAc;AAAA,MACd,MAAM,KAAK;AAAA,IACb,CAAC;AACD,SAAK,YAAYJ,IAAG,KAAK,KAAK,mBAAmBA,EAAC,GAAG,KAAK,WAAW,CAACA,GAAE,GAAG,cAAc,OAAK;AAC5F,UAAI,MAAM,EAAE,SAAS,OAAQ;AAC7B,YAAM;AAAA,QACF,MAAMC;AAAA,MACR,IAAI,MACJI,KAAI,EAAE,SAAS,CAAC,EAAE,aAClBC,KAAIN,GAAE,gBAAgB;AACxB,WAAK,KAAK,cAAc,IAAIA,GAAEC,IAAGI,IAAGC,EAAC,CAAC,GAAG,WAAW,EAAE,aAAa,WAAW,EAAE,aAAa,KAAK,KAAK,EAAE,WAAW,IAAIN,GAAEC,IAAGI,IAAGC,EAAC,CAAC;AAAA,IACpI,CAAC,GAAGN,GAAE,GAAG,iBAAiB,OAAK;AAC7B,UAAI,MAAM,EAAE,SAAS,OAAQ;AAC7B,YAAM;AAAA,QACF,MAAMC;AAAA,MACR,IAAI,MACJI,KAAI,EAAE,SAAS,CAAC,EAAE,aAClBC,KAAIN,GAAE,gBAAgB;AACxB,WAAK,KAAK,iBAAiB,IAAI,EAAEC,IAAGI,IAAGC,EAAC,CAAC,GAAG,WAAW,EAAE,aAAa,WAAW,EAAE,aAAa,KAAK,KAAK,EAAE,WAAW,IAAI,EAAEL,IAAGI,IAAGC,EAAC,CAAC;AAAA,IACvI,CAAC,GAAGN,GAAE,GAAG,iBAAiB,OAAK;AAC7B,YAAM,EAAE,SAAS,UAAU,KAAK,KAAK,iBAAiB,IAAIC,GAAE,KAAK,MAAM,EAAE,SAAS,CAAC,EAAE,aAAaD,GAAE,gBAAgB,CAAC,CAAC;AAAA,IACxH,CAAC,GAAGA,GAAE,GAAG,YAAY,OAAK;AACxB,WAAK,KAAK,iBAAiB,IAAI,EAAEA,GAAE,gBAAgB,CAAC,CAAC,GAAG,KAAK,gBAAgB,GAAG,KAAK,iBAAiB;AAAA,IACxG,CAAC,CAAC,CAAC;AAAA,EACL;AAAA,EACA,kBAAkB;AAChB,SAAK,cAAc,KAAK,KAAK,MAAM,OAAO,KAAK,SAAS,GAAG,KAAK,YAAY;AAAA,EAC9E;AAAA,EACA,WAAWA,IAAG;AACZ,UAAM,IAAI,KAAK,kBAAkB,cAAcA,EAAC;AAChD,SAAK,yBAAyB,CAAC,MAAM,KAAK,uBAAuB,KAAK,wBAAwB,KAAK,iBAAiB,GAAG,KAAK,wBAAwB,aAAa,CAAC;AAAA,EACpK;AAAA,EACA,cAAcA,KAAI,OAAI;AACpB,QAAI,KAAK,iBAAiB,GAAG,CAAC,KAAK,mBAAoB;AACvD,UAAM,IAAI,KAAK,iCAAiC,KAAK,kBAAkB;AACvE,YAAQ,KAAKA,MAAK,KAAK,kBAAkB,EAAE,QAAQ,MAAM,KAAK,KAAK,iBAAiB,IAAIC,GAAE,KAAK,MAAM,KAAK,iBAAiB,SAAS,QAAQ,KAAK,UAAU,QAAQ,KAAK,gBAAgB,IAAI,EAAE,KAAK,aAAa,IAAI,IAAI,CAAC,CAAC;AAAA,EAC5N;AAAA,EACA,mBAAmB;AACjB,QAAI,KAAK,UAAW,QAAO,KAAK,KAAK,UAAU,wBAAwB;AACvE,QAAI,KAAK,mBAAmB,MAAM,KAAK,iBAAiB,GAAG,KAAK,mBAAmB,SAAS,EAAG;AAC/F,SAAK,eAAe,GAAG,QAAQ,KAAK,oBAAoB,KAAK,iBAAiB,aAAa;AAC3F,UAAMD,KAAI,IAAI,EAAE,KAAK,QAAQ;AAC7B,SAAK,KAAK,iBAAiBA,EAAC,GAAGA,GAAE,oBAAoB,KAAK,iBAAiB;AAAA,EAC7E;AACF;AACA,EAAE,CAAC,EAAE,CAAC,GAAGD,GAAE,WAAW,iBAAiB,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,gBAAgB,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EAC9F,MAAM;AACR,CAAC,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAGA,KAAI,EAAE,CAACQ,GAAE,oCAAoC,CAAC,GAAGR,EAAC;;;AChJrF,IAAMS,KAAI,CAAC,YAAY,OAAO;AAC9B,IAAIC,KAAI,cAAc,EAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,cAAc,OAAI,KAAK,cAAc,OAAI,KAAK,wBAAwB,OAAI,KAAK,YAAY,MAAM,KAAK,8BAA8B,MAAM,KAAK,OAAO;AAAA,EACvK;AAAA,EACA,aAAa;AACX,aAAS,KAAK,KAAK,OAAO,KAAK,gBAAgB,IAAI,KAAK,aAAa;AAAA,EACvE;AAAA,EACA,UAAU;AACR,SAAK,gBAAgB,GAAG,KAAK,KAAK,SAAS;AAAA,EAC7C;AAAA,EACA,WAAW;AACT,SAAK,iBAAiB;AAAA,EACxB;AAAA,EACA,qBAAqB;AACnB,WAAO,KAAK,QAAQ,KAAK,SAAS,SAAS,IAAI,KAAK,SAAS,CAAC,EAAE,CAAC,IAAI,KAAK;AAAA,EAC5E;AAAA,EACA,kBAAkB;AAChB,gBAAY,KAAK,OAAO,KAAK,WAAW,KAAK,yBAAyB,CAAC,IAAI,KAAK,WAAW,KAAK,wBAAwB,CAAC;AAAA,EAC3H;AAAA,EACA,0BAA0B;AACxB,WAAO,CAAC,KAAK,KAAK,GAAG,mBAAmB,CAAAA,OAAK;AAC3C,UAAIA,GAAE,gBAAgB,GAAGA,GAAE,YAAY,CAAC,KAAK,aAAa;AACxD,gBAAQ,KAAK,yBAAyB,EAAEA,EAAC,CAAC,MAAM,KAAK,kBAAkBA,EAAC,GAAG,KAAK,qBAAqBA,EAAC;AAAA,MACxG;AAAA,IACF,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAD,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,gBAAgB,KAAK,eAAe,GAAG,KAAK,wBAAwB,MAAI,KAAK,qBAAqB,EAAEA,EAAC,GAAG,KAAK,mBAAmBA,GAAE,WAAW,KAAK,kBAAkBA,EAAC,GAAG,KAAK,cAAc,OAAI,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IACnT,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAD,OAAK;AAC5C,WAAK,eAAe,GAAG,QAAQ,KAAK,oBAAoB,YAAYA,GAAE,gBAAgB,KAAK,qBAAqB,EAAEA,EAAC,GAAG,KAAK,cAAc;AAAA,IAC3I,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAD,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,cAAc,MAAI,KAAK,qBAAqB,EAAEA,EAAC,GAAG,KAAK,cAAc;AAAA,IACzI,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,cAAc,CAAAD,OAAK;AAC1C,WAAK,0BAA0BA,EAAC,KAAK,KAAK,0BAA0B,KAAK,eAAe,GAAG,KAAK,mBAAmB,MAAM,KAAK,eAAe,KAAK,kBAAkBA,EAAC,GAAG,MAAM,KAAK,mBAAmB,UAAU,KAAK,qBAAqBA,EAAC,GAAG,KAAK,cAAc;AAAA,IACnQ,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,YAAY,CAAAD,OAAK;AACxC,MAAAA,GAAE,QAAQE,GAAE,YAAY,KAAK,sBAAsB,KAAK,eAAe,GAAG,KAAK,kBAAkBF,EAAC,GAAG,KAAK,qBAAqBA,EAAC,KAAKA,GAAE,QAAQE,GAAE,QAAQ,KAAK,cAAc;AAAA,IAC9K,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,UAAU,CAAAD,OAAK;AACtC,MAAAA,GAAE,QAAQE,GAAE,QAAQ,KAAK,cAAc;AAAA,IACzC,GAAGD,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,QAAQ,CAAAD,OAAK;AACpC,cAAQ,KAAK,oBAAoBA,GAAE,gBAAgB;AAAA,IACrD,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,QAAQ,CAAC,OAAO,GAAG,CAAAD,OAAK;AAC/C,MAAAA,GAAE,gBAAgB;AAAA,IACpB,GAAGC,GAAE,IAAI,CAAC;AAAA,EACZ;AAAA,EACA,2BAA2B;AACzB,WAAO,CAAC,KAAK,KAAK,GAAG,gBAAgB,CAAAD,OAAK;AACxC,WAAK,eAAe,GAAG,KAAK,qBAAqB,EAAEA,EAAC,GAAG,KAAK,mBAAmBA,GAAE,WAAW,KAAK,cAAc,OAAI,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IACrK,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAD,OAAK;AAC5C,WAAK,eAAe,GAAG,KAAK,qBAAqB,EAAEA,EAAC,GAAG,QAAQ,KAAK,oBAAoB,YAAYA,GAAE,eAAe,KAAK,cAAc;AAAA,IAC1I,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAAD,OAAK;AAC5C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,cAAc;AAAA,IAClF,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,cAAc,CAAAD,OAAK;AAC1C,WAAK,0BAA0BA,EAAC,MAAM,KAAK,eAAe,GAAG,KAAK,mBAAmB,MAAMA,GAAE,gBAAgB,GAAG,KAAK,eAAe,KAAK,kBAAkBA,EAAC,GAAG,MAAM,KAAK,SAAS,UAAU,KAAK,eAAe,KAAK,qBAAqBA,EAAC,GAAG,KAAK,cAAc;AAAA,IACpQ,GAAGC,GAAE,IAAI,GAAG,KAAK,KAAK,GAAG,YAAY,CAAAD,OAAK;AACxC,MAAAA,GAAE,QAAQE,GAAE,aAAa,KAAK,uBAAuB,KAAK,kBAAkBF,EAAC,GAAG,MAAM,KAAK,SAAS,UAAU,KAAK,qBAAqBA,EAAC,IAAIA,GAAE,QAAQE,GAAE,YAAY,KAAK,sBAAsB,MAAM,KAAK,SAAS,WAAW,KAAK,kBAAkBF,EAAC,GAAG,KAAK,qBAAqBA,EAAC;AAAA,IACvR,GAAGC,GAAE,IAAI,CAAC;AAAA,EACZ;AAAA,EACA,eAAe;AACb,UAAMD,KAAI,IAAIG,GAAE;AAAA,MACd,MAAM,KAAK;AAAA,MACX,eAAe,KAAK;AAAA,MACpB,MAAM,KAAK;AAAA,MACX,cAAc;AAAA,MACd,MAAM,KAAK;AAAA,IACb,CAAC;AACD,SAAK,YAAYH,IAAG,KAAK,KAAK,mBAAmBA,EAAC,GAAG,KAAK,WAAW,CAACA,GAAE,GAAG,cAAc,OAAK;AAC5F,YAAM,EAAE,SAAS,UAAU,KAAK,KAAK,cAAc,IAAIA,GAAE,KAAK,MAAM,EAAE,SAAS,CAAC,EAAE,aAAaA,GAAE,gBAAgB,CAAC,CAAC;AAAA,IACrH,CAAC,GAAGA,GAAE,GAAG,iBAAiB,OAAK;AAC7B,YAAM,EAAE,SAAS,UAAU,KAAK,KAAK,iBAAiB,IAAII,GAAE,KAAK,MAAM,EAAE,SAAS,CAAC,EAAE,aAAaJ,GAAE,gBAAgB,CAAC,CAAC;AAAA,IACxH,CAAC,GAAGA,GAAE,GAAG,YAAY,OAAK;AACxB,WAAK,KAAK,iBAAiB,IAAI,EAAEA,GAAE,gBAAgB,CAAC,CAAC,GAAG,KAAK,gBAAgB;AAAA,IAC/E,CAAC,GAAG,KAAK,KAAK,GAAG,YAAY,OAAK;AAChC,QAAE,QAAQE,GAAE,aAAa,EAAE,UAAU,YAAY,KAAK,OAAO,EAAE,QAAQA,GAAE,YAAY,EAAE,UAAUF,GAAE,wBAAwB,IAAIA,GAAE,cAAc,uBAAuB,IAAIA,GAAE,wBAAwB,IAAIA,GAAE,cAAc,mBAAmB;AAAA,IAC7O,GAAGC,GAAE,IAAI,CAAC,CAAC;AAAA,EACb;AAAA,EACA,kBAAkB;AAChB,SAAK,cAAc,KAAK,KAAK,MAAM,OAAO,KAAK,SAAS,GAAG,KAAK,YAAY;AAAA,EAC9E;AAAA,EACA,WAAWD,IAAG;AACZ,UAAM,IAAI,KAAK,kBAAkB,cAAcA,EAAC;AAChD,QAAI,KAAK,yBAAyB,CAAC,EAAG;AACtC,SAAK,uBAAuB,KAAK,wBAAwB,KAAK,iBAAiB,GAAG,KAAK,wBAAwB,aAAa,CAAC,GAAG,MAAM,KAAK,mBAAmB,WAAW,KAAK,8BAA8B,EAAE,KAAK,MAAM,KAAK,mBAAmB,CAAC,CAAC;AACnP,UAAMI,KAAI,KAAK,mBAAmB,SAAS,GACzCC,KAAI,IAAIL,GAAE,KAAK,MAAMI,IAAG,KAAK,QAAQ;AACvC,SAAK,KAAK,cAAcC,EAAC;AAAA,EAC3B;AAAA,EACA,gBAAgB;AACd,QAAI,KAAK,iBAAiB,GAAG,CAAC,KAAK,mBAAoB;AACvD,UAAML,KAAI,KAAK,iCAAiC,KAAK,kBAAkB;AACvE,YAAQA,MAAK,KAAK,kBAAkBA,GAAE,QAAQ,MAAM,KAAK,KAAK,iBAAiB,IAAII,GAAE,KAAK,MAAM,KAAK,iBAAiB,SAAS,QAAQ,KAAK,UAAU,QAAQ,KAAK,gBAAgB,IAAI,EAAE,KAAK,aAAa,IAAI,IAAI,CAAC,CAAC;AAAA,EACvN;AAAA,EACA,mBAAmB;AACjB,QAAI,KAAK,UAAW,QAAO,KAAK,UAAU,wBAAwB,GAAG,KAAK,KAAK,iBAAiB;AAChG,QAAI,KAAK,mBAAmB,MAAM,KAAK,iBAAiB,GAAG,KAAK,qBAAqB,MAAM,KAAK,cAAc,OAAI,KAAK,eAAe,GAAG,QAAQ,KAAK,oBAAoB,KAAK,iBAAiB,aAAa,GAAG,KAAK,SAAS,SAAS,EAAG;AAC1O,UAAMJ,KAAI,IAAI,EAAE,KAAK,QAAQ;AAC7B,SAAK,KAAK,iBAAiBA,EAAC,GAAGA,GAAE,oBAAoB,KAAK,iBAAiB;AAAA,EAC7E;AAAA,EACA,iBAAiB;AACf,SAAK,wBAAwB,QAAQ,GAAG,KAAK,0BAA0B,IAAI,EAAE,IAAI,EAAE,WAAW,KAAK,iBAAiB,GAAG,EAAE,KAAK,GAAG,KAAK,mBAAmB,IAAIM,GAAE,KAAK,kBAAkB,kBAAkB,EAAE,KAAK,GAAG,KAAK,wBAAwB,KAAK,WAAW,KAAK,KAAK,gBAAgB;AAAA,EAC3R;AACF;AACA,EAAE,CAAC,EAAE;AAAA,EACH,MAAMR;AACR,CAAC,CAAC,GAAGC,GAAE,WAAW,QAAQ,MAAM,GAAGA,KAAI,EAAE,CAACO,GAAE,mCAAmC,CAAC,GAAGP,EAAC;;;AC5GpF,IAAIQ,KAAI,cAAc,EAAE;AAAA,EACtB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,eAAe,MAAM,KAAK,OAAO,QAAQ,KAAK,OAAO;AAAA,EACjF;AAAA,EACA,UAAU;AACR,SAAK,iBAAiB,KAAK,aAAa,QAAQ,GAAG,KAAK,eAAe;AAAA,EACzE;AAAA,EACA,OAAO,GAAGC,IAAG;AACX,SAAK,MAAM;AACX,UAAMC,KAAI;AAAA,MACR,MAAM,KAAK;AAAA,OACRD;AAEL,YAAQ,GAAG;AAAA,MACT,KAAK;AACH,QAAAC,GAAE,mBAAmB,SAAS,KAAK,eAAe,IAAIC,GAAED,EAAC;AACzD;AAAA,MACF,KAAK;AACH,QAAAA,GAAE,mBAAmB,YAAY,KAAK,eAAe,IAAIE,GAAEF,EAAC;AAC5D;AAAA,MACF,KAAK;AACH,QAAAA,GAAE,mBAAmB,WAAW,KAAK,eAAe,IAAIG,GAAEH,EAAC;AAC3D;AAAA,MACF,KAAK;AACH,QAAAA,GAAE,mBAAmB,WAAW,KAAK,eAAe,IAAI,EAAEA,EAAC;AAC3D;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,QAAAA,GAAE,mBAAmB,WAAW,KAAK,eAAe,IAAII,GAAEJ,EAAC;AAAA,IAC/D;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EACA,WAAW;AACT,SAAK,gBAAgB,KAAK,aAAa,SAAS,GAAG,KAAK,eAAe;AAAA,EACzE;AAAA,EACA,QAAQ;AACN,SAAK,gBAAgB,KAAK,aAAa,QAAQ,GAAG,KAAK,eAAe;AAAA,EACxE;AACF;AACA,EAAE,CAAC,EAAE,CAAC,GAAGF,GAAE,WAAW,gBAAgB,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAClD,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAGA,KAAI,EAAE,CAACO,GAAE,sBAAsB,CAAC,GAAGP,EAAC;AAC9G,IAAMQ,KAAIR;",
  "names": ["f", "e", "a", "p", "i", "r", "e", "s", "e", "s", "i", "l", "c", "_", "e", "i", "p", "a", "l", "n", "e", "u", "F", "c", "a", "h", "e", "p", "_", "l", "i", "a", "e", "i", "p", "_", "l", "o", "r", "a", "m", "e", "i", "p", "_", "l", "o", "r", "a", "u", "w", "e", "_", "p", "l", "i", "r", "a", "p", "e", "o", "h", "m", "_", "w", "a", "l"]
}
