{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { s as i } from \"../../../../../../chunks/vec32.js\";\nimport { create as n } from \"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { s as t } from \"../../../../../../chunks/vec42.js\";\nimport { create as g } from \"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { PBRMode as h } from \"./PhysicallyBasedRenderingParameters.glsl.js\";\nimport { Float3PassUniform as e } from \"../../shaderModules/Float3PassUniform.js\";\nimport { Float4PassUniform as l } from \"../../shaderModules/Float4PassUniform.js\";\nimport { glsl as s } from \"../../shaderModules/interfaces.js\";\nfunction r(n, g) {\n  const r = n.fragment,\n    o = void 0 !== g.lightingSphericalHarmonicsOrder ? g.lightingSphericalHarmonicsOrder : 2;\n  0 === o ? (r.uniforms.add(new e(\"lightingAmbientSH0\", (n, t) => i(a, t.lighting.sh.r[0], t.lighting.sh.g[0], t.lighting.sh.b[0]))), r.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)) : 1 === o ? (r.uniforms.add(new l(\"lightingAmbientSH_R\", (i, n) => t(m, n.lighting.sh.r[0], n.lighting.sh.r[1], n.lighting.sh.r[2], n.lighting.sh.r[3])), new l(\"lightingAmbientSH_G\", (i, n) => t(m, n.lighting.sh.g[0], n.lighting.sh.g[1], n.lighting.sh.g[2], n.lighting.sh.g[3])), new l(\"lightingAmbientSH_B\", (i, n) => t(m, n.lighting.sh.b[0], n.lighting.sh.b[1], n.lighting.sh.b[2], n.lighting.sh.b[3]))), r.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)) : 2 === o && (r.uniforms.add(new e(\"lightingAmbientSH0\", (n, t) => i(a, t.lighting.sh.r[0], t.lighting.sh.g[0], t.lighting.sh.b[0])), new l(\"lightingAmbientSH_R1\", (i, n) => t(m, n.lighting.sh.r[1], n.lighting.sh.r[2], n.lighting.sh.r[3], n.lighting.sh.r[4])), new l(\"lightingAmbientSH_G1\", (i, n) => t(m, n.lighting.sh.g[1], n.lighting.sh.g[2], n.lighting.sh.g[3], n.lighting.sh.g[4])), new l(\"lightingAmbientSH_B1\", (i, n) => t(m, n.lighting.sh.b[1], n.lighting.sh.b[2], n.lighting.sh.b[3], n.lighting.sh.b[4])), new l(\"lightingAmbientSH_R2\", (i, n) => t(m, n.lighting.sh.r[5], n.lighting.sh.r[6], n.lighting.sh.r[7], n.lighting.sh.r[8])), new l(\"lightingAmbientSH_G2\", (i, n) => t(m, n.lighting.sh.g[5], n.lighting.sh.g[6], n.lighting.sh.g[7], n.lighting.sh.g[8])), new l(\"lightingAmbientSH_B2\", (i, n) => t(m, n.lighting.sh.b[5], n.lighting.sh.b[6], n.lighting.sh.b[7], n.lighting.sh.b[8]))), r.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`), g.pbrMode !== h.Normal && g.pbrMode !== h.Schematic || r.code.add(s`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`));\n}\nconst a = n(),\n  m = g();\nexport { r as EvaluateAmbientLighting };"],
  "mappings": "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",
  "names": ["n", "r", "o", "e"]
}
