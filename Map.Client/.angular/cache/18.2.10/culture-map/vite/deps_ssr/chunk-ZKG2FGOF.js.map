{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/2d/engine/BitmapTile.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/support/imageUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as e } from \"../../../core/libs/gl-matrix-2/factories/mat3f32.js\";\nimport { Bitmap as t } from \"./Bitmap.js\";\nimport { TiledDisplayObject as s } from \"./webgl/TiledDisplayObject.js\";\nclass r extends s {\n  constructor(e, s, r, i, a, n, o = null) {\n    super(e, s, r, i, a, n), this.bitmap = new t(o), this.bitmap.coordScale = [a, n], this.bitmap.once(\"isReady\", () => this.ready());\n  }\n  destroy() {\n    super.destroy(), this.bitmap.destroy();\n  }\n  beforeRender(e) {\n    this.bitmap.beforeRender(e), super.beforeRender(e);\n  }\n  afterRender(e) {\n    this.bitmap.afterRender(e), super.afterRender(e);\n  }\n  set stencilRef(e) {\n    this.bitmap.stencilRef = e;\n  }\n  get stencilRef() {\n    return this.bitmap.stencilRef;\n  }\n  _createTransforms() {\n    return {\n      displayViewScreenMat3: e(),\n      tileMat3: e()\n    };\n  }\n  setTransform(e) {\n    super.setTransform(e), this.bitmap.transforms.displayViewScreenMat3 = this.transforms.displayViewScreenMat3;\n  }\n  onAttach() {\n    this.bitmap.stage = this.stage;\n  }\n  onDetach() {\n    this.bitmap && (this.bitmap.stage = null);\n  }\n}\nexport { r as BitmapTile };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as e } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { BitmapTile as i } from \"./BitmapTile.js\";\nimport { brushes as r } from \"./brushes.js\";\nimport { WGLDrawPhase as t } from \"./webgl/enums.js\";\nimport s from \"./webgl/TileContainer.js\";\nclass n extends s {\n  get requiresDedicatedFBO() {\n    return this.children.some(e => \"additive\" === e.bitmap.blendFunction);\n  }\n  createTile(r) {\n    const t = this._tileInfoView.getTileBounds(e(), r),\n      s = this._tileInfoView.getTileResolution(r.level),\n      [n, o] = this._tileInfoView.tileInfo.size;\n    return new i(r, s, t[0], t[3], n, o);\n  }\n  prepareRenderPasses(e) {\n    const i = e.registerRenderPass({\n      name: \"bitmap (tile)\",\n      brushes: [r.bitmap],\n      target: () => this.children.map(e => e.bitmap),\n      drawPhase: t.MAP\n    });\n    return [...super.prepareRenderPasses(e), i];\n  }\n  doRender(e) {\n    this.visible && e.drawPhase === t.MAP && super.doRender(e);\n  }\n}\nexport { n as BitmapTileContainer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/RandomLCG.js\";\nimport \"../../../core/Error.js\";\nimport { subclass as e } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { BitmapTileContainer as t } from \"../engine/BitmapTileContainer.js\";\nconst r = r => {\n  let s = class extends r {\n    attach() {\n      this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`), this._bitmapView = new t(this._tileInfoView), this.container.addChild(this._bitmapView);\n    }\n    detach() {\n      this.container.removeChild(this._bitmapView), this._bitmapView?.removeAllChildren(), this._bitmapView = null;\n    }\n  };\n  return s = i([e(\"esri.views.2d.layers.BitmapTileLayerView2D\")], s), s;\n};\nexport { r as BitmapTileLayerView2D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(e) {\n  return e instanceof HTMLImageElement ? e.naturalWidth : e.width;\n}\nfunction t(e) {\n  return e instanceof HTMLImageElement ? e.naturalHeight : e.height;\n}\nfunction n(n, l, r, u) {\n  if (r.level === u.level) return l;\n  const i = n.tileInfo.size,\n    a = n.getTileResolution(r.level),\n    c = n.getTileResolution(u.level);\n  let g = n.getLODInfoAt(u.level);\n  const h = g.getXForColumn(u.col),\n    d = g.getYForRow(u.row);\n  g = n.getLODInfoAt(r.level);\n  const f = g.getXForColumn(r.col),\n    s = g.getYForRow(r.row),\n    m = e(l) / i[0],\n    v = t(l) / i[1],\n    w = Math.round(m * ((h - f) / a)),\n    I = Math.round(v * (-(d - s) / a)),\n    M = Math.round(m * i[0] * (c / a)),\n    F = Math.round(v * i[1] * (c / a)),\n    L = o(i);\n  return L.getContext(\"2d\").drawImage(l, w, I, M, F, 0, 0, i[0], i[1]), L;\n}\nfunction o(e) {\n  const t = document.createElement(\"canvas\");\n  return [t.width, t.height] = e, t;\n}\nexport { o as createBlankImage, n as resampleImage };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,IAAMA,KAAN,cAAgB,EAAE;AAAA,EAChB,YAAYC,IAAG,GAAGD,IAAGE,IAAGC,IAAGC,IAAGC,KAAI,MAAM;AACtC,UAAMJ,IAAG,GAAGD,IAAGE,IAAGC,IAAGC,EAAC,GAAG,KAAK,SAAS,IAAI,EAAEC,EAAC,GAAG,KAAK,OAAO,aAAa,CAACF,IAAGC,EAAC,GAAG,KAAK,OAAO,KAAK,WAAW,MAAM,KAAK,MAAM,CAAC;AAAA,EAClI;AAAA,EACA,UAAU;AACR,UAAM,QAAQ,GAAG,KAAK,OAAO,QAAQ;AAAA,EACvC;AAAA,EACA,aAAaH,IAAG;AACd,SAAK,OAAO,aAAaA,EAAC,GAAG,MAAM,aAAaA,EAAC;AAAA,EACnD;AAAA,EACA,YAAYA,IAAG;AACb,SAAK,OAAO,YAAYA,EAAC,GAAG,MAAM,YAAYA,EAAC;AAAA,EACjD;AAAA,EACA,IAAI,WAAWA,IAAG;AAChB,SAAK,OAAO,aAAaA;AAAA,EAC3B;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,oBAAoB;AAClB,WAAO;AAAA,MACL,uBAAuBA,GAAE;AAAA,MACzB,UAAUA,GAAE;AAAA,IACd;AAAA,EACF;AAAA,EACA,aAAaA,IAAG;AACd,UAAM,aAAaA,EAAC,GAAG,KAAK,OAAO,WAAW,wBAAwB,KAAK,WAAW;AAAA,EACxF;AAAA,EACA,WAAW;AACT,SAAK,OAAO,QAAQ,KAAK;AAAA,EAC3B;AAAA,EACA,WAAW;AACT,SAAK,WAAW,KAAK,OAAO,QAAQ;AAAA,EACtC;AACF;;;AChCA,IAAM,IAAN,cAAgB,EAAE;AAAA,EAChB,IAAI,uBAAuB;AACzB,WAAO,KAAK,SAAS,KAAK,CAAAK,OAAK,eAAeA,GAAE,OAAO,aAAa;AAAA,EACtE;AAAA,EACA,WAAWC,IAAG;AACZ,UAAMC,KAAI,KAAK,cAAc,cAAc,EAAE,GAAGD,EAAC,GAC/C,IAAI,KAAK,cAAc,kBAAkBA,GAAE,KAAK,GAChD,CAACE,IAAGC,EAAC,IAAI,KAAK,cAAc,SAAS;AACvC,WAAO,IAAIH,GAAEA,IAAG,GAAGC,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGC,IAAGC,EAAC;AAAA,EACrC;AAAA,EACA,oBAAoBJ,IAAG;AACrB,UAAMK,KAAIL,GAAE,mBAAmB;AAAA,MAC7B,MAAM;AAAA,MACN,SAAS,CAAC,EAAE,MAAM;AAAA,MAClB,QAAQ,MAAM,KAAK,SAAS,IAAI,CAAAA,OAAKA,GAAE,MAAM;AAAA,MAC7C,WAAW,EAAE;AAAA,IACf,CAAC;AACD,WAAO,CAAC,GAAG,MAAM,oBAAoBA,EAAC,GAAGK,EAAC;AAAA,EAC5C;AAAA,EACA,SAASL,IAAG;AACV,SAAK,WAAWA,GAAE,cAAc,EAAE,OAAO,MAAM,SAASA,EAAC;AAAA,EAC3D;AACF;;;ACpBA,IAAMM,KAAI,CAAAA,OAAK;AACb,MAAI,IAAI,cAAcA,GAAE;AAAA,IACtB,SAAS;AACP,WAAK,KAAK,SAAS,OAAO,GAAG,KAAK,MAAM,KAAK,2BAA2B,GAAG,KAAK,cAAc,IAAI,EAAE,KAAK,aAAa,GAAG,KAAK,UAAU,SAAS,KAAK,WAAW;AAAA,IACnK;AAAA,IACA,SAAS;AACP,WAAK,UAAU,YAAY,KAAK,WAAW,GAAG,KAAK,aAAa,kBAAkB,GAAG,KAAK,cAAc;AAAA,IAC1G;AAAA,EACF;AACA,SAAO,IAAI,EAAE,CAAC,EAAE,4CAA4C,CAAC,GAAG,CAAC,GAAG;AACtE;;;ACjBA,SAASC,GAAEA,IAAG;AACZ,SAAOA,cAAa,mBAAmBA,GAAE,eAAeA,GAAE;AAC5D;AACA,SAAS,EAAEA,IAAG;AACZ,SAAOA,cAAa,mBAAmBA,GAAE,gBAAgBA,GAAE;AAC7D;AACA,SAASC,GAAEA,IAAG,GAAGC,IAAGC,IAAG;AACrB,MAAID,GAAE,UAAUC,GAAE,MAAO,QAAO;AAChC,QAAMC,KAAIH,GAAE,SAAS,MACnBI,KAAIJ,GAAE,kBAAkBC,GAAE,KAAK,GAC/B,IAAID,GAAE,kBAAkBE,GAAE,KAAK;AACjC,MAAI,IAAIF,GAAE,aAAaE,GAAE,KAAK;AAC9B,QAAMG,KAAI,EAAE,cAAcH,GAAE,GAAG,GAC7B,IAAI,EAAE,WAAWA,GAAE,GAAG;AACxB,MAAIF,GAAE,aAAaC,GAAE,KAAK;AAC1B,QAAM,IAAI,EAAE,cAAcA,GAAE,GAAG,GAC7B,IAAI,EAAE,WAAWA,GAAE,GAAG,GACtB,IAAIF,GAAE,CAAC,IAAII,GAAE,CAAC,GACd,IAAI,EAAE,CAAC,IAAIA,GAAE,CAAC,GACd,IAAI,KAAK,MAAM,MAAME,KAAI,KAAKD,GAAE,GAChC,IAAI,KAAK,MAAM,KAAK,EAAE,IAAI,KAAKA,GAAE,GACjC,IAAI,KAAK,MAAM,IAAID,GAAE,CAAC,KAAK,IAAIC,GAAE,GACjC,IAAI,KAAK,MAAM,IAAID,GAAE,CAAC,KAAK,IAAIC,GAAE,GACjC,IAAI,EAAED,EAAC;AACT,SAAO,EAAE,WAAW,IAAI,EAAE,UAAU,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAGA,GAAE,CAAC,GAAGA,GAAE,CAAC,CAAC,GAAG;AACxE;AACA,SAAS,EAAEJ,IAAG;AACZ,QAAMO,KAAI,SAAS,cAAc,QAAQ;AACzC,SAAO,CAACA,GAAE,OAAOA,GAAE,MAAM,IAAIP,IAAGO;AAClC;",
  "names": ["r", "e", "i", "a", "n", "o", "e", "r", "t", "n", "o", "i", "r", "e", "n", "r", "u", "i", "a", "h", "t"]
}
