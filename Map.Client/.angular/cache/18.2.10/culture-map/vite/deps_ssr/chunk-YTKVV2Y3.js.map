{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/geometry/support/coordsUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { equals as t } from \"../../core/arrayUtils.js\";\nimport { Axis as n } from \"./Axis.js\";\nimport { getInfo as r } from \"./spatialReferenceUtils.js\";\nfunction e(t) {\n  if (!t) return null;\n  if (Array.isArray(t)) return t;\n  const n = t.hasZ,\n    r = t.hasM;\n  if (\"point\" === t.type) return r && n ? [t.x, t.y, t.z, t.m] : n ? [t.x, t.y, t.z] : r ? [t.x, t.y, t.m] : [t.x, t.y];\n  if (\"polygon\" === t.type) return t.rings.slice(0);\n  if (\"polyline\" === t.type) return t.paths.slice(0);\n  if (\"multipoint\" === t.type) return t.points.slice(0);\n  if (\"extent\" === t.type) {\n    const n = t.clone().normalize();\n    if (!n) return null;\n    let r = !1,\n      e = !1;\n    return n.forEach(t => {\n      t.hasZ && (r = !0), t.hasM && (e = !0);\n    }), n.map(t => {\n      const n = [[t.xmin, t.ymin], [t.xmin, t.ymax], [t.xmax, t.ymax], [t.xmax, t.ymin], [t.xmin, t.ymin]];\n      if (r && t.hasZ) {\n        const r = .5 * (t.zmax - t.zmin);\n        for (let t = 0; t < n.length; t++) n[t].push(r);\n      }\n      if (e && t.hasM) {\n        const r = .5 * (t.mmax - t.mmin);\n        for (let t = 0; t < n.length; t++) n[t].push(r);\n      }\n      return n;\n    });\n  }\n  return null;\n}\nfunction i(t, n) {\n  const r = n[0] - t[0],\n    e = n[1] - t[1];\n  if (t.length > 2 && n.length > 2) {\n    const i = t[2] - n[2];\n    return Math.sqrt(r * r + e * e + i * i);\n  }\n  return Math.sqrt(r * r + e * e);\n}\nfunction o(t, n, r) {\n  const e = t[0] + r * (n[0] - t[0]),\n    i = t[1] + r * (n[1] - t[1]);\n  return t.length > 2 && n.length > 2 ? [e, i, t[2] + r * (n[2] - t[2])] : [e, i];\n}\nfunction s(t, n, r, e) {\n  return f(t, n, r[e], r[e + 1]);\n}\nfunction f(t, n, r, e) {\n  const [i, o] = n,\n    [s, f] = r,\n    [u, l] = e,\n    c = u - s,\n    h = l - f,\n    p = c * c + h * h,\n    a = (i - s) * c + (o - f) * h,\n    y = Math.min(1, Math.max(0, a / p));\n  return t[0] = s + c * y, t[1] = f + h * y, t;\n}\nfunction u(t, n, r) {\n  let e,\n    i,\n    o,\n    s,\n    f = !1,\n    u = 1 / 0;\n  for (r.reset(); r.nextPath();) if (r.nextPoint()) for (e = r.x, i = r.y; r.nextPoint();) o = r.x, s = r.y, i > n != s > n && t < (o - e) * (n - i) / (s - i) + e && (f = !f), u = Math.min(u, l(t, n, e, i, o, s)), e = o, i = s;\n  return 0 === u ? 0 : (f ? 1 : -1) * Math.sqrt(u);\n}\nfunction l(t, n, r, e, i, o) {\n  let s = r,\n    f = e,\n    u = i - s,\n    l = o - f;\n  if (0 !== u || 0 !== l) {\n    const r = ((t - s) * u + (n - f) * l) / (u * u + l * l);\n    r > 1 ? (s = i, f = o) : r > 0 && (s += u * r, f += l * r);\n  }\n  return u = t - s, l = n - f, u * u + l * l;\n}\nfunction c(t, n) {\n  return o(t, n, .5);\n}\nfunction h(t) {\n  const n = t.length;\n  let r = 0;\n  for (let e = 0; e < n - 1; ++e) r += i(t[e], t[e + 1]);\n  return r;\n}\nfunction p(t, n) {\n  if (n <= 0) return t[0];\n  const r = t.length;\n  let e = 0;\n  for (let s = 0; s < r - 1; ++s) {\n    const r = i(t[s], t[s + 1]);\n    if (n - e < r) {\n      const i = (n - e) / r;\n      return o(t[s], t[s + 1], i);\n    }\n    e += r;\n  }\n  return t[r - 1];\n}\nfunction a(t, r = n.X, e = n.Y) {\n  let i = 0;\n  const o = t.length;\n  let s = t[0];\n  for (let n = 1; n < o; n++) {\n    const o = t[n];\n    i += (o[r] - s[r]) * (o[e] + s[e]), s = o;\n  }\n  if (!y(t)) {\n    const n = t[0];\n    i += (n[r] - s[r]) * (n[e] + s[e]);\n  }\n  return i >= 0;\n}\nfunction y(n) {\n  const r = n.length;\n  return r < 3 || t(n[0], n[r - 1]);\n}\nfunction m(t) {\n  \"rings\" in t && (g(t), x(t));\n}\nfunction g(t) {\n  if (!(\"rings\" in t)) return !1;\n  let n = !1;\n  for (const r of t.rings) y(r) || (r.push(r[0].slice()), n = !0);\n  return n;\n}\nfunction x(t) {\n  if (!(\"rings\" in t)) return !1;\n  if (0 === t.rings.length || a(t.rings[0])) return !1;\n  for (const n of t.rings) n.reverse();\n  return !0;\n}\nfunction M(t) {\n  if (\"polygon\" !== t.type && \"polyline\" !== t.type) return t;\n  return z(\"polygon\" === t.type ? t.rings : t.paths, t.spatialReference), t;\n}\nfunction z(t, n) {\n  const e = r(n);\n  if (!e) return;\n  const i = e.valid[0],\n    o = e.valid[1],\n    s = o - i;\n  for (const r of t) {\n    let t = 1 / 0,\n      n = -1 / 0;\n    for (const s of r) {\n      const r = v(s[0], i, o);\n      t = Math.min(t, r), n = Math.max(n, r), s[0] = r;\n    }\n    const e = n - t;\n    s - e < e && r.forEach(t => {\n      t[0] < 0 && (t[0] += s);\n    });\n  }\n}\nfunction v(t, n, r) {\n  const e = r - n;\n  return t < n ? r - (n - t) % e : t > r ? n + (t - n) % e : t;\n}\nfunction j(t, n) {\n  if (t === n) return !0;\n  if (t.type !== n.type) return !1;\n  if (\"point\" === t.type || \"mesh\" === t.type || \"extent\" === t.type) return !0;\n  if (\"multipoint\" === t.type) return t.points.length === n.points.length;\n  const [r, e] = \"polyline\" === t.type ? [t.paths, n.paths] : [t.rings, n.rings];\n  return r.length === e.length && r.every((t, n) => t.length === e[n].length);\n}\nexport { g as closeRings, m as closeRingsAndFixWinding, u as distanceFromPointToPolygon, l as distanceToSegmentSquared, x as fixWinding, e as geometryToCoordinates, i as getLength, c as getMidpoint, h as getPathLength, p as getPointOnPath, j as hasCompatibleTopology, a as isClockwise, y as isClosed, s as projectPointOnLine, f as projectPointOnLineSeg, M as unnormalizeGeometryOnDatelineCrossing, z as unnormalizeVerticesOnDatelineCrossing, v as unnormalizedCoordinate };"],
  "mappings": "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",
  "names": ["n", "r", "e", "t", "i", "s", "o", "f", "l", "c", "h", "p", "a", "y", "n", "e", "i", "o", "s", "f", "l", "r", "h", "t"]
}
