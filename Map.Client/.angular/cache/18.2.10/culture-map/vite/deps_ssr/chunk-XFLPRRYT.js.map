{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { releaseMaybe as t } from \"../../../../core/maybe.js\";\nimport { isPromiseLike as e } from \"../../../../core/promiseUtils.js\";\nimport { NoParameters as s } from \"../core/shaderModules/interfaces.js\";\nimport { ResourceState as i } from \"./basicInterfaces.js\";\nimport r from \"./GLMaterial.js\";\nclass u extends r {\n  constructor(t) {\n    super(t), this._numLoading = 0, this._disposed = !1, this._textures = t.textures, this._textureId = t.textureId, this._acquire(t.textureId, t => this._texture = t), this._acquire(t.normalTextureId, t => this._textureNormal = t), this._acquire(t.emissiveTextureId, t => this._textureEmissive = t), this._acquire(t.occlusionTextureId, t => this._textureOcclusion = t), this._acquire(t.metallicRoughnessTextureId, t => this._textureMetallicRoughness = t);\n  }\n  dispose() {\n    this._texture = t(this._texture), this._textureNormal = t(this._textureNormal), this._textureEmissive = t(this._textureEmissive), this._textureOcclusion = t(this._textureOcclusion), this._textureMetallicRoughness = t(this._textureMetallicRoughness), this._disposed = !0;\n  }\n  ensureResources(t) {\n    return 0 === this._numLoading ? i.LOADED : i.LOADING;\n  }\n  get textureBindParameters() {\n    return new l(null != this._texture ? this._texture.glTexture : null, null != this._textureNormal ? this._textureNormal.glTexture : null, null != this._textureEmissive ? this._textureEmissive.glTexture : null, null != this._textureOcclusion ? this._textureOcclusion.glTexture : null, null != this._textureMetallicRoughness ? this._textureMetallicRoughness.glTexture : null);\n  }\n  updateTexture(e) {\n    null != this._texture && e === this._texture.id || (this._texture = t(this._texture), this._textureId = e, this._acquire(this._textureId, t => this._texture = t));\n  }\n  _acquire(s, i) {\n    if (null == s) return void i(null);\n    const r = this._textures.acquire(s);\n    if (e(r)) return ++this._numLoading, void r.then(e => {\n      if (this._disposed) return t(e), void i(null);\n      i(e);\n    }).finally(() => --this._numLoading);\n    i(r);\n  }\n}\nclass l extends s {\n  constructor(t = null, e = null, s = null, i = null, r = null, u, l) {\n    super(), this.texture = t, this.textureNormal = e, this.textureEmissive = s, this.textureOcclusion = i, this.textureMetallicRoughness = r, this.scale = u, this.normalTextureTransformMatrix = l;\n  }\n}\nexport { u as GLTextureMaterial, l as GLTextureMaterialBindParameters };"],
  "mappings": ";;;;;;;;;;;;;;;;;;AASA,IAAM,IAAN,cAAgBA,GAAE;AAAA,EAChB,YAAYA,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,cAAc,GAAG,KAAK,YAAY,OAAI,KAAK,YAAYA,GAAE,UAAU,KAAK,aAAaA,GAAE,WAAW,KAAK,SAASA,GAAE,WAAW,CAAAA,OAAK,KAAK,WAAWA,EAAC,GAAG,KAAK,SAASA,GAAE,iBAAiB,CAAAA,OAAK,KAAK,iBAAiBA,EAAC,GAAG,KAAK,SAASA,GAAE,mBAAmB,CAAAA,OAAK,KAAK,mBAAmBA,EAAC,GAAG,KAAK,SAASA,GAAE,oBAAoB,CAAAA,OAAK,KAAK,oBAAoBA,EAAC,GAAG,KAAK,SAASA,GAAE,4BAA4B,CAAAA,OAAK,KAAK,4BAA4BA,EAAC;AAAA,EACpc;AAAA,EACA,UAAU;AACR,SAAK,WAAW,EAAE,KAAK,QAAQ,GAAG,KAAK,iBAAiB,EAAE,KAAK,cAAc,GAAG,KAAK,mBAAmB,EAAE,KAAK,gBAAgB,GAAG,KAAK,oBAAoB,EAAE,KAAK,iBAAiB,GAAG,KAAK,4BAA4B,EAAE,KAAK,yBAAyB,GAAG,KAAK,YAAY;AAAA,EAC7Q;AAAA,EACA,gBAAgBA,IAAG;AACjB,WAAO,MAAM,KAAK,cAAc,EAAE,SAAS,EAAE;AAAA,EAC/C;AAAA,EACA,IAAI,wBAAwB;AAC1B,WAAO,IAAI,EAAE,QAAQ,KAAK,WAAW,KAAK,SAAS,YAAY,MAAM,QAAQ,KAAK,iBAAiB,KAAK,eAAe,YAAY,MAAM,QAAQ,KAAK,mBAAmB,KAAK,iBAAiB,YAAY,MAAM,QAAQ,KAAK,oBAAoB,KAAK,kBAAkB,YAAY,MAAM,QAAQ,KAAK,4BAA4B,KAAK,0BAA0B,YAAY,IAAI;AAAA,EACrX;AAAA,EACA,cAAc,GAAG;AACf,YAAQ,KAAK,YAAY,MAAM,KAAK,SAAS,OAAO,KAAK,WAAW,EAAE,KAAK,QAAQ,GAAG,KAAK,aAAa,GAAG,KAAK,SAAS,KAAK,YAAY,CAAAA,OAAK,KAAK,WAAWA,EAAC;AAAA,EAClK;AAAA,EACA,SAAS,GAAG,GAAG;AACb,QAAI,QAAQ,EAAG,QAAO,KAAK,EAAE,IAAI;AACjC,UAAM,IAAI,KAAK,UAAU,QAAQ,CAAC;AAClC,QAAI,EAAE,CAAC,EAAG,QAAO,EAAE,KAAK,aAAa,KAAK,EAAE,KAAK,OAAK;AACpD,UAAI,KAAK,UAAW,QAAO,EAAE,CAAC,GAAG,KAAK,EAAE,IAAI;AAC5C,QAAE,CAAC;AAAA,IACL,CAAC,EAAE,QAAQ,MAAM,EAAE,KAAK,WAAW;AACnC,MAAE,CAAC;AAAA,EACL;AACF;AACA,IAAM,IAAN,cAAgB,EAAE;AAAA,EAChB,YAAYA,KAAI,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAMC,IAAGC,IAAG;AAClE,UAAM,GAAG,KAAK,UAAUF,IAAG,KAAK,gBAAgB,GAAG,KAAK,kBAAkB,GAAG,KAAK,mBAAmB,GAAG,KAAK,2BAA2B,GAAG,KAAK,QAAQC,IAAG,KAAK,+BAA+BC;AAAA,EACjM;AACF;",
  "names": ["t", "u", "l"]
}
