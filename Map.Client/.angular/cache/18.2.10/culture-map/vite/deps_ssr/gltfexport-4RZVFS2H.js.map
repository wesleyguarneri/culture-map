{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/glb.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/types.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/bufferview.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/buffer.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/geometry.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltf.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/asset.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/scene.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/node.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/index.js", "../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltfexport.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar t;\n!function (t) {\n  t[t.JSON = 1313821514] = \"JSON\", t[t.BIN = 5130562] = \"BIN\";\n}(t || (t = {}));\nclass e {\n  constructor(i, r) {\n    if (!i) throw new Error(\"GLB requires a JSON gltf chunk\");\n    this._length = e.HEADER_SIZE, this._length += e.CHUNK_HEADER_SIZE;\n    const s = n(i);\n    if (this._length += h(s.byteLength, 4), r && (this._length += e.CHUNK_HEADER_SIZE, this._length += r.byteLength, r.byteLength % 4)) throw new Error(\"Expected BIN chunk length to be divisible by 4 at this point\");\n    this.buffer = new ArrayBuffer(this._length), this._outView = new DataView(this.buffer), this._writeHeader();\n    const _ = this._writeChunk(s, 12, t.JSON, 32);\n    r && this._writeChunk(r, _, t.BIN);\n  }\n  _writeHeader() {\n    this._outView.setUint32(0, e.MAGIC, !0), this._outView.setUint32(4, e.VERSION, !0), this._outView.setUint32(8, this._length, !0);\n  }\n  _writeChunk(t, e, n, r = 0) {\n    const s = h(t.byteLength, 4);\n    for (this._outView.setUint32(e, s, !0), this._outView.setUint32(e += 4, n, !0), i(this._outView.buffer, t, e += 4, 0, t.byteLength), e += t.byteLength; e % 4;) r && this._outView.setUint8(e, r), e++;\n    return e;\n  }\n}\nfunction i(t, e, i, n, h) {\n  new Uint8Array(t, i, h).set(new Uint8Array(e, n, h), 0);\n}\nfunction n(t) {\n  return new TextEncoder().encode(t).buffer;\n}\nfunction h(t, e) {\n  return e * Math.ceil(t / e);\n}\ne.HEADER_SIZE = 12, e.CHUNK_HEADER_SIZE = 8, e.MAGIC = 1179937895, e.VERSION = 2;\nexport { e as GLB };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar E, A, R, L, o, I, N;\n!function (E) {\n  E[E.External = 0] = \"External\", E[E.DataURI = 1] = \"DataURI\", E[E.GLB = 2] = \"GLB\";\n}(E || (E = {})), function (E) {\n  E[E.External = 0] = \"External\", E[E.DataURI = 1] = \"DataURI\", E[E.GLB = 2] = \"GLB\";\n}(A || (A = {})), function (E) {\n  E[E.ARRAY_BUFFER = 34962] = \"ARRAY_BUFFER\", E[E.ELEMENT_ARRAY_BUFFER = 34963] = \"ELEMENT_ARRAY_BUFFER\";\n}(R || (R = {})), function (E) {\n  E.SCALAR = \"SCALAR\", E.VEC2 = \"VEC2\", E.VEC3 = \"VEC3\", E.VEC4 = \"VEC4\", E.MAT2 = \"MAT2\", E.MAT3 = \"MAT3\", E.MAT4 = \"MAT4\";\n}(L || (L = {})), function (E) {\n  E[E.POINTS = 0] = \"POINTS\", E[E.LINES = 1] = \"LINES\", E[E.LINE_LOOP = 2] = \"LINE_LOOP\", E[E.LINE_STRIP = 3] = \"LINE_STRIP\", E[E.TRIANGLES = 4] = \"TRIANGLES\", E[E.TRIANGLE_STRIP = 5] = \"TRIANGLE_STRIP\", E[E.TRIANGLE_FAN = 6] = \"TRIANGLE_FAN\";\n}(o || (o = {})), function (E) {\n  E.OPAQUE = \"OPAQUE\", E.MASK = \"MASK\", E.BLEND = \"BLEND\";\n}(I || (I = {})), function (E) {\n  E[E.NoColor = 0] = \"NoColor\", E[E.FaceColor = 1] = \"FaceColor\", E[E.VertexColor = 2] = \"VertexColor\";\n}(N || (N = {}));\nexport { I as AlphaMode, L as AttributeType, E as BufferOutputType, N as ColorMode, A as ImageOutputType, o as MeshMode, R as TargetBuffer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { TargetBuffer as e, AttributeType as t } from \"./types.js\";\nimport { DataType as s } from \"../../../../../views/webgl/enums.js\";\nclass i {\n  constructor(t, s, i, r, n) {\n    this._buffer = t, this._componentType = i, this._dataType = r, this._data = [], this._isFinalized = !1, this._accessorIndex = -1, this._accessorAttribute = null, this._accessorMin = null, this._accessorMax = null, s.bufferViews || (s.bufferViews = []), this.index = s.bufferViews.length, this._bufferView = {\n      buffer: t.index,\n      byteLength: -1,\n      target: n\n    };\n    const a = this._getElementSize();\n    a >= 4 && n !== e.ELEMENT_ARRAY_BUFFER && (this._bufferView.byteStride = a), s.bufferViews.push(this._bufferView), this._numComponentsForDataType = this._calculateNumComponentsForDataType();\n  }\n  push(e) {\n    const t = this._data.length;\n    if (this._data.push(e), this._accessorIndex >= 0) {\n      const s = t % this._numComponentsForDataType,\n        i = this._accessorMin[s];\n      this._accessorMin[s] = \"number\" != typeof i ? e : Math.min(i, e);\n      const r = this._accessorMax[s];\n      this._accessorMax[s] = \"number\" != typeof r ? e : Math.max(r, e);\n    }\n  }\n  get dataSize() {\n    return this._data.length * this._sizeComponentType();\n  }\n  get byteSize() {\n    function e(e, t) {\n      return t * Math.ceil(e / t);\n    }\n    return e(this.dataSize, 4);\n  }\n  getByteOffset() {\n    if (!this._isFinalized) throw new Error(\"Cannot get BufferView offset until it is finalized\");\n    return this._buffer.getByteOffset(this);\n  }\n  get byteOffset() {\n    if (!this._isFinalized) throw new Error(\"Cannot get BufferView offset until it is finalized\");\n    return this._buffer.getByteOffset(this);\n  }\n  _createTypedArray(e, t) {\n    switch (this._componentType) {\n      case s.BYTE:\n        return new Int8Array(e, t);\n      case s.FLOAT:\n        return new Float32Array(e, t);\n      case s.SHORT:\n        return new Int16Array(e, t);\n      case s.UNSIGNED_BYTE:\n        return new Uint8Array(e, t);\n      case s.UNSIGNED_INT:\n        return new Uint32Array(e, t);\n      case s.UNSIGNED_SHORT:\n        return new Uint16Array(e, t);\n    }\n  }\n  writeOutToBuffer(e, t) {\n    this._createTypedArray(e, t).set(this._data);\n  }\n  writeAsync(e) {\n    if (this._asyncWritePromise) throw new Error(\"Can't write multiple bufferView values asynchronously\");\n    return this._asyncWritePromise = e.then(e => {\n      const t = new Uint8Array(e);\n      for (let s = 0; s < t.length; ++s) this._data.push(t[s]);\n      delete this._asyncWritePromise;\n    }), this._asyncWritePromise;\n  }\n  startAccessor(e) {\n    if (this._accessorIndex >= 0) throw new Error(\"Accessor was started without ending the previous one\");\n    this._accessorIndex = this._data.length, this._accessorAttribute = e;\n    const t = this._numComponentsForDataType;\n    this._accessorMin = new Array(t), this._accessorMax = new Array(t);\n  }\n  endAccessor() {\n    if (this._accessorIndex < 0) throw new Error(\"An accessor was not started, but was attempted to be ended\");\n    const e = this._getElementSize(),\n      t = this._numComponentsForDataType,\n      i = (this._data.length - this._accessorIndex) / t;\n    if (i % 1) throw new Error(\"An accessor was ended with missing component values\");\n    for (let s = 0; s < this._accessorMin.length; ++s) \"number\" != typeof this._accessorMin[s] && (this._accessorMin[s] = 0), \"number\" != typeof this._accessorMax[s] && (this._accessorMax[s] = 0);\n    const r = {\n      byteOffset: e * (this._accessorIndex / t),\n      componentType: this._componentType,\n      count: i,\n      type: this._dataType,\n      min: this._accessorMin,\n      max: this._accessorMax,\n      name: this._accessorAttribute\n    };\n    switch (this._accessorAttribute) {\n      case \"TEXCOORD_0\":\n      case \"TEXCOORD_1\":\n      case \"COLOR_0\":\n      case \"WEIGHTS_0\":\n        switch (this._componentType) {\n          case s.UNSIGNED_BYTE:\n          case s.UNSIGNED_SHORT:\n            r.normalized = !0;\n        }\n    }\n    return this._accessorIndex = -1, this._accessorAttribute = null, this._accessorMin = null, this._accessorMax = null, r;\n  }\n  get finalized() {\n    return this._finalizedPromise ? this._finalizedPromise : this._isFinalized ? this._finalizedPromise = Promise.resolve() : this._finalizedPromise = new Promise(e => this._finalizedPromiseResolve = e);\n  }\n  async finalize() {\n    const e = this._bufferView,\n      t = this._buffer.getViewFinalizePromises(this);\n    this._asyncWritePromise && t.push(this._asyncWritePromise), await Promise.allSettled(t), this._isFinalized = !0, e.byteOffset = this.getByteOffset(), e.byteLength = this.dataSize, this._finalizedPromiseResolve && this._finalizedPromiseResolve();\n  }\n  _getElementSize() {\n    return this._sizeComponentType() * this._numComponentsForDataType;\n  }\n  _sizeComponentType() {\n    switch (this._componentType) {\n      case s.BYTE:\n      case s.UNSIGNED_BYTE:\n        return 1;\n      case s.SHORT:\n      case s.UNSIGNED_SHORT:\n        return 2;\n      case s.UNSIGNED_INT:\n      case s.FLOAT:\n        return 4;\n    }\n  }\n  _calculateNumComponentsForDataType() {\n    switch (this._dataType) {\n      case t.SCALAR:\n        return 1;\n      case t.VEC2:\n        return 2;\n      case t.VEC3:\n        return 3;\n      case t.VEC4:\n      case t.MAT2:\n        return 4;\n      case t.MAT3:\n        return 9;\n      case t.MAT4:\n        return 16;\n    }\n  }\n}\nexport { i as BufferView };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { BufferView as e } from \"./bufferview.js\";\nclass i {\n  constructor(e) {\n    this._gltf = e, this._bufferViews = [], this._isFinalized = !1, e.buffers || (e.buffers = []), this.index = e.buffers.length;\n    const i = {\n      byteLength: -1\n    };\n    e.buffers.push(i), this._buffer = i;\n  }\n  addBufferView(i, t, r) {\n    if (this._finalizePromise) throw new Error(\"Cannot add buffer view after fiinalizing buffer\");\n    const f = new e(this, this._gltf, i, t, r);\n    return this._bufferViews.push(f), f;\n  }\n  getByteOffset(e) {\n    let i = 0;\n    for (const t of this._bufferViews) {\n      if (t === e) return i;\n      i += t.byteSize;\n    }\n    throw new Error(\"Given bufferView was not present in this buffer\");\n  }\n  getViewFinalizePromises(e) {\n    const i = [];\n    for (const t of this._bufferViews) {\n      if (e && t === e) return i;\n      i.push(t.finalized);\n    }\n    return i;\n  }\n  getArrayBuffer() {\n    if (!this._isFinalized) throw new Error(\"Cannot get ArrayBuffer from Buffer before it is finalized\");\n    const e = this._getTotalSize(),\n      i = new ArrayBuffer(e);\n    let t = 0;\n    for (const r of this._bufferViews) r.writeOutToBuffer(i, t), t += r.byteSize;\n    return i;\n  }\n  finalize() {\n    if (this._finalizePromise) throw new Error(`Buffer ${this.index} was already finalized`);\n    return this._finalizePromise = Promise.allSettled(this.getViewFinalizePromises()).then(() => {\n      this._isFinalized = !0;\n      const e = this.getArrayBuffer();\n      this._buffer.byteLength = e.byteLength, this._buffer.uri = e;\n    }), this._gltf.extras.promises.push(this._finalizePromise), this._finalizePromise;\n  }\n  _getTotalSize() {\n    let e = 0;\n    for (const i of this._bufferViews) e += i.byteSize;\n    return e;\n  }\n}\nexport { i as Buffer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { s as o, f as n, b as s, n as t } from \"../../../../../chunks/vec32.js\";\nimport { create as r } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nfunction c(o, n) {\n  if (o.components) for (const s of o.components) s.faces && \"smooth\" === s.shading && e(s, n);\n}\nfunction e(r, c) {\n  null == c.normal && (c.normal = new Float32Array(c.position.length));\n  const e = r.faces,\n    {\n      position: m,\n      normal: p\n    } = c,\n    h = e.length / 3;\n  for (let t = 0; t < h; ++t) {\n    const r = 3 * e[3 * t],\n      c = 3 * e[3 * t + 1],\n      l = 3 * e[3 * t + 2],\n      h = o(a, m[r], m[r + 1], m[r + 2]),\n      g = o(f, m[c], m[c + 1], m[c + 2]),\n      u = o(i, m[l], m[l + 1], m[l + 2]),\n      b = n(g, g, h),\n      j = n(u, u, h),\n      v = s(b, b, j);\n    p[r] += v[0], p[r + 1] += v[1], p[r + 2] += v[2], p[c] += v[0], p[c + 1] += v[1], p[c + 2] += v[2], p[l] += v[0], p[l + 1] += v[1], p[l + 2] += v[2];\n  }\n  for (let n = 0; n < p.length; n += 3) o(l, p[n], p[n + 1], p[n + 2]), t(l, l), p[n] = l[0], p[n + 1] = l[1], p[n + 2] = l[2];\n}\nconst a = r(),\n  f = r(),\n  i = r(),\n  l = r();\nexport { c as smoothNormals };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../core/Logger.js\";\nimport { getOrCreateMapValue as t } from \"../../../../../core/MapUtils.js\";\nimport { deg2rad as s } from \"../../../../../core/mathUtils.js\";\nimport { exactEquals as r } from \"../../../../../core/libs/gl-matrix-2/math/quat.js\";\nimport { IDENTITY as i, clone as a } from \"../../../../../core/libs/gl-matrix-2/factories/quatf64.js\";\nimport { e as o } from \"../../../../../chunks/vec32.js\";\nimport { ZEROS as n, clone as l, ONES as c } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport u from \"../../../MeshMaterialMetallicRoughness.js\";\nimport { convertVertexSpace as h } from \"../../vertexSpaceConversion.js\";\nimport { Buffer as f } from \"./buffer.js\";\nimport { smoothNormals as m } from \"./geometry.js\";\nimport { BufferOutputType as p, ImageOutputType as d, AttributeType as g, TargetBuffer as x, AlphaMode as _ } from \"./types.js\";\nimport { imageToArrayBuffer as T, imageToDataURI as R } from \"./imageutils.js\";\nimport { isEncodedMeshTexture as A } from \"../../../../../views/3d/glTF/internal/resourceUtils.js\";\nimport { DataType as b, TextureWrapMode as E } from \"../../../../../views/webgl/enums.js\";\nconst M = () => e.getLogger(\"esri.geometry.support.meshUtils.exporters.gltf.gltf\");\nclass O {\n  constructor(e, t) {\n    this.options = t, this._materialMap = new Array(), this._imageMap = new Map(), this._textureMap = new Map(), this.gltf = {\n      asset: {\n        version: \"2.0\",\n        copyright: e.copyright,\n        generator: e.generator\n      },\n      extras: {\n        output: t.output,\n        binChunkBuffer: null,\n        promises: []\n      }\n    }, this._addScenes(e);\n  }\n  _addScenes(e) {\n    this.gltf.scene = e.defaultScene;\n    const t = this.gltf.extras,\n      s = t.output.buffer === p.GLB || t.output.image === d.GLB;\n    s && (t.binChunkBuffer = new f(this.gltf)), e.forEachScene(e => {\n      this._addScene(e);\n    }), s && t.binChunkBuffer.finalize();\n  }\n  _addScene(e) {\n    this.gltf.scenes || (this.gltf.scenes = []);\n    const t = {};\n    e.name && (t.name = e.name), e.forEachNode(e => {\n      t.nodes || (t.nodes = []), t.nodes.push(...this._addNodes(e));\n    }), this.gltf.scenes.push(t);\n  }\n  _addNodes(e) {\n    this.gltf.nodes || (this.gltf.nodes = []);\n    const t = {};\n    e.name && (t.name = e.name);\n    const s = e.translation;\n    o(s, n) || (t.translation = l(s));\n    const u = e.rotation;\n    r(u, i) || (t.rotation = a(u));\n    const h = e.scale;\n    o(h, c) || (t.scale = l(h));\n    const f = this.gltf.nodes.length;\n    if (this.gltf.nodes.push(t), e.mesh && e.mesh.vertexAttributes.position) {\n      const s = this._createMeshes(e.mesh),\n        r = [f];\n      if (1 === s.length) this._addMesh(t, s[0]);else for (const e of s) {\n        const t = {};\n        this._addMesh(t, e), r.push(this.gltf.nodes.length), this.gltf.nodes.push(t);\n      }\n      return r;\n    }\n    return e.forEachNode(e => {\n      t.children || (t.children = []), t.children.push(...this._addNodes(e));\n    }), [f];\n  }\n  _addMesh(e, t) {\n    this.gltf.meshes ??= [];\n    const s = this.gltf.meshes.length;\n    this.gltf.meshes.push(t), e.mesh = s;\n  }\n  _createMeshes(e) {\n    const t = this.gltf.extras,\n      s = t.output.buffer === p.GLB;\n    let r;\n    r = s ? t.binChunkBuffer : new f(this.gltf);\n    const i = this.options.origin,\n      a = e.vertexSpace.clone();\n    a.origin = [i.x, i.y, i.z ?? 0];\n    const o = h({\n      vertexAttributes: e.vertexAttributes,\n      vertexSpace: e.vertexSpace,\n      transform: this.options?.ignoreLocalTransform ? null : e.transform,\n      spatialReference: e.spatialReference\n    }, a, {\n      targetUnit: \"meters\"\n    });\n    if (!o) return [];\n    m(e, o), w(o);\n    const {\n        position: n,\n        normal: l,\n        tangent: c\n      } = o,\n      {\n        uv: u,\n        color: d\n      } = e.vertexAttributes,\n      _ = r.addBufferView(b.FLOAT, g.VEC3, x.ARRAY_BUFFER);\n    let T, R, A, E;\n    l && (T = r.addBufferView(b.FLOAT, g.VEC3, x.ARRAY_BUFFER)), u && (R = r.addBufferView(b.FLOAT, g.VEC2, x.ARRAY_BUFFER)), c && (A = r.addBufferView(b.FLOAT, g.VEC4, x.ARRAY_BUFFER)), d && (E = r.addBufferView(b.UNSIGNED_BYTE, g.VEC4, x.ARRAY_BUFFER)), _.startAccessor(\"POSITION\"), T && T.startAccessor(\"NORMAL\"), R && R.startAccessor(\"TEXCOORD_0\"), A && A.startAccessor(\"TANGENT\"), E && E.startAccessor(\"COLOR_0\");\n    const M = o.position.length / 3;\n    for (let h = 0; h < M; ++h) _.push(n[3 * h]), _.push(n[3 * h + 1]), _.push(n[3 * h + 2]), T && null != l && (T.push(l[3 * h]), T.push(l[3 * h + 1]), T.push(l[3 * h + 2])), R && null != u && (R.push(u[2 * h]), R.push(u[2 * h + 1])), A && null != c && (A.push(c[4 * h]), A.push(c[4 * h + 1]), A.push(c[4 * h + 2]), A.push(c[4 * h + 3])), E && null != d && (E.push(d[4 * h]), E.push(d[4 * h + 1]), E.push(d[4 * h + 2]), E.push(d[4 * h + 3]));\n    const O = _.endAccessor(),\n      C = this._addAccessor(_.index, O);\n    let I, N, v, S, B;\n    if (T) {\n      const e = T.endAccessor();\n      I = this._addAccessor(T.index, e);\n    }\n    if (R) {\n      const e = R.endAccessor();\n      N = this._addAccessor(R.index, e);\n    }\n    if (A) {\n      const e = A.endAccessor();\n      v = this._addAccessor(A.index, e);\n    }\n    if (E) {\n      const e = E.endAccessor();\n      S = this._addAccessor(E.index, e);\n    }\n    const L = [];\n    return e.components && e.components.length > 0 && e.components[0].faces ? (B = r.addBufferView(b.UNSIGNED_INT, g.SCALAR, x.ELEMENT_ARRAY_BUFFER), this._addMeshVertexIndexed(B, e.components, L, C, I, N, v, S)) : this._addMeshVertexNonIndexed(e.components, L, C, I, N, v, S), _.finalize(), T && T.finalize(), R && R.finalize(), A && A.finalize(), B && B.finalize(), E && E.finalize(), s || r.finalize(), L;\n  }\n  _addMaterial(e) {\n    if (null === e) return;\n    const t = this._materialMap.indexOf(e);\n    if (-1 !== t) return t;\n    this.gltf.materials || (this.gltf.materials = []);\n    const s = {};\n    switch (e.alphaMode) {\n      case \"mask\":\n        s.alphaMode = _.MASK;\n        break;\n      case \"auto\":\n      case \"blend\":\n        s.alphaMode = _.BLEND;\n    }\n    .5 !== e.alphaCutoff && (s.alphaCutoff = e.alphaCutoff), e.doubleSided && (s.doubleSided = e.doubleSided), s.pbrMetallicRoughness = {};\n    const r = e => e ** 2.1,\n      i = e => {\n        const t = e.toRgba();\n        return t[0] = r(t[0] / 255), t[1] = r(t[1] / 255), t[2] = r(t[2] / 255), t;\n      };\n    if (null != e.color && (s.pbrMetallicRoughness.baseColorFactor = i(e.color)), null != e.colorTexture && (s.pbrMetallicRoughness.baseColorTexture = this._createTextureInfo(e.colorTexture, e.colorTextureTransform)), null != e.normalTexture && (s.normalTexture = this._createTextureInfo(e.normalTexture, e.normalTextureTransform)), e instanceof u) {\n      if (null != e.emissiveTexture && (s.emissiveTexture = this._createTextureInfo(e.emissiveTexture, e.emissiveTextureTransform)), null != e.emissiveColor) {\n        const t = i(e.emissiveColor);\n        s.emissiveFactor = [t[0], t[1], t[2]];\n      }\n      null != e.occlusionTexture && (s.occlusionTexture = this._createTextureInfo(e.occlusionTexture, e.occlusionTextureTransform)), null != e.metallicRoughnessTexture && (s.pbrMetallicRoughness.metallicRoughnessTexture = this._createTextureInfo(e.metallicRoughnessTexture, e.metallicRoughnessTextureTransform)), s.pbrMetallicRoughness.metallicFactor = e.metallic, s.pbrMetallicRoughness.roughnessFactor = e.roughness;\n    } else s.pbrMetallicRoughness.metallicFactor = 1, s.pbrMetallicRoughness.roughnessFactor = 1, M().warnOnce(\"Meshes exported to GLTF without MeshMaterialMetallicRoughness material will appear different when imported back.\");\n    const a = this.gltf.materials.length;\n    return this.gltf.materials.push(s), this._materialMap.push(e), a;\n  }\n  _createTextureInfo(e, t) {\n    const r = {\n      index: this._addTexture(e)\n    };\n    return t ? (r.extensions || (r.extensions = {}), r.extensions.KHR_texture_transform = {\n      scale: t.scale,\n      offset: t.offset,\n      rotation: s(t.rotation)\n    }, r) : r;\n  }\n  _addTexture(e) {\n    const s = this.gltf.textures ?? [];\n    return this.gltf.textures = s, t(this._textureMap, e, () => {\n      const t = {\n          sampler: this._addSampler(e),\n          source: this._addImage(e)\n        },\n        r = s.length;\n      return s.push(t), r;\n    });\n  }\n  _addImage(e) {\n    const t = this._imageMap.get(e);\n    if (null != t) return t;\n    this.gltf.images || (this.gltf.images = []);\n    const s = {};\n    if (e.url) s.uri = e.url;else {\n      const t = e.data;\n      s.extras = t;\n      for (let e = 0; e < this.gltf.images.length; ++e) if (t === this.gltf.images[e].extras) return e;\n      const r = this.gltf.extras;\n      switch (r.output.image) {\n        case d.GLB:\n          {\n            const e = r.binChunkBuffer.addBufferView(b.UNSIGNED_BYTE, g.SCALAR);\n            if (A(t)) null != t.data && e.writeOutToBuffer(t.data, 0);else {\n              const i = T(t, this.options.signal).then(({\n                data: e,\n                type: t\n              }) => (s.mimeType = t, e));\n              r.promises.push(e.writeAsync(i).then(() => {\n                e.finalize();\n              }));\n            }\n            s.bufferView = e.index;\n            break;\n          }\n        case d.DataURI:\n          if (A(t)) {\n            M().warnOnce(\"Image export for basis compressed textures not available.\");\n            break;\n          }\n          s.uri = R(t);\n          break;\n        default:\n          if (A(t)) {\n            M().warnOnce(\"Image export for basis compressed textures not available.\");\n            break;\n          }\n          r.promises.push(T(t, this.options.signal).then(({\n            data: e,\n            type: t\n          }) => {\n            s.uri = e, s.mimeType = t;\n          }));\n      }\n    }\n    const r = this.gltf.images.length;\n    return this.gltf.images.push(s), this._imageMap.set(e, r), r;\n  }\n  _addSampler(e) {\n    this.gltf.samplers || (this.gltf.samplers = []);\n    let t = E.REPEAT,\n      s = E.REPEAT;\n    if (\"string\" == typeof e.wrap) switch (e.wrap) {\n      case \"clamp\":\n        t = E.CLAMP_TO_EDGE, s = E.CLAMP_TO_EDGE;\n        break;\n      case \"mirror\":\n        t = E.MIRRORED_REPEAT, s = E.MIRRORED_REPEAT;\n    } else {\n      switch (e.wrap.vertical) {\n        case \"clamp\":\n          s = E.CLAMP_TO_EDGE;\n          break;\n        case \"mirror\":\n          s = E.MIRRORED_REPEAT;\n      }\n      switch (e.wrap.horizontal) {\n        case \"clamp\":\n          t = E.CLAMP_TO_EDGE;\n          break;\n        case \"mirror\":\n          t = E.MIRRORED_REPEAT;\n      }\n    }\n    const r = {\n      wrapS: t,\n      wrapT: s\n    };\n    for (let a = 0; a < this.gltf.samplers.length; ++a) if (JSON.stringify(r) === JSON.stringify(this.gltf.samplers[a])) return a;\n    const i = this.gltf.samplers.length;\n    return this.gltf.samplers.push(r), i;\n  }\n  _addAccessor(e, t) {\n    this.gltf.accessors || (this.gltf.accessors = []);\n    const s = {\n      bufferView: e,\n      byteOffset: t.byteOffset,\n      componentType: t.componentType,\n      count: t.count,\n      type: t.type,\n      min: t.min,\n      max: t.max,\n      name: t.name\n    };\n    t.normalized && (s.normalized = !0);\n    const r = this.gltf.accessors.length;\n    return this.gltf.accessors.push(s), r;\n  }\n  _addMeshVertexIndexed(e, t, s, r, i, a, o, n) {\n    const l = new Map();\n    for (const c of t) {\n      e.startAccessor(\"INDICES\");\n      for (let s = 0; s < c.faces.length; ++s) e.push(c.faces[s]);\n      const t = e.endAccessor(),\n        u = {\n          attributes: {\n            POSITION: r\n          },\n          indices: this._addAccessor(e.index, t),\n          material: this._addMaterial(c.material)\n        };\n      i && \"flat\" !== c.shading && (u.attributes.NORMAL = i), a && (u.attributes.TEXCOORD_0 = a), o && \"flat\" !== c.shading && (u.attributes.TANGENT = o), n && (u.attributes.COLOR_0 = n);\n      const h = l.get(c.name);\n      if (h) h.primitives.push(u);else {\n        const e = {\n          name: c.name,\n          primitives: [u]\n        };\n        l.set(c.name, e), s.push(e);\n      }\n    }\n  }\n  _addMeshVertexNonIndexed(e, t, s, r, i, a, o) {\n    const n = {\n      primitives: []\n    };\n    t.push(n);\n    const l = {\n      attributes: {\n        POSITION: s\n      }\n    };\n    r && (l.attributes.NORMAL = r), i && (l.attributes.TEXCOORD_0 = i), a && (l.attributes.TANGENT = a), o && (l.attributes.COLOR_0 = o), e && (l.material = this._addMaterial(e[0].material)), n.primitives.push(l);\n  }\n}\nfunction w({\n  position: e,\n  normal: t,\n  tangent: s\n}) {\n  C(e, 3), C(t, 3), C(s, 4);\n}\nfunction C(e, t) {\n  if (null != e) for (let s = 1, r = 2; s < e.length; s += t, r += t) {\n    const t = e[s],\n      i = e[r];\n    e[s] = i, e[r] = -t;\n  }\n}\nexport { O as GLTF };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { remove as e } from \"../../../../../core/arrayUtils.js\";\nclass s {\n  constructor() {\n    this.copyright = \"\", this.defaultScene = 0, this.generator = \"\", this._scenes = [];\n  }\n  addScene(e) {\n    if (this._scenes.includes(e)) throw new Error(\"Scene already added\");\n    this._scenes.push(e);\n  }\n  removeScene(s) {\n    e(this._scenes, s);\n  }\n  forEachScene(e) {\n    this._scenes.forEach(e);\n  }\n}\nexport { s as Asset };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass d {\n  constructor() {\n    this.name = \"\", this._nodes = [];\n  }\n  addNode(d) {\n    if (this._nodes.includes(d)) throw new Error(\"Node already added\");\n    this._nodes.push(d);\n  }\n  forEachNode(d) {\n    this._nodes.forEach(d);\n  }\n}\nexport { d as Scene };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromEuler as t } from \"../../../../../core/libs/gl-matrix-2/math/quat.js\";\nimport { create as s } from \"../../../../../core/libs/gl-matrix-2/factories/quatf64.js\";\nimport { create as o, clone as r, ONES as i } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nclass e {\n  constructor(t) {\n    this.mesh = t, this.name = \"\", this.translation = o(), this.rotation = s(), this.scale = r(i), this._nodes = [];\n  }\n  addNode(t) {\n    if (this._nodes.includes(t)) throw new Error(\"Node already added\");\n    this._nodes.push(t);\n  }\n  forEachNode(t) {\n    this._nodes.forEach(t);\n  }\n  set rotationAngles(s) {\n    t(this.rotation, s[0], s[1], s[2]);\n  }\n}\nexport { e as Node };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { throwIfAborted as e } from \"../../../../../core/promiseUtils.js\";\nimport { GLB as t } from \"./glb.js\";\nimport { GLTF as r } from \"./gltf.js\";\nimport { ImageOutputType as o, BufferOutputType as s } from \"./types.js\";\nexport { AlphaMode, AttributeType, ColorMode, MeshMode } from \"./types.js\";\nimport { isArrayBufferPNG as n, encodeBase64DataUri as a } from \"./imageutils.js\";\nexport { Asset } from \"./asset.js\";\nexport { Scene } from \"./scene.js\";\nexport { Node } from \"./node.js\";\nconst f = \"model.gltf\",\n  i = \"model.glb\";\nasync function u(u, l) {\n  const c = new r(u, l).gltf,\n    p = c.extras.promises;\n  let m = 1,\n    g = 1,\n    d = null;\n  await Promise.allSettled(p), e(l.signal);\n  const b = l.jsonSpacing ?? 4,\n    j = new Map(),\n    w = JSON.stringify(c, (e, t) => {\n      if (\"extras\" !== e) {\n        if (t instanceof ArrayBuffer) {\n          if (n(t)) switch (l.output?.image) {\n            case o.DataURI:\n            case o.GLB:\n              break;\n            case o.External:\n            default:\n              {\n                const e = `img${g}.png`;\n                return g++, j.set(e, t), e;\n              }\n          }\n          switch (l.output?.buffer) {\n            case s.DataURI:\n              return a(t);\n            case s.GLB:\n              if (d) throw new Error(\"Already encountered an ArrayBuffer, there should only be one in the GLB format.\");\n              return void (d = t);\n            case s.External:\n            default:\n              {\n                const e = `data${m}.bin`;\n                return m++, j.set(e, t), e;\n              }\n          }\n        }\n        return t;\n      }\n    }, b);\n  return l.output?.buffer === s.GLB || l.output?.image === o.GLB ? j.set(i, new t(w, d).buffer) : j.set(f, w), j;\n}\nasync function l(e, t) {\n  const r = (await u(e, {\n    output: {\n      buffer: s.GLB,\n      image: o.GLB\n    },\n    jsonSpacing: 0,\n    ...t\n  })).get(i);\n  if (!(r && r instanceof ArrayBuffer)) throw new Error(\"failed to export to glb\");\n  return r;\n}\nexport { s as BufferOutputType, o as ImageOutputType, l as exportGLB, u as exportGLTF, i as modelNameGlb, f as modelNameGltf };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { exportGLB as o } from \"./index.js\";\nimport { Node as n } from \"./node.js\";\nimport { Asset as e } from \"./asset.js\";\nimport { Scene as r } from \"./scene.js\";\nasync function i(i, t) {\n  const s = new e(),\n    m = new r();\n  return s.addScene(m), m.addNode(new n(i)), await o(s, {\n    origin: i.origin,\n    ...t\n  });\n}\nexport { i as toBinaryGLTF };"],
  "mappings": "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",
  "names": ["t", "e", "i", "r", "s", "n", "h", "_", "L", "o", "N", "E", "i", "t", "s", "r", "n", "a", "e", "L", "i", "e", "t", "r", "f", "c", "o", "n", "s", "e", "r", "m", "h", "t", "l", "a", "u", "i", "_", "M", "e", "t", "s", "i", "u", "o", "r", "h", "f", "a", "c", "n", "l", "d", "_", "L", "T", "R", "A", "E", "O", "C", "I", "N", "s", "e", "d", "e", "t", "n", "s", "f", "i", "u", "l", "c", "m", "d", "w", "e", "t", "s", "r", "i", "t", "s", "m", "e", "l"]
}
