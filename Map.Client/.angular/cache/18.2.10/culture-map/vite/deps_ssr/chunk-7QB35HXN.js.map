{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Accessor.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as t } from \"../../core/accessorSupport/decorators/subclass.js\";\nconst o = {\n  visible: \"visibleSublayers\"\n};\nlet a = class extends r {\n  constructor(e) {\n    super(e), this.scale = 0;\n  }\n  set layer(e) {\n    this._get(\"layer\") !== e && (this._set(\"layer\", e), this.removeHandles(\"layer\"), e && this.addHandles([e.sublayers.on(\"change\", () => this.notifyChange(\"visibleSublayers\")), e.on(\"wms-sublayer-update\", e => this.notifyChange(o[e.propertyName]))], \"layer\"));\n  }\n  get layers() {\n    return this.visibleSublayers.filter(({\n      name: e\n    }) => e).map(({\n      name: e\n    }) => e).join();\n  }\n  get version() {\n    this.commitProperty(\"layers\");\n    const e = this.layer;\n    return e && e.commitProperty(\"imageTransparency\"), (this._get(\"version\") || 0) + 1;\n  }\n  get visibleSublayers() {\n    const {\n        layer: e,\n        scale: r\n      } = this,\n      s = e?.sublayers,\n      t = [],\n      o = e => {\n        const {\n          minScale: s,\n          maxScale: a,\n          sublayers: l,\n          visible: i\n        } = e;\n        i && (0 === r || (0 === s || r <= s) && (0 === a || r >= a)) && (l ? l.forEach(o) : t.push(e));\n      };\n    return s?.forEach(o), t;\n  }\n  toJSON() {\n    const {\n        layer: e,\n        layers: r\n      } = this,\n      {\n        imageFormat: s,\n        imageTransparency: t,\n        version: o\n      } = e;\n    return {\n      format: s,\n      request: \"GetMap\",\n      service: \"WMS\",\n      styles: \"\",\n      transparent: t ? \"TRUE\" : \"FALSE\",\n      version: o,\n      layers: r\n    };\n  }\n};\ne([s()], a.prototype, \"layer\", null), e([s({\n  readOnly: !0\n})], a.prototype, \"layers\", null), e([s({\n  type: Number\n})], a.prototype, \"scale\", void 0), e([s({\n  readOnly: !0\n})], a.prototype, \"version\", null), e([s({\n  readOnly: !0\n})], a.prototype, \"visibleSublayers\", null), a = e([t(\"esri.layers.support.ExportWMSImageParameters\")], a);\nexport { a as ExportWMSImageParameters };"],
  "mappings": ";;;;;;;;;;;;;;;AAWA,IAAM,IAAI;AAAA,EACR,SAAS;AACX;AACA,IAAIA,KAAI,cAAc,EAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,QAAQ;AAAA,EACzB;AAAA,EACA,IAAI,MAAMA,IAAG;AACX,SAAK,KAAK,OAAO,MAAMA,OAAM,KAAK,KAAK,SAASA,EAAC,GAAG,KAAK,cAAc,OAAO,GAAGA,MAAK,KAAK,WAAW,CAACA,GAAE,UAAU,GAAG,UAAU,MAAM,KAAK,aAAa,kBAAkB,CAAC,GAAGA,GAAE,GAAG,uBAAuB,CAAAA,OAAK,KAAK,aAAa,EAAEA,GAAE,YAAY,CAAC,CAAC,CAAC,GAAG,OAAO;AAAA,EAChQ;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK,iBAAiB,OAAO,CAAC;AAAA,MACnC,MAAMA;AAAA,IACR,MAAMA,EAAC,EAAE,IAAI,CAAC;AAAA,MACZ,MAAMA;AAAA,IACR,MAAMA,EAAC,EAAE,KAAK;AAAA,EAChB;AAAA,EACA,IAAI,UAAU;AACZ,SAAK,eAAe,QAAQ;AAC5B,UAAMA,KAAI,KAAK;AACf,WAAOA,MAAKA,GAAE,eAAe,mBAAmB,IAAI,KAAK,KAAK,SAAS,KAAK,KAAK;AAAA,EACnF;AAAA,EACA,IAAI,mBAAmB;AACrB,UAAM;AAAA,MACF,OAAOA;AAAA,MACP,OAAO;AAAA,IACT,IAAI,MACJ,IAAIA,IAAG,WACP,IAAI,CAAC,GACLC,KAAI,CAAAD,OAAK;AACP,YAAM;AAAA,QACJ,UAAUE;AAAA,QACV,UAAUH;AAAA,QACV,WAAW;AAAA,QACX,SAAS;AAAA,MACX,IAAIC;AACJ,YAAM,MAAM,MAAM,MAAME,MAAK,KAAKA,QAAO,MAAMH,MAAK,KAAKA,SAAQ,IAAI,EAAE,QAAQE,EAAC,IAAI,EAAE,KAAKD,EAAC;AAAA,IAC9F;AACF,WAAO,GAAG,QAAQC,EAAC,GAAG;AAAA,EACxB;AAAA,EACA,SAAS;AACP,UAAM;AAAA,MACF,OAAOD;AAAA,MACP,QAAQ;AAAA,IACV,IAAI,MACJ;AAAA,MACE,aAAa;AAAA,MACb,mBAAmB;AAAA,MACnB,SAASC;AAAA,IACX,IAAID;AACN,WAAO;AAAA,MACL,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,aAAa,IAAI,SAAS;AAAA,MAC1B,SAASC;AAAA,MACT,QAAQ;AAAA,IACV;AAAA,EACF;AACF;AACA,EAAE,CAAC,EAAE,CAAC,GAAGF,GAAE,WAAW,SAAS,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EACzC,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,UAAU,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EACtC,MAAM;AACR,CAAC,CAAC,GAAGA,GAAE,WAAW,SAAS,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EACvC,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,WAAW,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EACvC,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,oBAAoB,IAAI,GAAGA,KAAI,EAAE,CAAC,EAAE,8CAA8C,CAAC,GAAGA,EAAC;",
  "names": ["a", "e", "o", "s"]
}
