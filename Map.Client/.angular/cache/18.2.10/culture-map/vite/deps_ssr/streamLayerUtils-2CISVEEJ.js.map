{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/save/streamLayerUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { save as e, saveAs as t } from \"./utils.js\";\nimport { getWGS84ExtentForItem as r, removeTypeKeyword as a, typeKeyword as s, addTypeKeyword as l } from \"../../portal/support/portalItemUtils.js\";\nconst n = \"Stream Service\",\n  i = \"Feed\",\n  o = \"stream-layer-save\",\n  m = \"stream-layer-save-as\";\nfunction u(e) {\n  return {\n    isValid: \"stream\" === e.type && !!e.url && !e.webSocketUrl,\n    errorMessage: \"Stream layer should be created using a url to a stream service\"\n  };\n}\nfunction c(e) {\n  const t = e.layerJSON;\n  return Promise.resolve(t && Object.keys(t).length ? t : null);\n}\nasync function y(e, t) {\n  const {\n    parsedUrl: n,\n    title: i,\n    fullExtent: o\n  } = e;\n  t.url = n.path, t.title ||= i, t.extent = null, null != o && (t.extent = await r(o)), a(t, s.METADATA), l(t, s.SINGLE_LAYER);\n}\nasync function p(t, r) {\n  return e({\n    layer: t,\n    itemType: n,\n    additionalItemType: i,\n    validateLayer: u,\n    createItemData: c,\n    errorNamePrefix: o\n  }, r);\n}\nasync function f(e, r, a) {\n  return t({\n    layer: e,\n    itemType: n,\n    validateLayer: u,\n    createItemData: c,\n    errorNamePrefix: m,\n    newItem: r,\n    setItemProperties: y\n  }, a);\n}\nexport { p as save, f as saveAs };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAM,IAAI;AAAV,IACEA,KAAI;AADN,IAEE,IAAI;AAFN,IAGE,IAAI;AACN,SAAS,EAAE,GAAG;AACZ,SAAO;AAAA,IACL,SAAS,aAAa,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE;AAAA,IAC9C,cAAc;AAAA,EAChB;AACF;AACA,SAAS,EAAE,GAAG;AACZ,QAAM,IAAI,EAAE;AACZ,SAAO,QAAQ,QAAQ,KAAK,OAAO,KAAK,CAAC,EAAE,SAAS,IAAI,IAAI;AAC9D;AACA,SAAe,EAAE,GAAG,GAAG;AAAA;AACrB,UAAM;AAAA,MACJ,WAAWC;AAAA,MACX,OAAOD;AAAA,MACP,YAAYE;AAAA,IACd,IAAI;AACJ,MAAE,MAAMD,GAAE,MAAM,EAAE,UAAUD,IAAG,EAAE,SAAS,MAAM,QAAQE,OAAM,EAAE,SAAS,MAAM,EAAEA,EAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,GAAG,EAAE,GAAG,EAAE,YAAY;AAAA,EAC7H;AAAA;AACA,SAAe,EAAE,GAAG,GAAG;AAAA;AACrB,WAAO,EAAE;AAAA,MACP,OAAO;AAAA,MACP,UAAU;AAAA,MACV,oBAAoBF;AAAA,MACpB,eAAe;AAAA,MACf,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,IACnB,GAAG,CAAC;AAAA,EACN;AAAA;AACA,SAAeG,GAAE,GAAG,GAAGC,IAAG;AAAA;AACxB,WAAO,EAAE;AAAA,MACP,OAAO;AAAA,MACP,UAAU;AAAA,MACV,eAAe;AAAA,MACf,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,MACjB,SAAS;AAAA,MACT,mBAAmB;AAAA,IACrB,GAAGA,EAAC;AAAA,EACN;AAAA;",
  "names": ["i", "n", "o", "f", "a"]
}
