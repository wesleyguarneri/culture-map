{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/widgets/Compass/CompassViewModel.js", "../../../../../../node_modules/@arcgis/core/widgets/Compass/css.js", "../../../../../../node_modules/@arcgis/core/widgets/Compass.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport o from \"../../core/Accessor.js\";\nimport has from \"../../core/has.js\";\nimport { watch as e, initial as i } from \"../../core/reactiveUtils.js\";\nimport { Milliseconds as r } from \"../../core/time.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { canShowNorth as n } from \"./utils.js\";\nimport { GoToMixin as p } from \"../support/GoTo.js\";\nlet d = class extends p(o) {\n  constructor(t) {\n    super(t), this.orientation = {\n      x: 0,\n      y: 0,\n      z: 0\n    }, this.view = null, this._updateForCamera = this._updateForCamera.bind(this), this._updateForRotation = this._updateForRotation.bind(this), this._updateRotationWatcher = this._updateRotationWatcher.bind(this);\n  }\n  initialize() {\n    this.addHandles(e(() => this.view, this._updateRotationWatcher, i));\n  }\n  destroy() {\n    this.view = null;\n  }\n  get canShowNorth() {\n    return n(this.view);\n  }\n  get state() {\n    return !this.view?.ready || \"2d\" === this.view.type && !this.view.constraints.rotationEnabled ? \"disabled\" : this.canShowNorth ? \"compass\" : \"rotation\";\n  }\n  reset() {\n    this.view?.ready && (\"2d\" === this.view?.type ? this.callGoTo({\n      target: {\n        rotation: 0\n      },\n      options: {\n        animationMode: \"always\",\n        duration: r(has(\"mapview-essential-goto-duration\"))\n      }\n    }) : this.callGoTo({\n      target: {\n        heading: 0\n      }\n    }));\n  }\n  _updateForRotation(t) {\n    null != t && this._set(\"orientation\", {\n      z: t\n    });\n  }\n  _updateForCamera(t) {\n    if (!t) return;\n    const o = -t.heading;\n    this._set(\"orientation\", {\n      x: 0,\n      y: 0,\n      z: o\n    });\n  }\n  _updateRotationWatcher(t) {\n    this.removeAllHandles(), t && this.addHandles(\"2d\" === t.type ? e(() => t?.rotation, this._updateForRotation, i) : e(() => t?.camera, this._updateForCamera, i));\n  }\n};\nt([s({\n  readOnly: !0\n})], d.prototype, \"canShowNorth\", null), t([s({\n  readOnly: !0\n})], d.prototype, \"orientation\", void 0), t([s({\n  readOnly: !0\n})], d.prototype, \"state\", null), t([s()], d.prototype, \"view\", void 0), d = t([a(\"esri.widgets.Compass.CompassViewModel\")], d);\nconst h = d;\nexport { h as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst n = \"esri-compass\",\n  o = {\n    base: n,\n    iconContainer: `${n}__icon-container`\n  };\nexport { o as css };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport { property as t } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as s } from \"../core/accessorSupport/decorators/subclass.js\";\nimport o from \"./Widget.js\";\nimport r from \"./Compass/CompassViewModel.js\";\nimport { css as i } from \"./Compass/css.js\";\nimport { loadCalciteComponents as n } from \"./support/componentsUtils.js\";\nimport { globalCss as a } from \"./support/globalCss.js\";\nimport \"./support/widgetUtils.js\";\nimport { messageBundle as l } from \"./support/decorators/messageBundle.js\";\nimport { tsx as p } from \"./support/jsxFactory.js\";\nlet c = class extends o {\n  constructor(e, t) {\n    super(e, t), this.messages = null, this.viewModel = new r(), this._reset = () => {\n      this.viewModel.reset();\n    }, this._toRotationTransform = e => ({\n      transform: `rotateZ(${e.z}deg)`\n    });\n  }\n  loadDependencies() {\n    return n({\n      button: () => import(\"@esri/calcite-components/dist/components/calcite-button.js\"),\n      icon: () => import(\"@esri/calcite-components/dist/components/calcite-icon.js\")\n    });\n  }\n  get goToOverride() {\n    return this.viewModel.goToOverride;\n  }\n  set goToOverride(e) {\n    this.viewModel.goToOverride = e;\n  }\n  get icon() {\n    return \"rotation\" === this.viewModel.state ? \"arrow-up\" : \"compass-needle\";\n  }\n  set icon(e) {\n    this._overrideIfSome(\"icon\", e);\n  }\n  get label() {\n    return this.messages?.widgetLabel ?? \"\";\n  }\n  set label(e) {\n    this._overrideIfSome(\"label\", e);\n  }\n  get view() {\n    return this.viewModel.view;\n  }\n  set view(e) {\n    this.viewModel.view = e;\n  }\n  reset() {\n    return this.viewModel.reset();\n  }\n  render() {\n    const {\n        orientation: e,\n        state: t\n      } = this.viewModel,\n      {\n        messages: s\n      } = this;\n    return p(\"div\", {\n      class: this.classes(i.base, a.widget)\n    }, p(\"calcite-button\", {\n      class: a.widgetButton,\n      disabled: \"disabled\" === t,\n      kind: \"neutral\",\n      label: s.reset,\n      onclick: this._reset,\n      round: !0,\n      scale: \"s\",\n      title: s.reset\n    }, p(\"div\", {\n      \"aria-hidden\": \"true\",\n      class: i.iconContainer,\n      title: s.reset\n    }, p(\"calcite-icon\", {\n      icon: this.icon,\n      styles: this._toRotationTransform(e)\n    }))));\n  }\n};\ne([t()], c.prototype, \"goToOverride\", null), e([t()], c.prototype, \"icon\", null), e([t()], c.prototype, \"label\", null), e([t(), l(\"esri/widgets/Compass/t9n/Compass\")], c.prototype, \"messages\", void 0), e([t()], c.prototype, \"view\", null), e([t({\n  type: r\n})], c.prototype, \"viewModel\", void 0), c = e([s(\"esri.widgets.Compass\")], c);\nconst d = c;\nexport { d as default };"],
  "mappings": "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",
  "names": ["d", "t", "e", "o", "n", "e", "t", "n", "d"]
}
