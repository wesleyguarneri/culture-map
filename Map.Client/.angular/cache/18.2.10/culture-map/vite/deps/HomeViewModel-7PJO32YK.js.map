{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/widgets/Home/HomeViewModel.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../Viewpoint.js\";\nimport e from \"../../core/Error.js\";\nimport i from \"../../core/Evented.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { GoToMixin as n } from \"../support/GoTo.js\";\nlet l = class extends n(i.EventedAccessor) {\n  constructor(o) {\n    super(o), this._initialViewpoint = null, this._goingHomeController = null, this.go = this.go.bind(this);\n  }\n  destroy() {\n    this._cancelGo(), this.view = null;\n  }\n  get state() {\n    return this.view?.ready ? this._goingHomeController ? \"going-home\" : \"ready\" : \"disabled\";\n  }\n  set view(o) {\n    this._initialViewpoint = null, this._set(\"view\", o), o && o.when().then(() => {\n      this.view === o && (this._initialViewpoint = o.viewpoint.clone(), this.notifyChange(\"viewpoint\"));\n    });\n  }\n  get viewpoint() {\n    return this._get(\"viewpoint\") || this._initialViewpoint;\n  }\n  set viewpoint(o) {\n    this._set(\"viewpoint\", o);\n  }\n  async go() {\n    if (!this.view?.ready) throw new e(\"home:disabled-state\", \"Cannot go when disabled.\");\n    this._cancelGo(), this.emit(\"go\");\n    const o = new AbortController();\n    this._goingHomeController = o;\n    try {\n      await this.view?.when(), await this.callGoTo({\n        target: this.viewpoint,\n        options: {\n          signal: o.signal\n        }\n      });\n    } catch (t) {}\n    this._goingHomeController = null;\n  }\n  cancelGo() {\n    this._cancelGo();\n  }\n  _cancelGo() {\n    const {\n      _goingHomeController: o\n    } = this;\n    o && o.abort(), this._goingHomeController = null;\n  }\n};\no([r()], l.prototype, \"_goingHomeController\", void 0), o([r({\n  readOnly: !0\n})], l.prototype, \"state\", null), o([r()], l.prototype, \"view\", null), o([r({\n  type: t\n})], l.prototype, \"viewpoint\", null), o([r()], l.prototype, \"go\", null), o([r()], l.prototype, \"cancelGo\", null), l = o([s(\"esri.widgets.Home.HomeViewModel\")], l);\nconst p = l;\nexport { p as default };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcA,IAAI,IAAI,cAAc,EAAE,EAAE,eAAe,EAAE;AAAA,EACzC,YAAYA,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,oBAAoB,MAAM,KAAK,uBAAuB,MAAM,KAAK,KAAK,KAAK,GAAG,KAAK,IAAI;AAAA,EACxG;AAAA,EACA,UAAU;AACR,SAAK,UAAU,GAAG,KAAK,OAAO;AAAA,EAChC;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,MAAM,QAAQ,KAAK,uBAAuB,eAAe,UAAU;AAAA,EACjF;AAAA,EACA,IAAI,KAAKA,IAAG;AACV,SAAK,oBAAoB,MAAM,KAAK,KAAK,QAAQA,EAAC,GAAGA,MAAKA,GAAE,KAAK,EAAE,KAAK,MAAM;AAC5E,WAAK,SAASA,OAAM,KAAK,oBAAoBA,GAAE,UAAU,MAAM,GAAG,KAAK,aAAa,WAAW;AAAA,IACjG,CAAC;AAAA,EACH;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK,KAAK,WAAW,KAAK,KAAK;AAAA,EACxC;AAAA,EACA,IAAI,UAAUA,IAAG;AACf,SAAK,KAAK,aAAaA,EAAC;AAAA,EAC1B;AAAA,EACM,KAAK;AAAA;AACT,UAAI,CAAC,KAAK,MAAM,MAAO,OAAM,IAAI,EAAE,uBAAuB,0BAA0B;AACpF,WAAK,UAAU,GAAG,KAAK,KAAK,IAAI;AAChC,YAAMA,KAAI,IAAI,gBAAgB;AAC9B,WAAK,uBAAuBA;AAC5B,UAAI;AACF,cAAM,KAAK,MAAM,KAAK,GAAG,MAAM,KAAK,SAAS;AAAA,UAC3C,QAAQ,KAAK;AAAA,UACb,SAAS;AAAA,YACP,QAAQA,GAAE;AAAA,UACZ;AAAA,QACF,CAAC;AAAA,MACH,SAASC,IAAG;AAAA,MAAC;AACb,WAAK,uBAAuB;AAAA,IAC9B;AAAA;AAAA,EACA,WAAW;AACT,SAAK,UAAU;AAAA,EACjB;AAAA,EACA,YAAY;AACV,UAAM;AAAA,MACJ,sBAAsBD;AAAA,IACxB,IAAI;AACJ,IAAAA,MAAKA,GAAE,MAAM,GAAG,KAAK,uBAAuB;AAAA,EAC9C;AACF;AACA,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,wBAAwB,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC1D,UAAU;AACZ,CAAC,CAAC,GAAG,EAAE,WAAW,SAAS,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,QAAQ,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EAC1E,MAAM;AACR,CAAC,CAAC,GAAG,EAAE,WAAW,aAAa,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,MAAM,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,YAAY,IAAI,GAAG,IAAI,EAAE,CAAC,EAAE,iCAAiC,CAAC,GAAG,CAAC;AACjK,IAAM,IAAI;",
  "names": ["o", "t"]
}
