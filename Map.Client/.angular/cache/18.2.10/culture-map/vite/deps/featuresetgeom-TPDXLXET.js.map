{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/arcade/functions/featuresetgeom.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ArcadeExecutionError as e, ExecutionErrorCodes as n } from \"../executionError.js\";\nimport { shapeExtent as t } from \"../kernel.js\";\nimport { I as r, H as i, j as a, u as s } from \"../../chunks/languageUtils.js\";\nimport u from \"../featureset/actions/SpatialFilter.js\";\nimport o from \"../featureset/sources/Empty.js\";\nimport l from \"../../geometry/Geometry.js\";\nimport { relate as c, crosses as f, touches as p, within as m, overlaps as d, contains as w, intersects as y } from \"../../geometry/geometryEngineAsync.js\";\nfunction h(e) {\n  return e instanceof l;\n}\nfunction S(i, a, c, S) {\n  return S(i, a, async (S, R, v) => {\n    if (v.length < 2) throw new e(i, n.WrongNumberOfParameters, a);\n    if (null === (v = r(v))[0] && null === v[1]) return !1;\n    if (s(v[0])) {\n      if (v[1] instanceof l) return new u({\n        parentfeatureset: v[0],\n        relation: c,\n        relationGeom: v[1]\n      });\n      if (null === v[1]) return new o({\n        parentfeatureset: v[0]\n      });\n      throw new e(i, n.InvalidParameter, a);\n    }\n    if (h(v[0])) {\n      if (h(v[1])) {\n        switch (c) {\n          case \"esriSpatialRelEnvelopeIntersects\":\n            return y(t(v[0]), t(v[1]));\n          case \"esriSpatialRelIntersects\":\n            return y(v[0], v[1]);\n          case \"esriSpatialRelContains\":\n            return w(v[0], v[1]);\n          case \"esriSpatialRelOverlaps\":\n            return d(v[0], v[1]);\n          case \"esriSpatialRelWithin\":\n            return m(v[0], v[1]);\n          case \"esriSpatialRelTouches\":\n            return p(v[0], v[1]);\n          case \"esriSpatialRelCrosses\":\n            return f(v[0], v[1]);\n        }\n        throw new e(i, n.InvalidParameter, a);\n      }\n      if (s(v[1])) return new u({\n        parentfeatureset: v[1],\n        relation: c,\n        relationGeom: v[0]\n      });\n      if (null === v[1]) return !1;\n      throw new e(i, n.InvalidParameter, a);\n    }\n    if (null === v[0]) {\n      if (s(v[1])) return new o({\n        parentfeatureset: v[1]\n      });\n      if (v[1] instanceof l || null === v[1]) return !1;\n    }\n    throw new e(i, n.InvalidParameter, a);\n  });\n}\nfunction R(t) {\n  \"async\" === t.mode && (t.functions.intersects = function (e, n) {\n    return S(e, n, \"esriSpatialRelIntersects\", t.standardFunctionAsync);\n  }, t.functions.envelopeintersects = function (e, n) {\n    return S(e, n, \"esriSpatialRelEnvelopeIntersects\", t.standardFunctionAsync);\n  }, t.signatures.push({\n    name: \"envelopeintersects\",\n    min: 2,\n    max: 2\n  }), t.functions.contains = function (e, n) {\n    return S(e, n, \"esriSpatialRelContains\", t.standardFunctionAsync);\n  }, t.functions.overlaps = function (e, n) {\n    return S(e, n, \"esriSpatialRelOverlaps\", t.standardFunctionAsync);\n  }, t.functions.within = function (e, n) {\n    return S(e, n, \"esriSpatialRelWithin\", t.standardFunctionAsync);\n  }, t.functions.touches = function (e, n) {\n    return S(e, n, \"esriSpatialRelTouches\", t.standardFunctionAsync);\n  }, t.functions.crosses = function (e, n) {\n    return S(e, n, \"esriSpatialRelCrosses\", t.standardFunctionAsync);\n  }, t.functions.relate = function (u, f) {\n    return t.standardFunctionAsync(u, f, async (t, p, m) => {\n      if (m = r(m), i(m, 3, 3, u, f), h(m[0]) && h(m[1])) return c(m[0], m[1], a(m[2]));\n      if (m[0] instanceof l && null === m[1]) return !1;\n      if (m[1] instanceof l && null === m[0]) return !1;\n      if (s(m[0]) && null === m[1]) return new o({\n        parentfeatureset: m[0]\n      });\n      if (s(m[1]) && null === m[0]) return new o({\n        parentfeatureset: m[1]\n      });\n      if (s(m[0]) && m[1] instanceof l) return m[0].relate(m[1], a(m[2]));\n      if (s(m[1]) && m[0] instanceof l) return m[1].relate(m[0], a(m[2]));\n      if (null === m[0] && null === m[1]) return !1;\n      throw new e(u, n.InvalidParameter, f);\n    });\n  });\n}\nexport { R as registerFunctions };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWA,SAASA,GAAE,GAAG;AACZ,SAAO,aAAa;AACtB;AACA,SAASC,GAAE,GAAGC,IAAG,GAAGD,IAAG;AACrB,SAAOA,GAAE,GAAGC,IAAG,CAAOD,IAAGE,IAAG,MAAM;AAChC,QAAI,EAAE,SAAS,EAAG,OAAM,IAAI,EAAE,GAAG,EAAE,yBAAyBD,EAAC;AAC7D,QAAI,UAAU,IAAI,GAAE,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE,CAAC,EAAG,QAAO;AACpD,QAAI,EAAE,EAAE,CAAC,CAAC,GAAG;AACX,UAAI,EAAE,CAAC,aAAa,EAAG,QAAO,IAAI,EAAE;AAAA,QAClC,kBAAkB,EAAE,CAAC;AAAA,QACrB,UAAU;AAAA,QACV,cAAc,EAAE,CAAC;AAAA,MACnB,CAAC;AACD,UAAI,SAAS,EAAE,CAAC,EAAG,QAAO,IAAI,EAAE;AAAA,QAC9B,kBAAkB,EAAE,CAAC;AAAA,MACvB,CAAC;AACD,YAAM,IAAI,EAAE,GAAG,EAAE,kBAAkBA,EAAC;AAAA,IACtC;AACA,QAAIF,GAAE,EAAE,CAAC,CAAC,GAAG;AACX,UAAIA,GAAE,EAAE,CAAC,CAAC,GAAG;AACX,gBAAQ,GAAG;AAAA,UACT,KAAK;AACH,mBAAO,EAAE,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;AAAA,UAC3B,KAAK;AACH,mBAAO,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAAA,UACrB,KAAK;AACH,mBAAO,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAAA,UACrB,KAAK;AACH,mBAAO,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAAA,UACrB,KAAK;AACH,mBAAO,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAAA,UACrB,KAAK;AACH,mBAAO,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAAA,UACrB,KAAK;AACH,mBAAO,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAAA,QACvB;AACA,cAAM,IAAI,EAAE,GAAG,EAAE,kBAAkBE,EAAC;AAAA,MACtC;AACA,UAAI,EAAE,EAAE,CAAC,CAAC,EAAG,QAAO,IAAI,EAAE;AAAA,QACxB,kBAAkB,EAAE,CAAC;AAAA,QACrB,UAAU;AAAA,QACV,cAAc,EAAE,CAAC;AAAA,MACnB,CAAC;AACD,UAAI,SAAS,EAAE,CAAC,EAAG,QAAO;AAC1B,YAAM,IAAI,EAAE,GAAG,EAAE,kBAAkBA,EAAC;AAAA,IACtC;AACA,QAAI,SAAS,EAAE,CAAC,GAAG;AACjB,UAAI,EAAE,EAAE,CAAC,CAAC,EAAG,QAAO,IAAI,EAAE;AAAA,QACxB,kBAAkB,EAAE,CAAC;AAAA,MACvB,CAAC;AACD,UAAI,EAAE,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC,EAAG,QAAO;AAAA,IACjD;AACA,UAAM,IAAI,EAAE,GAAG,EAAE,kBAAkBA,EAAC;AAAA,EACtC,EAAC;AACH;AACA,SAASC,GAAE,GAAG;AACZ,cAAY,EAAE,SAAS,EAAE,UAAU,aAAa,SAAU,GAAGC,IAAG;AAC9D,WAAOH,GAAE,GAAGG,IAAG,4BAA4B,EAAE,qBAAqB;AAAA,EACpE,GAAG,EAAE,UAAU,qBAAqB,SAAU,GAAGA,IAAG;AAClD,WAAOH,GAAE,GAAGG,IAAG,oCAAoC,EAAE,qBAAqB;AAAA,EAC5E,GAAG,EAAE,WAAW,KAAK;AAAA,IACnB,MAAM;AAAA,IACN,KAAK;AAAA,IACL,KAAK;AAAA,EACP,CAAC,GAAG,EAAE,UAAU,WAAW,SAAU,GAAGA,IAAG;AACzC,WAAOH,GAAE,GAAGG,IAAG,0BAA0B,EAAE,qBAAqB;AAAA,EAClE,GAAG,EAAE,UAAU,WAAW,SAAU,GAAGA,IAAG;AACxC,WAAOH,GAAE,GAAGG,IAAG,0BAA0B,EAAE,qBAAqB;AAAA,EAClE,GAAG,EAAE,UAAU,SAAS,SAAU,GAAGA,IAAG;AACtC,WAAOH,GAAE,GAAGG,IAAG,wBAAwB,EAAE,qBAAqB;AAAA,EAChE,GAAG,EAAE,UAAU,UAAU,SAAU,GAAGA,IAAG;AACvC,WAAOH,GAAE,GAAGG,IAAG,yBAAyB,EAAE,qBAAqB;AAAA,EACjE,GAAG,EAAE,UAAU,UAAU,SAAU,GAAGA,IAAG;AACvC,WAAOH,GAAE,GAAGG,IAAG,yBAAyB,EAAE,qBAAqB;AAAA,EACjE,GAAG,EAAE,UAAU,SAAS,SAAUC,IAAGC,IAAG;AACtC,WAAO,EAAE,sBAAsBD,IAAGC,IAAG,CAAOC,IAAGC,IAAGC,OAAM;AACtD,UAAIA,KAAI,GAAEA,EAAC,GAAG,GAAEA,IAAG,GAAG,GAAGJ,IAAGC,EAAC,GAAGN,GAAES,GAAE,CAAC,CAAC,KAAKT,GAAES,GAAE,CAAC,CAAC,EAAG,QAAO,EAAEA,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAG,GAAEA,GAAE,CAAC,CAAC,CAAC;AAChF,UAAIA,GAAE,CAAC,aAAa,KAAK,SAASA,GAAE,CAAC,EAAG,QAAO;AAC/C,UAAIA,GAAE,CAAC,aAAa,KAAK,SAASA,GAAE,CAAC,EAAG,QAAO;AAC/C,UAAI,EAAEA,GAAE,CAAC,CAAC,KAAK,SAASA,GAAE,CAAC,EAAG,QAAO,IAAI,EAAE;AAAA,QACzC,kBAAkBA,GAAE,CAAC;AAAA,MACvB,CAAC;AACD,UAAI,EAAEA,GAAE,CAAC,CAAC,KAAK,SAASA,GAAE,CAAC,EAAG,QAAO,IAAI,EAAE;AAAA,QACzC,kBAAkBA,GAAE,CAAC;AAAA,MACvB,CAAC;AACD,UAAI,EAAEA,GAAE,CAAC,CAAC,KAAKA,GAAE,CAAC,aAAa,EAAG,QAAOA,GAAE,CAAC,EAAE,OAAOA,GAAE,CAAC,GAAG,GAAEA,GAAE,CAAC,CAAC,CAAC;AAClE,UAAI,EAAEA,GAAE,CAAC,CAAC,KAAKA,GAAE,CAAC,aAAa,EAAG,QAAOA,GAAE,CAAC,EAAE,OAAOA,GAAE,CAAC,GAAG,GAAEA,GAAE,CAAC,CAAC,CAAC;AAClE,UAAI,SAASA,GAAE,CAAC,KAAK,SAASA,GAAE,CAAC,EAAG,QAAO;AAC3C,YAAM,IAAI,EAAEJ,IAAG,EAAE,kBAAkBC,EAAC;AAAA,IACtC,EAAC;AAAA,EACH;AACF;",
  "names": ["h", "S", "a", "R", "n", "u", "f", "t", "p", "m"]
}
