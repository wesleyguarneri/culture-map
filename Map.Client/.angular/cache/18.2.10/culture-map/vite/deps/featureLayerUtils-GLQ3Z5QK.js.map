{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/save/featureLayerUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { equals as e, difference as r, isSome as a } from \"../../core/arrayUtils.js\";\nimport t from \"../../core/Error.js\";\nimport { updateOrigins as n } from \"../../core/accessorSupport/originUtils.js\";\nimport { save as o, createJSONContextForWrite as s, getLayerJSON as i, setCommonItemProperties as l, saveAs as c, getPortalItem as u, addItem as p, ensureLayerConfig as y, ensureItemConfig as f, createErrorMessage as m } from \"./utils.js\";\nimport { parse as d } from \"../support/arcgisLayerUrl.js\";\nimport { fetchFeatureService as h, getLayerModuleType as w } from \"../support/fetchService.js\";\nimport { isLayerWithFeatureLayerSource as v } from \"../support/layerUtils.js\";\nimport { layerLookupMap as T } from \"../support/lazyLayerLoader.js\";\nimport { getWGS84ExtentForItem as I, removeTypeKeyword as S, typeKeyword as b, toggleTypeKeyword as A, addTypeKeyword as L } from \"../../portal/support/portalItemUtils.js\";\nconst P = \"Feature Service\",\n  E = \"feature-layer-utils\",\n  $ = `${E}-save`,\n  x = `${E}-save-as`,\n  N = `${E}-saveall`,\n  g = `${E}-saveall-as`;\nfunction O(e) {\n  return {\n    isValid: v(e) && (\"feature\" !== e.type || !e.dynamicDataSource),\n    errorMessage: \"Feature layer should be a layer or table in a map or feature service\"\n  };\n}\nfunction U(e) {\n  const r = [],\n    a = [];\n  for (const {\n    layer: t,\n    layerJSON: n\n  } of e) t.isTable ? a.push(n) : r.push(n);\n  return {\n    layers: r,\n    tables: a\n  };\n}\nfunction j(e) {\n  return U([e]);\n}\nasync function J(e, r) {\n  return /\\/\\d+\\/?$/.test(e.url) ? j(r[0]) : M(r, e);\n}\nasync function M(e, r) {\n  if (e.reverse(), !r) return U(e);\n  const a = await R(r, e);\n  for (const t of e) k(t.layer, t.layerJSON, a);\n  return K(a, e), a;\n}\nasync function R(e, r) {\n  let a = await e.fetchData(\"json\");\n  if (D(a)) return a;\n  a ||= {}, F(a);\n  const {\n    layer: {\n      url: t,\n      customParameters: n,\n      apiKey: o\n    }\n  } = r[0];\n  return await z(a, {\n    url: t ?? \"\",\n    customParameters: n,\n    apiKey: o\n  }, r.map(e => e.layer.layerId)), a;\n}\nfunction D(e) {\n  return !!(e && Array.isArray(e.layers) && Array.isArray(e.tables));\n}\nfunction F(e) {\n  e.layers ||= [], e.tables ||= [];\n}\nfunction K(e, r) {\n  const a = [],\n    t = [];\n  for (const {\n    layer: n\n  } of r) {\n    const {\n      isTable: e,\n      layerId: r\n    } = n;\n    e ? t.push(r) : a.push(r);\n  }\n  Y(e.layers, a), Y(e.tables, t);\n}\nfunction Y(r, a) {\n  if (r.length < 2) return;\n  const t = [];\n  for (const {\n    id: e\n  } of r) t.push(e);\n  e(t.sort(_), a.slice().sort(_)) && r.sort((e, r) => {\n    const t = a.indexOf(e.id),\n      n = a.indexOf(r.id);\n    return t < n ? -1 : t > n ? 1 : 0;\n  });\n}\nfunction _(e, r) {\n  return e < r ? -1 : e > r ? 1 : 0;\n}\nasync function z(e, r, a) {\n  const {\n      url: t,\n      customParameters: n,\n      apiKey: o\n    } = r,\n    {\n      serviceJSON: s,\n      layersJSON: i\n    } = await h(t, {\n      customParameters: n,\n      apiKey: o\n    }),\n    l = G(e.layers, s.layers, a),\n    c = G(e.tables, s.tables, a);\n  e.layers = l.itemResources, e.tables = c.itemResources;\n  const u = [...l.added, ...c.added],\n    p = i ? [...i.layers, ...i.tables] : [];\n  await B(e, u, t, p);\n}\nfunction G(e, a, t) {\n  const n = r(e, a, (e, r) => e.id === r.id);\n  e = e.filter(e => !n.removed.some(r => r.id === e.id));\n  const o = n.added;\n  return o.forEach(({\n    id: r\n  }) => {\n    e.push({\n      id: r\n    });\n  }), {\n    itemResources: e,\n    added: o.filter(({\n      id: e\n    }) => !t.includes(e))\n  };\n}\nasync function B(e, r, a, t) {\n  const n = await V(r),\n    o = r.map(({\n      id: e,\n      type: r\n    }) => new (n.get(r))({\n      url: a,\n      layerId: e,\n      sourceJSON: t.find(({\n        id: r\n      }) => r === e)\n    }));\n  await Promise.allSettled(o.map(e => e.load())), o.forEach(r => {\n    const {\n      layerId: a,\n      loaded: t,\n      defaultPopupTemplate: n\n    } = r;\n    if (!t || null == n) return;\n    const o = {\n      id: a,\n      popupInfo: n.toJSON()\n    };\n    \"ArcGISFeatureLayer\" !== r.operationalLayerType && (o.layerType = r.operationalLayerType), k(r, o, e);\n  });\n}\nasync function V(e) {\n  const r = [];\n  e.forEach(({\n    type: e\n  }) => {\n    const a = w(e),\n      t = T[a];\n    r.push(t());\n  });\n  const a = await Promise.all(r),\n    t = new Map();\n  return e.forEach(({\n    type: e\n  }, r) => {\n    t.set(e, a[r]);\n  }), t;\n}\nfunction k(e, r, a) {\n  e.isTable ? q(a.tables, r) : q(a.layers, r);\n}\nfunction q(e, r) {\n  const a = e.findIndex(({\n    id: e\n  }) => e === r.id);\n  -1 === a ? e.push(r) : e[a] = r;\n}\nfunction C(e, r) {\n  if (!e.length) throw new t(`${r}:missing-parameters`, \"'layers' array should contain at least one feature layer\");\n}\nfunction H(e, r) {\n  const a = e.map(e => e.portalItem.id);\n  if (new Set(a).size > 1) throw new t(`${r}:invalid-parameters`, \"All layers in the 'layers' array should be loaded from the same portal item\");\n}\nfunction Q(e, r) {\n  const a = e.map(e => e.layerId);\n  if (new Set(a).size !== a.length) throw new t(`${r}:invalid-parameters`, \"'layers' array should contain only one instance each of layer or table in a feature service\");\n}\nasync function W(e) {\n  C(e, N), await Promise.all(e.map(e => e.load()));\n  for (const r of e) y(r, N, O), f({\n    layer: r,\n    itemType: P,\n    errorNamePrefix: N\n  });\n  H(e, N), Q(e, N);\n}\nasync function X(e, r) {\n  const {\n      url: a,\n      layerId: t,\n      title: n,\n      fullExtent: o,\n      isTable: s\n    } = e,\n    i = d(a);\n  r.url = (\"FeatureServer\" === i?.serverType ? a : `${a}/${t}`) ?? null, r.title ||= n, r.extent = null, s || null == o || (r.extent = await I(o)), S(r, b.METADATA), S(r, b.MULTI_LAYER), L(r, b.SINGLE_LAYER), s && L(r, b.TABLE);\n}\nfunction Z(e, r) {\n  for (const s of e) {\n    const a = s.parsedUrl.path,\n      n = d(a),\n      o = n?.url.path;\n    if (!o) throw new t(`${r}:invalid-parameters`, m(s, `has unsupported url pattern: ${a}`), {\n      layer: s\n    });\n    const i = n?.serverType;\n    if (\"FeatureServer\" !== i && \"MapServer\" !== i) throw new t(`${r}:invalid-parameters`, m(s, `has unsupported server type: ${i}`), {\n      layer: s\n    });\n    if (\"MapServer\" === i && e.length > 1) throw new t(`${r}:invalid-parameters`, \"Only one layer or table in a map service can be saved\");\n  }\n  const a = d(e[0].parsedUrl.path),\n    n = a?.url.path,\n    o = e.every(e => {\n      const r = d(e.parsedUrl.path);\n      return r?.url.path === n;\n    });\n  if (!o) throw new t(`${r}:invalid-parameters`, \"'layers' array should only contain layers or tables that belong to the same feature service\");\n}\nasync function ee(e) {\n  C(e, g), await Promise.all(e.map(e => e.load()));\n  for (const r of e) y(r, g, O);\n  Z(e, g), Q(e, g);\n}\nasync function re(e, r) {\n  let t = 0,\n    n = 0;\n  for (const {\n    isTable: a\n  } of r) a ? n++ : t++;\n  const o = r[0].parsedUrl.path,\n    s = d(o);\n  if (e.url = \"FeatureServer\" === s?.serverType ? s.url.path : o, e.title ||= s.title, e.extent = null, t > 0) {\n    const t = r.map(e => e.fullExtent).filter(a).reduce((e, r) => e.clone().union(r));\n    t && (e.extent = await I(t));\n  }\n  S(e, b.METADATA), A(e, b.MULTI_LAYER, r.length > 1), A(e, b.SINGLE_LAYER, 1 === r.length), A(e, b.TABLE, n > 0 && 0 === t), l(e);\n}\nasync function ae(e, r) {\n  return o({\n    layer: e,\n    itemType: P,\n    validateLayer: O,\n    createItemData: (e, r) => J(r, [e]),\n    errorNamePrefix: $\n  }, r);\n}\nasync function te(e, r) {\n  await W(e);\n  const a = e[0].portalItem,\n    t = s(a),\n    o = await Promise.all(e.map(e => i(e, t, r))),\n    c = await J(a, e.map((e, r) => ({\n      layer: e,\n      layerJSON: o[r]\n    })));\n  return l(a), await a.update({\n    data: c\n  }), await Promise.all(e.slice(1).map(e => e.portalItem.reload())), n(t), a.clone();\n}\nasync function ne(e, r, a) {\n  return c({\n    layer: e,\n    itemType: P,\n    validateLayer: O,\n    createItemData: (e, r) => Promise.resolve(j(e)),\n    errorNamePrefix: x,\n    newItem: r,\n    setItemProperties: X\n  }, a);\n}\nasync function oe(e, r, a) {\n  await ee(e);\n  const t = u({\n      itemType: P,\n      errorNamePrefix: g,\n      newItem: r\n    }),\n    o = s(t),\n    l = await Promise.all(e.map(e => i(e, o, a))),\n    c = await M(e.map((e, r) => ({\n      layer: e,\n      layerJSON: l[r]\n    })));\n  await re(t, e), await p(t, c, a);\n  for (const n of e) n.portalItem = t.clone();\n  return n(o), t;\n}\nexport { ae as save, te as saveAll, oe as saveAllAs, ne as saveAs };"],
  "mappings": "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",
  "names": ["P", "$", "g", "O", "a", "t", "j", "e", "r", "s", "i", "l", "c", "u", "n", "o", "d"]
}
