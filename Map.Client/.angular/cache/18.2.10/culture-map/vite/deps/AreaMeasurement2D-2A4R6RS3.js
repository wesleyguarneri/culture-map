import {
  l as l2
} from "./chunk-VQZJVY7O.js";
import {
  f as f5
} from "./chunk-43JJA43P.js";
import {
  p as p3,
  u as u2
} from "./chunk-64ZF7LAW.js";
import "./chunk-MFDTVFVG.js";
import {
  e as e5
} from "./chunk-4YFNKQX7.js";
import "./chunk-LHQMQT36.js";
import {
  S as S2
} from "./chunk-YY43ZHCK.js";
import "./chunk-3FSYWRTQ.js";
import "./chunk-OZB3UTFI.js";
import {
  f as f4
} from "./chunk-FW2XFDFF.js";
import "./chunk-B4LRUYYJ.js";
import {
  e as e4
} from "./chunk-6VVHYTZ7.js";
import "./chunk-2SHZAJ7S.js";
import {
  a as a2
} from "./chunk-23XRL5UO.js";
import "./chunk-STVIJ4IV.js";
import "./chunk-QRVAQWLH.js";
import "./chunk-TMPIWG43.js";
import "./chunk-EU7GCI2A.js";
import "./chunk-WE6VW4MG.js";
import {
  E as E2,
  f as f3,
  n as n3,
  p as p2
} from "./chunk-VRZ6RXNW.js";
import {
  E2 as E,
  P as P2,
  p
} from "./chunk-Q666VSL3.js";
import "./chunk-P3B4Y6UN.js";
import "./chunk-5QM72RFD.js";
import "./chunk-TJIA4U42.js";
import "./chunk-WQXGIEVZ.js";
import {
  N
} from "./chunk-T3EGKTN6.js";
import "./chunk-ZFPMGEAK.js";
import "./chunk-4SCJM64G.js";
import {
  R as R2,
  v,
  w as w4,
  y as y3
} from "./chunk-DABQKFI5.js";
import "./chunk-67V5AGVJ.js";
import "./chunk-TLAW3ACJ.js";
import "./chunk-FLWLBYXO.js";
import "./chunk-F2TT4B6M.js";
import "./chunk-WTF7K3GK.js";
import "./chunk-2ERGO64O.js";
import "./chunk-RP2GKJCD.js";
import "./chunk-JKPO26TR.js";
import "./chunk-QL5HR3YL.js";
import "./chunk-UOIZXQPU.js";
import "./chunk-D3AKDIJC.js";
import {
  $,
  D,
  d as d5,
  g,
  j as j3
} from "./chunk-W6GMJ4SS.js";
import "./chunk-IIVUY2T7.js";
import {
  e as e3
} from "./chunk-HBMA4SRU.js";
import "./chunk-5NCKEQLF.js";
import {
  h as h3
} from "./chunk-GT3AQDRW.js";
import "./chunk-5APMY2AQ.js";
import {
  H,
  I,
  b,
  k,
  q as q2,
  w as w3
} from "./chunk-GHUJU3NS.js";
import "./chunk-SLCHZ6DD.js";
import "./chunk-YZBHNRVB.js";
import "./chunk-IJVN5N2Q.js";
import "./chunk-SNHPS7NU.js";
import "./chunk-CZQYBYHB.js";
import "./chunk-Q5ZRUB2Y.js";
import "./chunk-VS26W5Y5.js";
import "./chunk-LM2N2I5R.js";
import {
  h as h2
} from "./chunk-PVO5NM6Q.js";
import "./chunk-YFQ32AQX.js";
import "./chunk-L4AYSXFJ.js";
import "./chunk-POQ3T5EH.js";
import "./chunk-DM4WHMQY.js";
import "./chunk-6MR4UDDL.js";
import "./chunk-XQCKIDQO.js";
import "./chunk-L7ZKWTWL.js";
import "./chunk-O2DTA3XK.js";
import "./chunk-ZE47C44H.js";
import "./chunk-5GIS2C3K.js";
import "./chunk-XCOHDMBF.js";
import "./chunk-QCBC3RJX.js";
import "./chunk-HOH445RO.js";
import {
  l
} from "./chunk-KKD7A2GN.js";
import "./chunk-ZWCV4HKG.js";
import "./chunk-N4KQPPPI.js";
import "./chunk-4OGGMTIH.js";
import "./chunk-NQVBBKAN.js";
import {
  G,
  R,
  q
} from "./chunk-TCPN7AEH.js";
import "./chunk-DY7FJHTG.js";
import "./chunk-Q4KYZS3X.js";
import "./chunk-BQZBOYBD.js";
import "./chunk-TYQXPPSP.js";
import "./chunk-TRSGUVSM.js";
import "./chunk-U3MA63JX.js";
import "./chunk-WYKKCLBI.js";
import "./chunk-PFMGJTQM.js";
import "./chunk-DWASPXVI.js";
import "./chunk-T2S5VXNP.js";
import "./chunk-4U5GUJRA.js";
import {
  d as d4
} from "./chunk-HD65DNIO.js";
import "./chunk-4KWLMXIA.js";
import "./chunk-BIUXKPKA.js";
import "./chunk-N6TJI25E.js";
import "./chunk-634JLXD4.js";
import "./chunk-Y3EDGYWG.js";
import "./chunk-UF6JOUSJ.js";
import {
  m2,
  m3
} from "./chunk-T5JGQSO3.js";
import "./chunk-CIW3KHOW.js";
import "./chunk-J55F4AC2.js";
import {
  S
} from "./chunk-IQLBZKUD.js";
import {
  y as y2
} from "./chunk-7MZZCQ64.js";
import "./chunk-IMVP5ADD.js";
import "./chunk-H7WPOTQH.js";
import "./chunk-6A7CWJED.js";
import {
  K,
  W,
  _ as _2
} from "./chunk-DUTZNK67.js";
import "./chunk-IN6BQCWS.js";
import "./chunk-JM7HAEY6.js";
import "./chunk-OUKUASAF.js";
import "./chunk-V5RMUGJJ.js";
import "./chunk-D2NB6D6N.js";
import "./chunk-UWJIHV6Q.js";
import "./chunk-M2NS3MSU.js";
import "./chunk-HMNBB7ED.js";
import "./chunk-3RRMLFFN.js";
import "./chunk-DR5TVNEL.js";
import "./chunk-HT2T6PUB.js";
import "./chunk-K64AAM77.js";
import "./chunk-6EUVKE22.js";
import "./chunk-A3NNJ7XA.js";
import "./chunk-OKJHJ3CY.js";
import "./chunk-XTVPEVHA.js";
import "./chunk-DTUSTSEJ.js";
import "./chunk-JCWFGRHQ.js";
import "./chunk-JILEJ6R2.js";
import "./chunk-GAW5JHG4.js";
import "./chunk-OEKKQXBD.js";
import "./chunk-S3IO7V4Q.js";
import {
  d as d3
} from "./chunk-DZALMCYL.js";
import "./chunk-K226GFDN.js";
import "./chunk-4ZZRP4MA.js";
import "./chunk-7ZJ6P7J7.js";
import "./chunk-FPFZQCEQ.js";
import {
  B,
  e2
} from "./chunk-WYMXVOAT.js";
import {
  n as n2
} from "./chunk-K7TO5IIO.js";
import "./chunk-A4VVDRCH.js";
import "./chunk-CQDYITZC.js";
import "./chunk-5I6J67HP.js";
import "./chunk-YVULORT6.js";
import {
  h
} from "./chunk-PB33BAI3.js";
import "./chunk-CVB43GGP.js";
import "./chunk-LLDOZWVV.js";
import "./chunk-7XMEZQ34.js";
import "./chunk-BDM2D6IC.js";
import "./chunk-U2ZVAEKG.js";
import "./chunk-EDSMXTFO.js";
import {
  f
} from "./chunk-MNLT652N.js";
import "./chunk-OGZAGPIO.js";
import "./chunk-HJJIIYFF.js";
import "./chunk-ONPREQKF.js";
import "./chunk-7RMVJCDW.js";
import "./chunk-GTY5NXA4.js";
import {
  j as j2,
  m2 as m
} from "./chunk-T6GCUITX.js";
import "./chunk-TUIGM7TV.js";
import "./chunk-IHVSZYZS.js";
import "./chunk-6CA6K3O7.js";
import "./chunk-NYQ5CYNR.js";
import {
  _
} from "./chunk-O7UDKFOW.js";
import {
  f as f2
} from "./chunk-TKPMIAIW.js";
import "./chunk-NQOJNTB3.js";
import "./chunk-MFOQYQFG.js";
import "./chunk-NKCPFCP3.js";
import "./chunk-3ZXOUEQG.js";
import "./chunk-AXVPJBVW.js";
import "./chunk-OXEPWRM7.js";
import "./chunk-POILQGXA.js";
import {
  j,
  w2
} from "./chunk-JJS7PR2U.js";
import "./chunk-L5YS4GSA.js";
import "./chunk-PRREDSOB.js";
import "./chunk-V5C6HSAM.js";
import "./chunk-SYATLP3H.js";
import "./chunk-V6AMQYXE.js";
import {
  P,
  d as d2,
  w
} from "./chunk-6WHTZNUH.js";
import "./chunk-EITGQLII.js";
import "./chunk-TIVJXVMN.js";
import "./chunk-XNUH25NY.js";
import "./chunk-WGAPNV7F.js";
import "./chunk-BXQGM56A.js";
import {
  e
} from "./chunk-4Z5SGKRM.js";
import "./chunk-YPWMP2VK.js";
import "./chunk-23E6RT3O.js";
import "./chunk-RCBGISRX.js";
import "./chunk-2P72IR2Y.js";
import {
  i
} from "./chunk-ANKOCGE2.js";
import {
  y
} from "./chunk-7CJXZOFG.js";
import "./chunk-IRGZKO7V.js";
import "./chunk-5SELS7VU.js";
import {
  a3 as a
} from "./chunk-DDYVXG4F.js";
import "./chunk-ANP42J2U.js";
import {
  d
} from "./chunk-HJY2YILU.js";
import "./chunk-7DA6A5LD.js";
import {
  u
} from "./chunk-2MMLMOWS.js";
import "./chunk-4323ZVPF.js";
import {
  n2 as n
} from "./chunk-WYIDUUN2.js";
import "./chunk-DXLOWWK7.js";
import {
  __async,
  __spreadProps,
  __spreadValues
} from "./chunk-JWIQHGQB.js";

// ../../../node_modules/@arcgis/core/widgets/AreaMeasurement2D/AreaMeasurement2DTool.js
var re = 1e5;
var se = class extends n3 {
  constructor(e6) {
    super(e6), this._drawActive = false, this._measurementLayer = new h3({
      internal: true,
      listMode: "hide",
      visible: false
    }), this._manipulatorLayer = new h3({
      internal: true,
      listMode: "hide",
      visible: false
    }), this._snappingLayer = new h3({
      internal: true,
      listMode: "hide",
      visible: false
    }), this._updatingHandles = new h2(), this._vertices = [], this.geodesicDistanceThreshold = null, this.measurement = null, this.measurementLabel = null;
  }
  initialize() {
    h("esri/core/t9n/Units").then((e7) => {
      this.messages = e7;
    });
    const e6 = this.view;
    this._draw = new l2({
      view: e6
    }), e6.map.addMany([this._measurementLayer, this._manipulatorLayer, this._snappingLayer]), e6.focus(), this._snappingManagerResult = a2(e6), this.addHandles([f(() => __async(this, null, function* () {
      this.messages = yield h("esri/core/t9n/Units");
    })), d2(() => [this.unit, this.geodesicDistanceThreshold, this.messages], () => {
      this._updateGraphics();
    }, P), d2(() => [this.view.effectiveTheme.accentColor, this.view.effectiveTheme.textColor], () => {
      if (!this._vertices.length) return;
      const e7 = this._vertices.map(({
        coord: e8
      }) => e8);
      for (const {
        handle: t
      } of this._vertices) t.remove();
      this._vertices = [], this._measurementLayer.removeAll(), this._manipulatorLayer.removeAll(), this._snappingLayer.removeAll(), this.manipulators.removeAll(), this._updateSketch(e7);
    }), d2(() => this.snappingOptions.featureSources, (e7) => {
      for (const t of e7) t.layer !== this._measurementLayer && t.layer !== this._manipulatorLayer || (t.enabled = false);
    }, P), this._snappingManagerResult]), N(this);
  }
  destroy() {
    const {
      map: e6
    } = this.view;
    this._draw.view = null, this._draw = u(this._draw), e6.removeMany([this._measurementLayer, this._manipulatorLayer, this._snappingLayer]), this._measurementLayer.removeAll(), this._manipulatorLayer.removeAll(), this._snappingLayer.removeAll(), this._set("measurement", null), this._set("measurementLabel", null), this._measurementLayer = u(this._measurementLayer), this._manipulatorLayer = u(this._manipulatorLayer), this._snappingLayer = u(this._snappingLayer), this._updatingHandles = u(this._updatingHandles), this._resetVertices();
  }
  get _snappingManager() {
    return this._snappingManagerResult.snappingManager;
  }
  get cursor() {
    return this._drawActive ? "crosshair" : null;
  }
  set editable(e6) {
    this._set("editable", e6), e6 || this._draw.reset();
  }
  get snappingOptions() {
    return this._snappingManager.options;
  }
  get updating() {
    return this._updatingHandles.updating || this._snappingManager.updating;
  }
  onActivate() {
    this._drawActive || 0 !== this._vertices.length || this._startSketch();
  }
  onShow() {
    this._measurementLayer.visible = true, this._manipulatorLayer.visible = true, this._snappingLayer.visible = true;
  }
  onHide() {
    this._measurementLayer.visible = false, this._manipulatorLayer.visible = false, this._snappingLayer.visible = false;
  }
  reset() {
    this.manipulators.removeAll(), this._resetVertices(), this._measurementLayer.removeAll(), this._manipulatorLayer.removeAll(), this._set("measurement", null), this._set("measurementLabel", null), this._draw.reset(), this._drawActive = false;
  }
  _getSnappingContext(e6) {
    return new e4({
      elevationInfo: {
        mode: "on-the-ground",
        offset: 0
      },
      pointer: e6,
      editGeometryOperations: new E(new p("point", P2(false, false, this.view.spatialReference)), l.Local),
      visualizer: new f5(this._snappingLayer)
    });
  }
  _resetVertices() {
    for (const {
      handle: e6
    } of this._vertices) e6.remove();
    this._vertices = [];
  }
  _startSketch() {
    this._drawActive = true;
    const e6 = this._snappingManager, t = this._draw.create("polyline", {
      mode: "click",
      snappingManager: e6
    });
    t.on(["vertex-add", "vertex-update", "vertex-remove", "cursor-update", "undo", "redo"], (e7) => this._updateSketch(e7.vertices)), t.on("draw-complete", () => this._stopSketch());
  }
  _stopSketch() {
    if (this._vertices.length < 3) return this.reset(), void this._startSketch();
    this.manipulators.forEach(({
      manipulator: e6
    }) => {
      e6.interactive = true;
    }), this._drawActive = false, this.finishToolCreation();
  }
  _updateSketch(e6) {
    const t = this.view.spatialReference;
    if (t && (!oe(t) || _2())) {
      for (; this._vertices.length > e6.length; ) {
        const {
          handle: e7,
          manipulator: t2
        } = this._vertices.pop();
        e7.remove(), this.manipulators.remove(t2);
      }
      for (let r = this._vertices.length; r < e6.length; r++) {
        const [s, i2] = e6[r], a3 = new _({
          x: s,
          y: i2,
          spatialReference: t
        }), n4 = ie(a3, this.view, this._manipulatorLayer);
        this.manipulators.add(n4);
        const o = E.fromGeometry(a3, l.Local);
        o.on("vertex-update", (e7) => {
          const t2 = e7.vertices.at(0);
          t2 && (this._vertices[r].coord = [t2.pos[0], t2.pos[1]], this._updateGraphics());
        });
        const m5 = p2(n4, (e7, t2, r2, s2) => {
          const i3 = this._getSnappingContext(s2), a4 = this._snappingManager, n5 = this._updatingHandles, {
            snappingStep: m6
          } = f4({
            snappingContext: i3,
            snappingManager: a4,
            updatingHandles: n5
          });
          t2.next(E2(this.view)).next((t3) => {
            if ("start" === t3.action) {
              const r3 = new _(t3.mapStart);
              e7.graphic.geometry = r3, o.trySetGeometry(r3);
            }
            return t3;
          }).next(...m6).next(f3({
            operations: o
          })).next(() => {
            e7.graphic.geometry = o.data.geometry;
          });
        });
        this._vertices.push({
          manipulator: n4,
          coord: [s, i2],
          handle: m5
        });
      }
      if (this._vertices.length) {
        const r = this._vertices.length - 1, s = this._vertices[r], [i2, a3] = e6[r];
        s.coord[0] === i2 && s.coord[1] === a3 || (s.coord = [i2, a3], s.manipulator.graphic.geometry = new _({
          x: i2,
          y: a3,
          spatialReference: t
        }));
        const n4 = this._drawActive ? this._vertices[r].manipulator : null;
        this.manipulators.forEach(({
          manipulator: e7
        }) => {
          e7.interactive = null == n4 || e7 !== n4;
        });
      }
      this._updateGraphics();
    }
  }
  _updateGraphics() {
    if (this._vertices.length < 2) return void this._measurementLayer.removeAll();
    const e6 = ae(this._vertices.map(({
      coord: e7
    }) => e7), this.view.spatialReference, this.geodesicDistanceThreshold);
    if (!e6) return;
    const {
      measurement: a3,
      fillGeometry: n4,
      outlineGeometry: o
    } = e6;
    this._set("measurement", a3);
    const m5 = a3 ? me(this.messages, a3, this.unit) : null;
    if (this._set("measurementLabel", m5), !n4 && !o) return;
    let l3, p4, c2;
    const {
      graphics: u4
    } = this._measurementLayer, h4 = 3 === u4.length, {
      effectiveTheme: d7
    } = this.view;
    h4 ? (l3 = u4.at(0), p4 = u4.at(1), c2 = u4.at(2)) : (l3 = new d4({
      symbol: new S({
        color: R(d7.accentColor, 0.3),
        outline: null
      })
    }), p4 = new d4({
      symbol: new d3({
        color: d7.accentColor,
        width: 2
      })
    }), c2 = new d4({
      symbol: new m3({
        color: d7.textColor,
        font: new m2({
          size: 14,
          family: "sans-serif"
        }),
        haloColor: R(G(d7.textColor, q.Low), 0.5),
        haloSize: 2
      })
    }), u4.removeAll(), u4.addMany([l3, p4, c2])), l3.geometry = n4, p4.geometry = o, c2.geometry = n4?.centroid, c2.symbol.text = m5?.area ?? "";
  }
};
function ie(e6, s, i2) {
  const a3 = 8, n4 = {
    style: "circle",
    color: R(s.effectiveTheme.accentColor, 0.5),
    outline: {
      type: "simple-line",
      width: 0
    }
  }, o = new y2(__spreadProps(__spreadValues({}, n4), {
    size: a3
  })), m5 = new y2(__spreadProps(__spreadValues({}, n4), {
    size: 1.5 * a3
  })), l3 = new d4({
    geometry: e6,
    symbol: o
  });
  return new S2({
    view: s,
    layer: i2,
    graphic: l3,
    focusedSymbol: m5
  });
}
function ae(e6, t, r) {
  if (2 === e6.length) {
    const s2 = new m({
      paths: e6,
      spatialReference: t
    });
    let i3;
    if (t?.isGeographic) {
      if (w4(t)) i3 = R2(s2, re);
      else {
        const e7 = K(s2, f2.WGS84), r2 = R2(e7, re);
        i3 = K(r2, t);
      }
    } else if (t?.isWebMercator) i3 = H(s2, re, "meters");
    else {
      if (b(s2, "meters") >= pe(r)) {
        const e7 = K(s2, f2.WGS84), r2 = R2(e7, re);
        i3 = K(r2, t);
      } else i3 = s2;
    }
    return {
      measurement: null,
      fillGeometry: null,
      outlineGeometry: i3
    };
  }
  e6.push(e6[0]);
  const s = new m({
    paths: [e6],
    spatialReference: t
  }), i2 = new j2({
    rings: [e6],
    spatialReference: t
  });
  let a3, n4, o = null, m5 = null;
  if (t?.isGeographic) {
    if (w4(t)) {
      if (o = R2(s, re), m5 = R2(i2, re), m5 = w3(m5), !m5) return null;
      a3 = v([s], "meters")[0], n4 = y3([m5], "square-meters")[0];
    } else {
      const e7 = f2.WGS84, r2 = K(s, e7), l3 = K(i2, e7);
      if (o = R2(r2, re), m5 = R2(l3, re), m5 = w3(m5), !m5) return null;
      a3 = v([r2], "meters")[0], n4 = y3([m5], "square-meters")[0], o = K(o, t), m5 = K(m5, t);
    }
  } else if (t?.isWebMercator) {
    if (o = H(s, re, "meters"), m5 = H(i2, re, "meters"), m5 = w3(m5), !m5) return null;
    a3 = q2(s, "meters"), n4 = k(m5, "square-meters");
  } else {
    const e7 = b(s, "meters");
    if (e7 >= pe(r)) {
      const e8 = f2.WGS84, r2 = K(s, e8), l3 = K(i2, e8);
      if (o = R2(r2, re), m5 = R2(l3, re), m5 = w3(m5), !m5) return null;
      a3 = v([r2], "meters")[0], n4 = y3([m5], "square-meters")[0], o = K(o, t), m5 = K(m5, t);
    } else {
      if (o = s, m5 = w3(i2), !m5) return null;
      a3 = e7, n4 = I(m5, "square-meters");
    }
  }
  return {
    measurement: {
      geometry: m5,
      area: n4,
      perimeter: a3
    },
    fillGeometry: m5,
    outlineGeometry: o
  };
}
function ne(e6) {
  return null != e6;
}
function oe(e6) {
  if (!e6) return false;
  const {
    isGeographic: t,
    isWebMercator: r,
    isWGS84: s
  } = e6;
  return t && !s && !w4(e6) || !t && !r;
}
function me(e6, t, r) {
  if (!t || !e6) return null;
  const s = {
    area: null,
    perimeter: null
  }, {
    area: i2,
    perimeter: a3
  } = t;
  switch (r) {
    case "metric":
      s.area = $(e6, i2, "square-meters");
      break;
    case "imperial":
      s.area = j3(e6, i2, "square-meters");
      break;
    default: {
      const t2 = j(i2, "square-meters", r);
      s.area = g(e6, t2, r);
      break;
    }
  }
  const n4 = le(r);
  if (n4) switch (n4) {
    case "metric":
      s.perimeter = D(e6, a3, "meters");
      break;
    case "imperial":
      s.perimeter = d5(e6, a3, "meters");
      break;
    default: {
      const t2 = j(a3, "meters", n4);
      s.perimeter = g(e6, t2, n4);
      break;
    }
  }
  else s.perimeter = "";
  return s;
}
function le(e6) {
  switch (e6) {
    case "metric":
    case "ares":
    case "hectares":
      return "metric";
    case "imperial":
    case "acres":
      return "imperial";
    case "square-inches":
      return "inches";
    case "square-feet":
      return "feet";
    case "square-yards":
      return "yards";
    case "square-miles":
      return "miles";
    case "square-us-feet":
      return "us-feet";
    case "square-meters":
      return "meters";
    case "square-kilometers":
      return "kilometers";
    case "square-millimeters":
      return "millimeters";
    case "square-centimeters":
      return "centimeters";
    case "square-decimeters":
      return "decimeters";
    default:
      return null;
  }
}
function pe(e6) {
  return e6 ?? 1 / 0;
}
e([y()], se.prototype, "_drawActive", void 0), e([y({
  readOnly: true
})], se.prototype, "cursor", null), e([y({
  value: true
})], se.prototype, "editable", null), e([y({
  type: Number
})], se.prototype, "geodesicDistanceThreshold", void 0), e([y({
  readOnly: true
})], se.prototype, "measurement", void 0), e([y({
  readOnly: true
})], se.prototype, "measurementLabel", void 0), e([y()], se.prototype, "messages", void 0), e([y()], se.prototype, "unit", void 0), e([y()], se.prototype, "updating", null), e([y({
  constructOnly: true
})], se.prototype, "view", void 0), se = e([a("esri.widgets.AreaMeasurement2D.AreaMeasurement2DTool")], se);

// ../../../node_modules/@arcgis/core/widgets/AreaMeasurement2D/AreaMeasurement2DViewModel.js
var g2 = class extends p3 {
  constructor(e6) {
    super(e6), this.supportedViewType = "2d", this.unsupportedErrorMessage = "AreaMeasurement2DViewModel is only supported in 2D views.";
  }
  initialize() {
    this.addHandles([d2(() => this.view?.spatialReference, () => this.clear()), d2(() => this.unit, (e6) => {
      null != this.tool && (this.tool.unit = e6);
    }, P), d2(() => this.geodesicDistanceThreshold, (e6) => {
      null != this.tool && (this.tool.geodesicDistanceThreshold = e6);
    }, P)]);
  }
  get geodesicDistanceThreshold() {
    return this._get("geodesicDistanceThreshold");
  }
  set geodesicDistanceThreshold(e6) {
    i(n.getLogger(this), "geodesicDistanceThreshold", {
      version: "4.29",
      warnOnce: true
    }), this._set("geodesicDistanceThreshold", e6);
  }
  get measurement() {
    return null != this.tool ? this.tool.measurement : null;
  }
  get measurementLabel() {
    return null != this.tool ? this.tool.measurementLabel : null;
  }
  get state() {
    return this.disabled || null == this.view || !ne(this.view.spatialReference) ? "disabled" : this.tool?.measurement ? this.tool.active ? "measuring" : "measured" : "ready";
  }
  get unit() {
    return this._validateUnit(this.defaultUnit);
  }
  set unit(e6) {
    this._overrideIfSome("unit", this._validateUnit(e6));
  }
  get unitOptions() {
    return w2;
  }
  set unitOptions(e6) {
    this._overrideIfSome("unitOptions", this._validateUnits(e6));
  }
  start() {
    return __async(this, null, function* () {
      const e6 = this.view;
      null != e6 && (yield w(() => e6.ready), oe(e6.spatialReference) && (yield W())), this.createTool({
        interactive: true
      });
    });
  }
  clear() {
    this.removeTool();
  }
  constructTool() {
    return new se({
      view: this.view,
      visible: this.visible,
      geodesicDistanceThreshold: this.geodesicDistanceThreshold,
      unit: this.unit
    });
  }
  _validateUnit(e6) {
    const {
      unitOptions: t,
      defaultUnit: s
    } = this;
    return null != e6 && t.includes(e6) ? e6 : t.includes(s) ? s : t.length > 0 ? t[0] : s;
  }
  _validateUnits(e6) {
    if (null == e6) return [];
    const t = e6.filter((e7) => w2.includes(e7));
    return 0 === t.length ? w2.slice() : t;
  }
};
e([y(e5)], g2.prototype, "defaultUnit", void 0), e([y()], g2.prototype, "geodesicDistanceThreshold", null), e([y({
  readOnly: true
})], g2.prototype, "measurement", null), e([y({
  readOnly: true
})], g2.prototype, "measurementLabel", null), e([y({
  readOnly: true
})], g2.prototype, "state", null), e([y({
  type: String
})], g2.prototype, "unit", null), e([y({
  type: [String]
})], g2.prototype, "unitOptions", null), g2 = e([a("esri.widgets.AreaMeasurement2D.AreaMeasurement2DViewModel")], g2);
var f6 = g2;

// ../../../node_modules/@arcgis/core/widgets/AreaMeasurement2D.js
var u3 = "esri-area-measurement-2d";
var m4 = {
  base: u3,
  newMeasurementButton: `${u3}__clear-button`
};
var d6 = class extends B {
  constructor(e6, t) {
    super(e6, t), this.messages = null, this.messagesUnits = null, this.messagesCommon = null, this.viewModel = new f6();
  }
  get active() {
    return this.viewModel.active;
  }
  get icon() {
    return "measure-area";
  }
  set icon(e6) {
    this._overrideIfSome("icon", e6);
  }
  get label() {
    return this.messages?.widgetLabel ?? "";
  }
  set label(e6) {
    this._overrideIfSome("label", e6);
  }
  get unit() {
    return this.viewModel.unit;
  }
  set unit(e6) {
    this.viewModel.unit = e6;
  }
  get unitOptions() {
    return this.viewModel.unitOptions;
  }
  set unitOptions(e6) {
    this.viewModel.unitOptions = e6;
  }
  get view() {
    return this.viewModel.view;
  }
  set view(e6) {
    this.viewModel.view = e6;
  }
  get visible() {
    return this.viewModel.visible;
  }
  set visible(e6) {
    this.viewModel.visible = e6;
  }
  render() {
    const {
      messages: e6,
      messagesCommon: s,
      messagesUnits: o,
      unit: i2,
      unitOptions: r,
      viewModel: l3,
      visible: u4
    } = this, {
      active: d7,
      measurementLabel: c2,
      state: v2,
      supported: g3
    } = l3;
    return n2("div", {
      "aria-label": e6.widgetLabel,
      class: this.classes(m4.base, e3.widget, e3.panel),
      key: this,
      role: "presentation"
    }, u4 ? n2(u2, {
      active: d7,
      measurementItems: [{
        key: "area",
        title: o?.measures.area,
        value: c2?.area
      }, {
        key: "perimeter",
        title: e6.perimeter,
        value: c2?.perimeter
      }],
      messages: __spreadProps(__spreadValues({}, e6), {
        notApplicable: s.notApplicable
      }),
      newMeasurementButtonClass: m4.newMeasurementButton,
      state: v2,
      supported: g3,
      unit: i2,
      unitOptions: r,
      onNewMeasurementClick: () => {
        d(l3.start());
      },
      onUnitChange: (e7) => {
        this.unit = e7;
      }
    }) : null);
  }
};
e([y({
  readOnly: true
})], d6.prototype, "active", null), e([y()], d6.prototype, "icon", null), e([y()], d6.prototype, "label", null), e([y(), e2("esri/widgets/AreaMeasurement2D/t9n/AreaMeasurement2D")], d6.prototype, "messages", void 0), e([y(), e2("esri/core/t9n/Units")], d6.prototype, "messagesUnits", void 0), e([y(), e2("esri/t9n/common")], d6.prototype, "messagesCommon", void 0), e([y()], d6.prototype, "uiStrings", void 0), e([y()], d6.prototype, "unit", null), e([y()], d6.prototype, "unitOptions", null), e([y()], d6.prototype, "view", null), e([y({
  type: f6
})], d6.prototype, "viewModel", void 0), e([y({
  type: Boolean
})], d6.prototype, "visible", null), d6 = e([a("esri.widgets.AreaMeasurement2D")], d6);
var c = d6;
export {
  c as default
};
//# sourceMappingURL=AreaMeasurement2D-2A4R6RS3.js.map
