{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/arcade/deepClone.js", "../../../../../../node_modules/@arcgis/core/arcade/Dictionary.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ArcadeModule as a } from \"./ArcadeModule.js\";\nimport { k as e, f as s, p as r, q as l, o, r as t, s as n, u as c, v as d, w as u, i } from \"../chunks/languageUtils.js\";\nfunction m(a) {\n  p = a;\n}\nlet p;\nfunction f(m) {\n  return null === m ? null : e(m) ? m.clone() : s(m) ? m : r(m) ? m.clone() : l(m) ? m.toArray().map(a => f(a)) : o(m) ? m.map(a => f(a)) : t(m) ? p.createFromArcadeFeature(m) : n(m) || c(m) ? m : d(m) || \"esri.arcade.Attachment\" === m?.declaredClass ? m.deepClone() : (\"esri.arcade.Portal\" === m?.declaredClass || u(m) || m instanceof a || i(m), m);\n}\nexport { m as configureDeepClone, f as deepClone };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ArcadeDate as t } from \"./ArcadeDate.js\";\nimport { deepClone as s } from \"./deepClone.js\";\nimport { ArcadeExecutionError as i, ExecutionErrorCodes as e } from \"./executionError.js\";\nimport r from \"./ImmutableArray.js\";\nimport { i as n, a as o, b as a, c as u, t as l, d as c, e as f, f as h, g as m, h as y, j as b, k as d, l as g, m as w, n as p, o as J, p as A } from \"../chunks/languageUtils.js\";\nimport T from \"../geometry/Geometry.js\";\nfunction v(t, s, i = !1, e = !1) {\n  if (null == t) return null;\n  if (a(t)) return m(t);\n  if (o(t)) return y(t);\n  if (u(t)) return b(t);\n  if (d(t)) return g(t, s);\n  if (w(t)) return t;\n  if (p(t)) return t;\n  if (J(t)) {\n    const r = [];\n    for (const n of t) r.push(v(n, s, i, e));\n    return r;\n  }\n  if (e && A(t)) return t;\n  const r = new N();\n  r.immutable = !1;\n  for (const n of Object.keys(t)) {\n    const o = t[n];\n    void 0 !== o && r.setField(n, v(o, s, i, e));\n  }\n  return r.immutable = i, r;\n}\nclass N {\n  constructor(t) {\n    this.declaredClass = \"esri.arcade.Dictionary\", this.attributes = null, this.plain = !1, this.immutable = !0, this.attributes = t instanceof N ? t.attributes : t ?? {};\n  }\n  field(t) {\n    const s = t.toLowerCase(),\n      r = this.attributes[t];\n    if (void 0 !== r) return r;\n    for (const i in this.attributes) if (i.toLowerCase() === s) return this.attributes[i];\n    throw new i(null, e.FieldNotFound, null, {\n      key: t\n    });\n  }\n  setField(s, r) {\n    if (this.immutable) throw new i(null, e.Immutable, null);\n    if (n(r)) throw new i(null, e.NoFunctionInDictionary, null);\n    const o = s.toLowerCase();\n    r instanceof Date && (r = t.dateJSToArcadeDate(r));\n    if (void 0 === this.attributes[s]) {\n      for (const t in this.attributes) if (t.toLowerCase() === o) return void (this.attributes[t] = r);\n      this.attributes[s] = r;\n    } else this.attributes[s] = r;\n  }\n  hasField(t) {\n    const s = t.toLowerCase();\n    if (void 0 !== this.attributes[t]) return !0;\n    for (const i in this.attributes) if (i.toLowerCase() === s) return !0;\n    return !1;\n  }\n  keys() {\n    let t = [];\n    for (const s in this.attributes) t.push(s);\n    return t = t.sort(), t;\n  }\n  castToText(s = !1) {\n    let i = \"\";\n    for (const e in this.attributes) {\n      \"\" !== i && (i += \",\");\n      const n = this.attributes[e];\n      null == n ? i += JSON.stringify(e) + \":null\" : o(n) || a(n) || u(n) ? i += JSON.stringify(e) + \":\" + JSON.stringify(n) : n instanceof T ? i += JSON.stringify(e) + \":\" + l(n) : n instanceof r || Array.isArray(n) ? i += JSON.stringify(e) + \":\" + l(n, null, s) : n instanceof t ? i += s ? JSON.stringify(e) + \":\" + JSON.stringify(n.getTime()) : JSON.stringify(e) + \":\" + n.stringify() : null !== n && \"object\" == typeof n && void 0 !== n.castToText && (i += JSON.stringify(e) + \":\" + n.castToText(s));\n    }\n    return \"{\" + i + \"}\";\n  }\n  static convertObjectToArcadeDictionary(t, s, i = !0, e = !1) {\n    const r = new N();\n    r.immutable = !1;\n    for (const n in t) {\n      const o = t[n];\n      void 0 !== o && r.setField(n.toString(), v(o, s, i, e));\n    }\n    return r.immutable = i, r;\n  }\n  static convertJsonToArcade(t, s, i = !1, e = !1) {\n    return v(t, s, i, e);\n  }\n  castAsJson(t = null) {\n    const s = {};\n    for (let i in this.attributes) {\n      const e = this.attributes[i];\n      void 0 !== e && (t?.keyTranslate && (i = t.keyTranslate(i)), s[i] = c(e, t));\n    }\n    return s;\n  }\n  async castDictionaryValueAsJsonAsync(t, s, i, e = null, r) {\n    const n = await f(i, e, r);\n    return t[s] = n, n;\n  }\n  async castAsJsonAsync(s = null, i = null) {\n    const e = {},\n      r = [];\n    for (let n in this.attributes) {\n      const o = this.attributes[n];\n      i?.keyTranslate && (n = i.keyTranslate(n)), void 0 !== o && (h(o) || o instanceof T || o instanceof t ? e[n] = c(o, i) : r.push(this.castDictionaryValueAsJsonAsync(e, n, o, s, i)));\n    }\n    return r.length > 0 && (await Promise.all(r)), e;\n  }\n  deepClone() {\n    const t = new N();\n    t.immutable = !1;\n    for (const i of this.keys()) t.setField(i, s(this.field(i)));\n    return t;\n  }\n}\nexport { N as default };"],
  "mappings": "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",
  "names": ["m", "a", "t", "s", "r", "n"]
}
