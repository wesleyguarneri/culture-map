{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/ScriptUtils.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TextShaping.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/Placement.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/IndexMemoryBuffer.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VertexMemoryBuffer.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/buckets/BaseBucket.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/buckets/CircleBucket.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/buckets/FillBucket.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/buckets/LineBucket.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/buckets/SymbolBucket.js", "../../../../../../node_modules/@arcgis/core/views/2d/tiling/enums.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileParser.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/WorkerTile.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/WorkerTileHandler.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(e) {\n  return 746 === e || 747 === e || !(e < 4352) && (e >= 12704 && e <= 12735 || e >= 12544 && e <= 12591 || e >= 65072 && e <= 65103 && !(e >= 65097 && e <= 65103) || e >= 63744 && e <= 64255 || e >= 13056 && e <= 13311 || e >= 11904 && e <= 12031 || e >= 12736 && e <= 12783 || e >= 12288 && e <= 12351 && !(e >= 12296 && e <= 12305 || e >= 12308 && e <= 12319 || 12336 === e) || e >= 13312 && e <= 19903 || e >= 19968 && e <= 40959 || e >= 12800 && e <= 13055 || e >= 12592 && e <= 12687 || e >= 43360 && e <= 43391 || e >= 55216 && e <= 55295 || e >= 4352 && e <= 4607 || e >= 44032 && e <= 55215 || e >= 12352 && e <= 12447 || e >= 12272 && e <= 12287 || e >= 12688 && e <= 12703 || e >= 12032 && e <= 12255 || e >= 12784 && e <= 12799 || e >= 12448 && e <= 12543 && 12540 !== e || e >= 65280 && e <= 65519 && !(65288 === e || 65289 === e || 65293 === e || e >= 65306 && e <= 65310 || 65339 === e || 65341 === e || 65343 === e || e >= 65371 && e <= 65503 || 65507 === e || e >= 65512 && e <= 65519) || e >= 65104 && e <= 65135 && !(e >= 65112 && e <= 65118 || e >= 65123 && e <= 65126) || e >= 5120 && e <= 5759 || e >= 6320 && e <= 6399 || e >= 65040 && e <= 65055 || e >= 19904 && e <= 19967 || e >= 40960 && e <= 42127 || e >= 42128 && e <= 42191);\n}\nfunction c(e) {\n  return !(e < 11904) && (e >= 12704 && e <= 12735 || e >= 12544 && e <= 12591 || e >= 65072 && e <= 65103 || e >= 63744 && e <= 64255 || e >= 13056 && e <= 13311 || e >= 11904 && e <= 12031 || e >= 12736 && e <= 12783 || e >= 12288 && e <= 12351 || e >= 13312 && e <= 19903 || e >= 19968 && e <= 40959 || e >= 12800 && e <= 13055 || e >= 65280 && e <= 65519 || e >= 12352 && e <= 12447 || e >= 12272 && e <= 12287 || e >= 12032 && e <= 12255 || e >= 12784 && e <= 12799 || e >= 12448 && e <= 12543 || e >= 65040 && e <= 65055 || e >= 42128 && e <= 42191 || e >= 40960 && e <= 42127);\n}\nfunction s(e) {\n  switch (e) {\n    case 10:\n    case 32:\n    case 38:\n    case 40:\n    case 41:\n    case 43:\n    case 45:\n    case 47:\n    case 173:\n    case 183:\n    case 8203:\n    case 8208:\n    case 8211:\n    case 8231:\n      return !0;\n  }\n  return !1;\n}\nfunction a(e) {\n  switch (e) {\n    case 9:\n    case 10:\n    case 11:\n    case 12:\n    case 13:\n    case 32:\n      return !0;\n  }\n  return !1;\n}\nexport { c as allowsIdeographicBreak, e as hasVerticalOrientation, s as isLineBreak, a as isWhiteSpace };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { isLineBreak as t, isWhiteSpace as e, allowsIdeographicBreak as i, hasVerticalOrientation as o } from \"./ScriptUtils.js\";\nimport s from \"../webgl/Rect.js\";\nconst c = 24,\n  h = 17;\nclass l {\n  constructor(t, e, i, o, s, c, h) {\n    this._glyphItems = t, this._maxWidth = e, this._lineHeight = i, this._letterSpacing = o, this._hAnchor = s, this._vAnchor = c, this._justify = h;\n  }\n  getShaping(s, c, h) {\n    const l = this._letterSpacing,\n      n = this._lineHeight,\n      a = this._justify,\n      r = this._maxWidth,\n      m = [];\n    let f = 0,\n      p = 0;\n    for (const t of s) {\n      const e = t.codePointAt(0);\n      if (null == e) continue;\n      const i = h && o(e);\n      let s;\n      for (const t of this._glyphItems) if (s = t[e], s) break;\n      m.push({\n        codePoint: e,\n        x: f,\n        y: p,\n        vertical: i,\n        glyphMosaicItem: s\n      }), s && (f += s.metrics.advance + l);\n    }\n    let g = f;\n    if (r > 0) {\n      g = f / Math.max(1, Math.ceil(f / r));\n    }\n    const y = s.includes(\"â€‹\"),\n      d = [],\n      x = m.length;\n    for (let e = 0; e < x - 1; e++) {\n      const o = m[e].codePoint,\n        s = i(o);\n      if (t(o) || s) {\n        let t = 0;\n        if (10 === o) t -= 1e4;else if (s && y) t += 150;else {\n          40 !== o && 65288 !== o || (t += 50);\n          const i = m[e + 1].codePoint;\n          41 !== i && 65289 !== i || (t += 50);\n        }\n        d.push(this._buildBreak(e + 1, m[e].x, g, d, t, !1));\n      }\n    }\n    const u = this._optimalBreaks(this._buildBreak(x, f, g, d, 0, !0));\n    let M = 0;\n    const _ = c ? -n : n;\n    let I = 0;\n    for (let t = 0; t < u.length; t++) {\n      const i = u[t];\n      let o = I;\n      for (; o < i && e(m[o].codePoint);) m[o].glyphMosaicItem = null, ++o;\n      let s = i - 1;\n      for (; s > o && e(m[s].codePoint);) m[s].glyphMosaicItem = null, --s;\n      if (o <= s) {\n        const t = m[o].x;\n        for (let i = o; i <= s; i++) m[i].x -= t, m[i].y = p;\n        let e = m[s].x;\n        m[s].glyphMosaicItem && (e += m[s].glyphMosaicItem.metrics.advance), M = Math.max(e, M), a && this._applyJustification(m, o, s);\n      }\n      I = i, p += _;\n    }\n    if (m.length > 0) {\n      const t = u.length - 1,\n        e = (a - this._hAnchor) * M;\n      let i = (-this._vAnchor * (t + 1) + .5) * n;\n      c && t && (i += t * n);\n      for (const o of m) o.x += e, o.y += i;\n    }\n    return m.filter(t => t.glyphMosaicItem);\n  }\n  static getTextBox(t, e) {\n    if (!t.length) return null;\n    let i = 1 / 0,\n      o = 1 / 0,\n      s = 0,\n      c = 0;\n    for (const l of t) {\n      const t = l.glyphMosaicItem.metrics.advance,\n        n = l.x,\n        a = l.y - h,\n        r = n + t,\n        m = a + e;\n      i = Math.min(i, n), s = Math.max(s, r), o = Math.min(o, a), c = Math.max(c, m);\n    }\n    return {\n      x: i,\n      y: o,\n      width: s - i,\n      height: c - o\n    };\n  }\n  static getBox(t) {\n    if (!t.length) return null;\n    let e = 1 / 0,\n      i = 1 / 0,\n      o = 0,\n      s = 0;\n    for (const c of t) {\n      const {\n          height: t,\n          left: h,\n          top: l,\n          width: n\n        } = c.glyphMosaicItem.metrics,\n        a = c.x,\n        r = c.y - (t - Math.abs(l)),\n        m = a + n + h,\n        f = r + t;\n      e = Math.min(e, a), o = Math.max(o, m), i = Math.min(i, r), s = Math.max(s, f);\n    }\n    return {\n      x: e,\n      y: i,\n      width: o - e,\n      height: s - i\n    };\n  }\n  static addDecoration(t, e) {\n    const i = t.length;\n    if (0 === i) return;\n    const o = 3;\n    let c = t[0].x + t[0].glyphMosaicItem.metrics.left,\n      h = t[0].y;\n    for (let n = 1; n < i; n++) {\n      const i = t[n];\n      if (i.y !== h) {\n        const l = t[n - 1].x + t[n - 1].glyphMosaicItem.metrics.left + t[n - 1].glyphMosaicItem.metrics.width;\n        t.push({\n          codePoint: 0,\n          x: c,\n          y: h + e - o,\n          vertical: !1,\n          glyphMosaicItem: {\n            sdf: !0,\n            rect: new s(4, 0, 4, 8),\n            metrics: {\n              width: l - c,\n              height: 2 + 2 * o,\n              left: 0,\n              top: 0,\n              advance: 0\n            },\n            page: 0,\n            code: 0\n          }\n        }), h = i.y, c = i.x + i.glyphMosaicItem.metrics.left;\n      }\n    }\n    const l = t[i - 1].x + t[i - 1].glyphMosaicItem.metrics.left + t[i - 1].glyphMosaicItem.metrics.width;\n    t.push({\n      codePoint: 0,\n      x: c,\n      y: h + e - o,\n      vertical: !1,\n      glyphMosaicItem: {\n        sdf: !0,\n        rect: new s(4, 0, 4, 8),\n        metrics: {\n          width: l - c,\n          height: 2 + 2 * o,\n          left: 0,\n          top: 0,\n          advance: 0\n        },\n        page: 0,\n        code: 0\n      }\n    });\n  }\n  _breakScore(t, e, i, o) {\n    const s = (t - e) * (t - e);\n    return o ? t < e ? s / 2 : 2 * s : s + Math.abs(i) * i;\n  }\n  _buildBreak(t, e, i, o, s, c) {\n    let h = null,\n      l = this._breakScore(e, i, s, c);\n    for (const n of o) {\n      const t = e - n.x,\n        o = this._breakScore(t, i, s, c) + n.score;\n      o <= l && (h = n, l = o);\n    }\n    return {\n      index: t,\n      x: e,\n      score: l,\n      previousBreak: h\n    };\n  }\n  _optimalBreaks(t) {\n    return t ? this._optimalBreaks(t.previousBreak).concat(t.index) : [];\n  }\n  _applyJustification(t, e, i) {\n    const o = t[i],\n      s = o.vertical ? c : o.glyphMosaicItem ? o.glyphMosaicItem.metrics.advance : 0,\n      h = (o.x + s) * this._justify;\n    for (let c = e; c <= i; c++) t[c].x -= h;\n  }\n}\nexport { l as TextShaping, h as sdfGlyphBaseline, c as sdfGlyphSize };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Point as e } from \"../../../../geometry/support/TileClipper.js\";\nimport { cDegToRad as t, cPi as i, cInfinity as n, radToByte as s, positiveMod as o, c2pi as a } from \"./GeometryUtils.js\";\nimport { sdfGlyphSize as l, TextShaping as h, sdfGlyphBaseline as r } from \"./TextShaping.js\";\nimport { declutterTiles as c } from \"./decluttering/config.js\";\nimport { RotationAlignment as g, SymbolAnchor as m } from \"./style/StyleDefinition.js\";\nconst x = 4096,\n  d = 512,\n  p = 8,\n  w = .5,\n  T = 2;\nclass y {\n  constructor(e, t, i = 0, n = -1, s = w) {\n    this.x = e, this.y = t, this.angle = i, this.segment = n, this.minzoom = s;\n  }\n}\nclass f {\n  constructor(e, t, i, s, o, a = w, l = n) {\n    this.anchor = e, this.labelAngle = t, this.glyphAngle = i, this.page = s, this.alternateVerticalGlyph = o, this.minzoom = a, this.maxzoom = l;\n  }\n}\nclass I {\n  constructor(e, t, i, n, s, o, a, l, h, r, c, g) {\n    this.tl = e, this.tr = t, this.bl = i, this.br = n, this.mosaicRect = s, this.labelAngle = o, this.minAngle = a, this.maxAngle = l, this.anchor = h, this.minzoom = r, this.maxzoom = c, this.page = g;\n  }\n}\nclass u {\n  constructor(e) {\n    this.shapes = e;\n  }\n}\nclass b {\n  getIconPlacement(n, s, o) {\n    const a = new e(n.x, n.y),\n      l = o.rotationAlignment === g.MAP,\n      h = o.keepUpright;\n    let r = o.rotate * t;\n    l && (r += n.angle);\n    const m = new u([]);\n    return o.allowOverlap && o.ignorePlacement || !c || (m.iconColliders = []), this._addIconPlacement(m, a, s, o, r), l && h && this._addIconPlacement(m, a, s, o, r + i), m;\n  }\n  _addIconPlacement(t, i, s, o, a) {\n    const l = s.rasterizationScale,\n      h = s.width / l,\n      r = s.height / l,\n      g = o.offset;\n    let x = g[0],\n      d = g[1];\n    switch (o.anchor) {\n      case m.CENTER:\n        x -= h / 2, d -= r / 2;\n        break;\n      case m.LEFT:\n        d -= r / 2;\n        break;\n      case m.RIGHT:\n        x -= h, d -= r / 2;\n        break;\n      case m.TOP:\n        x -= h / 2;\n        break;\n      case m.BOTTOM:\n        x -= h / 2, d -= r;\n        break;\n      case m.TOP_LEFT:\n        break;\n      case m.BOTTOM_LEFT:\n        d -= r;\n        break;\n      case m.TOP_RIGHT:\n        x -= h;\n        break;\n      case m.BOTTOM_RIGHT:\n        x -= h, d -= r;\n    }\n    const p = s.rect,\n      T = 2 / l,\n      y = x - T,\n      f = d - T,\n      u = y + p.width / l,\n      b = f + p.height / l,\n      P = new e(y, f),\n      O = new e(u, b),\n      _ = new e(y, b),\n      k = new e(u, f);\n    if (0 !== a) {\n      const e = Math.cos(a),\n        t = Math.sin(a);\n      P.rotate(e, t), O.rotate(e, t), _.rotate(e, t), k.rotate(e, t);\n    }\n    const M = new I(P, k, _, O, p, a, 0, 256, i, w, n, 0);\n    if (t.shapes.push(M), (!o.allowOverlap || !o.ignorePlacement) && c) {\n      const e = o.size,\n        s = o.padding,\n        l = {\n          xTile: i.x,\n          yTile: i.y,\n          dxPixels: x * e - s,\n          dyPixels: d * e - s,\n          hard: !o.optional,\n          partIndex: 0,\n          width: h * e + 2 * s,\n          height: r * e + 2 * s,\n          angle: a,\n          minLod: w,\n          maxLod: n\n        };\n      t.iconColliders.push(l);\n    }\n  }\n  getTextPlacement(s, o, a, c) {\n    const x = new e(s.x, s.y),\n      d = c.rotate * t,\n      y = c.rotationAlignment === g.MAP,\n      b = c.keepUpright,\n      P = c.padding;\n    let O = w;\n    const _ = !y ? 0 : s.angle,\n      k = s.segment >= 0 && y,\n      M = c.allowOverlap && c.ignorePlacement ? null : [],\n      E = [],\n      G = 4,\n      N = !k;\n    let A = Number.POSITIVE_INFINITY,\n      L = Number.NEGATIVE_INFINITY,\n      z = A,\n      F = L;\n    const v = (k || y) && b,\n      R = c.size / l;\n    let B = !1;\n    for (const e of o) if (e.vertical) {\n      B = !0;\n      break;\n    }\n    let H,\n      V = 0,\n      j = 0;\n    if (!k && B) {\n      const e = h.getTextBox(o, c.lineHeight * l);\n      switch (c.anchor) {\n        case m.LEFT:\n          V = e.height / 2, j = -e.width / 2;\n          break;\n        case m.RIGHT:\n          V = -e.height / 2, j = e.width / 2;\n          break;\n        case m.TOP:\n          V = e.height / 2, j = e.width / 2;\n          break;\n        case m.BOTTOM:\n          V = -e.height / 2, j = -e.width / 2;\n          break;\n        case m.TOP_LEFT:\n          V = e.height;\n          break;\n        case m.BOTTOM_LEFT:\n          j = -e.width;\n          break;\n        case m.TOP_RIGHT:\n          j = e.width;\n          break;\n        case m.BOTTOM_RIGHT:\n          V = -e.height;\n      }\n    }\n    V += c.offset[0] * l, j += c.offset[1] * l;\n    for (const t of o) {\n      const o = t.glyphMosaicItem;\n      if (!o || o.rect.isEmpty) continue;\n      const l = o.rect,\n        h = o.metrics,\n        g = o.page;\n      if (M && N) {\n        if (void 0 !== H && H !== t.y) {\n          let e, t, i, o;\n          B ? (e = -F + V, t = A + j, i = F - z, o = L - A) : (e = A + V, t = z + j, i = L - A, o = F - z);\n          const a = {\n            xTile: s.x,\n            yTile: s.y,\n            dxPixels: e * R - P,\n            dyPixels: t * R - P,\n            hard: !c.optional,\n            partIndex: 1,\n            width: i * R + 2 * P,\n            height: o * R + 2 * P,\n            angle: d,\n            minLod: w,\n            maxLod: n\n          };\n          M.push(a), A = Number.POSITIVE_INFINITY, L = Number.NEGATIVE_INFINITY, z = A, F = L;\n        }\n        H = t.y;\n      }\n      const m = [];\n      if (k) {\n        const e = .5 * o.metrics.width,\n          i = (t.x + h.left - G + e) * R * p;\n        if (O = this._placeGlyph(s, O, i, a, s.segment, 1, t.vertical, g, m), b && (O = this._placeGlyph(s, O, i, a, s.segment, -1, t.vertical, g, m)), O >= T) break;\n      } else m.push(new f(x, _, _, g, !1)), y && b && m.push(new f(x, _ + i, _ + i, g, !1));\n      const u = t.x + h.left,\n        C = t.y - r - h.top,\n        S = u + h.width,\n        Y = C + h.height;\n      let q, U, D, J, K, Q, W, X;\n      if (!k && B) {\n        if (t.vertical) {\n          const t = (u + S) / 2 - h.height / 2,\n            i = (C + Y) / 2 + h.width / 2;\n          q = new e(-i - G + V, t - G + j), U = new e(q.x + l.width, q.y + l.height), D = new e(q.x, U.y), J = new e(U.x, q.y);\n        } else q = new e(-C + G + V, u - G + j), U = new e(q.x - l.height, q.y + l.width), D = new e(U.x, q.y), J = new e(q.x, U.y);\n      } else q = new e(u - G + V, C - G + j), U = new e(q.x + l.width, q.y + l.height), D = new e(q.x, U.y), J = new e(U.x, q.y);\n      for (const i of m) {\n        let n, o, a, r;\n        if (i.alternateVerticalGlyph) {\n          if (!K) {\n            const t = (C + Y) / 2 + j;\n            K = new e((u + S) / 2 + V - h.height / 2 - G, t + h.width / 2 + G), Q = new e(K.x + l.height, K.y - l.width), W = new e(Q.x, K.y), X = new e(K.x, Q.y);\n          }\n          n = K, o = W, a = X, r = Q;\n        } else n = q, o = D, a = J, r = U;\n        const g = C,\n          m = Y,\n          x = i.glyphAngle + d;\n        if (0 !== x) {\n          const e = Math.cos(x),\n            t = Math.sin(x);\n          n = n.clone(), o = o?.clone(), a = a?.clone(), r = r?.clone(), n.rotate(e, t), r?.rotate(e, t), o?.rotate(e, t), a?.rotate(e, t);\n        }\n        let p = 0,\n          w = 256;\n        if (k && B ? t.vertical ? i.alternateVerticalGlyph ? (p = 32, w = 96) : (p = 224, w = 32) : (p = 224, w = 96) : (p = 192, w = 64), E.push(new I(n, a, o, r, l, i.labelAngle, p, w, i.anchor, i.minzoom, i.maxzoom, i.page)), M && (!v || this._legible(i.labelAngle))) if (N) u < A && (A = u), g < z && (z = g), S > L && (L = S), m > F && (F = m);else if (i.minzoom < T) {\n          const e = {\n            xTile: s.x,\n            yTile: s.y,\n            dxPixels: (u + V) * R - P,\n            dyPixels: (g + V) * R - P,\n            hard: !c.optional,\n            partIndex: 1,\n            width: (S - u) * R + 2 * P,\n            height: (m - g) * R + 2 * P,\n            angle: x,\n            minLod: i.minzoom,\n            maxLod: i.maxzoom\n          };\n          M.push(e);\n        }\n      }\n    }\n    if (O >= T) return null;\n    if (M && N) {\n      let e, t, i, o;\n      B ? (e = -F + V, t = A + j, i = F - z, o = L - A) : (e = A + V, t = z + j, i = L - A, o = F - z);\n      const a = {\n        xTile: s.x,\n        yTile: s.y,\n        dxPixels: e * R - P,\n        dyPixels: t * R - P,\n        hard: !c.optional,\n        partIndex: 1,\n        width: i * R + 2 * P,\n        height: o * R + 2 * P,\n        angle: d,\n        minLod: w,\n        maxLod: n\n      };\n      M.push(a);\n    }\n    const C = new u(E);\n    return M && M.length > 0 && (C.textColliders = M), C;\n  }\n  _legible(e) {\n    const t = s(e);\n    return t < 65 || t >= 193;\n  }\n  _placeGlyph(t, s, l, h, r, c, g, m, x) {\n    let d = c;\n    const p = d < 0 ? o(t.angle + i, a) : t.angle;\n    let w = 0;\n    l < 0 && (d *= -1, l *= -1, w = i), d > 0 && ++r;\n    let T = new e(t.x, t.y),\n      y = h[r],\n      I = n;\n    if (h.length <= r) return I;\n    for (;;) {\n      const e = y.x - T.x,\n        t = y.y - T.y,\n        i = Math.sqrt(e * e + t * t),\n        n = Math.max(l / i, s),\n        c = e / i,\n        u = t / i,\n        b = o(Math.atan2(u, c) + w, a);\n      if (x.push(new f(T, p, b, m, !1, n, I)), g && x.push(new f(T, p, b, m, !0, n, I)), n <= s) return n;\n      T = y.clone();\n      do {\n        if (r += d, h.length <= r || r < 0) return n;\n        y = h[r];\n      } while (T.isEqual(y));\n      let P = y.x - T.x,\n        O = y.y - T.y;\n      const _ = Math.sqrt(P * P + O * O);\n      P *= i / _, O *= i / _, T.x -= P, T.y -= O, I = n;\n    }\n  }\n}\nexport { y as Anchor, I as PlacedSymbol, u as Placement, b as PlacementEngine, x as tileCoordSize, p as tilePixelRatio, d as tilePixelSize };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport s from \"./MemoryBuffer.js\";\nclass r extends s {\n  constructor() {\n    super(12);\n  }\n  add(s, r, t) {\n    const e = this.array;\n    e.push(s), e.push(r), e.push(t);\n  }\n}\nclass t extends s {\n  constructor() {\n    super(4);\n  }\n  add(s) {\n    this.array.push(s);\n  }\n}\nexport { t as PointElementMemoryBuffer, r as TriangleIndexBuffer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { radToByte as t } from \"./GeometryUtils.js\";\nimport s from \"./MemoryBuffer.js\";\nclass o extends s {\n  constructor(t) {\n    super(t);\n  }\n  add(t, o, r, u, h, a, n, d, e, p, i, c) {\n    const M = this.array;\n    let l = s.i1616to32(t, o);\n    M.push(l);\n    const m = 31;\n    l = s.i8888to32(Math.round(m * r), Math.round(m * u), Math.round(m * h), Math.round(m * a)), M.push(l), l = s.i8888to32(Math.round(m * n), Math.round(m * d), Math.round(m * e), Math.round(m * p)), M.push(l), l = s.i1616to32(i, 0), M.push(l), c && M.push(...c);\n  }\n}\nclass r extends s {\n  constructor(t) {\n    super(t);\n  }\n  add(t, o, r) {\n    const u = this.array;\n    u.push(s.i1616to32(t, o)), r && u.push(...r);\n  }\n}\nclass u extends s {\n  constructor(t) {\n    super(t);\n  }\n  add(t, o, r, u, h, a, n) {\n    const d = this.array,\n      e = this.index;\n    let p = s.i1616to32(t, o);\n    d.push(p);\n    const i = 15;\n    return p = s.i8888to32(Math.round(i * r), Math.round(i * u), h, a), d.push(p), n && d.push(...n), e;\n  }\n}\nclass h extends s {\n  constructor(t) {\n    super(t);\n  }\n  add(o, r, u, h, a, n, d, e, p, i, c, M) {\n    const l = this.array;\n    let m = s.i1616to32(o, r);\n    l.push(m), m = s.i1616to32(Math.round(8 * u), Math.round(8 * h)), l.push(m), m = s.i8888to32(a / 4, n / 4, e, p), l.push(m), m = s.i8888to32(0, t(d), 10 * i, Math.min(10 * c, 255)), l.push(m), M && l.push(...M);\n  }\n}\nclass a extends s {\n  constructor(t) {\n    super(t);\n  }\n  add(t, o, r, u, h) {\n    const a = this.array,\n      n = s.i1616to32(2 * t + r, 2 * o + u);\n    a.push(n), h && a.push(...h);\n  }\n}\nexport { a as CircleVertexBuffer, r as FillVertexBuffer, o as LineVertexBuffer, u as OutlineVertexBuffer, h as SymbolVertexBuffer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t, e, s) {\n    this.layerExtent = 4096, this._features = [], this.layer = t, this.zoom = e, this._spriteInfo = s, this._filter = t.getFeatureFilter();\n  }\n  pushFeature(t) {\n    this._filter && !this._filter.filter(t, this.zoom) || this._features.push(t);\n  }\n  hasFeatures() {\n    return this._features.length > 0;\n  }\n  getResources(t, e, s) {}\n}\nexport { t as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { BucketType as e } from \"../enums.js\";\nimport t from \"./BaseBucket.js\";\nclass r extends t {\n  constructor(t, r, i, c, s) {\n    super(t, r, i), this.type = e.CIRCLE, this._circleVertexBuffer = c, this._circleIndexBuffer = s;\n  }\n  get circleIndexStart() {\n    return this._circleIndexStart;\n  }\n  get circleIndexCount() {\n    return this._circleIndexCount;\n  }\n  processFeatures(e) {\n    const t = this._circleVertexBuffer,\n      r = this._circleIndexBuffer;\n    this._circleIndexStart = 3 * r.index, this._circleIndexCount = 0;\n    const i = this.layer,\n      c = this.zoom;\n    e && e.setExtent(this.layerExtent);\n    for (const s of this._features) {\n      const n = s.getGeometry(e);\n      if (!n) continue;\n      const l = i.circleMaterial.encodeAttributes(s, c, i);\n      for (const e of n) if (e) for (const i of e) {\n        const e = t.index;\n        t.add(i.x, i.y, 0, 0, l), t.add(i.x, i.y, 0, 1, l), t.add(i.x, i.y, 1, 0, l), t.add(i.x, i.y, 1, 1, l), r.add(e, e + 1, e + 2), r.add(e + 1, e + 2, e + 3), this._circleIndexCount += 6;\n      }\n    }\n  }\n  serialize() {\n    let e = 6;\n    e += this.layerUIDs.length, e += this._circleVertexBuffer.array.length, e += this._circleIndexBuffer.array.length;\n    const t = new Uint32Array(e),\n      r = new Int32Array(t.buffer);\n    let i = 0;\n    t[i++] = this.type, t[i++] = this.layerUIDs.length;\n    for (let c = 0; c < this.layerUIDs.length; c++) t[i++] = this.layerUIDs[c];\n    t[i++] = this._circleIndexStart, t[i++] = this._circleIndexCount, t[i++] = this._circleVertexBuffer.array.length;\n    for (let c = 0; c < this._circleVertexBuffer.array.length; c++) r[i++] = this._circleVertexBuffer.array[c];\n    t[i++] = this._circleIndexBuffer.array.length;\n    for (let c = 0; c < this._circleIndexBuffer.array.length; c++) t[i++] = this._circleIndexBuffer.array[c];\n    return t.buffer;\n  }\n}\nexport { r as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from \"../../../../../core/ArrayPool.js\";\nimport { e } from \"../../../../../chunks/earcut.js\";\nimport { triangulate as i } from \"../../../../../geometry/libtess.js\";\nimport { Point as r } from \"../../../../../geometry/support/TileClipper.js\";\nimport { BucketType as l } from \"../enums.js\";\nimport n from \"./BaseBucket.js\";\nclass s extends n {\n  constructor(t, e, i, r, n, s, o) {\n    super(t, e, i), this.type = l.FILL, this._patternMap = new Map(), this._fillVertexBuffer = r, this._fillIndexBuffer = n, this._outlineVertexBuffer = s, this._outlineIndexBuffer = o;\n  }\n  get fillIndexStart() {\n    return this._fillIndexStart;\n  }\n  get fillIndexCount() {\n    return this._fillIndexCount;\n  }\n  get outlineIndexStart() {\n    return this._outlineIndexStart;\n  }\n  get outlineIndexCount() {\n    return this._outlineIndexCount;\n  }\n  getResources(t, e, i) {\n    const r = this.layer,\n      l = this.zoom,\n      n = r.getPaintProperty(\"fill-pattern\");\n    if (n) if (n.isDataDriven) for (const s of this._features) e(n.getValue(l, s), !0);else e(n.getValue(l), !0);\n  }\n  processFeatures(t) {\n    this._fillIndexStart = 3 * this._fillIndexBuffer.index, this._fillIndexCount = 0, this._outlineIndexStart = 3 * this._outlineIndexBuffer.index, this._outlineIndexCount = 0;\n    const e = this.layer,\n      i = this.zoom,\n      {\n        fillMaterial: r,\n        outlineMaterial: l,\n        hasDataDrivenFill: n,\n        hasDataDrivenOutline: s\n      } = e;\n    t && t.setExtent(this.layerExtent);\n    const o = e.getPaintProperty(\"fill-pattern\"),\n      a = o?.isDataDriven;\n    let f = !o && e.getPaintValue(\"fill-antialias\", i);\n    if (e.outlineUsesFillColor) {\n      if (f && !e.hasDataDrivenOpacity) {\n        const t = e.getPaintValue(\"fill-opacity\", i),\n          r = e.getPaintValue(\"fill-opacity\", i + 1);\n        t < 1 && r < 1 && (f = !1);\n      }\n      if (f && !e.hasDataDrivenColor) {\n        const t = e.getPaintValue(\"fill-color\", i),\n          r = e.getPaintValue(\"fill-color\", i + 1);\n        t[3] < 1 && r[3] < 1 && (f = !1);\n      }\n    }\n    const u = this._features,\n      d = t?.validateTessellation;\n    if (a) {\n      const n = [];\n      for (const a of u) {\n        const u = o.getValue(i, a),\n          h = this._spriteInfo[u];\n        if (!h?.rect) continue;\n        const x = r.encodeAttributes(a, i, e, h),\n          c = f && s ? l.encodeAttributes(a, i, e) : [],\n          _ = a.getGeometry(t);\n        n.push({\n          ddFillAttributes: x,\n          ddOutlineAttributes: c,\n          page: h.page,\n          geometry: _\n        }), n.sort((t, e) => t.page - e.page);\n        for (const {\n          ddFillAttributes: t,\n          ddOutlineAttributes: i,\n          page: r,\n          geometry: l\n        } of n) this._processFeature(l, f, e.outlineUsesFillColor, t, i, d, r);\n      }\n    } else for (const h of u) {\n      const o = n ? r.encodeAttributes(h, i, e) : null,\n        a = f && s ? l.encodeAttributes(h, i, e) : null,\n        u = h.getGeometry(t);\n      this._processFeature(u, f, e.outlineUsesFillColor, o, a, d);\n    }\n  }\n  serialize() {\n    let t = 10;\n    t += this.layerUIDs.length, t += this._fillVertexBuffer.array.length, t += this._fillIndexBuffer.array.length, t += this._outlineVertexBuffer.array.length, t += this._outlineIndexBuffer.array.length, t += 3 * this._patternMap.size + 1;\n    const e = new Uint32Array(t),\n      i = new Int32Array(e.buffer);\n    let r = 0;\n    e[r++] = this.type, e[r++] = this.layerUIDs.length;\n    for (let s = 0; s < this.layerUIDs.length; s++) e[r++] = this.layerUIDs[s];\n    e[r++] = this._fillIndexStart, e[r++] = this._fillIndexCount, e[r++] = this._outlineIndexStart, e[r++] = this._outlineIndexCount;\n    const l = this._patternMap,\n      n = l.size;\n    if (e[r++] = n, n > 0) for (const [s, [o, a]] of l) e[r++] = s, e[r++] = o, e[r++] = a;\n    e[r++] = this._fillVertexBuffer.array.length;\n    for (let s = 0; s < this._fillVertexBuffer.array.length; s++) i[r++] = this._fillVertexBuffer.array[s];\n    e[r++] = this._fillIndexBuffer.array.length;\n    for (let s = 0; s < this._fillIndexBuffer.array.length; s++) e[r++] = this._fillIndexBuffer.array[s];\n    e[r++] = this._outlineVertexBuffer.array.length;\n    for (let s = 0; s < this._outlineVertexBuffer.array.length; s++) i[r++] = this._outlineVertexBuffer.array[s];\n    e[r++] = this._outlineIndexBuffer.array.length;\n    for (let s = 0; s < this._outlineIndexBuffer.array.length; s++) e[r++] = this._outlineIndexBuffer.array[s];\n    return e.buffer;\n  }\n  _processFeature(t, e, i, r, l, n, o) {\n    if (!t) return;\n    const a = t.length,\n      f = !l || 0 === l.length;\n    if (e && (!i || f)) for (let s = 0; s < a; s++) this._processOutline(t[s], l);\n    const u = 32;\n    let d;\n    for (let h = 0; h < a; h++) {\n      const e = s._area(t[h]);\n      e > u ? (void 0 !== d && this._processFill(t, d, r, n, o), d = [h]) : e < -u && void 0 !== d && d.push(h);\n    }\n    void 0 !== d && this._processFill(t, d, r, n, o);\n  }\n  _processOutline(t, e) {\n    const i = this._outlineVertexBuffer,\n      l = this._outlineIndexBuffer,\n      n = l.index;\n    let s, o, a;\n    const f = new r(0, 0),\n      u = new r(0, 0),\n      d = new r(0, 0);\n    let h = -1,\n      x = -1,\n      c = -1,\n      _ = -1,\n      y = -1,\n      g = !1;\n    const p = 0;\n    let I = t.length;\n    if (I < 2) return;\n    const B = t[p];\n    let m = t[I - 1];\n    for (; I && m.isEqual(B);) --I, m = t[I - 1];\n    if (!(I - p < 2)) {\n      for (let r = p; r < I; ++r) {\n        r === p ? (s = t[I - 1], o = t[p], a = t[p + 1], f.assignSub(o, s), f.normalize(), f.rightPerpendicular()) : (s = o, o = a, a = r !== I - 1 ? t[r + 1] : t[p], f.assign(u));\n        const n = this._isClipEdge(s, o);\n        -1 === _ && (g = n), u.assignSub(a, o), u.normalize(), u.rightPerpendicular();\n        const B = f.x * u.y - f.y * u.x;\n        d.assignAdd(f, u), d.normalize();\n        const m = -d.x * -f.x + -d.y * -f.y;\n        let V = Math.abs(0 !== m ? 1 / m : 1);\n        V > 8 && (V = 8), B >= 0 ? (c = i.add(o.x, o.y, f.x, f.y, 0, 1, e), -1 === _ && (_ = c), h >= 0 && x >= 0 && c >= 0 && !n && l.add(h, x, c), x = i.add(o.x, o.y, V * -d.x, V * -d.y, 0, -1, e), -1 === y && (y = x), h >= 0 && x >= 0 && c >= 0 && !n && l.add(h, x, c), h = x, x = c, c = i.add(o.x, o.y, d.x, d.y, 0, 1, e), h >= 0 && x >= 0 && c >= 0 && !n && l.add(h, x, c), x = i.add(o.x, o.y, u.x, u.y, 0, 1, e), h >= 0 && x >= 0 && c >= 0 && !n && l.add(h, x, c)) : (c = i.add(o.x, o.y, V * d.x, V * d.y, 0, 1, e), -1 === _ && (_ = c), h >= 0 && x >= 0 && c >= 0 && !n && l.add(h, x, c), x = i.add(o.x, o.y, -f.x, -f.y, 0, -1, e), -1 === y && (y = x), h >= 0 && x >= 0 && c >= 0 && !n && l.add(h, x, c), h = x, x = c, c = i.add(o.x, o.y, -d.x, -d.y, 0, -1, e), h >= 0 && x >= 0 && c >= 0 && !n && l.add(h, x, c), h = i.add(o.x, o.y, -u.x, -u.y, 0, -1, e), h >= 0 && x >= 0 && c >= 0 && !n && l.add(h, x, c));\n      }\n      h >= 0 && x >= 0 && _ >= 0 && !g && l.add(h, x, _), h >= 0 && _ >= 0 && y >= 0 && !g && l.add(h, y, _), this._outlineIndexCount += 3 * (l.index - n);\n    }\n  }\n  _processFill(r, l, n, s, o) {\n    s = !0;\n    let a;\n    l.length > 1 && (a = []);\n    let f = 0;\n    for (const t of l) 0 !== f && a.push(f), f += r[t].length;\n    const u = 2 * f,\n      d = t.acquire();\n    for (const t of l) {\n      const e = r[t],\n        i = e.length;\n      for (let t = 0; t < i; ++t) d.push(e[t].x, e[t].y);\n    }\n    const h = e(d, a, 2);\n    if (s && e.deviation(d, a, 2, h) > 0) {\n      const t = l.map(t => r[t].length),\n        {\n          buffer: e,\n          vertexCount: s\n        } = i(d, t);\n      if (s > 0) {\n        const t = this._fillVertexBuffer.index;\n        for (let i = 0; i < s; i++) this._fillVertexBuffer.add(e[2 * i], e[2 * i + 1], n);\n        for (let e = 0; e < s; e += 3) {\n          const i = t + e;\n          this._fillIndexBuffer.add(i, i + 1, i + 2);\n        }\n        if (void 0 !== o) {\n          const t = this._patternMap,\n            e = t.get(o);\n          e ? e[1] += s : t.set(o, [this._fillIndexStart + this._fillIndexCount, s]);\n        }\n        this._fillIndexCount += s;\n      }\n    } else {\n      const t = h.length;\n      if (t > 0) {\n        const e = this._fillVertexBuffer.index;\n        let i = 0;\n        for (; i < u;) this._fillVertexBuffer.add(d[i++], d[i++], n);\n        let r = 0;\n        for (; r < t;) this._fillIndexBuffer.add(e + h[r++], e + h[r++], e + h[r++]);\n        if (void 0 !== o) {\n          const e = this._patternMap,\n            i = e.get(o);\n          i ? i[1] += t : e.set(o, [this._fillIndexStart + this._fillIndexCount, t]);\n        }\n        this._fillIndexCount += t;\n      }\n    }\n    t.release(d);\n  }\n  _isClipEdge(t, e) {\n    return t.x === e.x ? t.x <= -64 || t.x >= 4160 : t.y === e.y && (t.y <= -64 || t.y >= 4160);\n  }\n  static _area(t) {\n    let e = 0;\n    const i = t.length - 1;\n    for (let r = 0; r < i; r++) e += (t[r].x - t[r + 1].x) * (t[r].y + t[r + 1].y);\n    return e += (t[i].x - t[0].x) * (t[i].y + t[0].y), .5 * e;\n  }\n}\nexport { s as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { BucketType as e } from \"../enums.js\";\nimport t from \"./BaseBucket.js\";\nimport { LineTessellation as i } from \"../../webgl/TurboLine.js\";\nconst s = 65535;\nclass n extends t {\n  constructor(t, s, n, a, o) {\n    super(t, s, n), this.type = e.LINE, this._tessellationOptions = {\n      pixelCoordRatio: 8,\n      halfWidth: 0,\n      offset: 0\n    }, this._patternMap = new Map(), this.tessellationProperties = {\n      _lineVertexBuffer: null,\n      _lineIndexBuffer: null,\n      _ddValues: null\n    }, this.tessellationProperties._lineVertexBuffer = a, this.tessellationProperties._lineIndexBuffer = o, this._lineTessellator = new i(r(this.tessellationProperties), l(this.tessellationProperties), t.canUseThinTessellation);\n  }\n  get lineIndexStart() {\n    return this._lineIndexStart;\n  }\n  get lineIndexCount() {\n    return this._lineIndexCount;\n  }\n  getResources(e, t, i) {\n    const s = this.layer,\n      n = this.zoom,\n      r = s.getPaintProperty(\"line-pattern\"),\n      l = s.getPaintProperty(\"line-dasharray\"),\n      a = s.getLayoutProperty(\"line-cap\");\n    if (!r && !l) return;\n    const o = a?.getValue(n) || 0,\n      u = a?.isDataDriven,\n      f = r?.isDataDriven,\n      h = l?.isDataDriven;\n    if (f || h) for (const p of this._features) t(f ? r.getValue(n, p) : this._getDashArrayKey(p, n, s, l, u, a, o));else if (r) t(r.getValue(n));else if (l) {\n      const e = l.getValue(n);\n      t(s.getDashKey(e, o));\n    }\n  }\n  processFeatures(e) {\n    this._lineIndexStart = 3 * this.tessellationProperties._lineIndexBuffer.index, this._lineIndexCount = 0;\n    const t = this.layer,\n      i = this.zoom,\n      s = this._features,\n      n = this._tessellationOptions,\n      {\n        hasDataDrivenLine: r,\n        lineMaterial: l\n      } = t;\n    e && e.setExtent(this.layerExtent);\n    const a = t.getPaintProperty(\"line-pattern\"),\n      o = t.getPaintProperty(\"line-dasharray\"),\n      u = a?.isDataDriven,\n      f = o?.isDataDriven;\n    let h;\n    h = t.getLayoutProperty(\"line-cap\");\n    const p = h?.isDataDriven ? h : null,\n      g = p ? null : t.getLayoutValue(\"line-cap\", i),\n      y = g || 0,\n      d = !!p;\n    h = t.getLayoutProperty(\"line-join\");\n    const c = h?.isDataDriven ? h : null,\n      _ = c ? null : t.getLayoutValue(\"line-join\", i);\n    h = t.getLayoutProperty(\"line-miter-limit\");\n    const x = h?.isDataDriven ? h : null,\n      V = x ? null : t.getLayoutValue(\"line-miter-limit\", i);\n    h = t.getLayoutProperty(\"line-round-limit\");\n    const m = h?.isDataDriven ? h : null,\n      D = m ? null : t.getLayoutValue(\"line-round-limit\", i);\n    h = t.getPaintProperty(\"line-width\");\n    const P = h?.isDataDriven ? h : null,\n      I = P ? null : t.getPaintValue(\"line-width\", i);\n    h = t.getPaintProperty(\"line-offset\");\n    const L = h?.isDataDriven ? h : null,\n      B = L ? null : t.getPaintValue(\"line-offset\", i);\n    if (u || f) {\n      const r = [];\n      for (const n of s) {\n        const s = u ? a.getValue(i, n) : this._getDashArrayKey(n, i, t, o, d, p, y),\n          f = this._spriteInfo[s];\n        if (!f?.rect) continue;\n        const h = l.encodeAttributes(n, i, t, f),\n          v = n.getGeometry(e);\n        r.push({\n          ddAttributes: h,\n          page: f.page,\n          cap: p ? p.getValue(i, n) : g,\n          join: c ? c.getValue(i, n) : _,\n          miterLimit: x ? x.getValue(i, n) : V,\n          roundLimit: m ? m.getValue(i, n) : D,\n          halfWidth: .5 * (P ? P.getValue(i, n) : I),\n          offset: L ? L.getValue(i, n) : B,\n          geometry: v\n        });\n      }\n      r.sort((e, t) => e.page - t.page), n.textured = !0;\n      for (const {\n        ddAttributes: e,\n        page: t,\n        cap: i,\n        join: s,\n        miterLimit: l,\n        roundLimit: a,\n        halfWidth: o,\n        offset: u,\n        geometry: f\n      } of r) n.capType = i, n.joinType = s, n.miterLimit = l, n.roundLimit = a, n.halfWidth = o, n.offset = u, this._processFeature(f, e, t);\n    } else {\n      if (a) {\n        const e = a.getValue(i),\n          t = this._spriteInfo[e];\n        if (!t?.rect) return;\n      }\n      n.textured = !(!a && !o), n.capType = g, n.joinType = _, n.miterLimit = V, n.roundLimit = D, n.halfWidth = .5 * I, n.offset = B;\n      for (const a of s) {\n        const s = r ? l.encodeAttributes(a, i, t) : null;\n        p && (n.capType = p.getValue(i, a)), c && (n.joinType = c.getValue(i, a)), x && (n.miterLimit = x.getValue(i, a)), m && (n.roundLimit = m.getValue(i, a)), P && (n.halfWidth = .5 * P.getValue(i, a)), L && (n.offset = L.getValue(i, a));\n        const o = a.getGeometry(e);\n        this._processFeature(o, s);\n      }\n    }\n  }\n  serialize() {\n    let e = 6;\n    e += this.layerUIDs.length, e += this.tessellationProperties._lineVertexBuffer.array.length, e += this.tessellationProperties._lineIndexBuffer.array.length, e += 3 * this._patternMap.size + 1;\n    const t = new Uint32Array(e),\n      i = new Int32Array(t.buffer);\n    let s = 0;\n    t[s++] = this.type, t[s++] = this.layerUIDs.length;\n    for (let l = 0; l < this.layerUIDs.length; l++) t[s++] = this.layerUIDs[l];\n    t[s++] = this._lineIndexStart, t[s++] = this._lineIndexCount;\n    const n = this._patternMap,\n      r = n.size;\n    if (t[s++] = r, r > 0) for (const [l, [a, o]] of n) t[s++] = l, t[s++] = a, t[s++] = o;\n    t[s++] = this.tessellationProperties._lineVertexBuffer.array.length;\n    for (let l = 0; l < this.tessellationProperties._lineVertexBuffer.array.length; l++) i[s++] = this.tessellationProperties._lineVertexBuffer.array[l];\n    t[s++] = this.tessellationProperties._lineIndexBuffer.array.length;\n    for (let l = 0; l < this.tessellationProperties._lineIndexBuffer.array.length; l++) t[s++] = this.tessellationProperties._lineIndexBuffer.array[l];\n    return t.buffer;\n  }\n  _processFeature(e, t, i) {\n    if (!e) return;\n    const s = e.length;\n    for (let n = 0; n < s; n++) this._processGeometry(e[n], t, i);\n  }\n  _processGeometry(e, t, i) {\n    if (e.length < 2) return;\n    const n = .001;\n    let r,\n      l,\n      a = e[0],\n      o = 1;\n    for (; o < e.length;) r = e[o].x - a.x, l = e[o].y - a.y, r * r + l * l < n * n ? e.splice(o, 1) : (a = e[o], ++o);\n    if (e.length < 2) return;\n    const u = this.tessellationProperties._lineIndexBuffer,\n      f = 3 * u.index;\n    this._tessellationOptions.initialDistance = 0, this._tessellationOptions.wrapDistance = s, this.tessellationProperties._ddValues = t, this._lineTessellator.tessellate(e, this._tessellationOptions);\n    const h = 3 * u.index - f;\n    if (void 0 !== i) {\n      const e = this._patternMap,\n        t = e.get(i);\n      t ? t[1] += h : e.set(i, [f + this._lineIndexCount, h]);\n    }\n    this._lineIndexCount += h;\n  }\n  _getDashArrayKey(e, t, i, s, n, r, l) {\n    const a = n ? r.getValue(t, e) : l,\n      o = s.getValue(t, e);\n    return i.getDashKey(o, a);\n  }\n}\nconst r = e => (t, i, s, n, r, l, a, o, u, f, h) => (e._lineVertexBuffer.add(t, i, a, o, s, n, r, l, u, f, h, e._ddValues), e._lineVertexBuffer.index - 1),\n  l = e => (t, i, s) => {\n    e._lineIndexBuffer.add(t, i, s);\n  };\nexport { n as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../core/BidiEngine.js\";\nimport { assertIsSome as t } from \"../../../../../core/maybe.js\";\nimport { numericHash as n } from \"../../../../../core/string.js\";\nimport { GeometryType as i, Point as s } from \"../../../../../geometry/support/TileClipper.js\";\nimport { BucketType as a } from \"../enums.js\";\nimport { cDegToRad as o, log2 as r, interpolate as l } from \"../GeometryUtils.js\";\nimport { tilePixelRatio as h, Anchor as x, tileCoordSize as c } from \"../Placement.js\";\nimport { sdfGlyphSize as d, TextShaping as f } from \"../TextShaping.js\";\nimport g from \"./BaseBucket.js\";\nimport { TextTransform as y, SymbolPlacement as m, RotationAlignment as u, TextWritingMode as p, SymbolAnchor as _, TextJustification as M } from \"../style/StyleDefinition.js\";\nimport { IconLayout as P, TextLayout as I } from \"../style/StyleLayer.js\";\nconst b = 10;\nfunction A(e, t) {\n  return e.iconMosaicItem && t.iconMosaicItem ? e.iconMosaicItem.page === t.iconMosaicItem.page ? 0 : e.iconMosaicItem.page - t.iconMosaicItem.page : e.iconMosaicItem && !t.iconMosaicItem ? 1 : !e.iconMosaicItem && t.iconMosaicItem ? -1 : 0;\n}\nclass L extends g {\n  constructor(e, t, n, i, s, o, r, l, h) {\n    super(t, n, h.getSpriteItems()), this.type = a.SYMBOL, this._markerMap = new Map(), this._glyphMap = new Map(), this._glyphBufferDataStorage = new Map(), this._isIconSDF = !1, this._sourceTileKey = e, this._iconVertexBuffer = i, this._iconIndexBuffer = s, this._textVertexBuffer = o, this._textIndexBuffer = r, this._placementEngine = l, this._workerTileHandler = h;\n  }\n  get markerPageMap() {\n    return this._markerMap;\n  }\n  get glyphsPageMap() {\n    return this._glyphMap;\n  }\n  get symbolInstances() {\n    return this._symbolInstances;\n  }\n  getResources(e, t, i) {\n    const s = this.layer,\n      a = this.zoom;\n    e && e.setExtent(this.layerExtent);\n    const o = s.getLayoutProperty(\"icon-image\"),\n      r = s.getLayoutProperty(\"text-field\");\n    let l = s.getLayoutProperty(\"text-transform\"),\n      h = s.getLayoutProperty(\"text-font\");\n    const x = [];\n    let c, d, f, g;\n    o && !o.isDataDriven && (c = o.getValue(a)), r && !r.isDataDriven && (d = r.getValue(a)), l && l.isDataDriven || (f = s.getLayoutValue(\"text-transform\", a), l = null), h && h.isDataDriven || (g = s.getLayoutValue(\"text-font\", a), h = null);\n    for (const m of this._features) {\n      const u = m.getGeometry(e);\n      if (!u || 0 === u.length) continue;\n      let p, _;\n      o && (p = o.isDataDriven ? o.getValue(a, m) : this._replaceKeys(c, m.values), p && t(p));\n      let M = !1;\n      if (r && (_ = r.isDataDriven ? r.getValue(a, m) : this._replaceKeys(d, m.values), _)) {\n        switch (_ = _.replaceAll(\"\\\\n\", \"\\n\"), l && (f = l.getValue(a, m)), f) {\n          case y.LOWERCASE:\n            _ = _.toLowerCase();\n            break;\n          case y.UPPERCASE:\n            _ = _.toUpperCase();\n        }\n        if (L._bidiEngine.hasBidiChar(_)) {\n          let e;\n          e = \"rtl\" === L._bidiEngine.checkContextual(_) ? \"IDNNN\" : \"ICNNN\", _ = L._bidiEngine.bidiTransform(_, e, \"VLYSN\"), M = !0;\n        }\n        if (_.length > 0) {\n          h && (g = h.getValue(a, m));\n          for (const e of g) {\n            let t = i[e];\n            t || (t = i[e] = new Set());\n            for (const e of _) {\n              const n = e.codePointAt(0);\n              null != n && t.add(n);\n            }\n          }\n        }\n      }\n      if (!p && !_) continue;\n      const P = s.getLayoutValue(\"symbol-sort-key\", a, m),\n        I = {\n          feature: m,\n          sprite: p,\n          label: _,\n          rtl: M,\n          geometry: u,\n          hash: (_ ? n(_) : 0) ^ (p ? n(p) : 0),\n          priority: P,\n          textFont: g\n        };\n      x.push(I);\n    }\n    this._symbolFeatures = x;\n  }\n  processFeatures(e) {\n    e && e.setExtent(this.layerExtent);\n    const n = this.layer,\n      s = this.zoom,\n      a = n.getLayoutValue(\"symbol-placement\", s),\n      r = a !== m.POINT,\n      l = n.getLayoutValue(\"symbol-spacing\", s) * h,\n      g = n.getLayoutProperty(\"icon-image\"),\n      y = n.getLayoutProperty(\"text-field\"),\n      b = g ? new P(n, s, r) : null,\n      T = y ? new I(n, s, r) : null,\n      V = this._workerTileHandler;\n    let w;\n    g && (w = V.getSpriteItems()), this._iconIndexStart = 3 * this._iconIndexBuffer.index, this._textIndexStart = 3 * this._textIndexBuffer.index, this._iconIndexCount = 0, this._textIndexCount = 0, this._markerMap.clear(), this._glyphMap.clear();\n    const B = [];\n    let C = 1;\n    T?.size && (C = T.size / d);\n    const R = T ? T.maxAngle * o : 0,\n      D = T ? T.size * h : 0;\n    for (const o of this._symbolFeatures) {\n      let e;\n      b && w && o.sprite && (e = w[o.sprite], e && e.sdf && (this._isIconSDF = !0));\n      let n;\n      !!e && b.update(s, o.feature);\n      let g = 0;\n      const y = o.label;\n      if (y) {\n        t(T), T.update(s, o.feature);\n        const e = r && T.rotationAlignment === u.MAP ? T.keepUpright : T.writingMode && T.writingMode.includes(p.VERTICAL);\n        let i = .5;\n        switch (T.anchor) {\n          case _.TOP_LEFT:\n          case _.LEFT:\n          case _.BOTTOM_LEFT:\n            i = 0;\n            break;\n          case _.TOP_RIGHT:\n          case _.RIGHT:\n          case _.BOTTOM_RIGHT:\n            i = 1;\n        }\n        let a = .5;\n        switch (T.anchor) {\n          case _.TOP_LEFT:\n          case _.TOP:\n          case _.TOP_RIGHT:\n            a = 0;\n            break;\n          case _.BOTTOM_LEFT:\n          case _.BOTTOM:\n          case _.BOTTOM_RIGHT:\n            a = 1;\n        }\n        let l = .5;\n        switch (T.justify) {\n          case M.AUTO:\n            l = i;\n            break;\n          case M.LEFT:\n            l = 0;\n            break;\n          case M.RIGHT:\n            l = 1;\n        }\n        const x = T.letterSpacing * d,\n          c = r ? 0 : T.maxWidth * d,\n          m = T.lineHeight * d,\n          P = o.textFont.map(e => V.getGlyphItems(e));\n        if (n = new f(P, c, m, x, i, a, l).getShaping(y, o.rtl, e), n && n.length > 0) {\n          let e = 1e30,\n            t = -1e30;\n          for (const i of n) e = Math.min(e, i.x), t = Math.max(t, i.x);\n          g = (t - e + 2 * d) * C * h;\n        }\n      }\n      for (let t of o.geometry) {\n        const s = [];\n        if (a === m.LINE) {\n          if (n?.length && T?.size) {\n            const e = T.size * h * (2 + Math.min(2, 4 * Math.abs(T.offset[1])));\n            t = L._smoothVertices(t, e);\n          }\n          L._pushAnchors(s, t, l, g);\n        } else a === m.LINE_CENTER ? L._pushCenterAnchor(s, t) : o.feature.type === i.Polygon ? L._pushCentroid(s, t) : s.push(new x(t[0].x, t[0].y));\n        for (const i of s) {\n          if (i.x < 0 || i.x > c || i.y < 0 || i.y > c) continue;\n          if (r && g > 0 && T?.rotationAlignment === u.MAP && !L._honorsTextMaxAngle(t, i, g, R, D)) continue;\n          const s = {\n            shaping: n,\n            line: t,\n            iconMosaicItem: e,\n            anchor: i,\n            symbolFeature: o,\n            textColliders: [],\n            iconColliders: [],\n            textVertexRanges: [],\n            iconVertexRanges: []\n          };\n          B.push(s), this._processFeature(s, b, T);\n        }\n      }\n    }\n    B.sort(A), this._addPlacedGlyphs(), this._symbolInstances = B;\n  }\n  serialize() {\n    let e = 14;\n    e += this.layerUIDs.length, e += 3 * this.markerPageMap.size, e += 3 * this.glyphsPageMap.size, e += L._symbolsSerializationLength(this._symbolInstances), e += this._iconVertexBuffer.array.length, e += this._iconIndexBuffer.array.length, e += this._textVertexBuffer.array.length, e += this._textIndexBuffer.array.length;\n    const t = new Uint32Array(e),\n      n = new Int32Array(t.buffer),\n      i = new Float32Array(t.buffer),\n      [s, a, o] = this._sourceTileKey.split(\"/\");\n    let r = 0;\n    t[r++] = this.type, t[r++] = this.layerUIDs.length;\n    for (let l = 0; l < this.layerUIDs.length; l++) t[r++] = this.layerUIDs[l];\n    t[r++] = this._isIconSDF ? 1 : 0, t[r++] = parseFloat(s), t[r++] = parseFloat(a), t[r++] = parseFloat(o), t[r++] = this.markerPageMap.size;\n    for (const [l, [h, x]] of this.markerPageMap) t[r++] = l, t[r++] = h, t[r++] = x;\n    t[r++] = this.glyphsPageMap.size;\n    for (const [l, [h, x]] of this.glyphsPageMap) t[r++] = l, t[r++] = h, t[r++] = x;\n    t[r++] = this._iconVertexBuffer.index / 4, t[r++] = this._textVertexBuffer.index / 4, r = L.serializeSymbols(t, n, i, r, this._symbolInstances), t[r++] = this._iconVertexBuffer.array.length;\n    for (let l = 0; l < this._iconVertexBuffer.array.length; l++) n[r++] = this._iconVertexBuffer.array[l];\n    t[r++] = this._iconIndexBuffer.array.length;\n    for (let l = 0; l < this._iconIndexBuffer.array.length; l++) t[r++] = this._iconIndexBuffer.array[l];\n    t[r++] = this._textVertexBuffer.array.length;\n    for (let l = 0; l < this._textVertexBuffer.array.length; l++) n[r++] = this._textVertexBuffer.array[l];\n    t[r++] = this._textIndexBuffer.array.length;\n    for (let l = 0; l < this._textIndexBuffer.array.length; l++) t[r++] = this._textIndexBuffer.array[l];\n    return t.buffer;\n  }\n  static _symbolsSerializationLength(e) {\n    let t = 0;\n    t += 1;\n    for (const n of e || []) {\n      t += 5, t += 1;\n      for (const e of n.textColliders) t += b;\n      for (const e of n.iconColliders) t += b;\n      t += 1, t += 2 * n.textVertexRanges.length, t += 1, t += 2 * n.iconVertexRanges.length;\n    }\n    return t;\n  }\n  static serializeSymbols(e, t, n, i, s) {\n    s = s || [], t[i++] = s.length;\n    for (const a of s) {\n      t[i++] = a.anchor.x, t[i++] = a.anchor.y, t[i++] = a.symbolFeature.hash, t[i++] = a.symbolFeature.priority, t[i++] = a.symbolFeature.feature.featureIndex, t[i++] = a.textColliders.length + a.iconColliders.length;\n      for (const e of a.textColliders) t[i++] = e.xTile, t[i++] = e.yTile, t[i++] = e.dxPixels, t[i++] = e.dyPixels, t[i++] = e.hard ? 1 : 0, t[i++] = e.partIndex, n[i++] = e.minLod, n[i++] = e.maxLod, t[i++] = e.width, t[i++] = e.height;\n      for (const e of a.iconColliders) t[i++] = e.xTile, t[i++] = e.yTile, t[i++] = e.dxPixels, t[i++] = e.dyPixels, t[i++] = e.hard ? 1 : 0, t[i++] = e.partIndex, n[i++] = e.minLod, n[i++] = e.maxLod, t[i++] = e.width, t[i++] = e.height;\n      t[i++] = a.textVertexRanges.length;\n      for (const [e, n] of a.textVertexRanges) t[i++] = e, t[i++] = n;\n      t[i++] = a.iconVertexRanges.length;\n      for (const [e, n] of a.iconVertexRanges) t[i++] = e, t[i++] = n;\n    }\n    return i;\n  }\n  _replaceKeys(e, t) {\n    return e.replaceAll(/{([^{}]+)}/g, (e, n) => n in t ? t[n] : \"\");\n  }\n  _processFeature(e, t, n) {\n    const {\n        line: i,\n        iconMosaicItem: s,\n        shaping: a,\n        anchor: o\n      } = e,\n      l = this.zoom,\n      h = this.layer,\n      x = !!s;\n    let c = !0;\n    x && (c = t?.optional || !s);\n    const d = a && a.length > 0,\n      f = !d || n?.optional;\n    let g, y;\n    if (x && (g = this._placementEngine.getIconPlacement(o, s, t)), (g || c) && (d && (y = this._placementEngine.getTextPlacement(o, a, i, n)), y || f)) {\n      if (g && y || (f || c ? f || y ? c || g || (y = null) : g = null : (g = null, y = null)), y) {\n        const t = h.hasDataDrivenText ? h.textMaterial.encodeAttributes(e.symbolFeature.feature, l, h) : null;\n        if (this._storePlacedGlyphs(e, y.shapes, l, n.rotationAlignment, t), y.textColliders) {\n          e.textColliders = y.textColliders;\n          for (const e of y.textColliders) {\n            e.minLod = Math.max(l + r(e.minLod), 0), e.maxLod = Math.min(l + r(e.maxLod), 25);\n            const t = e.angle;\n            if (t) {\n              const n = Math.cos(t),\n                i = Math.sin(t),\n                s = e.dxPixels * n - e.dyPixels * i,\n                a = e.dxPixels * i + e.dyPixels * n,\n                o = (e.dxPixels + e.width) * n - e.dyPixels * i,\n                r = (e.dxPixels + e.width) * i + e.dyPixels * n,\n                l = e.dxPixels * n - (e.dyPixels + e.height) * i,\n                h = e.dxPixels * i + (e.dyPixels + e.height) * n,\n                x = (e.dxPixels + e.width) * n - (e.dyPixels + e.height) * i,\n                c = (e.dxPixels + e.width) * i + (e.dyPixels + e.height) * n,\n                d = Math.min(s, o, l, x),\n                f = Math.max(s, o, l, x),\n                g = Math.min(a, r, h, c),\n                y = Math.max(a, r, h, c);\n              e.dxPixels = d, e.dyPixels = g, e.width = f - d, e.height = y - g;\n            }\n          }\n        }\n      }\n      if (g) {\n        const n = h.hasDataDrivenIcon ? h.iconMaterial.encodeAttributes(e.symbolFeature.feature, l, h) : null;\n        if (this._addPlacedIcons(e, g.shapes, l, s.page, t.rotationAlignment === u.VIEWPORT, n), g.iconColliders) {\n          e.iconColliders = g.iconColliders;\n          for (const e of g.iconColliders) {\n            e.minLod = Math.max(l + r(e.minLod), 0), e.maxLod = Math.min(l + r(e.maxLod), 25);\n            const t = e.angle;\n            if (t) {\n              const n = Math.cos(t),\n                i = Math.sin(t),\n                s = e.dxPixels * n - e.dyPixels * i,\n                a = e.dxPixels * i + e.dyPixels * n,\n                o = (e.dxPixels + e.width) * n - e.dyPixels * i,\n                r = (e.dxPixels + e.width) * i + e.dyPixels * n,\n                l = e.dxPixels * n - (e.dyPixels + e.height) * i,\n                h = e.dxPixels * i + (e.dyPixels + e.height) * n,\n                x = (e.dxPixels + e.width) * n - (e.dyPixels + e.height) * i,\n                c = (e.dxPixels + e.width) * i + (e.dyPixels + e.height) * n,\n                d = Math.min(s, o, l, x),\n                f = Math.max(s, o, l, x),\n                g = Math.min(a, r, h, c),\n                y = Math.max(a, r, h, c);\n              e.dxPixels = d, e.dyPixels = g, e.width = f - d, e.height = y - g;\n            }\n          }\n        }\n      }\n    }\n  }\n  _addPlacedIcons(e, t, n, i, s, a) {\n    const o = Math.max(n - 1, 0),\n      l = this._iconVertexBuffer,\n      h = this._iconIndexBuffer,\n      x = this._markerMap;\n    for (const c of t) {\n      const t = s ? 0 : Math.max(n + r(c.minzoom), o),\n        d = s ? 25 : Math.min(n + r(c.maxzoom), 25);\n      if (d <= t) continue;\n      const f = c.tl,\n        g = c.tr,\n        y = c.bl,\n        m = c.br,\n        u = c.mosaicRect,\n        p = c.labelAngle,\n        _ = c.minAngle,\n        M = c.maxAngle,\n        P = c.anchor,\n        I = l.index,\n        b = u.x,\n        A = u.y,\n        L = b + u.width,\n        T = A + u.height,\n        V = l.index;\n      l.add(P.x, P.y, f.x, f.y, b, A, p, _, M, t, d, a), l.add(P.x, P.y, g.x, g.y, L, A, p, _, M, t, d, a), l.add(P.x, P.y, y.x, y.y, b, T, p, _, M, t, d, a), l.add(P.x, P.y, m.x, m.y, L, T, p, _, M, t, d, a), e.iconVertexRanges.length > 0 && e.iconVertexRanges[0][0] + e.iconVertexRanges[0][1] === V ? e.iconVertexRanges[0][1] += 4 : e.iconVertexRanges.push([V, 4]), h.add(I, I + 1, I + 2), h.add(I + 1, I + 2, I + 3), x.has(i) ? x.get(i)[1] += 6 : x.set(i, [this._iconIndexStart + this._iconIndexCount, 6]), this._iconIndexCount += 6;\n    }\n  }\n  _addPlacedGlyphs() {\n    const e = this._textVertexBuffer,\n      t = this._textIndexBuffer,\n      n = this._glyphMap;\n    for (const [i, s] of this._glyphBufferDataStorage) for (const a of s) {\n      const s = e.index,\n        o = a.symbolInstance,\n        r = a.ddAttributes,\n        l = e.index;\n      e.add(a.glyphAnchor[0], a.glyphAnchor[1], a.tl[0], a.tl[1], a.xmin, a.ymin, a.labelAngle, a.minAngle, a.maxAngle, a.minLod, a.maxLod, r), e.add(a.glyphAnchor[0], a.glyphAnchor[1], a.tr[0], a.tr[1], a.xmax, a.ymin, a.labelAngle, a.minAngle, a.maxAngle, a.minLod, a.maxLod, r), e.add(a.glyphAnchor[0], a.glyphAnchor[1], a.bl[0], a.bl[1], a.xmin, a.ymax, a.labelAngle, a.minAngle, a.maxAngle, a.minLod, a.maxLod, r), e.add(a.glyphAnchor[0], a.glyphAnchor[1], a.br[0], a.br[1], a.xmax, a.ymax, a.labelAngle, a.minAngle, a.maxAngle, a.minLod, a.maxLod, r), o.textVertexRanges.length > 0 && o.textVertexRanges[0][0] + o.textVertexRanges[0][1] === l ? o.textVertexRanges[0][1] += 4 : o.textVertexRanges.push([l, 4]), t.add(s, s + 1, s + 2), t.add(s + 1, s + 2, s + 3), n.has(i) ? n.get(i)[1] += 6 : n.set(i, [this._textIndexStart + this._textIndexCount, 6]), this._textIndexCount += 6;\n    }\n    this._glyphBufferDataStorage.clear();\n  }\n  _storePlacedGlyphs(e, t, n, i, s) {\n    const a = Math.max(n - 1, 0),\n      o = i === u.VIEWPORT;\n    let l, h, x, c, d, f, g, y, m, p, _;\n    for (const u of t) {\n      if (l = o ? 0 : Math.max(n + r(u.minzoom), a), h = o ? 25 : Math.min(n + r(u.maxzoom), 25), h <= l) continue;\n      x = u.tl, c = u.tr, d = u.bl, f = u.br, g = u.labelAngle, y = u.minAngle, m = u.maxAngle, p = u.anchor, _ = u.mosaicRect, this._glyphBufferDataStorage.has(u.page) || this._glyphBufferDataStorage.set(u.page, []);\n      this._glyphBufferDataStorage.get(u.page).push({\n        glyphAnchor: [p.x, p.y],\n        tl: [x.x, x.y],\n        tr: [c.x, c.y],\n        bl: [d.x, d.y],\n        br: [f.x, f.y],\n        xmin: _.x,\n        ymin: _.y,\n        xmax: _.x + _.width,\n        ymax: _.y + _.height,\n        labelAngle: g,\n        minAngle: y,\n        maxAngle: m,\n        minLod: l,\n        maxLod: h,\n        placementLod: a,\n        symbolInstance: e,\n        ddAttributes: s\n      });\n    }\n  }\n  static _pushAnchors(e, t, n, i) {\n    n += i;\n    let a = 0;\n    const o = t.length - 1;\n    for (let l = 0; l < o; l++) a += s.distance(t[l], t[l + 1]);\n    let r = i || n;\n    if (r *= .5, a <= r) return;\n    const h = r / a;\n    let c = 0,\n      d = -(n = a / Math.max(Math.round(a / n), 1)) / 2;\n    const f = t.length - 1;\n    for (let s = 0; s < f; s++) {\n      const i = t[s],\n        a = t[s + 1],\n        o = a.x - i.x,\n        r = a.y - i.y,\n        f = Math.sqrt(o * o + r * r);\n      let g;\n      for (; d + n < c + f;) {\n        d += n;\n        const t = (d - c) / f,\n          y = l(i.x, a.x, t),\n          m = l(i.y, a.y, t);\n        void 0 === g && (g = Math.atan2(r, o)), e.push(new x(y, m, g, s, h));\n      }\n      c += f;\n    }\n  }\n  static _pushCenterAnchor(e, t) {\n    let n = 0;\n    const i = t.length - 1;\n    for (let l = 0; l < i; l++) n += s.distance(t[l], t[l + 1]);\n    const a = n / 2;\n    let o = 0;\n    const r = t.length - 1;\n    for (let s = 0; s < r; s++) {\n      const n = t[s],\n        i = t[s + 1],\n        r = i.x - n.x,\n        h = i.y - n.y,\n        c = Math.sqrt(r * r + h * h);\n      if (a < o + c) {\n        const t = (a - o) / c,\n          d = l(n.x, i.x, t),\n          f = l(n.y, i.y, t),\n          g = Math.atan2(h, r);\n        return void e.push(new x(d, f, g, s, 0));\n      }\n      o += c;\n    }\n  }\n  static _deviation(e, t, n) {\n    const i = (t.x - e.x) * (n.x - t.x) + (t.y - e.y) * (n.y - t.y),\n      s = (t.x - e.x) * (n.y - t.y) - (t.y - e.y) * (n.x - t.x);\n    return Math.atan2(s, i);\n  }\n  static _honorsTextMaxAngle(e, t, n, i, a) {\n    let o = 0;\n    const r = n / 2;\n    let l = new s(t.x, t.y),\n      h = t.segment + 1;\n    for (; o > -r;) {\n      if (--h, h < 0) return !1;\n      o -= s.distance(e[h], l), l = e[h];\n    }\n    o += s.distance(e[h], e[h + 1]);\n    const x = [];\n    let c = 0;\n    const d = e.length;\n    for (; o < r;) {\n      const t = e[h];\n      let n,\n        r = h;\n      do {\n        if (++r, r === d) return !1;\n        n = e[r];\n      } while (n.isEqual(t));\n      let l,\n        f = r;\n      do {\n        if (++f, f === d) return !1;\n        l = e[f];\n      } while (l.isEqual(n));\n      const g = this._deviation(t, n, l);\n      for (x.push({\n        deviation: g,\n        distToAnchor: o\n      }), c += g; o - x[0].distToAnchor > a;) c -= x.shift().deviation;\n      if (Math.abs(c) > i) return !1;\n      o += s.distance(n, l), h = r;\n    }\n    return !0;\n  }\n  static _smoothVertices(e, t) {\n    if (t <= 0) return e;\n    let n = e.length;\n    if (n < 3) return e;\n    const i = [];\n    let a = 0,\n      o = 0;\n    i.push(0);\n    for (let y = 1; y < n; y++) {\n      const t = s.distance(e[y], e[y - 1]);\n      t > 0 && (a += t, i.push(a), o++, o !== y && (e[o] = e[y]));\n    }\n    if (n = o + 1, n < 3) return e;\n    t = Math.min(t, .2 * a);\n    const r = e[0].x,\n      l = e[0].y,\n      h = e[n - 1].x,\n      x = e[n - 1].y,\n      c = s.sub(e[0], e[1]);\n    c.normalize(), e[0].x += t * c.x, e[0].y += t * c.y, c.assignSub(e[n - 1], e[n - 2]), c.normalize(), e[n - 1].x += t * c.x, e[n - 1].y += t * c.y, i[0] -= t, i[n - 1] += t;\n    const d = [];\n    d.push(new s(r, l));\n    const f = 1e-6,\n      g = .5 * t;\n    for (let y = 1; y < n - 1; y++) {\n      let a = 0,\n        o = 0,\n        r = 0;\n      for (let n = y - 1; n >= 0; n--) {\n        const s = g + i[n + 1] - i[y];\n        if (s < 0) break;\n        const l = i[n + 1] - i[n],\n          h = i[y] - i[n] < g ? 1 : s / l;\n        if (h < f) break;\n        const x = h * h,\n          c = h * s - .5 * x * l,\n          d = h * l / t,\n          m = e[n + 1],\n          u = e[n].x - m.x,\n          p = e[n].y - m.y;\n        a += d / c * (m.x * h * s + .5 * x * (s * u - l * m.x) - x * h * l * u / 3), o += d / c * (m.y * h * s + .5 * x * (s * p - l * m.y) - x * h * l * p / 3), r += d;\n      }\n      for (let s = y + 1; s < n; s++) {\n        const n = g - i[s - 1] + i[y];\n        if (n < 0) break;\n        const l = i[s] - i[s - 1],\n          h = i[s] - i[y] < g ? 1 : n / l;\n        if (h < f) break;\n        const x = h * h,\n          c = h * n - .5 * x * l,\n          d = h * l / t,\n          m = e[s - 1],\n          u = e[s].x - m.x,\n          p = e[s].y - m.y;\n        a += d / c * (m.x * h * n + .5 * x * (n * u - l * m.x) - x * h * l * u / 3), o += d / c * (m.y * h * n + .5 * x * (n * p - l * m.y) - x * h * l * p / 3), r += d;\n      }\n      d.push(new s(a / r, o / r));\n    }\n    return d.push(new s(h, x)), e[0].x = r, e[0].y = l, e[n - 1].x = h, e[n - 1].y = x, d;\n  }\n  static _pushCentroid(e, t) {\n    const n = 0,\n      i = 0,\n      s = 4096,\n      a = 4096,\n      o = t.length - 1;\n    let r = 0,\n      l = 0,\n      h = 0,\n      c = t[0].x,\n      d = t[0].y;\n    c > s && (c = s), c < n && (c = n), d > a && (d = a), d < i && (d = i);\n    for (let x = 1; x < o; x++) {\n      let e = t[x].x,\n        o = t[x].y,\n        f = t[x + 1].x,\n        g = t[x + 1].y;\n      e > s && (e = s), e < n && (e = n), o > a && (o = a), o < i && (o = i), f > s && (f = s), f < n && (f = n), g > a && (g = a), g < i && (g = i);\n      const y = (e - c) * (g - d) - (f - c) * (o - d);\n      r += y * (c + e + f), l += y * (d + o + g), h += y;\n    }\n    r /= 3 * h, l /= 3 * h, isNaN(r) || isNaN(l) || e.push(new x(r, l));\n  }\n}\nL._bidiEngine = new e();\nexport { L as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar I;\n!function (I) {\n  I[I.INITIALIZED = 0] = \"INITIALIZED\", I[I.NO_DATA = 1] = \"NO_DATA\", I[I.READY = 2] = \"READY\", I[I.MODIFIED = 3] = \"MODIFIED\", I[I.INVALID = 4] = \"INVALID\";\n}(I || (I = {}));\nexport { I as TileStatus };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/pbf.js\";\nimport { isAborted as t } from \"../../../../core/promiseUtils.js\";\nimport { loadLibtess as r } from \"../../../../geometry/libtess.js\";\nimport { TileClipper as s, SimpleBuilder as i } from \"../../../../geometry/support/TileClipper.js\";\nimport o from \"./Feature.js\";\nimport { getTileMargins as c } from \"./GeometryUtils.js\";\nimport { TriangleIndexBuffer as n } from \"./IndexMemoryBuffer.js\";\nimport l from \"./SourceLayerData.js\";\nimport { FillVertexBuffer as a, OutlineVertexBuffer as u, LineVertexBuffer as f, CircleVertexBuffer as p, SymbolVertexBuffer as h } from \"./VertexMemoryBuffer.js\";\nimport m from \"./buckets/CircleBucket.js\";\nimport _ from \"./buckets/FillBucket.js\";\nimport y from \"./buckets/LineBucket.js\";\nimport d from \"./buckets/SymbolBucket.js\";\nimport { StyleLayerType as k } from \"./style/StyleDefinition.js\";\nimport { TileStatus as T } from \"../../tiling/enums.js\";\nclass g {\n  constructor(t, r, o, n, l, a) {\n    if (this._pbfTiles = {}, this._tileClippers = {}, this._client = o, this._tile = r, this._sourceDataMaxLOD = n, a) {\n      this._styleLayerUIDs = new Set();\n      for (const e of a) this._styleLayerUIDs.add(e);\n    }\n    this._styleRepository = l, this._layers = this._styleRepository?.layers ?? [];\n    const [u, f, p] = r.tileKey.split(\"/\").map(parseFloat);\n    this._level = u;\n    const h = c(this._level);\n    for (const c of Object.keys(t)) {\n      const r = t[c];\n      this._pbfTiles[c] = new e(new Uint8Array(r.protobuff), new DataView(r.protobuff));\n      if (r.refKey) {\n        const [e] = r.refKey.split(\"/\").map(parseFloat),\n          t = u - e;\n        if (t > 0) {\n          const e = (1 << t) - 1,\n            r = f & e,\n            i = p & e;\n          this._tileClippers[c] = new s(t, r, i, 8, h);\n        }\n      }\n      this._tileClippers[c] || (this._tileClippers[c] = new i());\n    }\n  }\n  _canParseStyleLayer(e) {\n    return !this._styleLayerUIDs || this._styleLayerUIDs.has(e);\n  }\n  async parse(e) {\n    const t = r(),\n      s = this._initialize(e),\n      {\n        returnedBuckets: i\n      } = s;\n    this._processLayers(s), this._linkReferences(s), this._filterFeatures(s);\n    const o = [],\n      c = new Set(),\n      n = (e, t) => {\n        c.has(e) || (o.push({\n          name: e,\n          repeat: t\n        }), c.add(e));\n      },\n      l = {};\n    for (const r of i) r.getResources(r.tileClipper, n, l);\n    if (this._tile.status === T.INVALID) return [];\n    const a = this._fetchResources(o, l, e);\n    return Promise.all([...a, t]).then(() => this._processFeatures(s.returnedBuckets));\n  }\n  _initialize(e) {\n    const t = e?.signal;\n    return {\n      signal: t,\n      sourceNameToTileData: this._parseTileData(this._pbfTiles),\n      layers: this._layers,\n      zoom: this._level,\n      sourceNameToTileClipper: this._tileClippers,\n      sourceNameToUniqueSourceLayerBuckets: {},\n      sourceNameToUniqueSourceLayers: {},\n      returnedBuckets: [],\n      layerIdToBucket: {},\n      referencerUIDToReferencedId: new Map()\n    };\n  }\n  _processLayers(e) {\n    const {\n        sourceNameToTileData: t,\n        zoom: r,\n        layers: s,\n        sourceNameToTileClipper: i,\n        sourceNameToUniqueSourceLayerBuckets: o,\n        sourceNameToUniqueSourceLayers: c,\n        returnedBuckets: n,\n        layerIdToBucket: l,\n        referencerUIDToReferencedId: a\n      } = e,\n      u = this._sourceDataMaxLOD;\n    for (let f = s.length - 1; f >= 0; f--) {\n      const e = s[f];\n      if (r < u) {\n        if (e.minzoom && r < Math.floor(e.minzoom) || e.maxzoom && r >= e.maxzoom) continue;\n      } else if (e.maxzoom && r >= e.maxzoom) continue;\n      if (e.type === k.BACKGROUND || !this._canParseStyleLayer(e.uid) || !t[e.source] || !i[e.source]) continue;\n      const p = t[e.source],\n        h = i[e.source],\n        m = e.sourceLayer,\n        _ = p[m];\n      if (_) {\n        let t = c[e.source];\n        if (t || (t = c[e.source] = new Set()), t.add(e.sourceLayer), e.refLayerId) a.set(e.uid, e.refLayerId);else {\n          const t = this._createBucket(e);\n          if (t) {\n            t.layerUIDs = [e.uid], t.layerExtent = _.extent, t.tileClipper = h;\n            let r = o[e.source];\n            r || (r = o[e.source] = {});\n            let s = r[m];\n            s || (s = r[m] = []), s.push(t), n.push(t), l[e.id] = t;\n          }\n        }\n      }\n    }\n  }\n  _linkReferences(e) {\n    const {\n      layerIdToBucket: t,\n      referencerUIDToReferencedId: r\n    } = e;\n    r.forEach((e, r) => {\n      t[e] && t[e].layerUIDs.push(r);\n    });\n  }\n  _filterFeatures(e) {\n    const {\n        signal: r,\n        sourceNameToTileData: s,\n        sourceNameToUniqueSourceLayerBuckets: i,\n        sourceNameToUniqueSourceLayers: c\n      } = e,\n      n = 10 * this._level,\n      l = 10 * (this._level + 1),\n      a = [],\n      u = [];\n    for (const t of Object.keys(c)) {\n      c[t].forEach(e => {\n        a.push(e), u.push(t);\n      });\n    }\n    for (let f = 0; f < a.length; f++) {\n      const e = u[f],\n        c = a[f];\n      if (!s[e] || !i[e]) continue;\n      const p = s[e][c],\n        h = i[e][c];\n      if (!h || 0 === h.length) continue;\n      if (t(r)) return;\n      let m = 0;\n      const _ = p.getData();\n      for (; _.nextTag(2);) {\n        const e = _.getMessage(),\n          t = new o(e, p, m++);\n        e.release();\n        const r = t.values;\n        if (r) {\n          const e = r._minzoom;\n          if (e && e >= l) continue;\n          const t = r._maxzoom;\n          if (t && t <= n) continue;\n        }\n        for (const s of h) s.pushFeature(t);\n      }\n    }\n  }\n  _fetchResources(e, t, r) {\n    const s = [],\n      i = this._tile.getWorkerTileHandler();\n    let o, c;\n    e.length > 0 && (o = i.fetchSprites(e, this._client, r), s.push(o));\n    for (const n in t) {\n      const e = t[n];\n      e.size > 0 && (c = i.fetchGlyphs(this._tile.tileKey, n, e, this._client, r), s.push(c));\n    }\n    return s;\n  }\n  _processFeatures(e) {\n    const t = e.filter(e => e.hasFeatures() || this._canParseStyleLayer(e.layer.uid));\n    for (const r of t) r.processFeatures(r.tileClipper);\n    return t;\n  }\n  _parseTileData(e) {\n    const t = {};\n    for (const r of Object.keys(e)) {\n      const s = e[r],\n        i = {};\n      for (; s.next();) switch (s.tag()) {\n        case 3:\n          {\n            const e = s.getMessage(),\n              t = new l(e);\n            e.release(), i[t.name] = t;\n            break;\n          }\n        default:\n          s.skip();\n      }\n      t[r] = i;\n    }\n    return t;\n  }\n  _createBucket(e) {\n    switch (e.type) {\n      case k.BACKGROUND:\n        return null;\n      case k.FILL:\n        return this._createFillBucket(e);\n      case k.LINE:\n        return this._createLineBucket(e);\n      case k.CIRCLE:\n        return this._createCircleBucket(e);\n      case k.SYMBOL:\n        return this._createSymbolBucket(e);\n    }\n  }\n  _createFillBucket(e) {\n    return new _(e, this._level, this._tile.getWorkerTileHandler().getSpriteItems(), new a(e.fillMaterial.getStride()), new n(), new u(e.outlineMaterial.getStride()), new n());\n  }\n  _createLineBucket(e) {\n    return new y(e, this._level, this._tile.getWorkerTileHandler().getSpriteItems(), new f(e.lineMaterial.getStride()), new n());\n  }\n  _createCircleBucket(e) {\n    return new m(e, this._level, this._tile.getWorkerTileHandler().getSpriteItems(), new p(e.circleMaterial.getStride()), new n());\n  }\n  _createSymbolBucket(e) {\n    const t = this._tile;\n    return new d(t.tileKey, e, this._level, new h(e.iconMaterial.getStride()), new n(), new h(e.textMaterial.getStride()), new n(), t.placementEngine, t.getWorkerTileHandler());\n  }\n}\nexport { g as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { isAbortError as t } from \"../../../../core/promiseUtils.js\";\nimport { PlacementEngine as e } from \"./Placement.js\";\nimport s from \"./TileParser.js\";\nimport { TileStatus as r } from \"../../tiling/enums.js\";\nclass i {\n  constructor(t, s, i, a) {\n    this.status = r.INITIALIZED, this.placementEngine = new e(), this.tileKey = t, this.refKeys = s, this._workerTileHandler = i, this._styleRepository = a;\n  }\n  release() {\n    this.tileKey = \"\", this.refKeys = null, this.status = r.INITIALIZED, this._workerTileHandler = null;\n  }\n  async parse(e, s) {\n    const i = s?.signal;\n    if (null != i) {\n      const t = () => {\n        i.removeEventListener(\"abort\", t), this.status = r.INVALID;\n      };\n      i.addEventListener(\"abort\", t);\n    }\n    let a;\n    const n = {\n      bucketsWithData: [],\n      emptyBuckets: null\n    };\n    try {\n      a = await this._parse(e, s);\n    } catch (c) {\n      if (t(c)) throw c;\n      return {\n        result: n,\n        transferList: []\n      };\n    }\n    this.status = r.READY;\n    const l = n.bucketsWithData,\n      o = [];\n    for (const t of a) if (t.hasFeatures()) {\n      const e = t.serialize();\n      l.push(e);\n    } else o.push(t.layer.uid);\n    const u = [...l];\n    let h = null;\n    return o.length > 0 && (h = Uint32Array.from(o), u.push(h.buffer)), n.emptyBuckets = h, {\n      result: n,\n      transferList: u\n    };\n  }\n  setObsolete() {\n    this.status = r.INVALID;\n  }\n  getLayers() {\n    return this._workerTileHandler.getLayers();\n  }\n  getWorkerTileHandler() {\n    return this._workerTileHandler;\n  }\n  async _parse(t, e) {\n    const i = t.sourceName2DataAndRefKey;\n    if (0 === Object.keys(i).length) return [];\n    this.status = r.MODIFIED;\n    return new s(i, this, e.client, t.sourceDataMaxLOD, this._styleRepository, t.styleLayerUIDs).parse(e);\n  }\n}\nexport { i as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { isAbortError as e } from \"../../../../core/promiseUtils.js\";\nimport { StyleUpdateType as t } from \"./enums.js\";\nimport s from \"./WorkerTile.js\";\nimport r from \"./style/StyleRepository.js\";\nconst o = 25;\nclass i {\n  constructor() {\n    this._spriteInfo = {}, this._glyphInfo = {}, this._sourceDataMaxLOD = o;\n  }\n  reset() {\n    return this._spriteInfo = {}, this._glyphInfo = {}, Promise.resolve();\n  }\n  getLayers() {\n    return this._styleRepository?.layers ?? [];\n  }\n  async createTileAndParse(t, r) {\n    const {\n        key: o\n      } = t,\n      i = {};\n    for (const e of Object.keys(t.sourceName2DataAndRefKey)) {\n      const s = t.sourceName2DataAndRefKey[e];\n      i[e] = s.refKey;\n    }\n    const a = new s(o, i, this, this._styleRepository);\n    try {\n      return await a.parse({\n        ...t,\n        sourceDataMaxLOD: this._sourceDataMaxLOD\n      }, r);\n    } catch (n) {\n      if (a.setObsolete(), a.release(), !e(n)) throw n;\n      return null;\n    }\n  }\n  updateStyle(e) {\n    if (!e || 0 === e.length || !this._styleRepository) return;\n    const s = this._styleRepository;\n    for (const r of e) {\n      const e = r.type,\n        o = r.data;\n      switch (e) {\n        case t.PAINTER_CHANGED:\n          s.setPaintProperties(o.layer, o.paint);\n          break;\n        case t.LAYOUT_CHANGED:\n          s.setLayoutProperties(o.layer, o.layout);\n          break;\n        case t.LAYER_REMOVED:\n          s.deleteStyleLayer(o.layer);\n          break;\n        case t.LAYER_CHANGED:\n          s.setStyleLayer(o.layer, o.index);\n          break;\n        case t.SPRITES_CHANGED:\n          this._spriteInfo = {};\n      }\n    }\n  }\n  setStyle(e) {\n    const {\n      style: t,\n      sourceDataMaxLOD: s\n    } = e;\n    this._styleRepository = new r(t), this._sourceDataMaxLOD = s, this._spriteInfo = {}, this._glyphInfo = {};\n  }\n  fetchSprites(e, t, s) {\n    const r = [],\n      o = this._spriteInfo;\n    for (const i of e) {\n      void 0 === o[i.name] && r.push(i);\n    }\n    return 0 === r.length ? Promise.resolve() : t.invoke(\"getSprites\", r, {\n      signal: s?.signal\n    }).then(e => {\n      for (const t in e) {\n        const s = e[t];\n        o[t] = s;\n      }\n    });\n  }\n  getSpriteItems() {\n    return this._spriteInfo;\n  }\n  fetchGlyphs(e, t, s, r, o) {\n    const i = [];\n    let a = this._glyphInfo[t];\n    return a ? s.forEach(e => {\n      a[e] || i.push(e);\n    }) : (a = this._glyphInfo[t] = [], s.forEach(e => i.push(e))), 0 === i.length ? Promise.resolve() : r.invoke(\"getGlyphs\", {\n      tileID: e,\n      font: t,\n      codePoints: i\n    }, o).then(e => {\n      for (let t = 0; t < e.length; t++) e[t] && (a[t] = e[t]);\n    });\n  }\n  getGlyphItems(e) {\n    return this._glyphInfo[e];\n  }\n}\nexport { i as default };"],
  "mappings": "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",
  "names": ["e", "c", "s", "a", "c", "h", "l", "t", "e", "i", "o", "s", "n", "a", "r", "m", "f", "p", "g", "y", "d", "x", "u", "_", "I", "p", "e", "t", "i", "n", "s", "f", "o", "a", "l", "I", "h", "r", "c", "g", "u", "b", "m", "x", "d", "T", "y", "O", "_", "E", "A", "L", "C", "U", "w", "r", "t", "s", "e", "o", "t", "r", "u", "h", "a", "n", "d", "e", "p", "i", "c", "l", "m", "t", "e", "s", "r", "t", "i", "c", "s", "e", "n", "l", "s", "t", "e", "i", "r", "n", "o", "l", "a", "f", "u", "d", "h", "x", "c", "_", "y", "g", "p", "I", "m", "B", "s", "n", "t", "a", "o", "c", "r", "l", "e", "i", "u", "f", "h", "p", "g", "y", "d", "_", "x", "m", "I", "L", "b", "e", "t", "n", "i", "s", "o", "r", "l", "h", "a", "x", "c", "d", "f", "g", "m", "u", "p", "_", "I", "y", "T", "w", "C", "A", "L", "I", "t", "r", "o", "n", "l", "a", "e", "u", "f", "p", "h", "c", "i", "s", "I", "m", "_", "i", "t", "s", "a", "I", "b", "e", "n", "c", "l", "o", "u", "h", "o", "i", "t", "r", "e", "s", "a", "n", "l"]
}
