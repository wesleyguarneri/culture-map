{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/support/StreamConnection.js", "../../../../../../node_modules/@arcgis/core/layers/graphics/sources/connections/WebSocketConnection.js", "../../../../../../node_modules/@arcgis/core/layers/graphics/sources/connections/GeoEventConnection.js", "../../../../../../node_modules/@arcgis/core/layers/support/ClientSideConnection.js", "../../../../../../node_modules/@arcgis/core/layers/graphics/sources/connections/createConnection.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Error.js\";\nimport o from \"../../core/Evented.js\";\nimport { property as t } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nlet c = class extends o.EventedAccessor {\n  destroy() {\n    this.emit(\"destroy\");\n  }\n  get connectionError() {\n    return this.errorString ? new e(\"stream-connection\", this.errorString) : null;\n  }\n  onFeature(r) {\n    this.emit(\"data-received\", r);\n  }\n  onMessage(r) {\n    this.emit(\"message-received\", r);\n  }\n};\nr([t({\n  readOnly: !0\n})], c.prototype, \"connectionError\", null), c = r([s(\"esri.layers.support.StreamConnection\")], c);\nconst n = c;\nexport { n as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Error.js\";\nimport o from \"../../../../core/Logger.js\";\nimport { after as s, createResolver as r } from \"../../../../core/promiseUtils.js\";\nimport { addQueryParameters as n } from \"../../../../core/urlUtils.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as c } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { getGeometryZScaler as a } from \"../../../../geometry/support/zscale.js\";\nimport l from \"../../../support/StreamConnection.js\";\nvar h;\n!function (e) {\n  e[e.CONNECTING = 0] = \"CONNECTING\", e[e.OPEN = 1] = \"OPEN\", e[e.CLOSING = 2] = \"CLOSING\", e[e.CLOSED = 3] = \"CLOSED\";\n}(h || (h = {}));\nlet d = class extends l {\n  constructor(e) {\n    super({}), this._outstandingMessages = [], this.errorString = null;\n    const {\n      geometryType: t,\n      spatialReference: o,\n      sourceSpatialReference: s\n    } = e;\n    this._config = e, this._featureZScaler = a(t, s, o), this._open();\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  async _open() {\n    await this._tryCreateWebSocket(), this.destroyed || (await this._handshake());\n  }\n  destroy() {\n    super.destroy(), null != this._websocket && (this._websocket.onopen = null, this._websocket.onclose = null, this._websocket.onerror = null, this._websocket.onmessage = null, this._websocket.close()), this._websocket = null;\n  }\n  get connectionStatus() {\n    if (null == this._websocket) return \"disconnected\";\n    switch (this._websocket.readyState) {\n      case h.CONNECTING:\n      case h.OPEN:\n        return \"connected\";\n      case h.CLOSING:\n      case h.CLOSED:\n        return \"disconnected\";\n    }\n  }\n  sendMessageToSocket(e) {\n    null != this._websocket ? this._websocket.send(JSON.stringify(e)) : this._outstandingMessages.push(e);\n  }\n  sendMessageToClient(e) {\n    this._onMessage(e);\n  }\n  updateCustomParameters(e) {\n    this._config.customParameters = e, null != this._websocket && this._websocket.close();\n  }\n  async _tryCreateWebSocket(e = this._config.source.path, r = 1e3, i = 0) {\n    try {\n      if (this.destroyed) return;\n      const t = n(e, this._config.customParameters ?? {});\n      this._websocket = await this._createWebSocket(t), this.notifyChange(\"connectionStatus\");\n    } catch (c) {\n      const n = r / 1e3;\n      return this._config.maxReconnectionAttempts && i >= this._config.maxReconnectionAttempts ? (o.getLogger(this).error(new t(\"websocket-connection\", \"Exceeded maxReconnectionAttempts attempts. No further attempts will be made\")), void this.destroy()) : (o.getLogger(this).error(new t(\"websocket-connection\", `Failed to connect. Attempting to reconnect in ${n}s`, c)), await s(r), this._tryCreateWebSocket(e, Math.min(1.5 * r, 1e3 * this._config.maxReconnectionInterval), i + 1));\n    }\n  }\n  _setWebSocketJSONParseHandler(e) {\n    e.onmessage = e => {\n      try {\n        const t = JSON.parse(e.data);\n        this._onMessage(t);\n      } catch (s) {\n        return void o.getLogger(this).error(new t(\"websocket-connection\", \"Failed to parse message, invalid JSON\", {\n          error: s\n        }));\n      }\n    };\n  }\n  _createWebSocket(e) {\n    return new Promise((t, o) => {\n      const s = new WebSocket(e);\n      s.onopen = () => {\n        if (s.onopen = null, this.destroyed) return s.onclose = null, void s.close();\n        s.onclose = e => this._onClose(e), s.onerror = e => this._onError(e), this._setWebSocketJSONParseHandler(s), t(s);\n      }, s.onclose = e => {\n        s.onopen = s.onclose = null, o(e);\n      };\n    });\n  }\n  async _handshake(e = 1e4) {\n    const s = this._websocket;\n    if (null == s) return;\n    const n = r(),\n      i = s.onmessage,\n      {\n        filter: c,\n        outFields: a,\n        spatialReference: l\n      } = this._config;\n    return n.timeout(e), s.onmessage = e => {\n      let r = null;\n      try {\n        r = JSON.parse(e.data);\n      } catch (h) {}\n      r && \"object\" == typeof r || (o.getLogger(this).error(new t(\"websocket-connection\", \"Protocol violation. Handshake failed - malformed message\", e.data)), n.reject(), this.destroy()), r.spatialReference?.wkid !== l?.wkid && (o.getLogger(this).error(new t(\"websocket-connection\", `Protocol violation. Handshake failed - expected wkid of ${l.wkid}`, e.data)), n.reject(), this.destroy()), \"json\" !== r.format && (o.getLogger(this).error(new t(\"websocket-connection\", \"Protocol violation. Handshake failed - format is not set\", e.data)), n.reject(), this.destroy()), c && r.filter !== c && o.getLogger(this).error(new t(\"websocket-connection\", \"Tried to set filter, but server doesn't support it\")), a && r.outFields !== a && o.getLogger(this).error(new t(\"websocket-connection\", \"Tried to set outFields, but server doesn't support it\")), s.onmessage = i;\n      for (const t of this._outstandingMessages) s.send(JSON.stringify(t));\n      this._outstandingMessages = [], n.resolve();\n    }, s.send(JSON.stringify({\n      filter: c,\n      outFields: a,\n      format: \"json\",\n      spatialReference: {\n        wkid: l.wkid\n      }\n    })), n.promise;\n  }\n  _onMessage(e) {\n    if (this.onMessage(e), \"type\" in e) switch (e.type) {\n      case \"features\":\n      case \"featureResult\":\n        for (const t of e.features) null != this._featureZScaler && this._featureZScaler(t.geometry), this.onFeature(t);\n    }\n  }\n  _onError(e) {\n    const t = \"Encountered an error over WebSocket connection\";\n    this._set(\"errorString\", t), o.getLogger(this).error(\"websocket-connection\", t);\n  }\n  _onClose(e) {\n    this._websocket = null, this.notifyChange(\"connectionStatus\"), 1e3 !== e.code && o.getLogger(this).error(\"websocket-connection\", `WebSocket closed unexpectedly with error code ${e.code}`), this.destroyed || this._open();\n  }\n};\ne([i()], d.prototype, \"connectionStatus\", null), e([i()], d.prototype, \"errorString\", void 0), d = e([c(\"esri.layers.graphics.sources.connections.WebSocketConnection\")], d);\nexport { d as WebSocketConnection };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport t from \"../../../../request.js\";\nimport r from \"../../../../core/Error.js\";\nimport i from \"../../../../core/Logger.js\";\nimport { createResolver as o } from \"../../../../core/promiseUtils.js\";\nimport { addQueryParameters as s } from \"../../../../core/urlUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { WebSocketConnection as a } from \"./WebSocketConnection.js\";\nimport { executeQuery as c } from \"../../../../rest/query/operations/query.js\";\nimport u from \"../../../../rest/support/Query.js\";\nimport { fromJSON as l } from \"../../../../geometry/support/jsonUtils.js\";\nimport f from \"../../../../geometry/SpatialReference.js\";\nconst h = 1e4,\n  d = {\n    maxQueryDepth: 5,\n    maxRecordCountFactor: 3\n  };\nlet g = class extends a {\n  constructor(e) {\n    super({\n      ...d,\n      ...e\n    }), this._buddyServicesQuery = null, this._relatedFeatures = null;\n  }\n  async _open() {\n    const e = await this._fetchServiceDefinition(this._config.source);\n    e.timeInfo.trackIdField || i.getLogger(this).warn(\"GeoEvent service was configured without a TrackIdField. This may result in certain functionality being disabled. The purgeOptions.maxObservations property will have no effect.\");\n    const t = this._fetchWebSocketUrl(e.streamUrls, this._config.spatialReference);\n    this._buddyServicesQuery || (this._buddyServicesQuery = this._queryBuddyServices()), await this._buddyServicesQuery, await this._tryCreateWebSocket(t);\n    const {\n      filter: r,\n      outFields: o\n    } = this._config;\n    this.destroyed || this._setFilter(r, o);\n  }\n  _onMessage(e) {\n    if (\"attributes\" in e) {\n      let o;\n      try {\n        o = this._enrich(e), null != this._featureZScaler && this._featureZScaler(o.geometry);\n      } catch (t) {\n        return void i.getLogger(this).error(new r(\"geoevent-connection\", \"Failed to parse message\", t));\n      }\n      this.onFeature(o);\n    } else this.onMessage(e);\n  }\n  async _fetchServiceDefinition(e) {\n    const r = {\n        f: \"json\",\n        ...this._config.customParameters\n      },\n      i = t(e.path, {\n        query: r,\n        responseType: \"json\"\n      }),\n      o = (await i).data;\n    return this._serviceDefinition = o, o;\n  }\n  _fetchWebSocketUrl(e, t) {\n    const r = e[0],\n      {\n        urls: i,\n        token: o\n      } = r,\n      n = this._inferWebSocketBaseUrl(i);\n    return s(`${n}/subscribe`, {\n      outSR: \"\" + t.wkid,\n      token: o\n    });\n  }\n  _inferWebSocketBaseUrl(e) {\n    if (1 === e.length) return e[0];\n    for (const t of e) if (t.includes(\"wss\")) return t;\n    return i.getLogger(this).error(new r(\"geoevent-connection\", \"Unable to infer WebSocket url\", e)), null;\n  }\n  async _setFilter(e, t) {\n    const s = this._websocket;\n    if (null == s || null == e && null == t) return;\n    const n = JSON.stringify({\n      filter: this._serializeFilter(e, t)\n    });\n    let a = !1;\n    const c = o(),\n      u = () => {\n        a || (this.destroyed || this._websocket !== s || i.getLogger(this).error(new r(\"geoevent-connection\", \"Server timed out when setting filter\")), c.reject());\n      },\n      l = e => {\n        const t = JSON.parse(e.data);\n        t.filter && (t.error && (i.getLogger(this).error(new r(\"geoevent-connection\", \"Failed to set service filter\", t.error)), this._set(\"errorString\", `Could not set service filter - ${t.error}`), c.reject(t.error)), this._setWebSocketJSONParseHandler(s), a = !0, c.resolve());\n      };\n    return s.onmessage = l, s.send(n), setTimeout(u, h), c.promise;\n  }\n  _serializeFilter(e, t) {\n    const o = {};\n    if (null == e && null == t) return o;\n    if (e?.geometry) try {\n      const t = l(e.geometry);\n      if (\"extent\" !== t.type) throw new r(`Expected extent but found type ${t.type}`);\n      o.geometry = JSON.stringify(t.shiftCentralMeridian());\n    } catch (s) {\n      i.getLogger(this).error(new r(\"geoevent-connection\", \"Encountered an error when setting connection geometryDefinition\", s));\n    }\n    return e?.where && \"1 = 1\" !== e.where && \"1=1\" !== e.where && (o.where = e.where), null != t && (o.outFields = t.join(\",\")), o;\n  }\n  _enrich(e) {\n    if (!this._relatedFeatures) return e;\n    const t = this._serviceDefinition.relatedFeatures.joinField,\n      o = e.attributes[t],\n      s = this._relatedFeatures.get(o);\n    if (!s) return i.getLogger(this).warn(\"geoevent-connection\", \"Feature join failed. Is the join field configured correctly?\", e), e;\n    const {\n      attributes: n,\n      geometry: a\n    } = s;\n    for (const r in n) e.attributes[r] = n[r];\n    return a && (e.geometry = a), e.geometry || e.centroid || i.getLogger(this).error(new r(\"geoevent-connection\", \"Found malformed feature - no geometry found\", e)), e;\n  }\n  async _queryBuddyServices() {\n    try {\n      const {\n          relatedFeatures: e,\n          keepLatestArchive: t\n        } = this._serviceDefinition,\n        r = this._queryRelatedFeatures(e),\n        i = this._queryArchive(t);\n      await r;\n      const o = await i;\n      if (!o) return;\n      for (const s of o.features) this.onFeature(this._enrich(s));\n    } catch (e) {\n      i.getLogger(this).error(new r(\"geoevent-connection\", \"Encountered an error when querying buddy services\", {\n        error: e\n      }));\n    }\n  }\n  async _queryRelatedFeatures(e) {\n    if (!e) return;\n    const t = await this._queryBuddy(e.featuresUrl);\n    this._addRelatedFeatures(t);\n  }\n  async _queryArchive(e) {\n    if (e) return this._queryBuddy(e.featuresUrl);\n  }\n  async _queryBuddy(e) {\n    const t = new (await import(\"../../../FeatureLayer.js\")).default({\n        url: e\n      }),\n      {\n        capabilities: r\n      } = await t.load(),\n      i = r.query.supportsMaxRecordCountFactor,\n      o = r.query.supportsPagination,\n      s = r.query.supportsCentroid,\n      n = this._config.maxRecordCountFactor,\n      a = t.capabilities.query.maxRecordCount,\n      l = i ? a * n : a,\n      h = new u();\n    if (h.outFields = this._config.outFields ?? [\"*\"], h.where = this._config.filter?.where ?? \"1=1\", h.returnGeometry = !0, h.returnExceededLimitFeatures = !0, h.outSpatialReference = f.fromJSON(this._config.spatialReference), s && (h.returnCentroid = !0), i && (h.maxRecordCountFactor = n), o) return h.num = l, t.destroy(), this._queryPages(e, h);\n    const d = await c(e, h, this._config.sourceSpatialReference);\n    return t.destroy(), d.data;\n  }\n  async _queryPages(e, t, r = [], i = 0) {\n    t.start = null != t.num ? i * t.num : null;\n    const {\n      data: o\n    } = await c(e, t, this._config.sourceSpatialReference);\n    return o.exceededTransferLimit && i < (this._config.maxQueryDepth ?? 0) ? (o.features.forEach(e => r.push(e)), this._queryPages(e, t, r, i + 1)) : (r.forEach(e => o.features.push(e)), o);\n  }\n  _addRelatedFeatures(e) {\n    const t = new Map(),\n      r = e.features,\n      i = this._serviceDefinition.relatedFeatures.joinField;\n    for (const o of r) {\n      const e = o.attributes[i];\n      t.set(e, o);\n    }\n    this._relatedFeatures = t;\n  }\n};\ng = e([n(\"esri.layers.graphics.sources.connections.GeoEventConnection\")], g);\nconst y = g;\nexport { y as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as t } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { getGeometryZScaler as o } from \"../../geometry/support/zscale.js\";\nimport s from \"./StreamConnection.js\";\nlet a = class extends s {\n  constructor(e) {\n    super({}), this.connectionStatus = \"connected\", this.errorString = null;\n    const {\n      geometryType: r,\n      spatialReference: t,\n      sourceSpatialReference: s\n    } = e;\n    this._featureZScaler = o(r, s, t);\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  updateCustomParameters(e) {}\n  sendMessageToSocket(e) {}\n  sendMessageToClient(e) {\n    if (\"type\" in e) switch (e.type) {\n      case \"features\":\n      case \"featureResult\":\n        for (const r of e.features) null != this._featureZScaler && this._featureZScaler(r.geometry), this.onFeature(r);\n    }\n    this.onMessage(e);\n  }\n};\ne([r()], a.prototype, \"connectionStatus\", void 0), e([r()], a.prototype, \"errorString\", void 0), a = e([t(\"esri.layers.support.ClientSideConnection\")], a);\nexport { a as ClientSideConnection };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"./GeoEventConnection.js\";\nimport { WebSocketConnection as t } from \"./WebSocketConnection.js\";\nimport { ClientSideConnection as n } from \"../../../support/ClientSideConnection.js\";\nfunction o(e, t) {\n  if (null == e && null == t) return null;\n  const n = {};\n  return null != t && (n.geometry = t), null != e && (n.where = e), n;\n}\nfunction r(r, i, s, c, l, u, a, m, p) {\n  const f = {\n    source: r,\n    sourceSpatialReference: i,\n    spatialReference: s,\n    geometryType: c,\n    filter: o(l, u),\n    maxReconnectionAttempts: a,\n    maxReconnectionInterval: m,\n    customParameters: p\n  };\n  if (!r) return new n(f);\n  return r.path.startsWith(\"wss://\") || r.path.startsWith(\"ws://\") ? new t(f) : new e(f);\n}\nexport { r as createConnection };"],
  "mappings": "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",
  "names": ["c", "r", "n", "e", "n", "o", "s", "r", "c", "a", "h", "h", "d", "e", "r", "o", "n", "s", "a", "c", "t", "y", "a", "n", "e", "r", "s", "o", "o", "e", "n", "r", "s", "c", "a", "f", "y"]
}
