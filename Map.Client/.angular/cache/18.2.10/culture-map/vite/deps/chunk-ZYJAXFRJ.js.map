{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatedObjectUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/RenderObject.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { neverReached as e } from \"../../../core/compilerUtils.js\";\nimport t from \"../../../core/Evented.js\";\nimport { makeHandle as i } from \"../../../core/handleUtils.js\";\nimport \"../../../core/has.js\";\nimport { deg2rad as s } from \"../../../core/mathUtils.js\";\nimport { destroyMaybe as o } from \"../../../core/maybe.js\";\nimport { createScreenPointArray as r, createRenderScreenPointArray3 as n, screenPointObjectToArray as a, castRenderScreenPointArray as c } from \"../../../core/screenUtils.js\";\nimport { fromMat4 as l } from \"../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { create as h } from \"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";\nimport { copy as d, set as _, multiply as u, identity as g } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as m } from \"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { squaredDistance as f } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { g as p, t as b, h as v, j as y, c as j, a as L, s as S, f as R } from \"../../../chunks/vec32.js\";\nimport { create as O, ZEROS as w } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as T } from \"../../../geometry/ellipsoidUtils.js\";\nimport { canProjectWithoutEngine as A, projectPoint as E } from \"../../../geometry/projection.js\";\nimport { computeENUToSphericalPCPFLocalRotation as D } from \"../../../geometry/projection/localRotationUtils.js\";\nimport { sphericalPCPFtoLonLatElevation as F } from \"../../../geometry/projection/projectors.js\";\nimport { containsPointObject as z } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { create as P, distance2 as C, fromPoints as I, closestRayDistance2 as x } from \"../../../geometry/support/lineSegment.js\";\nimport { create as M, fromPositionAndNormal as k, intersectRay as U } from \"../../../geometry/support/plane.js\";\nimport { create as W } from \"../../../geometry/support/ray.js\";\nimport { sv3d as B } from \"../../../geometry/support/vectorStacks.js\";\nimport { clonePoint as N, hydratedSpatialReference as H } from \"../../../layers/graphics/hydratedFeatures.js\";\nimport { getElevationOffset as q } from \"../../../support/elevationInfoUtils.js\";\nimport { getElevationAtPoint as G } from \"../support/ElevationProvider.js\";\nimport { fromScreen as V } from \"../support/geometryUtils/ray.js\";\nimport Y from \"../webgl/RenderCamera.js\";\nimport { Object3D as J } from \"../webgl-engine/lib/Object3D.js\";\nimport { UpdatePolicy as K } from \"../webgl-engine/lib/UpdatePolicy.js\";\nimport { WebGLLayer as Q } from \"../webgl-engine/lib/WebGLLayer.js\";\nimport { ManipulatorStateCustomFlags as X, ManipulatorStateFlags as Z } from \"../../interactive/interfaces.js\";\nimport $ from \"../../../geometry/Point.js\";\nclass ee {\n  constructor(e) {\n    this.metadata = void 0, this._camera = new Y(), this._elevation = {\n      offset: 0,\n      override: null\n    }, this.collisionType = {\n      type: \"point\"\n    }, this.collisionPriority = 0, this._renderObjects = new Array(), this.autoScaleRenderObjects = !0, this._available = !0, this._noDisplayCount = 0, this._radius = 10, this._worldSized = !1, this.focusMultiplier = 2, this.touchMultiplier = 2.5, this.worldOriented = !1, this._modelTransform = m(), this._worldFrame = null, this._renderLocation = O(), this._renderLocationDirty = !0, this._location = new $({\n      x: 0,\n      y: 0,\n      z: 0\n    }), this._elevationAlignedLocation = new $(), this._elevationAlignedLocationDirty = !0, this.interactive = !0, this.selectable = !1, this.grabbable = !0, this.consumesClicks = !0, this.cursor = null, this.grabCursor = null, this._grabbing = !1, this.dragging = !1, this._hovering = !1, this._selected = !1, this._state = X.None, this._focused = !1, this.events = new t.EventEmitter(), this._screenLocation = {\n      screenPointArray: r(),\n      renderScreenPointArray: n(),\n      pixelSize: 0\n    }, this._screenLocationDirty = !0, this._engineResourcesAddedToStage = !1, this._attached = !1, this._location.spatialReference = e.view.spatialReference, Object.assign(this, e);\n    const i = this.view.state?.camera;\n    i && this._camera.copyFrom(i);\n  }\n  destroy() {\n    this._applyObjectTransform = pe, this._removeResourcesFromStage(), this._engineResources = null, this.view = null, this._camera = null;\n  }\n  get _stage() {\n    return this.view?._stage;\n  }\n  get elevationInfo() {\n    return this._elevationInfo;\n  }\n  set elevationInfo(e) {\n    this._elevationInfo = e, this._elevationAlignedLocationDirty = !0, this._renderLocationDirty = !0, this._updateEngineObject();\n  }\n  get renderObjects() {\n    return this._renderObjects;\n  }\n  set renderObjects(e) {\n    this._removeResourcesFromStage(), this._engineResources = null, this._renderObjects = e.slice(), this._updateEngineObject();\n  }\n  set available(e) {\n    e !== this._available && (this._available = e, this._updateEngineObject());\n  }\n  get available() {\n    return this._available;\n  }\n  disableDisplay() {\n    return this._noDisplayCount++, 1 === this._noDisplayCount && this._updateEngineObject(), i(() => {\n      this._noDisplayCount--, 0 === this._noDisplayCount && this._updateEngineObject();\n    });\n  }\n  set radius(e) {\n    e !== this._radius && (this._radius = e, this._updateEngineObject());\n  }\n  get radius() {\n    return this._radius;\n  }\n  set worldSized(e) {\n    e !== this._worldSized && (this._worldSized = e, this._updateEngineObject());\n  }\n  get worldSized() {\n    return this._worldSized;\n  }\n  get modelTransform() {\n    return this._modelTransform;\n  }\n  set modelTransform(e) {\n    te(e) && (this._screenLocationDirty = !0), d(this._modelTransform, e), this._updateEngineObject();\n  }\n  get renderLocation() {\n    return this._renderLocationDirty && (this._renderLocationDirty = !1, this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation, this._renderLocation), this.worldOriented ? (this._worldFrame || (this._worldFrame = m()), ie(this.view, this._renderLocation, this._worldFrame)) : this._worldFrame && (this._worldFrame = null)), this._renderLocation;\n  }\n  set renderLocation(e) {\n    this.view.renderCoordsHelper.fromRenderCoords(e, this._location), this.elevationAlignedLocation = this._location;\n  }\n  get location() {\n    return this._location;\n  }\n  set location(e) {\n    N(e, this._location), this._notifyLocationChanged();\n  }\n  _notifyLocationChanged() {\n    this._renderLocationDirty = !0, this._screenLocationDirty = !0, this._elevationAlignedLocationDirty = !0, this._updateEngineObject(), this.events.emit(\"location-update\", {\n      location: this._location\n    });\n  }\n  get elevationAlignedLocation() {\n    return this._elevationAlignedLocationDirty ? (this._evaluateElevationAlignment(), this._updateElevationAlignedLocation(), this._elevationAlignedLocation) : this._elevationAlignedLocation;\n  }\n  set elevationAlignedLocation(e) {\n    N(e, this._location), this._evaluateElevationAlignment(), this._location.z -= this._elevation.offset, this._updateElevationAlignedLocation(), this._updateEngineObject(), this.events.emit(\"location-update\", {\n      location: this._location\n    });\n  }\n  _updateElevationAlignedLocation() {\n    const e = null != this._elevation.override ? this._elevation.override : this.location.z || 0;\n    this._elevationAlignedLocation.x = this.location.x, this._elevationAlignedLocation.y = this.location.y, this._elevationAlignedLocation.z = e + this._elevation.offset, this._elevationAlignedLocation.spatialReference = H(this.location.spatialReference), this._renderLocationDirty = !0, this._screenLocationDirty = !0, this._elevationAlignedLocationDirty = !1;\n  }\n  grabbableForEvent() {\n    return !0;\n  }\n  get grabbing() {\n    return this._grabbing;\n  }\n  set grabbing(e) {\n    e !== this._grabbing && (this._grabbing = e, this._setFocused(this._hovering || this._grabbing), this._updateEngineObject());\n  }\n  get hovering() {\n    return this._hovering;\n  }\n  set hovering(e) {\n    e !== this._hovering && (this._hovering = e, this._setFocused(this._hovering || this._grabbing), this._updateEngineObject());\n  }\n  get selected() {\n    return this._selected;\n  }\n  set selected(e) {\n    e !== this._selected && (this._selected = e, this._updateEngineObject(), this.events.emit(\"select-changed\", {\n      action: e ? \"select\" : \"deselect\"\n    }));\n  }\n  get state() {\n    return this._state;\n  }\n  set state(e) {\n    e !== this._state && (this._state = e, this._updateEngineObject());\n  }\n  updateStateEnabled(e, t) {\n    t ? this.state |= e : this.state &= ~e;\n  }\n  _setFocused(e) {\n    e !== this._focused && (this._focused = e, this.events.emit(\"focus-changed\", {\n      action: !0 === e ? \"focus\" : \"unfocus\"\n    }));\n  }\n  get focused() {\n    return this._focused;\n  }\n  get screenLocation() {\n    return this._ensureScreenLocation(), this._screenLocation;\n  }\n  _ensureScreenLocation() {\n    if (!this._screenLocationDirty) return;\n    this._screenLocation.pixelSize = this._camera.computeScreenPixelSizeAt(this.renderLocation), this._screenLocationDirty = !1;\n    let e;\n    if (te(this._modelTransform)) {\n      const t = this._calculateModelTransformOffset(me);\n      e = p(t, t, this.renderLocation);\n    } else e = this.renderLocation;\n    this._camera.projectToRenderScreen(e, this._screenLocation.renderScreenPointArray), this._camera.renderToScreen(this._screenLocation.renderScreenPointArray, this._screenLocation.screenPointArray);\n  }\n  get applyObjectTransform() {\n    return this._applyObjectTransform;\n  }\n  set applyObjectTransform(e) {\n    this._applyObjectTransform = e, this._screenLocationDirty = !0, this._updateEngineObject();\n  }\n  get attached() {\n    return this._attached;\n  }\n  intersectionDistance(t, i) {\n    if (!this.available) return null;\n    const s = a(t, se),\n      o = this._getCollisionRadius(i),\n      r = -1 * this.collisionPriority;\n    switch (this.collisionType.type) {\n      case \"point\":\n        if (f(this.screenLocation.screenPointArray, s) < o * o) return this.screenLocation.renderScreenPointArray[2] + r;\n        break;\n      case \"line\":\n        {\n          const e = this.collisionType.paths,\n            t = this._getWorldToScreenObjectScale(),\n            i = this._calculateObjectTransform(t, ce),\n            n = o * this.screenLocation.pixelSize,\n            a = V(this._camera, s, re);\n          if (null == a) return null;\n          for (const s of e) {\n            if (0 === s.length) continue;\n            const e = v(he, s[0], i);\n            for (let t = 1; t < s.length; t++) {\n              const o = v(de, s[t], i),\n                l = x(I(e, o, oe), a);\n              if (null != l && l < n * n) {\n                const t = p(B.get(), e, o);\n                y(t, t, .5);\n                const i = c(B.get());\n                return this._camera.projectToRenderScreen(t, i), i[2] + r;\n              }\n              j(e, o);\n            }\n          }\n          break;\n        }\n      case \"disc\":\n        {\n          const e = this.collisionType.direction,\n            t = this.collisionType.offset ?? w,\n            i = this._getWorldToScreenObjectScale(),\n            n = this._calculateObjectTransform(i, ce),\n            a = o * this.screenLocation.pixelSize,\n            c = V(this._camera, s, re);\n          if (null == c) return null;\n          const h = l(ne, n),\n            d = b(ue, e, h),\n            _ = v(ge, t, n);\n          k(_, d, le);\n          const u = _e;\n          if (U(le, c, u) && L(u, _) < a * a) return this.screenLocation.renderScreenPointArray[2] + r;\n          break;\n        }\n      case \"ribbon\":\n        {\n          const {\n              paths: e,\n              direction: t\n            } = this.collisionType,\n            i = this._getWorldToScreenObjectScale(),\n            n = this._calculateObjectTransform(i, ce),\n            a = o * this._camera.computeScreenPixelSizeAt(this.renderLocation),\n            h = V(this._camera, s, re);\n          if (null == h) return null;\n          const d = l(ne, n),\n            _ = b(ue, t, d),\n            u = this._calculateModelTransformPosition(ge);\n          k(u, _, le);\n          const g = _e;\n          if (!U(le, h, g)) break;\n          for (const s of e) {\n            if (0 === s.length) continue;\n            const e = v(he, s[0], n);\n            for (let t = 1; t < s.length; t++) {\n              const i = v(de, s[t], n),\n                o = C(I(e, i, oe), g);\n              if (null != o && o < a * a) {\n                const t = p(B.get(), e, i);\n                y(t, t, .5);\n                const s = c(B.get());\n                return this._camera.projectToRenderScreen(t, s), s[2] + r;\n              }\n              j(e, i);\n            }\n          }\n          break;\n        }\n      default:\n        e(this.collisionType);\n    }\n    return null;\n  }\n  attach(e = {\n    manipulator3D: {}\n  }) {\n    const t = this._stage;\n    if (!t) return;\n    const i = e.manipulator3D;\n    null == i.engineLayerId ? (this._engineLayer = new Q(t, {\n      pickable: !1,\n      updatePolicy: K.SYNC\n    }), i.engineLayerId = this._engineLayer.id) : t?.getObject && (this._engineLayer = t.getObject(i.engineLayerId)), i.engineLayerReferences = (i.engineLayerReferences || 0) + 1, this._materialIdReferences = i.materialIdReferences, null == this._materialIdReferences && (this._materialIdReferences = new Map(), i.materialIdReferences = this._materialIdReferences), this._camera.copyFrom(this.view.state.camera), this._attached = !0, this._updateEngineObject(), A(this._location.spatialReference, this.view.spatialReference) || (this.location = new $({\n      x: 0,\n      y: 0,\n      z: 0,\n      spatialReference: this.view.spatialReference\n    }));\n  }\n  detach(e = {\n    manipulator3D: {}\n  }) {\n    const t = e.manipulator3D;\n    t.engineLayerReferences--;\n    const i = 0 === t.engineLayerReferences;\n    this._removeResourcesFromStage(), i && (t.engineLayerId = null, o(this._engineLayer)), this._engineResources = null, this._engineLayer = null, this._materialIdReferences = null, this._attached = !1;\n  }\n  onViewChange() {\n    this._camera.copyFrom(this.view.state.camera), this._screenLocationDirty = !0, this._updateEngineObject();\n  }\n  onElevationChange(e) {\n    E(this.location, fe, e.spatialReference) && z(e.extent, fe) && this._notifyLocationChanged();\n  }\n  _evaluateElevationAlignment() {\n    if (null == this.elevationInfo) return;\n    let e = null,\n      t = 0;\n    const i = q(this.elevationInfo, this.location.spatialReference ?? this.view.elevationProvider.spatialReference);\n    switch (this.elevationInfo.mode) {\n      case \"on-the-ground\":\n        e = G(this.view.elevationProvider, this.location, \"ground\") ?? 0;\n        break;\n      case \"relative-to-ground\":\n        t = (G(this.view.elevationProvider, this.location, \"ground\") ?? 0) + i;\n        break;\n      case \"relative-to-scene\":\n        t = (G(this.view.elevationProvider, this.location, \"scene\") ?? 0) + i;\n        break;\n      case \"absolute-height\":\n        t = i;\n    }\n    return t !== this._elevation.offset || e !== this._elevation.override ? (this._elevation.offset = t, void (this._elevation.override = e)) : void 0;\n  }\n  _updateEngineObject() {\n    if (!this._attached) return;\n    if (!this.available) return void this._removeResourcesFromStage();\n    const e = this._getWorldToScreenObjectScale(),\n      t = ce;\n    if (!0 === this.autoScaleRenderObjects) {\n      const i = this._getFocusedSize(this._radius, this.focused) * e;\n      this._calculateObjectTransform(i, t);\n    } else this._calculateObjectTransform(e, t);\n    const {\n        objectsByState: i\n      } = this._ensureEngineResources(),\n      s = (this.focused ? Z.Focused : Z.Unfocused) | (this.selected ? Z.Selected : Z.Unselected),\n      o = this._noDisplayCount > 0;\n    for (const {\n      stateMask: r,\n      objects: n\n    } of i) {\n      if (o) {\n        for (const e of n) e.visible = !1;\n        continue;\n      }\n      const e = (r & Z.All) !== Z.None,\n        i = (r & X.All) !== X.None,\n        a = !e || (s & r) == (r & Z.All),\n        c = !i || (this.state & r) == (r & X.All);\n      if (a && c) for (const s of n) s.visible = !0, s.transformation = t;else for (const t of n) t.visible = !1;\n    }\n  }\n  _ensureEngineResources() {\n    if (null == this._engineResources) {\n      const e = this._engineLayer,\n        t = [],\n        i = new Set();\n      this.renderObjects.forEach(({\n        geometry: {\n          material: e\n        }\n      }) => {\n        i.has(e) || (t.push(e), i.add(e));\n      });\n      const s = new Map();\n      this._renderObjects.forEach(e => {\n        const t = new J({\n            castShadow: !1,\n            geometries: [e.geometry]\n          }),\n          i = s.get(e.stateMask) || [];\n        i.push(t), s.set(e.stateMask, i);\n      });\n      const o = [];\n      s.forEach((e, t) => o.push({\n        stateMask: t,\n        objects: e\n      })), this._engineResources = {\n        objectsByState: o,\n        layer: e,\n        materials: t\n      };\n    }\n    return this._addResourcesToStage(), this._engineResources;\n  }\n  _addResourcesToStage() {\n    const e = this._stage;\n    if (this._engineResourcesAddedToStage || null == this._engineResources || !e) return;\n    const {\n      objectsByState: t,\n      layer: i,\n      materials: s\n    } = this._engineResources;\n    s.forEach(t => {\n      const i = this._materialIdReferences,\n        s = i.get(t.id) || 0;\n      0 === s && e.add(t), i.set(t.id, s + 1);\n    }), t.forEach(({\n      objects: t\n    }) => {\n      i.addMany(t), e.addMany(t);\n    }), this._engineResourcesAddedToStage = !0;\n  }\n  _removeResourcesFromStage() {\n    const e = this._stage;\n    if (!this._engineResourcesAddedToStage || null == this._engineResources || !e) return;\n    const {\n      objectsByState: t,\n      layer: i,\n      materials: s\n    } = this._engineResources;\n    t.forEach(({\n      objects: t\n    }) => {\n      i.removeMany(t), e.removeMany(t);\n    }), s.forEach(t => {\n      const i = this._materialIdReferences,\n        s = i.get(t.id);\n      1 === s ? (e.remove(t), i.delete(t.id)) : i.set(t.id, s - 1);\n    }), this._engineResourcesAddedToStage = !1;\n  }\n  _getCollisionRadius(e) {\n    return this._getFocusedSize(this.radius, !0) * (\"touch\" === e ? this.touchMultiplier : 1);\n  }\n  _getFocusedSize(e, t) {\n    return e * (t ? this.focusMultiplier : 1);\n  }\n  _getWorldToScreenObjectScale() {\n    return this._worldSized ? 1 : this.screenLocation.pixelSize;\n  }\n  _calculateModelTransformPosition(e) {\n    const t = this._getWorldToScreenObjectScale(),\n      i = this._calculateObjectTransform(t, ae);\n    return S(e, i[12], i[13], i[14]);\n  }\n  _calculateModelTransformOffset(e) {\n    const t = this._calculateModelTransformPosition(e);\n    return R(e, t, this.renderLocation);\n  }\n  _calculateObjectTransform(e, t) {\n    return _(t, e, 0, 0, 0, 0, e, 0, 0, 0, 0, e, 0, 0, 0, 0, 1), this._worldFrame && u(t, t, this._worldFrame), u(t, t, this._modelTransform), t[12] += this.renderLocation[0], t[13] += this.renderLocation[1], t[14] += this.renderLocation[2], t[15] = 1, null != this._applyObjectTransform && this._applyObjectTransform(t), t;\n  }\n  get test() {}\n}\nfunction te(e) {\n  return 0 !== e[12] || 0 !== e[13] || 0 !== e[14];\n}\nfunction ie(e, t, i) {\n  switch (e.viewingMode) {\n    case \"local\":\n      return g(i), !0;\n    case \"global\":\n      {\n        const o = T(e.renderCoordsHelper.spatialReference);\n        return F(t, 0, he, 0, o.radius), D(s(he[0]), s(he[1]), i), !0;\n      }\n  }\n}\nconst se = r(),\n  oe = P(),\n  re = W(),\n  ne = h(),\n  ae = m(),\n  ce = m(),\n  le = M(),\n  he = O(),\n  de = O(),\n  _e = O(),\n  ue = O(),\n  ge = O(),\n  me = O(),\n  fe = new $({\n    x: 0,\n    y: 0,\n    z: 0,\n    spatialReference: null\n  }),\n  pe = () => {};\nexport { ee as Manipulator3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction t(t) {\n  return t?.operations?.data.geometry;\n}\nexport { t as manipulatedObjectGeometry };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { ShaderOutput as t } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { ReloadableShaderModule as r } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as o } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { parameter as i } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { CullFaceOptions as s } from \"../lib/basicInterfaces.js\";\nimport { blendingDefault as n, oitBlending as a, oitDepthWrite as p, oitDrawBuffers as l, OITPolygonOffset as c } from \"../lib/OrderIndependentTransparency.js\";\nimport { Program as u } from \"../lib/Program.js\";\nimport { TransparencyPassType as d } from \"../lib/TransparencyPassType.js\";\nimport { VertexAttribute as h } from \"../lib/VertexAttribute.js\";\nimport { DefaultTechniqueConfiguration as m } from \"../materials/DefaultTechniqueConfiguration.js\";\nimport { S as f } from \"../../../../chunks/ShadedColorMaterial.glsl.js\";\nimport { CompareFunction as b } from \"../../../webgl/enums.js\";\nimport { makePipelineState as y, cullingParams as S, defaultDepthWriteParams as g, defaultColorWriteParams as T } from \"../../../webgl/renderState.js\";\nclass j extends o {\n  initializeProgram(e) {\n    return new u(e.rctx, j.shader.get().build(this.configuration), E);\n  }\n  _setPipelineState(e) {\n    const r = this.configuration,\n      o = e === d.NONE,\n      i = e === d.FrontFace;\n    return y({\n      blending: r.output === t.Color && r.transparent ? o ? n : a(e) : null,\n      culling: S(r.cullFace),\n      depthTest: {\n        func: i ? b.LESS : r.shadingEnabled ? b.LEQUAL : b.LESS\n      },\n      depthWrite: o ? r.writeDepth ? g : null : p(e),\n      drawBuffers: l(e),\n      colorWrite: T,\n      polygonOffset: o || i ? null : c\n    });\n  }\n  initializePipeline() {\n    return this._setPipelineState(this.configuration.transparencyPassType);\n  }\n}\nj.shader = new r(f, () => import(\"./ShadedColorMaterial.glsl.js\"));\nclass v extends m {\n  constructor() {\n    super(...arguments), this.output = t.Color, this.cullFace = s.None, this.transparencyPassType = d.NONE, this.hasSlicePlane = !1, this.transparent = !1, this.writeDepth = !0, this.screenSizeEnabled = !0, this.shadingEnabled = !0, this.multipassEnabled = !1, this.cullAboveGround = !1;\n  }\n}\ne([i({\n  count: t.COUNT\n})], v.prototype, \"output\", void 0), e([i({\n  count: s.COUNT\n})], v.prototype, \"cullFace\", void 0), e([i({\n  count: d.COUNT\n})], v.prototype, \"transparencyPassType\", void 0), e([i()], v.prototype, \"hasSlicePlane\", void 0), e([i()], v.prototype, \"transparent\", void 0), e([i()], v.prototype, \"writeDepth\", void 0), e([i()], v.prototype, \"screenSizeEnabled\", void 0), e([i()], v.prototype, \"shadingEnabled\", void 0), e([i()], v.prototype, \"multipassEnabled\", void 0), e([i()], v.prototype, \"cullAboveGround\", void 0), e([i({\n  constValue: !1\n})], v.prototype, \"occlusionPass\", void 0);\nconst E = new Map([[h.POSITION, 0], [h.NORMAL, 1], [h.OFFSET, 2]]);\nexport { j as ShadedColorMaterialTechnique, v as ShadedColorMaterialTechniqueConfiguration, E as vertexAttributeLocations };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { n as e, s as t, j as r, g as i } from \"../../../../chunks/vec32.js\";\nimport { create as s } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { fromValues as a } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { center as n, scale as o } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { BufferViewVec3f as c } from \"../../../../geometry/support/buffer/BufferView.js\";\nimport { newLayout as l } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as h, isColorOrOID as u } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { CullFaceOptions as p } from \"../lib/basicInterfaces.js\";\nimport f from \"../lib/GLMaterial.js\";\nimport { Material as m, MaterialParameters as d } from \"../lib/Material.js\";\nimport { intersectTriangleGeometry as b } from \"../lib/RayIntersections.js\";\nimport { RenderSlot as S } from \"../lib/RenderSlot.js\";\nimport { assert as g } from \"../lib/Util.js\";\nimport { VertexAttribute as E } from \"../lib/VertexAttribute.js\";\nimport { writeDefaultAttributes as T, writePosition as _ } from \"./internal/bufferWriterUtils.js\";\nimport { ShadedColorMaterialTechniqueConfiguration as A, vertexAttributeLocations as F, ShadedColorMaterialTechnique as j } from \"../shaders/ShadedColorMaterialTechnique.js\";\nclass w extends m {\n  constructor(e) {\n    super(e, new x()), this.supportsEdges = !0, this.produces = new Map([[S.OPAQUE_MATERIAL, e => e === h.Highlight || u(e) && !this._isTransparent], [S.TRANSPARENT_MATERIAL, e => u(e) && this._isTransparent && this.parameters.writeDepth], [S.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL, e => u(e) && this._isTransparent && !this.parameters.writeDepth]]), this._configuration = new A(), this._vertexAttributeLocations = F;\n  }\n  getConfiguration(e, t) {\n    return this._configuration.output = e, this._configuration.cullFace = this.parameters.cullFace, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.transparent = this._isTransparent, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.screenSizeEnabled = this.parameters.screenSizeEnabled, this._configuration.shadingEnabled = this.parameters.shadingEnabled, this._configuration.transparencyPassType = t.transparencyPassType, this._configuration.multipassEnabled = t.multipassEnabled, this._configuration.cullAboveGround = t.multipassTerrain.cullAboveGround, this._configuration;\n  }\n  intersect(e, s, a, c, l, h) {\n    if (this.parameters.screenSizeEnabled) {\n      const s = e.attributes.get(E.OFFSET),\n        u = {\n          applyToVertex: (e, n, o, c) => {\n            const l = t(O, s.data[3 * c], s.data[3 * c + 1], s.data[3 * c + 2]),\n              h = t(y, e, n, o);\n            return r(l, l, this.parameters.screenSizeScale * a.camera.computeScreenPixelSizeAt(l)), i(h, h, l), [h[0], h[1], h[2]];\n          },\n          applyToAabb: e => {\n            const t = n(e, O);\n            return o(e, this.parameters.screenSizeScale * a.camera.computeScreenPixelSizeAt(t));\n          }\n        };\n      b(e, a, c, l, u, h);\n    } else b(e, a, c, l, void 0, h);\n  }\n  createGLMaterial(e) {\n    return new v(e);\n  }\n  createBufferWriter() {\n    return new z(this.parameters.screenSizeEnabled);\n  }\n  get _isTransparent() {\n    return this.parameters.color[3] < 1 || this.parameters.forceTransparentMode;\n  }\n}\nclass v extends f {\n  beginSlot(e) {\n    return this.ensureTechnique(j, e);\n  }\n}\nclass x extends d {\n  constructor() {\n    super(...arguments), this.color = a(1, 1, 1, 1), this.shadingTint = a(0, 0, 0, .25), this.shadingDirection = e(s(), [.5, -.5, -.5]), this.screenSizeScale = 14, this.forceTransparentMode = !1, this.writeDepth = !0, this.hasSlicePlane = !1, this.cullFace = p.None, this.screenSizeEnabled = !1, this.shadingEnabled = !0;\n  }\n}\nclass z {\n  constructor(e) {\n    this.screenSizeEnabled = e;\n    const t = l().vec3f(E.POSITION).vec3f(E.NORMAL);\n    this.screenSizeEnabled && t.vec3f(E.OFFSET), this.vertexBufferLayout = t;\n  }\n  elementCount(e) {\n    return e.attributes.get(E.POSITION).indices.length;\n  }\n  write(e, t, r, i, s) {\n    if (T(r, this.vertexBufferLayout, e, t, i, s), this.screenSizeEnabled) {\n      if (!r.attributes.has(E.OFFSET)) throw new Error(`${E.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);\n      {\n        const e = r.attributes.get(E.OFFSET);\n        g(3 === e.size);\n        const a = i.getField(E.OFFSET, c);\n        if (!a) throw new Error(\"unable to acquire view for \" + E.OFFSET);\n        _(e, t, a, s);\n      }\n    }\n  }\n}\nconst O = s(),\n  y = s();\nexport { w as ShadedColorMaterial, x as ShadedColorMaterialParameters };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { colorVectorToColorAndOpacity as e } from \"../../../core/colorUtils.js\";\nimport { invert as t } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { f as r, b as o, h as n, n as i } from \"../../../chunks/vec32.js\";\nimport { sv3d as c, sm4d as a } from \"../../../geometry/support/vectorStacks.js\";\nimport { hydrateGeometry as l } from \"../../../layers/graphics/hydratedFeatures.js\";\nimport { manipulatedObjectGeometry as s } from \"./editingTools/manipulatedObjectUtils.js\";\nimport { computeCentroid as u } from \"../layers/graphics/graphicUtils.js\";\nimport { CullFaceOptions as m } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { RenderOccludedFlag as p } from \"../webgl-engine/lib/Material.js\";\nimport { ColorMaterial as g } from \"../webgl-engine/materials/ColorMaterial.js\";\nimport { ShadedColorMaterial as d } from \"../webgl-engine/materials/ShadedColorMaterial.js\";\nfunction f(t, r = p.OccludeAndTransparent, o = !0) {\n  const n = e(t),\n    i = !(t[3] < 1);\n  return o ? new d({\n    color: n,\n    writeDepth: i,\n    cullFace: m.Back,\n    renderOccluded: r,\n    isDecoration: !0\n  }) : new g({\n    color: n,\n    writeDepth: i,\n    cullFace: m.Back,\n    renderOccluded: r,\n    isDecoration: !0\n  });\n}\nfunction h(t, r = p.OccludeAndTransparent) {\n  const o = e(t);\n  return new g({\n    color: o,\n    writeDepth: !0,\n    cullFace: m.Front,\n    renderOccluded: r,\n    isDecoration: !0\n  });\n}\nconst j = Object.freeze({\n    calloutLength: 40,\n    calloutWidth: 1,\n    discRadius: 27,\n    focusMultiplier: 1.1\n  }),\n  b = Object.freeze({\n    autoScaleRenderObjects: !1,\n    worldSized: !0\n  });\nfunction w(e, i, l, s) {\n  const u = r(c.get(), e, l),\n    m = O(u, o(c.get(), s, u), l, a.get());\n  t(m, m);\n  const p = n(c.get(), i, m);\n  return Math.atan2(p[1], p[0]);\n}\nfunction O(e, t, r, n) {\n  const a = i(c.get(), e),\n    l = i(c.get(), t),\n    s = o(c.get(), a, l);\n  return n[0] = a[0], n[1] = a[1], n[2] = a[2], n[3] = 0, n[4] = l[0], n[5] = l[1], n[6] = l[2], n[7] = 0, n[8] = s[0], n[9] = s[1], n[10] = s[2], n[11] = 0, n[12] = r[0], n[13] = r[1], n[14] = r[2], n[15] = 1, n;\n}\nfunction D(e, t) {\n  const r = e.getViewForGraphic(t);\n  return null != r && \"computeAttachmentOrigin\" in r ? r.computeAttachmentOrigin(t, e.spatialReference) : null;\n}\nfunction F(e, t) {\n  const r = t.origin;\n  null == r ? y(e, s(t)) : e.elevationAlignedLocation = r;\n}\nfunction y(e, t) {\n  if (null == t) return;\n  const r = \"mesh\" === t.type ? t.anchor : u(t);\n  null != r && (e.location = l(r));\n}\nexport { w as calculateInputRotationTransform, O as calculateTranslateRotateFromBases, f as createManipulatorMaterial, h as createManipulatorOutlineMaterial, D as getGraphicAttachmentOrigin, F as placeAtObject, j as rotateManipulatorDefaults, b as worldScaledManipulatorSettings };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ManipulatorStateFlags as t } from \"../../interactive/interfaces.js\";\nclass e {\n  constructor(e, s = t.None) {\n    this.geometry = e, this.stateMask = s;\n  }\n}\nexport { e as RenderObject };"],
  "mappings": "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",
  "names": ["e", "u", "i", "n", "x", "t", "s", "o", "r", "a", "g", "l", "h", "c", "y", "d", "_", "S", "j", "O", "E", "t", "j", "r", "e", "E", "o", "i", "S", "c", "h", "O", "l", "s", "_", "t", "v", "c", "e", "x", "E", "o", "d", "v", "t", "s", "a", "l", "h", "u", "n", "O", "y", "_", "p", "z", "j", "r", "i", "b", "f", "t", "r", "h", "o", "n", "i", "e", "d", "j", "b", "w", "l", "s", "u", "c", "m", "O", "_", "p", "a", "D", "F", "y", "e", "s", "t"]
}
