{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/draw/DrawingMode.js", "../../../../../../node_modules/@arcgis/core/views/draw/DrawManipulator.js", "../../../../../../node_modules/@arcgis/core/views/interactive/sketch/constraintUtils.js", "../../../../../../node_modules/@arcgis/core/views/draw/DrawOperation.js", "../../../../../../node_modules/@arcgis/core/views/draw/drawSurfaces.js", "../../../../../../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst c = [\"freehand\", \"hybrid\", \"click\"],\n  e = \"click\";\nexport { e as defaultDrawingMode, c as drawingModes };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Evented.js\";\nclass t {\n  constructor({\n    consumesClicks: t,\n    grabbableForEvent: s\n  }) {\n    this.events = new e(), this.interactive = !0, this.selectable = !1, this.cursor = null, this.grabbable = !0, this.consumesClicks = t, this.grabbableForEvent = s;\n  }\n  destroy() {}\n  intersectionDistance(e, t) {\n    return 0;\n  }\n  attach() {}\n  detach() {}\n  onElevationChange() {}\n  onViewChange() {}\n}\nexport { t as DrawManipulator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { valueInUnit as e, createLength as n, createAngle as t } from \"../../../core/quantityUtils.js\";\nimport { verticalLengthUnitFromSpatialReference as r, lengthUnitFromSpatialReference as o } from \"../../../core/unitUtils.js\";\nimport { f as i, c as l, g as u } from \"../../../chunks/vec32.js\";\nimport { projectVectorToVector as s } from \"../../../geometry/projection/projectVectorToVector.js\";\nimport { geodesicCompatibleSpatialReference as c } from \"../../../geometry/support/geodesicUtils.js\";\nimport { makeDehydratedPoint as a } from \"../../../layers/graphics/dehydratedPoint.js\";\nimport { getConvertedElevationFromXYZ as f } from \"../../../support/elevationInfoUtils.js\";\nimport { CoordinateConstraint as m, constraintOrSet as d, VerticalCylinderConstraint as p, HorizontalPlaneConstraint as v, GeodesicConstraint as g, PointConstraint as R, VerticalHalfPlaneConstraint as j } from \"./constraints.js\";\nimport { fromPoint as w, createWritable as y, toElevationAlignedDehydratedPoint as h } from \"./normalizedPoint.js\";\nimport { getDegreesGeographic as x, DirectionMode as S, directionBetweenPoints as I, pointFromDistanceAlongAzimuth as U } from \"../../support/angularMeasurementUtils.js\";\nimport M from \"../../../geometry/SpatialReference.js\";\nfunction Z(e, n, t, r, o, i) {\n  let l = \"geodesic\",\n    u = c(t);\n  const a = y();\n  return w(e, n, r, a), a[2] = 0, u && s(a, t, a, u) || (l = \"euclidean\", u = t), {\n    mode: l,\n    view: n,\n    elevationInfo: r,\n    hasZ: o,\n    directionMode: i,\n    spatialReference: e.spatialReference,\n    measurementSR: u,\n    origin: a\n  };\n}\nfunction b(n, t, r) {\n  if (null == t || null == n) return;\n  const i = o(r.measurementSR);\n  if (null == i) return;\n  const l = G(n, r);\n  if (null == l) return;\n  const u = e(t, i);\n  return new p(l, u);\n}\nfunction A(e, n, r, o) {\n  if (null == r || null == e) return;\n  const i = G(e, o);\n  if (null == i) return;\n  const l = x(r),\n    u = 10,\n    s = e => {\n      if (null == e) return;\n      const n = y(),\n        r = t(e, \"degrees\", \"geographic\");\n      return U(n, i, o.measurementSR, u, r, o.mode) ? new j(i, n) : void 0;\n    },\n    c = () => {\n      if (null != n && null != e) return x(I(n, e));\n    };\n  switch (o.directionMode) {\n    case S.Absolute:\n      return s(l);\n    case S.Relative:\n      {\n        const e = c();\n        if (null == e) return;\n        return s(e + l);\n      }\n    case S.RelativeBilateral:\n      {\n        const e = c();\n        if (null == e) return;\n        return d([s(e + l), s(e - l)]);\n      }\n  }\n}\nfunction B(e, n) {\n  const t = C(e, n);\n  return null != t ? new v(t) : void 0;\n}\nfunction P(e, n, t) {\n  const {\n    context: r,\n    longitude: o,\n    latitude: i,\n    direction: l,\n    distance: u,\n    elevation: s\n  } = t;\n  if (null != o || null != i || null != u || null != s || null != l) {\n    if (null != o || null != i) {\n      const e = x(o),\n        n = x(i),\n        t = D(s, r);\n      return new m(e, n, t);\n    }\n    return T(e, n, t);\n  }\n}\nfunction T(n, t, {\n  context: r,\n  direction: o,\n  distance: i,\n  elevation: l\n}) {\n  if (null == t) return B(l, r);\n  const {\n      view: u,\n      elevationInfo: c,\n      measurementSR: a\n    } = r,\n    f = w(t, u, c);\n  if (!a || !s(f, t.spatialReference, F, a)) return;\n  const [m, p] = F,\n    v = null != i ? e(i, \"meters\") : void 0,\n    j = x(o),\n    y = D(l, r),\n    h = e => {\n      const n = new g([m, p], a, v, y, e);\n      return null == v || null == e || null == y && r.hasZ ? n : new R(n.closestTo(f));\n    };\n  if (null == j) return h(void 0);\n  const U = () => {\n    if (null != n && null != t) return x(I(n, t));\n  };\n  switch (r.directionMode) {\n    case S.Absolute:\n      return h(j);\n    case S.Relative:\n      {\n        const e = U();\n        if (null == e) return;\n        return h(e + j);\n      }\n    case S.RelativeBilateral:\n      {\n        const e = U();\n        if (null == e) return;\n        return d([h(e + j), h(e - j)]);\n      }\n  }\n}\nfunction V(e) {\n  return \"geodesic\" === e.context.mode ? P(null, null, e) : q(e);\n}\nfunction k(e, n, t) {\n  const {\n    context: r,\n    x: o,\n    y: i,\n    distance: l,\n    direction: u,\n    elevation: s\n  } = t;\n  return \"geodesic\" === r.mode ? P(n, e, t) : null != o || null != i ? q(t) : z([b(e, l, r), A(e, n, u, r), B(s, r)]);\n}\nfunction q({\n  x: e,\n  y: n,\n  elevation: t,\n  context: r\n}) {\n  K.x = e?.value ?? 0, K.y = n?.value ?? 0, K.spatialReference = r.spatialReference;\n  const o = G(K, r, H);\n  return new m(null != e && null != o ? o[0] : void 0, null != n && null != o ? o[1] : void 0, D(t, r));\n}\nfunction z(e) {\n  let n;\n  for (const t of e) t && (n = n?.intersect(t) ?? t);\n  return n;\n}\nfunction G(e, n, t = y()) {\n  const {\n    view: r,\n    elevationInfo: o,\n    measurementSR: l,\n    origin: u,\n    mode: c\n  } = n;\n  if (w(e, r, o, t), s(t, e.spatialReference, t, l)) return \"geodesic\" !== c && i(t, t, u), t;\n}\nfunction W(e, n, t, r) {\n  const {\n    view: o,\n    measurementSR: i,\n    spatialReference: c,\n    origin: a,\n    mode: f\n  } = t;\n  if (\"geodesic\" === f ? l(J, e) : u(J, e, a), s(J, i, J, c)) return h(J, o, n, t, r);\n}\nfunction C(e, n) {\n  return E(e, n)?.value ?? void 0;\n}\nfunction D(n, t) {\n  const r = E(n, t);\n  return null != r ? e(r, \"meters\") : void 0;\n}\nfunction E(t, {\n  view: o,\n  origin: i,\n  elevationInfo: l,\n  hasZ: u,\n  measurementSR: s\n}) {\n  if (null == t || !u) return;\n  const c = r(s);\n  if (null == c) return;\n  const [a, m] = i,\n    d = e(t, c),\n    p = \"3d\" === o?.type ? f(o, a, m, d, s, l) : d;\n  return null != p ? n(p, c) : void 0;\n}\nconst F = y(),\n  H = y(),\n  J = y(),\n  K = a(0, 0, 0, M.WGS84);\nexport { W as constraintSpaceToPoint, Z as getConstraintContext, P as getGeodesicConstraint, V as getPointConstraint, k as getPolylineOrPolygonConstraint, z as intersectAll, G as pointToConstraintSpace };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Accessor.js\";\nimport i from \"../../core/Evented.js\";\nimport { clone as n } from \"../../core/lang.js\";\nimport { destroyMaybe as o, equalsMaybe as r } from \"../../core/maybe.js\";\nimport { memoize as s } from \"../../core/memoize.js\";\nimport { ignoreAbortErrors as a } from \"../../core/promiseUtils.js\";\nimport p from \"../../core/ReactiveSet.js\";\nimport { watch as c, syncAndInitial as l } from \"../../core/reactiveUtils.js\";\nimport { createScreenPoint as d } from \"../../core/screenUtils.js\";\nimport { property as h } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport { subclass as u } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { diff as m } from \"../../core/accessorSupport/diffUtils.js\";\nimport { UpdatingHandles as g } from \"../../core/support/UpdatingHandles.js\";\nimport { pointEquals as y, pointNear as _ } from \"../../layers/graphics/dehydratedFeatureComparison.js\";\nimport { getEffectiveElevationInfo as v } from \"../../support/elevationInfoUtils.js\";\nimport { ViewingMode as f } from \"../ViewingMode.js\";\nimport { defaultDrawingMode as x } from \"./DrawingMode.js\";\nimport { DrawManipulator as C } from \"./DrawManipulator.js\";\nimport { createCoordinateHelper as b } from \"../interactive/coordinateHelper.js\";\nimport { createManipulatorDragEventPipeline as T, sceneSnappingAtLocation as S } from \"../interactive/dragEventPipeline.js\";\nimport { EditGeometry as P, Component as V } from \"../interactive/editGeometry/EditGeometry.js\";\nimport { EditGeometryOperations as w } from \"../interactive/editGeometry/EditGeometryOperations.js\";\nimport { isPoint as O } from \"../interactive/sketch/constraints.js\";\nimport { pointToConstraintSpace as M, constraintSpaceToPoint as D, getPointConstraint as E, getPolylineOrPolygonConstraint as I } from \"../interactive/sketch/constraintUtils.js\";\nimport H from \"../interactive/sketch/SketchLabelOptions.js\";\nimport { SnappingContext as j } from \"../interactive/snapping/SnappingContext.js\";\nimport { createSnapDragEventPipelineStep as G } from \"../interactive/snapping/SnappingDragPipelineStep.js\";\nimport { SnappingOperation as k } from \"../interactive/snapping/SnappingOperation.js\";\nimport { setupSnappingToggleHandles as Z } from \"../interactive/snapping/snappingUtils.js\";\nconst A = \"crosshair\",\n  L = \"progress\",\n  U = Symbol(),\n  z = Symbol();\nlet F = class extends i.EventedMixin(e) {\n  constructor(t) {\n    super(t), this._createOperationCompleted = !1, this._hideDefaultCursor = !1, this._pointerDownStates = new p(), this._stagedScreenPoint = null, this._stagedPointerType = null, this._updatingHandles = new g(), this._stagedPointerId = null, this.constraintsEnabled = !1, this.constraints = void 0, this._getPointConstraint = s(E), this._getPolylineOrPolygonConstraint = s(I), this.constraintZ = null, this.defaultZ = null, this.isDraped = !0, this.labelOptions = new H(), this.cursor = null, this.loading = !1, this.snapToSceneEnabled = null, this.firstVertex = null, this.lastVertex = null, this.secondToLastVertex = null, null == t.elevationInfo && (this.elevationInfo = v(!!t.hasZ));\n  }\n  initialize() {\n    const {\n        geometryType: t,\n        view: e\n      } = this,\n      i = e.spatialReference,\n      n = \"viewingMode\" in e.state ? e.state.viewingMode : f.Local,\n      o = \"segment\" === t || \"multipoint\" === t ? \"polyline\" : t;\n    this.coordinateHelper = b(this.hasZ, this.hasM, i), this._editGeometryOperations = new w(new P(o, this.coordinateHelper), n), this._snappingOperation = new k({\n      view: e\n    }), this.addHandles([c(() => ({\n      stagedPoint: this._snappingOperation.stagedPoint,\n      constraint: this._constraint\n    }), ({\n      stagedPoint: t,\n      constraint: e\n    }, i) => {\n      const {\n        snappingOptions: n\n      } = this;\n      n && (n.forceDisabled = null != e && O(e));\n      if (null != i && t === i.stagedPoint && e !== i.constraint) return this._onKeyboardBasedChange();\n      this._processCursor(t ?? this._screenToMap(this._stagedScreenPoint));\n    }, {\n      equals: (t, e) => t.stagedPoint === e.stagedPoint && r(t.constraint, e.constraint)\n    }), c(() => this.view.viewpoint, (t, e) => {\n      t && e && m(t, e) && this._onKeyboardBasedChange();\n    })]), this._activeComponent = new V(i, n), this._editGeometryOperations.data.components.push(this._activeComponent);\n    const s = this.segmentLabels;\n    null != s && (s.context = {\n      view: e,\n      editGeometryOperations: this._editGeometryOperations,\n      elevationInfo: this.elevationInfo,\n      labelOptions: this.labelOptions\n    }, this.addHandles(c(() => this.labelOptions.enabled, t => {\n      s.visible = t;\n    }, l))), this.addHandles(this._editGeometryOperations.on([\"vertex-add\", \"vertex-update\", \"vertex-remove\"], t => {\n      const e = t.vertices.map(t => ({\n          componentIndex: 0,\n          vertexIndex: t.index,\n          coordinates: this.coordinateHelper.vectorToArray(t.pos)\n        })),\n        i = e.map(t => t.coordinates),\n        n = this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getFirstVertex()?.pos) ?? null;\n      y(n, this.firstVertex) || (this.firstVertex = n);\n      const o = this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getLastVertex()?.pos) ?? null;\n      y(o, this.lastVertex) || (this.lastVertex = o);\n      const r = this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.edges.at(-1)?.leftVertex?.pos) ?? null;\n      switch (y(r, this.secondToLastVertex) || (this.secondToLastVertex = r), this._processCursor(this.cursorVertex), t.type) {\n        case \"vertex-add\":\n          this.emit(t.type, {\n            ...t,\n            added: i,\n            vertices: e\n          });\n          break;\n        case \"vertex-update\":\n          this.emit(t.type, {\n            ...t,\n            updated: i,\n            vertices: e\n          });\n          break;\n        case \"vertex-remove\":\n          this.emit(t.type, {\n            ...t,\n            removed: i,\n            vertices: e\n          });\n      }\n    }));\n    const p = this._manipulator = new C({\n      consumesClicks: !1,\n      grabbableForEvent: t => \"click\" !== this.drawingMode || \"touch\" === t.pointerType && this._snappingEnabled && 1 === this._pointerDownStates.size\n    });\n    this.manipulators.add(p), p.grabbable = \"point\" !== t, this.addHandles([p.events.on(\"immediate-click\", t => this._onImmediateClick(t)), p.events.on(\"immediate-double-click\", t => this._onImmediateDoubleClick(t)), c(() => this.drawingMode, () => {\n      this.removeHandles(U), this.addHandles(this._createManipulatorDragPipeline(p), U);\n    }, l), c(() => ({\n      effectiveCursor: this.effectiveCursor\n    }), ({\n      effectiveCursor: t\n    }) => {\n      p.cursor = t;\n    }, l)]), Z(this, () => {\n      const t = this.view.inputManager.latestPointerType ?? \"mouse\",\n        e = this._getSnappingContext(t);\n      if (null != this.snappingManager) {\n        const t = this._snappingOperation.snapAgainNearPreviousMapPoint(this.snappingManager, e);\n        this._updatingHandles.addPromise(a(t));\n      }\n    });\n  }\n  destroy() {\n    o(this.segmentLabels), o(this._snappingOperation), this._editGeometryOperations = o(this._editGeometryOperations), this._updatingHandles.destroy();\n  }\n  get _isDragging() {\n    const {\n      _stagedPointerId: t,\n      _manipulator: e\n    } = this;\n    return null != t && this._pointerDownStates.has(t) || e.grabbing || !e.interactive;\n  }\n  get _snappingEnabled() {\n    return null != this.snappingManager && this.snappingManager.options.effectiveEnabled;\n  }\n  get _requiresScenePoint() {\n    const t = this._updateAndGetEffectiveDrawSurface();\n    return \"3d\" === this.view.type && this.drawSurface !== t;\n  }\n  get canRedo() {\n    return this._editGeometryOperations.canRedo;\n  }\n  get canUndo() {\n    return this._editGeometryOperations.canUndo;\n  }\n  get committedVertices() {\n    return this._activeComponent.vertices.map(t => this.coordinateHelper.vectorToArray(t.pos));\n  }\n  get _constraint() {\n    const {\n      constraints: t,\n      constraintsEnabled: e\n    } = this;\n    if (t && e) switch (this.geometryType) {\n      case \"point\":\n        return this._getPointConstraint(t);\n      case \"polygon\":\n      case \"polyline\":\n        return this._getPolylineOrPolygonConstraint(this.lastVertex, this.secondToLastVertex, t);\n    }\n  }\n  set drawingMode(t) {\n    this._set(\"drawingMode\", t ?? x);\n  }\n  get effectiveCursor() {\n    return this.loading ? L : this._hideDefaultCursor ? null : this.cursor || A;\n  }\n  get interactive() {\n    return this._manipulator.interactive;\n  }\n  set interactive(t) {\n    this._manipulator.interactive = t;\n  }\n  get isCompleted() {\n    return this._createOperationCompleted;\n  }\n  get numCommittedVertices() {\n    return this._activeComponent.vertices.length;\n  }\n  get snappingOptions() {\n    return null != this.snappingManager ? this.snappingManager.options : null;\n  }\n  get cursorVertex() {\n    return this._get(\"cursorVertex\");\n  }\n  get visualizationCursorVertex() {\n    return \"mouse\" === this._stagedPointerType ? this.cursorVertex : null;\n  }\n  get committableVertex() {\n    const {\n      cursorVertex: t,\n      lastVertex: e,\n      firstVertex: i,\n      geometryType: n\n    } = this;\n    return \"polygon\" === n && _(t, i) || _(t, e) ? null : t;\n  }\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get geometryIncludingUncommittedVertices() {\n    const {\n        committedVertices: t,\n        committableVertex: e,\n        coordinateHelper: i\n      } = this,\n      n = t.slice();\n    return null != e && n.push(i.pointToArray(e)), n;\n  }\n  cancel() {\n    this.complete({\n      aborted: !0\n    });\n  }\n  commitStagedVertex() {\n    this._snappingOperation.abort();\n    const {\n      committableVertex: t\n    } = this;\n    null != t && this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(t));\n  }\n  complete(t) {\n    const e = t?.aborted || !1;\n    this._snappingOperation.abort(), this.snappingManager?.doneSnapping();\n    const {\n        geometryType: i,\n        numCommittedVertices: n\n      } = this,\n      o = \"multipoint\" === i && 0 === n || \"polyline\" === i && n < 2 || \"polygon\" === i && n < 3;\n    \"segment\" !== i && \"point\" !== i || this.commitStagedVertex(), this._createOperationCompleted = !o, (this.isCompleted || e) && (this._stagedScreenPoint = null, this._stagedPointerId = null, this._stagedPointerType = null, this._processCursor(null), this.emit(\"complete\", {\n      vertices: this.committedVertices.map((t, e) => ({\n        componentIndex: 0,\n        vertexIndex: e,\n        coordinates: t\n      })),\n      aborted: e,\n      type: \"complete\"\n    }));\n  }\n  onInputEvent(t) {\n    switch (t.type) {\n      case \"pointer-down\":\n        this._pointerDownStates.add(t.pointerId);\n        break;\n      case \"pointer-up\":\n        this._pointerDownStates.delete(t.pointerId);\n    }\n    switch (t.type) {\n      case \"pointer-move\":\n        return this._onPointerMove(t);\n      case \"hold\":\n        return this._onHold(t);\n    }\n  }\n  redo() {\n    this._editGeometryOperations.redo();\n  }\n  undo() {\n    null != this.snappingManager && this.snappingManager.doneSnapping(), this._editGeometryOperations.undo();\n  }\n  _processCursor(t) {\n    const e = n(this.cursorVertex),\n      i = n(t),\n      o = i && (this._updateAndGetEffectiveDrawSurface()?.constrainZ(i) ?? i),\n      r = this._snapToClosingVertex(o),\n      s = this._applyConstraints(r);\n    _(e, s) || (this._set(\"cursorVertex\", s), this.segmentLabels?.set(\"stagedVertex\", null != s ? this.coordinateHelper.pointToVector(s) : null), null == s || \"mouse\" !== this._stagedPointerType ? this.emit(\"cursor-remove\") : this.emit(\"cursor-update\", {\n      updated: null,\n      vertices: [{\n        componentIndex: 0,\n        vertexIndex: this._activeComponent.vertices.length,\n        coordinates: this.coordinateHelper.pointToArray(s)\n      }],\n      operation: \"apply\",\n      type: \"vertex-update\"\n    }));\n  }\n  _snapToClosingVertex(t) {\n    if (null == t || this._isDragging || \"polygon\" !== this.geometryType || this.numCommittedVertices <= 2) return t;\n    const e = this._mapToScreen(t);\n    if (!e) return t;\n    const i = this._activeComponent;\n    return this._vertexWithinPointerDistance(i.vertices[0].pos, e) ? this.firstVertex : this._vertexWithinPointerDistance(i.vertices.at(-1).pos, e) ? this.lastVertex : t;\n  }\n  _createManipulatorDragPipeline(t) {\n    switch (this.drawingMode) {\n      case \"click\":\n        return this._createManipulatorDragPipelineClick(t);\n      case \"freehand\":\n        return this._createManipulatorDragPipelineFreehand(t);\n      case \"hybrid\":\n        return this._createManipulatorDragPipelineHybrid(t);\n    }\n  }\n  _createManipulatorDragPipelineClick(t) {\n    return T(t, (t, e, i, n) => {\n      const o = \"touch\" === n && this._snappingEnabled;\n      if (this.isCompleted || !o) return;\n      const {\n        snappingStep: r,\n        cancelSnapping: s\n      } = G({\n        predicate: () => o,\n        snappingManager: this.snappingManager,\n        snappingContext: new j({\n          editGeometryOperations: this._editGeometryOperations,\n          elevationInfo: this.elevationInfo,\n          feature: this.graphic,\n          pointer: n,\n          visualizer: this.snappingVisualizer,\n          drawConstraints: this.constraints\n        }),\n        updatingHandles: this._updatingHandles,\n        useZ: !this._requiresScenePoint\n      });\n      i = i.next(t => (o && null != this.snappingManager && this.snappingManager.doneSnapping(), t)).next(s), e.next(this._screenToMapDragEventStep()).next(t => (\"start\" === t.action && (this._processCursor(t.mapStart), (\"segment\" === this.geometryType || o && !this.numCommittedVertices) && this.commitStagedVertex()), t)).next(S(this.view, this.elevationInfo)).next(...r).next(t => (o && (this._processCursor(t.mapEnd), \"end\" === t.action && this.commitStagedVertex()), t)).next(t => (\"end\" === t.action && (\"mouse\" !== this._stagedPointerType && this._snappingOperation.abort(), \"segment\" !== this.geometryType && \"point\" !== this.geometryType || this.complete()), t));\n    });\n  }\n  _createManipulatorDragPipelineFreehand(t) {\n    return T(t, (t, e) => {\n      this.isCompleted || e.next(this._screenToMapDragEventStep()).next(t => (\"start\" === t.action && (this._snappingOperation.abort(), null == this.committableVertex && this._processCursor(t.mapStart), \"segment\" === this.geometryType && this.commitStagedVertex()), t)).next(t => {\n        switch (t.action) {\n          case \"start\":\n          case \"update\":\n            this._processCursor(t.mapEnd), \"polygon\" !== this.geometryType && \"polyline\" !== this.geometryType || this.commitStagedVertex();\n            break;\n          case \"end\":\n            this.complete();\n        }\n        return t;\n      });\n    });\n  }\n  _createManipulatorDragPipelineHybrid(t) {\n    return T(t, (t, e) => {\n      this.isCompleted || e.next(this._screenToMapDragEventStep()).next(t => (\"start\" === t.action && (this._snappingOperation.abort(), this.addHandles(this._editGeometryOperations.createUndoGroup(), z), this._processCursor(t.mapStart), this.commitStagedVertex()), t)).next(t => {\n        switch (t.action) {\n          case \"start\":\n          case \"update\":\n            this._processCursor(t.mapEnd), \"polygon\" !== this.geometryType && \"polyline\" !== this.geometryType || this.commitStagedVertex();\n            break;\n          case \"end\":\n            \"mouse\" !== this._stagedPointerType && this._snappingOperation.abort(), this.removeHandles(z), \"segment\" !== this.geometryType && \"point\" !== this.geometryType || this.complete();\n        }\n        return t;\n      });\n    });\n  }\n  get _drawAtFixedElevation() {\n    const {\n      constraintsEnabled: t,\n      constraintZ: e,\n      geometryType: i,\n      numCommittedVertices: n\n    } = this;\n    return t ? null != e || \"segment\" === i && n > 0 : (\"segment\" === i || \"polygon\" === i) && n > 0;\n  }\n  _updateAndGetEffectiveDrawSurface() {\n    const {\n      constraintsEnabled: t,\n      coordinateHelper: e,\n      drawSurface: i,\n      elevationDrawSurface: n,\n      snapToSceneEnabled: o\n    } = this;\n    if (null == n) return i;\n    if (!this.hasZ) return n.defaultZ = null, n;\n    const r = this.elevationInfo?.mode;\n    let s = this.defaultZ,\n      a = t || \"absolute-height\" === r;\n    if (null != o && (a = o), \"on-the-ground\" === r && (a = !1), this._drawAtFixedElevation) {\n      s = (t ? this.constraintZ : null) ?? e.getZ(this._activeComponent.vertices[0].pos), a = !1;\n    }\n    return a ? i : (n.defaultZ = s, n);\n  }\n  _mapToScreen(t) {\n    return this._updateAndGetEffectiveDrawSurface()?.mapToScreen(t);\n  }\n  _onHold(t) {\n    this._snappingOperation.abort(), \"click\" === this.drawingMode && \"touch\" === t.pointerType && this._snappingEnabled && this._processCursor(t.mapPoint), t.stopPropagation();\n  }\n  _onImmediateClick(t) {\n    if (!(\"mouse\" === t.pointerType && 2 === t.button || this._manipulator.dragging)) try {\n      const {\n        drawingMode: e,\n        geometryType: i\n      } = this;\n      this._stagedPointerType = t.pointerType, this._stagedScreenPoint = t.screenPoint;\n      const n = this._screenToMap(t.screenPoint);\n      if (null == n) return;\n      if (null == n || \"freehand\" === e && \"point\" !== i) return;\n      if (this._snappingEnabled && null != this.cursorVertex || this._processCursor(n), null == this.committableVertex) return void this.complete();\n      this.commitStagedVertex(), \"mouse\" !== t.pointerType && this._processCursor(null), (\"freehand\" === e || \"point\" === i || \"segment\" === i && 2 === this.numCommittedVertices || \"segment\" === i && \"hybrid\" === e && 1 === this.numCommittedVertices) && this.complete();\n    } finally {\n      t.stopPropagation();\n    }\n  }\n  _onImmediateDoubleClick(t) {\n    this._manipulator.dragging || \"point\" === this.geometryType || (this.complete(), t.stopPropagation());\n  }\n  _onPointerMove(t) {\n    const e = d(t.x, t.y);\n    this._stagedScreenPoint = e, this._stagedPointerType = t.pointerType, this._stagedPointerId = t.pointerId, this._isDragging ? this._snappingOperation.abort() : (t.stopPropagation(), this._processCursorMovementRelativeToSurface(e, t.pointerType));\n  }\n  _onKeyboardBasedChange() {\n    \"mouse\" === this._stagedPointerType && this._stagedScreenPoint && null != this._stagedPointerId && !this._isDragging ? this._processCursorMovementRelativeToSurface(this._stagedScreenPoint, this._stagedPointerType) : this._snappingOperation.abort();\n  }\n  _processCursorMovementRelativeToSurface(t, e) {\n    const i = this._snappingOperation,\n      n = this._screenToMap(t),\n      o = this._requiresScenePoint ? this.drawSurface?.screenToMap(t) : null;\n    if (null == n) return this._hideDefaultCursor = !0, this._processCursor(null), void i.abort();\n    this._hideDefaultCursor = !1;\n    const r = this.snappingManager;\n    if (null == r) return this._processCursor(n), void i.abort();\n    const s = this._getSnappingContext(e);\n    this._updatingHandles.addPromise(a(i.snap({\n      point: n,\n      scenePoint: o\n    }, r, s)));\n  }\n  _applyConstraints(t) {\n    const {\n      _constraint: e,\n      constraints: i\n    } = this;\n    if (!t || !i || !e) return t;\n    const {\n        context: n\n      } = i,\n      o = M(t, n),\n      r = o ? e.closestTo(o) : void 0;\n    if (!r) return t;\n    const s = D(r, t, n),\n      a = \"2d\" === this.view.type || \"absolute-height\" !== n.elevationInfo.mode;\n    return null != s && a && null != this.constraintZ && this.hasZ && (s.z = this.constraintZ), s;\n  }\n  _screenToMap(t) {\n    return t ? this._updateAndGetEffectiveDrawSurface()?.screenToMap(t) : null;\n  }\n  _screenToMapDragEventStep() {\n    let t = null;\n    return e => {\n      if (\"start\" === e.action && (t = this._screenToMap(e.screenStart)), null == t) return null;\n      const i = this._screenToMap(e.screenEnd);\n      return null != i ? {\n        ...e,\n        mapStart: t,\n        mapEnd: i\n      } : null;\n    };\n  }\n  _vertexWithinPointerDistance(t, e) {\n    const i = 25,\n      n = this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(t));\n    return null != n && R(n, e, i);\n  }\n  _getSnappingContext(t) {\n    const e = this._drawAtFixedElevation ? this.elevationDrawSurface?.defaultZ : null;\n    return new j({\n      editGeometryOperations: this._editGeometryOperations,\n      elevationInfo: this.elevationInfo,\n      pointer: t,\n      feature: this.graphic,\n      visualizer: this.snappingVisualizer,\n      selfSnappingZ: null != e ? {\n        value: e,\n        elevationInfo: this.elevationInfo\n      } : null,\n      drawConstraints: this.constraints\n    });\n  }\n};\nfunction R(t, e, i) {\n  const n = t.x - e.x,\n    o = t.y - e.y;\n  return n * n + o * o <= i;\n}\nt([h()], F.prototype, \"_hideDefaultCursor\", void 0), t([h()], F.prototype, \"_stagedPointerId\", void 0), t([h()], F.prototype, \"_isDragging\", null), t([h()], F.prototype, \"_snappingOperation\", void 0), t([h()], F.prototype, \"_snappingEnabled\", null), t([h({\n  constructOnly: !0\n})], F.prototype, \"graphic\", void 0), t([h()], F.prototype, \"constraintsEnabled\", void 0), t([h()], F.prototype, \"constraints\", void 0), t([h()], F.prototype, \"_constraint\", null), t([h()], F.prototype, \"constraintZ\", void 0), t([h()], F.prototype, \"defaultZ\", void 0), t([h()], F.prototype, \"isDraped\", void 0), t([h({\n  value: x\n})], F.prototype, \"drawingMode\", null), t([h({\n  constructOnly: !0\n})], F.prototype, \"elevationDrawSurface\", void 0), t([h({\n  constructOnly: !0\n})], F.prototype, \"elevationInfo\", void 0), t([h({\n  constructOnly: !0,\n  type: H\n})], F.prototype, \"labelOptions\", void 0), t([h({\n  constructOnly: !0\n})], F.prototype, \"geometryType\", void 0), t([h({\n  constructOnly: !0\n})], F.prototype, \"hasM\", void 0), t([h({\n  constructOnly: !0\n})], F.prototype, \"hasZ\", void 0), t([h()], F.prototype, \"cursor\", void 0), t([h()], F.prototype, \"effectiveCursor\", null), t([h()], F.prototype, \"loading\", void 0), t([h({\n  constructOnly: !0\n})], F.prototype, \"manipulators\", void 0), t([h({\n  constructOnly: !0\n})], F.prototype, \"drawSurface\", void 0), t([h({\n  constructOnly: !0\n})], F.prototype, \"segmentLabels\", void 0), t([h({\n  constructOnly: !0\n})], F.prototype, \"snappingManager\", void 0), t([h({\n  constructOnly: !0\n})], F.prototype, \"snappingVisualizer\", void 0), t([h()], F.prototype, \"snapToSceneEnabled\", void 0), t([h({\n  readOnly: !0\n})], F.prototype, \"cursorVertex\", null), t([h({\n  readOnly: !0\n})], F.prototype, \"visualizationCursorVertex\", null), t([h()], F.prototype, \"committableVertex\", null), t([h()], F.prototype, \"firstVertex\", void 0), t([h()], F.prototype, \"lastVertex\", void 0), t([h()], F.prototype, \"secondToLastVertex\", void 0), t([h()], F.prototype, \"updating\", null), t([h({\n  constructOnly: !0\n})], F.prototype, \"view\", void 0), F = t([u(\"esri.views.draw.DrawOperation\")], F);\nexport { F as DrawOperation, A as defaultCursor, L as defaultLoadingCursor };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../geometry.js\";\nimport { createScreenPointArray as e, createScreenPoint as t } from \"../../core/screenUtils.js\";\nimport { makeDehydratedPoint as r } from \"../../layers/graphics/dehydratedPoint.js\";\nimport { clonePoint as s } from \"../../layers/graphics/hydratedFeatures.js\";\nimport { getConvertedElevation as n, getZForElevationMode as i } from \"../../support/elevationInfoUtils.js\";\nimport o from \"../../geometry/SpatialReference.js\";\nimport a from \"../../geometry/Point.js\";\nclass c {\n  constructor(e, t, r, s = null) {\n    this._elevationInfo = e, this.defaultZ = t, this._view = r, this._excludeGraphics = s;\n  }\n  screenToMap(t) {\n    const {\n        defaultZ: r,\n        _view: s\n      } = this,\n      n = s.sceneIntersectionHelper.intersectElevationFromScreen(e(t.x, t.y), this._elevationInfo, r ?? 0, this._excludeGraphics);\n    return null == r && null != n && (n.z = void 0), n;\n  }\n  mapToScreen(e) {\n    const t = r(e.x, e.y, n(this._view, e, this._elevationInfo), e.spatialReference);\n    return this._view.toScreen(t);\n  }\n  constrainZ(e) {\n    const {\n      defaultZ: t\n    } = this;\n    return null != t && e.z !== t && ((e = s(e)).z = t), e;\n  }\n}\nclass l {\n  constructor(e, t, r = []) {\n    this.view = e, this.elevationInfo = t, this.exclude = r;\n  }\n  screenToMap(e) {\n    const t = this.view.toMap(e, {\n      exclude: this.exclude,\n      excludeHud: !0\n    });\n    return null != t && (t.z = i(t, this.view, this.elevationInfo)), t;\n  }\n  mapToScreen(e) {\n    let t = e;\n    return null != this.elevationInfo && (t = r(e.x, e.y, n(this.view, e, this.elevationInfo), e.spatialReference)), this.view.toScreen(t);\n  }\n  constrainZ(e) {\n    return e;\n  }\n}\nclass h {\n  constructor(e, t = !1, r = 0) {\n    this.view = e, this.hasZ = t, this.defaultZ = r, this.mapToScreen = t => e.toScreen(t), this.screenToMap = t ? t => {\n      const s = e.toMap(t);\n      return s.z = r, s;\n    } : t => e.toMap(t);\n  }\n  constrainZ(e) {\n    const {\n      defaultZ: t\n    } = this;\n    return this.hasZ && e.z !== t && ((e = s(e)).z = t), e;\n  }\n}\nclass u {\n  screenToMap(e) {\n    const {\n      x: t,\n      y: r\n    } = e;\n    return new a({\n      x: t,\n      y: r,\n      spatialReference: u.spatialReference\n    });\n  }\n  mapToScreen(e) {\n    return t(e.x, e.y);\n  }\n  constrainZ(e) {\n    return e;\n  }\n}\nu.spatialReference = new o();\nexport { c as ElevationDrawSurface, h as MapDrawSurface, l as SceneDrawSurface, u as ScreenDrawSurface };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport { isSome as t } from \"../../../core/arrayUtils.js\";\nimport { invert as r } from \"../../../core/libs/gl-matrix-2/math/mat2d.js\";\nimport { create as e, clone as s } from \"../../../core/libs/gl-matrix-2/factories/mat2df64.js\";\nimport { rotationTo as a, invert as o } from \"../../../core/libs/gl-matrix-2/math/quat.js\";\nimport { create as i } from \"../../../core/libs/gl-matrix-2/factories/quatf64.js\";\nimport { j as n, m as l, f as h, n as m, b as c, u as f } from \"../../../chunks/vec32.js\";\nimport { create as p } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { Axis as d } from \"../../../geometry/support/Axis.js\";\nimport u from \"../../../geometry/Point.js\";\nfunction g(t, r, e = null) {\n  return null != e ? [t, r, e] : [t, r];\n}\nfunction w(t, r, e = null) {\n  return null != e ? {\n    x: t,\n    y: r,\n    z: e\n  } : {\n    x: t,\n    y: r\n  };\n}\nclass R {\n  constructor(t) {\n    this.spatialReference = t;\n  }\n  mapToLocalMultiple(r) {\n    return r.map(t => this.mapToLocal(t)).filter(t);\n  }\n  get doUnnormalization() {\n    return !1;\n  }\n}\nclass W extends R {\n  constructor(t, a, o = null) {\n    super(a), this._defaultZ = o, this.transform = e(), this.transformInv = e(), this.transform = s(t), r(this.transformInv, this.transform);\n  }\n  makeMapPoint(t, r) {\n    return g(t, r, this._defaultZ);\n  }\n  mapToLocal(t) {\n    return w(this.transform[0] * t[0] + this.transform[2] * t[1] + this.transform[4], this.transform[1] * t[0] + this.transform[3] * t[1] + this.transform[5]);\n  }\n  localToMap(t) {\n    return g(this.transformInv[0] * t.x + this.transformInv[2] * t.y + this.transformInv[4], this.transformInv[1] * t.x + this.transformInv[3] * t.y + this.transformInv[5], this._defaultZ);\n  }\n}\nclass v extends R {\n  constructor(t, r) {\n    super(t.spatialReference), this.view = t, this.defaultZ = null, this.pWS = p(), this.tangentFrameUpWS = p(), this.tangentFrameRightWS = p(), this.tangentFrameForwardWS = p(), this.localFrameRightWS = p(), this.localFrameUpWS = p(), this.worldToLocalTransform = i(), this.localToWorldTransform = i(), this.scale = 1, this.scale = t.resolution, this.referenceMapPoint = r, this.defaultZ = r.hasZ ? r.z : null;\n    const e = t.state.camera.viewRight;\n    this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint, this.pWS), this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS, d.X, this.tangentFrameRightWS), this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS, d.Y, this.tangentFrameUpWS), this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS, d.Z, this.tangentFrameForwardWS);\n    const s = p();\n    n(s, this.tangentFrameForwardWS, l(e, this.tangentFrameForwardWS)), h(this.localFrameRightWS, e, s), m(this.localFrameRightWS, this.localFrameRightWS), c(this.localFrameUpWS, this.tangentFrameForwardWS, this.localFrameRightWS), a(this.worldToLocalTransform, this.localFrameRightWS, this.tangentFrameRightWS), o(this.localToWorldTransform, this.worldToLocalTransform);\n  }\n  get doUnnormalization() {\n    return \"global\" === this.view.viewingMode;\n  }\n  makeMapPoint(t, r) {\n    return g(t, r, this.defaultZ);\n  }\n  mapToLocal(t) {\n    const r = p();\n    this.view.renderCoordsHelper.toRenderCoords(new u({\n      x: t[0],\n      y: t[1],\n      spatialReference: this.spatialReference\n    }), r), f(r, r, this.worldToLocalTransform);\n    const e = this.view.renderCoordsHelper.fromRenderCoords(r, new u({\n      spatialReference: this.view.spatialReference\n    }));\n    return null != e ? w(e.x / this.scale, e.y / this.scale) : null;\n  }\n  localToMap(t) {\n    const r = p();\n    this.view.renderCoordsHelper.toRenderCoords(new u({\n      x: t.x * this.scale,\n      y: t.y * this.scale,\n      spatialReference: this.spatialReference\n    }), r), f(r, r, this.localToWorldTransform);\n    const e = this.view.renderCoordsHelper.fromRenderCoords(r, new u({\n      spatialReference: this.view.spatialReference\n    }));\n    return null != e ? g(e.x, e.y, this.defaultZ) : null;\n  }\n}\nfunction F(t, r) {\n  if (\"2d\" === t.type) return new W(t.state.transform, t.spatialReference, r.length > 2 ? r[2] : null);\n  if (\"3d\" === t.type) {\n    const e = r.length > 2 ? new u({\n      x: r[0],\n      y: r[1],\n      z: r[2],\n      spatialReference: t.spatialReference\n    }) : new u({\n      x: r[0],\n      y: r[1],\n      spatialReference: t.spatialReference\n    });\n    return new v(t, e);\n  }\n  return null;\n}\nexport { W as AffineCoordinateSystem, v as SceneViewCoordinateSystem, R as SurfaceCoordinateSystem, F as createViewAlignedCoordinateSystem, g as makeMapPoint, w as makeSurfacePoint };"],
  "mappings": "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",
  "names": ["c", "e", "t", "s", "o", "e", "Z", "e", "n", "t", "r", "o", "i", "l", "u", "A", "a", "c", "E", "f", "s", "R", "P", "D", "T", "m", "p", "v", "j", "y", "h", "U", "z", "d", "A", "L", "z", "F", "o", "t", "c", "u", "e", "i", "n", "P", "E", "p", "d", "a", "s", "r", "f", "R", "c", "e", "t", "r", "s", "n", "l", "h", "u", "g", "t", "r", "e", "R", "W", "a", "o", "u", "n", "s", "_", "F"]
}
