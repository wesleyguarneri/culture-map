{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { reader as r } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as t } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport l from \"../support/TileInfo.js\";\nimport i from \"../support/TileInfoTilemapCache.js\";\nimport { TilemapCache as s } from \"../support/TilemapCache.js\";\nimport a from \"../../geometry/SpatialReference.js\";\nconst p = p => {\n  let n = class extends p {\n    constructor() {\n      super(...arguments), this.copyright = null, this.minScale = 0, this.maxScale = 0, this.spatialReference = null, this.tileInfo = null, this.tilemapCache = null;\n    }\n    destroy() {\n      this.tilemapCache?.destroy?.();\n    }\n    readMinScale(e, o) {\n      return null != o.minLOD && null != o.maxLOD ? e : 0;\n    }\n    readMaxScale(e, o) {\n      return null != o.minLOD && null != o.maxLOD ? e : 0;\n    }\n    get supportsBlankTile() {\n      return this.version >= 10.2;\n    }\n    readTilemapCache(e, o, r) {\n      const t = o.capabilities?.includes(\"Tilemap\");\n      let {\n        minLOD: a,\n        maxLOD: p,\n        minScale: n,\n        maxScale: c\n      } = o;\n      if (null == a && null == p && 0 !== n && 0 !== c) {\n        const e = e => Math.round(1e4 * e) / 1e4;\n        n = e(n || o.tileInfo.lods[0].scale), c = e(c || o.tileInfo.lods[o.tileInfo.lods.length - 1].scale);\n        for (const r of o.tileInfo.lods) {\n          const o = e(r.scale);\n          a = o >= n ? r.level : a, p = o >= c ? r.level : p;\n        }\n      }\n      if (t) return new s({\n        layer: this,\n        minLOD: a,\n        maxLOD: p\n      });\n      if (o.tileInfo) {\n        const e = new l();\n        return e.read(o.tileInfo, r), new i(e, a, p);\n      }\n      return null;\n    }\n  };\n  return e([o({\n    json: {\n      read: {\n        source: \"copyrightText\"\n      }\n    }\n  })], n.prototype, \"copyright\", void 0), e([o()], n.prototype, \"minScale\", void 0), e([r(\"service\", \"minScale\")], n.prototype, \"readMinScale\", null), e([o()], n.prototype, \"maxScale\", void 0), e([r(\"service\", \"maxScale\")], n.prototype, \"readMaxScale\", null), e([o({\n    type: a\n  })], n.prototype, \"spatialReference\", void 0), e([o({\n    readOnly: !0\n  })], n.prototype, \"supportsBlankTile\", null), e([o({\n    type: l\n  })], n.prototype, \"tileInfo\", void 0), e([o()], n.prototype, \"tilemapCache\", void 0), e([r(\"service\", \"tilemapCache\", [\"capabilities\", \"tileInfo\"])], n.prototype, \"readTilemapCache\", null), e([o()], n.prototype, \"version\", void 0), n = e([t(\"esri.layers.mixins.ArcGISCachedService\")], n), n;\n};\nexport { p as ArcGISCachedService };"],
  "mappings": "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",
  "names": ["p", "e", "o", "a", "n", "r"]
}
