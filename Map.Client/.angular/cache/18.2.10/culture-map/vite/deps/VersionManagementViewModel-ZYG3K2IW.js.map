{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/rest/featureService/FeatureService.js", "../../../../../../node_modules/@arcgis/core/rest/featureService/utils.js", "../../../../../../node_modules/@arcgis/core/versionManagement/VersioningState.js", "../../../../../../node_modules/@arcgis/core/versionManagement/support/EditMomentStack.js", "../../../../../../node_modules/@arcgis/core/versionManagement/versionAdapters/FeatureLayerVersionAdapter.js", "../../../../../../node_modules/@arcgis/core/versionManagement/versionAdapters/NetworkVersionAdapter.js", "../../../../../../node_modules/@arcgis/core/versionManagement/versionAdapters/SubTypeGroupLayerVersionAdapter.js", "../../../../../../node_modules/@arcgis/core/versionManagement/versionAdapters/utils.js", "../../../../../../node_modules/@arcgis/core/versionManagement/VersionManagementService.js", "../../../../../../node_modules/@arcgis/core/versionManagement/utils.js", "../../../../../../node_modules/@arcgis/core/widgets/VersionManagement/VersionManagementViewModel.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../config.js\";\nimport { id as s } from \"../../kernel.js\";\nimport r from \"../../request.js\";\nimport { isSome as i } from \"../../core/arrayUtils.js\";\nimport a from \"../../core/Error.js\";\nimport { IdentifiableMixin as o } from \"../../core/Identifiable.js\";\nimport { JSONSupportMixin as n } from \"../../core/JSONSupport.js\";\nimport { clone as l } from \"../../core/lang.js\";\nimport u from \"../../core/Loadable.js\";\nimport { throwIfAborted as p, throwIfAbortError as d } from \"../../core/promiseUtils.js\";\nimport { property as c } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport { reader as m } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as y } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport f from \"../../geometry/SpatialReference.js\";\nimport { getFeatureJSON as h, getFeatureIds as g, getAttachmentEditsJSON as v, isProtectedOrPrivateVersionError as b, unpackEditResultData as S, createEditedFeatures as E } from \"../../layers/graphics/applyEditsUtils.js\";\nimport { checkEditingCapabilities as j, normalizeEdits as w, normalizeGeometries as F } from \"../../layers/graphics/editingSupport.js\";\nimport { emitApplyEditsEvent as I } from \"../../layers/mixins/EditBusLayer.js\";\nimport { ensureCredentialIfSignedIn as R } from \"../../layers/support/featureLayerUtils.js\";\nimport { getOwningPortalUrl as A } from \"../../layers/support/layerUtils.js\";\nimport { getFeatureLayerCapabilities as C } from \"../../layers/support/serviceCapabilitiesUtils.js\";\nimport U from \"../../portal/PortalItem.js\";\nimport { getUserPrivileges as P } from \"../../portal/support/portalItemUtils.js\";\nimport { parseUrl as O, asValidOptions as k, encode as T } from \"../utils.js\";\nimport { unapplyEditsZUnitScaling as V } from \"../query/operations/editsZScale.js\";\nimport { readBoolean as D, readNumber as N } from \"../support/jsonUtils.js\";\nimport { isSafeToEditVersion as L, isVersionInEditSession as M, currentSessionId as _ } from \"../../versionManagement/support/versionManagementUtils.js\";\nfunction x(e, t) {\n  const s = t.id;\n  return {\n    id: s,\n    name: t.name,\n    url: `${e}/${s}`,\n    type: t.type || \"Table\"\n  };\n}\nfunction Q(e) {\n  return {\n    data: J(e),\n    sync: $(e),\n    operations: q(e.capabilities, e),\n    query: W(e),\n    editing: H(e)\n  };\n}\nfunction J(e) {\n  return {\n    isDataVersioned: D(e, \"hasVersionedData\", !1)\n  };\n}\nfunction q(e, t) {\n  const s = e ? e.toLowerCase().split(\",\").map(e => e.trim()) : [],\n    r = s.includes(\"query\"),\n    i = s.includes(\"editing\") && !t.datesInUnknownTimezone;\n  let a = i && s.includes(\"create\"),\n    o = i && s.includes(\"delete\"),\n    n = i && s.includes(\"update\");\n  return i && !(a || o || n) && (a = o = n = !0), {\n    supportsAdd: a,\n    supportsDelete: o,\n    supportsEditing: i,\n    supportsChangeTracking: s.includes(\"changetracking\"),\n    supportsQuery: r,\n    supportsQueryDataElements: D(t, \"supportsQueryDataElements\", !1),\n    supportsQueryDomains: D(t, \"supportsQueryDomains\", !1),\n    supportsQueryContingentValues: D(t, \"supportsQueryContingentValues\", !1),\n    supportsSync: s.includes(\"sync\"),\n    supportsUpdate: n\n  };\n}\nfunction W(e) {\n  return {\n    maxRecordCountFactor: N(e, \"maxRecordCountFactor\", void 0),\n    maxRecordCount: N(e, \"maxRecordCount\", void 0)\n  };\n}\nfunction H(e) {\n  const t = e?.advancedEditingCapabilities;\n  return {\n    supportsGlobalId: D(e, \"supportsApplyEditsWithGlobalIds\", !1),\n    supportsReturnServiceEditsInSourceSpatialReference: D(t, \"supportsReturnServiceEditsInSourceSR\", !1),\n    supportsSplit: D(t, \"supportsSplit\", !1),\n    supportsAsyncApplyEdits: D(t, \"supportsAsyncApplyEdits\", !1)\n  };\n}\nfunction $(e) {\n  const t = e?.syncCapabilities,\n    s = t?.supportedSyncDataOptions;\n  return {\n    supportsAsync: D(t, \"supportsAsync\", !1),\n    supportedSyncDataOptions: {\n      annotations: !(1 & ~s),\n      dimensions: !(2 & ~s),\n      contingentValues: !(4 & ~s),\n      attributeRules: !(8 & ~s),\n      utilityNetworkSystem: !(16 & ~s),\n      annotationFullModel: !(32 & ~s),\n      include3DObjects: !(64 & ~s),\n      utilityNetworkMissingLayers: !(128 & ~s),\n      preserveTrueCurves: !(256 & ~s)\n    }\n  };\n}\nlet G = class extends n(o(u)) {\n  constructor(e) {\n    super(e), this.url = null, this.sourceJSON = null, this.userHasFullEditingPrivileges = !1, this.userHasUpdateItemPrivileges = !1, this.userTypeExtensions = [], this.layerInfos = null, this.tableInfos = null, this.capabilities = null;\n  }\n  read(e, t) {\n    this.sourceJSON = e, super.read(e, t);\n  }\n  get utilityNetworkUrl() {\n    if (this.sourceJSON) for (const e of this.sourceJSON.layers) if (\"Utility Network Layer\" === e.type) return `${this.url}/${e.id}`;\n    return null;\n  }\n  get versionManagementServiceUrl() {\n    return this.sourceJSON?.hasBranchVersionedData ? this.url.replace(/\\/FeatureServer/i, \"/VersionManagementServer\") : null;\n  }\n  readLayerInfos(e, t) {\n    return (t.layers || []).map(e => {\n      const {\n        type: t,\n        geometryType: s\n      } = e;\n      return {\n        ...x(this.url, e),\n        type: t || \"Feature Layer\",\n        geometryType: s\n      };\n    });\n  }\n  readTableInfos(e, t) {\n    return (t.tables || []).map(e => x(this.url, e));\n  }\n  readCapabilities(e, t) {\n    return Q(t);\n  }\n  get effectiveCapabilities() {\n    const e = this.capabilities;\n    if (!e) return null;\n    const t = l(e),\n      {\n        operations: s\n      } = t;\n    return this.userHasUpdateItemPrivileges ? (s.supportsAdd = s.supportsDelete = s.supportsEditing = s.supportsQuery = s.supportsUpdate = !0, t) : (this.userHasFullEditingPrivileges && s.supportsEditing && (s.supportsAdd = s.supportsDelete = s.supportsUpdate = !0), t);\n  }\n  load(e) {\n    return this.addResolvingPromise(this._fetchService(this.url, e).then(() => this._setUserPrivileges(e))), Promise.resolve(this);\n  }\n  async fetchAllLayersAndTables(e) {\n    return await this.load(e), this._fetchLayersAndTablesPromise ||= this._fetchLayersAndTables(this.url), p(e), this._fetchLayersAndTablesPromise;\n  }\n  async applyEdits(e, t) {\n    let s = null;\n    try {\n      const {\n          results: r,\n          edits: i,\n          editedFeatures: a\n        } = await this._internalApplyEdits(e, t),\n        o = e => e.filter(e => !e.error).map(l);\n      let n = 0;\n      return r.map(e => {\n        s = I(this.url, e.id, t?.gdbVersion, !0);\n        const r = {\n          edits: i[n],\n          addedFeatures: o(e.addFeatureResults),\n          updatedFeatures: o(e.updateFeatureResults),\n          deletedFeatures: o(e.deleteFeatureResults),\n          addedAttachments: o(e.addAttachmentResults),\n          updatedAttachments: o(e.updateAttachmentResults),\n          deletedAttachments: o(e.deleteAttachmentResults),\n          exceededTransferLimit: !1,\n          historicMoment: e.editMoment ? new Date(e.editMoment) : null\n        };\n        n += 1, a.length > 0 && (r.editedFeatures = a), s.resolve(r), s = null;\n      }), r;\n    } catch (r) {\n      throw s && s.reject(r), r;\n    }\n  }\n  async _setUserPrivileges(e) {\n    if (t.userPrivilegesApplied) try {\n      const {\n        features: {\n          fullEdit: t\n        },\n        content: {\n          updateItem: s\n        }\n      } = await this._fetchUserPrivileges(this.sourceJSON.serviceItemId, e);\n      this._set(\"userHasFullEditingPrivileges\", t), this._set(\"userHasUpdateItemPrivileges\", s);\n    } catch (s) {\n      d(s);\n    }\n  }\n  async _fetchUserPrivileges(e, t) {\n    const r = !0,\n      i = !1,\n      a = !1;\n    if (!e) return {\n      features: {\n        edit: r,\n        fullEdit: i\n      },\n      content: {\n        updateItem: a\n      }\n    };\n    let o, n, l;\n    try {\n      o = await A(this.url, t);\n    } catch (u) {\n      d(u);\n    }\n    try {\n      const e = null != t ? t.signal : null;\n      n = await s?.getCredential(`${o}/sharing`, {\n        prompt: !1,\n        signal: e\n      });\n    } catch (u) {\n      d(u);\n    }\n    if (!n) return {\n      features: {\n        edit: r,\n        fullEdit: i\n      },\n      content: {\n        updateItem: a\n      }\n    };\n    try {\n      if (l = new U({\n        id: e,\n        portal: {\n          url: o\n        }\n      }), await l.load(t), l.portal.user) return P(l);\n    } catch (u) {\n      d(u);\n    }\n    return {\n      features: {\n        edit: r,\n        fullEdit: i\n      },\n      content: {\n        updateItem: a\n      }\n    };\n  }\n  async _internalApplyEdits(e, t) {\n    await R(this.url);\n    const s = t?.globalIdUsed ?? !1,\n      a = f.fromJSON(this.sourceJSON.spatialReference),\n      {\n        edits: o,\n        options: n\n      } = await this._processApplyEditsParams(e, t),\n      l = await Promise.all(o.map(async e => {\n        const t = e.addFeatures?.map(e => h({\n            spatialReference: a\n          }, e, null)) ?? [],\n          r = (await Promise.all(t)).filter(i),\n          o = r.length > 0 ? r : null,\n          n = e.updateFeatures?.map(e => h({\n            spatialReference: a\n          }, e, null)) ?? [],\n          l = (await Promise.all(n)).filter(i),\n          u = l.length > 0 ? l : null,\n          p = g(e.identifierFields, e.deleteFeatures, s),\n          d = p.length > 0 ? p : null;\n        V(o, u, a);\n        const c = await v(e.identifierFields, e);\n        let m = null;\n        if (c) {\n          m = {\n            adds: c.adds.length > 0 ? c.adds : void 0,\n            updates: c.updates.length > 0 ? c.updates : void 0,\n            deletes: c.deletes.length > 0 ? c.deletes : void 0\n          };\n        }\n        return {\n          id: e.id,\n          adds: o,\n          updates: u,\n          deletes: d,\n          attachments: m\n        };\n      })),\n      u = {\n        gdbVersion: n?.gdbVersion,\n        rollbackOnFailure: !0,\n        useGlobalIds: s,\n        returnEditMoment: !0,\n        honorSequenceOfEdits: n?.honorSequenceOfEdits,\n        usePreviousEditMoment: n?.usePreviousEditMoment,\n        returnServiceEditsInSourceSR: !1,\n        returnServiceEditsOption: \"originalAndCurrentFeatures\",\n        async: !1\n      };\n    await L(this.url, t?.gdbVersion, !0);\n    const p = M(this.url, t?.gdbVersion || null);\n    u.edits = JSON.stringify(l);\n    const d = O(this.url),\n      c = k(d.query, {\n        query: T({\n          ...u,\n          f: \"json\"\n        }),\n        method: \"post\"\n      });\n    let m;\n    p && (c.authMode = \"immediate\", c.query.sessionId = _);\n    try {\n      m = await r(this.url + \"/applyEdits\", c);\n    } catch (y) {\n      if (!b(y)) throw y;\n      c.authMode = \"immediate\", m = await r(this.url + \"/applyEdits\", c);\n    }\n    return {\n      ...z(m),\n      edits: o\n    };\n  }\n  async _processApplyEditsParams(e, t) {\n    const s = {\n      ...t\n    };\n    return {\n      edits: await Promise.all(e.map(async e => {\n        const s = this.effectiveCapabilities,\n          r = e && (e.addFeatures || e.updateFeatures || e.deleteFeatures),\n          i = e && (e.addAttachments || e.updateAttachments || e.deleteAttachments);\n        if (j(e, s, t, !!r, !!i, \"feature-service\"), !s.data.isDataVersioned && t?.gdbVersion) throw new a(\"feature-service:invalid-parameter\", \"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");\n        const o = w(e, s, \"feature-service\");\n        return {\n          ...(await F(o)),\n          id: e.id,\n          identifierFields: e.identifierFields\n        };\n      })),\n      options: s\n    };\n  }\n  async _fetchService(e, t) {\n    if (this.sourceJSON) return void this.read(this.sourceJSON, {\n      url: O(e)\n    });\n    const s = await r(e, {\n      responseType: \"json\",\n      query: {\n        f: \"json\"\n      },\n      ...t\n    });\n    this.read(s.data, {\n      url: O(e)\n    });\n  }\n  async _fetchLayersAndTables(e) {\n    const t = `${e}/layers`,\n      s = await r(t, {\n        responseType: \"json\",\n        query: {\n          f: \"json\"\n        }\n      });\n    return {\n      layers: s.data.layers.map(e => {\n        const {\n            type: t,\n            geometryType: s\n          } = e,\n          r = x(this.url, e),\n          i = C(e, r.url);\n        return {\n          ...r,\n          type: t || \"Feature Layer\",\n          geometryType: s,\n          capabilities: i\n        };\n      }),\n      tables: s.data.tables.map(e => {\n        const t = x(this.url, e),\n          s = C(e, t.url);\n        return {\n          ...t,\n          capabilities: s\n        };\n      })\n    };\n  }\n};\nfunction z(e) {\n  const t = e.data,\n    s = [];\n  return {\n    results: t.map(e => {\n      const t = {\n          addResults: e.addResults ?? [],\n          updateResults: e.updateResults ?? [],\n          deleteResults: e.deleteResults ?? [],\n          attachments: e.attachments,\n          editMoment: e.editMoment\n        },\n        r = S(t),\n        i = e.editedFeatures,\n        a = i?.spatialReference ? new f({\n          wkid: i?.spatialReference.wkid,\n          wkt: i?.spatialReference.wkt,\n          latestWkid: i?.spatialReference.latestWkid,\n          latestVcsWkid: i?.spatialReference.latestVcsWkid,\n          vcsWkid: i?.spatialReference.vcsWkid\n        }) : null,\n        o = i ? E(i, a) : null;\n      return o && s.push({\n        layerId: e.id,\n        editedFeatures: o\n      }), {\n        id: e.id,\n        editedFeatures: o,\n        ...r\n      };\n    }),\n    editedFeatures: s\n  };\n}\ne([c()], G.prototype, \"url\", void 0), e([c()], G.prototype, \"sourceJSON\", void 0), e([c()], G.prototype, \"userHasFullEditingPrivileges\", void 0), e([c()], G.prototype, \"userHasUpdateItemPrivileges\", void 0), e([c({\n  readOnly: !0\n})], G.prototype, \"utilityNetworkUrl\", null), e([c({\n  readOnly: !0\n})], G.prototype, \"versionManagementServiceUrl\", null), e([c()], G.prototype, \"userTypeExtensions\", void 0), e([c({\n  json: {\n    read: {\n      source: [\"layers\"]\n    }\n  }\n})], G.prototype, \"layerInfos\", void 0), e([m(\"layerInfos\", [\"layers\"])], G.prototype, \"readLayerInfos\", null), e([c({\n  json: {\n    read: {\n      source: [\"tables\"]\n    }\n  }\n})], G.prototype, \"tableInfos\", void 0), e([m(\"tableInfos\", [\"tables\"])], G.prototype, \"readTableInfos\", null), e([c({\n  readOnly: !0,\n  json: {\n    read: {\n      source: [\"hasVersionedData\", \"capabilities\", \"supportsQueryDataElements\", \"supportsQueryDomains\", \"supportsQueryContingentValues\", \"maxRecordCountFactor\", \"maxRecordCount\", \"advancedEditingCapabilities\", \"supportsApplyEditsWithGlobalIds\", \"syncCapabilities\", \"datesInUnknownTimezone\"]\n    }\n  }\n})], G.prototype, \"capabilities\", void 0), e([m(\"capabilities\", [\"hasVersionedData\", \"capabilities\", \"supportsQueryDataElements\", \"supportsQueryDomains\", \"supportsQueryContingentValues\", \"maxRecordCountFactor\", \"maxRecordCount\", \"advancedEditingCapabilities\", \"supportsApplyEditsWithGlobalIds\", \"syncCapabilities\", \"datesInUnknownTimezone\"])], G.prototype, \"readCapabilities\", null), e([c({\n  readOnly: !0\n})], G.prototype, \"effectiveCapabilities\", null), G = e([y(\"esri.rest.featureService.FeatureService\")], G);\nconst B = G;\nexport { B as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { parse as e } from \"../../layers/support/arcgisLayerUrl.js\";\nimport r from \"./FeatureService.js\";\nconst t = (s, o) => {\n  for (const u of s) if (\"feature\" === u.type || \"subtype-group\" === u.type) {\n    if (!u.url) continue;\n    const t = e(u.url).url.path,\n      s = o.get(t);\n    if (s) s.layers.push(u);else {\n      const e = new r({\n          url: t\n        }),\n        s = [u];\n      o.set(t, {\n        featureService: e,\n        layers: s\n      });\n    }\n  } else \"group\" === u.type && t(u.layers, o);\n};\nfunction s(e) {\n  const r = new Map();\n  return t(e, r), r;\n}\nexport { s as createFeatureServices };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../core/Collection.js\";\nimport r from \"../core/Error.js\";\nimport { JSONSupportMixin as s } from \"../core/JSONSupport.js\";\nimport i from \"../core/Loadable.js\";\nimport n from \"../core/Logger.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as a } from \"../core/accessorSupport/decorators/subclass.js\";\nlet c = class extends s(i) {\n  constructor(e) {\n    super(e), this.versionManagementService = null, this.featureServiceUrl = null, this.url = null, this.currentVersion = null, this.currentVersionInfo = null, this.versionInfos = [], this.versionableItems = new t(), this.usePersistentReadSessions = !1, this.state = \"lock-none\";\n  }\n  initialize() {\n    this.url = this.versionManagementService.url, this.featureServiceUrl = this.url.replace(/\\/VersionManagementServer/i, \"/FeatureServer\"), this.addHandles([this.versionableItems.on(\"before-add\", e => {\n      if (e.item.featureServiceUrl.toLowerCase() !== this.featureServiceUrl.toLowerCase()) return e.preventDefault(), void n.getLogger(this).error(\"#add()\", \"Cannot add versionAdapter, feature service urls do not match.\");\n    }), this.versionableItems.on(\"before-remove\", e => {\n      if (0 === this.versionableItems.items.length && this.currentVersion && \"name\" in this.currentVersion && \"none\" !== this.versionManagementService.getLockType(this.currentVersion)) return e.preventDefault(), void n.getLogger(this).error(\"#remove()\", \"Cannot remove last versionAdapter.\");\n    })]);\n  }\n  load(e) {\n    return this.addResolvingPromise(this._setUpState(e)), Promise.resolve(this);\n  }\n  get defaultVersionIdentifier() {\n    return this.versionManagementService.defaultVersionIdentifier;\n  }\n  get isDefault() {\n    return !this.currentVersion || !!this.currentVersion && \"name\" in this.currentVersion && this.currentVersion.name === this.defaultVersionIdentifier.name;\n  }\n  async getVersionInfos(e = !1) {\n    return e && (this.versionInfos = await this.versionManagementService.getVersionInfos()), this.versionInfos;\n  }\n  async alterVersion(e, t) {\n    if (this.currentVersion && \"guid\" in this.currentVersion && e.guid === this.currentVersion.guid) return !1;\n    const r = await this.versionManagementService.alterVersion(e, t);\n    return r && (await this.getVersionInfos(!0)), r;\n  }\n  async deleteVersion(e) {\n    if (this.currentVersion && \"guid\" in this.currentVersion && e.guid === this.currentVersion.guid) return !1;\n    const t = await this.versionManagementService.deleteVersion(e);\n    return t && (await this.getVersionInfos(!0)), t;\n  }\n  async getVersionInfoExtended() {\n    return this.currentVersion && \"name\" in this.currentVersion ? this.versionManagementService.getVersionInfoExtended(this.currentVersion) : this.versionManagementService.getVersionInfoExtended(this.defaultVersionIdentifier);\n  }\n  async startEditing() {\n    if (this._isDefaultOrHistoricVersion()) return {\n      success: !1\n    };\n    if (!this.usePersistentReadSessions) {\n      const e = await this.versionManagementService.startReadingWithResult(this.currentVersion);\n      if (!e.success) return e;\n      this.state = \"lock-read\";\n    }\n    const e = await this.versionManagementService.startEditingWithResult(this.currentVersion);\n    return e.success && (this.state = \"lock-write\"), e;\n  }\n  async stopEditing(e) {\n    if (this._isDefaultOrHistoricVersion()) return {\n      success: !1\n    };\n    const t = await this.versionManagementService.stopEditingWithResult(this.currentVersion, e);\n    if (!t.success) return t;\n    if (this.state = \"lock-read\", !this.usePersistentReadSessions) {\n      const e = await this.versionManagementService.stopReadingWithResult(this.currentVersion);\n      return e.success && (this.state = \"lock-none\"), e;\n    }\n    return t;\n  }\n  async changeVersion(e) {\n    let t = null;\n    if (this.usePersistentReadSessions) {\n      if (this._isDefaultOrHistoricVersion(e)) e && \"name\" in e ? (t = await this.versionManagementService.getVersionInfoExtended(e), this.state = \"public\" === t?.access ? \"lock-none\" : \"lock-read\") : this.state = \"lock-read\";else if (!(await this.versionManagementService.startReading(e))) throw new r(\"Failed to acquire read lock for version: \" + e);\n      this._isDefaultOrHistoricVersion(this.currentVersion) || (await this.versionManagementService.stopReading(this.currentVersion));\n    }\n    const s = await this.versionManagementService.changeVersionWithResult(this.versionableItems, this.currentVersion, e);\n    let i = !1;\n    return s.forEach((e, t) => {\n      i = i || e.success;\n    }), i && (this.currentVersion = e, this.currentVersionInfo = t || (await this.getVersionInfoExtended()), this._isDefaultOrHistoricVersion() ? this.currentVersion && \"name\" in this.currentVersion ? this.state = \"public\" === this.currentVersionInfo?.access ? \"lock-none\" : \"lock-read\" : this.state = \"lock-read\" : this.state = \"read\" !== this.versionManagementService.getLockType(this.currentVersion) ? \"lock-none\" : \"lock-read\"), s;\n  }\n  async undo() {\n    return this._isDefaultOrHistoricVersion() ? {\n      success: !1\n    } : (this.versionManagementService.undo(this.currentVersion), {\n      success: !0\n    });\n  }\n  async redo() {\n    return this._isDefaultOrHistoricVersion() ? {\n      success: !1\n    } : (this.versionManagementService.redo(this.currentVersion), {\n      success: !0\n    });\n  }\n  async _setUpState(e) {\n    await this.versionManagementService.load(e), this.state = \"lock-none\", this.currentVersionInfo = await this.getVersionInfoExtended(), this.versionableItems.forEach(e => {\n      this.currentVersion ? \"name\" in this.currentVersion ? (e.gdbVersion = this.currentVersion.name, e.historicMoment = null) : (e.historicMoment = this.currentVersion, e.gdbVersion = null) : (e.gdbVersion = null, e.historicMoment = null);\n    }), this.usePersistentReadSessions && (this._isDefaultOrHistoricVersion() ? this.currentVersion && \"name\" in this.currentVersion ? this.state = \"public\" === this.currentVersionInfo?.access ? \"lock-none\" : \"lock-read\" : this.state = \"lock-read\" : (await this.versionManagementService.startReading(this.currentVersion)) && (this.state = \"lock-read\"));\n  }\n  _isDefaultOrHistoricVersion(e = this.currentVersion) {\n    return !(e && \"name\" in e) || e.name === this.versionManagementService.defaultVersionIdentifier.name;\n  }\n};\ne([o()], c.prototype, \"versionManagementService\", void 0), e([o()], c.prototype, \"featureServiceUrl\", void 0), e([o()], c.prototype, \"url\", void 0), e([o()], c.prototype, \"currentVersion\", void 0), e([o()], c.prototype, \"currentVersionInfo\", void 0), e([o()], c.prototype, \"versionInfos\", void 0), e([o()], c.prototype, \"versionableItems\", void 0), e([o()], c.prototype, \"usePersistentReadSessions\", void 0), e([o()], c.prototype, \"state\", void 0), e([o({\n  readOnly: !0\n})], c.prototype, \"defaultVersionIdentifier\", null), e([o({\n  readOnly: !0\n})], c.prototype, \"isDefault\", null), c = e([a(\"esri.versionManagement.VersioningState\")], c);\nconst u = c;\nexport { u as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t) {\n    this.moments = [], this.forwardMoments = [], this.moments.push(t);\n  }\n  push(t) {\n    return this.forwardMoments.length, this.moments.push(t);\n  }\n  pop() {\n    if (!(this.forwardMoments.length > 0)) return this.moments.pop();\n  }\n  undo() {\n    if (!this.canUndo()) return;\n    const t = this.moments.pop();\n    return this.forwardMoments.push(t), t;\n  }\n  peek() {\n    return this.moments.at(-1);\n  }\n  canUndo() {\n    return this.moments.length > 1;\n  }\n  canRedo() {\n    return this.hasForwardEdits();\n  }\n  redo() {\n    if (!this.canRedo()) return;\n    const t = this.forwardMoments.pop();\n    return this.moments.push(t), t;\n  }\n  size() {\n    return this.moments.length + this.forwardMoments.length;\n  }\n  hasForwardEdits() {\n    return this.forwardMoments.length > 0;\n  }\n  clearForwardEdits() {\n    this.forwardMoments = [];\n  }\n}\nexport { t as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport \"../../core/accessorSupport/interfaces.js\";\nimport \"../../core/accessorSupport/tracking/Flags.js\";\nimport \"../../core/Warning.js\";\nimport \"../../core/Error.js\";\nclass t {\n  constructor(e) {\n    this.versionableItem = e, this.type = \"featureLayer\";\n  }\n  get gdbVersion() {\n    return this.versionableItem.gdbVersion;\n  }\n  set gdbVersion(e) {\n    this.versionableItem.gdbVersion = e;\n  }\n  get historicMoment() {\n    return this.versionableItem.historicMoment;\n  }\n  set historicMoment(e) {\n    this.versionableItem.historicMoment = e;\n  }\n  get featureServiceUrl() {\n    const e = /^(.*\\/FeatureServer)\\/\\d+$/;\n    return this.versionableItem.url.replace(e, \"$1\");\n  }\n}\ne([r({\n  readOnly: !0\n})], t.prototype, \"type\", void 0), e([r()], t.prototype, \"gdbVersion\", null), e([r({\n  type: Date\n})], t.prototype, \"historicMoment\", null), e([r({\n  readOnly: !0\n})], t.prototype, \"featureServiceUrl\", null);\nexport { t as FeatureLayerVersionAdapter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport \"../../core/accessorSupport/interfaces.js\";\nimport \"../../core/accessorSupport/tracking/Flags.js\";\nimport \"../../core/Warning.js\";\nimport \"../../core/Error.js\";\nclass t {\n  constructor(e) {\n    this.versionableItem = e, this.type = \"network\";\n  }\n  get gdbVersion() {\n    return this.versionableItem.gdbVersion;\n  }\n  set gdbVersion(e) {\n    this.versionableItem.gdbVersion = e;\n  }\n  get historicMoment() {\n    return this.versionableItem.historicMoment;\n  }\n  set historicMoment(e) {\n    this.versionableItem.historicMoment = e;\n  }\n  get featureServiceUrl() {\n    return this.versionableItem.featureServiceUrl;\n  }\n}\ne([r({\n  readOnly: !0\n})], t.prototype, \"type\", void 0), e([r()], t.prototype, \"gdbVersion\", null), e([r({\n  type: Date\n})], t.prototype, \"historicMoment\", null), e([r({\n  readOnly: !0\n})], t.prototype, \"featureServiceUrl\", null);\nexport { t as NetworkVersionAdapter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport \"../../core/accessorSupport/interfaces.js\";\nimport \"../../core/accessorSupport/tracking/Flags.js\";\nimport \"../../core/Warning.js\";\nimport \"../../core/Error.js\";\nclass t {\n  constructor(e) {\n    this.versionableItem = e, this.type = \"subtypeGroupLayer\";\n  }\n  get gdbVersion() {\n    return this.versionableItem.gdbVersion;\n  }\n  set gdbVersion(e) {\n    this.versionableItem.gdbVersion = e;\n  }\n  get historicMoment() {\n    return this.versionableItem.historicMoment;\n  }\n  set historicMoment(e) {\n    this.versionableItem.historicMoment = e;\n  }\n  get featureServiceUrl() {\n    const e = /^(.*\\/FeatureServer)\\/\\d+$/;\n    return this.versionableItem.url.replace(e, \"$1\");\n  }\n}\ne([r({\n  readOnly: !0\n})], t.prototype, \"type\", void 0), e([r()], t.prototype, \"gdbVersion\", null), e([r({\n  type: Date\n})], t.prototype, \"historicMoment\", null), e([r({\n  readOnly: !0\n})], t.prototype, \"featureServiceUrl\", null);\nexport { t as SubTypeGroupLayerVersionAdapter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { isLayerFromCatalog as e } from \"../../layers/catalog/catalogUtils.js\";\nimport { FeatureLayerVersionAdapter as r } from \"./FeatureLayerVersionAdapter.js\";\nimport { NetworkVersionAdapter as t } from \"./NetworkVersionAdapter.js\";\nimport { SubTypeGroupLayerVersionAdapter as o } from \"./SubTypeGroupLayerVersionAdapter.js\";\nfunction n(n) {\n  return \"networkServiceUrl\" in n ? new t(n) : \"feature\" !== n.type || e(n) ? \"subtype-group\" !== n.type || e(n) ? null : new o(n) : new r(n);\n}\nfunction p(e) {\n  const r = [];\n  for (const t of e) if (\"group\" === t.type) {\n    const e = t,\n      o = e.allTables.concat(e.allLayers);\n    for (const t of o) if (\"feature\" === t.type || \"subtype-group\" === t.type) {\n      const e = n(t);\n      e && r.push(e);\n    }\n  } else {\n    const e = n(t);\n    e && r.push(e);\n  }\n  return r;\n}\nexport { p as createVersionAdapters };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../request.js\";\nimport r from \"../core/Error.js\";\nimport { JSONSupportMixin as s } from \"../core/JSONSupport.js\";\nimport i from \"../core/Loadable.js\";\nimport { removeTrailingSlash as n, Url as o } from \"../core/urlUtils.js\";\nimport { property as a } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { reader as u } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as l } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as c } from \"../core/accessorSupport/decorators/writer.js\";\nimport { onApplyEditsEvent as d, emitUpdateMomentEvent as m } from \"../layers/mixins/EditBusLayer.js\";\nimport { parseUrl as f } from \"../rest/utils.js\";\nimport g from \"./support/EditMomentStack.js\";\nimport { versionCollection as h, versionCollectionCount as p, defaultVersionNameLookup as V, currentSessionId as v } from \"./support/versionManagementUtils.js\";\nimport { createVersionAdapters as y } from \"./versionAdapters/utils.js\";\nlet w = class extends s(i) {\n  constructor(e) {\n    super(e), this.url = null, this.sourceJSON = null, this.name = null, this.defaultVersionIdentifier = null, this.capabilities = null, this._isDefault = e => !e || e === this.defaultVersionIdentifier.name, this._dateEquals = (e, t) => !e && !t || !(!e || !t) && e.toISOString() === t.toISOString(), this._applyEditsHandler = e => {\n      const {\n        serviceUrl: t,\n        gdbVersion: r,\n        result: s\n      } = e;\n      t === this._featureServiceUrl && s.then(e => {\n        const t = e.historicMoment;\n        t && this._addMomentToVersionItem(r, t);\n      });\n    };\n  }\n  initialize() {\n    this.url = n(this.url), this._featureServiceUrl = this.url.replace(/\\/VersionManagementServer/i, \"/FeatureServer\"), h.has(this.url) || h.set(this.url, new Map());\n    const e = (p.get(this.url) ?? 0) + 1;\n    p.set(this.url, e), this.when().then(() => this.addHandles(d(this._applyEditsHandler)), () => {});\n  }\n  destroy() {\n    const e = (p.get(this.url) ?? 1) - 1;\n    p.set(this.url, e), 0 === e && h.delete(this.url), V.delete(this._featureServiceUrl);\n  }\n  read(e, t) {\n    this.sourceJSON = e, super.read(e, t);\n  }\n  readDefaultVersionIdentifier(e, t) {\n    return {\n      name: t.defaultVersionName,\n      guid: t.defaultVersionGuid\n    };\n  }\n  writeDefaultVersionIdentifier(e, t) {\n    t.defaultVersionName = e.name, t.defaultVersionGuid = e.guid;\n  }\n  load(e) {\n    return this.addResolvingPromise(this._fetchService(this.url, e)), Promise.resolve(this);\n  }\n  async createVersion(e) {\n    const [{\n        createVersion: t\n      }, {\n        default: r\n      }] = await Promise.all([import(\"../rest/versionManagement/createVersion.js\"), import(\"../rest/versionManagement/support/CreateVersionParameters.js\")]),\n      s = r.from(e);\n    return t(this.url, s);\n  }\n  async deleteVersion(e) {\n    const [{\n      deleteVersion: t\n    }, {\n      default: r\n    }] = await Promise.all([import(\"../rest/versionManagement/deleteVersion.js\"), import(\"../rest/versionManagement/support/DeleteVersionParameters.js\")]);\n    let s;\n    e.guid && h.get(this.url)?.has(e.guid) && (s = v ?? void 0);\n    const i = new r({\n      versionName: e.name,\n      sessionId: s\n    });\n    return t(this.url, i);\n  }\n  async getVersionInfoExtended(e) {\n    const {\n      getVersion: t\n    } = await import(\"../rest/versionManagement/getVersion.js\");\n    return t(this.url, e.guid);\n  }\n  async getVersionInfos(e = {}) {\n    const [{\n        getVersionInfos: t\n      }, {\n        default: r\n      }] = await Promise.all([import(\"../rest/versionManagement/getVersionInfos.js\"), import(\"../rest/versionManagement/support/GetVersionInfosParameters.js\")]),\n      s = r.from(e);\n    return t(this.url, s);\n  }\n  async reconcile(e, t = {}) {\n    const [{\n        reconcile: r\n      }, {\n        default: s\n      }] = await Promise.all([import(\"../rest/versionManagement/gdbVersion/reconcile.js\"), import(\"../rest/versionManagement/gdbVersion/support/ReconcileParameters.js\")]),\n      i = s.from(t);\n    return i.sessionId = v, r(this.url, e.guid, i);\n  }\n  async post(e) {\n    const [{\n        post: t\n      }, {\n        default: r\n      }] = await Promise.all([import(\"../rest/versionManagement/gdbVersion/post.js\"), import(\"../rest/versionManagement/gdbVersion/support/PostParameters.js\")]),\n      s = r.from({\n        sessionId: v\n      });\n    return t(this.url, e.guid, s);\n  }\n  async alterVersion(e, t) {\n    const [{\n        alterVersion: r\n      }, {\n        default: s\n      }] = await Promise.all([import(\"../rest/versionManagement/gdbVersion/alterVersion.js\"), import(\"../rest/versionManagement/gdbVersion/support/AlterVersionParameters.js\")]),\n      i = s.from(t);\n    return r(this.url, e.guid, i);\n  }\n  async startReading(e) {\n    return (await this.startReadingWithResult(e)).success;\n  }\n  async startReadingWithResult(e) {\n    const {\n        startReading: t\n      } = await import(\"../rest/versionManagement/gdbVersion/startReading.js\"),\n      r = await t(this.url, e.guid, v);\n    if (r.success) {\n      const t = await this.getVersionInfoExtended(e),\n        r = new Date(t.modifiedDate),\n        s = {\n          name: t.versionIdentifier.name,\n          moment: r,\n          lockType: \"read\"\n        };\n      this._addOrUpdateItem(e.guid, s), m(this._featureServiceUrl, null, e.name, r);\n    }\n    return r;\n  }\n  async stopReading(e) {\n    return (await this.stopReadingWithResult(e)).success;\n  }\n  async stopReadingWithResult(e) {\n    const {\n        stopReading: t\n      } = await import(\"../rest/versionManagement/gdbVersion/stopReading.js\"),\n      r = await t(this.url, e.guid, v);\n    return r.success && (h.get(this.url)?.delete(e.guid), m(this._featureServiceUrl, null, e.name, null)), r;\n  }\n  async startEditing(e) {\n    return (await this.startEditingWithResult(e)).success;\n  }\n  async startEditingWithResult(e) {\n    const {\n        startEditing: t\n      } = await import(\"../rest/versionManagement/gdbVersion/startEditing.js\"),\n      r = await t(this.url, e.guid, v);\n    if (r.success) {\n      const t = await this.getVersionInfoExtended(e),\n        r = new Date(t.modifiedDate),\n        s = new g(r),\n        i = {\n          name: e.name,\n          moment: r,\n          lockType: \"edit\",\n          stack: s\n        };\n      this._addOrUpdateItem(e.guid, i), m(this._featureServiceUrl, null, e.name, r);\n    }\n    return r;\n  }\n  async stopEditing(e, t) {\n    return (await this.stopEditingWithResult(e, t)).success;\n  }\n  async stopEditingWithResult(e, t) {\n    if (t) {\n      const t = h.get(this.url)?.get(e.guid);\n      if (t?.stack?.canRedo()) {\n        const [{\n            deleteForwardEdits: r\n          }, {\n            default: s\n          }] = await Promise.all([import(\"../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"), import(\"../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),\n          i = await r(this.url, e.guid, new s({\n            sessionId: v,\n            moment: t.moment\n          }));\n        if (!i.success) return i;\n      }\n    }\n    const {\n        stopEditing: r\n      } = await import(\"../rest/versionManagement/gdbVersion/stopEditing.js\"),\n      s = await r(this.url, e.guid, v, t);\n    if (s.success) {\n      const t = await this.getVersionInfoExtended(e),\n        r = new Date(t.modifiedDate);\n      this._addOrUpdateItem(e.guid, {\n        name: e.name,\n        moment: r,\n        lockType: \"read\",\n        editMomentStack: void 0\n      }), m(this._featureServiceUrl, null, e.name, r);\n    }\n    return s;\n  }\n  getLockType(e) {\n    const t = h.get(this.url)?.get(e.guid)?.lockType;\n    return t ?? \"none\";\n  }\n  async changeVersion(e, t, s) {\n    if (s && \"name\" in s && !(await this.getVersionInfoExtended(s))) throw new r(\"version-management-service:invalid-version\", \"version does not exist\");\n    if (\"networkServiceUrl\" in e) {\n      if (this._featureServiceUrl.toLowerCase() === e.featureServiceUrl.toLowerCase()) return this._changeVersionInternal(e, t, s);\n    } else {\n      let r;\n      \"layers\" in e ? (r = e.allTables.concat(e.allLayers), e.utilityNetworks && e.utilityNetworks.forEach(e => {\n        this._featureServiceUrl.toLowerCase() === e.featureServiceUrl.toLowerCase() && this._changeVersionInternal(e, t, s);\n      })) : r = e;\n      for (const e of r) if (\"feature\" === e.type || \"subtype-group\" === e.type) {\n        const r = /^(.*\\/FeatureServer)\\/\\d+$/,\n          i = e.url.replace(r, \"$1\");\n        if (this._featureServiceUrl.toLowerCase() === i.toLowerCase() && !this._changeVersionInternal(e, t, s)) return !1;\n      } else if (\"group\" === e.type) {\n        const r = e.allTables.concat(e.allLayers);\n        for (const e of r) if (\"feature\" === e.type || \"subtype-group\" === e.type) {\n          const r = /^(.*\\/FeatureServer)\\/\\d+$/,\n            i = e.url.replace(r, \"$1\");\n          if (this._featureServiceUrl.toLowerCase() === i.toLowerCase() && !this._changeVersionInternal(e, t, s)) return !1;\n        }\n      }\n    }\n    return !0;\n  }\n  async changeVersionWithResult(e, t, r) {\n    let s;\n    if (\"layers\" in e) {\n      const t = y(e.allTables.concat(e.allLayers).filter(e => \"group\" !== e.type).toArray());\n      e.utilityNetworks && e.utilityNetworks.forEach(e => {\n        const r = y([e]);\n        t.push(...r);\n      }), s = t;\n    } else s = e;\n    if (r && \"name\" in r) {\n      if (!(await this.getVersionInfoExtended(r))) {\n        const e = new Map();\n        for (const t of s) e.set(t, {\n          success: !1\n        });\n        return e;\n      }\n    }\n    if (t && \"name\" in t) {\n      if (\"none\" !== this.getLockType(t)) {\n        const e = new Map();\n        for (const t of s) e.set(t, {\n          success: !1\n        });\n        return e;\n      }\n    }\n    const i = new Map();\n    for (const n of s) if (n) if (n.featureServiceUrl.toLowerCase() === this._featureServiceUrl.toLowerCase()) {\n      const e = this._changeVersionInternalWithResult(n, t, r);\n      i.set(n, e);\n    } else i.set(n, {\n      success: !1\n    });\n    return i;\n  }\n  async getVersionIdentifierFromName(e) {\n    try {\n      const t = await this.getVersionInfos({\n        includeHidden: !0\n      });\n      return t.find(t => t.versionIdentifier.name === e)?.versionIdentifier || null;\n    } catch {\n      return null;\n    }\n  }\n  async getVersionIdentifierFromGuid(e) {\n    const {\n      getVersion: t\n    } = await import(\"../rest/versionManagement/getVersion.js\");\n    try {\n      return (await t(this.url, e)).versionIdentifier;\n    } catch {\n      return null;\n    }\n  }\n  canUndo(e) {\n    const t = h.get(this.url)?.get(e.guid);\n    return !!t?.stack?.canUndo();\n  }\n  canRedo(e) {\n    const t = h.get(this.url)?.get(e.guid);\n    return !!t?.stack?.canRedo();\n  }\n  undo(e) {\n    const t = h.get(this.url)?.get(e.guid),\n      r = t?.stack?.undo() || void 0;\n    if (t && r) {\n      const r = t.stack.peek();\n      m(this._featureServiceUrl, null, e.name, r), h.get(this.url)?.set(e.guid, {\n        ...t,\n        moment: r\n      });\n    }\n  }\n  redo(e) {\n    const t = h.get(this.url)?.get(e.guid),\n      r = t?.stack?.redo() || void 0;\n    t && r && (m(this._featureServiceUrl, null, e.name, r), h.get(this.url)?.set(e.guid, {\n      ...t,\n      moment: r\n    }));\n  }\n  _setUpData(e, t) {\n    let s = null,\n      i = null,\n      n = null,\n      o = null;\n    const a = e => {\n      const t = h?.get(this.url)?.get(e.guid);\n      n = e.name, o = t?.moment ?? null;\n    };\n    if (e && \"name\" in e) {\n      if (\"none\" !== this.getLockType(e)) throw new r(\"version-management-service:version-locked\", \"version is locked\");\n      s = e.name, i = null, t && \"name\" in t ? a(t) : (n = this.defaultVersionIdentifier.name, o = t);\n    } else s = this.defaultVersionIdentifier.name, i = e, t && \"name\" in t ? a(t) : (n = this.defaultVersionIdentifier.name, o = t);\n    return {\n      fromVersionName: s,\n      fromMoment: i,\n      toVersionName: n,\n      toMoment: o\n    };\n  }\n  _changeVersionInternal(e, t, r) {\n    try {\n      const {\n        fromVersionName: s,\n        fromMoment: i,\n        toVersionName: n,\n        toMoment: o\n      } = this._setUpData(t, r);\n      (this._isDefault(s) && this._isDefault(e.gdbVersion) && this._dateEquals(e.historicMoment, i) || s === e.gdbVersion && this._dateEquals(e.historicMoment, i)) && (e.gdbVersion = n, e.historicMoment = o);\n    } catch (s) {\n      return !1;\n    }\n    return !0;\n  }\n  _changeVersionInternalWithResult(e, t, r) {\n    try {\n      const {\n        fromVersionName: s,\n        fromMoment: i,\n        toVersionName: n,\n        toMoment: o\n      } = this._setUpData(t, r);\n      return this._isDefault(s) && this._isDefault(e.gdbVersion) && this._dateEquals(e.historicMoment, i) || s === e.gdbVersion && this._dateEquals(e.historicMoment, i) ? (e.gdbVersion = n, e.historicMoment = o, {\n        success: !0\n      }) : {\n        success: !1\n      };\n    } catch (s) {\n      return {\n        success: !1\n      };\n    }\n  }\n  _addMomentToVersionItem(e, t) {\n    const r = h.get(this.url);\n    if (r) for (const [s, i] of r) {\n      i.name === e && this._addToStack(s, t);\n    }\n  }\n  _addToStack(e, t) {\n    const r = h.get(this.url),\n      s = r?.get(e);\n    return !!s?.stack && (I(s.stack.peek(), t) && s.stack.push(t), r.set(e, {\n      ...s,\n      moment: t\n    }), !0);\n  }\n  _addOrUpdateItem(e, t) {\n    const r = h.get(this.url),\n      s = r?.get(e);\n    return s ? (r.set(e, {\n      ...s,\n      ...t\n    }), !0) : !(!t.name || !t.lockType) && (r?.set(e, {\n      ...t,\n      lockType: t.lockType\n    }), !0);\n  }\n  async _fetchService(e, r) {\n    if (this.sourceJSON) {\n      this.read(this.sourceJSON, {\n        origin: \"service\",\n        url: f(e)\n      });\n      const t = new o(this.url).host;\n      return void V.set(t, this.defaultVersionIdentifier.name);\n    }\n    const s = await t(e, {\n      responseType: \"json\",\n      query: {\n        f: \"json\"\n      },\n      ...r\n    });\n    this.read(s.data);\n  }\n};\nfunction I(e, t) {\n  if (e) {\n    return e.getTime() < t.getTime();\n  }\n  return !0;\n}\ne([a()], w.prototype, \"url\", void 0), e([a()], w.prototype, \"sourceJSON\", void 0), e([a({\n  type: String,\n  json: {\n    write: !0\n  }\n})], w.prototype, \"name\", void 0), e([a({\n  json: {\n    write: {\n      target: {\n        defaultVersionName: {\n          type: String\n        },\n        defaultVersionGuid: {\n          type: String\n        }\n      }\n    },\n    read: {\n      source: [\"defaultVersionName\", \"defaultVersionGuid\"]\n    }\n  }\n})], w.prototype, \"defaultVersionIdentifier\", void 0), e([u(\"defaultVersionIdentifier\", [\"defaultVersionName\", \"defaultVersionGuid\"])], w.prototype, \"readDefaultVersionIdentifier\", null), e([c(\"defaultVersionIdentifier\", {\n  defaultVersionName: {\n    type: String\n  },\n  defaultVersionGuid: {\n    type: String\n  }\n})], w.prototype, \"writeDefaultVersionIdentifier\", null), e([a({\n  json: {\n    write: !0\n  }\n})], w.prototype, \"capabilities\", void 0), w = e([l(\"esri.versionManagement.VersionManagementService\")], w);\nconst S = w;\nexport { S as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../core/Collection.js\";\nimport { makeHandle as r } from \"../core/handleUtils.js\";\nimport t from \"../core/Logger.js\";\nimport { getOrCreateMapValue as o } from \"../core/MapUtils.js\";\nimport n from \"../rest/featureService/FeatureService.js\";\nimport s from \"./VersioningState.js\";\nimport i from \"./VersionManagementService.js\";\nimport { createVersionAdapters as a } from \"./versionAdapters/utils.js\";\nasync function c(r, t) {\n  let o;\n  if (\"layers\" in r) {\n    const e = a(r.allTables.concat(r.allLayers).filter(e => \"group\" !== e.type).toArray());\n    r.utilityNetworks && r.utilityNetworks.forEach(r => {\n      const t = a([r]);\n      e.push(...t);\n    }), o = e;\n  } else o = new e(r);\n  const c = new Map();\n  for (const n of o) {\n    const r = c.get(n.featureServiceUrl);\n    r ? r.push(n) : c.set(n.featureServiceUrl, new e([n]));\n  }\n  const l = new e();\n  for (const [e, a] of c) {\n    const r = new n({\n      url: e\n    });\n    if (await r.load(), !r.versionManagementServiceUrl) continue;\n    const o = new i({\n      url: r.versionManagementServiceUrl\n    });\n    l.push(new s({\n      versionManagementService: o,\n      versionableItems: a,\n      usePersistentReadSessions: t\n    }));\n  }\n  return l;\n}\nconst l = new Map();\nasync function f(e, n = !1) {\n  const s = await c(e.map, n);\n  return o(l, e, () => (e.addHandles(r(() => {\n    l.delete(e), s.forEach(e => e.destroy());\n  })), s.forEach(e => e.load().catch(e => {\n    t.getLogger(\"esri.versionManagement.VersioningState\").error(\"Failed to load Versioning State\", e);\n  })), s));\n}\nexport { c as createVersioningStates, f as getVersioningStates };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Accessor.js\";\nimport o from \"../../core/Collection.js\";\nimport t from \"../../core/Error.js\";\nimport i from \"../../core/Logger.js\";\nimport { watch as n, on as s } from \"../../core/reactiveUtils.js\";\nimport { removeTrailingSlash as a } from \"../../core/urlUtils.js\";\nimport { property as d } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as u } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as v } from \"../../core/support/UpdatingHandles.js\";\nimport { getOwningPortalUrl as p } from \"../../layers/support/layerUtils.js\";\nimport l from \"../../portal/Portal.js\";\nimport { hasUserTypeExtension as h } from \"../../portal/support/utils.js\";\nimport c from \"../../rest/featureService/FeatureService.js\";\nimport { createFeatureServices as m } from \"../../rest/featureService/utils.js\";\nimport { getVersioningStates as g } from \"../../versionManagement/utils.js\";\nimport w from \"../../versionManagement/VersioningState.js\";\nimport f from \"../../versionManagement/VersionManagementService.js\";\nimport { createVersionAdapters as E } from \"../../versionManagement/versionAdapters/utils.js\";\nlet _ = class extends r {\n  constructor(e) {\n    super(e), this._portalLookup = new Map(), this._updatingHandlesLoad = new v(), this._updatingHandlesExecute = new v(), this.advancedEditingUserTypeExtensionLookup = new Map(), this.executionError = void 0, this.featureServiceLookup = new Map(), this.loadError = void 0, this.serverVersionLookup = new Map(), this.serviceNameLookup = new Map(), this.userLookup = new Map(), this.versionIdentifierLookup = new Map(), this.versionInfoLookup = new Map(), this.versionManagementServiceLookup = new Map(), this.versioningStateLookup = new Map(), this.view = null, this.versioningStates = null;\n  }\n  initialize() {\n    this._viewChangeHandle(), this.addHandles([n(() => this.view, () => {\n      this._resetAllLookupProperties(), this._viewChangeHandle();\n    }), n(() => this.versioningStates, () => {\n      this._resetVersioningLookupProperties(), this._setVersioningStatesLookups();\n    })]);\n  }\n  destroy() {\n    this._updatingHandlesLoad.destroy(), this._updatingHandlesExecute.destroy();\n  }\n  get state() {\n    return this._updatingHandlesLoad.updating ? \"loading\" : this.loadError ? \"disabled\" : this._updatingHandlesExecute.updating ? \"executing\" : this.executionError ? \"failed\" : \"ready\";\n  }\n  async alterVersion(e) {\n    return this._updatingHandlesExecute.addPromise(this._alterVersionInternal(e));\n  }\n  async changeVersion(e, r, o) {\n    return this._updatingHandlesExecute.addPromise(this._changeVersionInternal(e, r, o));\n  }\n  async createVersion(e) {\n    return this._updatingHandlesExecute.addPromise(this._createVersionInternal(e));\n  }\n  async deleteVersion(e, r, o) {\n    return this._updatingHandlesExecute.addPromise(this._deleteVersionInternal(e, r, o));\n  }\n  async getVersionInfos(e) {\n    return this._updatingHandlesExecute.addPromise(this._getVersionInfosInternal(e));\n  }\n  async _alterVersionInternal(e) {\n    if (\"disabled\" === this.state) throw this._logError(\"version-management-view-model:load-error\", this.loadError), new t(\"version-management-view-model:load-error\", this.loadError);\n    this._setExecutionError();\n    const r = this.versioningStateLookup.get(e.featureServerUrl);\n    if (!r) throw this._logError(\"version-management-view-model:execution-error\", \"no-versioning-state-found\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    if (!this.serverVersionLookup.has(e.featureServerUrl) || this.serverVersionLookup.get(e.featureServerUrl) <= 11.1) throw this._logError(\"version-management-view-model:execution-error\", \"no-valid-enterprise-version\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    if (!this.advancedEditingUserTypeExtensionLookup.get(e.featureServerUrl)) throw this._logError(\"version-management-view-model:execution-error\", \"no-advanced-editing-user-type-extension\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    const {\n        featureServerUrl: o,\n        versionIdentifier: i,\n        ...n\n      } = e,\n      s = await r.alterVersion(i, n).catch(e => {\n        throw this._logExecutionError(e), e;\n      });\n    return await this.getVersionInfos(o), s;\n  }\n  async _changeVersionInternal(e, r, o) {\n    if (\"disabled\" === this.state) throw this._logError(\"version-management-view-model:load-error\", this.loadError), new t(\"version-management-view-model:load-error\", this.loadError);\n    this._setExecutionError();\n    const i = this.versioningStateLookup.get(e);\n    if (!i) throw this._logError(\"version-management-view-model:execution-error\", \"no-versioning-state-found\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    const n = {\n      name: r,\n      guid: o\n    };\n    return await i.changeVersion(n).catch(e => {\n      throw this._logExecutionError(e), e;\n    });\n  }\n  _updateVersionableItems(e) {\n    this._updatingHandlesLoad.addPromise((async () => {\n      E(e.added).forEach(e => {\n        const r = e.featureServiceUrl,\n          o = this.versioningStateLookup.get(r);\n        o && (o.versionableItems.find(r => r.versionableItem === e.versionableItem) || o.versionableItems.add(e));\n      });\n      E(e.removed).forEach(e => {\n        const r = e.featureServiceUrl,\n          o = this.versioningStateLookup.get(r);\n        if (!o) return void this._logError(\"version-management-view-model:execution-error\", \"no-version-management-service-found\");\n        const t = o.versionableItems.find(r => r.versionableItem === e.versionableItem);\n        t && o.versionableItems.remove(t);\n      });\n    })());\n  }\n  async _createVersionInternal(e) {\n    if (\"disabled\" === this.state) throw this._logError(\"version-management-view-model:load-error\", this.loadError), new t(\"version-management-view-model:load-error\", this.loadError);\n    this._setExecutionError();\n    const r = e.featureServerUrl,\n      o = this.versioningStateLookup.get(r);\n    if (!o) throw this._logError(\"version-management-view-model:execution-error\", \"no-versioning-state-found\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    const i = this.advancedEditingUserTypeExtensionLookup.get(e.featureServerUrl),\n      n = this.userLookup.get(r).toUpperCase(),\n      s = this._isEmptyString(e.ownerName) ? n : e.ownerName?.trim().toUpperCase();\n    if (s !== n) {\n      if (this.serverVersionLookup.get(r) <= 11.1) throw this._logError(\"version-management-view-model:execution-error\", \"versioning-api-error\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n      if (!i) throw this._logError(\"version-management-view-model:execution-error\", \"no-advanced-editing-user-type-extension\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    }\n    let a = await this.versioningStateLookup.get(r)?.getVersionInfos();\n    if (\"SDE\" === s?.toUpperCase() && \"DEFAULT\" === e.versionName.toUpperCase() || a?.find(r => r.versionIdentifier.name.toUpperCase() === (s + \".\" + e.versionName).toUpperCase() || r.versionIdentifier.name.toUpperCase() === (n + \".\" + e.versionName).toUpperCase())) throw this._logError(\"version-management-view-model:execution-error\", \"no-valid-version-name\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    const d = await o.versionManagementService.createVersion({\n      versionName: e.versionName,\n      access: s !== n ? \"public\" : e.access,\n      description: e.description\n    }).catch(e => {\n      throw this._logExecutionError(e), e;\n    });\n    if (s !== n) {\n      const {\n          guid: o,\n          name: t\n        } = d.versionIdentifier,\n        i = {\n          featureServerUrl: r,\n          versionIdentifier: {\n            guid: o,\n            name: t\n          },\n          access: e.access,\n          ownerName: s\n        };\n      (await this.alterVersion(i)) || this.deleteVersion(r, n + \".\" + e.versionName, d.versionIdentifier.guid);\n    }\n    return await this.getVersionInfos(r), a = await this.versioningStateLookup.get(r)?.getVersionInfos(), a?.find(e => e.versionIdentifier.guid === d.versionIdentifier.guid);\n  }\n  async _deleteVersionInternal(e, r, o) {\n    if (\"disabled\" === this.state) throw this._logError(\"version-management-view-model:load-error\", this.loadError), new t(\"version-management-view-model:load-error\", this.loadError);\n    this._setExecutionError();\n    const i = this.versioningStateLookup.get(e);\n    if (!i) throw this._logError(\"version-management-view-model:execution-error\", \"no-versioning-state-found\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    if (this.serverVersionLookup.get(e) <= 11.1) throw this._logError(\"version-management-view-model:execution-error\", \"versioning-api-error\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    if (!this.advancedEditingUserTypeExtensionLookup.get(e)) throw this._logError(\"version-management-view-model:execution-error\", \"no-advanced-editing-user-type-extension\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    const n = {\n      name: r,\n      guid: o\n    };\n    return await i.deleteVersion(n).catch(e => {\n      throw this._logExecutionError(e), new t(\"version-management-view-model:execution-error\", this.executionError);\n    });\n  }\n  async _getVersionInfosInternal(e) {\n    if (\"disabled\" === this.state) throw this._logError(\"version-management-view-model:load-error\", this.loadError), new t(\"version-management-view-model:load-error\", this.loadError);\n    this._setExecutionError();\n    const r = this.featureServiceLookup.get(e)?.featureService;\n    if (!r) throw this._logError(\"version-management-view-model:execution-error\", \"no-feature-service-found\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    r.loaded || (await r.load().catch(e => {\n      throw this._logExecutionError(e), e;\n    }));\n    const o = r.url;\n    this.serverVersionLookup.set(o, r.sourceJSON?.currentVersion ?? 0), this.serverVersionLookup.get(o) <= 11.1 && this.advancedEditingUserTypeExtensionLookup.set(o, !1);\n    const i = this.userLookup.get(e);\n    this._portalLookup.get(e) && i ? this.advancedEditingUserTypeExtensionLookup.set(o, await h(this._portalLookup.get(e), i, \"advediting\")) : this.advancedEditingUserTypeExtensionLookup.set(o, !1);\n    const n = this.versioningStateLookup.get(e);\n    if (!n) throw this._logError(\"version-management-view-model:execution-error\", \"no-versioning-state-found\"), new t(\"version-management-view-model:execution-error\", this.executionError);\n    n.loaded || (await n.load().catch(e => {\n      throw this._logExecutionError(e), e;\n    }));\n    return await n.getVersionInfos(!0).catch(e => {\n      throw this._logExecutionError(e), e;\n    });\n  }\n  _isEmptyString(e) {\n    return !e || 0 === e.trim().length;\n  }\n  _logError(e, r) {\n    switch (i.getLogger(this).error(new t(e, r)), e) {\n      case \"version-management-view-model:load-error\":\n        this._setLoadError(r);\n        break;\n      case \"version-management-view-model:execution-error\":\n        this._setExecutionError(r);\n    }\n  }\n  _logExecutionError(e) {\n    this._logError(\"version-management-view-model:execution-error\", e.message);\n  }\n  async _viewChangeHandle() {\n    this._updatingHandlesLoad.addPromise((async () => {\n      if (this._setLoadError(), !this.view) return void this._setLoadError(\"no-view-property\");\n      if (this.view && \"2d\" !== this.view.type) return void this._logError(\"version-management-view-model:load-error\", \"sceneView-not-supported\");\n      this.removeHandles(\"map-change-handle\"), this.addHandles([n(() => this.view?.map, () => {\n        this._resetAllLookupProperties(), this._mapChangeHandle(this.versioningStates);\n      })], \"map-change-handle\");\n      const e = await this._getVersioningStates();\n      await this._mapChangeHandle(e);\n    })());\n  }\n  async _mapChangeHandle(e) {\n    this._updatingHandlesLoad.addPromise((async () => {\n      this._setLoadError(), this.removeHandles(\"map-layers-tables-change-handle\"), this.addHandles([s(() => this.view?.map.allLayers, \"change\", e => {\n        (e.added.some(({\n          type: e\n        }) => \"feature\" === e) || e.removed.some(({\n          type: e\n        }) => \"feature\" === e) || e.added.some(({\n          type: e\n        }) => \"subtype-group\" === e) || e.removed.some(({\n          type: e\n        }) => \"subtype-group\" === e)) && (this._resetServiceRelatedLookupProperties(), this._propertiesChangeInternal(this.versioningStates), this._updateVersionableItems(e));\n      }), s(() => this.view?.map.allTables, \"change\", e => {\n        (e.added.some(({\n          type: e\n        }) => \"feature\" === e) || e.removed.some(({\n          type: e\n        }) => \"feature\" === e) || e.added.some(({\n          type: e\n        }) => \"subtype-group\" === e) || e.removed.some(({\n          type: e\n        }) => \"subtype-group\" === e)) && (this._resetServiceRelatedLookupProperties(), this._propertiesChangeInternal(this.versioningStates), this._updateVersionableItems(e));\n      })], \"map-layers-tables-change-handle\"), await this._propertiesChangeInternal(e);\n    })());\n  }\n  async _propertiesChangeInternal(e) {\n    this._updatingHandlesLoad.addPromise((async () => {\n      const r = e => \"feature\" === e.type,\n        {\n          allLayers: o,\n          allTables: t\n        } = this.view.map;\n      if (this._setLoadError(), this.featureServiceLookup = m([...o.filter(r), ...t.filter(r)]), this.featureServiceLookup.size) {\n        this._updateFeatureServiceLookup(e), this.serviceNameLookup = new Map();\n        for (const e of this.featureServiceLookup.values()) {\n          const {\n            featureService: r,\n            featureService: {\n              url: o\n            }\n          } = e;\n          if (!this.serviceNameLookup.has(o)) {\n            if (r.loaded || (await r.load().catch(e => {\n              i.getLogger(this).error(e);\n            })), !r.versionManagementServiceUrl) {\n              this.featureServiceLookup.delete(o);\n              continue;\n            }\n            const e = await p(o),\n              t = new l({\n                authMode: \"immediate\",\n                url: e\n              });\n            await t.load().catch(e => {\n              i.getLogger(this).error(e);\n            });\n            const n = t.user?.username;\n            if (!r.loaded || !t.loaded || !n) continue;\n            this.serviceNameLookup.set(a(o), o.split(\"/\").at(-2)), this.userLookup.set(o, n), this._portalLookup.set(o, t);\n          }\n        }\n        this.removeHandles(\"versioning-states-change-handle\"), e.forEach(e => this._handleVersioningStateLookupUpdate(e)), await this._updateVersioningStates(e), this.versioningStates = e;\n      } else this._logError(\"version-management-view-model:load-error\", \"no-feature-services\");\n    })());\n  }\n  _updateFeatureServiceLookup(e) {\n    for (const r of e) {\n      const e = r.featureServiceUrl;\n      if (!this.featureServiceLookup.has(e)) {\n        const o = new c({\n            url: e\n          }),\n          t = r.versionableItems.toArray().flatMap(e => \"network\" === e.type ? null : e.versionableItem);\n        this.featureServiceLookup.set(e, {\n          featureService: o,\n          layers: t\n        });\n      }\n    }\n  }\n  async _updateVersioningStates(e) {\n    for (const r of this.featureServiceLookup.values()) {\n      const t = r.featureService;\n      if (!t.versionManagementServiceUrl) continue;\n      if (!e.find(e => e.featureServiceUrl === t.url) && t.versionManagementServiceUrl) {\n        const i = new o(E(r.layers)),\n          n = new w({\n            versionManagementService: new f({\n              url: t.versionManagementServiceUrl\n            }),\n            versionableItems: i\n          });\n        e.add(n), this._handleVersioningStateLookupUpdate(n);\n      }\n      await this.getVersionInfos(t.url);\n    }\n  }\n  async _getVersioningStates() {\n    return this.versioningStates && this.versioningStates.length ? this.versioningStates : this.view ? await g(this.view, !1) : (this._logError(\"version-management-view-model:load-error\", \"no-view-property\"), new o());\n  }\n  _handleVersioningStateLookupUpdate(e) {\n    this.versioningStateLookup.set(e.featureServiceUrl, e), this._addHandlesToVersioningState(e), this.versionIdentifierLookup.set(e.featureServiceUrl, e.currentVersionInfo?.versionIdentifier), this.versionManagementServiceLookup.set(e.featureServiceUrl, e.versionManagementService);\n  }\n  async _setVersioningStatesLookups() {\n    this._updatingHandlesLoad.addPromise((async () => {\n      this.versioningStates && (this.removeHandles(\"versioning-states-change-handle\"), this._updateFeatureServiceLookup(this.versioningStates), this.versioningStates.forEach(e => this._handleVersioningStateLookupUpdate(e)), await this._updateVersioningStates(this.versioningStates));\n    })());\n  }\n  _addHandlesToVersioningState(e) {\n    this.addHandles([n(() => e.versionInfos, () => {\n      this.versionInfoLookup.set(e.featureServiceUrl, e.versionInfos);\n    }), n(() => e.currentVersionInfo?.versionIdentifier, () => {\n      this.versionIdentifierLookup.set(e.featureServiceUrl, e.currentVersionInfo?.versionIdentifier);\n    })], \"versioning-states-change-handle\");\n  }\n  _resetVersioningLookupProperties() {\n    this.versionIdentifierLookup = new Map(), this.versionInfoLookup = new Map(), this.versionManagementServiceLookup = new Map(), this.versioningStateLookup = new Map();\n  }\n  _resetAllLookupProperties() {\n    this._portalLookup = new Map(), this.advancedEditingUserTypeExtensionLookup = new Map(), this.serverVersionLookup = new Map(), this.userLookup = new Map(), this.versioningStates = new o(), this._resetVersioningLookupProperties(), this._resetServiceRelatedLookupProperties();\n  }\n  _resetServiceRelatedLookupProperties() {\n    this.featureServiceLookup = new Map(), this.serviceNameLookup = new Map();\n  }\n  _setExecutionError(e) {\n    this._set(\"executionError\", e);\n  }\n  _setLoadError(e) {\n    this._set(\"loadError\", e);\n  }\n};\ne([d()], _.prototype, \"_portalLookup\", void 0), e([d()], _.prototype, \"advancedEditingUserTypeExtensionLookup\", void 0), e([d({\n  readOnly: !0\n})], _.prototype, \"executionError\", void 0), e([d()], _.prototype, \"featureServiceLookup\", void 0), e([d({\n  readOnly: !0\n})], _.prototype, \"loadError\", void 0), e([d()], _.prototype, \"serverVersionLookup\", void 0), e([d()], _.prototype, \"serviceNameLookup\", void 0), e([d({\n  readOnly: !0\n})], _.prototype, \"state\", null), e([d()], _.prototype, \"userLookup\", void 0), e([d()], _.prototype, \"versionIdentifierLookup\", void 0), e([d()], _.prototype, \"versionInfoLookup\", void 0), e([d()], _.prototype, \"versionManagementServiceLookup\", void 0), e([d()], _.prototype, \"versioningStateLookup\", void 0), e([d()], _.prototype, \"view\", void 0), e([d()], _.prototype, \"versioningStates\", void 0), _ = e([u(\"esri.widgets.VersionManagement.VersionManagementViewModel\")], _);\nconst L = _;\nexport { L as default };"],
  "mappings": "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",
  "names": ["x", "e", "t", "s", "Q", "n", "r", "i", "a", "o", "c", "l", "u", "S", "m", "p", "d", "f", "y", "V", "t", "s", "o", "u", "d", "e", "r", "c", "e", "t", "r", "s", "i", "a", "u", "t", "t", "e", "t", "e", "t", "e", "n", "t", "a", "p", "e", "r", "o", "e", "t", "r", "s", "a", "n", "i", "u", "p", "o", "I", "f", "S", "c", "r", "t", "o", "e", "p", "n", "l", "a", "S", "u", "f", "s", "e", "r", "o", "s", "i", "n", "p", "t", "a", "d", "x", "u", "S", "f"]
}
