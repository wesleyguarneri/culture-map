{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/interactive/SegmentLabels.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/SegmentLabels3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/meshFastUpdateUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/geometryUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/tooltipUtils3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/GrabbingState.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineObjectVisualElementUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/originGeometryVisualElementUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYObjectManipulation.js", "../../../../../../node_modules/@arcgis/core/views/interactive/tooltip/infos/TranslateXYTooltipInfo.js", "../../../../../../node_modules/@arcgis/core/views/interactive/tooltip/infos/TranslateZTooltipInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/move/MoveTool3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshape/edgeOffsetUtils.js", "../../../../../../node_modules/@arcgis/core/views/interactive/tooltip/infos/ReshapeEdgeOffsetTooltipInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshape/reshapeTooltipUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshape/ReshapeOperation.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshape/ReshapeTool3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/ScaleRotateMeshAdapter.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/ScaleRotateObjectSymbol3DAdapter.js", "../../../../../../node_modules/@arcgis/core/views/interactive/tooltip/infos/TransformAbsoluteTooltipInfo.js", "../../../../../../node_modules/@arcgis/core/views/interactive/tooltip/infos/TransformRotateTooltipInfo.js", "../../../../../../node_modules/@arcgis/core/views/interactive/tooltip/infos/TransformScaleTooltipInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/ScaleRotateTransform.js", "../../../../../../node_modules/@arcgis/core/views/interactive/tooltip/infos/TransformMeshTooltipInfo.js", "../../../../../../node_modules/@arcgis/core/views/interactive/tooltip/infos/TransformPointTooltipInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/TransformTool3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/ExtentMove.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/ExtentRotate.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/extentUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/ExtentScale.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/PreserveAspectRatio.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/extentTransform/SnapRotation.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/ExtentTransformTool.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/undoRecords.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatedObject3DGraphic.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../Color.js\";\nimport o from \"../../core/Accessor.js\";\nimport { createTask as s } from \"../../core/asyncUtils.js\";\nimport { multiplyOpacity as r, getContrast as i, BrightnessThreshold as n } from \"../../core/colorUtils.js\";\nimport { makeHandle as l } from \"../../core/handleUtils.js\";\nimport \"../../core/has.js\";\nimport { deg2rad as a } from \"../../core/mathUtils.js\";\nimport { throwIfAborted as c } from \"../../core/promiseUtils.js\";\nimport { formatLength as p } from \"../../core/quantityFormatUtils.js\";\nimport { watch as h, on as m } from \"../../core/reactiveUtils.js\";\nimport { createScreenPointArray as d } from \"../../core/screenUtils.js\";\nimport { getMetersPerUnit as u, getMetersPerVerticalUnitForSR as f } from \"../../core/unitUtils.js\";\nimport { property as g } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as b } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { squaredDistance as x, set as _, normalize as y, scale as v, lerp as j, add as L } from \"../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as U } from \"../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { G as I } from \"../../chunks/vec32.js\";\nimport { isClockwise as C } from \"../../geometry/support/coordsUtils.js\";\nimport { sv3d as w } from \"../../geometry/support/vectorStacks.js\";\nimport { fetchMessageBundle as k } from \"../../intl/messages.js\";\nimport { getConvertedElevationFromVector as S, absoluteHeightElevationInfo as D } from \"../../support/elevationInfoUtils.js\";\nimport { getDefaultUnitForView as O } from \"../../support/getDefaultUnitForView.js\";\nimport P from \"../overlay/TextOverlayItem.js\";\nimport { autoDistance2D as V } from \"../support/automaticLengthMeasurementUtils.js\";\nconst G = 3025,\n  M = {\n    default: 15,\n    far: 25\n  };\nlet A = class extends o {\n  constructor(t) {\n    super(t), this.context = null, this.stagedVertex = null, this.visible = !0, this.edgeDistance = \"default\", this._messagesUnits = null, this._labelInfos = [], this._nextLabelIndex = 0;\n  }\n  initialize() {\n    const t = s(async t => {\n      const e = await k(\"esri/core/t9n/Units\");\n      c(t), this._messagesUnits = e;\n    });\n    this.addHandles([h(() => [null != this.context && this.getCameraOrExtent(this.context), this.visible, this._edgeDistancePixels, this.stagedVertex, this._messagesUnits], () => this._update()), ...[\"vertex-add\", \"vertex-update\", \"vertex-remove\"].map(t => m(() => this.context?.editGeometryOperations, t, () => this._update())), l(() => t.abort()), h(() => this._colors, t => this._updateStyle(t))]);\n  }\n  destroy() {\n    for (this._nextLabelIndex = 0; this._labelInfos.length;) this._destroyLabel(this._labelInfos.pop());\n  }\n  get updating() {\n    return null == this._messagesUnits;\n  }\n  get test() {}\n  get _edgeDistancePixels() {\n    return M[this.edgeDistance];\n  }\n  get _colors() {\n    const t = this.context?.view.effectiveTheme.textColor ?? e.fromArray([255, 255, 255]);\n    return {\n      textColor: t,\n      backgroundColor: r(i(t, n.Low), .6)\n    };\n  }\n  _update() {\n    if (this.destroyed) return;\n    this._nextLabelIndex = 0;\n    const {\n      context: t,\n      stagedVertex: e\n    } = this;\n    if (!t) return this._destroyUnusedLabels();\n    const {\n        editGeometryOperations: o\n      } = t,\n      {\n        components: s,\n        geometry: r,\n        coordinateHelper: i\n      } = o.data;\n    if (!r) return this._destroyUnusedLabels();\n    const n = s.length;\n    for (let l = 0; l < n; ++l) {\n      const s = R(r, o, e, i, l);\n      if (s.length < 2 || !q(s, t.view, t.elevationInfo, i.spatialReference)) continue;\n      const a = 1 === n && !C(s);\n      let c = T,\n        p = X;\n      this.toScreenPointArray(t, s[0], c);\n      for (let e = 1; e < s.length; ++e) {\n        const o = s[e - 1],\n          r = s[e];\n        this.toScreenPointArray(t, r, p), this._addLabel(t, o, c, r, p, a), [c, p] = [p, c];\n      }\n    }\n    this._destroyUnusedLabels();\n  }\n  _updateStyle({\n    textColor: t,\n    backgroundColor: e\n  }) {\n    const o = this._nextLabelIndex,\n      s = this._labelInfos;\n    for (let r = 0; r < o; ++r) {\n      const {\n        label: o\n      } = s[r];\n      o.textColor = t, o.backgroundColor = e;\n    }\n  }\n  _addLabel(t, e, o, s, r, i) {\n    const {\n      label: n\n    } = this._getOrCreateLabel(t);\n    if (!this.visible || x(o, r) < G) return void (n.visible = !1);\n    const {\n        spatialReference: l\n      } = t.editGeometryOperations.data,\n      a = V(e, s, l),\n      c = this._messagesUnits,\n      h = O(t.view);\n    n.text = null != c && null != a ? p(c, a, h) : \"\", n.visible = !0;\n    const m = r[0] - o[0],\n      d = r[1] - o[1];\n    i ? _(F, -d, m) : _(F, d, -m), y(F, F), v(F, F, this._edgeDistancePixels), j(H, o, r, .5), L(H, H, F), n.position = [H[0], H[1]], Math.abs(F[0]) > Math.abs(F[1]) ? n.anchor = F[0] > 0 ? \"left\" : \"right\" : n.anchor = -F[1] < 0 ? \"top\" : \"bottom\";\n  }\n  _getOrCreateLabel(t) {\n    const e = this._labelInfos.length > this._nextLabelIndex,\n      {\n        textColor: o,\n        backgroundColor: s\n      } = this._colors;\n    if (e) {\n      const t = this._labelInfos[this._nextLabelIndex++],\n        {\n          label: e\n        } = t;\n      return e.textColor = o, e.backgroundColor = s, t;\n    }\n    const r = new P({\n      anchor: \"center\",\n      fontSize: 8,\n      textColor: o,\n      backgroundColor: s\n    });\n    t.view.overlay?.items.add(r);\n    const i = {\n      label: r\n    };\n    return this._labelInfos.push(i), this._nextLabelIndex = this._labelInfos.length, i;\n  }\n  _destroyUnusedLabels() {\n    for (; this._labelInfos.length > this._nextLabelIndex;) this._destroyLabel(this._labelInfos.pop());\n  }\n  _destroyLabel({\n    label: t\n  }) {\n    this.context?.view.overlay?.items.remove(t), t.destroy();\n  }\n};\nfunction R(t, e, o, s, r) {\n  const i = [];\n  if (e.data.components[r].iterateVertices(t => {\n    i.push(s.toXYZ(t.pos, w.get()));\n  }), 0 === r && null != o && i.push(s.toXYZ(o, w.get())), i.length < 2) return i;\n  const n = i[0],\n    l = i[i.length - 1];\n  return \"polygon\" === t.type && i.length > 2 && !I(n, l) && i.push(n), i;\n}\nfunction q(t, e, o, s) {\n  if (\"2d\" === e.type) return !0;\n  const r = u(s) ?? 1,\n    i = f(s),\n    n = t => S(e, t, s, o, D) ?? 0;\n  for (let l = 1; l < t.length; ++l) {\n    const e = t[l - 1],\n      o = t[l],\n      s = (o[0] - e[0]) * r,\n      a = (o[1] - e[1]) * r,\n      c = (n(o) - n(e)) * i;\n    if (Math.abs(c) / Math.sqrt(s * s + a * a) > z) return !1;\n  }\n  return !0;\n}\nt([g()], A.prototype, \"context\", void 0), t([g()], A.prototype, \"stagedVertex\", void 0), t([g()], A.prototype, \"visible\", void 0), t([g()], A.prototype, \"edgeDistance\", void 0), t([g()], A.prototype, \"updating\", null), t([g()], A.prototype, \"_messagesUnits\", void 0), t([g()], A.prototype, \"_edgeDistancePixels\", null), t([g()], A.prototype, \"_colors\", null), A = t([b(\"esri.views.interactive.SegmentLabels\")], A);\nconst z = a(5),\n  F = U(),\n  H = U(),\n  T = d(),\n  X = d();\nexport { A as SegmentLabels };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { createScreenPointArray as r } from \"../../../core/screenUtils.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/RandomLCG.js\";\nimport \"../../../core/Error.js\";\nimport { subclass as t } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as o } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { SegmentLabels as s } from \"../../interactive/SegmentLabels.js\";\nimport { vectorToRender as i } from \"../../interactive/support/viewUtils.js\";\nlet a = class extends s {\n  getCameraOrExtent({\n    view: e\n  }) {\n    return e.state.camera;\n  }\n  toScreenPointArray({\n    view: e,\n    elevationInfo: t,\n    editGeometryOperations: o\n  }, s, a = r()) {\n    const {\n      spatialReference: m\n    } = o.data.coordinateHelper;\n    return i(s, m, t, e, c), e.state.camera.projectToScreen(c, a), a;\n  }\n};\na = e([t(\"esri.views.3d.interactive.SegmentLabels3D\")], a);\nconst c = o();\nexport { a as SegmentLabels3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { makeHandle as s } from \"../../../../core/handleUtils.js\";\nimport { watch as i, syncAndInitial as e } from \"../../../../core/reactiveUtils.js\";\nimport { MeshTransformUpdateAction as r } from \"../../../../layers/graphics/sources/interfaces.js\";\nfunction a(a) {\n  const t = a.graphic;\n  return t ? [i(() => \"visible\" in a ? a.visible : a.displaying, s => {\n    s && t.notifyMeshTransformChanged({\n      action: r.EnableFastUpdates\n    });\n  }, {\n    ...e\n  }), s(() => t.notifyMeshTransformChanged({\n    action: r.DisableFastUpdates\n  }))] : [];\n}\nexport { a as meshTransformFastUpdateHandles };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport { unitRGBAFromColor as t } from \"../../../../../core/colorUtils.js\";\nimport { handlesGroup as i, makeHandle as s } from \"../../../../../core/handleUtils.js\";\nimport { destroyMaybe as r } from \"../../../../../core/maybe.js\";\nimport { watch as o, when as n, syncAndInitial as a, initial as l } from \"../../../../../core/reactiveUtils.js\";\nimport { property as c } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as m } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { s as p } from \"../../../../../chunks/vec32.js\";\nimport { create as h } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getEffectiveElevationInfo as u, getEffectiveElevationMode as d } from \"../../../../../support/elevationInfoUtils.js\";\nimport v from \"../../../../../symbols/support/ElevationInfo.js\";\nimport { SegmentLabels3D as f } from \"../../SegmentLabels3D.js\";\nimport { SnappingVisualizer3D as g } from \"../../SnappingVisualizer3D.js\";\nimport { meshTransformFastUpdateHandles as w } from \"../meshFastUpdateUtils.js\";\nimport { Settings as y } from \"../settings.js\";\nimport { ExtendedLineVisualElement as V } from \"../../visualElements/ExtendedLineVisualElement.js\";\nimport { OutlineVisualElement as E } from \"../../visualElements/OutlineVisualElement.js\";\nimport { VerticesVisualElement as _ } from \"../../visualElements/VerticesVisualElement.js\";\nimport { evaluateElevationAlignmentAtPoint as j } from \"../../../layers/graphics/elevationAlignmentUtils.js\";\nimport { ElevationContext as I } from \"../../../layers/graphics/ElevationContext.js\";\nimport { GraphicState as L } from \"../../../layers/graphics/GraphicState.js\";\nimport { RenderOccludedFlag as S } from \"../../../webgl-engine/lib/Material.js\";\nimport { DrawGraphicTool as D, geometryTypeToDrawOperationGeometryType as G } from \"../../../../draw/DrawGraphicTool.js\";\nimport { DrawOperation as x } from \"../../../../draw/DrawOperation.js\";\nimport { SceneDrawSurface as C, ElevationDrawSurface as O } from \"../../../../draw/drawSurfaces.js\";\nimport { updateMeshTransformFromTooltipInfo as T } from \"../../../../interactive/tooltip/tooltipCommonUtils.js\";\nimport { autorun as b } from \"../../../../../core/accessorSupport/trackingUtils.js\";\nlet z = class extends D {\n  constructor(e) {\n    super(e), this._activeVertexVisualElement = null, this._createGraphicState = null, this._outlineVisualElement = null, this._verticesVisualElement = null, this._verticalLineVisualElement = null, this._settings = new y({\n      getTheme: () => this.view.effectiveTheme\n    }), this.geometryType = null, this.type = \"draw-3d\";\n  }\n  initialize() {\n    const {\n      mode: e,\n      offset: t,\n      unit: i\n    } = this.elevationInfo;\n    this.internalGraphicsLayer.elevationInfo = new v({\n      mode: e,\n      offset: t,\n      unit: i\n    });\n  }\n  normalizeCtorArgs(e) {\n    if (!e.elevationInfo) {\n      const t = e.hasZ ?? !0;\n      return {\n        ...e,\n        elevationInfo: u(t)\n      };\n    }\n    return e;\n  }\n  initializeGraphic(e) {\n    const {\n        view: t\n      } = this,\n      s = this._createGraphicState = new L({\n        graphic: e\n      });\n    return i([t.maskOccludee(e), t.trackGraphicState(s), o(() => ({\n      element: this._outlineVisualElement,\n      isDraped: s.isDraped\n    }), ({\n      element: e,\n      isDraped: t\n    }) => {\n      e && (e.isDraped = t);\n    }, a), b(() => {\n      T(this.tooltipInfos.mesh, this.geometryToPlace);\n    }), this._setupLoadingIndicator(s), ...w(s)]);\n  }\n  makeDrawOperation() {\n    const {\n        geometryType: e\n      } = this,\n      t = \"circle\" !== e && \"rectangle\" !== e;\n    return new x({\n      view: this.view,\n      manipulators: this.manipulators,\n      geometryType: G(e),\n      drawingMode: this.mode,\n      hasZ: this.hasZ,\n      defaultZ: this.defaultZ,\n      snapToSceneEnabled: this.snapToScene,\n      drawSurface: new C(this.view, this.elevationInfo, [this.internalGraphicsLayer]),\n      elevationDrawSurface: new O(this.elevationInfo, this.defaultZ, this.view, this.internalGraphicsLayer),\n      hasM: !1,\n      elevationInfo: this.elevationInfo,\n      snappingManager: this.snappingManager,\n      snappingVisualizer: new g(),\n      segmentLabels: t ? new f() : null,\n      labelOptions: this.sketchOptions.labels,\n      isDraped: this._createGraphicState ? this._createGraphicState.isDraped : \"on-the-ground\" === d(this.hasZ, this.elevationInfo),\n      cursor: this.cursor,\n      constraintsEnabled: !0\n    });\n  }\n  onActiveVertexChanged(e) {\n    const {\n      view: n\n    } = this;\n    if (this._activeVertexVisualElement) return this._activeVertexVisualElement.vertices = [e], this._activeVertexVisualElement.recreate(), this._updateVerticalLineVisualElement(e), s();\n    const a = this._settings,\n      c = a.manipulators.vertex,\n      m = new _({\n        view: n,\n        spatialReference: n.spatialReference,\n        vertices: [e],\n        elevationInfo: this.internalGraphicsLayer.elevationInfo,\n        size: c.size,\n        outlineSize: c.outlineSize,\n        renderOccluded: c.renderOccluded,\n        attached: !1,\n        isDecoration: !0\n      });\n    this._activeVertexVisualElement = m;\n    const p = a.visualElements.zVerticalLine,\n      h = new V({\n        view: n,\n        extensionType: p.extensionType,\n        innerWidth: 1,\n        attached: !1,\n        writeDepthEnabled: !1,\n        renderOccluded: S.OccludeAndTransparent,\n        isDecoration: !0\n      });\n    this._verticalLineVisualElement = h;\n    const u = i([o(() => a.visualElements.zVerticalLine, e => e.apply(h), l), o(() => ({\n      selectedColor: t(a.colors.selected),\n      outlineColor: t(a.manipulators.vertex.outlineColor)\n    }), ({\n      selectedColor: e,\n      outlineColor: t\n    }) => {\n      m.color = e, m.outlineColor = t;\n    }, l), s(() => {\n      this._activeVertexVisualElement = r(this._activeVertexVisualElement), this._verticalLineVisualElement = r(this._verticalLineVisualElement);\n    })]);\n    return m.attached = !0, this._updateVerticalLineVisualElement(e), u;\n  }\n  _updateVerticalLineVisualElement(e) {\n    const t = this._verticalLineVisualElement;\n    if (!t) return;\n    const {\n      renderCoordsHelper: i,\n      elevationProvider: s\n    } = this.view;\n    p(A, e[0], e[1], e[2]), U.setFromElevationInfo(this.elevationInfo), A[2] = j(A, s, U, i);\n    i.toRenderCoords(A, this.view.spatialReference, A) ? (t.setStartEndFromWorldDownAtLocation(A), t.attached = !0) : t.attached = !1;\n  }\n  onOutlineChanged(e) {\n    if (this._outlineVisualElement) return this._outlineVisualElement.geometry = e, s();\n    const t = this.internalGraphicsLayer.elevationInfo,\n      {\n        view: n\n      } = this,\n      a = this._settings,\n      c = new E({\n        view: n,\n        geometry: e,\n        elevationInfo: t,\n        isDraped: this._createGraphicState ? this._createGraphicState.isDraped : \"on-the-ground\" === d(this.hasZ, t),\n        attached: !1,\n        isDecoration: !0\n      });\n    this._outlineVisualElement = c;\n    const m = i([o(() => a.visualElements.lineObjects.outline, e => e.apply(c), l), o(() => a.visualElements.lineObjects.shadowStyle, e => e.apply(c), l), s(() => {\n      this._outlineVisualElement = r(this._outlineVisualElement);\n    })]);\n    return c.attached = !0, c.laserlineEnabled = !0, m;\n  }\n  onRegularVerticesChanged(e) {\n    if (this._verticesVisualElement) return this._verticesVisualElement.vertices = e, s();\n    const {\n        view: n\n      } = this,\n      a = this._settings,\n      c = a.manipulators.vertex,\n      m = new _({\n        view: n,\n        spatialReference: n.spatialReference,\n        vertices: e,\n        elevationInfo: this.internalGraphicsLayer.elevationInfo,\n        size: c.size,\n        outlineSize: c.outlineSize,\n        renderOccluded: c.renderOccluded,\n        attached: !1,\n        isDecoration: !0\n      }),\n      p = i([o(() => ({\n        color: t(a.manipulators.vertex.color),\n        outlineColor: t(a.manipulators.vertex.outlineColor)\n      }), ({\n        color: e,\n        outlineColor: t\n      }) => {\n        m.color = e, m.outlineColor = t;\n      }, l), s(() => {\n        this._verticesVisualElement = r(this._verticesVisualElement);\n      })]);\n    return m.attached = !0, this._verticesVisualElement = m, p;\n  }\n  updateGraphicGeometry(e) {\n    if (\"mesh\" !== this.geometryType || \"point\" !== e?.type) super.updateGraphicGeometry(e);else {\n      const t = this.geometryToPlace;\n      t?.centerAt(e), T(this.tooltipInfos.mesh, t);\n      const i = this._graphic;\n      t && i.geometry === t || (i.geometry = t);\n    }\n  }\n  _setupLoadingIndicator(e) {\n    const {\n      drawOperation: t\n    } = this;\n    if (!this.geometryToPlace) return t.loading = !1, null;\n    t.loading = !0;\n    const r = s(() => {\n      t.loading = !1;\n    });\n    let o;\n    const l = () => o && cancelAnimationFrame(o);\n    return i([n(() => e.displaying, () => {\n      l(), o = requestAnimationFrame(() => r.remove());\n    }, {\n      ...a,\n      once: !0\n    }), s(l), r]);\n  }\n};\ne([c({\n  constructOnly: !0\n})], z.prototype, \"elevationInfo\", void 0), e([c({\n  constructOnly: !0\n})], z.prototype, \"geometryType\", void 0), e([c()], z.prototype, \"type\", void 0), e([c({\n  constructOnly: !0\n})], z.prototype, \"view\", void 0), z = e([m(\"esri.views.3d.interactive.editingTools.draw.DrawGraphicTool3D\")], z);\nconst U = new I(),\n  A = h();\nexport { z as DrawGraphicTool3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromValues as t } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { getEpsilon as o } from \"../../../../core/libs/gl-matrix-2/math/common.js\";\nfunction n(o) {\n  const n = r(o);\n  return t(Math.cos(n), Math.sin(n));\n}\nfunction r(t) {\n  if (null == t || \"polyline\" !== t.type && \"polygon\" !== t.type) return 0;\n  const n = \"polyline\" === t.type ? t.paths : t.rings,\n    r = o();\n  for (const o of n) for (let t = 0; t < o.length - 1; t++) {\n    const n = o[t],\n      e = o[t + 1],\n      i = n[0] - e[0],\n      l = n[1] - e[1];\n    if (i * i + l * l > r) return Math.atan2(e[1] - n[1], e[0] - n[0]);\n  }\n  return 0;\n}\nexport { n as mainAxis, r as orientation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { handlesGroup as t } from \"../../../../core/handleUtils.js\";\nimport { watch as o, syncAndInitial as e, sync as i } from \"../../../../core/reactiveUtils.js\";\nimport { manipulatedObjectGeometry as n } from \"./manipulatedObjectUtils.js\";\nimport { AccumulationBehavior as r } from \"../../../interactive/editGeometry/interfaces.js\";\nimport { connectPasteEvent as s, updateMeshTransformFromTooltipInfo as c, getXYZDeltasFromTooltipInfo as a, updateTooltipInfoFromMeshTransform as l } from \"../../../interactive/tooltip/tooltipCommonUtils.js\";\nimport { elevationFromPoint as p } from \"../../../support/euclideanLengthMeasurementUtils.js\";\nfunction m(r, c, a) {\n  function l() {\n    const t = a(),\n      o = t.sketchOptions.tooltips.effectiveEnabled ? t.activeTooltipInfo : null;\n    return {\n      ...t,\n      activeTooltipInfo: o\n    };\n  }\n  let p = !1;\n  function m({\n    activeTooltipInfo: t,\n    sketchOptions: o\n  }) {\n    p = !0, t && (t.sketchOptions = o, v(t, c)), r.info = t, p = !1;\n  }\n  return t([o(l, m, e), o(() => {\n    const t = l(),\n      {\n        activeTooltipInfo: o\n      } = t;\n    if (o) return {\n      context: t,\n      activeTooltipInfo: o,\n      key: o.key,\n      geometry: n(c)\n    };\n  }, (t, o) => {\n    t && !p && o && o.key !== t.key && f(t.activeTooltipInfo, c, t.context);\n  }, i), c.on(\"committed\", () => m(l())), s(r)]);\n}\nfunction f(t, o, {\n  callbacks: e\n}) {\n  const i = n(o);\n  switch (i?.type) {\n    case \"mesh\":\n      u(t, i.origin, o, e), \"orientation\" in t && \"scale\" in t && c(t, i, e);\n      break;\n    case \"point\":\n      u(t, i, o, e);\n  }\n}\nfunction u(t, o, e, i) {\n  const {\n    dx: n,\n    dy: s,\n    dz: c\n  } = a(t, o);\n  0 === n && 0 === s && 0 === c || (i.onMoveStart?.(), e.operations?.move(n, s, c, r.NEW_STEP), i.onMove?.(n, s, c), i.onMoveStop?.());\n}\nfunction v(t, o) {\n  const e = n(o);\n  if (!t || !e || \"mesh\" !== e.type && \"point\" !== e.type) return;\n  const i = \"mesh\" === e.type,\n    r = i ? e.origin : e;\n  t.setLocationFromPoint(r), y(t, r, o), \"transform-mesh\" === t.type && i && l(t, e), t.clearInputValues();\n}\nfunction y(t, o, e) {\n  t.elevation.actual = p(o), t.elevation.visible = !!e.operations?.data.coordinateHelper.hasZ(), t.elevation.readOnly = !1, t.elevation.showAsZ = !0;\n}\nexport { m as connectTooltipToManipulatedObject, y as updateElevationFromPoint, v as updateTooltipInfoFromManipulatedObject, u as updateXYZFromTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar N;\n!function (N) {\n  N[N.NONE = 0] = \"NONE\", N[N.ANY = 1] = \"ANY\", N[N.Z = 2] = \"Z\", N[N.XY = 4] = \"XY\";\n}(N || (N = {}));\nexport { N as GrabbingState };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Manipulator3D as t } from \"../Manipulator3D.js\";\nimport { GrabbingState as i } from \"./GrabbingState.js\";\nimport { ManipulatorType as e } from \"./ManipulatorType.js\";\nclass a {\n  constructor() {\n    this.grabbingState = i.NONE, this.zManipulator = null, this.firstSelected = null, this.numSelected = 0, this.firstGrabbedXY = null;\n  }\n  update(a) {\n    this.grabbingState = i.NONE, this.zManipulator = null, this.numSelected = 0, this.firstSelected = null, this.firstGrabbedXY = null, a.forEachManipulator((a, s) => {\n      if (s === e.TRANSLATE_Z && (this.zManipulator = a), a instanceof t && (a.selected && (0 === this.numSelected && (this.firstSelected = a), this.numSelected++), null == this.firstGrabbedXY && a.grabbing && s === e.TRANSLATE_XY && (this.firstGrabbedXY = a)), a.grabbing) switch (this.grabbingState |= i.ANY, s) {\n        case e.TRANSLATE_Z:\n          this.grabbingState |= i.Z;\n          break;\n        case e.TRANSLATE_XY:\n          this.grabbingState |= i.XY;\n      }\n    });\n  }\n}\nexport { a as ManipulatorState };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { removeHandles as e, handlesGroup as t, destroyHandle as n, refHandle as a } from \"../../../../core/handleUtils.js\";\nimport { deg2rad as l } from \"../../../../core/mathUtils.js\";\nimport { watch as i, initial as o } from \"../../../../core/reactiveUtils.js\";\nimport { signal as s } from \"../../../../core/signal.js\";\nimport { s as r, g as c, j as m } from \"../../../../chunks/vec32.js\";\nimport { create as u } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { Manipulator3D as p } from \"../Manipulator3D.js\";\nimport { GrabbingState as h } from \"./GrabbingState.js\";\nimport { manipulatedObjectGeometry as d } from \"./manipulatedObjectUtils.js\";\nimport { ManipulatorState as f } from \"./ManipulatorState.js\";\nimport { ManipulatorType as v } from \"./ManipulatorType.js\";\nimport { Settings as g } from \"./settings.js\";\nimport { ExtendedLineVisualElement as b } from \"../visualElements/ExtendedLineVisualElement.js\";\nimport { LaserlineVisualElement as E } from \"../visualElements/LaserlineVisualElement.js\";\nimport { OutlineVisualElement as j } from \"../visualElements/OutlineVisualElement.js\";\nimport { RenderOccludedFlag as w } from \"../../webgl-engine/lib/Material.js\";\nfunction y(t) {\n  const {\n      object: n\n    } = t,\n    a = S(t),\n    l = [a, M(t, a.visualElement)];\n  return n.maskOccludee && l.push(n.maskOccludee()), {\n    visualElement: a.visualElement,\n    remove: () => e(l)\n  };\n}\nfunction S(e) {\n  const {\n      view: a,\n      object: l\n    } = e,\n    s = d(l),\n    r = new j({\n      view: a,\n      geometry: D(s) ? s : null,\n      elevationInfo: l.elevationInfo,\n      attached: !1,\n      isDecoration: !0\n    }),\n    c = new g({\n      getTheme: () => a.effectiveTheme\n    }),\n    m = () => {\n      r.attached = l.visible;\n    },\n    u = t([i(() => c.visualElements.lineObjects.outline, e => e.apply(r), o), i(() => c.visualElements.lineObjects.shadowStyle, e => e.apply(r), o), i(() => l.visible, m), i(() => l.isDraped, e => {\n      r.isDraped = e;\n    }, o), l.on(\"committed\", () => {\n      const e = d(l);\n      r.geometry = D(e) ? e : null;\n    }), n(r)]);\n  return m(), {\n    visualElement: r,\n    remove: () => u.remove()\n  };\n}\nfunction M(r, c) {\n  const {\n      object: m,\n      view: u\n    } = r,\n    p = [],\n    v = m.elevationInfo,\n    j = \"on-the-ground\" === v.mode || !v.offset && \"absolute-height\" !== v.mode,\n    y = new f(),\n    S = new g({\n      getTheme: () => u.effectiveTheme\n    }),\n    M = S.visualElements,\n    L = new b({\n      view: u,\n      extensionType: M.zVerticalLine.extensionType,\n      innerWidth: 1,\n      attached: !1,\n      writeDepthEnabled: !1,\n      renderOccluded: w.OccludeAndTransparent,\n      isDecoration: !0\n    }),\n    A = l(M.heightPlaneAngleCutoff),\n    x = new E({\n      view: u,\n      attached: !1,\n      angleCutoff: A,\n      isDecoration: !0\n    }),\n    C = s(1);\n  p.push(i(() => ({\n    lineShadowStyle: S.visualElements.lineObjects.shadowStyle,\n    pointShadowStyle: S.visualElements.pointObjects.shadowStyle,\n    alpha: C.value\n  }), ({\n    lineShadowStyle: e,\n    pointShadowStyle: t,\n    alpha: n\n  }) => {\n    e.apply(c, n), t.apply(L, n);\n  }, o));\n  const V = s(1);\n  p.push(i(() => ({\n    heightPlane: S.visualElements.heightPlane,\n    alpha: V.value\n  }), ({\n    heightPlane: e,\n    alpha: t\n  }) => e.apply(x, t), o));\n  const P = () => {\n    y.update(r);\n    const e = d(m);\n    if (!m.visible || j && (m.isDraped || !D(e) || !e.hasZ)) return c.laserlineEnabled = !1, L.attached = !1, void (x.attached = !1);\n    c.laserlineEnabled = !0;\n    const t = y.grabbingState & h.XY ? M.laserlineAlphaMultiplier : 1;\n    C.value = t;\n    const n = y.grabbingState & h.Z ? M.laserlineAlphaMultiplier : 1;\n    V.value = n, T(L, y), O(r, c, x, y);\n  };\n  p.push(i(() => S.visualElements.zVerticalLine, e => e.apply(L), o)), p.push(m.on(\"committed\", P), i(() => m.visible, P), c.events.on(\"attachment-origin-changed\", P), n(L), n(x));\n  const U = [],\n    X = () => {\n      e(U), U.length = 0, r.forEachManipulator(e => U.push(e.events.on(\"grab-changed\", P))), r.forEachManipulator(e => U.push(e.events.on(\"select-changed\", P))), P();\n    };\n  return X(), p.push(r.onManipulatorsChanged(X), a(() => t(U))), t(p);\n}\nfunction T(e, t) {\n  const n = 1 === t.numSelected ? t.firstSelected : t.numSelected > 1 && null != t.firstGrabbedXY ? t.firstGrabbedXY : null;\n  null != n ? (e.setStartEndFromWorldDownAtLocation(n.renderLocation), e.attached = !0) : e.attached = !1;\n}\nfunction O(e, t, n, a) {\n  if (a.numSelected > 0) {\n    r(L, 0, 0, 0);\n    let t = 0;\n    e.forEachManipulator((e, n) => {\n      n === v.TRANSLATE_XY && e.selected && e instanceof p && (c(L, L, e.renderLocation), t++);\n    }), t > 0 ? (n.heightManifoldTarget = m(L, L, 1 / t), n.attached = !0) : n.attached = !1;\n  } else {\n    const a = t.attachmentOrigin;\n    null != a && e.view.renderCoordsHelper.toRenderCoords(a, L) ? (n.heightManifoldTarget = L, n.attached = !0) : n.attached = !1;\n  }\n}\nfunction D(e) {\n  return null != e && (\"polygon\" === e.type || \"polyline\" === e.type);\n}\nconst L = u();\nexport { y as createVisualElements };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { removeHandles as e, destroyHandle as t, refHandle as o } from \"../../../../core/handleUtils.js\";\nimport { deg2rad as n } from \"../../../../core/mathUtils.js\";\nimport { watch as i, initial as l } from \"../../../../core/reactiveUtils.js\";\nimport { signal as r } from \"../../../../core/signal.js\";\nimport { s as a } from \"../../../../chunks/vec32.js\";\nimport { create as s } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { projectPointToVector as c } from \"../../../../geometry/projection/projectPointToVector.js\";\nimport { projectVectorToVector as p } from \"../../../../geometry/projection/projectVectorToVector.js\";\nimport { create as m, empty as u, getMin as h } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { containsXY as f } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { featureExpressionInfoIsZero as v } from \"../../../../support/elevationInfoUtils.js\";\nimport { GrabbingState as d } from \"./GrabbingState.js\";\nimport { manipulatedObjectGeometry as g } from \"./manipulatedObjectUtils.js\";\nimport { ManipulatorState as j } from \"./ManipulatorState.js\";\nimport { Settings as b } from \"./settings.js\";\nimport { ExtendedLineVisualElement as w } from \"../visualElements/ExtendedLineVisualElement.js\";\nimport { LaserlineVisualElement as y } from \"../visualElements/LaserlineVisualElement.js\";\nimport { PointVisualElement as E } from \"../visualElements/PointVisualElement.js\";\nimport { evaluateElevationAlignmentAtPoint as T } from \"../../layers/graphics/elevationAlignmentUtils.js\";\nimport { ElevationContext as x } from \"../../layers/graphics/ElevationContext.js\";\nimport { RenderOccludedFlag as D } from \"../../webgl-engine/lib/Material.js\";\nfunction P(t) {\n  const o = [],\n    n = S(t, o);\n  return I(t, o, n), {\n    visualElement: n,\n    remove: () => e(o)\n  };\n}\nfunction I(e, o, s) {\n  const {\n      view: c,\n      object: m\n    } = e,\n    f = new b({\n      getTheme: () => c.effectiveTheme\n    }),\n    E = new w({\n      view: c,\n      extensionType: f.visualElements.zVerticalLine.extensionType,\n      innerWidth: 1,\n      attached: !1,\n      writeDepthEnabled: !1,\n      renderOccluded: D.OccludeAndTransparent,\n      isDecoration: !0\n    });\n  o.push(i(() => f.visualElements.zVerticalLine, e => e.apply(E), l));\n  const P = new y({\n      view: c,\n      intersectsLineInfinite: !0,\n      attached: !1,\n      isDecoration: !0\n    }),\n    I = n(f.visualElements.heightPlaneAngleCutoff),\n    S = new y({\n      view: c,\n      attached: !1,\n      angleCutoff: I,\n      isDecoration: !0\n    }),\n    A = m.elevationInfo,\n    L = x.fromElevationInfo(A),\n    M = \"on-the-ground\" === A.mode || !A.offset && \"absolute-height\" !== A.mode,\n    R = new j(),\n    O = r(1);\n  o.push(i(() => ({\n    heightPlane: f.visualElements.heightPlane,\n    alpha: O.value\n  }), ({\n    heightPlane: e,\n    alpha: t\n  }) => e.apply(S, t), l));\n  const z = r(1);\n  o.push(i(() => ({\n    shadowStyle: f.visualElements.pointObjects.shadowStyle,\n    alpha: z.value\n  }), ({\n    shadowStyle: e,\n    alpha: t\n  }) => e.apply(P, t), l));\n  const B = () => {\n    R.update(e);\n    let t = V(g(m));\n    const o = M && (m.isDraped || null == t || !t.hasZ);\n    let n = !0;\n    if (o || null == t) n = !1;else {\n      v(m.elevationInfo) && (t = t.clone(), t.z = 0);\n      const e = T(t, c.elevationProvider, L, c.renderCoordsHelper);\n      a(U, t.x, t.y, e), p(U, t.spatialReference, U, c.renderCoordsHelper.spatialReference), E.setStartEndFromWorldDownAtLocation(U), P.intersectsWorldUpAtLocation = U;\n    }\n    const i = R.grabbingState & d.Z ? f.visualElements.laserlineAlphaMultiplier : 1;\n    O.value = i;\n    const l = u(C);\n    !o && m.visible && s.calculateMapBounds(l) && p(h(l, U), c.spatialReference, U, c.renderCoordsHelper.spatialReference) ? (S.heightManifoldTarget = U, S.attached = !0) : S.attached = !1;\n    const r = R.grabbingState & d.XY ? f.visualElements.laserlineAlphaMultiplier : 1;\n    z.value = r;\n    const j = n && m.visible && !o;\n    P.attached = j, E.attached = j;\n  };\n  o.push(i(() => [m.visible, m.isDraped], B), m.on(\"committed\", B)), e.forEachManipulator(e => {\n    o.push(e.events.on(\"grab-changed\", B));\n  }), o.push(t(P)), o.push(t(E)), o.push(t(S)), B();\n}\nfunction S(e, o) {\n  const {\n      view: n,\n      object: i\n    } = e,\n    l = new E({\n      view: n,\n      geometry: V(g(i)),\n      elevationInfo: i.elevationInfo,\n      isDecoration: !0\n    });\n  return A(e, l, o), o.push(t(l)), l;\n}\nfunction V(e) {\n  return null == e ? null : \"point\" === e.type ? e : \"mesh\" === e.type ? e.anchor.clone() : null;\n}\nfunction A(e, t, o) {\n  const {\n      view: n,\n      object: r\n    } = e,\n    a = () => {\n      t.attached = r.visible;\n    },\n    s = new b({\n      getTheme: () => n.effectiveTheme\n    });\n  L(e, t, o), s.visualElements.pointObjects.outline.apply(t), o.push(i(() => r.visible, a, l));\n}\nfunction L(e, t, n) {\n  const {\n    view: i,\n    object: l\n  } = e;\n  let r = null;\n  const a = e => {\n      null != r && (r.remove(), r = null), l.isDraped && null != e && (r = M(i, e, () => {\n        t.geometry = e;\n      }));\n    },\n    s = () => {\n      const e = V(g(l));\n      null != e && v(l.elevationInfo) && (e.z = 0), a(e), t.geometry = e;\n    };\n  n.push(l.on(\"committed\", s), o(() => r)), s();\n}\nfunction M(e, t, o) {\n  const n = e.elevationProvider.spatialReference;\n  c(t, U, n);\n  const i = U[0],\n    l = U[1];\n  return e.elevationProvider.on(\"elevation-change\", e => {\n    f(e.extent, i, l) && o();\n  });\n}\nconst U = s(),\n  C = m();\nexport { P as createVisualElements };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createVisualElements as e } from \"./lineObjectVisualElementUtils.js\";\nimport { manipulatedObjectGeometry as t } from \"./manipulatedObjectUtils.js\";\nimport { createVisualElements as s } from \"./originGeometryVisualElementUtils.js\";\nfunction l(l) {\n  switch (t(l.object)?.type) {\n    case \"point\":\n    case \"mesh\":\n      return s(l);\n    case \"polygon\":\n    case \"polyline\":\n      return e(l);\n    default:\n      return null;\n  }\n}\nexport { l as createVisualElements };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { makeHandle as t } from \"../../../../../core/handleUtils.js\";\nimport { screenToMapXYForManipulatedObject as i } from \"../dragEventPipeline3D.js\";\nimport { ManipulatorType as e } from \"../ManipulatorType.js\";\nimport { Manipulation as o } from \"./Manipulation.js\";\nimport { createManipulatedMoveDragPipeline as r } from \"./moveUtils.js\";\nimport { createManipulatorDragEventPipeline as a, addMapDelta as s, addScreenDelta as n } from \"../../../../interactive/dragEventPipeline.js\";\nclass l extends o {\n  constructor(t) {\n    super(), this._view = t.view, this._tool = t.tool, this._object = t.object, this._manipulator = this._object.createManipulator?.({\n      selectable: !0,\n      cursor: \"move\"\n    }), this.forEachManipulator(t => this._tool.manipulators.add(t));\n  }\n  destroy() {\n    this.forEachManipulator(t => {\n      this._tool.manipulators.remove(t), t.destroy();\n    }), this._tool = null, this._view = null, this._manipulator = null;\n  }\n  forEachManipulator(t) {\n    this._manipulator && t(this._manipulator, e.TRANSLATE_XY);\n  }\n  createManipulatedObjectDragPipeline(t) {\n    return r(this._object, t, t => this.createDragPipeline(t));\n  }\n  createDragPipeline(e) {\n    if (!this._manipulator) return t();\n    const o = this._view;\n    return a(this._manipulator, (t, r, a, l, p) => {\n      const h = this._object.operations?.data.spatialReference,\n        u = r.next(t => h ? t : null).next(i(p, o, this._object, h)).next(s()).next(n());\n      e(t, u, a, l, p);\n    });\n  }\n}\nexport { l as MoveXYObjectManipulation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { zeroMeters as t } from \"../../../../core/quantityUtils.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { SketchTooltipInfo as e } from \"./SketchTooltipInfo.js\";\nlet i = class extends e {\n  constructor(o) {\n    super(o), this.type = \"translate-xy\", this.distance = t;\n  }\n};\no([r()], i.prototype, \"type\", void 0), o([r()], i.prototype, \"distance\", void 0), i = o([s(\"esri.views.interactive.tooltip.infos.TranslateXYTooltipInfo\")], i);\nexport { i as TranslateXYTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { zeroMeters as t } from \"../../../../core/quantityUtils.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { SketchTooltipInfo as e } from \"./SketchTooltipInfo.js\";\nlet i = class extends e {\n  constructor(o) {\n    super(o), this.type = \"translate-z\", this.distance = t;\n  }\n  clear() {\n    this.distance = t;\n  }\n};\no([r()], i.prototype, \"type\", void 0), o([r()], i.prototype, \"distance\", void 0), i = o([s(\"esri.views.interactive.tooltip.infos.TranslateZTooltipInfo\")], i);\nexport { i as TranslateZTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport { isSome as o } from \"../../../../../core/arrayUtils.js\";\nimport e from \"../../../../../core/Collection.js\";\nimport i from \"../../../../../core/Evented.js\";\nimport { makeHandle as n } from \"../../../../../core/handleUtils.js\";\nimport { destroyMaybe as s } from \"../../../../../core/maybe.js\";\nimport { zeroMeters as a, scale as l } from \"../../../../../core/quantityUtils.js\";\nimport { watch as r, syncAndInitial as p } from \"../../../../../core/reactiveUtils.js\";\nimport { property as c } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport { subclass as h } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as m } from \"../../../../../core/support/UpdatingHandles.js\";\nimport { makeDehydratedPoint as u } from \"../../../../../layers/graphics/dehydratedPoint.js\";\nimport { getConvertedElevation as d } from \"../../../../../support/elevationInfoUtils.js\";\nimport { SnappingVisualizer3D as f } from \"../../SnappingVisualizer3D.js\";\nimport { orientation as v } from \"../geometryUtils.js\";\nimport { SupportedObjectResult as _ } from \"../isSupportedObjectUtils.js\";\nimport { manipulatedObjectGeometry as g } from \"../manipulatedObjectUtils.js\";\nimport { canMoveZOperations as j } from \"../manipulatorUtils.js\";\nimport { meshTransformFastUpdateHandles as M } from \"../meshFastUpdateUtils.js\";\nimport { connectTooltipToManipulatedObject as b } from \"../tooltipUtils3D.js\";\nimport { createVisualElements as y } from \"../visualElementUtils.js\";\nimport { discRadius as T } from \"../manipulations/config.js\";\nimport { ManipulationType as w, MoveManipulation as I } from \"../manipulations/MoveManipulation.js\";\nimport { axisConstrainedDragSign as S } from \"../manipulations/moveUtils.js\";\nimport { MoveXYObjectManipulation as O } from \"../manipulations/MoveXYObjectManipulation.js\";\nimport { isSupportedObject as x } from \"./isSupportedObject.js\";\nimport { OutlineVisualElement as E } from \"../../visualElements/OutlineVisualElement.js\";\nimport { dragManipulatedObjectMany as U, resetManipulatedObjectMany as P } from \"../../../../interactive/dragEventPipeline.js\";\nimport { InteractiveToolBase as k } from \"../../../../interactive/InteractiveToolBase.js\";\nimport { EditGeometryOperations as H } from \"../../../../interactive/editGeometry/EditGeometryOperations.js\";\nimport X from \"../../../../interactive/sketch/SketchOptions.js\";\nimport { SnappingContext as Y } from \"../../../../interactive/snapping/SnappingContext.js\";\nimport { createSnapDragEventPipelineStep as A } from \"../../../../interactive/snapping/SnappingDragPipelineStep.js\";\nimport { Tooltip as z } from \"../../../../interactive/tooltip/Tooltip.js\";\nimport { enterInputModeIfAvailable as D } from \"../../../../interactive/tooltip/tooltipCommonUtils.js\";\nimport { MovePointTooltipInfo as R } from \"../../../../interactive/tooltip/infos/MovePointTooltipInfo.js\";\nimport { TranslateTooltipInfo as Z } from \"../../../../interactive/tooltip/infos/TranslateTooltipInfo.js\";\nimport { TranslateXYTooltipInfo as C } from \"../../../../interactive/tooltip/infos/TranslateXYTooltipInfo.js\";\nimport { TranslateZTooltipInfo as F } from \"../../../../interactive/tooltip/infos/TranslateZTooltipInfo.js\";\nimport { autoDistanceBetweenPoints2D as V } from \"../../../../support/automaticLengthMeasurementUtils.js\";\nimport { verticalSignedDistanceBetweenPoints as G } from \"../../../../support/euclideanLengthMeasurementUtils.js\";\nclass L {\n  constructor(t) {\n    this.objects = t, this.type = \"move-start\";\n  }\n}\nclass N {\n  constructor(t, o, e) {\n    this.dx = t, this.dy = o, this.objects = e, this.type = \"move\";\n  }\n}\nclass q {\n  constructor(t) {\n    this.objects = t, this.type = \"move-stop\";\n  }\n}\nconst B = Symbol(\"manipulators\"),\n  J = Symbol(\"tooltips\");\nlet K = class extends k {\n  constructor(t) {\n    super(t), this._infos = new Map(), this.events = new i(), this.objects = new e(), this.enableZ = !0, this.sketchOptions = new X(), this.type = \"move-3d\", this._latestTooltipInfo = null, this._translateTooltipInfo = null, this._translateXYTooltipInfo = null, this._translateZTooltipInfo = null, this._updatingHandles = new m(), this._moveManipulation = null;\n  }\n  initialize() {\n    const {\n      view: t\n    } = this;\n    this.tooltip = new z({\n      view: t\n    }), this.addHandles([this.objects.on(\"change\", t => {\n      t.removed.forEach(t => this.removeHandles(t)), this._updateObjectInfos(t), this._setupFastTransformUpdates(t.added), this._refreshManipulators();\n    }), this.objects.on(\"change\", () => this._connectTooltips())]);\n    const o = this.objects.toArray();\n    this._updateObjectInfos({\n      added: o,\n      removed: []\n    }), this._setupFastTransformUpdates(o), this._refreshManipulators(), this._connectTooltips(), this.finishToolCreation();\n  }\n  destroy() {\n    this.tooltip = s(this.tooltip), this._moveManipulation = s(this._moveManipulation), this._set(\"view\", null), this._updatingHandles.destroy();\n  }\n  onInputEvent(t) {\n    if (!this.destroyed && !D(t, this.tooltip)) return super.onInputEvent(t);\n  }\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get _shouldShowMovePointTooltip() {\n    const {\n      objects: t\n    } = this;\n    if (1 !== t.length) return !1;\n    const o = g(t.at(0))?.type;\n    return \"point\" === o || \"mesh\" === o;\n  }\n  get activeTooltipInfo() {\n    return this._shouldShowMovePointTooltip ? this._movePointTooltipInfo : this._latestTooltipInfo;\n  }\n  reset() {}\n  _updateObjectInfos({\n    added: t,\n    removed: o\n  }) {\n    for (const e of t) {\n      if (x(e) !== _.SUPPORTED) continue;\n      const t = new Q(e);\n      this._infos.set(e, t);\n    }\n    for (const e of o) this._infos.delete(e);\n  }\n  _setupFastTransformUpdates(t) {\n    for (const o of t) {\n      const t = this._infos.get(o);\n      this.addHandles(M(t.object), o);\n    }\n  }\n  _refreshManipulators() {\n    if (this.removeHandles(B), this._moveManipulation = s(this._moveManipulation), this.manipulators.removeAll(), 0 === this._infos.size) return;\n    const t = Array.from(this._infos.values());\n    this._createManipulators(t), this._createVisualElements(t), this._updateMoveManipulation(t);\n  }\n  _createManipulators(t) {\n    for (const o of t) {\n      const e = o.object;\n      o.manipulationXY = new O({\n        tool: this,\n        view: this.view,\n        object: e\n      }), o.manipulationXY.forEachManipulator(t => {\n        this.addHandles([t.events.on(\"immediate-click\", t => {\n          this.events.emit(\"immediate-click\", {\n            ...t,\n            object: e\n          }), t.stopPropagation();\n        }), t.events.on(\"grab-changed\", ({\n          action: t\n        }) => {\n          \"start\" === t ? this._showTooltip(w.XY) : this._hideTooltip();\n        })], B);\n      }), this.addHandles(o.manipulationXY.createDragPipeline((o, e, i, n) => this._buildDragEventPipeline(t, w.XY, o, e, i, n)), B);\n    }\n    this._createMoveManipulation(t);\n  }\n  _createMoveManipulation(t) {\n    const o = new I({\n      tool: this,\n      view: this.view,\n      snapToScene: !1,\n      xyAvailable: !0,\n      xyAxisAvailable: !0,\n      zAvailable: !0,\n      radius: 1 === t.length ? I.radiusForSymbol(t[0].object.graphic?.symbol) : T\n    });\n    this._moveManipulation = o, o.elevationInfo = {\n      mode: \"absolute-height\",\n      offset: 0\n    }, o.forEachManipulator(t => {\n      this.addHandles(t.events.on(\"immediate-click\", e => {\n        const i = this.objects.at(0);\n        !o.zManipulation.hasManipulator(t) && 1 === this.objects.length && i && this.events.emit(\"immediate-click\", {\n          ...e,\n          object: i\n        }), e.stopPropagation();\n      }), B);\n    });\n    const e = t => o => {\n      this.addHandles([o.events.on(\"focus-changed\", ({\n        action: o\n      }) => {\n        \"focus\" === o ? this._showTooltip(t) : this._hideTooltip();\n      }), o.events.on(\"grab-changed\", () => {\n        this._latestTooltipInfo && (this._latestTooltipInfo.distance = a);\n      })], B);\n    };\n    this._moveManipulation.xyManipulation.forEachManipulator(e(w.XY)), this._moveManipulation.xyAxisManipulation.forEachManipulator(e(w.XY_AXIS)), this._moveManipulation.zManipulation.forEachManipulator(e(w.Z));\n    const i = () => this._updateMoveManipulation(t);\n    for (const a of t) this.addHandles([a.object.on(\"committed\", i), r(() => a.object.visible, i)], B);\n    const n = t[t.length - 1];\n    this.addHandles(n.object.on(\"committed\", () => this._updateMoveManipulationAngle(n)), B);\n    const {\n        object: s\n      } = n,\n      {\n        operations: l\n      } = s;\n    if (l) {\n      const e = s.graphic;\n      this.addHandles(o.createDragPipeline((o, e, i, n, s) => this._buildDragEventPipeline(t, o, e, i, n, s), s.elevationInfo, l.data.spatialReference, e), B);\n    }\n    this._updateMoveManipulationAngle(n);\n  }\n  _createVisualElements(t) {\n    for (const o of t) {\n      const e = o.object,\n        i = y({\n          view: this.view,\n          object: e,\n          forEachManipulator: t => {\n            o.manipulationXY?.forEachManipulator(t), this._moveManipulation?.forEachManipulator(t);\n          },\n          onManipulatorsChanged: () => n()\n        });\n      null != i && (o.geometryRepresentation = i.visualElement, o.geometryRepresentation instanceof E && this.addHandles([o.geometryRepresentation.events.on(\"attachment-origin-changed\", () => {\n        o.object.isDraped || this._updateMoveManipulation(t);\n      }), r(() => o.object.isDraped, () => this._updateMoveManipulation(t))], B), this.addHandles(i, B));\n    }\n  }\n  _updateMoveManipulationAngle(t) {\n    this._moveManipulation && (this._moveManipulation.angle = v(g(t.object)));\n  }\n  _updateMoveManipulation(t) {\n    const o = u(0, 0, 0, this.view.spatialReference);\n    let e = 0,\n      i = !1;\n    const n = this._moveManipulation;\n    if (n) {\n      for (const n of t) {\n        if (!n.object.visible) continue;\n        this.enableZ && j(n.object.operations, n.object.elevationInfo) && (i = !0);\n        const t = n.geometryRepresentation instanceof E && !n.object.isDraped ? n.geometryRepresentation.attachmentOrigin : n.object.origin;\n        if (null != t) {\n          const {\n            x: i,\n            y: n,\n            z: s\n          } = t;\n          o.x += i, o.y += n, s && (o.z ??= 0, o.z += s), e++;\n        }\n      }\n      e > 0 ? (o.x /= e, o.y /= e, o.z ??= 0, o.z /= e, n.location = o, n.xyManipulation.available = !0, n.xyAxisManipulation.available = !0, n.zManipulation.available = i) : n.available = !1;\n    }\n  }\n  _buildDragEventPipeline(t, o, e, i, n, s) {\n    const a = [],\n      l = [];\n    let r = null,\n      p = null;\n    const c = () => {\n      for (const t of a) t.dragging = !1;\n      a.length = 0, l.length = 0, r = null, p = null, this._moveManipulation && (this._moveManipulation.interactive = !0);\n    };\n    if (1 === t.length && o === w.XY) {\n      const o = t[0].object;\n      ({\n        steps: i,\n        cancel: n\n      } = this._buildSnappingPipelineSteps(o, o.elevationInfo, i, n, s));\n    }\n    return n = n.next(t => p?.(t)).next(() => (l.length && this.events.emit(\"move-stop\", new q(l)), this.destroyed || c(), null)), {\n      steps: i = i.next(o => {\n        if (\"start\" === o.action) {\n          a.length = 0, l.length = 0;\n          for (const o of t) o.dragging || !o.manipulationXY?.hasManipulator(e) && o.manipulationXY?.grabbing || (a.push(o), l.push(o.object), o.dragging = !0);\n          if (0 !== l.length && (this._moveManipulation && (this._moveManipulation.interactive = !1), r = U(l), p = P(l), this._emitRecordUndo(), this.events.emit(\"move-start\", new L(l)), this.destroyed)) return null;\n        }\n        return 0 !== l.length ? o : null;\n      }).next(t => r?.(t)).next(t => (this._updateMoveTooltip(o, t), t)).next(t => {\n        switch (t.action) {\n          case \"start\":\n          case \"update\":\n            if (t.translationX || t.translationY || t.translationZ) {\n              const o = this.view.toScreen(t.mapStart),\n                e = this.view.toScreen(t.mapEnd),\n                i = e.x - o.x,\n                n = e.y - o.y;\n              if (this.events.emit(\"move\", new N(i, n, l)), this.destroyed) return null;\n            }\n            break;\n          case \"end\":\n            if (this.events.emit(\"move-stop\", new q(l)), this.destroyed) return null;\n            c();\n        }\n        return null;\n      }),\n      cancel: n\n    };\n  }\n  _connectTooltips() {\n    let t;\n    if (this.removeHandles(J), this._shouldShowMovePointTooltip) {\n      const o = this.objects.at(0),\n        {\n          events: e\n        } = this;\n      this._movePointTooltipInfo ??= new R({\n        viewType: this.view.type,\n        sketchOptions: this.sketchOptions\n      });\n      const i = {\n        onMoveStart: () => {\n          this._emitRecordUndo(), e.emit(\"move-start\", new L([o]));\n        },\n        onMove: () => e.emit(\"move\", new N(0, 0, [o])),\n        onMoveStop: () => e.emit(\"move-stop\", new q([o]))\n      };\n      t = b(this.tooltip, o, () => ({\n        sketchOptions: this.sketchOptions,\n        activeTooltipInfo: this._movePointTooltipInfo,\n        callbacks: i\n      }));\n    } else t = r(() => this.sketchOptions.tooltips.effectiveEnabled ? this._latestTooltipInfo : null, t => {\n      this.tooltip.info = t;\n    }, p);\n    this.addHandles(t, J);\n  }\n  _showTooltip(t) {\n    this._shouldShowMovePointTooltip || this._updateMoveTooltip(t);\n  }\n  _hideTooltip() {\n    this._shouldShowMovePointTooltip || (this.tooltip?.clear(), this._latestTooltipInfo = null);\n  }\n  _updateMoveTooltip(t, o) {\n    if (this._shouldShowMovePointTooltip) return;\n    const {\n      sketchOptions: e\n    } = this;\n    switch (t) {\n      case w.XY:\n        this._latestTooltipInfo = this._translateTooltipInfo ??= new Z({\n          sketchOptions: e\n        }), W(this._latestTooltipInfo, o, (t, o) => V(t, o));\n        break;\n      case w.XY_AXIS:\n        this._latestTooltipInfo = this._translateXYTooltipInfo ??= new C({\n          sketchOptions: e\n        }), W(this._latestTooltipInfo, o, (t, e) => l(V(t, e), S(o)));\n        break;\n      case w.Z:\n        this._latestTooltipInfo = this._translateZTooltipInfo ??= new F({\n          sketchOptions: e\n        }), W(this._latestTooltipInfo, o, G);\n    }\n    this._latestTooltipInfo.sketchOptions = e;\n  }\n  _emitRecordUndo() {\n    const t = this.objects.toArray().map(t => t.createUndoRecord?.()).filter(o);\n    t.length > 0 && this.events.emit(\"record-undo\", {\n      updates: t\n    });\n  }\n  _buildSnappingPipelineSteps(t, o, e, i, n) {\n    const s = g(t);\n    if (null == s || \"point\" !== s.type && \"mesh\" !== s.type) return {\n      steps: e,\n      cancel: i\n    };\n    const a = (\"point\" === s.type ? s : s.anchor).clone(),\n      l = new Y({\n        elevationInfo: o,\n        pointer: n,\n        editGeometryOperations: H.fromGeometry(a, this.view.state.viewingMode),\n        visualizer: new f(),\n        excludeFeature: t.graphic\n      }),\n      r = this.snappingManager,\n      {\n        snappingStep: p,\n        cancelSnapping: c\n      } = A({\n        snappingContext: l,\n        snappingManager: r,\n        updatingHandles: this._updatingHandles\n      });\n    return i = i.next(c), {\n      steps: e = e.next(o => {\n        a.z = d(this.view, a, t.elevationInfo, {\n          mode: \"absolute-height\",\n          offset: 0\n        });\n        return {\n          ...o,\n          snapOrigin: l.coordinateHelper.pointToVector(a)\n        };\n      }).next(...p),\n      cancel: i\n    };\n  }\n};\nt([c({\n  constructOnly: !0,\n  nonNullable: !0\n})], K.prototype, \"view\", void 0), t([c()], K.prototype, \"objects\", void 0), t([c({\n  constructOnly: !0,\n  nonNullable: !0\n})], K.prototype, \"enableZ\", void 0), t([c({\n  constructOnly: !0,\n  type: X\n})], K.prototype, \"sketchOptions\", void 0), t([c({\n  constructOnly: !0\n})], K.prototype, \"snappingManager\", void 0), t([c()], K.prototype, \"type\", void 0), t([c()], K.prototype, \"updating\", null), t([c()], K.prototype, \"_latestTooltipInfo\", void 0), t([c()], K.prototype, \"_shouldShowMovePointTooltip\", null), t([c()], K.prototype, \"activeTooltipInfo\", null), K = t([h(\"esri.views.3d.interactive.editingTools.move.MoveTool3D\")], K);\nclass Q {\n  constructor(t) {\n    this.object = t, this.geometryRepresentation = null, this.manipulationXY = null, this.dragging = !1;\n  }\n}\nfunction W(t, o, e) {\n  if (null == o || \"end\" === o.action) return void (t.distance = a);\n  const {\n      mapStart: i,\n      mapEnd: n\n    } = o,\n    s = e(i, n);\n  t.distance = null != s ? s : a;\n}\nexport { N as MoveEvent, L as MoveStartEvent, q as MoveStopEvent, K as MoveTool3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createRenderScreenPointArray3 as e } from \"../../../../../core/screenUtils.js\";\nimport { fromValues as r } from \"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { b as o, E as n, q as t, f as s } from \"../../../../../chunks/vec32.js\";\nimport { create as c } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getNormal as i, fromPositionAndNormal as l, create as d } from \"../../../../../geometry/support/plane.js\";\nimport { makeDehydratedPoint as f } from \"../../../../../layers/graphics/dehydratedPoint.js\";\nimport { PlaneType as u, OffsetEdgeVertex as a } from \"../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js\";\nfunction m(e, r, o) {\n  const n = \"on-the-ground\" === o.mode ? u.XY : u.XYZ;\n  return new a(e, n, r, 0);\n}\nfunction p(e, r, n) {\n  const t = c();\n  if (!e.renderCoordsHelper.toRenderCoords(r, t)) return null;\n  const s = j(e, r, i(n.plane)),\n    f = j(e, r, n.edgeDirection);\n  if (null == s || null == f) return null;\n  const u = o(c(), s, f);\n  return l(t, u, d());\n}\nfunction j(e, r, o) {\n  const t = f(r.x + o[0], r.y + o[1], r.z + o[2], r.spatialReference),\n    s = c(),\n    i = c();\n  return e.renderCoordsHelper.toRenderCoords(r, s) && e.renderCoordsHelper.toRenderCoords(t, i) ? n(i, s, i) : null;\n}\nfunction g(e, t, s) {\n  const l = i(e),\n    d = n(c(), t, s),\n    f = o(c(), d, l),\n    u = o(c(), d, f);\n  return r(d[0], d[1], d[2], 0, f[0], f[1], f[2], 0, u[0], u[1], u[2], 0, 0, 0, 0, 1);\n}\nfunction C(r, o, n) {\n  const c = n.projectToRenderScreen(r, e()),\n    i = n.projectToRenderScreen(o, e());\n  return null != c && null != i ? t(s(c, c, i)) : 0;\n}\nexport { p as createEdgeOffsetIntersectionPlane, m as createEdgeOffsetOperation, g as edgeOffsetRotationMatrix, C as screenEdgeLengthSquared };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { zeroMeters as t } from \"../../../../core/quantityUtils.js\";\nimport { property as e } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { SketchTooltipInfo as s } from \"./SketchTooltipInfo.js\";\nlet p = class extends s {\n  constructor(o) {\n    super(o), this.type = \"reshape-edge-offset\", this.distance = t, this.area = null, this.totalLength = null;\n  }\n};\no([e()], p.prototype, \"type\", void 0), o([e()], p.prototype, \"distance\", void 0), o([e()], p.prototype, \"area\", void 0), o([e()], p.prototype, \"totalLength\", void 0), p = o([r(\"esri.views.interactive.tooltip.infos.ReshapeEdgeOffsetTooltipInfo\")], p);\nexport { p as ReshapeEdgeOffsetTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { handlesGroup as t } from \"../../../../../core/handleUtils.js\";\nimport { zeroMeters as e, createLength as o, scale as i } from \"../../../../../core/quantityUtils.js\";\nimport { watch as n, syncAndInitial as s, sync as r } from \"../../../../../core/reactiveUtils.js\";\nimport { getMetersPerUnitForSR as a } from \"../../../../../core/unitUtils.js\";\nimport { projectPoint as p } from \"../../../../../geometry/support/plane.js\";\nimport { sv3d as l } from \"../../../../../geometry/support/vectorStacks.js\";\nimport { manipulatedObjectGeometry as c } from \"../manipulatedObjectUtils.js\";\nimport { updateXYZFromTooltipInfo as m, updateTooltipInfoFromManipulatedObject as f, updateElevationFromPoint as u } from \"../tooltipUtils3D.js\";\nimport { ManipulationType as y } from \"../manipulations/MoveManipulation.js\";\nimport { axisConstrainedDragSign as v } from \"../manipulations/moveUtils.js\";\nimport { AccumulationBehavior as d } from \"../../../../interactive/editGeometry/interfaces.js\";\nimport { connectPasteEvent as h, getXYZDeltasFromTooltipInfo as T } from \"../../../../interactive/tooltip/tooltipCommonUtils.js\";\nimport { MovePointTooltipInfo as k } from \"../../../../interactive/tooltip/infos/MovePointTooltipInfo.js\";\nimport { ReshapeEdgeOffsetTooltipInfo as g } from \"../../../../interactive/tooltip/infos/ReshapeEdgeOffsetTooltipInfo.js\";\nimport { SelectedVertexTooltipInfo as j } from \"../../../../interactive/tooltip/infos/SelectedVertexTooltipInfo.js\";\nimport { TranslateTooltipInfo as I } from \"../../../../interactive/tooltip/infos/TranslateTooltipInfo.js\";\nimport { TranslateXYTooltipInfo as O } from \"../../../../interactive/tooltip/infos/TranslateXYTooltipInfo.js\";\nimport { TranslateZTooltipInfo as w } from \"../../../../interactive/tooltip/infos/TranslateZTooltipInfo.js\";\nimport { autoArea2D as b } from \"../../../../support/automaticAreaMeasurementUtils.js\";\nimport { autoLength2D as x, autoDistanceBetweenPoints2D as U } from \"../../../../support/automaticLengthMeasurementUtils.js\";\nimport { verticalSignedDistanceBetweenPoints as M } from \"../../../../support/euclideanLengthMeasurementUtils.js\";\nimport { geodesicDistance as L } from \"../../../../support/geodesicLengthMeasurementUtils.js\";\nfunction S(t, e) {\n  const o = e?.type;\n  return {\n    edgeOffset: new g({\n      sketchOptions: t,\n      viewType: o\n    }),\n    movePoint: new k({\n      sketchOptions: t,\n      viewType: o\n    }),\n    selectedVertex: new j({\n      sketchOptions: t,\n      viewType: o\n    }),\n    translate: new I({\n      sketchOptions: t,\n      viewType: o\n    }),\n    translateXY: new O({\n      sketchOptions: t,\n      viewType: o\n    }),\n    translateZ: new w({\n      sketchOptions: t,\n      viewType: o\n    })\n  };\n}\nfunction X(e, o, i) {\n  function a() {\n    const t = i(),\n      e = t.sketchOptions.tooltips.effectiveEnabled ? t.activeTooltipInfo : null;\n    return {\n      ...t,\n      activeTooltipInfo: e\n    };\n  }\n  let p = !1;\n  function l(t) {\n    p = !0, V(o, t), e.info = t.activeTooltipInfo, p = !1;\n  }\n  return t([n(a, l, s), n(() => {\n    const t = a(),\n      {\n        activeTooltipInfo: e\n      } = t;\n    if (e && \"key\" in e) return {\n      context: t,\n      activeTooltipInfo: e,\n      key: e.key,\n      geometry: c(o)\n    };\n  }, (t, e) => {\n    t && !p && e && e.key !== t.key && E(t.activeTooltipInfo, o, t.context);\n  }, r), o.on(\"committed\", () => l(a())), h(e)]);\n}\nfunction E(t, e, {\n  selectedVertexManipulatorInfo: o,\n  callbacks: i\n}) {\n  const n = c(e);\n  switch (n?.type) {\n    case \"mesh\":\n      \"move-point\" === t.type && m(t, n.origin, e, i);\n      break;\n    case \"point\":\n      \"move-point\" === t.type && m(t, n, e, i);\n      break;\n    case \"polyline\":\n    case \"polygon\":\n      \"selected-vertex\" === t.type && R(t, o, e, i);\n  }\n}\nfunction R(t, e, o, i) {\n  if (\"vertex\" !== e?.type) return;\n  const {\n    dx: n,\n    dy: s,\n    dz: r\n  } = T(t, e.manipulator.location);\n  0 === n && 0 === s && 0 === r || (i.onReshapeStart?.(), o.operations?.moveVertices([e.handle], n, s, r, d.NEW_STEP), i.onReshape?.(), i.onReshapeStop?.());\n}\nfunction V(t, {\n  activeTooltipInfo: e,\n  selectedVertexManipulatorInfo: o,\n  sketchOptions: i\n}) {\n  if (e) switch (e.sketchOptions = i, e?.type) {\n    case \"move-point\":\n      f(e, t);\n      break;\n    case \"selected-vertex\":\n      Y(e, o, t);\n  }\n}\nfunction Y(t, e, o) {\n  if (!t || \"selected-vertex\" !== t.type) return;\n  const i = e?.manipulator.location;\n  t.setLocationFromPoint(i), u(t, i, o);\n  const n = o.operations?.data.geometry;\n  switch (n?.type) {\n    case \"polygon\":\n      t.geometryType = \"polygon\", t.totalLength.visible = !1, t.area.actual = b(n);\n      break;\n    case \"polyline\":\n      t.geometryType = \"polyline\", t.totalLength.actual = x(n), t.area.visible = !1;\n  }\n}\nfunction Z(t, e, {\n  sketchOptions: o,\n  tooltipInfos: n\n}) {\n  let s = null;\n  switch (t) {\n    case y.XY:\n      s = n.translate, P(s, e, (t, e) => U(t, e));\n      break;\n    case y.XY_AXIS:\n      s = n.translateXY, P(s, e, (t, o) => i(U(t, o), v(e)));\n      break;\n    case y.Z:\n      s = n.translateZ, P(s, e, M);\n  }\n  return s.sketchOptions = o, s;\n}\nfunction P(t, o, i) {\n  if (null != o && \"end\" !== o.action) {\n    const {\n        mapStart: n,\n        mapEnd: s\n      } = o,\n      r = i(n, s);\n    t.distance = null != r ? r : e;\n  } else t.distance = e;\n}\nfunction A(t, o, {\n  sketchOptions: i,\n  tooltipInfos: n\n}) {\n  const s = n.edgeOffset;\n  if (s.distance = e, null != o && \"end\" !== o.action) {\n    const e = t.operations,\n      {\n        mapEnd: i,\n        signedDistance: n,\n        operation: r\n      } = o;\n    if (null != n && null != e) {\n      const o = e.data.coordinateHelper,\n        a = n * r.selectedArrow;\n      s.distance = D(t.isDraped, a, i, r.plane, o);\n    }\n  }\n  const r = t.operations?.data.geometry;\n  return s.area = \"polygon\" === r?.type ? b(r) : null, s.totalLength = \"polyline\" === r?.type ? x(r) : null, s.sketchOptions = i, s;\n}\nfunction D(t, e, i, n, s) {\n  if (t) {\n    const t = s.toXYZ(s.pointToVector(i)),\n      r = p(n, t, l.get()),\n      a = L(r, t, s.spatialReference);\n    if (null != a) return o(a.value * Math.sign(e), a.unit);\n  }\n  return o(e * a(i.spatialReference), \"meters\");\n}\nexport { X as connectTooltipToManipulatedObject, S as createTooltipInfos, A as getUpdatedEdgeOffsetTooltipInfo, Z as getUpdatedTranslateObjectTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport \"../../../../../geometry.js\";\nimport t from \"../../../../../core/Accessor.js\";\nimport { removeUnordered as i } from \"../../../../../core/arrayUtils.js\";\nimport { unitRGBAFromColor as a } from \"../../../../../core/colorUtils.js\";\nimport \"../../../../../core/has.js\";\nimport n from \"../../../../../core/Evented.js\";\nimport o from \"../../../../../core/Handles.js\";\nimport { handlesGroup as s, makeHandle as r, destroyHandle as l } from \"../../../../../core/handleUtils.js\";\nimport { destroyMaybe as p, removeMaybe as d } from \"../../../../../core/maybe.js\";\nimport { watch as h, initial as u, on as c } from \"../../../../../core/reactiveUtils.js\";\nimport { property as m } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport { subclass as g } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { IDENTITY as _ } from \"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { l as f, f as v, o as M, s as b, g as x, j as y } from \"../../../../../chunks/vec32.js\";\nimport { fromValues as O, create as E } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { UpdatingHandles as j } from \"../../../../../core/support/UpdatingHandles.js\";\nimport I from \"../../../../../geometry/Polyline.js\";\nimport { makeDehydratedPoint as S } from \"../../../../../layers/graphics/dehydratedPoint.js\";\nimport { isVolumetricSymbol as H } from \"../../../../../symbols/support/utils.js\";\nimport { Manipulator3D as w } from \"../../Manipulator3D.js\";\nimport { createManipulatorMaterial as V, createManipulatorOutlineMaterial as T, placeAtObject as A } from \"../../manipulatorUtils.js\";\nimport { RenderObject as G } from \"../../RenderObject.js\";\nimport { SegmentLabels3D as D } from \"../../SegmentLabels3D.js\";\nimport { SnappingVisualizer3D as L } from \"../../SnappingVisualizer3D.js\";\nimport { screenToMapXYAtLocation as P, screenToRenderPlaneFromEvent as C, convertToMapCoordinates as N } from \"../dragEventPipeline3D.js\";\nimport { orientation as U } from \"../geometryUtils.js\";\nimport { ManipulatorType as k } from \"../ManipulatorType.js\";\nimport { canMoveZOperations as R } from \"../manipulatorUtils.js\";\nimport { Settings as F } from \"../settings.js\";\nimport { createVisualElements as z } from \"../visualElementUtils.js\";\nimport { discRadiusSmall as Z } from \"../manipulations/config.js\";\nimport { ManipulationType as X, MoveManipulation as Y } from \"../manipulations/MoveManipulation.js\";\nimport { MoveXYObjectManipulation as q } from \"../manipulations/MoveXYObjectManipulation.js\";\nimport { createEdgeOffsetIntersectionPlane as W, createEdgeOffsetOperation as K, edgeOffsetRotationMatrix as B, screenEdgeLengthSquared as J } from \"./edgeOffsetUtils.js\";\nimport { createTooltipInfos as Q, connectTooltipToManipulatedObject as $, getUpdatedTranslateObjectTooltipInfo as ee, getUpdatedEdgeOffsetTooltipInfo as te } from \"./reshapeTooltipUtils.js\";\nimport { OutlineVisualElement as ie } from \"../../visualElements/OutlineVisualElement.js\";\nimport { createExtrudedTriangle as ae, createSphereGeometry as ne } from \"../../../webgl-engine/lib/GeometryUtil.js\";\nimport { MouseButton as oe } from \"../../../../input/IViewEvents.js\";\nimport { sceneSnappingAtLocation as se, addMapDelta as re, createManipulatorDragEventPipeline as le, dragAtLocation as pe, addScreenDelta as de } from \"../../../../interactive/dragEventPipeline.js\";\nimport { ManipulatorStateCustomFlags as he, ManipulatorStateFlags as ue } from \"../../../../interactive/interfaces.js\";\nimport { AccumulationBehavior as ce } from \"../../../../interactive/editGeometry/interfaces.js\";\nimport { SnappingContext as me } from \"../../../../interactive/snapping/SnappingContext.js\";\nimport { createSnapDragEventPipelineStep as ge } from \"../../../../interactive/snapping/SnappingDragPipelineStep.js\";\nimport { Tooltip as _e } from \"../../../../interactive/tooltip/Tooltip.js\";\nimport fe from \"../../../../../geometry/SpatialReference.js\";\nconst ve = Symbol();\nlet Me = class extends t {\n  get grabbingOrDragging() {\n    return this._numGrabbing + this._numDragging > 0;\n  }\n  get _operations() {\n    return this.object.operations;\n  }\n  constructor(e) {\n    super(e), this._selectedIndex = 0, this._manipulatorHandles = new o(), this._manipulatorInfos = [], this._numGrabbing = 0, this._numDragging = 0, this._reshapeEventState = Se.NONE, this._updatingHandles = new j(), this._recreatingManipulators = !1, this._settings = new F({\n      getTheme: () => this.view.effectiveTheme\n    }), this.events = new n(), this.activeTooltipInfo = null, this._vertexLaserLineVisualElement = null;\n  }\n  initialize() {\n    const {\n        view: e\n      } = this,\n      t = this._settings.manipulators,\n      i = t.vertex;\n    this.tooltipInfos = Q(this._sketchOptions, e), this._vertexManipulatorMaterial = V(a(i.color), i.renderOccluded), this._vertexManipulatorOutlineMaterial = T(a(i.outlineColor), i.renderOccluded), this._vertexManipulatorHoverOutlineMaterial = T(a(i.hoverOutlineColor), i.renderOccluded);\n    const n = t.edge;\n    this._edgeManipulatorMaterial = V(a(n.color), n.renderOccluded), this._edgeManipulatorOutlineMaterial = T(a(n.outlineColor), n.renderOccluded);\n    const o = t.edgeOffset;\n    this._edgeOffsetManipulatorMaterial = V(a(o.color), o.renderOccluded, !1), this._edgeOffsetManipulatorHoverMaterial = V(a(o.hoverColor), o.renderOccluded, !1);\n    const s = t.selected;\n    this._selectedManipulatorMaterial = V(a(s.color), s.renderOccluded), this._selectedManipulatorOutlineMaterial = T(a(s.outlineColor), s.renderOccluded), this._selectedManipulatorHoverOutlineMaterial = T(a(s.hoverOutlineColor), s.renderOccluded), this.tooltip = new _e({\n      view: e\n    }), this.addHandles([h(() => {\n      const e = this._settings.manipulators;\n      return {\n        vertexSettings: e.vertex,\n        edgeSettings: e.edge,\n        edgeOffsetSettings: e.edgeOffset,\n        selectedSettings: e.selected\n      };\n    }, ({\n      vertexSettings: e,\n      edgeSettings: t,\n      edgeOffsetSettings: i,\n      selectedSettings: a\n    }) => {\n      e.applyColor(this._vertexManipulatorMaterial), e.applyOutline(this._vertexManipulatorOutlineMaterial), e.applyHoverOutline(this._vertexManipulatorHoverOutlineMaterial), t.applyColor(this._edgeManipulatorMaterial), t.applyOutline(this._edgeManipulatorOutlineMaterial), i.applyColor(this._edgeOffsetManipulatorMaterial), i.applyHover(this._edgeOffsetManipulatorHoverMaterial), a.applyColor(this._selectedManipulatorMaterial), a.applyOutline(this._selectedManipulatorOutlineMaterial), a.applyHoverOutline(this._selectedManipulatorHoverOutlineMaterial);\n    }), h(() => this.object.visible, e => {\n      for (const t of this._manipulatorInfos) t.manipulator.available = e, \"edge\" === t.type && \"edgeManipulator\" in t && (t.edgeManipulator.available = e);\n    }), h(() => this._numGrabbing + this._numDragging === 0, e => this._toggleAutoHideManipulators(e)), h(() => ({\n      labels: this._segmentLabels,\n      enabled: this._sketchOptions.labels.enabled,\n      edgeOffsetEnabled: this.enableEdgeOffset\n    }), ({\n      labels: e,\n      enabled: t,\n      edgeOffsetEnabled: i\n    }) => {\n      null != e && (e.visible = t, e.edgeDistance = i ? \"far\" : \"default\");\n    }, u), $(this.tooltip, this.object, () => this._tooltipsContext), c(() => this._operations, \"vertex-update\", e => {\n      this._updateManipulatorPositions(e.vertices);\n    }, {\n      onListenerAdd: () => this._recreateManipulators()\n    }), c(() => this._operations?.data, \"change\", e => {\n      \"undo\" !== e.operation && \"redo\" !== e.operation || this._recreateManipulators();\n    })]);\n  }\n  destroy() {\n    this._segmentLabels = p(this._segmentLabels), this.tooltip = p(this.tooltip), this._removeManipulators(), this._updatingHandles.destroy();\n  }\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get manipulators() {\n    return this.tool.manipulators;\n  }\n  get view() {\n    return this.tool.view;\n  }\n  get object() {\n    return this.tool.object;\n  }\n  get enableZShape() {\n    return this.tool.enableZShape;\n  }\n  get enableDeleteVertices() {\n    return this.tool.enableDeleteVertices;\n  }\n  get enableZVertex() {\n    return this.tool.enableZVertex;\n  }\n  get autoHideManipulators() {\n    return this.tool.autoHideManipulators;\n  }\n  get enableMoveObject() {\n    return this.tool.enableMoveObject;\n  }\n  get enableMidpoints() {\n    return this.tool.enableMidpoints;\n  }\n  get enableEdgeOffset() {\n    return this.tool.enableEdgeOffset;\n  }\n  get _sketchOptions() {\n    return this.tool.sketchOptions;\n  }\n  get _accentColor() {\n    return this.view.effectiveTheme.accentColor;\n  }\n  removeSelectedVertices() {\n    const e = this._manipulatorInfos.filter(e => e.manipulator.selected && \"vertex\" === e.type);\n    return this._removeVertices(e), e.length;\n  }\n  onManipulatorSelectionChanged() {\n    this.events.emit(\"manipulators-changed\");\n  }\n  _removeManipulators() {\n    this._manipulatorHandles.removeAll(), this._moveManipulation = p(this._moveManipulation), this._objectMoveManipulation = p(this._objectMoveManipulation), this.manipulators.removeAll(), this._manipulatorInfos = [], this._numGrabbing = 0, this._numDragging = 0;\n  }\n  _createManipulators(e) {\n    if (null == this._operations) return;\n    const t = this.object.elevationInfo;\n    for (const i of this._operations.data.components) {\n      const a = e?.byComponentIndex.get(i.index);\n      for (const e of i.vertices) {\n        const i = a?.has(e.index);\n        this._createVertexOrEdgeManipulator(e, t, i);\n      }\n      for (const e of i.edges) this._createVertexOrEdgeManipulator(e, t);\n    }\n    this._createObjectMoveManipulation(), this._createMoveManipulation(t), this._createVisualElements();\n  }\n  get canRedo() {\n    return null != this._operations && this._operations.canRedo;\n  }\n  get canUndo() {\n    return null != this._operations && this._operations.canUndo;\n  }\n  redo() {\n    return this._operations?.redo();\n  }\n  undo() {\n    return this.events.emit(\"undo\"), this._operations?.undo();\n  }\n  _recreateManipulators() {\n    if (!this._recreatingManipulators) {\n      if (this._recreatingManipulators = !0, this._removeManipulators(), this._resetTooltip(), this._operations && this._segmentLabels?.context?.editGeometryOperations === this._operations || (this._segmentLabels = p(this._segmentLabels)), this._createManipulators(), !this._segmentLabels && this._operations) {\n        const e = this._sketchOptions.labels;\n        this._segmentLabels = new D({\n          context: {\n            view: this.view,\n            editGeometryOperations: this._operations,\n            elevationInfo: this.object.elevationInfo,\n            labelOptions: e\n          },\n          visible: e.enabled\n        });\n      }\n      this._recreatingManipulators = !1;\n    }\n  }\n  _perObjectManipulatorDragAction(e, t) {\n    if (\"end\" === t.action) return t;\n    let i = 0;\n    const a = [],\n      n = this._manipulatorInfos.some(e => \"vertex\" === e.type && e.manipulator.selected),\n      o = e === He.SELECTED_OR_ALL && n;\n    for (const s of this._manipulatorInfos) \"vertex\" === s.type && (s.manipulator.grabbing || o && !s.manipulator.selected || a.push(s), i++);\n    this._moveVertices(a, t);\n    if (a.length === i) {\n      if (this._updateEventState(Se.MOVING), this.destroyed) return t;\n      this.events.emit(\"move\", {\n        type: \"move\",\n        dx: t.screenDeltaX,\n        dy: t.screenDeltaY,\n        object: this.object\n      });\n    } else {\n      if (this._updateEventState(Se.RESHAPING), this.destroyed) return t;\n      this.events.emit(\"reshape\", {\n        type: \"reshape\",\n        object: this.object\n      });\n    }\n    return t;\n  }\n  _toggleAutoHideManipulators(e) {\n    this.autoHideManipulators && (e ? this.removeHandles(ve) : this.tool.manipulators.forEach(({\n      manipulator: e\n    }) => {\n      const t = e.disableDisplay?.();\n      t && this.addHandles(t, ve);\n    }));\n  }\n  _isMultiVertexSelection() {\n    return this._manipulatorInfos.reduce((e, t) => \"vertex\" === t.type && t.manipulator.selected ? e + 1 : e, 0) > 1;\n  }\n  _perVertexManipulatorDragAction(e) {\n    if (this._updateEventState(Se.RESHAPING), this.destroyed) return;\n    const {\n      mapDeltaX: t,\n      mapDeltaY: i,\n      mapDeltaZ: a\n    } = e;\n    if (!t && !i && !a) return;\n    const n = [];\n    for (const o of this._manipulatorInfos) \"vertex\" === o.type && (o.manipulator.selected && !o.manipulator.grabbing || o === e.info) && n.push(o);\n    this._moveVertices(n, e, ce.ACCUMULATE_STEPS), this.events.emit(\"reshape\", {\n      type: \"reshape\",\n      object: this.object\n    });\n  }\n  _updateEventState(e) {\n    if (e === this._reshapeEventState) return !1;\n    switch (e) {\n      case Se.NONE:\n        if (0 !== this._numGrabbing || 0 !== this._numDragging) return !1;\n        switch (this._reshapeEventState) {\n          case Se.MOVING:\n            this.events.emit(\"move\", {\n              type: \"move-stop\",\n              dx: 0,\n              dy: 0,\n              object: this.object\n            });\n            break;\n          case Se.RESHAPING:\n            this.events.emit(\"reshape\", {\n              type: \"reshape-stop\",\n              object: this.object\n            });\n        }\n        break;\n      case Se.MOVING:\n        switch (this._reshapeEventState) {\n          case Se.NONE:\n            this.events.emit(\"move\", {\n              type: \"move-start\",\n              dx: 0,\n              dy: 0,\n              object: this.object\n            });\n            break;\n          case Se.RESHAPING:\n            this.events.emit(\"reshape\", {\n              type: \"reshape-stop\",\n              object: this.object\n            }), this.destroyed || this.events.emit(\"move\", {\n              type: \"move-start\",\n              dx: 0,\n              dy: 0,\n              object: this.object\n            });\n        }\n        break;\n      case Se.RESHAPING:\n        switch (this._reshapeEventState) {\n          case Se.NONE:\n            this.events.emit(\"reshape\", {\n              type: \"reshape-start\",\n              object: this.object\n            });\n            break;\n          case Se.MOVING:\n            this.events.emit(\"move\", {\n              type: \"move-stop\",\n              dx: 0,\n              dy: 0,\n              object: this.object\n            }), this.destroyed || this.events.emit(\"reshape\", {\n              type: \"reshape-start\",\n              object: this.object\n            });\n        }\n    }\n    if (this.destroyed) return !1;\n    const t = this._reshapeEventState !== e;\n    return this._reshapeEventState = e, t;\n  }\n  _createObjectMoveManipulation() {\n    const {\n      tool: e,\n      view: t,\n      object: i,\n      _operations: a\n    } = this;\n    if (a) {\n      if (this._objectMoveManipulation = new q({\n        tool: e,\n        view: t,\n        object: i\n      }), this.enableMoveObject) {\n        let e = null;\n        this._manipulatorHandles.add(this._objectMoveManipulation.createDragPipeline((t, i, n) => {\n          i.next(e => this._trackNumDragging(e)).next(t => (\"start\" === t.action && (e = a.createUndoGroup()), t)).next(e => this._perObjectManipulatorDragAction(He.ALL, e)).next(e => (this._updateTranslateObjectTooltip(X.XY, e), e)).next(t => {\n            \"end\" === t.action && (this._resetTooltip(), e = d(e));\n          }), n.next(() => this._onDragCancel(!0, () => e = d(e)));\n        })), this._objectMoveManipulation.forEachManipulator(e => this._manipulatorHandles.add(this._watchAndUpdateGrabState(e, !1)));\n      } else this._objectMoveManipulation.forEachManipulator(e => {\n        e.grabbable = !1, e.cursor = null;\n      });\n      this._objectMoveManipulation.forEachManipulator(e => this._manipulatorHandles.add(e.events.on(\"immediate-click\", e => {\n        this._manipulatorInfos.some(e => e.manipulator.selected) ? this._clearSelection() : this.events.emit(\"immediate-click\", {\n          ...e,\n          object: this.object\n        }), e.stopPropagation();\n      })));\n    }\n  }\n  _createMoveManipulation(e) {\n    const {\n      object: t,\n      tool: i,\n      view: a,\n      _operations: n\n    } = this;\n    if (!n) return;\n    this._moveManipulation = new Y({\n      tool: i,\n      view: a,\n      xyAvailable: !0,\n      xyAxisAvailable: !0,\n      zAvailable: this.enableZShape && R(t.operations, t.elevationInfo),\n      snapToScene: !1,\n      radius: Y.radiusForSymbol(t.graphic?.symbol)\n    }), this._moveManipulation.forEachManipulator(e => this.addHandles([e.events.on(\"immediate-click\", t => {\n      this._moveManipulation.zManipulation.hasManipulator(e) || this._manipulatorInfos.some(e => e.manipulator.selected) || this.events.emit(\"immediate-click\", {\n        ...t,\n        object: this.object\n      }), t.stopPropagation();\n    }), this._watchAndUpdateGrabState(e, !1)]));\n    const o = e => t => {\n      this.addHandles(t.events.on(\"focus-changed\", ({\n        action: t\n      }) => {\n        \"focus\" === t ? this._updateTranslateTooltip(e) : this._resetTooltip();\n      }));\n    };\n    this._moveManipulation.xyManipulation.forEachManipulator(o(X.XY)), this._moveManipulation.xyAxisManipulation.forEachManipulator(o(X.XY_AXIS)), this._moveManipulation.zManipulation.forEachManipulator(o(X.Z)), this._moveManipulation.elevationInfo = {\n      mode: \"absolute-height\",\n      offset: 0\n    };\n    const s = n.data.spatialReference;\n    this.addHandles([this._moveManipulation.createDragPipeline((a, o, s, r, l) => {\n      const {\n        snappingStep: p,\n        cancelSnapping: d\n      } = ge({\n        predicate: e => !!e.info,\n        snappingManager: i.snappingManager,\n        snappingContext: new me({\n          editGeometryOperations: n,\n          elevationInfo: e,\n          pointer: l,\n          excludeFeature: t.graphic,\n          visualizer: new L()\n        }),\n        updatingHandles: this._updatingHandles,\n        useZ: !1\n      });\n      return r = r.next(e => (this._onDragCancel(), e)).next(d), {\n        steps: s = s.next(e => this._trackNumDragging(e)).next(e => {\n          const t = this._manipulatorInfos.filter(e => \"vertex\" === e.type && e.manipulator.selected);\n          return e.manipulatorType === k.TRANSLATE_XY && 1 === t.length ? {\n            ...e,\n            info: t[0],\n            snapOrigin: t[0].handle.pos\n          } : e;\n        }).next(se(this.view, e, t.graphic ?? void 0)).next(...p).next(re()).next(e => this._perObjectManipulatorDragAction(He.SELECTED_OR_ALL, e)).next(e => (this._updateTranslateTooltip(a, e), e)),\n        cancel: r\n      };\n    }, e, s, t.graphic), h(() => t.visible, () => this._updateMoveManipulationPosition(), u), t.on(\"committed\", () => {\n      this._recreatingManipulators || this._updateMoveManipulationPosition();\n    }), h(() => t.isDraped, e => {\n      this._updateMoveManipulationPosition();\n      const t = \"align-move-manipulation\";\n      e ? this.addHandles(this.view.elevationProvider.on(\"elevation-change\", () => this._updateMoveManipulationPosition()), t) : this.removeHandles(t);\n    }, u)]);\n  }\n  _createVisualElements() {\n    const {\n        object: e,\n        view: t\n      } = this,\n      i = z({\n        view: t,\n        object: e,\n        forEachManipulator: e => {\n          if (!this.destroyed && !this._recreatingManipulators) {\n            this._objectMoveManipulation.forEachManipulator(e), this._moveManipulation.forEachManipulator(e);\n            for (const t of this._manipulatorInfos) e(t.manipulator, k.TRANSLATE_XY);\n          }\n        },\n        onManipulatorsChanged: e => this.events.on(\"manipulators-changed\", e)\n      });\n    null != i && (this._outlineVisualElement = i.visualElement instanceof ie ? i.visualElement : null);\n    const a = this._outlineVisualElement;\n    if (null != a) {\n      const t = () => {\n        e.isDraped || this._updateMoveManipulationPosition();\n      };\n      this._manipulatorHandles.add(c(() => a.events, \"attachment-origin-changed\", t, {\n        onListenerAdd: t\n      }));\n    }\n    this._manipulatorHandles.add(i);\n  }\n  _createEdgeOffsetManipulator(e, t = this.object.elevationInfo) {\n    const i = this._operations;\n    if (e.component.vertices.length <= 2 || !i) return null;\n    const a = this._settings.manipulators.edgeOffset,\n      n = a.size / 2,\n      o = n + a.collisionPadding,\n      r = n / o,\n      l = r * Math.sqrt(3) / 2;\n    null == this._edgeOffsetManipulatorGeometryInside && (this._edgeOffsetManipulatorGeometryInside = ae(this._edgeOffsetManipulatorMaterial, l, r / 2, r / 2, a.height, a.offset)), null == this._edgeOffsetManipulatorGeometryOutside && (this._edgeOffsetManipulatorGeometryOutside = ae(this._edgeOffsetManipulatorMaterial, -l, r / 2, r / 2, a.height, -a.offset));\n    const p = [new G(this._edgeOffsetManipulatorGeometryInside.instantiate(), ue.Unfocused), new G(this._edgeOffsetManipulatorGeometryInside.instantiate({\n        material: this._edgeOffsetManipulatorHoverMaterial\n      }), ue.Focused), new G(this._edgeOffsetManipulatorGeometryOutside.instantiate(), ue.Unfocused), new G(this._edgeOffsetManipulatorGeometryOutside.instantiate({\n        material: this._edgeOffsetManipulatorHoverMaterial\n      }), ue.Focused)],\n      d = new w({\n        view: this.view,\n        renderObjects: p,\n        elevationInfo: \"on-the-ground\" !== t.mode || H(this.object.graphic?.symbol) ? {\n          mode: \"absolute-height\",\n          offset: 0\n        } : t,\n        worldOriented: !1,\n        focusMultiplier: 1,\n        radius: o,\n        available: this.object.visible,\n        collisionType: {\n          type: \"disc\",\n          direction: O(0, 0, 1)\n        },\n        collisionPriority: 1,\n        metadata: {\n          deleting: !1\n        }\n      }),\n      h = new w({\n        view: this.view,\n        worldSized: !0,\n        worldOriented: !1,\n        available: this.object.visible,\n        collisionPriority: -10,\n        cursor: this.enableMoveObject ? \"move\" : \"default\",\n        metadata: {\n          deleting: !1\n        }\n      }),\n      u = {\n        manipulator: d,\n        handle: e,\n        locationUpdateHandle: null,\n        type: \"edge\",\n        selectedIndex: 0,\n        edgeManipulator: h,\n        elevationInfo: t,\n        visibilityHandle: null\n      };\n    this._autoHideEdgeOffsetManipulator(u, a.minSquaredEdgeLength), this._updateEdgeOffsetManipulator(u);\n    const c = [];\n    for (const s of [e.leftVertex, e.rightVertex]) {\n      const e = this._getManipulatorInfoFromHandle(s);\n      null != e && c.push(e.manipulator.events.on(\"location-update\", () => this._updateEdgeOffsetManipulator(u)));\n    }\n    u.locationUpdateHandle = s(c), this._manipulatorHandles.add(u.locationUpdateHandle, d), this._manipulatorHandles.add([this._watchAndUpdateGrabState(d, !0), this._watchAndUpdateGrabState(h, !0)], d), this._manipulatorHandles.add(le(d, this._createEdgeOffsetPipeline(u, t)), d), this._manipulatorHandles.add(le(h, (e, a, n, o) => {\n      if (\"touch\" === o) {\n        this._createEdgeOffsetPipeline(u, t)(e, a, n);\n      } else if (this.enableMoveObject) {\n        const o = this.object.graphic,\n          s = i.data.spatialReference;\n        a.next(e => this._trackNumDragging(e)).next(pe(this.view, e.elevationAlignedLocation)).next(P(this.view, e.elevationAlignedLocation, t, s, o)).next(de()).next(re()).next(e => this._perObjectManipulatorDragAction(He.ALL, e)).next(e => (this._updateTranslateObjectTooltip(X.XY, e), e)).next(e => {\n          \"end\" === e.action && this._resetTooltip();\n        }), n.next(() => this._onDragCancel(!e.metadata.deleting));\n      }\n    }), d);\n    const m = e => {\n      this._manipulatorInfos.some(e => e.manipulator.selected) ? this._clearSelection() : this.events.emit(\"immediate-click\", {\n        ...e,\n        object: this.object\n      }), e.stopPropagation();\n    };\n    return this._manipulatorHandles.add([d.events.on(\"immediate-click\", m), h.events.on(\"immediate-click\", m), d.events.on(\"focus-changed\", ({\n      action: e\n    }) => {\n      \"focus\" === e ? this._updateEdgeOffsetTooltip(null) : this._resetTooltip();\n    })], d), this._manipulatorInfos.push(u), this.manipulators.add(d), this.manipulators.add(h), this.events.emit(\"manipulators-changed\"), u;\n  }\n  _autoHideEdgeOffsetManipulator(e, t) {\n    const i = e.manipulator,\n      a = e.edgeManipulator,\n      n = () => {\n        e.visibilityHandle = d(e.visibilityHandle);\n        const n = this._getManipulatorInfoFromHandle(e.handle.leftVertex),\n          o = this._getManipulatorInfoFromHandle(e.handle.rightVertex),\n          l = null != n && null != o && J(n.manipulator.renderLocation, o.manipulator.renderLocation, this.view.state.camera) < t;\n        (!i.focused && !a.focused || l) && (i.grabbable = !l, a.grabbable = !l, e.visibilityHandle = s([i.disableDisplay(), r(() => {\n          i.grabbable = !0, a.grabbable = this.enableMoveObject;\n        })]));\n      };\n    this._manipulatorHandles.add([i.events.on(\"focus-changed\", n), a.events.on(\"focus-changed\", n), r(() => {\n      d(e.visibilityHandle), a.metadata.deleting = !0, this.manipulators.remove(a);\n    })], i), n();\n  }\n  _updateEdgeOffsetManipulator(e) {\n    if (!this._operations) return;\n    this._updateManipulatorPosition(e);\n    const {\n        coordinateHelper: t\n      } = this._operations.data,\n      i = W(this.view, e.manipulator.elevationAlignedLocation, K(t, e.handle, e.manipulator.elevationInfo)),\n      a = this._getManipulatorInfoFromHandle(e.handle.leftVertex),\n      n = this._getManipulatorInfoFromHandle(e.handle.rightVertex);\n    if (null == a || null == n) return;\n    const o = a.manipulator.renderLocation,\n      s = n.manipulator.renderLocation,\n      r = null != i ? B(i, o, s) : _;\n    e.manipulator.modelTransform = r, e.edgeManipulator.elevationAlignedLocation = e.manipulator.elevationAlignedLocation, e.edgeManipulator.modelTransform = r;\n    const l = f(v(Ee, o, s)) / 2;\n    e.edgeManipulator.collisionType = {\n      type: \"line\",\n      paths: [[[-l, 0, 0], [l, 0, 0]]]\n    };\n  }\n  _createEdgeOffsetPipeline(e, t) {\n    return (i, a, n) => {\n      const o = this._operations;\n      if (!o) return;\n      this._clearSelection();\n      const {\n        step: s,\n        cleanup: r\n      } = this._initializeEdgeOffset(e, t, o);\n      a.next(e => this._trackNumDragging(e)).next(pe(this.view, i.elevationAlignedLocation)).next(s).next(C(this.view)).next(N(this.view, o.data.spatialReference)).next(re()).next(be()).next(this._applyEdgeOffsetStep(e)).next(this._showEdgeOffsetTooltip()).next(e => {\n        \"end\" === e.action && r();\n      }), n.next(() => {\n        i.metadata.deleting || (r(), this._onDragCancel());\n      });\n    };\n  }\n  _initializeEdgeOffset(e, t, i) {\n    const {\n        view: n\n      } = this,\n      o = K(i.data.coordinateHelper, e.handle, t),\n      r = i.createUndoGroup(),\n      p = W(n, e.manipulator.elevationAlignedLocation, o);\n    if (o.requiresSplitEdgeLeft) {\n      const t = this._getManipulatorInfoFromHandle(e.handle.leftVertex.leftEdge);\n      null != t && this._splitEdgeManipulator(t, 1);\n    }\n    if (o.requiresSplitEdgeRight) {\n      const t = this._getManipulatorInfoFromHandle(e.handle.rightVertex.rightEdge);\n      null != t && this._splitEdgeManipulator(t, 0);\n    }\n    const c = () => new I({\n        paths: [[e.handle.leftVertex.pos, e.handle.rightVertex.pos]],\n        spatialReference: i.data.spatialReference\n      }),\n      m = this._settings,\n      g = new ie({\n        view: n,\n        isDraped: this.object.isDraped,\n        geometry: c(),\n        elevationInfo: e.elevationInfo,\n        width: m.visualElements.lineObjects.outline.width,\n        attached: !1,\n        isDecoration: !0\n      });\n    let _;\n    const f = () => {\n        this._cleanEdgeOffsetCollapsedEdges(e), _ = d(_);\n      },\n      v = this.events.on(\"undo\", f);\n    return _ = s([h(() => a(this._accentColor), e => g.color = e, u), l(g), h(() => this.object.isDraped, e => g.isDraped = e), this.object.on(\"committed\", () => g.geometry = c()), r, v]), g.attached = !0, {\n      step: e => null == o || null == p ? (f(), null) : {\n        ...e,\n        operation: o,\n        plane: p\n      },\n      cleanup: f\n    };\n  }\n  _applyEdgeOffsetStep(e) {\n    return t => {\n      if (this.destroyed || null == t.operation) return t;\n      this._updateEventState(Se.RESHAPING);\n      const {\n        mapDeltaX: i,\n        mapDeltaY: a,\n        mapDeltaZ: n\n      } = t;\n      return (i || a || n) && (this._offsetEdge(e, t), this.events.emit(\"reshape\", {\n        type: \"reshape\",\n        object: this.object\n      })), t;\n    };\n  }\n  _showEdgeOffsetTooltip() {\n    return e => (null != e.signedDistance && this.object.operations ? this._updateEdgeOffsetTooltip(e) : this._resetTooltip(), e);\n  }\n  _cleanEdgeOffsetCollapsedEdges(e) {\n    if (!this._operations) return;\n    const t = e.handle.leftVertex.leftEdge?.leftVertex,\n      i = e.handle.leftVertex,\n      a = e.handle.rightVertex.rightEdge?.rightVertex,\n      n = e.handle.rightVertex,\n      o = this._operations.data.coordinateHelper,\n      s = [];\n    if (t && o.distance(t.pos, i.pos) < je) {\n      const e = this._getManipulatorInfoFromHandle(i);\n      null != e && s.push(e);\n    }\n    if (o.distance(i.pos, n.pos) < je || a && o.distance(a.pos, n.pos) < je) {\n      const e = this._getManipulatorInfoFromHandle(n);\n      null != e && s.push(e);\n    }\n    s.length && this._removeVertices(s);\n  }\n  _createVertexOrEdgeManipulator(e, t = this.object.elevationInfo, i = !1) {\n    const {\n      view: a,\n      _operations: n\n    } = this;\n    if (!n) return null;\n    const o = this._settings;\n    if (\"edge\" === e.type) {\n      if (this.enableEdgeOffset) return this._createEdgeOffsetManipulator(e, t);\n      if (!this.enableMidpoints) return null;\n    }\n    if (null == this._vertexManipulatorGeometry || null == this._vertexManipulatorOutlineGeometry) {\n      const {\n        size: e,\n        outlineSize: t\n      } = xe(o.manipulators.vertex);\n      this._vertexManipulatorGeometry = ne(this._vertexManipulatorMaterial, e, 16, 16), this._vertexManipulatorOutlineGeometry = ne(this._vertexManipulatorOutlineMaterial, t, 16, 16);\n    }\n    if (null == this._edgeManipulatorGeometry || null == this._edgeManipulatorOutlineGeometry) {\n      const {\n        size: e,\n        outlineSize: t\n      } = xe(o.manipulators.edge);\n      this._edgeManipulatorGeometry = ne(this._edgeManipulatorMaterial, e, 16, 16), this._edgeManipulatorOutlineGeometry = ne(this._edgeManipulatorOutlineMaterial, t, 16, 16);\n    }\n    const r = this._operations?.data.type,\n      l = \"point\" === r || \"mesh\" === r ? [] : [new G(this._vertexManipulatorGeometry.instantiate(), Ie.Vertex | ue.Unselected), new G(this._vertexManipulatorOutlineGeometry.instantiate(), Ie.Vertex | ue.Unfocused | ue.Unselected), new G(this._vertexManipulatorOutlineGeometry.instantiate({\n        material: this._vertexManipulatorHoverOutlineMaterial\n      }), Ie.Vertex | ue.Focused | ue.Unselected), new G(this._vertexManipulatorGeometry.instantiate({\n        material: this._selectedManipulatorMaterial\n      }), ue.Selected), new G(this._vertexManipulatorOutlineGeometry.instantiate({\n        material: this._selectedManipulatorOutlineMaterial\n      }), ue.Selected | ue.Unfocused), new G(this._vertexManipulatorOutlineGeometry.instantiate({\n        material: this._selectedManipulatorHoverOutlineMaterial\n      }), ue.Selected | ue.Focused)];\n    this.enableMidpoints && l.push(new G(this._edgeManipulatorGeometry.instantiate({\n      material: this._vertexManipulatorMaterial\n    }), Ie.Edge | ue.Focused | ue.Unselected), new G(this._edgeManipulatorOutlineGeometry.instantiate({\n      material: this._vertexManipulatorHoverOutlineMaterial\n    }), Ie.Edge | ue.Focused | ue.Unselected), new G(this._edgeManipulatorGeometry.instantiate(), Ie.Edge | ue.Unfocused | ue.Unselected), new G(this._edgeManipulatorOutlineGeometry.instantiate(), Ie.Edge | ue.Unfocused | ue.Unselected));\n    const p = new w({\n      view: a,\n      renderObjects: l,\n      elevationInfo: t,\n      focusMultiplier: 1,\n      touchMultiplier: 1,\n      available: this.object.visible,\n      metadata: {\n        deleting: !1\n      }\n    });\n    p.selected = i, this._setTypeSpecificManipulatorSettings(p, e, t);\n    const h = \"edge\" === e.type ? {\n      manipulator: p,\n      handle: e,\n      locationUpdateHandle: null,\n      type: \"edge\",\n      selectedIndex: 0\n    } : {\n      manipulator: p,\n      handle: e,\n      type: \"vertex\",\n      selectedIndex: 0\n    };\n    if (this._manipulatorInfos.push(h), this.manipulators.add(p), this._updateManipulatorPosition(h), \"edge\" === h.type) {\n      const e = [];\n      for (const t of [h.handle.leftVertex, h.handle.rightVertex]) {\n        const i = this._getManipulatorInfoFromHandle(t);\n        null != i && e.push(i.manipulator.events.on(\"location-update\", () => this._updateManipulatorPosition(h)));\n      }\n      h.locationUpdateHandle = s(e), this._manipulatorHandles.add(h.locationUpdateHandle, p);\n    }\n    this._manipulatorHandles.add(this._watchAndUpdateGrabState(p, !0), p);\n    const u = le(p, (e, i, a, o) => {\n      let s = null;\n      const {\n        snappingStep: r,\n        cancelSnapping: l\n      } = ge({\n        predicate: () => !this._isMultiVertexSelection(),\n        snappingManager: this.tool.snappingManager,\n        snappingContext: new me({\n          editGeometryOperations: n,\n          elevationInfo: t,\n          pointer: o,\n          excludeFeature: this.object.graphic,\n          visualizer: new L()\n        }),\n        updatingHandles: this._updatingHandles,\n        useZ: !1\n      });\n      a = a.next(t => (this._onDragCancel(!e.metadata.deleting, () => s = d(s)), t)).next(l), i.next(e => this._trackNumDragging(e)).next(e => {\n        if (\"start\" === e.action && this._operations && (s = this._operations.createUndoGroup()), \"edge\" === h.type) {\n          const t = this._splitEdgeManipulator(h);\n          return {\n            ...e,\n            info: t,\n            snapOrigin: t.handle.pos\n          };\n        }\n        return {\n          ...e,\n          info: h,\n          snapOrigin: h.handle.pos\n        };\n      }).next(pe(this.view, e.elevationAlignedLocation)).next(P(this.view, e.elevationAlignedLocation, this.object.elevationInfo, e.location.spatialReference, this.object.graphic)).next(se(this.view, t, this.object.graphic ?? void 0)).next(...r).next(re()).next(e => {\n        this._perVertexManipulatorDragAction(e), \"end\" === e.action && (s = d(s)), this._resetTooltip();\n      });\n    });\n    return this._manipulatorHandles.add([u, p.events.on(\"immediate-click\", e => this._manipulatorClickCallback(e, h)), p.events.on(\"select-changed\", () => {\n      h.selectedIndex = ++this._selectedIndex, this._updateMoveManipulationPosition(), this._resetTooltip();\n    }), p.events.on(\"focus-changed\", () => {\n      this._resetTooltip();\n    })], p), this.events.emit(\"manipulators-changed\"), h;\n  }\n  _trackNumDragging(e) {\n    switch (e.action) {\n      case \"start\":\n        this._numDragging++;\n        break;\n      case \"end\":\n        this._numDragging--;\n    }\n    return e;\n  }\n  _onDragCancel(e = !0, t) {\n    switch (this._numDragging--, e && this.undo(), null != this.tool.snappingManager && this.tool.snappingManager.doneSnapping(), this._resetTooltip(), this._reshapeEventState) {\n      case Se.NONE:\n        break;\n      case Se.MOVING:\n        this.events.emit(\"move\", {\n          type: \"move\",\n          dx: 0,\n          dy: 0,\n          object: this.object\n        });\n        break;\n      case Se.RESHAPING:\n        this.events.emit(\"reshape\", {\n          type: \"reshape\",\n          object: this.object\n        });\n    }\n    t && t(), this.destroyed || this._updateEventState(Se.NONE);\n  }\n  _setTypeSpecificManipulatorSettings(e, t, i) {\n    const a = this._settings;\n    switch (t.type) {\n      case \"vertex\":\n        {\n          e.state = Ie.Vertex, e.selectable = !0, e.cursor = \"move\", e.collisionPriority = 2;\n          const {\n            size: t,\n            collisionPadding: n\n          } = a.manipulators.vertex;\n          e.radius = t / 2 + n, e.elevationInfo = i;\n          const o = this._operations?.data.type;\n          e.interactive = null != o && \"point\" !== o && \"mesh\" !== o;\n          break;\n        }\n      case \"edge\":\n        {\n          e.state = Ie.Edge, e.selectable = !1, e.cursor = \"copy\", e.collisionPriority = -1;\n          const {\n            size: t,\n            collisionPadding: n\n          } = a.manipulators.edge;\n          e.radius = t / 2 + n, e.elevationInfo = \"on-the-ground\" !== i.mode || H(this.object.graphic?.symbol) ? {\n            mode: \"absolute-height\",\n            offset: 0\n          } : i;\n          break;\n        }\n    }\n  }\n  _watchAndUpdateGrabState(e, t) {\n    return e.events.on(\"grab-changed\", i => this._onGrabStateChanged(e, t, i.action, i.pointerType));\n  }\n  _onGrabStateChanged(e, t, i, a = \"mouse\") {\n    if (!this._recreatingManipulators) {\n      if (\"start\" === i) t && this._updateSelection(e), this._numGrabbing++;else if (this._numGrabbing--, this._updateEventState(Se.NONE), this.destroyed) return;\n      this._moveManipulation.interactive = !this._numGrabbing, (\"touch\" !== a || this.enableEdgeOffset) && (this._manipulatorInfos.forEach(e => {\n        const {\n            manipulator: t\n          } = e,\n          i = this._operations?.data.type;\n        t.interactive = t.grabbing || !this._numGrabbing && null != i && \"point\" !== i && \"mesh\" !== i, \"edgeManipulator\" in e && (e.edgeManipulator.interactive = e.edgeManipulator.grabbing || !this._numGrabbing);\n      }), this._objectMoveManipulation.forEachManipulator(e => {\n        e.interactive = e.grabbing || !this._numGrabbing;\n      }));\n    }\n  }\n  _clearSelection() {\n    for (const e of this._manipulatorInfos) e.manipulator.grabbing || (e.manipulator.selected = !1);\n  }\n  _updateSelection(e) {\n    e.grabbing && !e.selected && e.selectable && (this._clearSelection(), e.selected = !0, this.events.emit(\"manipulators-changed\"));\n  }\n  _removeManipulator(e) {\n    null != e && (e.manipulator.metadata.deleting = !0, this.manipulators.remove(e.manipulator), this._manipulatorHandles.remove(e.manipulator), i(this._manipulatorInfos, e), this.events.emit(\"manipulators-changed\"), this._resetTooltip());\n  }\n  _getManipulatorInfoFromHandle(e) {\n    if (e) for (const t of this._manipulatorInfos) if (e === t.handle) return t;\n    return null;\n  }\n  _updateManipulatorPositions(e) {\n    for (const t of e) this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(t));\n  }\n  _updateManipulatorPosition(e) {\n    const t = this._operations;\n    if (null != e && t) if (\"vertex\" === e.type) e.manipulator.location = t.data.coordinateHelper.vectorToDehydratedPoint(e.handle.pos, Oe), e.manipulator.grabbing && null != this._vertexLaserLineVisualElement && (this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation = e.manipulator.renderLocation);else if (\"edge\" === e.type) {\n      const i = this._getManipulatorInfoFromHandle(e.handle.leftVertex),\n        a = this._getManipulatorInfoFromHandle(e.handle.rightVertex);\n      if (null == i || null == a) return;\n      const n = i.manipulator,\n        o = a.manipulator;\n      if (null != e.manipulator.elevationInfo && \"on-the-ground\" === e.manipulator.elevationInfo.mode) {\n        const i = n.location,\n          a = o.location,\n          s = .5,\n          r = i.x + s * (a.x - i.x),\n          l = i.y + s * (a.y - i.y),\n          p = i.hasZ && a.hasZ ? 0 : void 0;\n        e.manipulator.location = S(r, l, p, t.data.spatialReference);\n      } else M(Ee, n.renderLocation, o.renderLocation, .5), e.manipulator.renderLocation = Ee;\n    }\n  }\n  _splitEdgeManipulator(e, t = .5) {\n    const i = this._operations,\n      a = i.splitEdge(e.handle, t).createdVertex;\n    e.locationUpdateHandle = d(e.locationUpdateHandle);\n    const n = this.object.elevationInfo;\n    let o;\n    this.enableEdgeOffset ? (this._removeManipulator(e), o = this._createVertexOrEdgeManipulator(a)) : (o = e, o.handle = a, o.type = \"vertex\", this._setTypeSpecificManipulatorSettings(e.manipulator, e.handle, n)), a.leftEdge && this._createVertexOrEdgeManipulator(a.leftEdge), a.rightEdge && this._createVertexOrEdgeManipulator(a.rightEdge), this._updateManipulatorPosition(o), this.enableEdgeOffset || this._resetTooltip(), this._updateSelection(e.manipulator);\n    const s = this._updateEventState(Se.RESHAPING),\n      r = i.data.coordinateHelper.vectorToArray(o.handle.pos),\n      l = i.data.components.indexOf(a.component);\n    return this.events.emit(\"vertex-add\", {\n      type: \"vertex-add\",\n      object: this.object,\n      vertices: [{\n        coordinates: r,\n        componentIndex: l,\n        vertexIndex: a.index\n      }],\n      added: r\n    }), s && this._updateEventState(Se.NONE), o;\n  }\n  _updateMoveManipulationPosition() {\n    const e = b(Ee, 0, 0, 0);\n    let t = 0,\n      i = !1,\n      a = null,\n      n = null;\n    for (const r of this._manipulatorInfos) \"vertex\" === r.type && (r.manipulator.selected ? (t++, x(e, e, r.manipulator.renderLocation), null == a || r.selectedIndex > a.selectedIndex ? (n = a, a = r) : (null == n || r.selectedIndex > n.selectedIndex) && (n = r)) : i = !0);\n    const o = this.object,\n      s = this._operations?.data.geometry;\n    if (0 === t) {\n      const e = o.visible && this.enableMoveObject;\n      this._moveManipulation.xyManipulation.available = e, this._moveManipulation.xyAxisManipulation.available = e, this._moveManipulation.xyAxisManipulation.orthogonalAvailable = e, this._moveManipulation.zManipulation.available = e && this.enableZShape && R(this._operations, o.elevationInfo), this._moveManipulation.angle = U(s), this._moveManipulation.radius = Y.radiusForSymbol(o.graphic?.symbol);\n    } else {\n      const e = o.visible;\n      this._moveManipulation.xyManipulation.available = e, this._moveManipulation.xyAxisManipulation.available = e, this._moveManipulation.zManipulation.available = e && this.enableZVertex && R(this._operations, this.object.elevationInfo), this._moveManipulation.xyAxisManipulation.orthogonalAvailable = e && 1 !== t;\n      let i = 0;\n      if (null != a) {\n        const e = a.handle.pos,\n          t = null != n ? n.handle.pos : a.handle.leftEdge?.leftVertex ? a.handle.leftEdge.leftVertex.pos : null,\n          o = null == n && a.handle.rightEdge?.rightVertex ? a.handle.rightEdge.rightVertex.pos : null;\n        t && o ? this._moveManipulation.xyAxisManipulation.available = !1 : t ? i = ye(t, e) : o && (i = ye(e, o));\n      }\n      this._moveManipulation.angle = i, this._moveManipulation.radius = Z;\n    }\n    0 !== t && i ? (y(e, e, 1 / t), Oe.spatialReference = this._operations.data.spatialReference, Oe.hasZ = !0, this.view.renderCoordsHelper.fromRenderCoords(e, Oe), this._moveManipulation.elevationAlignedLocation = Oe) : null == this._outlineVisualElement || this.object.isDraped || null == this._outlineVisualElement.attachmentOrigin ? A(this._moveManipulation, this.object) : this._moveManipulation.elevationAlignedLocation = this._outlineVisualElement.attachmentOrigin;\n  }\n  _removeVertices(e) {\n    const t = new Array(),\n      i = this._operations;\n    if (i) {\n      for (const a of e) {\n        const e = a.handle.component;\n        if (\"vertex\" === a.type && i.canRemoveVertex(e)) {\n          t.push(a.handle), this._removeManipulator(a), this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.leftEdge)), this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.rightEdge));\n          const n = i.removeVertices([a.handle]),\n            o = n.removedVertices?.[0].createdEdge;\n          o ? this._createVertexOrEdgeManipulator(o) : this.enableEdgeOffset && e.vertices.length <= 2 && this._removeManipulator(this._getManipulatorInfoFromHandle(e.edges[0]));\n        }\n      }\n      if (t.length > 0) {\n        const e = t.map(e => {\n            const t = i.data.components.indexOf(e.component);\n            return {\n              coordinates: i.data.coordinateHelper.vectorToArray(e.pos),\n              componentIndex: t,\n              vertexIndex: e.index\n            };\n          }),\n          a = this._updateEventState(Se.RESHAPING);\n        if (this.destroyed) return;\n        if (this.events.emit(\"vertex-remove\", {\n          type: \"vertex-remove\",\n          object: this.object,\n          removed: e.map(e => e.coordinates),\n          vertices: e\n        }), this.destroyed) return;\n        if (a && (this._updateEventState(Se.NONE), this.destroyed)) return;\n        this._updateMoveManipulationPosition();\n      }\n    }\n  }\n  _moveVertices(e, t, i = \"start\" === t.action ? ce.NEW_STEP : ce.ACCUMULATE_STEPS) {\n    const a = this._operations;\n    if (a) {\n      e.length > 0 && a.moveVertices(e.map(e => e.handle), t.mapDeltaX, t.mapDeltaY, t.mapDeltaZ, i);\n      for (const t of e) this._updateManipulatorPosition(t);\n    }\n  }\n  _offsetEdge(e, t) {\n    if (null == t.operation || null == t.signedDistance) return;\n    const i = this._operations;\n    if (!i) return;\n    const a = t.operation.clone();\n    a.distance = t.signedDistance, i.updateVertices([e.handle.leftVertex, e.handle.rightVertex], a), this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.leftVertex)), this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.rightVertex));\n  }\n  _manipulatorClickCallback(e, t) {\n    e.shiftKey || this._clearSelection(), \"vertex\" === t.type && (t.manipulator.selected = !t.manipulator.selected, this.enableDeleteVertices && e.button === oe.Right && this._removeVertices([t])), \"edge\" === t.type && e.button === oe.Left && this._splitEdgeManipulator(t), e.stopPropagation();\n  }\n  _updateTranslateTooltip(e, t) {\n    null != this._defaultTooltipInfo ? this._resetTooltip() : this._updateTranslateObjectTooltip(e, t);\n  }\n  _updateTranslateObjectTooltip(e, t) {\n    this.activeTooltipInfo = ee(e, t, this._tooltipsContext);\n  }\n  _updateEdgeOffsetTooltip(e) {\n    this.activeTooltipInfo = te(this.object, e, this._tooltipsContext);\n  }\n  _resetTooltip() {\n    this.activeTooltipInfo = this._defaultTooltipInfo;\n  }\n  get _defaultTooltipInfo() {\n    const e = this._operations?.data.type;\n    switch (e) {\n      case \"polyline\":\n      case \"polygon\":\n        return this._selectedVertexManipulatorInfo ? this.tooltipInfos.selectedVertex : null;\n      case \"point\":\n      case \"mesh\":\n        return this.tooltipInfos.movePoint;\n      default:\n        return null;\n    }\n  }\n  get _selectedVertexManipulatorInfo() {\n    const e = this._manipulatorInfos.filter(e => \"vertex\" === e.type && e.manipulator.selected);\n    return 1 === e.length ? e[0] : null;\n  }\n  get _tooltipsContext() {\n    const {\n      events: e\n    } = this;\n    return {\n      sketchOptions: this._sketchOptions,\n      tooltipInfos: this.tooltipInfos,\n      activeTooltipInfo: this.activeTooltipInfo,\n      selectedVertexManipulatorInfo: this._selectedVertexManipulatorInfo,\n      callbacks: {\n        onReshapeStart: () => e.emit(\"reshape\", {\n          type: \"reshape-start\",\n          object: this.object\n        }),\n        onReshape: () => e.emit(\"reshape\", {\n          type: \"reshape\",\n          object: this.object\n        }),\n        onReshapeStop: () => e.emit(\"reshape\", {\n          type: \"reshape-stop\",\n          object: this.object\n        }),\n        onMoveStart: () => e.emit(\"move\", {\n          type: \"move-start\",\n          object: this.object,\n          dx: 0,\n          dy: 0\n        }),\n        onMove: () => e.emit(\"move\", {\n          type: \"move\",\n          object: this.object,\n          dx: 0,\n          dy: 0\n        }),\n        onMoveStop: () => e.emit(\"move\", {\n          type: \"move-stop\",\n          object: this.object,\n          dx: 0,\n          dy: 0\n        })\n      }\n    };\n  }\n  get test() {}\n};\nfunction be() {\n  return e => {\n    const {\n      operation: t,\n      mapEnd: i\n    } = e;\n    return null == t || null == i ? e : (\"start\" === e.action && t.selectArrowFromStartPoint(i), {\n      ...e,\n      signedDistance: t.signedDistanceToPoint(i)\n    });\n  };\n}\nfunction xe(e) {\n  const t = e.size / 2,\n    i = t + e.collisionPadding;\n  return {\n    size: t / i,\n    outlineSize: (t + e.outlineSize) / i\n  };\n}\nfunction ye(e, t) {\n  return Math.atan2(t[1] - e[1], t[0] - e[0]) + Math.PI / 2;\n}\ne([m()], Me.prototype, \"_numGrabbing\", void 0), e([m()], Me.prototype, \"_numDragging\", void 0), e([m()], Me.prototype, \"grabbingOrDragging\", null), e([m()], Me.prototype, \"_operations\", null), e([m()], Me.prototype, \"_segmentLabels\", void 0), e([m({\n  constructOnly: !0\n})], Me.prototype, \"tool\", void 0), e([m()], Me.prototype, \"tooltip\", void 0), e([m()], Me.prototype, \"activeTooltipInfo\", void 0), e([m({\n  readOnly: !0\n})], Me.prototype, \"updating\", null), e([m()], Me.prototype, \"manipulators\", null), e([m()], Me.prototype, \"view\", null), e([m()], Me.prototype, \"object\", null), e([m()], Me.prototype, \"enableZShape\", null), e([m()], Me.prototype, \"enableDeleteVertices\", null), e([m()], Me.prototype, \"enableZVertex\", null), e([m()], Me.prototype, \"autoHideManipulators\", null), e([m()], Me.prototype, \"enableMoveObject\", null), e([m()], Me.prototype, \"enableMidpoints\", null), e([m()], Me.prototype, \"enableEdgeOffset\", null), e([m()], Me.prototype, \"_sketchOptions\", null), e([m()], Me.prototype, \"_accentColor\", null), e([m()], Me.prototype, \"_tooltipsContext\", null), Me = e([g(\"esri.views.3d.interactive.editingTools.reshape.ReshapeOperation\")], Me);\nconst Oe = S(0, 0, void 0, fe.WGS84),\n  Ee = E(),\n  je = 1e-6;\nvar Ie, Se, He;\n!function (e) {\n  e.Vertex = he.Custom1, e.Edge = he.Custom2;\n}(Ie || (Ie = {})), function (e) {\n  e[e.NONE = 0] = \"NONE\", e[e.MOVING = 1] = \"MOVING\", e[e.RESHAPING = 2] = \"RESHAPING\";\n}(Se || (Se = {})), function (e) {\n  e[e.ALL = 0] = \"ALL\", e[e.SELECTED_OR_ALL = 1] = \"SELECTED_OR_ALL\";\n}(He || (He = {}));\nexport { Me as ReshapeOperation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../../core/Evented.js\";\nimport \"../../../../../core/has.js\";\nimport { destroyMaybe as o } from \"../../../../../core/maybe.js\";\nimport { property as i } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { ReshapeOperation as r } from \"./ReshapeOperation.js\";\nimport { InteractiveToolBase as s } from \"../../../../interactive/InteractiveToolBase.js\";\nimport { sketchKeys as p } from \"../../../../interactive/keybindings.js\";\nimport a from \"../../../../interactive/sketch/SketchOptions.js\";\nimport { enterInputModeIfAvailable as h } from \"../../../../interactive/tooltip/tooltipCommonUtils.js\";\nlet l = class extends s {\n  constructor(e) {\n    super(e), this.events = new t(), this.enableZShape = !0, this.enableZVertex = !0, this.enableMoveObject = !0, this.enableDeleteVertices = !0, this.autoHideManipulators = !1, this.enableMidpoints = !0, this.enableEdgeOffset = !1, this.type = \"reshape-3d\", this.sketchOptions = new a(), this.snappingManager = null, this.automaticManipulatorSelection = !1;\n  }\n  initialize() {\n    const e = this._reshapeOperation = new r({\n      tool: this\n    });\n    this.addHandles([e.events.on(\"reshape\", e => this.events.emit(\"reshape\", e)), e.events.on(\"move\", e => this.events.emit(\"move\", e)), e.events.on(\"vertex-add\", e => this.events.emit(\"vertex-add\", e)), e.events.on(\"vertex-remove\", e => this.events.emit(\"vertex-remove\", e)), e.events.on(\"immediate-click\", e => this.events.emit(\"immediate-click\", {\n      ...e,\n      object: this.object\n    })), this.view.on(\"pointer-down\", [\"Shift\"], e => e.stopPropagation())]), this.finishToolCreation();\n  }\n  destroy() {\n    this._reshapeOperation = o(this._reshapeOperation);\n  }\n  get updating() {\n    return ((this.object.updating ?? !1) || this._reshapeOperation?.updating) ?? !1;\n  }\n  get activeTooltipInfo() {\n    return this._reshapeOperation?.activeTooltipInfo ?? null;\n  }\n  get tooltip() {\n    return this._reshapeOperation?.tooltip ?? null;\n  }\n  onManipulatorSelectionChanged() {\n    this._reshapeOperation && this._reshapeOperation.onManipulatorSelectionChanged();\n  }\n  get canUndo() {\n    return this._reshapeOperation.canUndo ?? !1;\n  }\n  undo() {\n    null != this.snappingManager && this.snappingManager.doneSnapping(), this._reshapeOperation.undo();\n  }\n  get canRedo() {\n    return this._reshapeOperation.canRedo ?? !1;\n  }\n  redo() {\n    null != this.snappingManager && this.snappingManager.doneSnapping(), this._reshapeOperation.redo();\n  }\n  onInputEvent(e) {\n    const t = this._reshapeOperation;\n    if ((!t || t.grabbingOrDragging || !h(e, t.tooltip)) && this.enableDeleteVertices && \"key-down\" === e.type && p.delete.includes(e.key)) {\n      this._reshapeOperation.removeSelectedVertices() > 0 && e.stopPropagation();\n    }\n  }\n  reset() {}\n  get test() {}\n};\ne([i()], l.prototype, \"_reshapeOperation\", void 0), e([i()], l.prototype, \"view\", void 0), e([i({\n  constructOnly: !0\n})], l.prototype, \"object\", void 0), e([i()], l.prototype, \"enableZShape\", void 0), e([i()], l.prototype, \"enableZVertex\", void 0), e([i()], l.prototype, \"enableMoveObject\", void 0), e([i()], l.prototype, \"enableDeleteVertices\", void 0), e([i()], l.prototype, \"autoHideManipulators\", void 0), e([i()], l.prototype, \"enableMidpoints\", void 0), e([i()], l.prototype, \"enableEdgeOffset\", void 0), e([i()], l.prototype, \"type\", void 0), e([i({\n  type: a\n})], l.prototype, \"sketchOptions\", void 0), e([i()], l.prototype, \"snappingManager\", void 0), e([i()], l.prototype, \"updating\", null), e([i()], l.prototype, \"activeTooltipInfo\", null), e([i()], l.prototype, \"tooltip\", null), e([i()], l.prototype, \"automaticManipulatorSelection\", void 0), l = e([n(\"esri.views.3d.interactive.editingTools.reshape.ReshapeTool3D\")], l);\nexport { l as ReshapeTool3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../../core/Accessor.js\";\nimport { deg2rad as o, rad2deg as i } from \"../../../../../core/mathUtils.js\";\nimport { when as r, sync as n } from \"../../../../../core/reactiveUtils.js\";\nimport { property as s } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { axis as l, angle as c } from \"../../../../../geometry/support/axisAngleDegrees.js\";\nlet p = class extends e {\n  constructor(t) {\n    super(t), this._interactionState = null;\n  }\n  initialize() {\n    this.addHandles([r(() => {\n      const t = this._interactionState;\n      return t && t.angle !== t.previousAngle ? {\n        interactionState: t,\n        angle: t.state.angle\n      } : null;\n    }, ({\n      interactionState: t\n    }) => {\n      this._updateMeshRotation(t);\n    }, n), r(() => {\n      const t = this._interactionState;\n      return t && t.scale !== t.previousScale ? {\n        interactionState: t,\n        scale: t.state.scale\n      } : null;\n    }, ({\n      interactionState: t\n    }) => {\n      this._updateMeshSize(t);\n    }, n)]);\n  }\n  get initialAngle() {\n    return this._interactionState?.initialAngle ?? 0;\n  }\n  get angle() {\n    const t = this.geometry.transform;\n    if (null == t) return this._interactionState?.angle ?? 0;\n    const e = l(t.rotation)[2];\n    return Math.abs(e) > .999999 ? o(c(t.rotation)) * Math.sign(e) : 0;\n  }\n  get angleClockwise() {\n    return -this.angle;\n  }\n  get relativeAngle() {\n    return this.angle - this.initialAngle;\n  }\n  get relativeAngleClockwise() {\n    return -this.relativeAngle;\n  }\n  get scale() {\n    return this._interactionState?.scale ?? 1;\n  }\n  startInteraction() {\n    const t = new g({\n      angle: this.angle\n    });\n    this._interactionState = t;\n    const e = () => {\n      this._interactionState = null;\n    };\n    return {\n      state: t,\n      done: e,\n      cancel: () => {\n        t.cancel(), e();\n      }\n    };\n  }\n  createUndoRecord() {\n    return this.object.createUndoRecord();\n  }\n  _updateMeshRotation(t) {\n    const {\n      angle: e,\n      previousAngle: o\n    } = t;\n    t.previousAngle = e;\n    const r = i(e - o);\n    this.geometry.rotate(0, 0, r, {\n      origin: this.geometry.anchor\n    });\n  }\n  _updateMeshSize(t) {\n    const {\n      scale: e,\n      previousScale: o\n    } = t;\n    t.previousScale = e;\n    const i = e / o,\n      r = this.geometry.anchor;\n    this.geometry.scale(i, {\n      origin: r\n    });\n  }\n};\nt([s({\n  constructOnly: !0\n})], p.prototype, \"object\", void 0), t([s({\n  constructOnly: !0\n})], p.prototype, \"geometry\", void 0), t([s({\n  constructOnly: !0\n})], p.prototype, \"viewingMode\", void 0), t([s()], p.prototype, \"initialAngle\", null), t([s()], p.prototype, \"angle\", null), t([s()], p.prototype, \"angleClockwise\", null), t([s()], p.prototype, \"relativeAngle\", null), t([s()], p.prototype, \"relativeAngleClockwise\", null), t([s()], p.prototype, \"scale\", null), t([s()], p.prototype, \"_interactionState\", void 0), p = t([a(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateMeshAdapter\")], p);\nlet g = class extends e {\n  get state() {\n    const {\n      angle: t,\n      scale: e\n    } = this;\n    return {\n      angle: t,\n      scale: e\n    };\n  }\n  constructor(t) {\n    super(t), this.angle = 0, this.initialAngle = 0, this.previousAngle = 0, this.previousScale = 1, this.scale = 1, this.initialAngle = t.angle, this.previousAngle = t.angle;\n  }\n  cancel() {\n    this.angle = this.initialAngle, this.scale = 1;\n  }\n};\nt([s()], g.prototype, \"angle\", void 0), t([s()], g.prototype, \"initialAngle\", void 0), t([s()], g.prototype, \"previousAngle\", void 0), t([s()], g.prototype, \"previousScale\", void 0), t([s()], g.prototype, \"scale\", void 0), t([s()], g.prototype, \"state\", null), g = t([a(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateMeshAdapter.InteractionState\")], g);\nexport { p as ScaleRotateMeshAdapter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../../core/Accessor.js\";\nimport { rad2deg as i, deg2rad as l } from \"../../../../../core/mathUtils.js\";\nimport { when as n, sync as o } from \"../../../../../core/reactiveUtils.js\";\nimport { property as r } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nlet a = class extends e {\n  constructor(t) {\n    super(t), this.sizeAxis = null, this._interactionState = null;\n  }\n  initialize() {\n    this.addHandles(n(() => null != this._interactionState ? this._interactionState.state : null, t => {\n      this._updateSymbol(t);\n    }, o));\n  }\n  get initialAngle() {\n    return this._interactionState?.initialAngle ?? 0;\n  }\n  get angle() {\n    return null != this._interactionState ? this._interactionState.angle : null != this._orientationReferenceSymbolLayer ? c(this._orientationReferenceSymbolLayer.heading ?? 0) : 0;\n  }\n  get angleClockwise() {\n    return -this.angle;\n  }\n  get orientation() {\n    return this.angle;\n  }\n  get orientationClockwise() {\n    return this.angleClockwise;\n  }\n  get relativeAngle() {\n    return this.angle - this.initialAngle;\n  }\n  get relativeAngleClockwise() {\n    return -this.relativeAngle;\n  }\n  get scale() {\n    return this._interactionState?.scale ?? 1;\n  }\n  get size() {\n    const t = this._sizeReferenceSymbolLayer;\n    if (null == t) return null;\n    const e = this.findLayerView(),\n      i = this._graphicSymbol;\n    if (null == e || null == i || \"point-3d\" !== i.type) return null;\n    const l = e.getSymbolLayerSize(i, t);\n    if (\"size\" in l && null != l.size) return l.size;\n    const n = this.sizeAxis;\n    return !(\"width\" in l) || null == l.width || null != n && \"width\" !== n && \"all\" !== n && \"width-and-depth\" !== n ? !(\"depth\" in l) || null == t.depth || null != n && \"depth\" !== n && \"all\" !== n && \"width-and-depth\" !== n ? !(\"height\" in l) || null == t.height || null != n && \"height\" !== n && \"all\" !== n ? null : l.height : l.depth : l.width;\n  }\n  get _sizeReferenceSymbolLayer() {\n    const t = this._graphicSymbol;\n    return null == t || 0 === t.symbolLayers.length ? null : t.symbolLayers.find(t => \"object\" === t.type);\n  }\n  get _orientationReferenceSymbolLayer() {\n    const t = this._graphicSymbol;\n    return null == t || 0 === t.symbolLayers.length ? null : t.symbolLayers.find(t => \"object\" === t.type && null != t.heading);\n  }\n  get _graphicSymbol() {\n    return null != this.graphic?.symbol && \"point-3d\" === this.graphic.symbol.type ? this.graphic.symbol : null;\n  }\n  set _graphicSymbol(t) {\n    this.graphic.symbol = t;\n  }\n  startInteraction() {\n    const t = this._graphicSymbol,\n      e = this.findLayerView();\n    if (null != this._interactionState || null == t || null == e) return h;\n    const i = t.symbolLayers.map(i => \"object\" === i.type ? e.getSymbolLayerSize(t, i) : null).toArray(),\n      l = t.clone(),\n      n = this.angle,\n      o = new p({\n        originalSymbol: l,\n        angle: n,\n        initialSizes: i\n      });\n    this._interactionState = o;\n    const r = () => {\n      this._interactionState = null;\n    };\n    return {\n      state: o,\n      done: r,\n      cancel: () => {\n        this._graphicSymbol = l, r();\n      }\n    };\n  }\n  createUndoRecord() {\n    let t = this.graphic.symbol,\n      e = null;\n    return {\n      undo: i => {\n        e = i.symbol, i.symbol = t;\n      },\n      redo: i => {\n        t = i.symbol, i.symbol = e;\n      }\n    };\n  }\n  _updateSymbol({\n    scale: t,\n    angle: e,\n    originalSymbol: l,\n    initialSizes: n\n  }) {\n    const o = this._graphicSymbol;\n    if (null == o || \"point-3d\" !== o.type) return;\n    const r = o.clone(),\n      s = -i(e - this.initialAngle);\n    let a = !1;\n    this._forEachObjectSymbolLayerPair(l, r, (e, i, l) => {\n      const o = (e.heading ?? 0) + s;\n      i.heading !== o && (i.heading = o, a = !0);\n      const r = n[l];\n      if (null != r && \"width\" in r) {\n        r.width = this.sizeFilter(r.width), r.height = this.sizeFilter(r.height), r.depth = this.sizeFilter(r.depth);\n        const e = r.width * t;\n        i.width !== e && (i.width = e, a = !0);\n        const l = r.depth * t;\n        i.depth !== l && (i.depth = l, a = !0);\n        const n = r.height * t;\n        i.height !== n && (i.height = n, a = !0);\n      }\n    }), a && (this._graphicSymbol = r);\n  }\n  _forEachObjectSymbolLayerPair(t, e, i) {\n    t.symbolLayers.forEach((t, l) => {\n      const n = e.symbolLayers.at(l);\n      \"object\" === t.type && \"object\" === n.type && i(t, n, l);\n    });\n  }\n};\nfunction c(t) {\n  return -l(t);\n}\nt([r()], a.prototype, \"initialAngle\", null), t([r()], a.prototype, \"angle\", null), t([r()], a.prototype, \"angleClockwise\", null), t([r()], a.prototype, \"orientation\", null), t([r()], a.prototype, \"orientationClockwise\", null), t([r()], a.prototype, \"relativeAngle\", null), t([r()], a.prototype, \"relativeAngleClockwise\", null), t([r()], a.prototype, \"scale\", null), t([r()], a.prototype, \"size\", null), t([r()], a.prototype, \"sizeAxis\", void 0), t([r({\n  constructOnly: !0\n})], a.prototype, \"graphic\", void 0), t([r()], a.prototype, \"_interactionState\", void 0), t([r({\n  constructOnly: !0\n})], a.prototype, \"findLayerView\", void 0), t([r({\n  constructOnly: !0\n})], a.prototype, \"sizeFilter\", void 0), t([r()], a.prototype, \"_sizeReferenceSymbolLayer\", null), t([r()], a.prototype, \"_orientationReferenceSymbolLayer\", null), t([r()], a.prototype, \"_graphicSymbol\", null), a = t([s(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateObjectSymbol3DAdapter\")], a);\nconst h = {\n  state: {\n    angle: 0,\n    scale: 0\n  },\n  done: () => {},\n  cancel: () => {}\n};\nlet p = class extends e {\n  get state() {\n    const {\n      originalSymbol: t,\n      angle: e,\n      initialAngle: i,\n      scale: l,\n      initialSizes: n\n    } = this;\n    return {\n      originalSymbol: t,\n      angle: e,\n      initialAngle: i,\n      scale: l,\n      initialSizes: n\n    };\n  }\n  constructor(t) {\n    super(t), this.angle = 0, this.initialAngle = 0, this.scale = 1, this.initialAngle = t.angle;\n  }\n};\nt([r()], p.prototype, \"originalSymbol\", void 0), t([r()], p.prototype, \"angle\", void 0), t([r()], p.prototype, \"initialAngle\", void 0), t([r()], p.prototype, \"initialSizes\", void 0), t([r()], p.prototype, \"scale\", void 0), t([r()], p.prototype, \"state\", null), p = t([s(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateObjectSymbol3DAdapter.InteractionState\")], p);\nexport { a as ScaleRotateObjectSymbol3DAdapter, c as headingToAngle };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { property as t } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { SketchTooltipInfo as r } from \"./SketchTooltipInfo.js\";\nlet e = class extends r {\n  constructor(o) {\n    super(o), this.type = \"transform-absolute\", this.orientation = null, this.orientationPrecision = null, this.rotationType = \"geographic\", this.size = null, this.sizePrecision = null, this.sizeUnit = null;\n  }\n};\no([t()], e.prototype, \"type\", void 0), o([t()], e.prototype, \"orientation\", void 0), o([t()], e.prototype, \"orientationPrecision\", void 0), o([t()], e.prototype, \"rotationType\", void 0), o([t()], e.prototype, \"size\", void 0), o([t()], e.prototype, \"sizePrecision\", void 0), o([t()], e.prototype, \"sizeUnit\", void 0), e = o([i(\"esri.views.interactive.tooltip.infos.TransformAbsoluteTooltipInfo\")], e);\nexport { e as TransformAbsoluteTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { property as t } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { SketchTooltipInfo as i } from \"./SketchTooltipInfo.js\";\nlet e = class extends i {\n  constructor(o) {\n    super(o), this.type = \"transform-rotate\", this.rotation = null, this.rotationPrecision = null, this.orientation = null, this.orientationPrecision = null, this.rotationType = \"geographic\";\n  }\n};\no([t()], e.prototype, \"type\", void 0), o([t()], e.prototype, \"rotation\", void 0), o([t()], e.prototype, \"rotationPrecision\", void 0), o([t()], e.prototype, \"orientation\", void 0), o([t()], e.prototype, \"orientationPrecision\", void 0), o([t()], e.prototype, \"rotationType\", void 0), e = o([r(\"esri.views.interactive.tooltip.infos.TransformRotateTooltipInfo\")], e);\nexport { e as TransformRotateTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { SketchTooltipInfo as t } from \"./SketchTooltipInfo.js\";\nlet e = class extends t {\n  constructor(o) {\n    super(o), this.type = \"transform-scale\", this.size = null, this.sizeUnit = null, this.sizePrecision = null;\n  }\n};\no([s()], e.prototype, \"type\", void 0), o([s()], e.prototype, \"scale\", void 0), o([s()], e.prototype, \"size\", void 0), o([s()], e.prototype, \"sizeUnit\", void 0), o([s()], e.prototype, \"sizePrecision\", void 0), e = o([r(\"esri.views.interactive.tooltip.infos.TransformScaleTooltipInfo\")], e);\nexport { e as TransformScaleTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../../core/Accessor.js\";\nimport { multiplyOpacityToUnitRGBA as a } from \"../../../../../core/colorUtils.js\";\nimport { cyclicalPI as o } from \"../../../../../core/Cyclical.js\";\nimport i from \"../../../../../core/Evented.js\";\nimport \"../../../../../core/has.js\";\nimport { clamp as s, rad2deg as n } from \"../../../../../core/mathUtils.js\";\nimport { destroyMaybe as r } from \"../../../../../core/maybe.js\";\nimport { createAngle as l, createScalar as c, createLength as p } from \"../../../../../core/quantityUtils.js\";\nimport { when as h, initial as u, watch as d } from \"../../../../../core/reactiveUtils.js\";\nimport { addFrameTask as m } from \"../../../../../core/scheduling.js\";\nimport { createScreenPointArray as g } from \"../../../../../core/screenUtils.js\";\nimport { property as f } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as _ } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { fromRotation as v, fromScaling as b, multiply as D, scale as S, rotate as M } from \"../../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as y } from \"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { s as T, f as j, l as w, a as R, b as I, g as k } from \"../../../../../chunks/vec32.js\";\nimport { clone as E, fromValues as O } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { fromPositionAndNormal as A, create as F, getNormal as C } from \"../../../../../geometry/support/plane.js\";\nimport { wrap as P, distance2 as U } from \"../../../../../geometry/support/ray.js\";\nimport { sv3d as x, sm4d as L } from \"../../../../../geometry/support/vectorStacks.js\";\nimport { Manipulator3D as z } from \"../../Manipulator3D.js\";\nimport { calculateInputRotationTransform as N } from \"../../manipulatorUtils.js\";\nimport { RenderObject as H } from \"../../RenderObject.js\";\nimport { screenToRenderPlane as G } from \"../dragEventPipeline3D.js\";\nimport { ManipulatorType as V } from \"../ManipulatorType.js\";\nimport { ringIndicatorDelayMs as q, rotateIndicatorDirectionBuffer as B, scaleIndicatorDirectionBuffer as J, rotateIndicatorArrowPlacementPercentage as K, ringThickness as Q, dragThresholdPx as W, ringRadius as X, innerIndicatorRadius as Y, outerIndicatorRadius as Z, ringHeight as $, rotateIndicatorArrowTipRadius as tt, rotateIndicatorArrowTipLength as et, scaleIndicatorOffset1 as at, scaleIndicatorOffset2 as ot, indicatorThickness as it, geometrySegments as st, rotateIndicatorArcLength as nt, ringResetAnimationSpeedFactor as rt, scaleIndicatorArcLength as lt } from \"../manipulations/config.js\";\nimport { CullFaceOptions as ct } from \"../../../webgl-engine/lib/basicInterfaces.js\";\nimport { createExtrudedTriangle as pt, transformInPlace as ht, createPathExtrusionGeometry as ut } from \"../../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as dt } from \"../../../webgl-engine/lib/Material.js\";\nimport { ColorMaterial as mt } from \"../../../webgl-engine/materials/ColorMaterial.js\";\nimport { createManipulatorDragEventPipeline as gt } from \"../../../../interactive/dragEventPipeline.js\";\nimport { ManipulatorStateCustomFlags as ft, ManipulatorStateFlags as _t } from \"../../../../interactive/interfaces.js\";\nimport { Tooltip as vt } from \"../../../../interactive/tooltip/Tooltip.js\";\nimport { TransformAbsoluteTooltipInfo as bt } from \"../../../../interactive/tooltip/infos/TransformAbsoluteTooltipInfo.js\";\nimport { TransformRotateTooltipInfo as Dt } from \"../../../../interactive/tooltip/infos/TransformRotateTooltipInfo.js\";\nimport { TransformScaleTooltipInfo as St } from \"../../../../interactive/tooltip/infos/TransformScaleTooltipInfo.js\";\nvar Mt;\n!function (t) {\n  t.ScaleIn = ft.Custom2, t.ScaleOut = ft.Custom3, t.RotateLeft = ft.Custom4, t.RotateRight = ft.Custom5, t.Unlocked = ft.Custom7, t.DelayedFocused = ft.Custom8, t.TouchInput = ft.Custom12;\n}(Mt || (Mt = {}));\nlet yt = class extends e {\n  get angle() {\n    return this.adapter.angle;\n  }\n  get scale() {\n    return this.adapter.scale;\n  }\n  set location(t) {\n    this._ringManipulator.location = t;\n  }\n  set elevationAlignedLocation(t) {\n    this._ringManipulator.elevationAlignedLocation = t;\n  }\n  get grabbing() {\n    return this._ringManipulator.grabbing;\n  }\n  set interactive(t) {\n    this._ringManipulator.interactive = t;\n  }\n  get updating() {\n    return !!this._activeAnimation;\n  }\n  get tooltipEffectiveEnabled() {\n    return this.sketchOptions.tooltips.effectiveEnabled && this.tooltipEnabled;\n  }\n  constructor(t) {\n    super(t), this.mode = null, this.tooltipEnabled = !0, this._scaleRotateDragData = null, this._activeAnimation = null, this._ringIndicatorDelayMs = q, this._absoluteTooltipInfo = null, this._scaleTooltipInfo = null, this._rotateTooltipInfo = null, this.events = new i(), this.getFocused = () => this._ringManipulator.focused, this.getScale = () => \"scale\" === this._scaleRotateDragData?.mode ? this.adapter.scale : 1;\n  }\n  initialize() {\n    this.tooltip = new vt({\n      view: this.tool.view\n    }), this._createManipulator(), this._updateDragState(), this._updateManipulatorTransform(), this.addHandles([h(() => !this.tooltipEffectiveEnabled, () => this.tooltip.clear(), u), d(() => {\n      const {\n          adapter: t\n        } = this,\n        {\n          info: e\n        } = this.tooltip;\n      return e === this._absoluteTooltipInfo && this.getFocused() ? [e, t.size, t.orientationClockwise] : [null];\n    }, ([t]) => {\n      t && this._updateFocusTooltip();\n    }), d(() => {\n      const {\n        adapter: t\n      } = this;\n      return [t.angle, t.scale];\n    }, () => this._updateManipulatorTransform())]);\n  }\n  destroy() {\n    this._activeAnimation?.frameTask.remove(), this._activeAnimation = null, this.tool.manipulators.remove(this._ringManipulator), this._ringManipulator = null, this.tooltip = r(this.tooltip);\n  }\n  startAnimation(t) {\n    this.cancelActiveAnimation(), t.start();\n    const e = m({\n      update: ({\n        deltaTime: e\n      }) => {\n        t.update(e) && this.cancelActiveAnimation();\n      }\n    });\n    this._activeAnimation = {\n      ...t,\n      frameTask: e\n    };\n  }\n  cancelActiveAnimation() {\n    this._activeAnimation?.frameTask.remove(), this._activeAnimation = r(this._activeAnimation);\n  }\n  forEachManipulator(t) {\n    t(this._ringManipulator, V.SCALE_ROTATE);\n  }\n  _createManipulator() {\n    const t = this._createRingManipulator();\n    this._ringManipulator = t, this.tool.manipulators.add(t);\n    const e = this.tool.object,\n      a = gt(t, (t, a, i) => {\n        this._scaleRotateDragData = null;\n        const r = this.adapter.startInteraction(),\n          l = {\n            mode: \"none\",\n            origin: E(t.renderLocation),\n            initialAngle: this.adapter.angle,\n            angle: 0,\n            angleDir: 0,\n            scaleDir: 0\n          };\n        this._scaleRotateDragData = l, this._updateDragState();\n        const c = x.get();\n        this.tool.view.renderCoordsHelper.worldUpAtPosition(t.renderLocation, c), a.next(G(this.tool.view, A(t.renderLocation, c, F()))).next(t => {\n          const a = C(t.plane),\n            i = N(t.renderStart, t.renderEnd, l.origin, a),\n            c = o.shortestSignedDiff(l.angle, i);\n          l.angleDir = s(l.angleDir + c, -B, B), l.angle = i;\n          const p = Tt(l, t),\n            h = p - this.adapter.scale;\n          if (l.scaleDir = s(l.scaleDir + h, -J, J), this._onScaleChanged(), \"none\" === l.mode) {\n            const a = this.mode || jt(t, t.plane, l.origin, this.tool.view.state.camera);\n            if (null != a) {\n              switch (a) {\n                case \"rotate\":\n                  this.tool.events.emit(\"rotate-start\", {\n                    object: e,\n                    angle: 0\n                  }), this.tool.events.emit(\"record-undo\", {\n                    updates: [this.adapter.createUndoRecord()]\n                  });\n                  break;\n                case \"scale\":\n                  this.tool.events.emit(\"scale-start\", {\n                    object: e,\n                    xScale: 1,\n                    yScale: 1\n                  }), this.tool.events.emit(\"record-undo\", {\n                    updates: [this.adapter.createUndoRecord()]\n                  });\n              }\n              l.mode = a;\n            }\n          }\n          switch (l.mode) {\n            case \"rotate\":\n              r.state.angle = l.initialAngle + i;\n              break;\n            case \"scale\":\n              r.state.scale = p, this._onScaleChanged();\n          }\n          switch (this._updateDragState(), this._updateManipulatorTransform(), t.action) {\n            case \"start\":\n            case \"update\":\n              switch (l.mode) {\n                case \"rotate\":\n                  this.tool.events.emit(\"rotate\", {\n                    object: e,\n                    angle: n(l.angle)\n                  });\n                  break;\n                case \"scale\":\n                  this.tool.events.emit(\"scale\", {\n                    object: e,\n                    xScale: p,\n                    yScale: p\n                  });\n              }\n              break;\n            case \"end\":\n              switch (l.mode) {\n                case \"rotate\":\n                  this.tool.events.emit(\"rotate-stop\", {\n                    object: e,\n                    angle: n(l.angle)\n                  });\n                  break;\n                case \"scale\":\n                  this.tool.events.emit(\"scale-stop\", {\n                    object: e,\n                    xScale: p,\n                    yScale: p\n                  });\n              }\n          }\n          return \"end\" === t.action && (this.startAnimation(It(this, () => this._onScaleChanged())), this._scaleRotateDragData = null, this._updateDragState(), r.done()), t;\n        }).next(this._updateTooltipPipelineStep(l)), i.next(() => {\n          if (r.cancel(), null != this._scaleRotateDragData) {\n            switch (this._scaleRotateDragData.mode) {\n              case \"none\":\n                break;\n              case \"rotate\":\n                this.tool.events.emit(\"rotate-stop\", {\n                  object: e,\n                  angle: 0\n                });\n                break;\n              case \"scale\":\n                this.tool.events.emit(\"scale-stop\", {\n                  object: e,\n                  xScale: 1,\n                  yScale: 1\n                });\n            }\n            this.startAnimation(It(this, () => this._onScaleChanged())), this._scaleRotateDragData = null, this._updateDragState();\n          }\n          this._updateFocusTooltip();\n        });\n      });\n    this.addHandles([a, t.events.on(\"focus-changed\", t => {\n      \"focus\" === t.action ? this.startAnimation(kt(this, () => this._updateDelayedFocusedState(), {\n        delayMs: this._ringIndicatorDelayMs\n      })) : this._updateDelayedFocusedState();\n    }), t.events.on(\"immediate-click\", t => {\n      t.stopPropagation();\n    }), d(() => this.tool.object.visible, t => this._ringManipulator.available = t, u)]);\n  }\n  _updateTooltipPipelineStep(t) {\n    return e => {\n      const {\n          sketchOptions: a\n        } = this,\n        {\n          visualVariables: o\n        } = a.tooltips;\n      if (!this.tooltipEffectiveEnabled) return e;\n      if (\"end\" === e.action) return this._updateFocusTooltip(), e;\n      const {\n        tooltip: i\n      } = this;\n      switch (t.mode) {\n        case \"scale\":\n          {\n            i.info = this._scaleTooltipInfo ??= new St({\n              sketchOptions: a\n            });\n            const {\n                size: t,\n                scale: e\n              } = this.adapter,\n              s = o?.size,\n              n = i.info;\n            n.sketchOptions = a, n.scale = c(e), n.size = null != t ? p(t, \"meters\") : void 0, n.sizePrecision = Et(s?.valueType), n.sizeUnit = s?.unit;\n            break;\n          }\n        case \"rotate\":\n          {\n            i.info = this._rotateTooltipInfo ??= new Dt({\n              sketchOptions: a\n            });\n            const {\n                orientationClockwise: t,\n                relativeAngleClockwise: e\n              } = this.adapter,\n              s = o?.rotation,\n              n = Et(s?.valueType),\n              r = i.info;\n            r.sketchOptions = a, r.rotation = null != e ? l(e, \"radians\", \"geographic\") : void 0, r.rotationPrecision = n, r.rotationType = s?.rotationType ?? \"geographic\", r.orientation = null != t ? l(t, \"radians\", \"geographic\") : void 0, r.orientationPrecision = n;\n            break;\n          }\n      }\n      return e;\n    };\n  }\n  _updateFocusTooltip() {\n    const {\n        sketchOptions: t,\n        tooltip: e\n      } = this,\n      {\n        visualVariables: a\n      } = t.tooltips;\n    if (!this.tooltipEffectiveEnabled) return;\n    if (this.getFocused()) {\n      const o = a?.rotation,\n        i = a?.size,\n        s = this.mode,\n        {\n          size: n,\n          orientationClockwise: r\n        } = this.adapter,\n        c = null != r && (null == s || \"rotate\" === s),\n        h = null != n && (null == s || \"scale\" === s);\n      e.info = this._absoluteTooltipInfo ??= new bt({\n        sketchOptions: t\n      });\n      const u = e.info;\n      u.sketchOptions = t, u.orientation = c ? l(r, \"radians\", \"geographic\") : void 0, u.orientationPrecision = Et(o?.valueType), u.rotationType = o?.rotationType ?? \"geographic\", u.size = h ? p(n, \"meters\") : void 0, u.sizeUnit = i?.unit, u.sizePrecision = Et(i?.valueType);\n    } else e.clear();\n  }\n  _onScaleChanged() {\n    this.events.emit(\"scale-changed\"), this._updateManipulatorTransform();\n  }\n  _updateDelayedFocusedState() {\n    this._ringManipulator.updateStateEnabled(Mt.DelayedFocused, this.getFocused()), this._updateFocusTooltip();\n  }\n  _updateDragState() {\n    if (this._ringManipulator.updateStateEnabled(Mt.Unlocked, !(null != this._scaleRotateDragData && \"none\" !== this._scaleRotateDragData?.mode)), null != this._scaleRotateDragData) switch (this._scaleRotateDragData.mode) {\n      case \"rotate\":\n        this._ringManipulator.updateStateEnabled(Mt.ScaleIn | Mt.ScaleOut, !1), this._ringManipulator.updateStateEnabled(Mt.RotateLeft, this._scaleRotateDragData.angleDir < 0), this._ringManipulator.updateStateEnabled(Mt.RotateRight, this._scaleRotateDragData.angleDir >= 0);\n        break;\n      case \"scale\":\n        this._ringManipulator.updateStateEnabled(Mt.RotateLeft | Mt.RotateRight, !1), this._ringManipulator.updateStateEnabled(Mt.ScaleIn, this._scaleRotateDragData.scaleDir < 0), this._ringManipulator.updateStateEnabled(Mt.ScaleOut, this._scaleRotateDragData.scaleDir >= 0);\n    } else this._ringManipulator.updateStateEnabled(Mt.ScaleIn | Mt.ScaleOut | Mt.RotateLeft | Mt.RotateRight, !1);\n  }\n  _updateManipulatorTransform() {\n    const t = v(L.get(), this.adapter.angle, O(0, 0, 1));\n    if (null == t) return;\n    const e = this.getScale(),\n      a = b(L.get(), T(x.get(), e, e, e));\n    this._ringManipulator.modelTransform = D(L.get(), a, t);\n  }\n  _createRingManipulator() {\n    const t = (t, e, a) => {\n        const o = [],\n          i = Math.ceil(st * (e - t) / (2 * Math.PI));\n        for (let s = 0; s < i + 1; s++) {\n          const n = t + s * (e - t) / i;\n          o.push(O(a * Math.cos(n), a * Math.sin(n), 0));\n        }\n        return o;\n      },\n      e = e => t(0, 2 * Math.PI, e),\n      a = t => [[-t / 2, 0], [t / 2, 0], [t / 2, $ / 2], [-t / 2, $ / 2]],\n      o = this._createMaterial(1),\n      i = (t, e, i = o) => ut(i, a(e), t, [], [], !1),\n      s = e(X),\n      n = i(s, Q),\n      r = {\n        left: new Array(),\n        right: new Array()\n      },\n      l = [];\n    for (let w = 0; w < 2; w++) {\n      const e = w * Math.PI - Math.PI / 4,\n        a = Math.PI / 2 - nt,\n        s = e + a,\n        n = e + Math.PI / 2 - a,\n        c = t(s, n, Y),\n        p = i(c, it);\n      l.push(c), l.push(t(s, n, Z - Q / 2)), r.left.push(p), r.right.push(p.instantiate());\n      for (let t = 0; t < 2; t++) {\n        const e = 0 === t,\n          a = y();\n        if (e) {\n          S(a, a, [1, -1, 1]), M(a, a, -s, [0, 0, 1]);\n          const t = Math.round(K * (c.length - 1));\n          a[12] = c[t][0], a[13] = c[t][1], a[14] = c[t][2];\n        } else {\n          M(a, a, n, [0, 0, 1]);\n          const t = Math.round((1 - K) * (c.length - 1));\n          a[12] = c[t][0], a[13] = c[t][1], a[14] = c[t][2];\n        }\n        const i = pt(o, et, 0, tt, $);\n        ht(i, a), (e ? r.left : r.right).push(i);\n      }\n    }\n    const c = [];\n    for (let S = 0; S < 2; S++) {\n      const e = S * Math.PI - Math.PI / 4,\n        a = Math.PI / 2 - lt,\n        o = e + a,\n        s = e + Math.PI / 2 - a,\n        n = t(o, s, Z);\n      c.push(i(n, it));\n    }\n    const p = this._createMaterial(.66),\n      h = this._createMaterial(.5),\n      u = this._createMaterial(.33),\n      d = e(X + at),\n      m = e(X + ot),\n      g = i(d, it, p),\n      f = i(m, it, u),\n      _ = e(X - at),\n      v = e(X - ot),\n      b = i(_, it, p),\n      D = i(v, it, u);\n    let T = [new H(n, Mt.DelayedFocused), new H(n.instantiate({\n      material: h\n    }), _t.None)];\n    this.mode && \"scale\" !== this.mode || (T = T.concat([...c.map(t => new H(t, Mt.DelayedFocused | Mt.Unlocked)), new H(g, Mt.DelayedFocused | Mt.ScaleIn), new H(f, Mt.DelayedFocused | Mt.ScaleIn), new H(b, Mt.DelayedFocused | Mt.ScaleOut), new H(D, Mt.DelayedFocused | Mt.ScaleOut)])), this.mode && \"rotate\" !== this.mode || (T = T.concat([...r.right.map(t => new H(t.instantiate(), Mt.DelayedFocused | Mt.Unlocked)), ...r.left.map(t => new H(t, Mt.DelayedFocused | Mt.RotateLeft)), ...r.right.map(t => new H(t, Mt.DelayedFocused | Mt.RotateRight))]));\n    const j = [s, ...l];\n    return new z({\n      view: this.tool.view,\n      renderObjects: T,\n      autoScaleRenderObjects: !1,\n      worldOriented: !0,\n      radius: Q,\n      focusMultiplier: 1,\n      touchMultiplier: 1.5,\n      elevationInfo: this.tool.object.elevationInfo,\n      collisionType: {\n        type: \"ribbon\",\n        paths: j,\n        direction: O(0, 0, 1)\n      }\n    });\n  }\n  _createMaterial(t) {\n    const e = new mt({\n      cullFace: ct.Back,\n      renderOccluded: dt.Transparent,\n      isDecoration: !0\n    });\n    return this.addHandles(d(() => ({\n      color: a(this.tool.view.effectiveTheme.accentColor, t)\n    }), t => e.setParameters(t), u)), e;\n  }\n  get test() {}\n};\nfunction Tt(t, e) {\n  const a = j(x.get(), e.renderStart, t.origin),\n    o = j(x.get(), e.renderEnd, t.origin),\n    i = w(a),\n    s = w(o);\n  return 0 === i ? 0 : s / i;\n}\nfunction jt(t, e, a, o) {\n  const {\n      renderStart: i,\n      renderEnd: s\n    } = t,\n    n = wt(i, o, x.get()),\n    r = wt(s, o, x.get());\n  if (R(n, r) < W * W) return null;\n  const l = j(x.get(), i, a),\n    c = I(x.get(), l, C(e)),\n    p = i,\n    h = k(x.get(), p, c),\n    u = wt(a, o, x.get()),\n    d = n,\n    m = wt(h, o, x.get()),\n    g = j(x.get(), m, d),\n    f = j(x.get(), n, u),\n    _ = P(d, g),\n    v = P(u, f);\n  return U(_, r) < U(v, r) ? \"rotate\" : \"scale\";\n}\nfunction wt(t, e, a) {\n  return e.projectToScreen(t, Ot), T(a, Ot[0], Ot[1], 0);\n}\nvar Rt;\nfunction It(t, e) {\n  let a = null,\n    o = 1;\n  const i = () => o;\n  return {\n    start: () => {\n      o = t.getScale(), a = t.getScale, t.getScale = i, e();\n    },\n    update: t => (o += ((o + 1) / 2 - o) * Math.min(t * rt, 1), e(), Math.abs(o - 1) < .01 ? Rt.STOP : Rt.CONTINUE),\n    destroy: () => {\n      a && (t.getScale = a), e();\n    }\n  };\n}\nfunction kt(t, e, a) {\n  let o = 0,\n    i = null;\n  const s = () => !1;\n  return {\n    start: () => {\n      i = t.getFocused, t.getFocused = s, o = 0, e();\n    },\n    update: t => (o += t, !i?.() || o >= a.delayMs ? Rt.STOP : Rt.CONTINUE),\n    destroy: () => {\n      i && (t.getFocused = i), e();\n    }\n  };\n}\nfunction Et(t) {\n  switch (t) {\n    case \"integer\":\n    case \"long\":\n      return 0;\n    default:\n      return null;\n  }\n}\nt([f({\n  constructOnly: !0\n})], yt.prototype, \"tool\", void 0), t([f({\n  constructOnly: !0\n})], yt.prototype, \"adapter\", void 0), t([f({\n  constructOnly: !0\n})], yt.prototype, \"sketchOptions\", void 0), t([f()], yt.prototype, \"mode\", void 0), t([f()], yt.prototype, \"tooltipEnabled\", void 0), t([f()], yt.prototype, \"_activeAnimation\", void 0), t([f()], yt.prototype, \"updating\", null), t([f()], yt.prototype, \"tooltipEffectiveEnabled\", null), yt = t([_(\"esri.views.3d.interactive.editingTools.transform.ScaleRotateTransform\")], yt), function (t) {\n  t[t.CONTINUE = 0] = \"CONTINUE\", t[t.STOP = 1] = \"STOP\";\n}(Rt || (Rt = {}));\nconst Ot = g();\nexport { yt as ScaleRotateTransform };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { makeOrientationField as s, makeScaleField as i } from \"../fields/fields.js\";\nimport { SketchTooltipInfo as l } from \"./SketchTooltipInfo.js\";\nimport { TooltipInfoWithCoordinates as a } from \"./TooltipInfoWithCoordinates.js\";\nlet r = class extends a(l) {\n  constructor(t) {\n    super(t), this.type = \"transform-mesh\", this.orientation = s({\n      actual: null,\n      lockable: !1\n    }), this.scale = i({\n      actual: null,\n      lockable: !1\n    }), this.allFields.forEach(t => {\n      t.lockable = !1, t.setActual(null);\n    });\n  }\n  get key() {\n    return {\n      longitude: this.longitude.actual,\n      latitude: this.latitude.actual,\n      x: this.x.actual,\n      y: this.y.actual,\n      elevation: this.elevation.actual,\n      geographic: this.geographic,\n      orientation: this.orientation.actual,\n      scale: this.scale.actual\n    };\n  }\n  get allFields() {\n    return [this.longitude, this.latitude, this.x, this.y, this.elevation, this.orientation, this.scale];\n  }\n};\nt([o()], r.prototype, \"key\", null), t([o()], r.prototype, \"allFields\", null), r = t([e(\"esri.views.interactive.tooltip.infos.TransformMeshTooltipInfo\")], r);\nexport { r as TransformMeshTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { property as t } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { SketchTooltipInfo as s } from \"./SketchTooltipInfo.js\";\nimport { TooltipInfoWithCoordinates as e } from \"./TooltipInfoWithCoordinates.js\";\nlet i = class extends e(s) {\n  constructor(o) {\n    super(o), this.type = \"transform-point\", this.allFields.forEach(o => {\n      o.lockable = !1, o.setActual(null);\n    });\n  }\n  get allFields() {\n    return [this.longitude, this.latitude, this.x, this.y, this.elevation];\n  }\n};\no([t()], i.prototype, \"allFields\", null), i = o([r(\"esri.views.interactive.tooltip.infos.TransformPointTooltipInfo\")], i);\nexport { i as TransformPointTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport { isSome as e } from \"../../../../../core/arrayUtils.js\";\nimport o from \"../../../../../core/Evented.js\";\nimport { makeHandle as i } from \"../../../../../core/handleUtils.js\";\nimport \"../../../../../core/has.js\";\nimport { destroyMaybe as a } from \"../../../../../core/maybe.js\";\nimport { watch as n } from \"../../../../../core/reactiveUtils.js\";\nimport { property as s } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport { subclass as r } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as l } from \"../../../../../core/support/UpdatingHandles.js\";\nimport p from \"../../../../../geometry/Point.js\";\nimport { ViewingMode as c } from \"../../../../ViewingMode.js\";\nimport { Manipulator3D as h } from \"../../Manipulator3D.js\";\nimport { placeAtObject as m } from \"../../manipulatorUtils.js\";\nimport { SnappingVisualizer3D as d } from \"../../SnappingVisualizer3D.js\";\nimport { manipulatedObjectGeometry as u } from \"../manipulatedObjectUtils.js\";\nimport { canMoveZOperations as v } from \"../manipulatorUtils.js\";\nimport { meshTransformFastUpdateHandles as g } from \"../meshFastUpdateUtils.js\";\nimport { connectTooltipToManipulatedObject as _ } from \"../tooltipUtils3D.js\";\nimport { createVisualElements as f } from \"../visualElementUtils.js\";\nimport { alignArrowsScaleThreshold as b } from \"../manipulations/config.js\";\nimport { MoveManipulation as j, ManipulationType as y } from \"../manipulations/MoveManipulation.js\";\nimport { ScaleRotateMeshAdapter as S } from \"./ScaleRotateMeshAdapter.js\";\nimport { ScaleRotateObjectSymbol3DAdapter as M } from \"./ScaleRotateObjectSymbol3DAdapter.js\";\nimport { ScaleRotateTransform as R } from \"./ScaleRotateTransform.js\";\nimport { sceneSnappingAtProjectedLocation as w } from \"../../../../interactive/dragEventPipeline.js\";\nimport { InteractiveToolBase as T } from \"../../../../interactive/InteractiveToolBase.js\";\nimport { EditGeometryOperations as A } from \"../../../../interactive/editGeometry/EditGeometryOperations.js\";\nimport O from \"../../../../interactive/sketch/SketchOptions.js\";\nimport { SnappingContext as x } from \"../../../../interactive/snapping/SnappingContext.js\";\nimport { createSnapDragEventPipelineStep as I } from \"../../../../interactive/snapping/SnappingDragPipelineStep.js\";\nimport { Tooltip as k } from \"../../../../interactive/tooltip/Tooltip.js\";\nimport { enterInputModeIfAvailable as U } from \"../../../../interactive/tooltip/tooltipCommonUtils.js\";\nimport { TransformMeshTooltipInfo as E } from \"../../../../interactive/tooltip/infos/TransformMeshTooltipInfo.js\";\nimport { TransformPointTooltipInfo as H } from \"../../../../interactive/tooltip/infos/TransformPointTooltipInfo.js\";\nlet z = class extends T {\n  constructor(t) {\n    super(t), this.events = new o(), this.enableZ = !0, this.enableRotation = !0, this.enableScaling = !0, this.sketchOptions = new O(), this.type = \"transform-3d\", this._updatingHandles = new l(), this._scaleRotate = null;\n  }\n  initialize() {\n    const {\n      events: t,\n      object: o,\n      view: a\n    } = this;\n    this.tooltip = new k({\n      view: a\n    }), this._moveManipulation = new j({\n      tool: this,\n      view: a,\n      snapToScene: this.snapToScene,\n      xyAvailable: !0,\n      xyAxisAvailable: !0,\n      zAvailable: this.enableZ && v(o.operations, o.elevationInfo),\n      radius: j.radiusForSymbol(o.graphic?.symbol)\n    }), this._moveManipulation.forEachManipulator(e => this.addHandles(e.events.on(\"immediate-click\", e => {\n      t.emit(\"immediate-click\", {\n        ...e,\n        object: this.object\n      }), e.stopPropagation();\n    })));\n    const s = o.elevationInfo;\n    if (this._moveManipulation.elevationInfo = s, this.addHandles(g(o)), this._moveManipulation.createManipulatedObjectDragPipeline((t, e, i, n, r) => {\n      if (t === y.XY) {\n        const {\n          snappingStep: t,\n          cancelSnapping: e\n        } = I({\n          snappingContext: new x({\n            elevationInfo: s,\n            pointer: r,\n            editGeometryOperations: A.fromGeometry(new p({\n              spatialReference: o.operations?.data.spatialReference\n            }), a.state.viewingMode),\n            visualizer: new d(),\n            excludeFeature: o.graphic\n          }),\n          snappingManager: this.snappingManager,\n          updatingHandles: this._updatingHandles,\n          useZ: !1\n        });\n        n = n.next(e), i = i.next(w(this.view, s)).next(...t);\n      }\n      return {\n        steps: i,\n        cancel: n\n      };\n    }, o, e => {\n      const {\n          action: o,\n          object: i,\n          dxScreen: a,\n          dyScreen: n\n        } = e,\n        s = {\n          object: i,\n          dxScreen: a,\n          dyScreen: n\n        };\n      switch (o) {\n        case \"start\":\n          this._emitRecordUndo(), t.emit(\"translate-start\", s);\n          break;\n        case \"update\":\n          t.emit(\"translate\", s);\n          break;\n        case \"end\":\n          t.emit(\"translate-stop\", s);\n      }\n    }), this._moveManipulation.angle = null != this._scaleRotate ? this._scaleRotate.angle : 0, this._scaleRotateAdapter = this._createScaleRotateAdapter(), this.addHandles(n(() => this._scaleRotateAdapter.angle, () => this._updateMoveAngle())), this.enableScaling || this.enableRotation) {\n      const t = this.enableScaling && this.enableRotation ? null : this.enableScaling ? \"scale\" : \"rotate\";\n      this._scaleRotate = new R({\n        tool: this,\n        mode: t,\n        adapter: this._scaleRotateAdapter,\n        sketchOptions: this.sketchOptions,\n        tooltipEnabled: \"mesh\" !== u(o)?.type\n      }), this.addHandles(this._scaleRotate.events.on(\"scale-changed\", () => this._onScaleChanged()));\n    }\n    this.addHandles([f({\n      view: this.view,\n      object: o,\n      forEachManipulator: t => this._forEachManipulator(t),\n      onManipulatorsChanged: () => i()\n    }), o.on(\"committed\", () => this._onGeometryChanged()), this._hideManipulatorsForObjectState(), n(() => a.scale, () => this._updateMoveAngle())].filter(e)), this._onGeometryChanged(), this._updateMoveAngle(), this._forEachManipulator(t => {\n      t instanceof h && this.addHandles(t.events.on(\"grab-changed\", () => this._updateManipulatorsInteractive()));\n    });\n    const r = a?.type,\n      {\n        sketchOptions: l\n      } = this;\n    this._meshTooltipInfo = new E({\n      viewType: r,\n      sketchOptions: l\n    }), this._pointTooltipInfo = new H({\n      viewType: r,\n      sketchOptions: l\n    });\n    const c = {\n        object: o,\n        dxScreen: 0,\n        dyScreen: 0\n      },\n      m = {\n        onMoveStart: () => {\n          this._emitRecordUndo(), t.emit(\"translate-start\", {\n            ...c\n          });\n        },\n        onMove: () => t.emit(\"translate\", {\n          ...c\n        }),\n        onMoveStop: () => t.emit(\"translate-stop\", {\n          ...c\n        }),\n        onRotateStart: e => {\n          this._emitRecordUndo(), t.emit(\"rotate-start\", {\n            object: o,\n            angle: e\n          });\n        },\n        onRotate: e => t.emit(\"rotate\", {\n          object: o,\n          angle: e\n        }),\n        onRotateStop: e => t.emit(\"rotate-stop\", {\n          object: o,\n          angle: e\n        }),\n        onScaleStart: (e, i) => {\n          this._emitRecordUndo(), t.emit(\"scale-start\", {\n            object: o,\n            xScale: e,\n            yScale: i\n          });\n        },\n        onScale: (e, i) => t.emit(\"scale\", {\n          object: o,\n          xScale: e,\n          yScale: i\n        }),\n        onScaleStop: (e, i) => t.emit(\"scale-stop\", {\n          object: o,\n          xScale: e,\n          yScale: i\n        })\n      };\n    this.addHandles(_(this.tooltip, this.object, () => ({\n      sketchOptions: this.sketchOptions,\n      activeTooltipInfo: this.activeTooltipInfo,\n      callbacks: m\n    }))), this.finishToolCreation();\n  }\n  destroy() {\n    this.tooltip.destroy(), this._moveManipulation.destroy(), this._scaleRotate = a(this._scaleRotate), this._scaleRotateAdapter = a(this._scaleRotateAdapter), this._updatingHandles.destroy(), this._set(\"view\", null), this._set(\"object\", null);\n  }\n  onInputEvent(t) {\n    if (!this.destroyed && !U(t, this.tooltip)) return super.onInputEvent(t);\n  }\n  _updateManipulatorsInteractive() {\n    null != this._scaleRotate && (this._scaleRotate.interactive = !this._moveManipulation.grabbing, this._moveManipulation.interactive = !this._scaleRotate.grabbing);\n  }\n  _createScaleRotateAdapter() {\n    const t = u(this.object);\n    return \"mesh\" === t?.type ? new S({\n      object: this.object,\n      geometry: t,\n      viewingMode: this.view.state.viewingMode\n    }) : new M({\n      graphic: this.object.graphic,\n      sizeFilter: t => this._enforceNonZeroSize(t),\n      findLayerView: () => this.view.allLayerViews.find(t => t.layer === this.object.graphic?.layer),\n      sizeAxis: this.sketchOptions?.tooltips?.visualVariables?.size?.axis ?? null\n    });\n  }\n  _forEachManipulator(t) {\n    this._moveManipulation?.forEachManipulator(t), this._scaleRotate?.forEachManipulator(t);\n  }\n  _hideManipulatorsForObjectState() {\n    return n(() => this.object.visible, t => {\n      this._forEachManipulator(e => e.available = t), this._moveManipulation.zManipulation.available = t && this.enableZ && v(this.object.operations, this.object.elevationInfo);\n    });\n  }\n  _emitRecordUndo() {\n    this.events.emit(\"record-undo\", {\n      updates: [this.object.createUndoRecord()]\n    });\n  }\n  set snapToScene(t) {\n    this._moveManipulation && (this._moveManipulation.snapToScene = t), this._set(\"snapToScene\", t);\n  }\n  get updating() {\n    return this._updatingHandles.updating || !!this._scaleRotate?.updating;\n  }\n  get activeTooltipInfo() {\n    return null != this._scaleRotate?.tooltip?.info ? null : \"mesh\" === u(this.object)?.type ? this._meshTooltipInfo : this._pointTooltipInfo;\n  }\n  set location(t) {\n    this._moveManipulation.location = t, this._scaleRotate && (this._scaleRotate.location = t);\n  }\n  set elevationAlignedLocation(t) {\n    this._moveManipulation.elevationAlignedLocation = t, this._scaleRotate && (this._scaleRotate.elevationAlignedLocation = t);\n  }\n  reset() {}\n  onHide() {\n    this._scaleRotate?.cancelActiveAnimation();\n  }\n  _onScaleChanged() {\n    null != this._scaleRotate && (this._moveManipulation.displayScale = this._scaleRotate.getScale());\n  }\n  _updateMoveAngle() {\n    const {\n        view: t\n      } = this,\n      e = t.state.viewingMode === c.Local || t.scale < b;\n    this._moveManipulation.angle = e ? this._scaleRotateAdapter.angle : 0;\n  }\n  _onGeometryChanged() {\n    m(this, this.object);\n  }\n  _enforceNonZeroSize(t) {\n    return t || this.view.state.camera.computeRenderPixelSizeAt(this._moveManipulation.renderLocation);\n  }\n  get test() {}\n};\nt([s({\n  constructOnly: !0,\n  nonNullable: !0\n})], z.prototype, \"view\", void 0), t([s({\n  constructOnly: !0,\n  nonNullable: !0\n})], z.prototype, \"object\", void 0), t([s({\n  constructOnly: !0,\n  nonNullable: !0\n})], z.prototype, \"enableZ\", void 0), t([s()], z.prototype, \"enableRotation\", void 0), t([s()], z.prototype, \"enableScaling\", void 0), t([s({\n  constructOnly: !0,\n  type: O\n})], z.prototype, \"sketchOptions\", void 0), t([s({\n  value: !1\n})], z.prototype, \"snapToScene\", null), t([s({\n  constructOnly: !0\n})], z.prototype, \"snappingManager\", void 0), t([s({\n  readOnly: !0\n})], z.prototype, \"type\", void 0), t([s({\n  readOnly: !0\n})], z.prototype, \"updating\", null), t([s()], z.prototype, \"activeTooltipInfo\", null), z = t([r(\"esri.views.3d.interactive.editingTools.transform.TransformTool3D\")], z);\nexport { z as TransformTool3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { makeHandle as t } from \"../../../../../../core/handleUtils.js\";\nimport { zeroMeters as e } from \"../../../../../../core/quantityUtils.js\";\nimport { rotateZ as o } from \"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { f as i } from \"../../../../../../chunks/vec32.js\";\nimport { clone as n } from \"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { sm4d as a, sv3d as r } from \"../../../../../../geometry/support/vectorStacks.js\";\nimport { ShiftManipulator as s, OffsetMode as p } from \"../../../../analysis/Slice/ShiftManipulator.js\";\nimport { IsShiftEdgeOnScreenFlag as l } from \"../../../../analysis/Slice/sliceToolUtils.js\";\nimport { screenToZConstrained as c } from \"../../dragEventPipeline3D.js\";\nimport { ManipulatorType as m } from \"../../ManipulatorType.js\";\nimport { MoveXYObjectManipulation as u } from \"../../manipulations/MoveXYObjectManipulation.js\";\nimport { createManipulatorDragEventPipeline as h, addScreenDelta as d, addMapDelta as v } from \"../../../../../interactive/dragEventPipeline.js\";\nimport { AccumulationBehavior as f } from \"../../../../../interactive/editGeometry/interfaces.js\";\nimport { TranslateTooltipInfo as _ } from \"../../../../../interactive/tooltip/infos/TranslateTooltipInfo.js\";\nimport { TranslateZTooltipInfo as M } from \"../../../../../interactive/tooltip/infos/TranslateZTooltipInfo.js\";\nimport { autoDistance2D as j } from \"../../../../../support/automaticLengthMeasurementUtils.js\";\nimport { verticalSignedDistance as g } from \"../../../../../support/euclideanLengthMeasurementUtils.js\";\nclass b {\n  get _object() {\n    return this._tool.object;\n  }\n  get _operations() {\n    return this._object.operations;\n  }\n  constructor(t, e) {\n    this._tool = t, this._bounds = e, this._moveXYTooltipInfo = null, this._moveZTooltipInfo = null;\n    const o = this._tool,\n      i = o.view;\n    this.moveXYObjectManipulation = new u({\n      view: i,\n      tool: o,\n      object: this._object\n    }), o.addHandles(this._createMoveXYObjectDragPipeline()), this.moveZManipulator = new s(i, p.CENTER_ON_CALLOUT), this.moveZManipulator.state |= l, o.manipulators.add(this.moveZManipulator), o.addHandles([this._createMoveZDragPipeline()]), o.addHandles([o.events.on(\"translate-stop\", () => {\n      this._moveXYTooltipInfo = null, this._moveZTooltipInfo = null;\n    })]);\n  }\n  destroy() {\n    this.moveXYObjectManipulation.destroy(), this._tool.manipulators.remove(this.moveZManipulator), this.moveZManipulator.destroy();\n  }\n  forEachManipulator(t) {\n    this.moveXYObjectManipulation.forEachManipulator(t), t(this.moveZManipulator, m.TRANSLATE_Z);\n  }\n  updateManipulators(t, e) {\n    const n = this.moveZManipulator,\n      s = o(a.get(), t, Math.PI);\n    s[12] = 0, s[13] = 0, s[14] = 0, n.modelTransform = s, n.renderLocation = i(r.get(), e.origin, e.basis1);\n  }\n  getUpdatedTooltipInfo() {\n    return this.moveXYObjectManipulation.grabbing || this.moveXYObjectManipulation.dragging ? this._computeMoveXYTooltipInfo() : this.moveZManipulator.focused ? this._computeMoveZTooltipInfo() : null;\n  }\n  _computeMoveXYTooltipInfo() {\n    const t = this._tool,\n      o = this._moveXYTooltipInfo ??= new _({\n        sketchOptions: t.sketchOptions\n      });\n    if (this.moveXYObjectManipulation.dragging) {\n      const e = this._bounds,\n        i = e.mapBoundsStart.origin,\n        n = e.mapBounds.origin,\n        {\n          renderSpatialReference: a\n        } = t.view;\n      if (!a) return null;\n      const r = j(i, n, a);\n      if (null == r) return null;\n      o.distance = r;\n    } else o.distance = e;\n    return o;\n  }\n  _computeMoveZTooltipInfo() {\n    const t = this._tool,\n      o = this._moveZTooltipInfo ??= new M({\n        sketchOptions: t.sketchOptions\n      });\n    if (this.moveZManipulator.dragging) {\n      const e = this._bounds,\n        i = e.mapBoundsStart.origin,\n        n = e.mapBounds.origin,\n        {\n          renderSpatialReference: a\n        } = t.view;\n      if (!a) return null;\n      const r = g(i, n, a);\n      if (null == r) return null;\n      o.distance = r;\n    } else o.distance = e;\n    return o;\n  }\n  _createMoveXYObjectDragPipeline() {\n    return this.moveXYObjectManipulation.createDragPipeline((t, e, o) => this._applyObjectMoveSteps(e, o));\n  }\n  _createMoveZDragPipeline() {\n    if (!this._operations) return t();\n    const e = this._operations.data.spatialReference;\n    return h(this.moveZManipulator, (t, o, i) => {\n      const a = n(t.renderLocation),\n        r = o.next(c(this._tool.view, a, e)).next(d());\n      this._applyObjectMoveSteps(r, i);\n    });\n  }\n  _applyObjectMoveSteps(t, e) {\n    const {\n        _tool: o,\n        _object: i\n      } = this,\n      n = t.next(t => (\"start\" === t.action && (o.inputState = {\n        type: \"move\"\n      }, this._bounds.backupMapBounds(), o.events.emit(\"translate-start\", {\n        object: i,\n        dxScreen: t.screenDeltaX,\n        dyScreen: t.screenDeltaY\n      })), t)).next(v()).next(this._moveDragUpdateGeometry()).next(t => {\n        const e = {\n          object: i,\n          dxScreen: t.screenDeltaX,\n          dyScreen: t.screenDeltaY\n        };\n        switch (t.action) {\n          case \"start\":\n          case \"update\":\n            (t.mapEnd.x - t.mapStart.x || t.mapEnd.y - t.mapStart.y || (t.mapEnd.z ?? 0) - (t.mapStart.z ?? 0)) && o.events.emit(\"translate\", e);\n            break;\n          case \"end\":\n            o.inputState = null, o.events.emit(\"translate-stop\", e);\n        }\n        return t;\n      });\n    return e.next(() => {\n      null != o.inputState && o.events.emit(\"translate-stop\", {\n        object: i,\n        dxScreen: 0,\n        dyScreen: 0\n      }), o.cancel();\n    }), n;\n  }\n  _moveDragUpdateGeometry() {\n    const t = this._tool;\n    return e => {\n      if (null == t.inputState || \"move\" !== t.inputState.type) return e;\n      const o = \"start\" === e.action ? f.NEW_STEP : f.ACCUMULATE_STEPS;\n      if (this._operations) {\n        const t = this._operations.move(e.mapDeltaX, e.mapDeltaY, e.mapDeltaZ, o);\n        this._bounds.updateMapBoundsFromOperation(t);\n      }\n      return e;\n    };\n  }\n}\nexport { b as ExtentMove };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { rad2deg as t } from \"../../../../../../core/mathUtils.js\";\nimport { rotateX as e } from \"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { g as o, c as r } from \"../../../../../../chunks/vec32.js\";\nimport { create as a } from \"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { c as n } from \"../../../../../../chunks/boundedPlane.js\";\nimport { create as s, intersectRay as i, getNormal as l } from \"../../../../../../geometry/support/plane.js\";\nimport { sm4d as p, sv3d as c } from \"../../../../../../geometry/support/vectorStacks.js\";\nimport { getRotateHeadingTexture as m } from \"../../../../analysis/images/Factory.js\";\nimport { RotateManipulator as u } from \"../../../../analysis/Slice/RotateManipulator.js\";\nimport { createRotatePlane as d, RotationAxis as h } from \"../../../../analysis/Slice/sliceToolUtils.js\";\nimport { calculateInputRotationTransform as g } from \"../../../manipulatorUtils.js\";\nimport { screenToRenderPlane as _ } from \"../../dragEventPipeline3D.js\";\nimport { ManipulatorType as f } from \"../../ManipulatorType.js\";\nimport { fromScreenNormalized as j } from \"../../../../support/geometryUtils/ray.js\";\nimport { createManipulatorDragEventPipeline as v } from \"../../../../../interactive/dragEventPipeline.js\";\nimport { AccumulationBehavior as b } from \"../../../../../interactive/editGeometry/interfaces.js\";\nimport { AccumulationType as y } from \"../../../../../interactive/editGeometry/operations/UpdateVertices.js\";\nimport { ExtentRotateTooltipInfo as A } from \"../../../../../interactive/tooltip/infos/ExtentRotateTooltipInfo.js\";\nclass M {\n  get _object() {\n    return this._tool.object;\n  }\n  get _operations() {\n    return this._object.operations;\n  }\n  constructor(t, e, o) {\n    this._tool = t, this._bounds = e, this._snapRotation = o, this._rotateTooltipInfo = null, this._startAngle = 0, this._endAngle = 0;\n    const r = this._tool,\n      a = r.view,\n      n = !a._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result;\n    this.rotateManipulator = new u(a, (t, e) => m(a.textures, {\n      accentColor: t,\n      contrastColor: e,\n      preMultiplyAlpha: n\n    })), r.addHandles([this.rotateManipulator.events.on(\"grab-changed\", t => this._onRotateGrab(t)), this._createRotateDragPipeline(this.rotateManipulator)]), r.manipulators.add(this.rotateManipulator), r.addHandles([r.events.on(\"rotate-start\", t => this._startAngle = t.angle), r.events.on(\"rotate\", t => this._endAngle = t.angle), r.events.on(\"rotate-stop\", () => {\n      this._startAngle = 0, this._endAngle = 0;\n    })]);\n  }\n  destroy() {\n    this._tool.manipulators.remove(this.rotateManipulator), this.rotateManipulator.destroy();\n  }\n  forEachManipulator(t) {\n    t(this.rotateManipulator, f.ROTATE);\n  }\n  updateManipulators(t, r) {\n    const a = this._bounds.mapBounds.plane[2] < 0 ? Math.PI : 0,\n      n = e(p.get(), t, a);\n    n[12] = 0, n[13] = 0, n[14] = 0, this.rotateManipulator.modelTransform = n, this.rotateManipulator.renderLocation = o(c.get(), r.origin, r.basis1);\n  }\n  getUpdatedTooltipInfo() {\n    return this.rotateManipulator.focused ? this._computeRotateTooltipInfo() : null;\n  }\n  _computeRotateTooltipInfo() {\n    const t = this._rotateTooltipInfo ??= new A({\n      sketchOptions: this._tool.sketchOptions\n    });\n    return t.angle = this._startAngle - this._endAngle, t;\n  }\n  _onRotateGrab({\n    action: t,\n    screenPoint: e\n  }) {\n    const o = this._tool,\n      r = this._bounds;\n    if (\"start\" !== t || !e) return;\n    const a = d(r.displayBounds, o.view.renderCoordsHelper, h.HEADING, s()),\n      n = j(o.view.state.camera, e);\n    i(a, n, c.get()) && (r.backupMapBounds(), o.inputState = {\n      type: \"rotate\",\n      rotatePlane: a\n    });\n  }\n  _createRotateDragPipeline(e) {\n    const {\n      _tool: o,\n      _object: r\n    } = this;\n    return v(e, (e, a, n) => {\n      const s = o.inputState;\n      null != s && (a.next(t => (\"start\" === t.action && o.events.emit(\"rotate-start\", {\n        object: r,\n        angle: 0\n      }), t)).next(_(o.view, s.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(s)).next(...this._snapRotation()).next(this._rotateDragUpdateGeometry()).next(e => {\n        const a = {\n          object: r,\n          angle: t(e.rotateAngle)\n        };\n        switch (e.action) {\n          case \"start\":\n          case \"update\":\n            o.events.emit(\"rotate\", a);\n            break;\n          case \"end\":\n            o.inputState = null, o.events.emit(\"rotate-stop\", a);\n        }\n        return e;\n      }), n.next(() => {\n        null != o.inputState && o.events.emit(\"rotate-stop\", {\n          object: r,\n          angle: 0\n        }), o.cancel();\n      }));\n    });\n  }\n  _rotateDragRenderPlaneToRotate(t) {\n    return e => {\n      const o = l(t.rotatePlane),\n        r = g(e.renderStart, e.renderEnd, this._bounds.displayBounds.origin, o);\n      return {\n        ...e,\n        rotateAxis: o,\n        rotateAngle: r\n      };\n    };\n  }\n  _rotateDragUpdateGeometry() {\n    const t = this._bounds;\n    return e => {\n      const o = r(a(), t.mapBoundsStart.origin),\n        s = \"start\" === e.action ? b.NEW_STEP : b.ACCUMULATE_STEPS;\n      if (this._operations) {\n        const r = this._operations.rotate(o, e.rotateAngle, s, y.REPLACE);\n        n(t.mapBoundsStart, t.mapBounds), t.updateMapBoundsFromOperation(r);\n      }\n      return e;\n    };\n  }\n}\nexport { M as ExtentRotate };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { on as s } from \"../../../../../../core/reactiveUtils.js\";\nimport { getMetersPerCartesianUnitForSR as t, getMetersPerUnitForSR as o } from \"../../../../../../core/unitUtils.js\";\nimport { scale as i } from \"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { g as e, f as a, o as n, b as r, n as p, j as d, m as c, l, r as u } from \"../../../../../../chunks/vec32.js\";\nimport { create as m } from \"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { a as g, c as h, u as b } from \"../../../../../../chunks/boundedPlane.js\";\nimport { sv3d as f } from \"../../../../../../geometry/support/vectorStacks.js\";\nimport { mainAxis as B } from \"../../geometryUtils.js\";\nimport { manipulatedObjectGeometry as j } from \"../../manipulatedObjectUtils.js\";\nimport { evaluateElevationAlignmentAtPoint as y } from \"../../../../layers/graphics/elevationAlignmentUtils.js\";\nimport { ElevationContext as v } from \"../../../../layers/graphics/ElevationContext.js\";\nimport { apply as _, applyInverse as R, calculateOrientedBounds as C } from \"../../../../../interactive/editGeometry/support/editPlaneUtils.js\";\nimport { autoSize2D as M } from \"../../../../../support/extentUtils.js\";\nclass x {\n  constructor(t, o) {\n    this._tool = t, this.mapBounds = g(), this.mapBoundsStart = g(), this.displayBounds = g(), t.addHandles(s(() => t.object, \"modified-externally\", () => this._resetMapBounds(), {\n      onListenerAdd: () => this._resetMapBounds()\n    })), this._onDisplayBoundsChanged = o;\n  }\n  get displayBoundsMargin() {\n    const {\n        view: s,\n        object: t\n      } = this._tool,\n      o = j(t),\n      i = s.pointsOfInterest?.centerOnSurfaceFrequent.location ?? o?.extent?.center;\n    return i ? D * s.pixelSizeAt(i) : 0;\n  }\n  backupMapBounds() {\n    h(this.mapBounds, this.mapBoundsStart);\n  }\n  updateDisplayBounds() {\n    this._calculateDisplayBounds(), this._onDisplayBoundsChanged?.();\n  }\n  updateMapBoundsFromOperation(s) {\n    _(s, this.mapBounds), this.updateDisplayBounds();\n  }\n  updateMapBoundsFromOperationInverse(s) {\n    R(s, this.mapBounds), this.updateDisplayBounds();\n  }\n  _resetMapBounds() {\n    this._calculateMapBounds(), this.updateDisplayBounds();\n  }\n  _calculateMapBounds() {\n    const {\n        view: s,\n        attachmentOrigin: e,\n        object: a\n      } = this._tool,\n      n = a.operations?.data;\n    if (!n) return;\n    const r = n.geometry;\n    this.spatialReference = r.spatialReference;\n    const p = B(r);\n    i(p, p, -1);\n    const d = s.spatialReference,\n      c = r.spatialReference,\n      l = e ? s.pixelSizeAt(e) * t(d) / o(c) : 0;\n    C(p, n, O * l, this.mapBounds);\n  }\n  _calculateDisplayBounds() {\n    const {\n        view: s,\n        attachmentOrigin: t\n      } = this._tool,\n      o = t?.z ?? y(this.mapBounds.origin, s.elevationProvider, v.fromElevationInfo(this._tool.object.elevationInfo), s.renderCoordsHelper),\n      i = h(this.mapBounds);\n    i.origin[2] = o ?? 0, U(i, s.renderCoordsHelper, this.spatialReference, this.displayBoundsMargin, this.displayBounds);\n  }\n}\nconst D = 10,\n  O = 80;\nfunction U(s, t, o, i = 0, u) {\n  u || (u = g()), t.toRenderCoords(s.origin, o, u.origin);\n  const m = f.get();\n  e(m, s.origin, s.basis1), e(m, m, s.basis2), t.toRenderCoords(m, o, m);\n  const h = f.get();\n  e(h, s.origin, s.basis1), a(h, h, s.basis2), t.toRenderCoords(h, o, h);\n  const B = f.get();\n  a(B, s.origin, s.basis1), a(B, B, s.basis2), t.toRenderCoords(B, o, B);\n  const j = f.get();\n  a(j, s.origin, s.basis1), e(j, j, s.basis2), t.toRenderCoords(j, o, j);\n  const y = n(f.get(), m, h, .5);\n  a(y, y, u.origin);\n  const v = n(f.get(), B, j, .5);\n  a(v, u.origin, v), n(u.basis1, y, v, .5);\n  const _ = n(f.get(), j, m, .5);\n  a(_, _, u.origin);\n  const R = n(f.get(), h, B, .5);\n  a(R, u.origin, R), n(u.basis2, _, R, .5);\n  const C = r(f.get(), u.basis1, u.basis2),\n    M = r(C, C, u.basis1);\n  return p(M, M), d(u.basis2, M, c(u.basis2, M)), d(u.basis1, u.basis1, 1 + i / l(u.basis1)), d(u.basis2, u.basis2, 1 + i / l(u.basis2)), b(u), u;\n}\nfunction S(s, t, o) {\n  return a(w, a(w, s.origin, s.basis1), s.basis2), u(I, w, s.basis1, 2), u(A, I, s.basis2, 2), u(k, w, s.basis2, 2), w[2] = I[2] = A[2] = k[2] = t, M({\n    topLeft: k,\n    topRight: A,\n    bottomRight: I,\n    bottomLeft: w,\n    spatialReference: o\n  });\n}\nconst k = m(),\n  A = m(),\n  I = m(),\n  w = m();\nexport { x as TransformBounds, S as mapPlaneAutoSize2D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { set as t, normalize as e } from \"../../../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as s } from \"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { c as a, r as i, f as o, l as r, m as n } from \"../../../../../../chunks/vec32.js\";\nimport { create as c } from \"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { a as l, c as p } from \"../../../../../../chunks/boundedPlane.js\";\nimport { intersectRay as d } from \"../../../../../../geometry/support/plane.js\";\nimport { sv3d as h } from \"../../../../../../geometry/support/vectorStacks.js\";\nimport { ResizeManipulator as u } from \"../../../../analysis/Slice/ResizeManipulator.js\";\nimport { updateResizeHandle as m, isDiagonalResizeHandle as _, calculateDiagonalResizeHandleScale as S } from \"../../../../analysis/Slice/sliceToolUtils.js\";\nimport { screenToRenderPlane as f } from \"../../dragEventPipeline3D.js\";\nimport { ManipulatorType as z } from \"../../ManipulatorType.js\";\nimport { mapPlaneAutoSize2D as y } from \"./extentUtils.js\";\nimport { fromScreenNormalized as x } from \"../../../../support/geometryUtils/ray.js\";\nimport { createManipulatorDragEventPipeline as g } from \"../../../../../interactive/dragEventPipeline.js\";\nimport { AccumulationBehavior as M } from \"../../../../../interactive/editGeometry/interfaces.js\";\nimport { AccumulationType as b } from \"../../../../../interactive/editGeometry/operations/UpdateVertices.js\";\nimport { ExtentScaleTooltipInfo as v } from \"../../../../../interactive/tooltip/infos/ExtentScaleTooltipInfo.js\";\nclass j {\n  get _object() {\n    return this._tool.object;\n  }\n  get _operations() {\n    return this._object.operations;\n  }\n  get zMax() {\n    if (!this._zMaxDirty || !this._operations) return this._zMax;\n    const t = this._operations.data;\n    if (t.geometry.hasZ) {\n      const e = t.coordinateHelper;\n      this._zMax = Number.NEGATIVE_INFINITY;\n      for (const s of t.components) for (const t of s.vertices) {\n        const s = e.getZ(t.pos) ?? 0;\n        this._zMax = Math.max(s, this._zMax);\n      }\n    } else this._zMax = 0;\n    return this._zMaxDirty = !1, this._zMax;\n  }\n  constructor(e, a, i) {\n    this._tool = e, this._bounds = a, this._preserveAspectRatioStep = i, this._resizeHandles = [{\n      direction: [1, 0]\n    }, {\n      direction: [1, 1]\n    }, {\n      direction: [0, 1]\n    }, {\n      direction: [-1, 1]\n    }, {\n      direction: [-1, 0]\n    }, {\n      direction: [-1, -1]\n    }, {\n      direction: [0, -1]\n    }, {\n      direction: [1, -1]\n    }], this._scaleTooltipInfo = null, this._displayBoundsStart = l(), this._displayBoundsMarginStart = 0, this._startScale = s(), this._endScale = s(), this._sizeStart = null, this._zMax = 0, this._zMaxDirty = !0;\n    const o = this._tool,\n      r = o.view;\n    this.resizeManipulators = this._resizeHandles.map(t => {\n      const e = new u(r, t);\n      return o.addHandles([e.events.on(\"grab-changed\", t => this._onResizeGrab(t)), this._createResizeDragPipeline(e, t)]), e;\n    }), o.manipulators.addMany(this.resizeManipulators), o.addHandles([o.events.on(\"scale-start\", e => {\n      t(this._startScale, e.xScale, e.yScale), t(this._endScale, e.xScale, e.yScale);\n    }), o.events.on(\"scale\", e => {\n      t(this._endScale, e.xScale, e.yScale);\n    }), o.events.on(\"scale-stop\", () => {\n      t(this._startScale, 0, 0), t(this._endScale, 0, 0);\n    })]), this._operations && o.addHandles(this._operations.data.on(\"change\", () => {\n      \"resize\" !== o.inputState?.type && (this._zMaxDirty = !0);\n    }));\n  }\n  destroy() {\n    this.forEachManipulator(t => {\n      this._tool.manipulators.remove(t), t.destroy();\n    });\n  }\n  forEachManipulator(t) {\n    this.resizeManipulators.forEach(e => t(e, z.SCALE));\n  }\n  updateManipulators(t, e) {\n    this.resizeManipulators.forEach((s, a) => {\n      m(s, this._resizeHandles[a], t, e);\n    });\n  }\n  getUpdatedTooltipInfo() {\n    return this.resizeManipulators.some(t => t.focused) ? this._computeScaleTooltipInfo() : null;\n  }\n  _computeScaleTooltipInfo() {\n    const t = this._tool,\n      e = this._scaleTooltipInfo ??= new v({\n        sketchOptions: t.sketchOptions\n      }),\n      s = y(this._bounds.mapBounds, this.zMax, this._bounds.spatialReference);\n    return null == s ? null : (e.xSize = s.xSize, e.ySize = s.ySize, null != this._sizeStart && this.resizeManipulators.some(t => t.dragging) ? (e.xScale = s.xSize.value / this._sizeStart.xSize.value, e.yScale = s.ySize.value / this._sizeStart.ySize.value) : (e.xScale = 1, e.yScale = 1), e);\n  }\n  _onResizeGrab({\n    action: t,\n    screenPoint: e\n  }) {\n    const s = this._tool,\n      a = this._bounds;\n    if (\"start\" !== t || !e) return;\n    const i = x(s.view.state.camera, e);\n    d(a.displayBounds.plane, i, h.get()) && (a.backupMapBounds(), p(a.displayBounds, this._displayBoundsStart), this._displayBoundsMarginStart = a.displayBoundsMargin, this._sizeStart = y(a.mapBoundsStart, this.zMax, a.spatialReference), s.inputState = {\n      type: \"resize\"\n    });\n  }\n  _createResizeDragPipeline(t, e) {\n    const {\n      _tool: s,\n      _object: a\n    } = this;\n    return g(t, (t, i, o) => {\n      null != s.inputState && (i.next(t => (\"start\" === t.action && s.events.emit(\"scale-start\", {\n        object: a,\n        xScale: 1,\n        yScale: 1\n      }), t)).next(f(s.view, this._displayBoundsStart.plane)).next(t => ({\n        ...t,\n        handle: e\n      })).next(this._resizeDragRenderPlaneToFactors()).next(...this._preserveAspectRatioStep()).next(this._resizeDragUpdateGeometry()).next(t => {\n        const e = {\n          object: a,\n          xScale: t.factor1,\n          yScale: t.factor2\n        };\n        switch (t.action) {\n          case \"start\":\n          case \"update\":\n            s.events.emit(\"scale\", e);\n            break;\n          case \"end\":\n            s.inputState = null, s.events.emit(\"scale-stop\", e);\n        }\n        return t;\n      }), o.next(() => {\n        null != s.inputState && s.events.emit(\"scale-stop\", {\n          object: a,\n          xScale: 1,\n          yScale: 1\n        }), s.cancel();\n      }));\n    });\n  }\n  _resizeDragRenderPlaneToFactors() {\n    const t = this._bounds;\n    return e => {\n      const s = this._displayBoundsStart,\n        c = e.handle.direction,\n        l = t.displayBoundsMargin,\n        p = this._displayBoundsMarginStart,\n        d = a(h.get(), s.origin);\n      i(d, d, s.basis1, -c[0]), i(d, d, s.basis2, -c[1]);\n      const u = o(h.get(), e.renderEnd, d),\n        m = o(h.get(), e.renderStart, d),\n        f = _(e.handle),\n        z = S(s),\n        y = S(t.displayBounds) / z,\n        x = (t, e) => {\n          if (0 === t) return 1;\n          let s = r(e),\n            a = .5 * t * n(e, u) / s;\n          const i = a < 0 ? -1 : 1;\n          if (f) {\n            a += (s - .5 * t * n(e, m) / s) * i * y;\n          }\n          const o = s < 1.5 * p ? 1 : B;\n          return s = Math.max(s - p, B), i > 0 && (a -= l), i * Math.max(i * (a / s), o);\n        };\n      return {\n        ...e,\n        factor1: x(c[0], s.basis1),\n        factor2: x(c[1], s.basis2)\n      };\n    };\n  }\n  _resizeDragUpdateGeometry() {\n    const o = this._bounds;\n    return r => {\n      const n = a(c(), o.mapBoundsStart.origin);\n      i(n, n, o.mapBoundsStart.basis1, -r.handle.direction[0]), i(n, n, o.mapBoundsStart.basis2, -r.handle.direction[1]);\n      const l = t(s(), o.mapBoundsStart.basis1[0], o.mapBoundsStart.basis1[1]);\n      e(l, l);\n      const d = \"start\" === r.action ? M.NEW_STEP : M.ACCUMULATE_STEPS;\n      if (this._operations) {\n        const t = this._operations.scale(n, l, r.factor1, r.factor2, d, b.REPLACE);\n        p(o.mapBoundsStart, o.mapBounds), o.updateMapBoundsFromOperation(t);\n      }\n      return r;\n    };\n  }\n}\nconst B = 1e-6;\nexport { j as ExtentScale, B as scaleEpsilon };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../../../core/has.js\";\nimport { isDiagonalResizeHandle as t } from \"../../../../analysis/Slice/sliceToolUtils.js\";\nimport { EventPipeline as e } from \"../../../../../interactive/dragEventPipeline.js\";\nclass a {\n  constructor() {\n    this._lastDragEvent = null, this._next = null, this._enabled = !1;\n  }\n  get enabled() {\n    return this._enabled;\n  }\n  set enabled(t) {\n    if (this._enabled !== t && null != this._lastDragEvent && null != this._next) {\n      const e = {\n        ...this._lastDragEvent,\n        action: \"update\"\n      };\n      t && n(e), this._next.execute(e);\n    }\n    this._enabled = t;\n  }\n  createDragEventPipelineStep() {\n    this._lastDragEvent = null;\n    const t = new e();\n    return this._next = t, [t => (this._lastDragEvent = \"end\" !== t.action ? {\n      ...t\n    } : null, this._enabled && n(t), t), t];\n  }\n  get test() {}\n}\nfunction n(e) {\n  const a = t(e.handle) ? Math.max(Math.abs(e.factor1), Math.abs(e.factor2)) : 0 === e.handle.direction[0] ? Math.abs(e.factor2) : Math.abs(e.factor1);\n  e.factor1 = e.factor1 < 0 ? -a : a, e.factor2 = e.factor2 < 0 ? -a : a;\n}\nexport { a as PreserveAspectRatio };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { deg2rad as t } from \"../../../../../../core/mathUtils.js\";\nimport { EventPipeline as e } from \"../../../../../interactive/dragEventPipeline.js\";\nclass n {\n  constructor() {\n    this._lastDragEvent = null, this._next = null, this.incrementRadians = t(5), this._enabled = !1;\n  }\n  get enabled() {\n    return this._enabled;\n  }\n  set enabled(t) {\n    if (this._enabled !== t && null != this._lastDragEvent && null != this._next) {\n      const e = {\n        ...this._lastDragEvent,\n        action: \"update\"\n      };\n      t && this._adjustRotation(e), this._next.execute(e);\n    }\n    this._enabled = t;\n  }\n  createDragEventPipelineStep() {\n    this._lastDragEvent = null;\n    const t = new e();\n    return this._next = t, [t => (this._lastDragEvent = \"end\" !== t.action ? {\n      ...t\n    } : null, this._enabled && this._adjustRotation(t), t), t];\n  }\n  _adjustRotation(t) {\n    t.rotateAngle = Math.round(t.rotateAngle / this.incrementRadians) * this.incrementRadians;\n  }\n}\nexport { n as SnapRotation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../../core/Evented.js\";\nimport { makeHandle as i } from \"../../../../../core/handleUtils.js\";\nimport \"../../../../../core/has.js\";\nimport { watch as o, initial as a } from \"../../../../../core/reactiveUtils.js\";\nimport { property as s } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { containsXY as r } from \"../../../../../geometry/support/aaBoundingRect.js\";\nimport { sm4d as l } from \"../../../../../geometry/support/vectorStacks.js\";\nimport { calculateBoundedPlaneTranslateRotate as p, resizeNormal as h, resizeOutlineOnly as c } from \"../../../analysis/Slice/sliceToolUtils.js\";\nimport { Manipulator3D as d } from \"../../Manipulator3D.js\";\nimport { manipulatedObjectGeometry as u } from \"../manipulatedObjectUtils.js\";\nimport { ManipulatorType as m } from \"../ManipulatorType.js\";\nimport { canMoveZOperations as v } from \"../manipulatorUtils.js\";\nimport { createVisualElements as b } from \"../visualElementUtils.js\";\nimport { ExtentMove as _ } from \"./extentTransform/ExtentMove.js\";\nimport { ExtentRotate as f } from \"./extentTransform/ExtentRotate.js\";\nimport { ExtentScale as g } from \"./extentTransform/ExtentScale.js\";\nimport { TransformBounds as j } from \"./extentTransform/extentUtils.js\";\nimport { PreserveAspectRatio as y } from \"./extentTransform/PreserveAspectRatio.js\";\nimport { SnapRotation as M } from \"./extentTransform/SnapRotation.js\";\nimport { OutlineVisualElement as R } from \"../../visualElements/OutlineVisualElement.js\";\nimport { InteractiveToolBase as x } from \"../../../../interactive/InteractiveToolBase.js\";\nimport E from \"../../../../interactive/sketch/SketchOptions.js\";\nimport { Tooltip as A } from \"../../../../interactive/tooltip/Tooltip.js\";\nlet T = class extends x {\n  get updating() {\n    return !!this.object.updating;\n  }\n  constructor(t) {\n    super(t), this.events = new e(), this.enableZ = !0, this.enableScaling = !0, this.enableRotation = !0, this.sketchOptions = new E(), this._preserveAspectRatio = new y(), this._snapRotation = new M(), this.grabbing = !1, this.inputState = null, this._attachmentOrigin = null, this.type = \"transform-3d\", this._outlineVisualElement = null;\n  }\n  initialize() {\n    const {\n        view: t,\n        object: e\n      } = this,\n      s = this._bounds = new j(this, () => this._updateManipulators());\n    this._extentMove = new _(this, s), this._extentScale = new g(this, s, () => this._preserveAspectRatio.createDragEventPipelineStep()), this._extentRotate = new f(this, s, () => this._snapRotation.createDragEventPipelineStep()), this.addHandles([o(() => this.enableZ, () => this._updateManipulatorAvailability(this._extentMove.moveZManipulator, m.TRANSLATE_Z)), o(() => this.enableScaling, () => this._extentScale.forEachManipulator(t => this._updateManipulatorAvailability(t, m.SCALE))), o(() => this.enableRotation, () => this._updateManipulatorAvailability(this._extentRotate.rotateManipulator, m.ROTATE))]), this._updateManipulators(), this._updateAllManipulatorAvailability();\n    const n = b({\n      view: t,\n      object: e,\n      forEachManipulator: t => this._forEachManipulator(t),\n      onManipulatorsChanged: () => i()\n    });\n    if (null != n) {\n      const {\n        visualElement: t\n      } = n;\n      t instanceof R && (this._outlineVisualElement = t, this.addHandles(t.events.on(\"attachment-origin-changed\", () => this._bounds.updateDisplayBounds()))), this.addHandles(n);\n    }\n    this.addHandles([e.on(\"committed\", () => this._onGeometryChanged()), o(() => this.object.visible, () => this._updateAllManipulatorAvailability()), o(() => this.object.isDraped, () => this._graphicDrapedChanged(), a), o(() => t.pointsOfInterest?.centerOnSurfaceFrequent.location, () => s.updateDisplayBounds())]);\n    const r = t => {\n      this.addHandles(t.events.on(\"grab-changed\", () => {\n        this.grabbing = t.grabbing, this._updateAllManipulatorAvailability();\n      }));\n    };\n    this._forEachManipulator(r);\n    const l = (t, i) => {\n      this.addHandles(t.events.on(\"immediate-click\", t => {\n        i === m.TRANSLATE_XY && this.events.emit(\"immediate-click\", {\n          ...t,\n          object: e\n        }), t.stopPropagation();\n      }));\n    };\n    this._forEachManipulator(l), this._initializeTooltip(), this.finishToolCreation();\n  }\n  destroy() {\n    this._extentMove.destroy(), this._extentScale.destroy(), this._extentRotate.destroy(), this.tooltip.destroy(), this._set(\"view\", null), this._set(\"object\", null);\n  }\n  _initializeTooltip() {\n    const {\n        view: t\n      } = this,\n      e = this.tooltip = new A({\n        view: t\n      }),\n      i = () => {\n        e.info = this._getUpdatedTooltipInfo();\n      };\n    this.addHandles([o(() => this.sketchOptions.tooltips.effectiveEnabled, i), this.events.on(\"translate-start\", i), this.events.on(\"translate\", i), this.events.on(\"translate-stop\", () => this.tooltip.clear()), this.events.on(\"rotate-start\", i), this.events.on(\"rotate\", i), this.events.on(\"rotate-stop\", i), this.events.on(\"scale-start\", i), this.events.on(\"scale\", i), this.events.on(\"scale-stop\", i)]), this._forEachManipulator(t => {\n      this.addHandles([t.events.on(\"focus-changed\", i), t.events.on(\"grab-changed\", i), t.events.on(\"drag\", t => {\n        \"cancel\" === t.action ? this.tooltip.clear() : i();\n      })]);\n    });\n  }\n  _getUpdatedTooltipInfo() {\n    return this.sketchOptions.tooltips.effectiveEnabled ? this._extentMove.getUpdatedTooltipInfo() ?? this._extentScale.getUpdatedTooltipInfo() ?? this._extentRotate.getUpdatedTooltipInfo() : null;\n  }\n  _onGeometryChanged() {\n    this._bounds.updateDisplayBounds();\n  }\n  _graphicDrapedChanged() {\n    this.removeHandles(S), this._bounds.updateDisplayBounds(), this.object.isDraped && this.addHandles(this.view.elevationProvider.on(\"elevation-change\", t => {\n      null != this._attachmentOrigin && r(t.extent, this._attachmentOrigin.x, this._attachmentOrigin.y) && this._bounds.updateDisplayBounds();\n    }), S);\n  }\n  _updateManipulators() {\n    if (!this.visible) return;\n    const t = this._bounds.displayBounds,\n      e = p(t, l.get());\n    this._extentMove.updateManipulators(e, t), this._extentScale.updateManipulators(e, t), this._extentRotate.updateManipulators(e, t);\n  }\n  _updateAllManipulatorAvailability() {\n    this._forEachManipulator((t, e) => this._updateManipulatorAvailability(t, e));\n  }\n  _updateManipulatorAvailability(t, e) {\n    const i = this.grabbing && !t.grabbing;\n    if (t.interactive = !i, t instanceof d) {\n      const o = this.object.visible,\n        a = this.enableZ && v(this.object.operations, this.object.elevationInfo);\n      switch (e) {\n        case m.ROTATE:\n          t.available = o && this.enableRotation;\n          break;\n        case m.SCALE:\n          t.available = o && (this.enableScaling || this.enableRotation || a), t.interactive = !i && this.enableScaling, t.state = this.enableScaling ? h : c;\n          break;\n        case m.TRANSLATE_Z:\n          t.available = o && a;\n          break;\n        default:\n          t.available = o;\n      }\n    }\n  }\n  _forEachManipulator(t) {\n    this._extentMove.forEachManipulator(t), this._extentScale.forEachManipulator(t), this._extentRotate.forEachManipulator(t);\n  }\n  get preserveAspectRatio() {\n    return this._preserveAspectRatio.enabled;\n  }\n  set preserveAspectRatio(t) {\n    this._preserveAspectRatio.enabled = t, this._set(\"preserveAspectRatio\", t);\n  }\n  get snapRotation() {\n    return this._snapRotation.enabled;\n  }\n  set snapRotation(t) {\n    this._snapRotation.enabled = t, this._set(\"snapRotation\", t);\n  }\n  get attachmentOrigin() {\n    const t = this.object.isDraped ? null : this._outlineVisualElement?.attachmentOrigin;\n    return this._attachmentOrigin = t ?? this.object.origin ?? u(this.object)?.extent?.center, this._attachmentOrigin;\n  }\n  reset() {}\n  cancel() {\n    if (this.canUndo) {\n      const t = this.object.operations?.undo();\n      t && this._bounds.updateMapBoundsFromOperationInverse(t);\n    }\n    this.inputState = null;\n  }\n  get canUndo() {\n    return !!this.object.operations?.canUndo;\n  }\n  undo() {\n    if (null != this.inputState) this.view.activeTool = null;else if (this.canUndo) {\n      const t = this.object.operations?.undo();\n      t && this._bounds.updateMapBoundsFromOperationInverse(t);\n    }\n  }\n  get canRedo() {\n    return !!this.object.operations?.canRedo;\n  }\n  redo() {\n    if (this.canRedo) {\n      const t = this.object.operations?.redo();\n      t && this._bounds.updateMapBoundsFromOperation(t);\n    }\n  }\n  get test() {}\n};\nt([s()], T.prototype, \"updating\", null), t([s({\n  constructOnly: !0,\n  nonNullable: !0\n})], T.prototype, \"view\", void 0), t([s({\n  constructOnly: !0,\n  nonNullable: !0\n})], T.prototype, \"object\", void 0), t([s()], T.prototype, \"enableZ\", void 0), t([s()], T.prototype, \"enableScaling\", void 0), t([s()], T.prototype, \"enableRotation\", void 0), t([s({\n  constructOnly: !0,\n  type: E\n})], T.prototype, \"sketchOptions\", void 0), t([s()], T.prototype, \"preserveAspectRatio\", null), t([s()], T.prototype, \"snapRotation\", null), t([s()], T.prototype, \"grabbing\", void 0), t([s()], T.prototype, \"inputState\", void 0), t([s({\n  readOnly: !0\n})], T.prototype, \"type\", void 0), t([s()], T.prototype, \"tooltip\", void 0), T = t([n(\"esri.views.3d.interactive.editingTools.transform.ExtentTransformTool\")], T);\nconst S = \"draped-elevation-changes\";\nexport { T as ExtentTransformTool };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clone as e } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { isRelativeVertexSpace as t } from \"../../../../geometry/support/meshVertexSpaceUtils.js\";\nfunction r(e) {\n  return null != e && \"mesh\" === e.type ? o(e) : n(e);\n}\nfunction o(e) {\n  return t(e.vertexSpace) ? i(e, e.transform, e.vertexSpace) : l(e);\n}\nfunction n(e) {\n  let t = e,\n    r = null;\n  return {\n    undo(e) {\n      r = e.geometry, e.geometry = t;\n    },\n    redo(e) {\n      t = e.geometry, e.geometry = r;\n    }\n  };\n}\nfunction i(t, r, o) {\n  let n = r?.clone(),\n    i = e(o.origin),\n    l = null,\n    u = null;\n  return {\n    undo: () => {\n      l = t.transform?.clone(), u = e(o.origin), t.transform = n, t.vertexSpace.origin = i;\n    },\n    redo: () => {\n      n = t.transform?.clone(), i = e(o.origin), t.transform = l, t.vertexSpace.origin = u;\n    }\n  };\n}\nfunction l(e) {\n  let t,\n    r = e.vertexAttributes.clonePositional();\n  return {\n    undo: () => {\n      t = e.vertexAttributes.clonePositional(), e.vertexAttributes = r;\n    },\n    redo: () => {\n      r = e.vertexAttributes.clonePositional(), e.vertexAttributes = t;\n    }\n  };\n}\nexport { r as createGraphicGeometryUndoRecord };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Evented.js\";\nimport { destroyMaybe as i } from \"../../../../core/maybe.js\";\nimport { initial as r } from \"../../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as a } from \"../../../../core/support/UpdatingHandles.js\";\nimport { MeshTransformUpdateAction as p } from \"../../../../layers/graphics/sources/interfaces.js\";\nimport { getGraphicEffectiveElevationInfo as n } from \"../../../../support/elevationInfoUtils.js\";\nimport { getGraphicAttachmentOrigin as c } from \"../manipulatorUtils.js\";\nimport { createGraphicGeometryUndoRecord as h } from \"./undoRecords.js\";\nimport { GraphicState as d } from \"../../layers/graphics/GraphicState.js\";\nimport { GraphicManipulator as m } from \"../../../interactive/GraphicManipulator.js\";\nimport { EditGeometryOperations as g } from \"../../../interactive/editGeometry/EditGeometryOperations.js\";\nconst l = Symbol();\nlet u = class extends e.EventedAccessor {\n  get operations() {\n    return this._operations;\n  }\n  get updating() {\n    return this._updatingHandles.updating;\n  }\n  get elevationInfo() {\n    return n(this.graphic);\n  }\n  get visible() {\n    return this._graphicState.displaying;\n  }\n  get isDraped() {\n    return this._graphicState.isDraped;\n  }\n  get origin() {\n    return c(this.view, this.graphic);\n  }\n  constructor(t) {\n    super(t), this._updatingHandles = new a();\n  }\n  destroy() {\n    this._operations = i(this._operations), this._updatingHandles.destroy();\n  }\n  initialize() {\n    this._graphicState = new d({\n      graphic: this.graphic\n    }), this._graphicState.on(\"changed\", () => this.emit(\"committed\")), this.addHandles(this.view.trackGraphicState(this._graphicState)), this.addHandles(this._updatingHandles.add(() => this.graphic.geometry, t => {\n      const e = this._operations?.data.geometry;\n      if (t !== e) {\n        if (!t || \"multipoint\" === t?.type || \"extent\" === t?.type) return i(this._operations), this.removeHandles(l), void (this._operations = null);\n        if (this._operations?.trySetGeometry(t)) this.emit(\"modified-externally\");else {\n          i(this._operations), this.removeHandles(l);\n          const e = g.fromGeometry(t, this.view.state.viewingMode);\n          this._operations = e, this.addHandles(e.data.on(\"change\", () => this.graphic.geometry = e.data.geometry), l);\n        }\n      }\n    }, r));\n  }\n  createManipulator(t) {\n    return new m({\n      view: this.view,\n      graphic: this.graphic,\n      ...t\n    });\n  }\n  maskOccludee() {\n    return this.view.maskOccludee(this.graphic);\n  }\n  endInteraction() {\n    const t = this.graphic.geometry;\n    \"mesh\" === t?.type && this.graphic.notifyMeshTransformChanged({\n      action: p.UpdateFastLocalOrigin\n    });\n  }\n  toMap(t) {\n    return this.view.toMap(t, {\n      include: [this.graphic]\n    });\n  }\n  createUndoRecord() {\n    const {\n      graphic: {\n        geometry: t\n      }\n    } = this;\n    return h(t);\n  }\n};\nt([o({\n  constructOnly: !0\n})], u.prototype, \"view\", void 0), t([o({\n  constructOnly: !0\n})], u.prototype, \"graphic\", void 0), t([o()], u.prototype, \"_operations\", void 0), t([o()], u.prototype, \"operations\", null), t([o()], u.prototype, \"updating\", null), u = t([s(\"esri.views.3d.interactive.editingTools.ManipulatedObject3DGraphic\")], u);\nexport { u as ManipulatedObject3DGraphic };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,IAAMA,KAAI;AAAV,IACEC,KAAI;AAAA,EACF,SAAS;AAAA,EACT,KAAK;AACP;AACF,IAAIC,KAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,UAAU,MAAM,KAAK,eAAe,MAAM,KAAK,UAAU,MAAI,KAAK,eAAe,WAAW,KAAK,iBAAiB,MAAM,KAAK,cAAc,CAAC,GAAG,KAAK,kBAAkB;AAAA,EACvL;AAAA,EACA,aAAa;AACX,UAAMA,KAAI,EAAE,CAAMA,QAAK;AACrB,YAAMC,MAAI,MAAM,EAAE,qBAAqB;AACvC,QAAED,GAAC,GAAG,KAAK,iBAAiBC;AAAA,IAC9B,EAAC;AACD,SAAK,WAAW,CAACC,GAAE,MAAM,CAAC,QAAQ,KAAK,WAAW,KAAK,kBAAkB,KAAK,OAAO,GAAG,KAAK,SAAS,KAAK,qBAAqB,KAAK,cAAc,KAAK,cAAc,GAAG,MAAM,KAAK,QAAQ,CAAC,GAAG,GAAG,CAAC,cAAc,iBAAiB,eAAe,EAAE,IAAI,CAAAF,QAAK,EAAE,MAAM,KAAK,SAAS,wBAAwBA,KAAG,MAAM,KAAK,QAAQ,CAAC,CAAC,GAAG,EAAE,MAAMA,GAAE,MAAM,CAAC,GAAGE,GAAE,MAAM,KAAK,SAAS,CAAAF,QAAK,KAAK,aAAaA,GAAC,CAAC,CAAC,CAAC;AAAA,EAC7Y;AAAA,EACA,UAAU;AACR,SAAK,KAAK,kBAAkB,GAAG,KAAK,YAAY,SAAS,MAAK,cAAc,KAAK,YAAY,IAAI,CAAC;AAAA,EACpG;AAAA,EACA,IAAI,WAAW;AACb,WAAO,QAAQ,KAAK;AAAA,EACtB;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AAAA,EACZ,IAAI,sBAAsB;AACxB,WAAOH,GAAE,KAAK,YAAY;AAAA,EAC5B;AAAA,EACA,IAAI,UAAU;AACZ,UAAMG,KAAI,KAAK,SAAS,KAAK,eAAe,aAAaG,GAAE,UAAU,CAAC,KAAK,KAAK,GAAG,CAAC;AACpF,WAAO;AAAA,MACL,WAAWH;AAAA,MACX,iBAAiBI,GAAE,EAAEJ,IAAGK,GAAE,GAAG,GAAG,GAAE;AAAA,IACpC;AAAA,EACF;AAAA,EACA,UAAU;AACR,QAAI,KAAK,UAAW;AACpB,SAAK,kBAAkB;AACvB,UAAM;AAAA,MACJ,SAASL;AAAA,MACT,cAAcC;AAAA,IAChB,IAAI;AACJ,QAAI,CAACD,GAAG,QAAO,KAAK,qBAAqB;AACzC,UAAM;AAAA,MACF,wBAAwBM;AAAA,IAC1B,IAAIN,IACJ;AAAA,MACE,YAAYO;AAAA,MACZ,UAAUC;AAAA,MACV,kBAAkBC;AAAA,IACpB,IAAIH,IAAE;AACR,QAAI,CAACE,IAAG,QAAO,KAAK,qBAAqB;AACzC,UAAME,MAAIH,GAAE;AACZ,aAASI,MAAI,GAAGA,MAAID,KAAG,EAAEC,KAAG;AAC1B,YAAMJ,KAAIH,GAAEI,KAAGF,KAAGL,KAAGQ,KAAGE,GAAC;AACzB,UAAIJ,GAAE,SAAS,KAAK,CAACF,GAAEE,IAAGP,GAAE,MAAMA,GAAE,eAAeS,IAAE,gBAAgB,EAAG;AACxE,YAAMG,MAAI,MAAMF,OAAK,CAACE,GAAEL,EAAC;AACzB,UAAIM,MAAIC,IACNC,MAAI;AACN,WAAK,mBAAmBf,IAAGO,GAAE,CAAC,GAAGM,GAAC;AAClC,eAASZ,MAAI,GAAGA,MAAIM,GAAE,QAAQ,EAAEN,KAAG;AACjC,cAAMK,MAAIC,GAAEN,MAAI,CAAC,GACfO,MAAID,GAAEN,GAAC;AACT,aAAK,mBAAmBD,IAAGQ,KAAGO,GAAC,GAAG,KAAK,UAAUf,IAAGM,KAAGO,KAAGL,KAAGO,KAAGH,GAAC,GAAG,CAACC,KAAGE,GAAC,IAAI,CAACA,KAAGF,GAAC;AAAA,MACpF;AAAA,IACF;AACA,SAAK,qBAAqB;AAAA,EAC5B;AAAA,EACA,aAAa;AAAA,IACX,WAAWb;AAAA,IACX,iBAAiBC;AAAA,EACnB,GAAG;AACD,UAAMK,MAAI,KAAK,iBACbC,KAAI,KAAK;AACX,aAASC,MAAI,GAAGA,MAAIF,KAAG,EAAEE,KAAG;AAC1B,YAAM;AAAA,QACJ,OAAOF;AAAA,MACT,IAAIC,GAAEC,GAAC;AACP,MAAAF,IAAE,YAAYN,IAAGM,IAAE,kBAAkBL;AAAA,IACvC;AAAA,EACF;AAAA,EACA,UAAUD,IAAGC,KAAGK,KAAGC,IAAGC,KAAGC,KAAG;AAC1B,UAAM;AAAA,MACJ,OAAOC;AAAA,IACT,IAAI,KAAK,kBAAkBV,EAAC;AAC5B,QAAI,CAAC,KAAK,WAAWgB,GAAEV,KAAGE,GAAC,IAAIZ,GAAG,QAAO,MAAMc,IAAE,UAAU;AAC3D,UAAM;AAAA,MACF,kBAAkBC;AAAA,IACpB,IAAIX,GAAE,uBAAuB,MAC7BY,MAAIT,GAAEF,KAAGM,IAAGI,GAAC,GACbE,MAAI,KAAK,gBACTI,MAAIhB,GAAED,GAAE,IAAI;AACd,IAAAU,IAAE,OAAO,QAAQG,OAAK,QAAQD,MAAIM,GAAEL,KAAGD,KAAGK,GAAC,IAAI,IAAIP,IAAE,UAAU;AAC/D,UAAMS,KAAIX,IAAE,CAAC,IAAIF,IAAE,CAAC,GAClBJ,KAAIM,IAAE,CAAC,IAAIF,IAAE,CAAC;AAChB,IAAAG,MAAIH,GAAEc,IAAG,CAAClB,IAAGiB,EAAC,IAAIb,GAAEc,IAAGlB,IAAG,CAACiB,EAAC,GAAGE,GAAED,IAAGA,EAAC,GAAGT,GAAES,IAAGA,IAAG,KAAK,mBAAmB,GAAGE,GAAEC,IAAGjB,KAAGE,KAAG,GAAE,GAAGL,GAAEoB,IAAGA,IAAGH,EAAC,GAAGV,IAAE,WAAW,CAACa,GAAE,CAAC,GAAGA,GAAE,CAAC,CAAC,GAAG,KAAK,IAAIH,GAAE,CAAC,CAAC,IAAI,KAAK,IAAIA,GAAE,CAAC,CAAC,IAAIV,IAAE,SAASU,GAAE,CAAC,IAAI,IAAI,SAAS,UAAUV,IAAE,SAAS,CAACU,GAAE,CAAC,IAAI,IAAI,QAAQ;AAAA,EAC9O;AAAA,EACA,kBAAkBpB,IAAG;AACnB,UAAMC,MAAI,KAAK,YAAY,SAAS,KAAK,iBACvC;AAAA,MACE,WAAWK;AAAA,MACX,iBAAiBC;AAAA,IACnB,IAAI,KAAK;AACX,QAAIN,KAAG;AACL,YAAMD,MAAI,KAAK,YAAY,KAAK,iBAAiB,GAC/C;AAAA,QACE,OAAOC;AAAA,MACT,IAAID;AACN,aAAOC,IAAE,YAAYK,KAAGL,IAAE,kBAAkBM,IAAGP;AAAA,IACjD;AACA,UAAMQ,MAAI,IAAIU,GAAE;AAAA,MACd,QAAQ;AAAA,MACR,UAAU;AAAA,MACV,WAAWZ;AAAA,MACX,iBAAiBC;AAAA,IACnB,CAAC;AACD,IAAAP,GAAE,KAAK,SAAS,MAAM,IAAIQ,GAAC;AAC3B,UAAMC,MAAI;AAAA,MACR,OAAOD;AAAA,IACT;AACA,WAAO,KAAK,YAAY,KAAKC,GAAC,GAAG,KAAK,kBAAkB,KAAK,YAAY,QAAQA;AAAA,EACnF;AAAA,EACA,uBAAuB;AACrB,WAAO,KAAK,YAAY,SAAS,KAAK,kBAAkB,MAAK,cAAc,KAAK,YAAY,IAAI,CAAC;AAAA,EACnG;AAAA,EACA,cAAc;AAAA,IACZ,OAAOT;AAAA,EACT,GAAG;AACD,SAAK,SAAS,KAAK,SAAS,MAAM,OAAOA,EAAC,GAAGA,GAAE,QAAQ;AAAA,EACzD;AACF;AACA,SAASI,GAAEJ,IAAGC,KAAGK,KAAGC,IAAGC,KAAG;AACxB,QAAMC,MAAI,CAAC;AACX,MAAIR,IAAE,KAAK,WAAWO,GAAC,EAAE,gBAAgB,CAAAR,QAAK;AAC5C,IAAAS,IAAE,KAAKF,GAAE,MAAMP,IAAE,KAAKa,GAAE,IAAI,CAAC,CAAC;AAAA,EAChC,CAAC,GAAG,MAAML,OAAK,QAAQF,OAAKG,IAAE,KAAKF,GAAE,MAAMD,KAAGO,GAAE,IAAI,CAAC,CAAC,GAAGJ,IAAE,SAAS,EAAG,QAAOA;AAC9E,QAAMC,MAAID,IAAE,CAAC,GACXE,MAAIF,IAAEA,IAAE,SAAS,CAAC;AACpB,SAAO,cAAcT,GAAE,QAAQS,IAAE,SAAS,KAAK,CAAC,EAAEC,KAAGC,GAAC,KAAKF,IAAE,KAAKC,GAAC,GAAGD;AACxE;AACA,SAASJ,GAAEL,IAAGC,KAAGK,KAAGC,IAAG;AACrB,MAAI,SAASN,IAAE,KAAM,QAAO;AAC5B,QAAMO,MAAI,EAAED,EAAC,KAAK,GAChBE,MAAI,EAAEF,EAAC,GACPG,MAAI,CAAAV,QAAKkB,GAAEjB,KAAGD,KAAGO,IAAGD,KAAGkB,EAAC,KAAK;AAC/B,WAASb,MAAI,GAAGA,MAAIX,GAAE,QAAQ,EAAEW,KAAG;AACjC,UAAMV,MAAID,GAAEW,MAAI,CAAC,GACfL,MAAIN,GAAEW,GAAC,GACPJ,MAAKD,IAAE,CAAC,IAAIL,IAAE,CAAC,KAAKO,KACpBI,OAAKN,IAAE,CAAC,IAAIL,IAAE,CAAC,KAAKO,KACpBK,OAAKH,IAAEJ,GAAC,IAAII,IAAET,GAAC,KAAKQ;AACtB,QAAI,KAAK,IAAII,GAAC,IAAI,KAAK,KAAKN,KAAIA,KAAIK,MAAIA,GAAC,IAAIa,GAAG,QAAO;AAAA,EACzD;AACA,SAAO;AACT;AACAxB,GAAE,CAAC,EAAE,CAAC,GAAGH,GAAE,WAAW,WAAW,MAAM,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,GAAE,WAAW,gBAAgB,MAAM,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,GAAE,WAAW,WAAW,MAAM,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,GAAE,WAAW,gBAAgB,MAAM,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,GAAE,WAAW,YAAY,IAAI,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,GAAE,WAAW,kBAAkB,MAAM,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,GAAE,WAAW,uBAAuB,IAAI,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,GAAE,WAAW,WAAW,IAAI,GAAGA,KAAIG,GAAE,CAAC,EAAE,sCAAsC,CAAC,GAAGH,EAAC;AAC5Z,IAAM2B,KAAIR,GAAE,CAAC;AAAb,IACEG,KAAIV,GAAE;AADR,IAEEa,KAAIb,GAAE;AAFR,IAGEI,KAAIL,GAAE;AAHR,IAIE,IAAIA,GAAE;;;AC/KR,IAAIiB,KAAI,cAAcC,GAAE;AAAA,EACtB,kBAAkB;AAAA,IAChB,MAAMC;AAAA,EACR,GAAG;AACD,WAAOA,IAAE,MAAM;AAAA,EACjB;AAAA,EACA,mBAAmB;AAAA,IACjB,MAAMA;AAAA,IACN,eAAeC;AAAA,IACf,wBAAwBC;AAAA,EAC1B,GAAGC,IAAGL,MAAIM,GAAE,GAAG;AACb,UAAM;AAAA,MACJ,kBAAkBC;AAAA,IACpB,IAAIH,IAAE,KAAK;AACX,WAAOI,GAAEH,IAAGE,IAAGJ,IAAGD,KAAGO,EAAC,GAAGP,IAAE,MAAM,OAAO,gBAAgBO,IAAGT,GAAC,GAAGA;AAAA,EACjE;AACF;AACAA,KAAIE,GAAE,CAAC,EAAE,2CAA2C,CAAC,GAAGF,EAAC;AACzD,IAAMS,KAAI,EAAE;;;ACzBZ,SAASC,IAAEA,KAAG;AACZ,QAAMC,KAAID,IAAE;AACZ,SAAOC,KAAI,CAACC,GAAE,MAAM,aAAaF,MAAIA,IAAE,UAAUA,IAAE,YAAY,CAAAG,OAAK;AAClE,IAAAA,MAAKF,GAAE,2BAA2B;AAAA,MAChC,QAAQD,GAAE;AAAA,IACZ,CAAC;AAAA,EACH,GAAG,mBACEI,GACJ,GAAG,EAAE,MAAMH,GAAE,2BAA2B;AAAA,IACvC,QAAQD,GAAE;AAAA,EACZ,CAAC,CAAC,CAAC,IAAI,CAAC;AACV;;;ACgBA,IAAIK,KAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,6BAA6B,MAAM,KAAK,sBAAsB,MAAM,KAAK,wBAAwB,MAAM,KAAK,yBAAyB,MAAM,KAAK,6BAA6B,MAAM,KAAK,YAAY,IAAIC,GAAE;AAAA,MACvN,UAAU,MAAM,KAAK,KAAK;AAAA,IAC5B,CAAC,GAAG,KAAK,eAAe,MAAM,KAAK,OAAO;AAAA,EAC5C;AAAA,EACA,aAAa;AACX,UAAM;AAAA,MACJ,MAAMD;AAAA,MACN,QAAQE;AAAA,MACR,MAAMC;AAAA,IACR,IAAI,KAAK;AACT,SAAK,sBAAsB,gBAAgB,IAAIC,GAAE;AAAA,MAC/C,MAAMJ;AAAA,MACN,QAAQE;AAAA,MACR,MAAMC;AAAA,IACR,CAAC;AAAA,EACH;AAAA,EACA,kBAAkBH,KAAG;AACnB,QAAI,CAACA,IAAE,eAAe;AACpB,YAAME,KAAIF,IAAE,QAAQ;AACpB,aAAO,iCACFA,MADE;AAAA,QAEL,eAAeK,GAAEH,EAAC;AAAA,MACpB;AAAA,IACF;AACA,WAAOF;AAAA,EACT;AAAA,EACA,kBAAkBA,KAAG;AACnB,UAAM;AAAA,MACF,MAAME;AAAA,IACR,IAAI,MACJI,KAAI,KAAK,sBAAsB,IAAIN,IAAE;AAAA,MACnC,SAASA;AAAA,IACX,CAAC;AACH,WAAO,EAAE,CAACE,GAAE,aAAaF,GAAC,GAAGE,GAAE,kBAAkBI,EAAC,GAAGC,GAAE,OAAO;AAAA,MAC5D,SAAS,KAAK;AAAA,MACd,UAAUD,GAAE;AAAA,IACd,IAAI,CAAC;AAAA,MACH,SAASN;AAAA,MACT,UAAUE;AAAA,IACZ,MAAM;AACJ,MAAAF,QAAMA,IAAE,WAAWE;AAAA,IACrB,GAAGM,EAAC,GAAG,EAAE,MAAM;AACb,QAAE,KAAK,aAAa,MAAM,KAAK,eAAe;AAAA,IAChD,CAAC,GAAG,KAAK,uBAAuBF,EAAC,GAAG,GAAGG,IAAEH,EAAC,CAAC,CAAC;AAAA,EAC9C;AAAA,EACA,oBAAoB;AAClB,UAAM;AAAA,MACF,cAAcN;AAAA,IAChB,IAAI,MACJE,KAAI,aAAaF,OAAK,gBAAgBA;AACxC,WAAO,IAAIU,GAAE;AAAA,MACX,MAAM,KAAK;AAAA,MACX,cAAc,KAAK;AAAA,MACnB,cAAcA,GAAEV,GAAC;AAAA,MACjB,aAAa,KAAK;AAAA,MAClB,MAAM,KAAK;AAAA,MACX,UAAU,KAAK;AAAA,MACf,oBAAoB,KAAK;AAAA,MACzB,aAAa,IAAIW,IAAE,KAAK,MAAM,KAAK,eAAe,CAAC,KAAK,qBAAqB,CAAC;AAAA,MAC9E,sBAAsB,IAAIC,GAAE,KAAK,eAAe,KAAK,UAAU,KAAK,MAAM,KAAK,qBAAqB;AAAA,MACpG,MAAM;AAAA,MACN,eAAe,KAAK;AAAA,MACpB,iBAAiB,KAAK;AAAA,MACtB,oBAAoB,IAAIC,GAAE;AAAA,MAC1B,eAAeX,KAAI,IAAIO,GAAE,IAAI;AAAA,MAC7B,cAAc,KAAK,cAAc;AAAA,MACjC,UAAU,KAAK,sBAAsB,KAAK,oBAAoB,WAAW,oBAAoBK,GAAE,KAAK,MAAM,KAAK,aAAa;AAAA,MAC5H,QAAQ,KAAK;AAAA,MACb,oBAAoB;AAAA,IACtB,CAAC;AAAA,EACH;AAAA,EACA,sBAAsBd,KAAG;AACvB,UAAM;AAAA,MACJ,MAAMe;AAAA,IACR,IAAI;AACJ,QAAI,KAAK,2BAA4B,QAAO,KAAK,2BAA2B,WAAW,CAACf,GAAC,GAAG,KAAK,2BAA2B,SAAS,GAAG,KAAK,iCAAiCA,GAAC,GAAG,EAAE;AACpL,UAAMS,MAAI,KAAK,WACbG,MAAIH,IAAE,aAAa,QACnBO,KAAI,IAAIT,GAAE;AAAA,MACR,MAAMQ;AAAA,MACN,kBAAkBA,IAAE;AAAA,MACpB,UAAU,CAACf,GAAC;AAAA,MACZ,eAAe,KAAK,sBAAsB;AAAA,MAC1C,MAAMY,IAAE;AAAA,MACR,aAAaA,IAAE;AAAA,MACf,gBAAgBA,IAAE;AAAA,MAClB,UAAU;AAAA,MACV,cAAc;AAAA,IAChB,CAAC;AACH,SAAK,6BAA6BI;AAClC,UAAMC,MAAIR,IAAE,eAAe,eACzBL,MAAI,IAAIc,GAAE;AAAA,MACR,MAAMH;AAAA,MACN,eAAeE,IAAE;AAAA,MACjB,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,mBAAmB;AAAA,MACnB,gBAAgBb,GAAE;AAAA,MAClB,cAAc;AAAA,IAChB,CAAC;AACH,SAAK,6BAA6BA;AAClC,UAAMC,MAAI,EAAE,CAACE,GAAE,MAAME,IAAE,eAAe,eAAe,CAAAT,QAAKA,IAAE,MAAMI,GAAC,GAAG,CAAC,GAAGG,GAAE,OAAO;AAAA,MACjF,eAAe,EAAEE,IAAE,OAAO,QAAQ;AAAA,MAClC,cAAc,EAAEA,IAAE,aAAa,OAAO,YAAY;AAAA,IACpD,IAAI,CAAC;AAAA,MACH,eAAeT;AAAA,MACf,cAAcE;AAAA,IAChB,MAAM;AACJ,MAAAc,GAAE,QAAQhB,KAAGgB,GAAE,eAAed;AAAA,IAChC,GAAG,CAAC,GAAG,EAAE,MAAM;AACb,WAAK,6BAA6B,EAAE,KAAK,0BAA0B,GAAG,KAAK,6BAA6B,EAAE,KAAK,0BAA0B;AAAA,IAC3I,CAAC,CAAC,CAAC;AACH,WAAOc,GAAE,WAAW,MAAI,KAAK,iCAAiChB,GAAC,GAAGK;AAAA,EACpE;AAAA,EACA,iCAAiCL,KAAG;AAClC,UAAME,KAAI,KAAK;AACf,QAAI,CAACA,GAAG;AACR,UAAM;AAAA,MACJ,oBAAoBC;AAAA,MACpB,mBAAmBG;AAAA,IACrB,IAAI,KAAK;AACT,IAAAa,GAAEX,IAAGR,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,CAAC,GAAGoB,GAAE,qBAAqB,KAAK,aAAa,GAAGZ,GAAE,CAAC,IAAIa,GAAEb,IAAGF,IAAGc,IAAGjB,GAAC;AACvF,IAAAA,IAAE,eAAeK,IAAG,KAAK,KAAK,kBAAkBA,EAAC,KAAKN,GAAE,mCAAmCM,EAAC,GAAGN,GAAE,WAAW,QAAMA,GAAE,WAAW;AAAA,EACjI;AAAA,EACA,iBAAiBF,KAAG;AAClB,QAAI,KAAK,sBAAuB,QAAO,KAAK,sBAAsB,WAAWA,KAAG,EAAE;AAClF,UAAME,KAAI,KAAK,sBAAsB,eACnC;AAAA,MACE,MAAMa;AAAA,IACR,IAAI,MACJN,MAAI,KAAK,WACTG,MAAI,IAAIU,GAAE;AAAA,MACR,MAAMP;AAAA,MACN,UAAUf;AAAA,MACV,eAAeE;AAAA,MACf,UAAU,KAAK,sBAAsB,KAAK,oBAAoB,WAAW,oBAAoBY,GAAE,KAAK,MAAMZ,EAAC;AAAA,MAC3G,UAAU;AAAA,MACV,cAAc;AAAA,IAChB,CAAC;AACH,SAAK,wBAAwBU;AAC7B,UAAMI,KAAI,EAAE,CAACT,GAAE,MAAME,IAAE,eAAe,YAAY,SAAS,CAAAT,QAAKA,IAAE,MAAMY,GAAC,GAAG,CAAC,GAAGL,GAAE,MAAME,IAAE,eAAe,YAAY,aAAa,CAAAT,QAAKA,IAAE,MAAMY,GAAC,GAAG,CAAC,GAAG,EAAE,MAAM;AAC7J,WAAK,wBAAwB,EAAE,KAAK,qBAAqB;AAAA,IAC3D,CAAC,CAAC,CAAC;AACH,WAAOA,IAAE,WAAW,MAAIA,IAAE,mBAAmB,MAAII;AAAA,EACnD;AAAA,EACA,yBAAyBhB,KAAG;AAC1B,QAAI,KAAK,uBAAwB,QAAO,KAAK,uBAAuB,WAAWA,KAAG,EAAE;AACpF,UAAM;AAAA,MACF,MAAMe;AAAA,IACR,IAAI,MACJN,MAAI,KAAK,WACTG,MAAIH,IAAE,aAAa,QACnBO,KAAI,IAAIT,GAAE;AAAA,MACR,MAAMQ;AAAA,MACN,kBAAkBA,IAAE;AAAA,MACpB,UAAUf;AAAA,MACV,eAAe,KAAK,sBAAsB;AAAA,MAC1C,MAAMY,IAAE;AAAA,MACR,aAAaA,IAAE;AAAA,MACf,gBAAgBA,IAAE;AAAA,MAClB,UAAU;AAAA,MACV,cAAc;AAAA,IAChB,CAAC,GACDK,MAAI,EAAE,CAACV,GAAE,OAAO;AAAA,MACd,OAAO,EAAEE,IAAE,aAAa,OAAO,KAAK;AAAA,MACpC,cAAc,EAAEA,IAAE,aAAa,OAAO,YAAY;AAAA,IACpD,IAAI,CAAC;AAAA,MACH,OAAOT;AAAA,MACP,cAAcE;AAAA,IAChB,MAAM;AACJ,MAAAc,GAAE,QAAQhB,KAAGgB,GAAE,eAAed;AAAA,IAChC,GAAG,CAAC,GAAG,EAAE,MAAM;AACb,WAAK,yBAAyB,EAAE,KAAK,sBAAsB;AAAA,IAC7D,CAAC,CAAC,CAAC;AACL,WAAOc,GAAE,WAAW,MAAI,KAAK,yBAAyBA,IAAGC;AAAA,EAC3D;AAAA,EACA,sBAAsBjB,KAAG;AACvB,QAAI,WAAW,KAAK,gBAAgB,YAAYA,KAAG,KAAM,OAAM,sBAAsBA,GAAC;AAAA,SAAO;AAC3F,YAAME,KAAI,KAAK;AACf,MAAAA,IAAG,SAASF,GAAC,GAAG,EAAE,KAAK,aAAa,MAAME,EAAC;AAC3C,YAAMC,MAAI,KAAK;AACf,MAAAD,MAAKC,IAAE,aAAaD,OAAMC,IAAE,WAAWD;AAAA,IACzC;AAAA,EACF;AAAA,EACA,uBAAuBF,KAAG;AACxB,UAAM;AAAA,MACJ,eAAeE;AAAA,IACjB,IAAI;AACJ,QAAI,CAAC,KAAK,gBAAiB,QAAOA,GAAE,UAAU,OAAI;AAClD,IAAAA,GAAE,UAAU;AACZ,UAAMY,MAAI,EAAE,MAAM;AAChB,MAAAZ,GAAE,UAAU;AAAA,IACd,CAAC;AACD,QAAIiB;AACJ,UAAMR,MAAI,MAAMQ,OAAK,qBAAqBA,GAAC;AAC3C,WAAO,EAAE,CAAC,EAAE,MAAMnB,IAAE,YAAY,MAAM;AACpC,MAAAW,IAAE,GAAGQ,MAAI,sBAAsB,MAAML,IAAE,OAAO,CAAC;AAAA,IACjD,GAAG,iCACEN,KADF;AAAA,MAED,MAAM;AAAA,IACR,EAAC,GAAG,EAAEG,GAAC,GAAGG,GAAC,CAAC;AAAA,EACd;AACF;AACAd,GAAE,CAAC,EAAE;AAAA,EACH,eAAe;AACjB,CAAC,CAAC,GAAGF,GAAE,WAAW,iBAAiB,MAAM,GAAGE,GAAE,CAAC,EAAE;AAAA,EAC/C,eAAe;AACjB,CAAC,CAAC,GAAGF,GAAE,WAAW,gBAAgB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,GAAE,WAAW,QAAQ,MAAM,GAAGE,GAAE,CAAC,EAAE;AAAA,EACrF,eAAe;AACjB,CAAC,CAAC,GAAGF,GAAE,WAAW,QAAQ,MAAM,GAAGA,KAAIE,GAAE,CAAC,EAAE,+DAA+D,CAAC,GAAGF,EAAC;AAChH,IAAMsB,KAAI,IAAID,GAAE;AAAhB,IACEX,KAAI,EAAE;;;ACjPR,SAASe,GAAEC,KAAG;AACZ,QAAMD,MAAIE,IAAED,GAAC;AACb,SAAOC,GAAE,KAAK,IAAIF,GAAC,GAAG,KAAK,IAAIA,GAAC,CAAC;AACnC;AACA,SAASE,IAAEC,IAAG;AACZ,MAAI,QAAQA,MAAK,eAAeA,GAAE,QAAQ,cAAcA,GAAE,KAAM,QAAO;AACvE,QAAMH,MAAI,eAAeG,GAAE,OAAOA,GAAE,QAAQA,GAAE,OAC5CD,MAAIE,GAAE;AACR,aAAWH,OAAKD,IAAG,UAASG,MAAI,GAAGA,MAAIF,IAAE,SAAS,GAAGE,OAAK;AACxD,UAAMH,MAAIC,IAAEE,GAAC,GACXC,MAAIH,IAAEE,MAAI,CAAC,GACXE,MAAIL,IAAE,CAAC,IAAII,IAAE,CAAC,GACdE,MAAIN,IAAE,CAAC,IAAII,IAAE,CAAC;AAChB,QAAIC,MAAIA,MAAIC,MAAIA,MAAIJ,IAAG,QAAO,KAAK,MAAME,IAAE,CAAC,IAAIJ,IAAE,CAAC,GAAGI,IAAE,CAAC,IAAIJ,IAAE,CAAC,CAAC;AAAA,EACnE;AACA,SAAO;AACT;;;ACZA,SAASO,GAAEC,KAAGC,KAAGC,KAAG;AAClB,WAASC,MAAI;AACX,UAAMC,KAAIF,IAAE,GACVG,MAAID,GAAE,cAAc,SAAS,mBAAmBA,GAAE,oBAAoB;AACxE,WAAO,iCACFA,KADE;AAAA,MAEL,mBAAmBC;AAAA,IACrB;AAAA,EACF;AACA,MAAIC,MAAI;AACR,WAASP,GAAE;AAAA,IACT,mBAAmBK;AAAA,IACnB,eAAeC;AAAA,EACjB,GAAG;AACD,IAAAC,MAAI,MAAIF,OAAMA,GAAE,gBAAgBC,KAAGE,GAAEH,IAAGH,GAAC,IAAID,IAAE,OAAOI,IAAGE,MAAI;AAAA,EAC/D;AACA,SAAO,EAAE,CAACE,GAAEL,KAAGJ,IAAGU,EAAC,GAAGD,GAAE,MAAM;AAC5B,UAAMJ,KAAID,IAAE,GACV;AAAA,MACE,mBAAmBE;AAAA,IACrB,IAAID;AACN,QAAIC,IAAG,QAAO;AAAA,MACZ,SAASD;AAAA,MACT,mBAAmBC;AAAA,MACnB,KAAKA,IAAE;AAAA,MACP,UAAUD,GAAEH,GAAC;AAAA,IACf;AAAA,EACF,GAAG,CAACG,IAAGC,QAAM;AACX,IAAAD,MAAK,CAACE,OAAKD,OAAKA,IAAE,QAAQD,GAAE,OAAOM,GAAEN,GAAE,mBAAmBH,KAAGG,GAAE,OAAO;AAAA,EACxE,GAAG,CAAC,GAAGH,IAAE,GAAG,aAAa,MAAMF,GAAEI,IAAE,CAAC,CAAC,GAAG,EAAEH,GAAC,CAAC,CAAC;AAC/C;AACA,SAASU,GAAEN,IAAGC,KAAG;AAAA,EACf,WAAWM;AACb,GAAG;AACD,QAAMC,MAAIR,GAAEC,GAAC;AACb,UAAQO,KAAG,MAAM;AAAA,IACf,KAAK;AACH,MAAAC,IAAET,IAAGQ,IAAE,QAAQP,KAAGM,GAAC,GAAG,iBAAiBP,MAAK,WAAWA,MAAK,EAAEA,IAAGQ,KAAGD,GAAC;AACrE;AAAA,IACF,KAAK;AACH,MAAAE,IAAET,IAAGQ,KAAGP,KAAGM,GAAC;AAAA,EAChB;AACF;AACA,SAASE,IAAET,IAAGC,KAAGM,KAAGC,KAAG;AACrB,QAAM;AAAA,IACJ,IAAIE;AAAA,IACJ,IAAIC;AAAA,IACJ,IAAId;AAAA,EACN,IAAIe,GAAEZ,IAAGC,GAAC;AACV,QAAMS,OAAK,MAAMC,MAAK,MAAMd,QAAMW,IAAE,cAAc,GAAGD,IAAE,YAAY,KAAKG,KAAGC,IAAGd,KAAGgB,GAAE,QAAQ,GAAGL,IAAE,SAASE,KAAGC,IAAGd,GAAC,GAAGW,IAAE,aAAa;AACpI;AACA,SAASL,GAAEH,IAAGC,KAAG;AACf,QAAMM,MAAIP,GAAEC,GAAC;AACb,MAAI,CAACD,MAAK,CAACO,OAAK,WAAWA,IAAE,QAAQ,YAAYA,IAAE,KAAM;AACzD,QAAMC,MAAI,WAAWD,IAAE,MACrBX,MAAIY,MAAID,IAAE,SAASA;AACrB,EAAAP,GAAE,qBAAqBJ,GAAC,GAAGkB,GAAEd,IAAGJ,KAAGK,GAAC,GAAG,qBAAqBD,GAAE,QAAQQ,OAAKO,GAAEf,IAAGO,GAAC,GAAGP,GAAE,iBAAiB;AACzG;AACA,SAASc,GAAEd,IAAGC,KAAGM,KAAG;AAClB,EAAAP,GAAE,UAAU,SAASe,GAAEd,GAAC,GAAGD,GAAE,UAAU,UAAU,CAAC,CAACO,IAAE,YAAY,KAAK,iBAAiB,KAAK,GAAGP,GAAE,UAAU,WAAW,OAAIA,GAAE,UAAU,UAAU;AAClJ;;;AClEA,IAAI;AACJ,CAAC,SAAUgB,IAAG;AACZ,EAAAA,GAAEA,GAAE,OAAO,CAAC,IAAI,QAAQA,GAAEA,GAAE,MAAM,CAAC,IAAI,OAAOA,GAAEA,GAAE,IAAI,CAAC,IAAI,KAAKA,GAAEA,GAAE,KAAK,CAAC,IAAI;AAChF,EAAE,MAAM,IAAI,CAAC,EAAE;;;ACAf,IAAMC,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,gBAAgB,EAAE,MAAM,KAAK,eAAe,MAAM,KAAK,gBAAgB,MAAM,KAAK,cAAc,GAAG,KAAK,iBAAiB;AAAA,EAChI;AAAA,EACA,OAAOA,KAAG;AACR,SAAK,gBAAgB,EAAE,MAAM,KAAK,eAAe,MAAM,KAAK,cAAc,GAAG,KAAK,gBAAgB,MAAM,KAAK,iBAAiB,MAAMA,IAAE,mBAAmB,CAACA,KAAGC,OAAM;AACjK,UAAIA,OAAMC,GAAE,gBAAgB,KAAK,eAAeF,MAAIA,eAAa,OAAMA,IAAE,aAAa,MAAM,KAAK,gBAAgB,KAAK,gBAAgBA,MAAI,KAAK,gBAAgB,QAAQ,KAAK,kBAAkBA,IAAE,YAAYC,OAAMC,GAAE,iBAAiB,KAAK,iBAAiBF,OAAKA,IAAE,SAAU,SAAQ,KAAK,iBAAiB,EAAE,KAAKC,IAAG;AAAA,QAClT,KAAKC,GAAE;AACL,eAAK,iBAAiB,EAAE;AACxB;AAAA,QACF,KAAKA,GAAE;AACL,eAAK,iBAAiB,EAAE;AAAA,MAC5B;AAAA,IACF,CAAC;AAAA,EACH;AACF;;;ACFA,SAASC,GAAEC,IAAG;AACZ,QAAM;AAAA,IACF,QAAQC;AAAA,EACV,IAAID,IACJE,MAAIC,GAAEH,EAAC,GACPI,MAAI,CAACF,KAAGG,GAAEL,IAAGE,IAAE,aAAa,CAAC;AAC/B,SAAOD,IAAE,gBAAgBG,IAAE,KAAKH,IAAE,aAAa,CAAC,GAAG;AAAA,IACjD,eAAeC,IAAE;AAAA,IACjB,QAAQ,MAAMI,GAAEF,GAAC;AAAA,EACnB;AACF;AACA,SAASD,GAAEI,KAAG;AACZ,QAAM;AAAA,IACF,MAAML;AAAA,IACN,QAAQE;AAAA,EACV,IAAIG,KACJC,KAAIR,GAAEI,GAAC,GACPE,MAAI,IAAIG,GAAE;AAAA,IACR,MAAMP;AAAA,IACN,UAAUQ,GAAEF,EAAC,IAAIA,KAAI;AAAA,IACrB,eAAeJ,IAAE;AAAA,IACjB,UAAU;AAAA,IACV,cAAc;AAAA,EAChB,CAAC,GACDO,MAAI,IAAIC,GAAE;AAAA,IACR,UAAU,MAAMV,IAAE;AAAA,EACpB,CAAC,GACDW,KAAI,MAAM;AACR,IAAAP,IAAE,WAAWF,IAAE;AAAA,EACjB,GACAU,MAAI,EAAE,CAACC,GAAE,MAAMJ,IAAE,eAAe,YAAY,SAAS,CAAAJ,QAAKA,IAAE,MAAMD,GAAC,GAAG,CAAC,GAAGS,GAAE,MAAMJ,IAAE,eAAe,YAAY,aAAa,CAAAJ,QAAKA,IAAE,MAAMD,GAAC,GAAG,CAAC,GAAGS,GAAE,MAAMX,IAAE,SAASS,EAAC,GAAGE,GAAE,MAAMX,IAAE,UAAU,CAAAG,QAAK;AAC/L,IAAAD,IAAE,WAAWC;AAAA,EACf,GAAG,CAAC,GAAGH,IAAE,GAAG,aAAa,MAAM;AAC7B,UAAMG,MAAIP,GAAEI,GAAC;AACb,IAAAE,IAAE,WAAWI,GAAEH,GAAC,IAAIA,MAAI;AAAA,EAC1B,CAAC,GAAGH,GAAEE,GAAC,CAAC,CAAC;AACX,SAAOO,GAAE,GAAG;AAAA,IACV,eAAeP;AAAA,IACf,QAAQ,MAAMQ,IAAE,OAAO;AAAA,EACzB;AACF;AACA,SAAST,GAAEC,KAAGK,KAAG;AACf,QAAM;AAAA,IACF,QAAQE;AAAA,IACR,MAAMC;AAAA,EACR,IAAIR,KACJU,MAAI,CAAC,GACLC,KAAIJ,GAAE,eACND,KAAI,oBAAoBK,GAAE,QAAQ,CAACA,GAAE,UAAU,sBAAsBA,GAAE,MACvElB,KAAI,IAAIG,IAAE,GACVC,MAAI,IAAIS,GAAE;AAAA,IACR,UAAU,MAAME,IAAE;AAAA,EACpB,CAAC,GACDT,KAAIF,IAAE,gBACNe,KAAI,IAAIC,GAAE;AAAA,IACR,MAAML;AAAA,IACN,eAAeT,GAAE,cAAc;AAAA,IAC/B,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,mBAAmB;AAAA,IACnB,gBAAgBe,GAAE;AAAA,IAClB,cAAc;AAAA,EAChB,CAAC,GACDC,MAAID,GAAEf,GAAE,sBAAsB,GAC9BiB,MAAI,IAAIX,GAAE;AAAA,IACR,MAAMG;AAAA,IACN,UAAU;AAAA,IACV,aAAaO;AAAA,IACb,cAAc;AAAA,EAChB,CAAC,GACDE,KAAIjB,GAAE,CAAC;AACT,EAAAU,IAAE,KAAKD,GAAE,OAAO;AAAA,IACd,iBAAiBZ,IAAE,eAAe,YAAY;AAAA,IAC9C,kBAAkBA,IAAE,eAAe,aAAa;AAAA,IAChD,OAAOoB,GAAE;AAAA,EACX,IAAI,CAAC;AAAA,IACH,iBAAiBhB;AAAA,IACjB,kBAAkBP;AAAA,IAClB,OAAOC;AAAA,EACT,MAAM;AACJ,IAAAM,IAAE,MAAMI,KAAGV,GAAC,GAAGD,GAAE,MAAMkB,IAAGjB,GAAC;AAAA,EAC7B,GAAG,CAAC,CAAC;AACL,QAAMuB,KAAIlB,GAAE,CAAC;AACb,EAAAU,IAAE,KAAKD,GAAE,OAAO;AAAA,IACd,aAAaZ,IAAE,eAAe;AAAA,IAC9B,OAAOqB,GAAE;AAAA,EACX,IAAI,CAAC;AAAA,IACH,aAAajB;AAAA,IACb,OAAOP;AAAA,EACT,MAAMO,IAAE,MAAMe,KAAGtB,EAAC,GAAG,CAAC,CAAC;AACvB,QAAMyB,KAAI,MAAM;AACd,IAAA1B,GAAE,OAAOO,GAAC;AACV,UAAMC,MAAIP,GAAEa,EAAC;AACb,QAAI,CAACA,GAAE,WAAWD,OAAMC,GAAE,YAAY,CAACH,GAAEH,GAAC,KAAK,CAACA,IAAE,MAAO,QAAOI,IAAE,mBAAmB,OAAIO,GAAE,WAAW,OAAI,MAAMI,IAAE,WAAW;AAC7H,IAAAX,IAAE,mBAAmB;AACrB,UAAMX,KAAID,GAAE,gBAAgB,EAAE,KAAKM,GAAE,2BAA2B;AAChE,IAAAkB,GAAE,QAAQvB;AACV,UAAMC,MAAIF,GAAE,gBAAgB,EAAE,IAAIM,GAAE,2BAA2B;AAC/D,IAAAmB,GAAE,QAAQvB,KAAGyB,GAAER,IAAGnB,EAAC,GAAG4B,GAAErB,KAAGK,KAAGW,KAAGvB,EAAC;AAAA,EACpC;AACA,EAAAiB,IAAE,KAAKD,GAAE,MAAMZ,IAAE,eAAe,eAAe,CAAAI,QAAKA,IAAE,MAAMW,EAAC,GAAG,CAAC,CAAC,GAAGF,IAAE,KAAKH,GAAE,GAAG,aAAaY,EAAC,GAAGV,GAAE,MAAMF,GAAE,SAASY,EAAC,GAAGd,IAAE,OAAO,GAAG,6BAA6Bc,EAAC,GAAGrB,GAAEc,EAAC,GAAGd,GAAEkB,GAAC,CAAC;AAChL,QAAMM,KAAI,CAAC,GACTC,KAAI,MAAM;AACR,IAAAvB,GAAEsB,EAAC,GAAGA,GAAE,SAAS,GAAGtB,IAAE,mBAAmB,CAAAC,QAAKqB,GAAE,KAAKrB,IAAE,OAAO,GAAG,gBAAgBkB,EAAC,CAAC,CAAC,GAAGnB,IAAE,mBAAmB,CAAAC,QAAKqB,GAAE,KAAKrB,IAAE,OAAO,GAAG,kBAAkBkB,EAAC,CAAC,CAAC,GAAGA,GAAE;AAAA,EAChK;AACF,SAAOI,GAAE,GAAGb,IAAE,KAAKV,IAAE,sBAAsBuB,EAAC,GAAG,EAAE,MAAM,EAAED,EAAC,CAAC,CAAC,GAAG,EAAEZ,GAAC;AACpE;AACA,SAASU,GAAEnB,KAAGP,IAAG;AACf,QAAMC,MAAI,MAAMD,GAAE,cAAcA,GAAE,gBAAgBA,GAAE,cAAc,KAAK,QAAQA,GAAE,iBAAiBA,GAAE,iBAAiB;AACrH,UAAQC,OAAKM,IAAE,mCAAmCN,IAAE,cAAc,GAAGM,IAAE,WAAW,QAAMA,IAAE,WAAW;AACvG;AACA,SAASoB,GAAEpB,KAAGP,IAAGC,KAAGC,KAAG;AACrB,MAAIA,IAAE,cAAc,GAAG;AACrB,IAAA4B,GAAEZ,IAAG,GAAG,GAAG,CAAC;AACZ,QAAIlB,MAAI;AACR,IAAAO,IAAE,mBAAmB,CAACA,KAAGN,QAAM;AAC7B,MAAAA,QAAMoB,GAAE,gBAAgBd,IAAE,YAAYA,eAAa,OAAMO,GAAEI,IAAGA,IAAGX,IAAE,cAAc,GAAGP;AAAA,IACtF,CAAC,GAAGA,MAAI,KAAKC,IAAE,uBAAuB,EAAEiB,IAAGA,IAAG,IAAIlB,GAAC,GAAGC,IAAE,WAAW,QAAMA,IAAE,WAAW;AAAA,EACxF,OAAO;AACL,UAAMC,MAAIF,GAAE;AACZ,YAAQE,OAAKK,IAAE,KAAK,mBAAmB,eAAeL,KAAGgB,EAAC,KAAKjB,IAAE,uBAAuBiB,IAAGjB,IAAE,WAAW,QAAMA,IAAE,WAAW;AAAA,EAC7H;AACF;AACA,SAASS,GAAEH,KAAG;AACZ,SAAO,QAAQA,QAAM,cAAcA,IAAE,QAAQ,eAAeA,IAAE;AAChE;AACA,IAAMW,KAAI,EAAE;;;ACzHZ,SAASa,GAAEC,IAAG;AACZ,QAAMC,MAAI,CAAC,GACTC,MAAIC,GAAEH,IAAGC,GAAC;AACZ,SAAOG,GAAEJ,IAAGC,KAAGC,GAAC,GAAG;AAAA,IACjB,eAAeA;AAAA,IACf,QAAQ,MAAMG,GAAEJ,GAAC;AAAA,EACnB;AACF;AACA,SAASG,GAAEE,KAAGL,KAAGM,IAAG;AAClB,QAAM;AAAA,IACF,MAAMC;AAAA,IACN,QAAQC;AAAA,EACV,IAAIH,KACJI,KAAI,IAAIC,GAAE;AAAA,IACR,UAAU,MAAMH,IAAE;AAAA,EACpB,CAAC,GACDI,KAAI,IAAIC,GAAE;AAAA,IACR,MAAML;AAAA,IACN,eAAeE,GAAE,eAAe,cAAc;AAAA,IAC9C,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,mBAAmB;AAAA,IACnB,gBAAgBI,GAAE;AAAA,IAClB,cAAc;AAAA,EAChB,CAAC;AACH,EAAAb,IAAE,KAAKc,GAAE,MAAML,GAAE,eAAe,eAAe,CAAAJ,QAAKA,IAAE,MAAMM,EAAC,GAAG,CAAC,CAAC;AAClE,QAAMb,KAAI,IAAIS,GAAE;AAAA,IACZ,MAAMA;AAAA,IACN,wBAAwB;AAAA,IACxB,UAAU;AAAA,IACV,cAAc;AAAA,EAChB,CAAC,GACDJ,KAAIU,GAAEJ,GAAE,eAAe,sBAAsB,GAC7CP,MAAI,IAAIK,GAAE;AAAA,IACR,MAAMA;AAAA,IACN,UAAU;AAAA,IACV,aAAaJ;AAAA,IACb,cAAc;AAAA,EAChB,CAAC,GACDY,MAAIP,GAAE,eACNQ,KAAIhB,GAAE,kBAAkBe,GAAC,GACzBE,KAAI,oBAAoBF,IAAE,QAAQ,CAACA,IAAE,UAAU,sBAAsBA,IAAE,MACvEG,KAAI,IAAIC,IAAE,GACVC,KAAIhB,GAAE,CAAC;AACT,EAAAJ,IAAE,KAAKc,GAAE,OAAO;AAAA,IACd,aAAaL,GAAE,eAAe;AAAA,IAC9B,OAAOW,GAAE;AAAA,EACX,IAAI,CAAC;AAAA,IACH,aAAaf;AAAA,IACb,OAAON;AAAA,EACT,MAAMM,IAAE,MAAMH,KAAGH,EAAC,GAAG,CAAC,CAAC;AACvB,QAAMsB,KAAIjB,GAAE,CAAC;AACb,EAAAJ,IAAE,KAAKc,GAAE,OAAO;AAAA,IACd,aAAaL,GAAE,eAAe,aAAa;AAAA,IAC3C,OAAOY,GAAE;AAAA,EACX,IAAI,CAAC;AAAA,IACH,aAAahB;AAAA,IACb,OAAON;AAAA,EACT,MAAMM,IAAE,MAAMP,IAAGC,EAAC,GAAG,CAAC,CAAC;AACvB,QAAMuB,KAAI,MAAM;AACd,IAAAJ,GAAE,OAAOb,GAAC;AACV,QAAIN,KAAIwB,GAAExB,GAAES,EAAC,CAAC;AACd,UAAMR,MAAIiB,OAAMT,GAAE,YAAY,QAAQT,MAAK,CAACA,GAAE;AAC9C,QAAIE,MAAI;AACR,QAAID,OAAK,QAAQD,GAAG,CAAAE,MAAI;AAAA,SAAQ;AAC9B,MAAAa,GAAEN,GAAE,aAAa,MAAMT,KAAIA,GAAE,MAAM,GAAGA,GAAE,IAAI;AAC5C,YAAMM,MAAII,GAAEV,IAAGQ,IAAE,mBAAmBS,IAAGT,IAAE,kBAAkB;AAC3D,MAAAP,GAAEwB,IAAGzB,GAAE,GAAGA,GAAE,GAAGM,GAAC,GAAGJ,GAAEuB,IAAGzB,GAAE,kBAAkByB,IAAGjB,IAAE,mBAAmB,gBAAgB,GAAGI,GAAE,mCAAmCa,EAAC,GAAG1B,GAAE,8BAA8B0B;AAAA,IAClK;AACA,UAAMC,MAAIP,GAAE,gBAAgB,EAAE,IAAIT,GAAE,eAAe,2BAA2B;AAC9E,IAAAW,GAAE,QAAQK;AACV,UAAMC,MAAI5B,GAAE6B,EAAC;AACb,KAAC3B,OAAKQ,GAAE,WAAWF,GAAE,mBAAmBoB,GAAC,KAAKzB,GAAE,EAAEyB,KAAGF,EAAC,GAAGjB,IAAE,kBAAkBiB,IAAGjB,IAAE,mBAAmB,gBAAgB,KAAKL,IAAE,uBAAuBsB,IAAGtB,IAAE,WAAW,QAAMA,IAAE,WAAW;AACtL,UAAME,MAAIc,GAAE,gBAAgB,EAAE,KAAKT,GAAE,eAAe,2BAA2B;AAC/E,IAAAY,GAAE,QAAQjB;AACV,UAAMM,KAAIT,OAAKO,GAAE,WAAW,CAACR;AAC7B,IAAAF,GAAE,WAAWY,IAAGC,GAAE,WAAWD;AAAA,EAC/B;AACA,EAAAV,IAAE,KAAKc,GAAE,MAAM,CAACN,GAAE,SAASA,GAAE,QAAQ,GAAGc,EAAC,GAAGd,GAAE,GAAG,aAAac,EAAC,CAAC,GAAGjB,IAAE,mBAAmB,CAAAA,QAAK;AAC3F,IAAAL,IAAE,KAAKK,IAAE,OAAO,GAAG,gBAAgBiB,EAAC,CAAC;AAAA,EACvC,CAAC,GAAGtB,IAAE,KAAK0B,GAAE5B,EAAC,CAAC,GAAGE,IAAE,KAAK0B,GAAEf,EAAC,CAAC,GAAGX,IAAE,KAAK0B,GAAExB,GAAC,CAAC,GAAGoB,GAAE;AAClD;AACA,SAASpB,GAAEG,KAAGL,KAAG;AACf,QAAM;AAAA,IACF,MAAMC;AAAA,IACN,QAAQwB;AAAA,EACV,IAAIpB,KACJqB,MAAI,IAAIE,GAAE;AAAA,IACR,MAAM3B;AAAA,IACN,UAAUsB,GAAExB,GAAE0B,GAAC,CAAC;AAAA,IAChB,eAAeA,IAAE;AAAA,IACjB,cAAc;AAAA,EAChB,CAAC;AACH,SAAOV,GAAEV,KAAGqB,KAAG1B,GAAC,GAAGA,IAAE,KAAK0B,GAAEA,GAAC,CAAC,GAAGA;AACnC;AACA,SAASH,GAAElB,KAAG;AACZ,SAAO,QAAQA,MAAI,OAAO,YAAYA,IAAE,OAAOA,MAAI,WAAWA,IAAE,OAAOA,IAAE,OAAO,MAAM,IAAI;AAC5F;AACA,SAASU,GAAEV,KAAGN,IAAGC,KAAG;AAClB,QAAM;AAAA,IACF,MAAMC;AAAA,IACN,QAAQG;AAAA,EACV,IAAIC,KACJc,MAAI,MAAM;AACR,IAAApB,GAAE,WAAWK,IAAE;AAAA,EACjB,GACAE,KAAI,IAAII,GAAE;AAAA,IACR,UAAU,MAAMT,IAAE;AAAA,EACpB,CAAC;AACH,EAAAe,GAAEX,KAAGN,IAAGC,GAAC,GAAGM,GAAE,eAAe,aAAa,QAAQ,MAAMP,EAAC,GAAGC,IAAE,KAAKc,GAAE,MAAMV,IAAE,SAASe,KAAG,CAAC,CAAC;AAC7F;AACA,SAASH,GAAEX,KAAGN,IAAGE,KAAG;AAClB,QAAM;AAAA,IACJ,MAAMwB;AAAA,IACN,QAAQC;AAAA,EACV,IAAIrB;AACJ,MAAID,MAAI;AACR,QAAMe,MAAI,CAAAd,QAAK;AACX,YAAQD,QAAMA,IAAE,OAAO,GAAGA,MAAI,OAAOsB,IAAE,YAAY,QAAQrB,QAAMD,MAAIa,GAAEQ,KAAGpB,KAAG,MAAM;AACjF,MAAAN,GAAE,WAAWM;AAAA,IACf,CAAC;AAAA,EACH,GACAC,KAAI,MAAM;AACR,UAAMD,MAAIkB,GAAExB,GAAE2B,GAAC,CAAC;AAChB,YAAQrB,OAAKS,GAAEY,IAAE,aAAa,MAAMrB,IAAE,IAAI,IAAIc,IAAEd,GAAC,GAAGN,GAAE,WAAWM;AAAA,EACnE;AACF,EAAAJ,IAAE,KAAKyB,IAAE,GAAG,aAAapB,EAAC,GAAG,EAAE,MAAMF,GAAC,CAAC,GAAGE,GAAE;AAC9C;AACA,SAASW,GAAEZ,KAAGN,IAAGC,KAAG;AAClB,QAAMC,MAAII,IAAE,kBAAkB;AAC9B,EAAAE,GAAER,IAAGyB,IAAGvB,GAAC;AACT,QAAMwB,MAAID,GAAE,CAAC,GACXE,MAAIF,GAAE,CAAC;AACT,SAAOnB,IAAE,kBAAkB,GAAG,oBAAoB,CAAAA,QAAK;AACrD,MAAEA,IAAE,QAAQoB,KAAGC,GAAC,KAAK1B,IAAE;AAAA,EACzB,CAAC;AACH;AACA,IAAMwB,KAAI,EAAE;AAAZ,IACEG,KAAIF,GAAE;;;AC5JR,SAASI,IAAEA,KAAG;AACZ,UAAQC,GAAED,IAAE,MAAM,GAAG,MAAM;AAAA,IACzB,KAAK;AAAA,IACL,KAAK;AACH,aAAOE,GAAEF,GAAC;AAAA,IACZ,KAAK;AAAA,IACL,KAAK;AACH,aAAOG,GAAEH,GAAC;AAAA,IACZ;AACE,aAAO;AAAA,EACX;AACF;;;ACRA,IAAMI,MAAN,cAAgBC,GAAE;AAAA,EAChB,YAAYA,IAAG;AACb,UAAM,GAAG,KAAK,QAAQA,GAAE,MAAM,KAAK,QAAQA,GAAE,MAAM,KAAK,UAAUA,GAAE,QAAQ,KAAK,eAAe,KAAK,QAAQ,oBAAoB;AAAA,MAC/H,YAAY;AAAA,MACZ,QAAQ;AAAA,IACV,CAAC,GAAG,KAAK,mBAAmB,CAAAA,QAAK,KAAK,MAAM,aAAa,IAAIA,GAAC,CAAC;AAAA,EACjE;AAAA,EACA,UAAU;AACR,SAAK,mBAAmB,CAAAA,OAAK;AAC3B,WAAK,MAAM,aAAa,OAAOA,EAAC,GAAGA,GAAE,QAAQ;AAAA,IAC/C,CAAC,GAAG,KAAK,QAAQ,MAAM,KAAK,QAAQ,MAAM,KAAK,eAAe;AAAA,EAChE;AAAA,EACA,mBAAmBA,IAAG;AACpB,SAAK,gBAAgBA,GAAE,KAAK,cAAcC,GAAE,YAAY;AAAA,EAC1D;AAAA,EACA,oCAAoCD,IAAG;AACrC,WAAOE,GAAE,KAAK,SAASF,IAAG,CAAAA,QAAK,KAAK,mBAAmBA,GAAC,CAAC;AAAA,EAC3D;AAAA,EACA,mBAAmBG,KAAG;AACpB,QAAI,CAAC,KAAK,aAAc,QAAO,EAAE;AACjC,UAAMC,MAAI,KAAK;AACf,WAAOC,GAAE,KAAK,cAAc,CAACL,IAAGM,KAAGC,KAAGR,KAAGM,QAAM;AAC7C,YAAMG,MAAI,KAAK,QAAQ,YAAY,KAAK,kBACtCC,MAAIH,IAAE,KAAK,CAAAN,QAAKQ,MAAIR,MAAI,IAAI,EAAE,KAAKU,GAAEL,KAAGD,KAAG,KAAK,SAASI,GAAC,CAAC,EAAE,KAAKG,GAAE,CAAC,EAAE,KAAKC,GAAE,CAAC;AACjF,MAAAT,IAAEH,IAAGS,KAAGF,KAAGR,KAAGM,GAAC;AAAA,IACjB,CAAC;AAAA,EACH;AACF;;;ACzBA,IAAIQ,KAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,OAAO,gBAAgB,KAAK,WAAWC;AAAA,EACxD;AACF;AACAC,GAAE,CAAC,EAAE,CAAC,GAAGJ,GAAE,WAAW,QAAQ,MAAM,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,GAAE,WAAW,YAAY,MAAM,GAAGA,KAAII,GAAE,CAAC,EAAE,6DAA6D,CAAC,GAAGJ,EAAC;;;ACL7J,IAAIK,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,OAAO,eAAe,KAAK,WAAWC;AAAA,EACvD;AAAA,EACA,QAAQ;AACN,SAAK,WAAWA;AAAA,EAClB;AACF;AACAC,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,QAAQ,MAAM,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,YAAY,MAAM,GAAGA,MAAII,GAAE,CAAC,EAAE,4DAA4D,CAAC,GAAGJ,GAAC;;;AC2B5J,IAAMK,KAAN,MAAQ;AAAA,EACN,YAAYC,IAAG;AACb,SAAK,UAAUA,IAAG,KAAK,OAAO;AAAA,EAChC;AACF;AACA,IAAMC,KAAN,MAAQ;AAAA,EACN,YAAYD,IAAGE,KAAGC,KAAG;AACnB,SAAK,KAAKH,IAAG,KAAK,KAAKE,KAAG,KAAK,UAAUC,KAAG,KAAK,OAAO;AAAA,EAC1D;AACF;AACA,IAAMC,KAAN,MAAQ;AAAA,EACN,YAAYJ,IAAG;AACb,SAAK,UAAUA,IAAG,KAAK,OAAO;AAAA,EAChC;AACF;AACA,IAAM,IAAI,OAAO,cAAc;AAA/B,IACEK,KAAI,OAAO,UAAU;AACvB,IAAI,IAAI,cAAcC,GAAE;AAAA,EACtB,YAAYN,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,SAAS,oBAAI,IAAI,GAAG,KAAK,SAAS,IAAIE,GAAE,GAAG,KAAK,UAAU,IAAI,EAAE,GAAG,KAAK,UAAU,MAAI,KAAK,gBAAgB,IAAIK,GAAE,GAAG,KAAK,OAAO,WAAW,KAAK,qBAAqB,MAAM,KAAK,wBAAwB,MAAM,KAAK,0BAA0B,MAAM,KAAK,yBAAyB,MAAM,KAAK,mBAAmB,IAAIC,GAAE,GAAG,KAAK,oBAAoB;AAAA,EAClW;AAAA,EACA,aAAa;AACX,UAAM;AAAA,MACJ,MAAMR;AAAA,IACR,IAAI;AACJ,SAAK,UAAU,IAAIQ,GAAE;AAAA,MACnB,MAAMR;AAAA,IACR,CAAC,GAAG,KAAK,WAAW,CAAC,KAAK,QAAQ,GAAG,UAAU,CAAAA,QAAK;AAClD,MAAAA,IAAE,QAAQ,QAAQ,CAAAA,QAAK,KAAK,cAAcA,GAAC,CAAC,GAAG,KAAK,mBAAmBA,GAAC,GAAG,KAAK,2BAA2BA,IAAE,KAAK,GAAG,KAAK,qBAAqB;AAAA,IACjJ,CAAC,GAAG,KAAK,QAAQ,GAAG,UAAU,MAAM,KAAK,iBAAiB,CAAC,CAAC,CAAC;AAC7D,UAAME,MAAI,KAAK,QAAQ,QAAQ;AAC/B,SAAK,mBAAmB;AAAA,MACtB,OAAOA;AAAA,MACP,SAAS,CAAC;AAAA,IACZ,CAAC,GAAG,KAAK,2BAA2BA,GAAC,GAAG,KAAK,qBAAqB,GAAG,KAAK,iBAAiB,GAAG,KAAK,mBAAmB;AAAA,EACxH;AAAA,EACA,UAAU;AACR,SAAK,UAAU,EAAE,KAAK,OAAO,GAAG,KAAK,oBAAoB,EAAE,KAAK,iBAAiB,GAAG,KAAK,KAAK,QAAQ,IAAI,GAAG,KAAK,iBAAiB,QAAQ;AAAA,EAC7I;AAAA,EACA,aAAaF,IAAG;AACd,QAAI,CAAC,KAAK,aAAa,CAACS,GAAET,IAAG,KAAK,OAAO,EAAG,QAAO,MAAM,aAAaA,EAAC;AAAA,EACzE;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,iBAAiB;AAAA,EAC/B;AAAA,EACA,IAAI,8BAA8B;AAChC,UAAM;AAAA,MACJ,SAASA;AAAA,IACX,IAAI;AACJ,QAAI,MAAMA,GAAE,OAAQ,QAAO;AAC3B,UAAME,MAAIF,GAAEA,GAAE,GAAG,CAAC,CAAC,GAAG;AACtB,WAAO,YAAYE,OAAK,WAAWA;AAAA,EACrC;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,KAAK,8BAA8B,KAAK,wBAAwB,KAAK;AAAA,EAC9E;AAAA,EACA,QAAQ;AAAA,EAAC;AAAA,EACT,mBAAmB;AAAA,IACjB,OAAOF;AAAA,IACP,SAASE;AAAA,EACX,GAAG;AACD,eAAWC,OAAKH,IAAG;AACjB,UAAIU,IAAEP,GAAC,MAAMQ,GAAE,UAAW;AAC1B,YAAMX,MAAI,IAAI,EAAEG,GAAC;AACjB,WAAK,OAAO,IAAIA,KAAGH,GAAC;AAAA,IACtB;AACA,eAAWG,OAAKD,IAAG,MAAK,OAAO,OAAOC,GAAC;AAAA,EACzC;AAAA,EACA,2BAA2BH,IAAG;AAC5B,eAAWE,OAAKF,IAAG;AACjB,YAAMA,MAAI,KAAK,OAAO,IAAIE,GAAC;AAC3B,WAAK,WAAWU,IAAEZ,IAAE,MAAM,GAAGE,GAAC;AAAA,IAChC;AAAA,EACF;AAAA,EACA,uBAAuB;AACrB,QAAI,KAAK,cAAc,CAAC,GAAG,KAAK,oBAAoB,EAAE,KAAK,iBAAiB,GAAG,KAAK,aAAa,UAAU,GAAG,MAAM,KAAK,OAAO,KAAM;AACtI,UAAMF,KAAI,MAAM,KAAK,KAAK,OAAO,OAAO,CAAC;AACzC,SAAK,oBAAoBA,EAAC,GAAG,KAAK,sBAAsBA,EAAC,GAAG,KAAK,wBAAwBA,EAAC;AAAA,EAC5F;AAAA,EACA,oBAAoBA,IAAG;AACrB,eAAWE,OAAKF,IAAG;AACjB,YAAMG,MAAID,IAAE;AACZ,MAAAA,IAAE,iBAAiB,IAAIK,IAAE;AAAA,QACvB,MAAM;AAAA,QACN,MAAM,KAAK;AAAA,QACX,QAAQJ;AAAA,MACV,CAAC,GAAGD,IAAE,eAAe,mBAAmB,CAAAF,QAAK;AAC3C,aAAK,WAAW,CAACA,IAAE,OAAO,GAAG,mBAAmB,CAAAA,QAAK;AACnD,eAAK,OAAO,KAAK,mBAAmB,iCAC/BA,MAD+B;AAAA,YAElC,QAAQG;AAAA,UACV,EAAC,GAAGH,IAAE,gBAAgB;AAAA,QACxB,CAAC,GAAGA,IAAE,OAAO,GAAG,gBAAgB,CAAC;AAAA,UAC/B,QAAQA;AAAA,QACV,MAAM;AACJ,sBAAYA,MAAI,KAAK,aAAaa,GAAE,EAAE,IAAI,KAAK,aAAa;AAAA,QAC9D,CAAC,CAAC,GAAG,CAAC;AAAA,MACR,CAAC,GAAG,KAAK,WAAWX,IAAE,eAAe,mBAAmB,CAACA,KAAGC,KAAGW,KAAGR,QAAM,KAAK,wBAAwBN,IAAGa,GAAE,IAAIX,KAAGC,KAAGW,KAAGR,GAAC,CAAC,GAAG,CAAC;AAAA,IAC/H;AACA,SAAK,wBAAwBN,EAAC;AAAA,EAChC;AAAA,EACA,wBAAwBA,IAAG;AACzB,UAAME,MAAI,IAAIa,IAAE;AAAA,MACd,MAAM;AAAA,MACN,MAAM,KAAK;AAAA,MACX,aAAa;AAAA,MACb,aAAa;AAAA,MACb,iBAAiB;AAAA,MACjB,YAAY;AAAA,MACZ,QAAQ,MAAMf,GAAE,SAASe,IAAE,gBAAgBf,GAAE,CAAC,EAAE,OAAO,SAAS,MAAM,IAAIY;AAAA,IAC5E,CAAC;AACD,SAAK,oBAAoBV,KAAGA,IAAE,gBAAgB;AAAA,MAC5C,MAAM;AAAA,MACN,QAAQ;AAAA,IACV,GAAGA,IAAE,mBAAmB,CAAAF,QAAK;AAC3B,WAAK,WAAWA,IAAE,OAAO,GAAG,mBAAmB,CAAAG,QAAK;AAClD,cAAMW,MAAI,KAAK,QAAQ,GAAG,CAAC;AAC3B,SAACZ,IAAE,cAAc,eAAeF,GAAC,KAAK,MAAM,KAAK,QAAQ,UAAUc,OAAK,KAAK,OAAO,KAAK,mBAAmB,iCACvGX,MADuG;AAAA,UAE1G,QAAQW;AAAA,QACV,EAAC,GAAGX,IAAE,gBAAgB;AAAA,MACxB,CAAC,GAAG,CAAC;AAAA,IACP,CAAC;AACD,UAAMA,MAAI,CAAAH,QAAK,CAAAE,QAAK;AAClB,WAAK,WAAW,CAACA,IAAE,OAAO,GAAG,iBAAiB,CAAC;AAAA,QAC7C,QAAQA;AAAA,MACV,MAAM;AACJ,oBAAYA,MAAI,KAAK,aAAaF,GAAC,IAAI,KAAK,aAAa;AAAA,MAC3D,CAAC,GAAGE,IAAE,OAAO,GAAG,gBAAgB,MAAM;AACpC,aAAK,uBAAuB,KAAK,mBAAmB,WAAWM;AAAA,MACjE,CAAC,CAAC,GAAG,CAAC;AAAA,IACR;AACA,SAAK,kBAAkB,eAAe,mBAAmBL,IAAEU,GAAE,EAAE,CAAC,GAAG,KAAK,kBAAkB,mBAAmB,mBAAmBV,IAAEU,GAAE,OAAO,CAAC,GAAG,KAAK,kBAAkB,cAAc,mBAAmBV,IAAEU,GAAE,CAAC,CAAC;AAC7M,UAAMC,MAAI,MAAM,KAAK,wBAAwBd,EAAC;AAC9C,eAAWY,OAAKZ,GAAG,MAAK,WAAW,CAACY,IAAE,OAAO,GAAG,aAAaE,GAAC,GAAGE,GAAE,MAAMJ,IAAE,OAAO,SAASE,GAAC,CAAC,GAAG,CAAC;AACjG,UAAMR,MAAIN,GAAEA,GAAE,SAAS,CAAC;AACxB,SAAK,WAAWM,IAAE,OAAO,GAAG,aAAa,MAAM,KAAK,6BAA6BA,GAAC,CAAC,GAAG,CAAC;AACvF,UAAM;AAAA,MACF,QAAQW;AAAA,IACV,IAAIX,KACJ;AAAA,MACE,YAAYC;AAAA,IACd,IAAIU;AACN,QAAIV,KAAG;AACL,YAAMJ,MAAIc,GAAE;AACZ,WAAK,WAAWf,IAAE,mBAAmB,CAACA,KAAGC,KAAGW,KAAGR,KAAGW,OAAM,KAAK,wBAAwBjB,IAAGE,KAAGC,KAAGW,KAAGR,KAAGW,EAAC,GAAGA,GAAE,eAAeV,IAAE,KAAK,kBAAkBJ,GAAC,GAAG,CAAC;AAAA,IACzJ;AACA,SAAK,6BAA6BG,GAAC;AAAA,EACrC;AAAA,EACA,sBAAsBN,IAAG;AACvB,eAAWE,OAAKF,IAAG;AACjB,YAAMG,MAAID,IAAE,QACVY,MAAIP,IAAE;AAAA,QACJ,MAAM,KAAK;AAAA,QACX,QAAQJ;AAAA,QACR,oBAAoB,CAAAH,QAAK;AACvB,UAAAE,IAAE,gBAAgB,mBAAmBF,GAAC,GAAG,KAAK,mBAAmB,mBAAmBA,GAAC;AAAA,QACvF;AAAA,QACA,uBAAuB,MAAM,EAAE;AAAA,MACjC,CAAC;AACH,cAAQc,QAAMZ,IAAE,yBAAyBY,IAAE,eAAeZ,IAAE,kCAAkCgB,MAAK,KAAK,WAAW,CAAChB,IAAE,uBAAuB,OAAO,GAAG,6BAA6B,MAAM;AACxL,QAAAA,IAAE,OAAO,YAAY,KAAK,wBAAwBF,EAAC;AAAA,MACrD,CAAC,GAAGgB,GAAE,MAAMd,IAAE,OAAO,UAAU,MAAM,KAAK,wBAAwBF,EAAC,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,WAAWc,KAAG,CAAC;AAAA,IAClG;AAAA,EACF;AAAA,EACA,6BAA6Bd,IAAG;AAC9B,SAAK,sBAAsB,KAAK,kBAAkB,QAAQU,IAAEV,GAAEA,GAAE,MAAM,CAAC;AAAA,EACzE;AAAA,EACA,wBAAwBA,IAAG;AACzB,UAAME,MAAIC,GAAE,GAAG,GAAG,GAAG,KAAK,KAAK,gBAAgB;AAC/C,QAAIA,MAAI,GACNW,MAAI;AACN,UAAMR,MAAI,KAAK;AACf,QAAIA,KAAG;AACL,iBAAWA,OAAKN,IAAG;AACjB,YAAI,CAACM,IAAE,OAAO,QAAS;AACvB,aAAK,WAAWJ,GAAEI,IAAE,OAAO,YAAYA,IAAE,OAAO,aAAa,MAAMQ,MAAI;AACvE,cAAMd,MAAIM,IAAE,kCAAkCY,MAAK,CAACZ,IAAE,OAAO,WAAWA,IAAE,uBAAuB,mBAAmBA,IAAE,OAAO;AAC7H,YAAI,QAAQN,KAAG;AACb,gBAAM;AAAA,YACJ,GAAGc;AAAA,YACH,GAAGR;AAAA,YACH,GAAGW;AAAA,UACL,IAAIjB;AACJ,UAAAE,IAAE,KAAKY,KAAGZ,IAAE,KAAKI,KAAGW,OAAMf,IAAE,MAAM,GAAGA,IAAE,KAAKe,KAAId;AAAA,QAClD;AAAA,MACF;AACA,MAAAA,MAAI,KAAKD,IAAE,KAAKC,KAAGD,IAAE,KAAKC,KAAGD,IAAE,MAAM,GAAGA,IAAE,KAAKC,KAAGG,IAAE,WAAWJ,KAAGI,IAAE,eAAe,YAAY,MAAIA,IAAE,mBAAmB,YAAY,MAAIA,IAAE,cAAc,YAAYQ,OAAKR,IAAE,YAAY;AAAA,IACzL;AAAA,EACF;AAAA,EACA,wBAAwBN,IAAGE,KAAGC,KAAGW,KAAGR,KAAGW,IAAG;AACxC,UAAML,MAAI,CAAC,GACTL,MAAI,CAAC;AACP,QAAIG,MAAI,MACNS,MAAI;AACN,UAAMN,MAAI,MAAM;AACd,iBAAWb,OAAKY,IAAG,CAAAZ,IAAE,WAAW;AAChC,MAAAY,IAAE,SAAS,GAAGL,IAAE,SAAS,GAAGG,MAAI,MAAMS,MAAI,MAAM,KAAK,sBAAsB,KAAK,kBAAkB,cAAc;AAAA,IAClH;AACA,QAAI,MAAMnB,GAAE,UAAUE,QAAMW,GAAE,IAAI;AAChC,YAAMX,MAAIF,GAAE,CAAC,EAAE;AACf,OAAC;AAAA,QACC,OAAOc;AAAA,QACP,QAAQR;AAAA,MACV,IAAI,KAAK,4BAA4BJ,KAAGA,IAAE,eAAeY,KAAGR,KAAGW,EAAC;AAAA,IAClE;AACA,WAAOX,MAAIA,IAAE,KAAK,CAAAN,QAAKmB,MAAInB,GAAC,CAAC,EAAE,KAAK,OAAOO,IAAE,UAAU,KAAK,OAAO,KAAK,aAAa,IAAIH,GAAEG,GAAC,CAAC,GAAG,KAAK,aAAaM,IAAE,GAAG,KAAK,GAAG;AAAA,MAC7H,OAAOC,MAAIA,IAAE,KAAK,CAAAZ,QAAK;AACrB,YAAI,YAAYA,IAAE,QAAQ;AACxB,UAAAU,IAAE,SAAS,GAAGL,IAAE,SAAS;AACzB,qBAAWL,OAAKF,GAAG,CAAAE,IAAE,YAAY,CAACA,IAAE,gBAAgB,eAAeC,GAAC,KAAKD,IAAE,gBAAgB,aAAaU,IAAE,KAAKV,GAAC,GAAGK,IAAE,KAAKL,IAAE,MAAM,GAAGA,IAAE,WAAW;AAClJ,cAAI,MAAMK,IAAE,WAAW,KAAK,sBAAsB,KAAK,kBAAkB,cAAc,QAAKG,MAAIU,GAAEb,GAAC,GAAGY,MAAIE,GAAEd,GAAC,GAAG,KAAK,gBAAgB,GAAG,KAAK,OAAO,KAAK,cAAc,IAAIR,GAAEQ,GAAC,CAAC,GAAG,KAAK,WAAY,QAAO;AAAA,QAC5M;AACA,eAAO,MAAMA,IAAE,SAASL,MAAI;AAAA,MAC9B,CAAC,EAAE,KAAK,CAAAF,QAAKU,MAAIV,GAAC,CAAC,EAAE,KAAK,CAAAA,SAAM,KAAK,mBAAmBE,KAAGF,GAAC,GAAGA,IAAE,EAAE,KAAK,CAAAA,QAAK;AAC3E,gBAAQA,IAAE,QAAQ;AAAA,UAChB,KAAK;AAAA,UACL,KAAK;AACH,gBAAIA,IAAE,gBAAgBA,IAAE,gBAAgBA,IAAE,cAAc;AACtD,oBAAME,MAAI,KAAK,KAAK,SAASF,IAAE,QAAQ,GACrCG,MAAI,KAAK,KAAK,SAASH,IAAE,MAAM,GAC/Bc,MAAIX,IAAE,IAAID,IAAE,GACZI,MAAIH,IAAE,IAAID,IAAE;AACd,kBAAI,KAAK,OAAO,KAAK,QAAQ,IAAID,GAAEa,KAAGR,KAAGC,GAAC,CAAC,GAAG,KAAK,UAAW,QAAO;AAAA,YACvE;AACA;AAAA,UACF,KAAK;AACH,gBAAI,KAAK,OAAO,KAAK,aAAa,IAAIH,GAAEG,GAAC,CAAC,GAAG,KAAK,UAAW,QAAO;AACpE,YAAAM,IAAE;AAAA,QACN;AACA,eAAO;AAAA,MACT,CAAC;AAAA,MACD,QAAQP;AAAA,IACV;AAAA,EACF;AAAA,EACA,mBAAmB;AACjB,QAAIN;AACJ,QAAI,KAAK,cAAcK,EAAC,GAAG,KAAK,6BAA6B;AAC3D,YAAMH,MAAI,KAAK,QAAQ,GAAG,CAAC,GACzB;AAAA,QACE,QAAQC;AAAA,MACV,IAAI;AACN,WAAK,0BAA0B,IAAIW,GAAE;AAAA,QACnC,UAAU,KAAK,KAAK;AAAA,QACpB,eAAe,KAAK;AAAA,MACtB,CAAC;AACD,YAAMA,MAAI;AAAA,QACR,aAAa,MAAM;AACjB,eAAK,gBAAgB,GAAGX,IAAE,KAAK,cAAc,IAAIJ,GAAE,CAACG,GAAC,CAAC,CAAC;AAAA,QACzD;AAAA,QACA,QAAQ,MAAMC,IAAE,KAAK,QAAQ,IAAIF,GAAE,GAAG,GAAG,CAACC,GAAC,CAAC,CAAC;AAAA,QAC7C,YAAY,MAAMC,IAAE,KAAK,aAAa,IAAIC,GAAE,CAACF,GAAC,CAAC,CAAC;AAAA,MAClD;AACA,MAAAF,KAAIsB,GAAE,KAAK,SAASpB,KAAG,OAAO;AAAA,QAC5B,eAAe,KAAK;AAAA,QACpB,mBAAmB,KAAK;AAAA,QACxB,WAAWY;AAAA,MACb,EAAE;AAAA,IACJ,MAAO,CAAAd,KAAIgB,GAAE,MAAM,KAAK,cAAc,SAAS,mBAAmB,KAAK,qBAAqB,MAAM,CAAAhB,QAAK;AACrG,WAAK,QAAQ,OAAOA;AAAA,IACtB,GAAGuB,EAAC;AACJ,SAAK,WAAWvB,IAAGK,EAAC;AAAA,EACtB;AAAA,EACA,aAAaL,IAAG;AACd,SAAK,+BAA+B,KAAK,mBAAmBA,EAAC;AAAA,EAC/D;AAAA,EACA,eAAe;AACb,SAAK,gCAAgC,KAAK,SAAS,MAAM,GAAG,KAAK,qBAAqB;AAAA,EACxF;AAAA,EACA,mBAAmBA,IAAGE,KAAG;AACvB,QAAI,KAAK,4BAA6B;AACtC,UAAM;AAAA,MACJ,eAAeC;AAAA,IACjB,IAAI;AACJ,YAAQH,IAAG;AAAA,MACT,KAAKa,GAAE;AACL,aAAK,qBAAqB,KAAK,0BAA0B,IAAIC,GAAE;AAAA,UAC7D,eAAeX;AAAA,QACjB,CAAC,GAAGqB,GAAE,KAAK,oBAAoBtB,KAAG,CAACF,KAAGE,QAAMoB,GAAEtB,KAAGE,GAAC,CAAC;AACnD;AAAA,MACF,KAAKW,GAAE;AACL,aAAK,qBAAqB,KAAK,4BAA4B,IAAIC,GAAE;AAAA,UAC/D,eAAeX;AAAA,QACjB,CAAC,GAAGqB,GAAE,KAAK,oBAAoBtB,KAAG,CAACF,KAAGG,QAAMsB,GAAEH,GAAEtB,KAAGG,GAAC,GAAGS,GAAEV,GAAC,CAAC,CAAC;AAC5D;AAAA,MACF,KAAKW,GAAE;AACL,aAAK,qBAAqB,KAAK,2BAA2B,IAAIC,IAAE;AAAA,UAC9D,eAAeX;AAAA,QACjB,CAAC,GAAGqB,GAAE,KAAK,oBAAoBtB,KAAGuB,EAAC;AAAA,IACvC;AACA,SAAK,mBAAmB,gBAAgBtB;AAAA,EAC1C;AAAA,EACA,kBAAkB;AAChB,UAAMH,KAAI,KAAK,QAAQ,QAAQ,EAAE,IAAI,CAAAA,QAAKA,IAAE,mBAAmB,CAAC,EAAE,OAAO,CAAC;AAC1E,IAAAA,GAAE,SAAS,KAAK,KAAK,OAAO,KAAK,eAAe;AAAA,MAC9C,SAASA;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EACA,4BAA4BA,IAAGE,KAAGC,KAAGW,KAAGR,KAAG;AACzC,UAAMW,KAAIjB,GAAEA,EAAC;AACb,QAAI,QAAQiB,MAAK,YAAYA,GAAE,QAAQ,WAAWA,GAAE,KAAM,QAAO;AAAA,MAC/D,OAAOd;AAAA,MACP,QAAQW;AAAA,IACV;AACA,UAAMF,OAAK,YAAYK,GAAE,OAAOA,KAAIA,GAAE,QAAQ,MAAM,GAClDV,MAAI,IAAIJ,IAAE;AAAA,MACR,eAAeD;AAAA,MACf,SAASI;AAAA,MACT,wBAAwBoB,GAAE,aAAad,KAAG,KAAK,KAAK,MAAM,WAAW;AAAA,MACrE,YAAY,IAAIe,GAAE;AAAA,MAClB,gBAAgB3B,GAAE;AAAA,IACpB,CAAC,GACDU,MAAI,KAAK,iBACT;AAAA,MACE,cAAcS;AAAA,MACd,gBAAgBN;AAAA,IAClB,IAAIe,GAAE;AAAA,MACJ,iBAAiBrB;AAAA,MACjB,iBAAiBG;AAAA,MACjB,iBAAiB,KAAK;AAAA,IACxB,CAAC;AACH,WAAOI,MAAIA,IAAE,KAAKD,GAAC,GAAG;AAAA,MACpB,OAAOV,MAAIA,IAAE,KAAK,CAAAD,QAAK;AACrB,QAAAU,IAAE,IAAIU,GAAE,KAAK,MAAMV,KAAGZ,GAAE,eAAe;AAAA,UACrC,MAAM;AAAA,UACN,QAAQ;AAAA,QACV,CAAC;AACD,eAAO,iCACFE,MADE;AAAA,UAEL,YAAYK,IAAE,iBAAiB,cAAcK,GAAC;AAAA,QAChD;AAAA,MACF,CAAC,EAAE,KAAK,GAAGO,GAAC;AAAA,MACZ,QAAQL;AAAA,IACV;AAAA,EACF;AACF;AACAX,GAAE,CAAC,EAAE;AAAA,EACH,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAG,EAAE,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,WAAW,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EAChF,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAG,EAAE,WAAW,WAAW,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EACzC,eAAe;AAAA,EACf,MAAMI;AACR,CAAC,CAAC,GAAG,EAAE,WAAW,iBAAiB,MAAM,GAAGJ,GAAE,CAAC,EAAE;AAAA,EAC/C,eAAe;AACjB,CAAC,CAAC,GAAG,EAAE,WAAW,mBAAmB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,YAAY,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,sBAAsB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,+BAA+B,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,qBAAqB,IAAI,GAAG,IAAIA,GAAE,CAAC,EAAE,wDAAwD,CAAC,GAAG,CAAC;AACvW,IAAM,IAAN,MAAQ;AAAA,EACN,YAAYH,IAAG;AACb,SAAK,SAASA,IAAG,KAAK,yBAAyB,MAAM,KAAK,iBAAiB,MAAM,KAAK,WAAW;AAAA,EACnG;AACF;AACA,SAASwB,GAAExB,IAAGE,KAAGC,KAAG;AAClB,MAAI,QAAQD,OAAK,UAAUA,IAAE,OAAQ,QAAO,MAAMF,GAAE,WAAWQ;AAC/D,QAAM;AAAA,IACF,UAAUM;AAAA,IACV,QAAQR;AAAA,EACV,IAAIJ,KACJe,KAAId,IAAEW,KAAGR,GAAC;AACZ,EAAAN,GAAE,WAAW,QAAQiB,KAAIA,KAAIT;AAC/B;;;AC7YA,SAASqB,GAAEC,KAAGC,KAAGC,KAAG;AAClB,QAAMC,MAAI,oBAAoBD,IAAE,OAAOE,GAAE,KAAKA,GAAE;AAChD,SAAO,IAAI,EAAEJ,KAAGG,KAAGF,KAAG,CAAC;AACzB;AACA,SAASI,GAAEL,KAAGC,KAAGE,KAAG;AAClB,QAAMG,KAAI,EAAE;AACZ,MAAI,CAACN,IAAE,mBAAmB,eAAeC,KAAGK,EAAC,EAAG,QAAO;AACvD,QAAMC,KAAIC,GAAER,KAAGC,KAAGQ,GAAEN,IAAE,KAAK,CAAC,GAC1BO,KAAIF,GAAER,KAAGC,KAAGE,IAAE,aAAa;AAC7B,MAAI,QAAQI,MAAK,QAAQG,GAAG,QAAO;AACnC,QAAMC,MAAIC,GAAE,EAAE,GAAGL,IAAGG,EAAC;AACrB,SAAO,EAAEJ,IAAGK,KAAGE,GAAE,CAAC;AACpB;AACA,SAASL,GAAER,KAAGC,KAAGC,KAAG;AAClB,QAAMI,KAAIN,GAAEC,IAAE,IAAIC,IAAE,CAAC,GAAGD,IAAE,IAAIC,IAAE,CAAC,GAAGD,IAAE,IAAIC,IAAE,CAAC,GAAGD,IAAE,gBAAgB,GAChEM,KAAI,EAAE,GACNO,MAAI,EAAE;AACR,SAAOd,IAAE,mBAAmB,eAAeC,KAAGM,EAAC,KAAKP,IAAE,mBAAmB,eAAeM,IAAGQ,GAAC,IAAI,EAAEA,KAAGP,IAAGO,GAAC,IAAI;AAC/G;AACA,SAASC,GAAEf,KAAGM,IAAGC,IAAG;AAClB,QAAMS,MAAIP,GAAET,GAAC,GACXiB,KAAI,EAAE,EAAE,GAAGX,IAAGC,EAAC,GACfG,KAAIE,GAAE,EAAE,GAAGK,IAAGD,GAAC,GACfL,MAAIC,GAAE,EAAE,GAAGK,IAAGP,EAAC;AACjB,SAAOJ,GAAEW,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAG,GAAGP,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAG,GAAGC,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACpF;AACA,SAASO,GAAEjB,KAAGC,KAAGC,KAAG;AAClB,QAAMgB,MAAIhB,IAAE,sBAAsBF,KAAG,EAAE,CAAC,GACtCa,MAAIX,IAAE,sBAAsBD,KAAG,EAAE,CAAC;AACpC,SAAO,QAAQiB,OAAK,QAAQL,MAAIM,GAAEpB,GAAEmB,KAAGA,KAAGL,GAAC,CAAC,IAAI;AAClD;;;AC7BA,IAAIO,KAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,OAAO,uBAAuB,KAAK,WAAWC,IAAG,KAAK,OAAO,MAAM,KAAK,cAAc;AAAA,EACvG;AACF;AACAC,GAAE,CAAC,EAAE,CAAC,GAAGJ,GAAE,WAAW,QAAQ,MAAM,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,GAAE,WAAW,YAAY,MAAM,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,GAAE,WAAW,QAAQ,MAAM,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,GAAE,WAAW,eAAe,MAAM,GAAGA,KAAII,GAAE,CAAC,EAAE,mEAAmE,CAAC,GAAGJ,EAAC;;;ACSxP,SAASK,GAAEC,IAAGC,KAAG;AACf,QAAMC,MAAID,KAAG;AACb,SAAO;AAAA,IACL,YAAY,IAAIE,GAAE;AAAA,MAChB,eAAeH;AAAA,MACf,UAAUE;AAAA,IACZ,CAAC;AAAA,IACD,WAAW,IAAIE,GAAE;AAAA,MACf,eAAeJ;AAAA,MACf,UAAUE;AAAA,IACZ,CAAC;AAAA,IACD,gBAAgB,IAAIC,GAAE;AAAA,MACpB,eAAeH;AAAA,MACf,UAAUE;AAAA,IACZ,CAAC;AAAA,IACD,WAAW,IAAIE,GAAE;AAAA,MACf,eAAeJ;AAAA,MACf,UAAUE;AAAA,IACZ,CAAC;AAAA,IACD,aAAa,IAAIE,GAAE;AAAA,MACjB,eAAeJ;AAAA,MACf,UAAUE;AAAA,IACZ,CAAC;AAAA,IACD,YAAY,IAAIE,IAAE;AAAA,MAChB,eAAeJ;AAAA,MACf,UAAUE;AAAA,IACZ,CAAC;AAAA,EACH;AACF;AACA,SAASG,GAAEJ,KAAGC,KAAGE,KAAG;AAClB,WAASE,MAAI;AACX,UAAMN,KAAII,IAAE,GACVH,MAAID,GAAE,cAAc,SAAS,mBAAmBA,GAAE,oBAAoB;AACxE,WAAO,iCACFA,KADE;AAAA,MAEL,mBAAmBC;AAAA,IACrB;AAAA,EACF;AACA,MAAIE,MAAI;AACR,WAASI,IAAEP,IAAG;AACZ,IAAAG,MAAI,MAAIK,GAAEN,KAAGF,EAAC,GAAGC,IAAE,OAAOD,GAAE,mBAAmBG,MAAI;AAAA,EACrD;AACA,SAAO,EAAE,CAACM,GAAEH,KAAGC,KAAGG,EAAC,GAAGD,GAAE,MAAM;AAC5B,UAAMT,KAAIM,IAAE,GACV;AAAA,MACE,mBAAmBL;AAAA,IACrB,IAAID;AACN,QAAIC,OAAK,SAASA,IAAG,QAAO;AAAA,MAC1B,SAASD;AAAA,MACT,mBAAmBC;AAAA,MACnB,KAAKA,IAAE;AAAA,MACP,UAAUD,GAAEE,GAAC;AAAA,IACf;AAAA,EACF,GAAG,CAACF,IAAGC,QAAM;AACX,IAAAD,MAAK,CAACG,OAAKF,OAAKA,IAAE,QAAQD,GAAE,OAAOW,GAAEX,GAAE,mBAAmBE,KAAGF,GAAE,OAAO;AAAA,EACxE,GAAG,CAAC,GAAGE,IAAE,GAAG,aAAa,MAAMK,IAAED,IAAE,CAAC,CAAC,GAAG,EAAEL,GAAC,CAAC,CAAC;AAC/C;AACA,SAASU,GAAEX,IAAGC,KAAG;AAAA,EACf,+BAA+BC;AAAA,EAC/B,WAAWE;AACb,GAAG;AACD,QAAMQ,MAAIZ,GAAEC,GAAC;AACb,UAAQW,KAAG,MAAM;AAAA,IACf,KAAK;AACH,uBAAiBZ,GAAE,QAAQa,IAAEb,IAAGY,IAAE,QAAQX,KAAGG,GAAC;AAC9C;AAAA,IACF,KAAK;AACH,uBAAiBJ,GAAE,QAAQa,IAAEb,IAAGY,KAAGX,KAAGG,GAAC;AACvC;AAAA,IACF,KAAK;AAAA,IACL,KAAK;AACH,4BAAsBJ,GAAE,QAAQc,GAAEd,IAAGE,KAAGD,KAAGG,GAAC;AAAA,EAChD;AACF;AACA,SAASU,GAAEd,IAAGC,KAAGC,KAAGE,KAAG;AACrB,MAAI,aAAaH,KAAG,KAAM;AAC1B,QAAM;AAAA,IACJ,IAAIW;AAAA,IACJ,IAAIG;AAAA,IACJ,IAAIC;AAAA,EACN,IAAIR,GAAER,IAAGC,IAAE,YAAY,QAAQ;AAC/B,QAAMW,OAAK,MAAMG,MAAK,MAAMC,QAAMZ,IAAE,iBAAiB,GAAGF,IAAE,YAAY,aAAa,CAACD,IAAE,MAAM,GAAGW,KAAGG,IAAGC,KAAGL,GAAE,QAAQ,GAAGP,IAAE,YAAY,GAAGA,IAAE,gBAAgB;AAC1J;AACA,SAASI,GAAER,IAAG;AAAA,EACZ,mBAAmBC;AAAA,EACnB,+BAA+BC;AAAA,EAC/B,eAAeE;AACjB,GAAG;AACD,MAAIH,IAAG,SAAQA,IAAE,gBAAgBG,KAAGH,KAAG,MAAM;AAAA,IAC3C,KAAK;AACH,MAAAgB,GAAEhB,KAAGD,EAAC;AACN;AAAA,IACF,KAAK;AACH,MAAAkB,GAAEjB,KAAGC,KAAGF,EAAC;AAAA,EACb;AACF;AACA,SAASkB,GAAElB,IAAGC,KAAGC,KAAG;AAClB,MAAI,CAACF,MAAK,sBAAsBA,GAAE,KAAM;AACxC,QAAMI,MAAIH,KAAG,YAAY;AACzB,EAAAD,GAAE,qBAAqBI,GAAC,GAAGe,GAAEnB,IAAGI,KAAGF,GAAC;AACpC,QAAMU,MAAIV,IAAE,YAAY,KAAK;AAC7B,UAAQU,KAAG,MAAM;AAAA,IACf,KAAK;AACH,MAAAZ,GAAE,eAAe,WAAWA,GAAE,YAAY,UAAU,OAAIA,GAAE,KAAK,SAASa,GAAED,GAAC;AAC3E;AAAA,IACF,KAAK;AACH,MAAAZ,GAAE,eAAe,YAAYA,GAAE,YAAY,SAASoB,GAAER,GAAC,GAAGZ,GAAE,KAAK,UAAU;AAAA,EAC/E;AACF;AACA,SAASqB,GAAErB,IAAGC,KAAG;AAAA,EACf,eAAeC;AAAA,EACf,cAAcU;AAChB,GAAG;AACD,MAAIG,KAAI;AACR,UAAQf,IAAG;AAAA,IACT,KAAKoB,GAAE;AACL,MAAAL,KAAIH,IAAE,WAAWU,GAAEP,IAAGd,KAAG,CAACD,KAAGC,QAAMsB,GAAEvB,KAAGC,GAAC,CAAC;AAC1C;AAAA,IACF,KAAKmB,GAAE;AACL,MAAAL,KAAIH,IAAE,aAAaU,GAAEP,IAAGd,KAAG,CAACD,KAAGE,QAAMiB,GAAEI,GAAEvB,KAAGE,GAAC,GAAGI,GAAEL,GAAC,CAAC,CAAC;AACrD;AAAA,IACF,KAAKmB,GAAE;AACL,MAAAL,KAAIH,IAAE,YAAYU,GAAEP,IAAGd,KAAGkB,EAAC;AAAA,EAC/B;AACA,SAAOJ,GAAE,gBAAgBb,KAAGa;AAC9B;AACA,SAASO,GAAEtB,IAAGE,KAAGE,KAAG;AAClB,MAAI,QAAQF,OAAK,UAAUA,IAAE,QAAQ;AACnC,UAAM;AAAA,MACF,UAAUU;AAAA,MACV,QAAQG;AAAA,IACV,IAAIb,KACJc,MAAIZ,IAAEQ,KAAGG,EAAC;AACZ,IAAAf,GAAE,WAAW,QAAQgB,MAAIA,MAAIQ;AAAA,EAC/B,MAAO,CAAAxB,GAAE,WAAWwB;AACtB;AACA,SAASd,GAAEV,IAAGE,KAAG;AAAA,EACf,eAAeE;AAAA,EACf,cAAcQ;AAChB,GAAG;AACD,QAAMG,KAAIH,IAAE;AACZ,MAAIG,GAAE,WAAWS,IAAG,QAAQtB,OAAK,UAAUA,IAAE,QAAQ;AACnD,UAAMD,MAAID,GAAE,YACV;AAAA,MACE,QAAQI;AAAA,MACR,gBAAgBQ;AAAA,MAChB,WAAWI;AAAA,IACb,IAAId;AACN,QAAI,QAAQU,OAAK,QAAQX,KAAG;AAC1B,YAAMC,MAAID,IAAE,KAAK,kBACfK,MAAIM,MAAII,IAAE;AACZ,MAAAD,GAAE,WAAWU,GAAEzB,GAAE,UAAUM,KAAGF,KAAGY,IAAE,OAAOd,GAAC;AAAA,IAC7C;AAAA,EACF;AACA,QAAMc,MAAIhB,GAAE,YAAY,KAAK;AAC7B,SAAOe,GAAE,OAAO,cAAcC,KAAG,OAAOH,GAAEG,GAAC,IAAI,MAAMD,GAAE,cAAc,eAAeC,KAAG,OAAOI,GAAEJ,GAAC,IAAI,MAAMD,GAAE,gBAAgBX,KAAGW;AAClI;AACA,SAASU,GAAEzB,IAAGC,KAAGG,KAAGQ,KAAGG,IAAG;AACxB,MAAIf,IAAG;AACL,UAAMA,MAAIe,GAAE,MAAMA,GAAE,cAAcX,GAAC,CAAC,GAClCY,MAAIU,GAAEd,KAAGZ,KAAGoB,GAAE,IAAI,CAAC,GACnBd,MAAIO,GAAEG,KAAGhB,KAAGe,GAAE,gBAAgB;AAChC,QAAI,QAAQT,IAAG,QAAOA,GAAEA,IAAE,QAAQ,KAAK,KAAKL,GAAC,GAAGK,IAAE,IAAI;AAAA,EACxD;AACA,SAAOA,GAAEL,MAAI,EAAEG,IAAE,gBAAgB,GAAG,QAAQ;AAC9C;;;AC5IA,IAAM,KAAK,OAAO;AAClB,IAAI,KAAK,cAAcuB,GAAE;AAAA,EACvB,IAAI,qBAAqB;AACvB,WAAO,KAAK,eAAe,KAAK,eAAe;AAAA,EACjD;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,iBAAiB,GAAG,KAAK,sBAAsB,IAAI,EAAE,GAAG,KAAK,oBAAoB,CAAC,GAAG,KAAK,eAAe,GAAG,KAAK,eAAe,GAAG,KAAK,qBAAqB,GAAG,MAAM,KAAK,mBAAmB,IAAIC,GAAE,GAAG,KAAK,0BAA0B,OAAI,KAAK,YAAY,IAAIC,GAAE;AAAA,MAC9Q,UAAU,MAAM,KAAK,KAAK;AAAA,IAC5B,CAAC,GAAG,KAAK,SAAS,IAAIC,GAAE,GAAG,KAAK,oBAAoB,MAAM,KAAK,gCAAgC;AAAA,EACjG;AAAA,EACA,aAAa;AACX,UAAM;AAAA,MACF,MAAMH;AAAA,IACR,IAAI,MACJI,KAAI,KAAK,UAAU,cACnBC,MAAID,GAAE;AACR,SAAK,eAAeL,GAAE,KAAK,gBAAgBC,GAAC,GAAG,KAAK,6BAA6BM,GAAE,EAAED,IAAE,KAAK,GAAGA,IAAE,cAAc,GAAG,KAAK,oCAAoCJ,GAAE,EAAEI,IAAE,YAAY,GAAGA,IAAE,cAAc,GAAG,KAAK,yCAAyCJ,GAAE,EAAEI,IAAE,iBAAiB,GAAGA,IAAE,cAAc;AAC3R,UAAME,MAAIH,GAAE;AACZ,SAAK,2BAA2BE,GAAE,EAAEC,IAAE,KAAK,GAAGA,IAAE,cAAc,GAAG,KAAK,kCAAkCN,GAAE,EAAEM,IAAE,YAAY,GAAGA,IAAE,cAAc;AAC7I,UAAMJ,MAAIC,GAAE;AACZ,SAAK,iCAAiCE,GAAE,EAAEH,IAAE,KAAK,GAAGA,IAAE,gBAAgB,KAAE,GAAG,KAAK,sCAAsCG,GAAE,EAAEH,IAAE,UAAU,GAAGA,IAAE,gBAAgB,KAAE;AAC7J,UAAMK,KAAIJ,GAAE;AACZ,SAAK,+BAA+BE,GAAE,EAAEE,GAAE,KAAK,GAAGA,GAAE,cAAc,GAAG,KAAK,sCAAsCP,GAAE,EAAEO,GAAE,YAAY,GAAGA,GAAE,cAAc,GAAG,KAAK,2CAA2CP,GAAE,EAAEO,GAAE,iBAAiB,GAAGA,GAAE,cAAc,GAAG,KAAK,UAAU,IAAIP,GAAG;AAAA,MACzQ,MAAMD;AAAA,IACR,CAAC,GAAG,KAAK,WAAW,CAACS,GAAE,MAAM;AAC3B,YAAMT,MAAI,KAAK,UAAU;AACzB,aAAO;AAAA,QACL,gBAAgBA,IAAE;AAAA,QAClB,cAAcA,IAAE;AAAA,QAChB,oBAAoBA,IAAE;AAAA,QACtB,kBAAkBA,IAAE;AAAA,MACtB;AAAA,IACF,GAAG,CAAC;AAAA,MACF,gBAAgBA;AAAA,MAChB,cAAcI;AAAA,MACd,oBAAoBC;AAAA,MACpB,kBAAkBK;AAAA,IACpB,MAAM;AACJ,MAAAV,IAAE,WAAW,KAAK,0BAA0B,GAAGA,IAAE,aAAa,KAAK,iCAAiC,GAAGA,IAAE,kBAAkB,KAAK,sCAAsC,GAAGI,IAAE,WAAW,KAAK,wBAAwB,GAAGA,IAAE,aAAa,KAAK,+BAA+B,GAAGC,IAAE,WAAW,KAAK,8BAA8B,GAAGA,IAAE,WAAW,KAAK,mCAAmC,GAAGK,IAAE,WAAW,KAAK,4BAA4B,GAAGA,IAAE,aAAa,KAAK,mCAAmC,GAAGA,IAAE,kBAAkB,KAAK,wCAAwC;AAAA,IACriB,CAAC,GAAGD,GAAE,MAAM,KAAK,OAAO,SAAS,CAAAT,QAAK;AACpC,iBAAWI,OAAK,KAAK,kBAAmB,CAAAA,IAAE,YAAY,YAAYJ,KAAG,WAAWI,IAAE,QAAQ,qBAAqBA,QAAMA,IAAE,gBAAgB,YAAYJ;AAAA,IACrJ,CAAC,GAAGS,GAAE,MAAM,KAAK,eAAe,KAAK,iBAAiB,GAAG,CAAAT,QAAK,KAAK,4BAA4BA,GAAC,CAAC,GAAGS,GAAE,OAAO;AAAA,MAC3G,QAAQ,KAAK;AAAA,MACb,SAAS,KAAK,eAAe,OAAO;AAAA,MACpC,mBAAmB,KAAK;AAAA,IAC1B,IAAI,CAAC;AAAA,MACH,QAAQT;AAAA,MACR,SAASI;AAAA,MACT,mBAAmBC;AAAA,IACrB,MAAM;AACJ,cAAQL,QAAMA,IAAE,UAAUI,KAAGJ,IAAE,eAAeK,MAAI,QAAQ;AAAA,IAC5D,GAAG,CAAC,GAAGM,GAAE,KAAK,SAAS,KAAK,QAAQ,MAAM,KAAK,gBAAgB,GAAG,EAAE,MAAM,KAAK,aAAa,iBAAiB,CAAAX,QAAK;AAChH,WAAK,4BAA4BA,IAAE,QAAQ;AAAA,IAC7C,GAAG;AAAA,MACD,eAAe,MAAM,KAAK,sBAAsB;AAAA,IAClD,CAAC,GAAG,EAAE,MAAM,KAAK,aAAa,MAAM,UAAU,CAAAA,QAAK;AACjD,iBAAWA,IAAE,aAAa,WAAWA,IAAE,aAAa,KAAK,sBAAsB;AAAA,IACjF,CAAC,CAAC,CAAC;AAAA,EACL;AAAA,EACA,UAAU;AACR,SAAK,iBAAiB,EAAE,KAAK,cAAc,GAAG,KAAK,UAAU,EAAE,KAAK,OAAO,GAAG,KAAK,oBAAoB,GAAG,KAAK,iBAAiB,QAAQ;AAAA,EAC1I;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,iBAAiB;AAAA,EAC/B;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,OAAO;AACT,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,uBAAuB;AACzB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,uBAAuB;AACzB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,KAAK,eAAe;AAAA,EAClC;AAAA,EACA,yBAAyB;AACvB,UAAMA,MAAI,KAAK,kBAAkB,OAAO,CAAAA,QAAKA,IAAE,YAAY,YAAY,aAAaA,IAAE,IAAI;AAC1F,WAAO,KAAK,gBAAgBA,GAAC,GAAGA,IAAE;AAAA,EACpC;AAAA,EACA,gCAAgC;AAC9B,SAAK,OAAO,KAAK,sBAAsB;AAAA,EACzC;AAAA,EACA,sBAAsB;AACpB,SAAK,oBAAoB,UAAU,GAAG,KAAK,oBAAoB,EAAE,KAAK,iBAAiB,GAAG,KAAK,0BAA0B,EAAE,KAAK,uBAAuB,GAAG,KAAK,aAAa,UAAU,GAAG,KAAK,oBAAoB,CAAC,GAAG,KAAK,eAAe,GAAG,KAAK,eAAe;AAAA,EACnQ;AAAA,EACA,oBAAoBA,KAAG;AACrB,QAAI,QAAQ,KAAK,YAAa;AAC9B,UAAMI,KAAI,KAAK,OAAO;AACtB,eAAWC,OAAK,KAAK,YAAY,KAAK,YAAY;AAChD,YAAMK,MAAIV,KAAG,iBAAiB,IAAIK,IAAE,KAAK;AACzC,iBAAWL,OAAKK,IAAE,UAAU;AAC1B,cAAMA,MAAIK,KAAG,IAAIV,IAAE,KAAK;AACxB,aAAK,+BAA+BA,KAAGI,IAAGC,GAAC;AAAA,MAC7C;AACA,iBAAWL,OAAKK,IAAE,MAAO,MAAK,+BAA+BL,KAAGI,EAAC;AAAA,IACnE;AACA,SAAK,8BAA8B,GAAG,KAAK,wBAAwBA,EAAC,GAAG,KAAK,sBAAsB;AAAA,EACpG;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,QAAQ,KAAK,eAAe,KAAK,YAAY;AAAA,EACtD;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,QAAQ,KAAK,eAAe,KAAK,YAAY;AAAA,EACtD;AAAA,EACA,OAAO;AACL,WAAO,KAAK,aAAa,KAAK;AAAA,EAChC;AAAA,EACA,OAAO;AACL,WAAO,KAAK,OAAO,KAAK,MAAM,GAAG,KAAK,aAAa,KAAK;AAAA,EAC1D;AAAA,EACA,wBAAwB;AACtB,QAAI,CAAC,KAAK,yBAAyB;AACjC,UAAI,KAAK,0BAA0B,MAAI,KAAK,oBAAoB,GAAG,KAAK,cAAc,GAAG,KAAK,eAAe,KAAK,gBAAgB,SAAS,2BAA2B,KAAK,gBAAgB,KAAK,iBAAiB,EAAE,KAAK,cAAc,IAAI,KAAK,oBAAoB,GAAG,CAAC,KAAK,kBAAkB,KAAK,aAAa;AAC9S,cAAMJ,MAAI,KAAK,eAAe;AAC9B,aAAK,iBAAiB,IAAIU,GAAE;AAAA,UAC1B,SAAS;AAAA,YACP,MAAM,KAAK;AAAA,YACX,wBAAwB,KAAK;AAAA,YAC7B,eAAe,KAAK,OAAO;AAAA,YAC3B,cAAcV;AAAA,UAChB;AAAA,UACA,SAASA,IAAE;AAAA,QACb,CAAC;AAAA,MACH;AACA,WAAK,0BAA0B;AAAA,IACjC;AAAA,EACF;AAAA,EACA,gCAAgCA,KAAGI,IAAG;AACpC,QAAI,UAAUA,GAAE,OAAQ,QAAOA;AAC/B,QAAIC,MAAI;AACR,UAAMK,MAAI,CAAC,GACTH,MAAI,KAAK,kBAAkB,KAAK,CAAAP,QAAK,aAAaA,IAAE,QAAQA,IAAE,YAAY,QAAQ,GAClFG,MAAIH,QAAM,GAAG,mBAAmBO;AAClC,eAAWC,MAAK,KAAK,kBAAmB,cAAaA,GAAE,SAASA,GAAE,YAAY,YAAYL,OAAK,CAACK,GAAE,YAAY,YAAYE,IAAE,KAAKF,EAAC,GAAGH;AACrI,SAAK,cAAcK,KAAGN,EAAC;AACvB,QAAIM,IAAE,WAAWL,KAAG;AAClB,UAAI,KAAK,kBAAkB,GAAG,MAAM,GAAG,KAAK,UAAW,QAAOD;AAC9D,WAAK,OAAO,KAAK,QAAQ;AAAA,QACvB,MAAM;AAAA,QACN,IAAIA,GAAE;AAAA,QACN,IAAIA,GAAE;AAAA,QACN,QAAQ,KAAK;AAAA,MACf,CAAC;AAAA,IACH,OAAO;AACL,UAAI,KAAK,kBAAkB,GAAG,SAAS,GAAG,KAAK,UAAW,QAAOA;AACjE,WAAK,OAAO,KAAK,WAAW;AAAA,QAC1B,MAAM;AAAA,QACN,QAAQ,KAAK;AAAA,MACf,CAAC;AAAA,IACH;AACA,WAAOA;AAAA,EACT;AAAA,EACA,4BAA4BJ,KAAG;AAC7B,SAAK,yBAAyBA,MAAI,KAAK,cAAc,EAAE,IAAI,KAAK,KAAK,aAAa,QAAQ,CAAC;AAAA,MACzF,aAAaA;AAAA,IACf,MAAM;AACJ,YAAMI,KAAIJ,IAAE,iBAAiB;AAC7B,MAAAI,MAAK,KAAK,WAAWA,IAAG,EAAE;AAAA,IAC5B,CAAC;AAAA,EACH;AAAA,EACA,0BAA0B;AACxB,WAAO,KAAK,kBAAkB,OAAO,CAACJ,KAAGI,OAAM,aAAaA,GAAE,QAAQA,GAAE,YAAY,WAAWJ,MAAI,IAAIA,KAAG,CAAC,IAAI;AAAA,EACjH;AAAA,EACA,gCAAgCA,KAAG;AACjC,QAAI,KAAK,kBAAkB,GAAG,SAAS,GAAG,KAAK,UAAW;AAC1D,UAAM;AAAA,MACJ,WAAWI;AAAA,MACX,WAAWC;AAAA,MACX,WAAWK;AAAA,IACb,IAAIV;AACJ,QAAI,CAACI,MAAK,CAACC,OAAK,CAACK,IAAG;AACpB,UAAMH,MAAI,CAAC;AACX,eAAWJ,OAAK,KAAK,kBAAmB,cAAaA,IAAE,SAASA,IAAE,YAAY,YAAY,CAACA,IAAE,YAAY,YAAYA,QAAMH,IAAE,SAASO,IAAE,KAAKJ,GAAC;AAC9I,SAAK,cAAcI,KAAGP,KAAGY,GAAG,gBAAgB,GAAG,KAAK,OAAO,KAAK,WAAW;AAAA,MACzE,MAAM;AAAA,MACN,QAAQ,KAAK;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EACA,kBAAkBZ,KAAG;AACnB,QAAIA,QAAM,KAAK,mBAAoB,QAAO;AAC1C,YAAQA,KAAG;AAAA,MACT,KAAK,GAAG;AACN,YAAI,MAAM,KAAK,gBAAgB,MAAM,KAAK,aAAc,QAAO;AAC/D,gBAAQ,KAAK,oBAAoB;AAAA,UAC/B,KAAK,GAAG;AACN,iBAAK,OAAO,KAAK,QAAQ;AAAA,cACvB,MAAM;AAAA,cACN,IAAI;AAAA,cACJ,IAAI;AAAA,cACJ,QAAQ,KAAK;AAAA,YACf,CAAC;AACD;AAAA,UACF,KAAK,GAAG;AACN,iBAAK,OAAO,KAAK,WAAW;AAAA,cAC1B,MAAM;AAAA,cACN,QAAQ,KAAK;AAAA,YACf,CAAC;AAAA,QACL;AACA;AAAA,MACF,KAAK,GAAG;AACN,gBAAQ,KAAK,oBAAoB;AAAA,UAC/B,KAAK,GAAG;AACN,iBAAK,OAAO,KAAK,QAAQ;AAAA,cACvB,MAAM;AAAA,cACN,IAAI;AAAA,cACJ,IAAI;AAAA,cACJ,QAAQ,KAAK;AAAA,YACf,CAAC;AACD;AAAA,UACF,KAAK,GAAG;AACN,iBAAK,OAAO,KAAK,WAAW;AAAA,cAC1B,MAAM;AAAA,cACN,QAAQ,KAAK;AAAA,YACf,CAAC,GAAG,KAAK,aAAa,KAAK,OAAO,KAAK,QAAQ;AAAA,cAC7C,MAAM;AAAA,cACN,IAAI;AAAA,cACJ,IAAI;AAAA,cACJ,QAAQ,KAAK;AAAA,YACf,CAAC;AAAA,QACL;AACA;AAAA,MACF,KAAK,GAAG;AACN,gBAAQ,KAAK,oBAAoB;AAAA,UAC/B,KAAK,GAAG;AACN,iBAAK,OAAO,KAAK,WAAW;AAAA,cAC1B,MAAM;AAAA,cACN,QAAQ,KAAK;AAAA,YACf,CAAC;AACD;AAAA,UACF,KAAK,GAAG;AACN,iBAAK,OAAO,KAAK,QAAQ;AAAA,cACvB,MAAM;AAAA,cACN,IAAI;AAAA,cACJ,IAAI;AAAA,cACJ,QAAQ,KAAK;AAAA,YACf,CAAC,GAAG,KAAK,aAAa,KAAK,OAAO,KAAK,WAAW;AAAA,cAChD,MAAM;AAAA,cACN,QAAQ,KAAK;AAAA,YACf,CAAC;AAAA,QACL;AAAA,IACJ;AACA,QAAI,KAAK,UAAW,QAAO;AAC3B,UAAMI,KAAI,KAAK,uBAAuBJ;AACtC,WAAO,KAAK,qBAAqBA,KAAGI;AAAA,EACtC;AAAA,EACA,gCAAgC;AAC9B,UAAM;AAAA,MACJ,MAAMJ;AAAA,MACN,MAAMI;AAAA,MACN,QAAQC;AAAA,MACR,aAAaK;AAAA,IACf,IAAI;AACJ,QAAIA,KAAG;AACL,UAAI,KAAK,0BAA0B,IAAIG,IAAE;AAAA,QACvC,MAAMb;AAAA,QACN,MAAMI;AAAA,QACN,QAAQC;AAAA,MACV,CAAC,GAAG,KAAK,kBAAkB;AACzB,YAAIL,MAAI;AACR,aAAK,oBAAoB,IAAI,KAAK,wBAAwB,mBAAmB,CAACI,KAAGC,KAAGE,QAAM;AACxF,UAAAF,IAAE,KAAK,CAAAL,QAAK,KAAK,kBAAkBA,GAAC,CAAC,EAAE,KAAK,CAAAI,SAAM,YAAYA,IAAE,WAAWJ,MAAIU,IAAE,gBAAgB,IAAIN,IAAE,EAAE,KAAK,CAAAJ,QAAK,KAAK,gCAAgC,GAAG,KAAKA,GAAC,CAAC,EAAE,KAAK,CAAAA,SAAM,KAAK,8BAA8Bc,GAAE,IAAId,GAAC,GAAGA,IAAE,EAAE,KAAK,CAAAI,QAAK;AACxO,sBAAUA,IAAE,WAAW,KAAK,cAAc,GAAGJ,MAAI,EAAEA,GAAC;AAAA,UACtD,CAAC,GAAGO,IAAE,KAAK,MAAM,KAAK,cAAc,MAAI,MAAMP,MAAI,EAAEA,GAAC,CAAC,CAAC;AAAA,QACzD,CAAC,CAAC,GAAG,KAAK,wBAAwB,mBAAmB,CAAAA,QAAK,KAAK,oBAAoB,IAAI,KAAK,yBAAyBA,KAAG,KAAE,CAAC,CAAC;AAAA,MAC9H,MAAO,MAAK,wBAAwB,mBAAmB,CAAAA,QAAK;AAC1D,QAAAA,IAAE,YAAY,OAAIA,IAAE,SAAS;AAAA,MAC/B,CAAC;AACD,WAAK,wBAAwB,mBAAmB,CAAAA,QAAK,KAAK,oBAAoB,IAAIA,IAAE,OAAO,GAAG,mBAAmB,CAAAA,QAAK;AACpH,aAAK,kBAAkB,KAAK,CAAAA,QAAKA,IAAE,YAAY,QAAQ,IAAI,KAAK,gBAAgB,IAAI,KAAK,OAAO,KAAK,mBAAmB,iCACnHA,MADmH;AAAA,UAEtH,QAAQ,KAAK;AAAA,QACf,EAAC,GAAGA,IAAE,gBAAgB;AAAA,MACxB,CAAC,CAAC,CAAC;AAAA,IACL;AAAA,EACF;AAAA,EACA,wBAAwBA,KAAG;AACzB,UAAM;AAAA,MACJ,QAAQI;AAAA,MACR,MAAMC;AAAA,MACN,MAAMK;AAAA,MACN,aAAaH;AAAA,IACf,IAAI;AACJ,QAAI,CAACA,IAAG;AACR,SAAK,oBAAoB,IAAIQ,IAAE;AAAA,MAC7B,MAAMV;AAAA,MACN,MAAMK;AAAA,MACN,aAAa;AAAA,MACb,iBAAiB;AAAA,MACjB,YAAY,KAAK,gBAAgBP,GAAEC,GAAE,YAAYA,GAAE,aAAa;AAAA,MAChE,aAAa;AAAA,MACb,QAAQW,IAAE,gBAAgBX,GAAE,SAAS,MAAM;AAAA,IAC7C,CAAC,GAAG,KAAK,kBAAkB,mBAAmB,CAAAJ,QAAK,KAAK,WAAW,CAACA,IAAE,OAAO,GAAG,mBAAmB,CAAAI,QAAK;AACtG,WAAK,kBAAkB,cAAc,eAAeJ,GAAC,KAAK,KAAK,kBAAkB,KAAK,CAAAA,QAAKA,IAAE,YAAY,QAAQ,KAAK,KAAK,OAAO,KAAK,mBAAmB,iCACrJI,MADqJ;AAAA,QAExJ,QAAQ,KAAK;AAAA,MACf,EAAC,GAAGA,IAAE,gBAAgB;AAAA,IACxB,CAAC,GAAG,KAAK,yBAAyBJ,KAAG,KAAE,CAAC,CAAC,CAAC;AAC1C,UAAMG,MAAI,CAAAH,QAAK,CAAAI,QAAK;AAClB,WAAK,WAAWA,IAAE,OAAO,GAAG,iBAAiB,CAAC;AAAA,QAC5C,QAAQA;AAAA,MACV,MAAM;AACJ,oBAAYA,MAAI,KAAK,wBAAwBJ,GAAC,IAAI,KAAK,cAAc;AAAA,MACvE,CAAC,CAAC;AAAA,IACJ;AACA,SAAK,kBAAkB,eAAe,mBAAmBG,IAAEW,GAAE,EAAE,CAAC,GAAG,KAAK,kBAAkB,mBAAmB,mBAAmBX,IAAEW,GAAE,OAAO,CAAC,GAAG,KAAK,kBAAkB,cAAc,mBAAmBX,IAAEW,GAAE,CAAC,CAAC,GAAG,KAAK,kBAAkB,gBAAgB;AAAA,MACrP,MAAM;AAAA,MACN,QAAQ;AAAA,IACV;AACA,UAAMN,KAAID,IAAE,KAAK;AACjB,SAAK,WAAW,CAAC,KAAK,kBAAkB,mBAAmB,CAACG,KAAGP,KAAGK,IAAGQ,KAAGH,QAAM;AAC5E,YAAM;AAAA,QACJ,cAAcI;AAAA,QACd,gBAAgBR;AAAA,MAClB,IAAIH,GAAG;AAAA,QACL,WAAW,CAAAN,QAAK,CAAC,CAACA,IAAE;AAAA,QACpB,iBAAiBK,IAAE;AAAA,QACnB,iBAAiB,IAAIL,IAAG;AAAA,UACtB,wBAAwBO;AAAA,UACxB,eAAeP;AAAA,UACf,SAASa;AAAA,UACT,gBAAgBT,GAAE;AAAA,UAClB,YAAY,IAAIc,GAAE;AAAA,QACpB,CAAC;AAAA,QACD,iBAAiB,KAAK;AAAA,QACtB,MAAM;AAAA,MACR,CAAC;AACD,aAAOF,MAAIA,IAAE,KAAK,CAAAhB,SAAM,KAAK,cAAc,GAAGA,IAAE,EAAE,KAAKS,EAAC,GAAG;AAAA,QACzD,OAAOD,KAAIA,GAAE,KAAK,CAAAR,QAAK,KAAK,kBAAkBA,GAAC,CAAC,EAAE,KAAK,CAAAA,QAAK;AAC1D,gBAAMI,MAAI,KAAK,kBAAkB,OAAO,CAAAJ,QAAK,aAAaA,IAAE,QAAQA,IAAE,YAAY,QAAQ;AAC1F,iBAAOA,IAAE,oBAAoBmB,GAAE,gBAAgB,MAAMf,IAAE,SAAS,iCAC3DJ,MAD2D;AAAA,YAE9D,MAAMI,IAAE,CAAC;AAAA,YACT,YAAYA,IAAE,CAAC,EAAE,OAAO;AAAA,UAC1B,KAAIJ;AAAA,QACN,CAAC,EAAE,KAAKoB,GAAG,KAAK,MAAMpB,KAAGI,GAAE,WAAW,MAAM,CAAC,EAAE,KAAK,GAAGa,GAAC,EAAE,KAAKI,GAAG,CAAC,EAAE,KAAK,CAAArB,QAAK,KAAK,gCAAgC,GAAG,iBAAiBA,GAAC,CAAC,EAAE,KAAK,CAAAA,SAAM,KAAK,wBAAwBU,KAAGV,GAAC,GAAGA,IAAE;AAAA,QAC7L,QAAQgB;AAAA,MACV;AAAA,IACF,GAAGhB,KAAGQ,IAAGJ,GAAE,OAAO,GAAGK,GAAE,MAAML,GAAE,SAAS,MAAM,KAAK,gCAAgC,GAAG,CAAC,GAAGA,GAAE,GAAG,aAAa,MAAM;AAChH,WAAK,2BAA2B,KAAK,gCAAgC;AAAA,IACvE,CAAC,GAAGK,GAAE,MAAML,GAAE,UAAU,CAAAJ,QAAK;AAC3B,WAAK,gCAAgC;AACrC,YAAMI,MAAI;AACV,MAAAJ,MAAI,KAAK,WAAW,KAAK,KAAK,kBAAkB,GAAG,oBAAoB,MAAM,KAAK,gCAAgC,CAAC,GAAGI,GAAC,IAAI,KAAK,cAAcA,GAAC;AAAA,IACjJ,GAAG,CAAC,CAAC,CAAC;AAAA,EACR;AAAA,EACA,wBAAwB;AACtB,UAAM;AAAA,MACF,QAAQJ;AAAA,MACR,MAAMI;AAAA,IACR,IAAI,MACJC,MAAIQ,IAAE;AAAA,MACJ,MAAMT;AAAA,MACN,QAAQJ;AAAA,MACR,oBAAoB,CAAAA,QAAK;AACvB,YAAI,CAAC,KAAK,aAAa,CAAC,KAAK,yBAAyB;AACpD,eAAK,wBAAwB,mBAAmBA,GAAC,GAAG,KAAK,kBAAkB,mBAAmBA,GAAC;AAC/F,qBAAWI,OAAK,KAAK,kBAAmB,CAAAJ,IAAEI,IAAE,aAAae,GAAE,YAAY;AAAA,QACzE;AAAA,MACF;AAAA,MACA,uBAAuB,CAAAnB,QAAK,KAAK,OAAO,GAAG,wBAAwBA,GAAC;AAAA,IACtE,CAAC;AACH,YAAQK,QAAM,KAAK,wBAAwBA,IAAE,yBAAyBiB,KAAKjB,IAAE,gBAAgB;AAC7F,UAAMK,MAAI,KAAK;AACf,QAAI,QAAQA,KAAG;AACb,YAAMN,MAAI,MAAM;AACd,QAAAJ,IAAE,YAAY,KAAK,gCAAgC;AAAA,MACrD;AACA,WAAK,oBAAoB,IAAI,EAAE,MAAMU,IAAE,QAAQ,6BAA6BN,KAAG;AAAA,QAC7E,eAAeA;AAAA,MACjB,CAAC,CAAC;AAAA,IACJ;AACA,SAAK,oBAAoB,IAAIC,GAAC;AAAA,EAChC;AAAA,EACA,6BAA6BL,KAAGI,KAAI,KAAK,OAAO,eAAe;AAC7D,UAAMC,MAAI,KAAK;AACf,QAAIL,IAAE,UAAU,SAAS,UAAU,KAAK,CAACK,IAAG,QAAO;AACnD,UAAMK,MAAI,KAAK,UAAU,aAAa,YACpCH,MAAIG,IAAE,OAAO,GACbP,MAAII,MAAIG,IAAE,kBACVM,MAAIT,MAAIJ,KACRU,MAAIG,MAAI,KAAK,KAAK,CAAC,IAAI;AACzB,YAAQ,KAAK,yCAAyC,KAAK,uCAAuC,GAAG,KAAK,gCAAgCH,KAAGG,MAAI,GAAGA,MAAI,GAAGN,IAAE,QAAQA,IAAE,MAAM,IAAI,QAAQ,KAAK,0CAA0C,KAAK,wCAAwC,GAAG,KAAK,gCAAgC,CAACG,KAAGG,MAAI,GAAGA,MAAI,GAAGN,IAAE,QAAQ,CAACA,IAAE,MAAM;AAClW,UAAMO,MAAI,CAAC,IAAIjB,IAAE,KAAK,qCAAqC,YAAY,GAAGI,GAAG,SAAS,GAAG,IAAIJ,IAAE,KAAK,qCAAqC,YAAY;AAAA,MACjJ,UAAU,KAAK;AAAA,IACjB,CAAC,GAAGI,GAAG,OAAO,GAAG,IAAIJ,IAAE,KAAK,sCAAsC,YAAY,GAAGI,GAAG,SAAS,GAAG,IAAIJ,IAAE,KAAK,sCAAsC,YAAY;AAAA,MAC3J,UAAU,KAAK;AAAA,IACjB,CAAC,GAAGI,GAAG,OAAO,CAAC,GACfK,KAAI,IAAI,GAAE;AAAA,MACR,MAAM,KAAK;AAAA,MACX,eAAeQ;AAAA,MACf,eAAe,oBAAoBb,GAAE,QAAQmB,GAAE,KAAK,OAAO,SAAS,MAAM,IAAI;AAAA,QAC5E,MAAM;AAAA,QACN,QAAQ;AAAA,MACV,IAAInB;AAAA,MACJ,eAAe;AAAA,MACf,iBAAiB;AAAA,MACjB,QAAQD;AAAA,MACR,WAAW,KAAK,OAAO;AAAA,MACvB,eAAe;AAAA,QACb,MAAM;AAAA,QACN,WAAWa,GAAE,GAAG,GAAG,CAAC;AAAA,MACtB;AAAA,MACA,mBAAmB;AAAA,MACnB,UAAU;AAAA,QACR,UAAU;AAAA,MACZ;AAAA,IACF,CAAC,GACDf,MAAI,IAAI,GAAE;AAAA,MACR,MAAM,KAAK;AAAA,MACX,YAAY;AAAA,MACZ,eAAe;AAAA,MACf,WAAW,KAAK,OAAO;AAAA,MACvB,mBAAmB;AAAA,MACnB,QAAQ,KAAK,mBAAmB,SAAS;AAAA,MACzC,UAAU;AAAA,QACR,UAAU;AAAA,MACZ;AAAA,IACF,CAAC,GACDc,MAAI;AAAA,MACF,aAAaN;AAAA,MACb,QAAQT;AAAA,MACR,sBAAsB;AAAA,MACtB,MAAM;AAAA,MACN,eAAe;AAAA,MACf,iBAAiBC;AAAA,MACjB,eAAeG;AAAA,MACf,kBAAkB;AAAA,IACpB;AACF,SAAK,+BAA+BW,KAAGL,IAAE,oBAAoB,GAAG,KAAK,6BAA6BK,GAAC;AACnG,UAAMD,MAAI,CAAC;AACX,eAAWN,MAAK,CAACR,IAAE,YAAYA,IAAE,WAAW,GAAG;AAC7C,YAAMA,MAAI,KAAK,8BAA8BQ,EAAC;AAC9C,cAAQR,OAAKc,IAAE,KAAKd,IAAE,YAAY,OAAO,GAAG,mBAAmB,MAAM,KAAK,6BAA6Be,GAAC,CAAC,CAAC;AAAA,IAC5G;AACA,IAAAA,IAAE,uBAAuB,EAAED,GAAC,GAAG,KAAK,oBAAoB,IAAIC,IAAE,sBAAsBN,EAAC,GAAG,KAAK,oBAAoB,IAAI,CAAC,KAAK,yBAAyBA,IAAG,IAAE,GAAG,KAAK,yBAAyBR,KAAG,IAAE,CAAC,GAAGQ,EAAC,GAAG,KAAK,oBAAoB,IAAIQ,GAAGR,IAAG,KAAK,0BAA0BM,KAAGX,EAAC,CAAC,GAAGK,EAAC,GAAG,KAAK,oBAAoB,IAAIQ,GAAGhB,KAAG,CAACD,KAAGU,KAAGH,KAAGJ,QAAM;AACtU,UAAI,YAAYA,KAAG;AACjB,aAAK,0BAA0BY,KAAGX,EAAC,EAAEJ,KAAGU,KAAGH,GAAC;AAAA,MAC9C,WAAW,KAAK,kBAAkB;AAChC,cAAMJ,MAAI,KAAK,OAAO,SACpBK,KAAIH,IAAE,KAAK;AACb,QAAAK,IAAE,KAAK,CAAAV,QAAK,KAAK,kBAAkBA,GAAC,CAAC,EAAE,KAAKwB,GAAG,KAAK,MAAMxB,IAAE,wBAAwB,CAAC,EAAE,KAAKoB,GAAE,KAAK,MAAMpB,IAAE,0BAA0BI,IAAGI,IAAGL,GAAC,CAAC,EAAE,KAAKD,GAAG,CAAC,EAAE,KAAKmB,GAAG,CAAC,EAAE,KAAK,CAAArB,QAAK,KAAK,gCAAgC,GAAG,KAAKA,GAAC,CAAC,EAAE,KAAK,CAAAA,SAAM,KAAK,8BAA8Bc,GAAE,IAAId,GAAC,GAAGA,IAAE,EAAE,KAAK,CAAAA,QAAK;AACpS,oBAAUA,IAAE,UAAU,KAAK,cAAc;AAAA,QAC3C,CAAC,GAAGO,IAAE,KAAK,MAAM,KAAK,cAAc,CAACP,IAAE,SAAS,QAAQ,CAAC;AAAA,MAC3D;AAAA,IACF,CAAC,GAAGS,EAAC;AACL,UAAMgB,KAAI,CAAAzB,QAAK;AACb,WAAK,kBAAkB,KAAK,CAAAA,QAAKA,IAAE,YAAY,QAAQ,IAAI,KAAK,gBAAgB,IAAI,KAAK,OAAO,KAAK,mBAAmB,iCACnHA,MADmH;AAAA,QAEtH,QAAQ,KAAK;AAAA,MACf,EAAC,GAAGA,IAAE,gBAAgB;AAAA,IACxB;AACA,WAAO,KAAK,oBAAoB,IAAI,CAACS,GAAE,OAAO,GAAG,mBAAmBgB,EAAC,GAAGxB,IAAE,OAAO,GAAG,mBAAmBwB,EAAC,GAAGhB,GAAE,OAAO,GAAG,iBAAiB,CAAC;AAAA,MACvI,QAAQT;AAAA,IACV,MAAM;AACJ,kBAAYA,MAAI,KAAK,yBAAyB,IAAI,IAAI,KAAK,cAAc;AAAA,IAC3E,CAAC,CAAC,GAAGS,EAAC,GAAG,KAAK,kBAAkB,KAAKM,GAAC,GAAG,KAAK,aAAa,IAAIN,EAAC,GAAG,KAAK,aAAa,IAAIR,GAAC,GAAG,KAAK,OAAO,KAAK,sBAAsB,GAAGc;AAAA,EACzI;AAAA,EACA,+BAA+Bf,KAAGI,IAAG;AACnC,UAAMC,MAAIL,IAAE,aACVU,MAAIV,IAAE,iBACNO,MAAI,MAAM;AACR,MAAAP,IAAE,mBAAmB,EAAEA,IAAE,gBAAgB;AACzC,YAAMO,MAAI,KAAK,8BAA8BP,IAAE,OAAO,UAAU,GAC9DG,MAAI,KAAK,8BAA8BH,IAAE,OAAO,WAAW,GAC3Da,MAAI,QAAQN,OAAK,QAAQJ,OAAKuB,GAAEnB,IAAE,YAAY,gBAAgBJ,IAAE,YAAY,gBAAgB,KAAK,KAAK,MAAM,MAAM,IAAIC;AACxH,OAAC,CAACC,IAAE,WAAW,CAACK,IAAE,WAAWG,SAAOR,IAAE,YAAY,CAACQ,KAAGH,IAAE,YAAY,CAACG,KAAGb,IAAE,mBAAmB,EAAE,CAACK,IAAE,eAAe,GAAG,EAAE,MAAM;AAC1H,QAAAA,IAAE,YAAY,MAAIK,IAAE,YAAY,KAAK;AAAA,MACvC,CAAC,CAAC,CAAC;AAAA,IACL;AACF,SAAK,oBAAoB,IAAI,CAACL,IAAE,OAAO,GAAG,iBAAiBE,GAAC,GAAGG,IAAE,OAAO,GAAG,iBAAiBH,GAAC,GAAG,EAAE,MAAM;AACtG,QAAEP,IAAE,gBAAgB,GAAGU,IAAE,SAAS,WAAW,MAAI,KAAK,aAAa,OAAOA,GAAC;AAAA,IAC7E,CAAC,CAAC,GAAGL,GAAC,GAAGE,IAAE;AAAA,EACb;AAAA,EACA,6BAA6BP,KAAG;AAC9B,QAAI,CAAC,KAAK,YAAa;AACvB,SAAK,2BAA2BA,GAAC;AACjC,UAAM;AAAA,MACF,kBAAkBI;AAAA,IACpB,IAAI,KAAK,YAAY,MACrBC,MAAIY,GAAE,KAAK,MAAMjB,IAAE,YAAY,0BAA0ByB,GAAErB,IAAGJ,IAAE,QAAQA,IAAE,YAAY,aAAa,CAAC,GACpGU,MAAI,KAAK,8BAA8BV,IAAE,OAAO,UAAU,GAC1DO,MAAI,KAAK,8BAA8BP,IAAE,OAAO,WAAW;AAC7D,QAAI,QAAQU,OAAK,QAAQH,IAAG;AAC5B,UAAMJ,MAAIO,IAAE,YAAY,gBACtBF,KAAID,IAAE,YAAY,gBAClBS,MAAI,QAAQX,MAAIsB,GAAEtB,KAAGF,KAAGK,EAAC,IAAIL;AAC/B,IAAAH,IAAE,YAAY,iBAAiBgB,KAAGhB,IAAE,gBAAgB,2BAA2BA,IAAE,YAAY,0BAA0BA,IAAE,gBAAgB,iBAAiBgB;AAC1J,UAAMH,MAAIL,GAAER,GAAE,IAAIG,KAAGK,EAAC,CAAC,IAAI;AAC3B,IAAAR,IAAE,gBAAgB,gBAAgB;AAAA,MAChC,MAAM;AAAA,MACN,OAAO,CAAC,CAAC,CAAC,CAACa,KAAG,GAAG,CAAC,GAAG,CAACA,KAAG,GAAG,CAAC,CAAC,CAAC;AAAA,IACjC;AAAA,EACF;AAAA,EACA,0BAA0Bb,KAAGI,IAAG;AAC9B,WAAO,CAACC,KAAGK,KAAGH,QAAM;AAClB,YAAMJ,MAAI,KAAK;AACf,UAAI,CAACA,IAAG;AACR,WAAK,gBAAgB;AACrB,YAAM;AAAA,QACJ,MAAMK;AAAA,QACN,SAASQ;AAAA,MACX,IAAI,KAAK,sBAAsBhB,KAAGI,IAAGD,GAAC;AACtC,MAAAO,IAAE,KAAK,CAAAV,QAAK,KAAK,kBAAkBA,GAAC,CAAC,EAAE,KAAKwB,GAAG,KAAK,MAAMnB,IAAE,wBAAwB,CAAC,EAAE,KAAKG,EAAC,EAAE,KAAKkB,GAAE,KAAK,IAAI,CAAC,EAAE,KAAKP,GAAE,KAAK,MAAMhB,IAAE,KAAK,gBAAgB,CAAC,EAAE,KAAKkB,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,KAAK,KAAK,qBAAqBrB,GAAC,CAAC,EAAE,KAAK,KAAK,uBAAuB,CAAC,EAAE,KAAK,CAAAA,QAAK;AACnQ,kBAAUA,IAAE,UAAUgB,IAAE;AAAA,MAC1B,CAAC,GAAGT,IAAE,KAAK,MAAM;AACf,QAAAF,IAAE,SAAS,aAAaW,IAAE,GAAG,KAAK,cAAc;AAAA,MAClD,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EACA,sBAAsBhB,KAAGI,IAAGC,KAAG;AAC7B,UAAM;AAAA,MACF,MAAME;AAAA,IACR,IAAI,MACJJ,MAAIsB,GAAEpB,IAAE,KAAK,kBAAkBL,IAAE,QAAQI,EAAC,GAC1CY,MAAIX,IAAE,gBAAgB,GACtBY,MAAIA,GAAEV,KAAGP,IAAE,YAAY,0BAA0BG,GAAC;AACpD,QAAIA,IAAE,uBAAuB;AAC3B,YAAMC,MAAI,KAAK,8BAA8BJ,IAAE,OAAO,WAAW,QAAQ;AACzE,cAAQI,OAAK,KAAK,sBAAsBA,KAAG,CAAC;AAAA,IAC9C;AACA,QAAID,IAAE,wBAAwB;AAC5B,YAAMC,MAAI,KAAK,8BAA8BJ,IAAE,OAAO,YAAY,SAAS;AAC3E,cAAQI,OAAK,KAAK,sBAAsBA,KAAG,CAAC;AAAA,IAC9C;AACA,UAAMU,MAAI,MAAM,IAAI,EAAE;AAAA,MAClB,OAAO,CAAC,CAACd,IAAE,OAAO,WAAW,KAAKA,IAAE,OAAO,YAAY,GAAG,CAAC;AAAA,MAC3D,kBAAkBK,IAAE,KAAK;AAAA,IAC3B,CAAC,GACDoB,KAAI,KAAK,WACTE,KAAI,IAAIL,GAAG;AAAA,MACT,MAAMf;AAAA,MACN,UAAU,KAAK,OAAO;AAAA,MACtB,UAAUO,IAAE;AAAA,MACZ,eAAed,IAAE;AAAA,MACjB,OAAOyB,GAAE,eAAe,YAAY,QAAQ;AAAA,MAC5C,UAAU;AAAA,MACV,cAAc;AAAA,IAChB,CAAC;AACH,QAAIG;AACJ,UAAMtB,KAAI,MAAM;AACZ,WAAK,+BAA+BN,GAAC,GAAG4B,KAAI,EAAEA,EAAC;AAAA,IACjD,GACAP,KAAI,KAAK,OAAO,GAAG,QAAQf,EAAC;AAC9B,WAAOsB,KAAI,EAAE,CAACnB,GAAE,MAAM,EAAE,KAAK,YAAY,GAAG,CAAAT,QAAK2B,GAAE,QAAQ3B,KAAG,CAAC,GAAGa,GAAEc,EAAC,GAAGlB,GAAE,MAAM,KAAK,OAAO,UAAU,CAAAT,QAAK2B,GAAE,WAAW3B,GAAC,GAAG,KAAK,OAAO,GAAG,aAAa,MAAM2B,GAAE,WAAWb,IAAE,CAAC,GAAGE,KAAGK,EAAC,CAAC,GAAGM,GAAE,WAAW,MAAI;AAAA,MACxM,MAAM,CAAA3B,QAAK,QAAQG,OAAK,QAAQc,OAAKX,GAAE,GAAG,QAAQ,iCAC7CN,MAD6C;AAAA,QAEhD,WAAWG;AAAA,QACX,OAAOc;AAAA,MACT;AAAA,MACA,SAASX;AAAA,IACX;AAAA,EACF;AAAA,EACA,qBAAqBN,KAAG;AACtB,WAAO,CAAAI,OAAK;AACV,UAAI,KAAK,aAAa,QAAQA,GAAE,UAAW,QAAOA;AAClD,WAAK,kBAAkB,GAAG,SAAS;AACnC,YAAM;AAAA,QACJ,WAAWC;AAAA,QACX,WAAWK;AAAA,QACX,WAAWH;AAAA,MACb,IAAIH;AACJ,cAAQC,OAAKK,OAAKH,SAAO,KAAK,YAAYP,KAAGI,EAAC,GAAG,KAAK,OAAO,KAAK,WAAW;AAAA,QAC3E,MAAM;AAAA,QACN,QAAQ,KAAK;AAAA,MACf,CAAC,IAAIA;AAAA,IACP;AAAA,EACF;AAAA,EACA,yBAAyB;AACvB,WAAO,CAAAJ,SAAM,QAAQA,IAAE,kBAAkB,KAAK,OAAO,aAAa,KAAK,yBAAyBA,GAAC,IAAI,KAAK,cAAc,GAAGA;AAAA,EAC7H;AAAA,EACA,+BAA+BA,KAAG;AAChC,QAAI,CAAC,KAAK,YAAa;AACvB,UAAMI,KAAIJ,IAAE,OAAO,WAAW,UAAU,YACtCK,MAAIL,IAAE,OAAO,YACbU,MAAIV,IAAE,OAAO,YAAY,WAAW,aACpCO,MAAIP,IAAE,OAAO,aACbG,MAAI,KAAK,YAAY,KAAK,kBAC1BK,KAAI,CAAC;AACP,QAAIJ,MAAKD,IAAE,SAASC,GAAE,KAAKC,IAAE,GAAG,IAAI,IAAI;AACtC,YAAML,MAAI,KAAK,8BAA8BK,GAAC;AAC9C,cAAQL,OAAKQ,GAAE,KAAKR,GAAC;AAAA,IACvB;AACA,QAAIG,IAAE,SAASE,IAAE,KAAKE,IAAE,GAAG,IAAI,MAAMG,OAAKP,IAAE,SAASO,IAAE,KAAKH,IAAE,GAAG,IAAI,IAAI;AACvE,YAAMP,MAAI,KAAK,8BAA8BO,GAAC;AAC9C,cAAQP,OAAKQ,GAAE,KAAKR,GAAC;AAAA,IACvB;AACA,IAAAQ,GAAE,UAAU,KAAK,gBAAgBA,EAAC;AAAA,EACpC;AAAA,EACA,+BAA+BR,KAAGI,KAAI,KAAK,OAAO,eAAeC,MAAI,OAAI;AACvE,UAAM;AAAA,MACJ,MAAMK;AAAA,MACN,aAAaH;AAAA,IACf,IAAI;AACJ,QAAI,CAACA,IAAG,QAAO;AACf,UAAMJ,MAAI,KAAK;AACf,QAAI,WAAWH,IAAE,MAAM;AACrB,UAAI,KAAK,iBAAkB,QAAO,KAAK,6BAA6BA,KAAGI,EAAC;AACxE,UAAI,CAAC,KAAK,gBAAiB,QAAO;AAAA,IACpC;AACA,QAAI,QAAQ,KAAK,8BAA8B,QAAQ,KAAK,mCAAmC;AAC7F,YAAM;AAAA,QACJ,MAAMJ;AAAA,QACN,aAAaI;AAAA,MACf,IAAI,GAAGD,IAAE,aAAa,MAAM;AAC5B,WAAK,6BAA6B,GAAG,KAAK,4BAA4BH,KAAG,IAAI,EAAE,GAAG,KAAK,oCAAoC,GAAG,KAAK,mCAAmCI,KAAG,IAAI,EAAE;AAAA,IACjL;AACA,QAAI,QAAQ,KAAK,4BAA4B,QAAQ,KAAK,iCAAiC;AACzF,YAAM;AAAA,QACJ,MAAMJ;AAAA,QACN,aAAaI;AAAA,MACf,IAAI,GAAGD,IAAE,aAAa,IAAI;AAC1B,WAAK,2BAA2B,GAAG,KAAK,0BAA0BH,KAAG,IAAI,EAAE,GAAG,KAAK,kCAAkC,GAAG,KAAK,iCAAiCI,KAAG,IAAI,EAAE;AAAA,IACzK;AACA,UAAMY,MAAI,KAAK,aAAa,KAAK,MAC/BH,MAAI,YAAYG,OAAK,WAAWA,MAAI,CAAC,IAAI,CAAC,IAAIhB,IAAE,KAAK,2BAA2B,YAAY,GAAG,GAAG,SAASI,GAAG,UAAU,GAAG,IAAIJ,IAAE,KAAK,kCAAkC,YAAY,GAAG,GAAG,SAASI,GAAG,YAAYA,GAAG,UAAU,GAAG,IAAIJ,IAAE,KAAK,kCAAkC,YAAY;AAAA,MACzR,UAAU,KAAK;AAAA,IACjB,CAAC,GAAG,GAAG,SAASI,GAAG,UAAUA,GAAG,UAAU,GAAG,IAAIJ,IAAE,KAAK,2BAA2B,YAAY;AAAA,MAC7F,UAAU,KAAK;AAAA,IACjB,CAAC,GAAGI,GAAG,QAAQ,GAAG,IAAIJ,IAAE,KAAK,kCAAkC,YAAY;AAAA,MACzE,UAAU,KAAK;AAAA,IACjB,CAAC,GAAGI,GAAG,WAAWA,GAAG,SAAS,GAAG,IAAIJ,IAAE,KAAK,kCAAkC,YAAY;AAAA,MACxF,UAAU,KAAK;AAAA,IACjB,CAAC,GAAGI,GAAG,WAAWA,GAAG,OAAO,CAAC;AAC/B,SAAK,mBAAmBS,IAAE,KAAK,IAAIb,IAAE,KAAK,yBAAyB,YAAY;AAAA,MAC7E,UAAU,KAAK;AAAA,IACjB,CAAC,GAAG,GAAG,OAAOI,GAAG,UAAUA,GAAG,UAAU,GAAG,IAAIJ,IAAE,KAAK,gCAAgC,YAAY;AAAA,MAChG,UAAU,KAAK;AAAA,IACjB,CAAC,GAAG,GAAG,OAAOI,GAAG,UAAUA,GAAG,UAAU,GAAG,IAAIJ,IAAE,KAAK,yBAAyB,YAAY,GAAG,GAAG,OAAOI,GAAG,YAAYA,GAAG,UAAU,GAAG,IAAIJ,IAAE,KAAK,gCAAgC,YAAY,GAAG,GAAG,OAAOI,GAAG,YAAYA,GAAG,UAAU,CAAC;AACxO,UAAMa,MAAI,IAAI,GAAE;AAAA,MACd,MAAMP;AAAA,MACN,eAAeG;AAAA,MACf,eAAeT;AAAA,MACf,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,WAAW,KAAK,OAAO;AAAA,MACvB,UAAU;AAAA,QACR,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AACD,IAAAa,IAAE,WAAWZ,KAAG,KAAK,oCAAoCY,KAAGjB,KAAGI,EAAC;AAChE,UAAMH,MAAI,WAAWD,IAAE,OAAO;AAAA,MAC5B,aAAaiB;AAAA,MACb,QAAQjB;AAAA,MACR,sBAAsB;AAAA,MACtB,MAAM;AAAA,MACN,eAAe;AAAA,IACjB,IAAI;AAAA,MACF,aAAaiB;AAAA,MACb,QAAQjB;AAAA,MACR,MAAM;AAAA,MACN,eAAe;AAAA,IACjB;AACA,QAAI,KAAK,kBAAkB,KAAKC,GAAC,GAAG,KAAK,aAAa,IAAIgB,GAAC,GAAG,KAAK,2BAA2BhB,GAAC,GAAG,WAAWA,IAAE,MAAM;AACnH,YAAMD,MAAI,CAAC;AACX,iBAAWI,OAAK,CAACH,IAAE,OAAO,YAAYA,IAAE,OAAO,WAAW,GAAG;AAC3D,cAAMI,MAAI,KAAK,8BAA8BD,GAAC;AAC9C,gBAAQC,OAAKL,IAAE,KAAKK,IAAE,YAAY,OAAO,GAAG,mBAAmB,MAAM,KAAK,2BAA2BJ,GAAC,CAAC,CAAC;AAAA,MAC1G;AACA,MAAAA,IAAE,uBAAuB,EAAED,GAAC,GAAG,KAAK,oBAAoB,IAAIC,IAAE,sBAAsBgB,GAAC;AAAA,IACvF;AACA,SAAK,oBAAoB,IAAI,KAAK,yBAAyBA,KAAG,IAAE,GAAGA,GAAC;AACpE,UAAMF,MAAIE,GAAGA,KAAG,CAACjB,KAAGK,KAAGK,KAAGP,QAAM;AAC9B,UAAIK,KAAI;AACR,YAAM;AAAA,QACJ,cAAcQ;AAAA,QACd,gBAAgBH;AAAA,MAClB,IAAIP,GAAG;AAAA,QACL,WAAW,MAAM,CAAC,KAAK,wBAAwB;AAAA,QAC/C,iBAAiB,KAAK,KAAK;AAAA,QAC3B,iBAAiB,IAAIN,IAAG;AAAA,UACtB,wBAAwBO;AAAA,UACxB,eAAeH;AAAA,UACf,SAASD;AAAA,UACT,gBAAgB,KAAK,OAAO;AAAA,UAC5B,YAAY,IAAIe,GAAE;AAAA,QACpB,CAAC;AAAA,QACD,iBAAiB,KAAK;AAAA,QACtB,MAAM;AAAA,MACR,CAAC;AACD,MAAAR,MAAIA,IAAE,KAAK,CAAAN,SAAM,KAAK,cAAc,CAACJ,IAAE,SAAS,UAAU,MAAMQ,KAAI,EAAEA,EAAC,CAAC,GAAGJ,IAAE,EAAE,KAAKS,GAAC,GAAGR,IAAE,KAAK,CAAAL,QAAK,KAAK,kBAAkBA,GAAC,CAAC,EAAE,KAAK,CAAAA,QAAK;AACvI,YAAI,YAAYA,IAAE,UAAU,KAAK,gBAAgBQ,KAAI,KAAK,YAAY,gBAAgB,IAAI,WAAWP,IAAE,MAAM;AAC3G,gBAAMG,MAAI,KAAK,sBAAsBH,GAAC;AACtC,iBAAO,iCACFD,MADE;AAAA,YAEL,MAAMI;AAAA,YACN,YAAYA,IAAE,OAAO;AAAA,UACvB;AAAA,QACF;AACA,eAAO,iCACFJ,MADE;AAAA,UAEL,MAAMC;AAAA,UACN,YAAYA,IAAE,OAAO;AAAA,QACvB;AAAA,MACF,CAAC,EAAE,KAAKuB,GAAG,KAAK,MAAMxB,IAAE,wBAAwB,CAAC,EAAE,KAAKoB,GAAE,KAAK,MAAMpB,IAAE,0BAA0B,KAAK,OAAO,eAAeA,IAAE,SAAS,kBAAkB,KAAK,OAAO,OAAO,CAAC,EAAE,KAAKoB,GAAG,KAAK,MAAMhB,IAAG,KAAK,OAAO,WAAW,MAAM,CAAC,EAAE,KAAK,GAAGY,GAAC,EAAE,KAAKK,GAAG,CAAC,EAAE,KAAK,CAAArB,QAAK;AACnQ,aAAK,gCAAgCA,GAAC,GAAG,UAAUA,IAAE,WAAWQ,KAAI,EAAEA,EAAC,IAAI,KAAK,cAAc;AAAA,MAChG,CAAC;AAAA,IACH,CAAC;AACD,WAAO,KAAK,oBAAoB,IAAI,CAACO,KAAGE,IAAE,OAAO,GAAG,mBAAmB,CAAAjB,QAAK,KAAK,0BAA0BA,KAAGC,GAAC,CAAC,GAAGgB,IAAE,OAAO,GAAG,kBAAkB,MAAM;AACrJ,MAAAhB,IAAE,gBAAgB,EAAE,KAAK,gBAAgB,KAAK,gCAAgC,GAAG,KAAK,cAAc;AAAA,IACtG,CAAC,GAAGgB,IAAE,OAAO,GAAG,iBAAiB,MAAM;AACrC,WAAK,cAAc;AAAA,IACrB,CAAC,CAAC,GAAGA,GAAC,GAAG,KAAK,OAAO,KAAK,sBAAsB,GAAGhB;AAAA,EACrD;AAAA,EACA,kBAAkBD,KAAG;AACnB,YAAQA,IAAE,QAAQ;AAAA,MAChB,KAAK;AACH,aAAK;AACL;AAAA,MACF,KAAK;AACH,aAAK;AAAA,IACT;AACA,WAAOA;AAAA,EACT;AAAA,EACA,cAAcA,MAAI,MAAII,IAAG;AACvB,YAAQ,KAAK,gBAAgBJ,OAAK,KAAK,KAAK,GAAG,QAAQ,KAAK,KAAK,mBAAmB,KAAK,KAAK,gBAAgB,aAAa,GAAG,KAAK,cAAc,GAAG,KAAK,oBAAoB;AAAA,MAC3K,KAAK,GAAG;AACN;AAAA,MACF,KAAK,GAAG;AACN,aAAK,OAAO,KAAK,QAAQ;AAAA,UACvB,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,IAAI;AAAA,UACJ,QAAQ,KAAK;AAAA,QACf,CAAC;AACD;AAAA,MACF,KAAK,GAAG;AACN,aAAK,OAAO,KAAK,WAAW;AAAA,UAC1B,MAAM;AAAA,UACN,QAAQ,KAAK;AAAA,QACf,CAAC;AAAA,IACL;AACA,IAAAI,MAAKA,GAAE,GAAG,KAAK,aAAa,KAAK,kBAAkB,GAAG,IAAI;AAAA,EAC5D;AAAA,EACA,oCAAoCJ,KAAGI,IAAGC,KAAG;AAC3C,UAAMK,MAAI,KAAK;AACf,YAAQN,GAAE,MAAM;AAAA,MACd,KAAK,UACH;AACE,QAAAJ,IAAE,QAAQ,GAAG,QAAQA,IAAE,aAAa,MAAIA,IAAE,SAAS,QAAQA,IAAE,oBAAoB;AACjF,cAAM;AAAA,UACJ,MAAMI;AAAA,UACN,kBAAkBG;AAAA,QACpB,IAAIG,IAAE,aAAa;AACnB,QAAAV,IAAE,SAASI,MAAI,IAAIG,KAAGP,IAAE,gBAAgBK;AACxC,cAAMF,MAAI,KAAK,aAAa,KAAK;AACjC,QAAAH,IAAE,cAAc,QAAQG,OAAK,YAAYA,OAAK,WAAWA;AACzD;AAAA,MACF;AAAA,MACF,KAAK,QACH;AACE,QAAAH,IAAE,QAAQ,GAAG,MAAMA,IAAE,aAAa,OAAIA,IAAE,SAAS,QAAQA,IAAE,oBAAoB;AAC/E,cAAM;AAAA,UACJ,MAAMI;AAAA,UACN,kBAAkBG;AAAA,QACpB,IAAIG,IAAE,aAAa;AACnB,QAAAV,IAAE,SAASI,MAAI,IAAIG,KAAGP,IAAE,gBAAgB,oBAAoBK,IAAE,QAAQkB,GAAE,KAAK,OAAO,SAAS,MAAM,IAAI;AAAA,UACrG,MAAM;AAAA,UACN,QAAQ;AAAA,QACV,IAAIlB;AACJ;AAAA,MACF;AAAA,IACJ;AAAA,EACF;AAAA,EACA,yBAAyBL,KAAGI,IAAG;AAC7B,WAAOJ,IAAE,OAAO,GAAG,gBAAgB,CAAAK,QAAK,KAAK,oBAAoBL,KAAGI,IAAGC,IAAE,QAAQA,IAAE,WAAW,CAAC;AAAA,EACjG;AAAA,EACA,oBAAoBL,KAAGI,IAAGC,KAAGK,MAAI,SAAS;AACxC,QAAI,CAAC,KAAK,yBAAyB;AACjC,UAAI,YAAYL,IAAG,CAAAD,MAAK,KAAK,iBAAiBJ,GAAC,GAAG,KAAK;AAAA,eAAwB,KAAK,gBAAgB,KAAK,kBAAkB,GAAG,IAAI,GAAG,KAAK,UAAW;AACrJ,WAAK,kBAAkB,cAAc,CAAC,KAAK,eAAe,YAAYU,OAAK,KAAK,sBAAsB,KAAK,kBAAkB,QAAQ,CAAAV,QAAK;AACxI,cAAM;AAAA,UACF,aAAaI;AAAA,QACf,IAAIJ,KACJK,MAAI,KAAK,aAAa,KAAK;AAC7B,QAAAD,IAAE,cAAcA,IAAE,YAAY,CAAC,KAAK,gBAAgB,QAAQC,OAAK,YAAYA,OAAK,WAAWA,KAAG,qBAAqBL,QAAMA,IAAE,gBAAgB,cAAcA,IAAE,gBAAgB,YAAY,CAAC,KAAK;AAAA,MACjM,CAAC,GAAG,KAAK,wBAAwB,mBAAmB,CAAAA,QAAK;AACvD,QAAAA,IAAE,cAAcA,IAAE,YAAY,CAAC,KAAK;AAAA,MACtC,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EACA,kBAAkB;AAChB,eAAWA,OAAK,KAAK,kBAAmB,CAAAA,IAAE,YAAY,aAAaA,IAAE,YAAY,WAAW;AAAA,EAC9F;AAAA,EACA,iBAAiBA,KAAG;AAClB,IAAAA,IAAE,YAAY,CAACA,IAAE,YAAYA,IAAE,eAAe,KAAK,gBAAgB,GAAGA,IAAE,WAAW,MAAI,KAAK,OAAO,KAAK,sBAAsB;AAAA,EAChI;AAAA,EACA,mBAAmBA,KAAG;AACpB,YAAQA,QAAMA,IAAE,YAAY,SAAS,WAAW,MAAI,KAAK,aAAa,OAAOA,IAAE,WAAW,GAAG,KAAK,oBAAoB,OAAOA,IAAE,WAAW,GAAG,EAAE,KAAK,mBAAmBA,GAAC,GAAG,KAAK,OAAO,KAAK,sBAAsB,GAAG,KAAK,cAAc;AAAA,EAC1O;AAAA,EACA,8BAA8BA,KAAG;AAC/B,QAAIA;AAAG,iBAAWI,MAAK,KAAK,kBAAmB,KAAIJ,QAAMI,GAAE,OAAQ,QAAOA;AAAA;AAC1E,WAAO;AAAA,EACT;AAAA,EACA,4BAA4BJ,KAAG;AAC7B,eAAWI,MAAKJ,IAAG,MAAK,2BAA2B,KAAK,8BAA8BI,EAAC,CAAC;AAAA,EAC1F;AAAA,EACA,2BAA2BJ,KAAG;AAC5B,UAAMI,KAAI,KAAK;AACf,QAAI,QAAQJ,OAAKI;AAAG,UAAI,aAAaJ,IAAE,KAAM,CAAAA,IAAE,YAAY,WAAWI,GAAE,KAAK,iBAAiB,wBAAwBJ,IAAE,OAAO,KAAK,EAAE,GAAGA,IAAE,YAAY,YAAY,QAAQ,KAAK,kCAAkC,KAAK,8BAA8B,cAAc,8BAA8BA,IAAE,YAAY;AAAA,eAAyB,WAAWA,IAAE,MAAM;AACzV,cAAMK,MAAI,KAAK,8BAA8BL,IAAE,OAAO,UAAU,GAC9DU,MAAI,KAAK,8BAA8BV,IAAE,OAAO,WAAW;AAC7D,YAAI,QAAQK,OAAK,QAAQK,IAAG;AAC5B,cAAMH,MAAIF,IAAE,aACVF,MAAIO,IAAE;AACR,YAAI,QAAQV,IAAE,YAAY,iBAAiB,oBAAoBA,IAAE,YAAY,cAAc,MAAM;AAC/F,gBAAMK,MAAIE,IAAE,UACVG,MAAIP,IAAE,UACNK,KAAI,KACJQ,MAAIX,IAAE,IAAIG,MAAKE,IAAE,IAAIL,IAAE,IACvBQ,MAAIR,IAAE,IAAIG,MAAKE,IAAE,IAAIL,IAAE,IACvBY,MAAIZ,IAAE,QAAQK,IAAE,OAAO,IAAI;AAC7B,UAAAV,IAAE,YAAY,WAAWA,GAAEgB,KAAGH,KAAGI,KAAGb,GAAE,KAAK,gBAAgB;AAAA,QAC7D,MAAO,CAAAe,GAAE,IAAIZ,IAAE,gBAAgBJ,IAAE,gBAAgB,GAAE,GAAGH,IAAE,YAAY,iBAAiB;AAAA,MACvF;AAAA;AAAA,EACF;AAAA,EACA,sBAAsBA,KAAGI,KAAI,KAAI;AAC/B,UAAMC,MAAI,KAAK,aACbK,MAAIL,IAAE,UAAUL,IAAE,QAAQI,EAAC,EAAE;AAC/B,IAAAJ,IAAE,uBAAuB,EAAEA,IAAE,oBAAoB;AACjD,UAAMO,MAAI,KAAK,OAAO;AACtB,QAAIJ;AACJ,SAAK,oBAAoB,KAAK,mBAAmBH,GAAC,GAAGG,MAAI,KAAK,+BAA+BO,GAAC,MAAMP,MAAIH,KAAGG,IAAE,SAASO,KAAGP,IAAE,OAAO,UAAU,KAAK,oCAAoCH,IAAE,aAAaA,IAAE,QAAQO,GAAC,IAAIG,IAAE,YAAY,KAAK,+BAA+BA,IAAE,QAAQ,GAAGA,IAAE,aAAa,KAAK,+BAA+BA,IAAE,SAAS,GAAG,KAAK,2BAA2BP,GAAC,GAAG,KAAK,oBAAoB,KAAK,cAAc,GAAG,KAAK,iBAAiBH,IAAE,WAAW;AACzc,UAAMQ,KAAI,KAAK,kBAAkB,GAAG,SAAS,GAC3CQ,MAAIX,IAAE,KAAK,iBAAiB,cAAcF,IAAE,OAAO,GAAG,GACtDU,MAAIR,IAAE,KAAK,WAAW,QAAQK,IAAE,SAAS;AAC3C,WAAO,KAAK,OAAO,KAAK,cAAc;AAAA,MACpC,MAAM;AAAA,MACN,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC;AAAA,QACT,aAAaM;AAAA,QACb,gBAAgBH;AAAA,QAChB,aAAaH,IAAE;AAAA,MACjB,CAAC;AAAA,MACD,OAAOM;AAAA,IACT,CAAC,GAAGR,MAAK,KAAK,kBAAkB,GAAG,IAAI,GAAGL;AAAA,EAC5C;AAAA,EACA,kCAAkC;AAChC,UAAMH,MAAIG,GAAE,IAAI,GAAG,GAAG,CAAC;AACvB,QAAIC,KAAI,GACNC,MAAI,OACJK,MAAI,MACJH,MAAI;AACN,eAAWS,OAAK,KAAK,kBAAmB,cAAaA,IAAE,SAASA,IAAE,YAAY,YAAYZ,MAAKW,GAAEf,KAAGA,KAAGgB,IAAE,YAAY,cAAc,GAAG,QAAQN,OAAKM,IAAE,gBAAgBN,IAAE,iBAAiBH,MAAIG,KAAGA,MAAIM,QAAM,QAAQT,OAAKS,IAAE,gBAAgBT,IAAE,mBAAmBA,MAAIS,QAAMX,MAAI;AAC3Q,UAAMF,MAAI,KAAK,QACbK,KAAI,KAAK,aAAa,KAAK;AAC7B,QAAI,MAAMJ,IAAG;AACX,YAAMJ,MAAIG,IAAE,WAAW,KAAK;AAC5B,WAAK,kBAAkB,eAAe,YAAYH,KAAG,KAAK,kBAAkB,mBAAmB,YAAYA,KAAG,KAAK,kBAAkB,mBAAmB,sBAAsBA,KAAG,KAAK,kBAAkB,cAAc,YAAYA,OAAK,KAAK,gBAAgBG,GAAE,KAAK,aAAaA,IAAE,aAAa,GAAG,KAAK,kBAAkB,QAAQa,IAAER,EAAC,GAAG,KAAK,kBAAkB,SAASO,IAAE,gBAAgBZ,IAAE,SAAS,MAAM;AAAA,IAC5Y,OAAO;AACL,YAAMH,MAAIG,IAAE;AACZ,WAAK,kBAAkB,eAAe,YAAYH,KAAG,KAAK,kBAAkB,mBAAmB,YAAYA,KAAG,KAAK,kBAAkB,cAAc,YAAYA,OAAK,KAAK,iBAAiBG,GAAE,KAAK,aAAa,KAAK,OAAO,aAAa,GAAG,KAAK,kBAAkB,mBAAmB,sBAAsBH,OAAK,MAAMI;AACrT,UAAIC,MAAI;AACR,UAAI,QAAQK,KAAG;AACb,cAAMV,MAAIU,IAAE,OAAO,KACjBN,MAAI,QAAQG,MAAIA,IAAE,OAAO,MAAMG,IAAE,OAAO,UAAU,aAAaA,IAAE,OAAO,SAAS,WAAW,MAAM,MAClGP,MAAI,QAAQI,OAAKG,IAAE,OAAO,WAAW,cAAcA,IAAE,OAAO,UAAU,YAAY,MAAM;AAC1F,QAAAN,OAAKD,MAAI,KAAK,kBAAkB,mBAAmB,YAAY,QAAKC,MAAIC,MAAI,GAAGD,KAAGJ,GAAC,IAAIG,QAAME,MAAI,GAAGL,KAAGG,GAAC;AAAA,MAC1G;AACA,WAAK,kBAAkB,QAAQE,KAAG,KAAK,kBAAkB,SAASF;AAAA,IACpE;AACA,UAAMC,MAAKC,OAAK,EAAEL,KAAGA,KAAG,IAAII,EAAC,GAAG,GAAG,mBAAmB,KAAK,YAAY,KAAK,kBAAkB,GAAG,OAAO,MAAI,KAAK,KAAK,mBAAmB,iBAAiBJ,KAAG,EAAE,GAAG,KAAK,kBAAkB,2BAA2B,MAAM,QAAQ,KAAK,yBAAyB,KAAK,OAAO,YAAY,QAAQ,KAAK,sBAAsB,mBAAmB6B,GAAE,KAAK,mBAAmB,KAAK,MAAM,IAAI,KAAK,kBAAkB,2BAA2B,KAAK,sBAAsB;AAAA,EACtc;AAAA,EACA,gBAAgB7B,KAAG;AACjB,UAAMI,KAAI,IAAI,MAAM,GAClBC,MAAI,KAAK;AACX,QAAIA,KAAG;AACL,iBAAWK,OAAKV,KAAG;AACjB,cAAMA,MAAIU,IAAE,OAAO;AACnB,YAAI,aAAaA,IAAE,QAAQL,IAAE,gBAAgBL,GAAC,GAAG;AAC/C,UAAAI,GAAE,KAAKM,IAAE,MAAM,GAAG,KAAK,mBAAmBA,GAAC,GAAG,KAAK,mBAAmB,KAAK,8BAA8BA,IAAE,OAAO,QAAQ,CAAC,GAAG,KAAK,mBAAmB,KAAK,8BAA8BA,IAAE,OAAO,SAAS,CAAC;AAC5M,gBAAMH,MAAIF,IAAE,eAAe,CAACK,IAAE,MAAM,CAAC,GACnCP,MAAII,IAAE,kBAAkB,CAAC,EAAE;AAC7B,UAAAJ,MAAI,KAAK,+BAA+BA,GAAC,IAAI,KAAK,oBAAoBH,IAAE,SAAS,UAAU,KAAK,KAAK,mBAAmB,KAAK,8BAA8BA,IAAE,MAAM,CAAC,CAAC,CAAC;AAAA,QACxK;AAAA,MACF;AACA,UAAII,GAAE,SAAS,GAAG;AAChB,cAAMJ,MAAII,GAAE,IAAI,CAAAJ,QAAK;AACjB,gBAAMI,MAAIC,IAAE,KAAK,WAAW,QAAQL,IAAE,SAAS;AAC/C,iBAAO;AAAA,YACL,aAAaK,IAAE,KAAK,iBAAiB,cAAcL,IAAE,GAAG;AAAA,YACxD,gBAAgBI;AAAA,YAChB,aAAaJ,IAAE;AAAA,UACjB;AAAA,QACF,CAAC,GACDU,MAAI,KAAK,kBAAkB,GAAG,SAAS;AACzC,YAAI,KAAK,UAAW;AACpB,YAAI,KAAK,OAAO,KAAK,iBAAiB;AAAA,UACpC,MAAM;AAAA,UACN,QAAQ,KAAK;AAAA,UACb,SAASV,IAAE,IAAI,CAAAA,QAAKA,IAAE,WAAW;AAAA,UACjC,UAAUA;AAAA,QACZ,CAAC,GAAG,KAAK,UAAW;AACpB,YAAIU,QAAM,KAAK,kBAAkB,GAAG,IAAI,GAAG,KAAK,WAAY;AAC5D,aAAK,gCAAgC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EACA,cAAcV,KAAGI,IAAGC,MAAI,YAAYD,GAAE,SAASQ,GAAG,WAAWA,GAAG,kBAAkB;AAChF,UAAMF,MAAI,KAAK;AACf,QAAIA,KAAG;AACL,MAAAV,IAAE,SAAS,KAAKU,IAAE,aAAaV,IAAE,IAAI,CAAAA,QAAKA,IAAE,MAAM,GAAGI,GAAE,WAAWA,GAAE,WAAWA,GAAE,WAAWC,GAAC;AAC7F,iBAAWD,OAAKJ,IAAG,MAAK,2BAA2BI,GAAC;AAAA,IACtD;AAAA,EACF;AAAA,EACA,YAAYJ,KAAGI,IAAG;AAChB,QAAI,QAAQA,GAAE,aAAa,QAAQA,GAAE,eAAgB;AACrD,UAAMC,MAAI,KAAK;AACf,QAAI,CAACA,IAAG;AACR,UAAMK,MAAIN,GAAE,UAAU,MAAM;AAC5B,IAAAM,IAAE,WAAWN,GAAE,gBAAgBC,IAAE,eAAe,CAACL,IAAE,OAAO,YAAYA,IAAE,OAAO,WAAW,GAAGU,GAAC,GAAG,KAAK,2BAA2B,KAAK,8BAA8BV,IAAE,OAAO,UAAU,CAAC,GAAG,KAAK,2BAA2B,KAAK,8BAA8BA,IAAE,OAAO,WAAW,CAAC;AAAA,EACrR;AAAA,EACA,0BAA0BA,KAAGI,IAAG;AAC9B,IAAAJ,IAAE,YAAY,KAAK,gBAAgB,GAAG,aAAaI,GAAE,SAASA,GAAE,YAAY,WAAW,CAACA,GAAE,YAAY,UAAU,KAAK,wBAAwBJ,IAAE,WAAWI,GAAG,SAAS,KAAK,gBAAgB,CAACA,EAAC,CAAC,IAAI,WAAWA,GAAE,QAAQJ,IAAE,WAAWI,GAAG,QAAQ,KAAK,sBAAsBA,EAAC,GAAGJ,IAAE,gBAAgB;AAAA,EAClS;AAAA,EACA,wBAAwBA,KAAGI,IAAG;AAC5B,YAAQ,KAAK,sBAAsB,KAAK,cAAc,IAAI,KAAK,8BAA8BJ,KAAGI,EAAC;AAAA,EACnG;AAAA,EACA,8BAA8BJ,KAAGI,IAAG;AAClC,SAAK,oBAAoB0B,GAAG9B,KAAGI,IAAG,KAAK,gBAAgB;AAAA,EACzD;AAAA,EACA,yBAAyBJ,KAAG;AAC1B,SAAK,oBAAoBmB,GAAG,KAAK,QAAQnB,KAAG,KAAK,gBAAgB;AAAA,EACnE;AAAA,EACA,gBAAgB;AACd,SAAK,oBAAoB,KAAK;AAAA,EAChC;AAAA,EACA,IAAI,sBAAsB;AACxB,UAAMA,MAAI,KAAK,aAAa,KAAK;AACjC,YAAQA,KAAG;AAAA,MACT,KAAK;AAAA,MACL,KAAK;AACH,eAAO,KAAK,iCAAiC,KAAK,aAAa,iBAAiB;AAAA,MAClF,KAAK;AAAA,MACL,KAAK;AACH,eAAO,KAAK,aAAa;AAAA,MAC3B;AACE,eAAO;AAAA,IACX;AAAA,EACF;AAAA,EACA,IAAI,iCAAiC;AACnC,UAAMA,MAAI,KAAK,kBAAkB,OAAO,CAAAA,QAAK,aAAaA,IAAE,QAAQA,IAAE,YAAY,QAAQ;AAC1F,WAAO,MAAMA,IAAE,SAASA,IAAE,CAAC,IAAI;AAAA,EACjC;AAAA,EACA,IAAI,mBAAmB;AACrB,UAAM;AAAA,MACJ,QAAQA;AAAA,IACV,IAAI;AACJ,WAAO;AAAA,MACL,eAAe,KAAK;AAAA,MACpB,cAAc,KAAK;AAAA,MACnB,mBAAmB,KAAK;AAAA,MACxB,+BAA+B,KAAK;AAAA,MACpC,WAAW;AAAA,QACT,gBAAgB,MAAMA,IAAE,KAAK,WAAW;AAAA,UACtC,MAAM;AAAA,UACN,QAAQ,KAAK;AAAA,QACf,CAAC;AAAA,QACD,WAAW,MAAMA,IAAE,KAAK,WAAW;AAAA,UACjC,MAAM;AAAA,UACN,QAAQ,KAAK;AAAA,QACf,CAAC;AAAA,QACD,eAAe,MAAMA,IAAE,KAAK,WAAW;AAAA,UACrC,MAAM;AAAA,UACN,QAAQ,KAAK;AAAA,QACf,CAAC;AAAA,QACD,aAAa,MAAMA,IAAE,KAAK,QAAQ;AAAA,UAChC,MAAM;AAAA,UACN,QAAQ,KAAK;AAAA,UACb,IAAI;AAAA,UACJ,IAAI;AAAA,QACN,CAAC;AAAA,QACD,QAAQ,MAAMA,IAAE,KAAK,QAAQ;AAAA,UAC3B,MAAM;AAAA,UACN,QAAQ,KAAK;AAAA,UACb,IAAI;AAAA,UACJ,IAAI;AAAA,QACN,CAAC;AAAA,QACD,YAAY,MAAMA,IAAE,KAAK,QAAQ;AAAA,UAC/B,MAAM;AAAA,UACN,QAAQ,KAAK;AAAA,UACb,IAAI;AAAA,UACJ,IAAI;AAAA,QACN,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACA,SAAS,KAAK;AACZ,SAAO,CAAAA,QAAK;AACV,UAAM;AAAA,MACJ,WAAWI;AAAA,MACX,QAAQC;AAAA,IACV,IAAIL;AACJ,WAAO,QAAQI,MAAK,QAAQC,MAAIL,OAAK,YAAYA,IAAE,UAAUI,GAAE,0BAA0BC,GAAC,GAAG,iCACxFL,MADwF;AAAA,MAE3F,gBAAgBI,GAAE,sBAAsBC,GAAC;AAAA,IAC3C;AAAA,EACF;AACF;AACA,SAAS,GAAGL,KAAG;AACb,QAAMI,KAAIJ,IAAE,OAAO,GACjBK,MAAID,KAAIJ,IAAE;AACZ,SAAO;AAAA,IACL,MAAMI,KAAIC;AAAA,IACV,cAAcD,KAAIJ,IAAE,eAAeK;AAAA,EACrC;AACF;AACA,SAAS,GAAGL,KAAGI,IAAG;AAChB,SAAO,KAAK,MAAMA,GAAE,CAAC,IAAIJ,IAAE,CAAC,GAAGI,GAAE,CAAC,IAAIJ,IAAE,CAAC,CAAC,IAAI,KAAK,KAAK;AAC1D;AACAA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,gBAAgB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,gBAAgB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,sBAAsB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,eAAe,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,kBAAkB,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EACtP,eAAe;AACjB,CAAC,CAAC,GAAG,GAAG,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,WAAW,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,qBAAqB,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EACvI,UAAU;AACZ,CAAC,CAAC,GAAG,GAAG,WAAW,YAAY,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,gBAAgB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,QAAQ,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,UAAU,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,gBAAgB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,wBAAwB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,iBAAiB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,wBAAwB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,oBAAoB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,mBAAmB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,oBAAoB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,kBAAkB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,gBAAgB,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,oBAAoB,IAAI,GAAG,KAAKA,GAAE,CAAC,EAAE,iEAAiE,CAAC,GAAG,EAAE;AACjuB,IAAM,KAAKA,GAAE,GAAG,GAAG,QAAQ,EAAG,KAAK;AAAnC,IACE,KAAK,EAAE;AADT,IAEE,KAAK;AACP,IAAI;AAAJ,IAAQ;AAAR,IAAY;AACZ,CAAC,SAAUA,KAAG;AACZ,EAAAA,IAAE,SAASe,GAAG,SAASf,IAAE,OAAOe,GAAG;AACrC,EAAE,OAAO,KAAK,CAAC,EAAE,GAAG,SAAUf,KAAG;AAC/B,EAAAA,IAAEA,IAAE,OAAO,CAAC,IAAI,QAAQA,IAAEA,IAAE,SAAS,CAAC,IAAI,UAAUA,IAAEA,IAAE,YAAY,CAAC,IAAI;AAC3E,EAAE,OAAO,KAAK,CAAC,EAAE,GAAG,SAAUA,KAAG;AAC/B,EAAAA,IAAEA,IAAE,MAAM,CAAC,IAAI,OAAOA,IAAEA,IAAE,kBAAkB,CAAC,IAAI;AACnD,EAAE,OAAO,KAAK,CAAC,EAAE;;;ACjkCjB,IAAI+B,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,SAAS,IAAIC,GAAE,GAAG,KAAK,eAAe,MAAI,KAAK,gBAAgB,MAAI,KAAK,mBAAmB,MAAI,KAAK,uBAAuB,MAAI,KAAK,uBAAuB,OAAI,KAAK,kBAAkB,MAAI,KAAK,mBAAmB,OAAI,KAAK,OAAO,cAAc,KAAK,gBAAgB,IAAIH,GAAE,GAAG,KAAK,kBAAkB,MAAM,KAAK,gCAAgC;AAAA,EACjW;AAAA,EACA,aAAa;AACX,UAAME,MAAI,KAAK,oBAAoB,IAAI,GAAE;AAAA,MACvC,MAAM;AAAA,IACR,CAAC;AACD,SAAK,WAAW,CAACA,IAAE,OAAO,GAAG,WAAW,CAAAA,QAAK,KAAK,OAAO,KAAK,WAAWA,GAAC,CAAC,GAAGA,IAAE,OAAO,GAAG,QAAQ,CAAAA,QAAK,KAAK,OAAO,KAAK,QAAQA,GAAC,CAAC,GAAGA,IAAE,OAAO,GAAG,cAAc,CAAAA,QAAK,KAAK,OAAO,KAAK,cAAcA,GAAC,CAAC,GAAGA,IAAE,OAAO,GAAG,iBAAiB,CAAAA,QAAK,KAAK,OAAO,KAAK,iBAAiBA,GAAC,CAAC,GAAGA,IAAE,OAAO,GAAG,mBAAmB,CAAAA,QAAK,KAAK,OAAO,KAAK,mBAAmB,iCACpVA,MADoV;AAAA,MAEvV,QAAQ,KAAK;AAAA,IACf,EAAC,CAAC,GAAG,KAAK,KAAK,GAAG,gBAAgB,CAAC,OAAO,GAAG,CAAAA,QAAKA,IAAE,gBAAgB,CAAC,CAAC,CAAC,GAAG,KAAK,mBAAmB;AAAA,EACpG;AAAA,EACA,UAAU;AACR,SAAK,oBAAoB,EAAE,KAAK,iBAAiB;AAAA,EACnD;AAAA,EACA,IAAI,WAAW;AACb,aAAS,KAAK,OAAO,YAAY,UAAO,KAAK,mBAAmB,aAAa;AAAA,EAC/E;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,KAAK,mBAAmB,qBAAqB;AAAA,EACtD;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,mBAAmB,WAAW;AAAA,EAC5C;AAAA,EACA,gCAAgC;AAC9B,SAAK,qBAAqB,KAAK,kBAAkB,8BAA8B;AAAA,EACjF;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,kBAAkB,WAAW;AAAA,EAC3C;AAAA,EACA,OAAO;AACL,YAAQ,KAAK,mBAAmB,KAAK,gBAAgB,aAAa,GAAG,KAAK,kBAAkB,KAAK;AAAA,EACnG;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,kBAAkB,WAAW;AAAA,EAC3C;AAAA,EACA,OAAO;AACL,YAAQ,KAAK,mBAAmB,KAAK,gBAAgB,aAAa,GAAG,KAAK,kBAAkB,KAAK;AAAA,EACnG;AAAA,EACA,aAAaA,KAAG;AACd,UAAME,KAAI,KAAK;AACf,SAAK,CAACA,MAAKA,GAAE,sBAAsB,CAACC,GAAEH,KAAGE,GAAE,OAAO,MAAM,KAAK,wBAAwB,eAAeF,IAAE,QAAQI,GAAE,OAAO,SAASJ,IAAE,GAAG,GAAG;AACtI,WAAK,kBAAkB,uBAAuB,IAAI,KAAKA,IAAE,gBAAgB;AAAA,IAC3E;AAAA,EACF;AAAA,EACA,QAAQ;AAAA,EAAC;AAAA,EACT,IAAI,OAAO;AAAA,EAAC;AACd;AACAA,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,qBAAqB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,QAAQ,MAAM,GAAGE,GAAE,CAAC,EAAE;AAAA,EAC9F,eAAe;AACjB,CAAC,CAAC,GAAGF,IAAE,WAAW,UAAU,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,gBAAgB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,iBAAiB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,oBAAoB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,wBAAwB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,wBAAwB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,mBAAmB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,oBAAoB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,QAAQ,MAAM,GAAGE,GAAE,CAAC,EAAE;AAAA,EACpb,MAAMF;AACR,CAAC,CAAC,GAAGA,IAAE,WAAW,iBAAiB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,mBAAmB,MAAM,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,YAAY,IAAI,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,qBAAqB,IAAI,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,WAAW,IAAI,GAAGE,GAAE,CAAC,EAAE,CAAC,GAAGF,IAAE,WAAW,iCAAiC,MAAM,GAAGA,MAAIE,GAAE,CAAC,EAAE,8DAA8D,CAAC,GAAGF,GAAC;;;ACxD7W,IAAIO,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,oBAAoB;AAAA,EACrC;AAAA,EACA,aAAa;AACX,SAAK,WAAW,CAAC,EAAE,MAAM;AACvB,YAAMA,KAAI,KAAK;AACf,aAAOA,MAAKA,GAAE,UAAUA,GAAE,gBAAgB;AAAA,QACxC,kBAAkBA;AAAA,QAClB,OAAOA,GAAE,MAAM;AAAA,MACjB,IAAI;AAAA,IACN,GAAG,CAAC;AAAA,MACF,kBAAkBA;AAAA,IACpB,MAAM;AACJ,WAAK,oBAAoBA,EAAC;AAAA,IAC5B,GAAG,CAAC,GAAG,EAAE,MAAM;AACb,YAAMA,KAAI,KAAK;AACf,aAAOA,MAAKA,GAAE,UAAUA,GAAE,gBAAgB;AAAA,QACxC,kBAAkBA;AAAA,QAClB,OAAOA,GAAE,MAAM;AAAA,MACjB,IAAI;AAAA,IACN,GAAG,CAAC;AAAA,MACF,kBAAkBA;AAAA,IACpB,MAAM;AACJ,WAAK,gBAAgBA,EAAC;AAAA,IACxB,GAAG,CAAC,CAAC,CAAC;AAAA,EACR;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,mBAAmB,gBAAgB;AAAA,EACjD;AAAA,EACA,IAAI,QAAQ;AACV,UAAMA,KAAI,KAAK,SAAS;AACxB,QAAI,QAAQA,GAAG,QAAO,KAAK,mBAAmB,SAAS;AACvD,UAAMC,MAAIC,GAAEF,GAAE,QAAQ,EAAE,CAAC;AACzB,WAAO,KAAK,IAAIC,GAAC,IAAI,WAAUE,GAAEC,GAAEJ,GAAE,QAAQ,CAAC,IAAI,KAAK,KAAKC,GAAC,IAAI;AAAA,EACnE;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,CAAC,KAAK;AAAA,EACf;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,QAAQ,KAAK;AAAA,EAC3B;AAAA,EACA,IAAI,yBAAyB;AAC3B,WAAO,CAAC,KAAK;AAAA,EACf;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,mBAAmB,SAAS;AAAA,EAC1C;AAAA,EACA,mBAAmB;AACjB,UAAMD,KAAI,IAAIK,GAAE;AAAA,MACd,OAAO,KAAK;AAAA,IACd,CAAC;AACD,SAAK,oBAAoBL;AACzB,UAAMC,MAAI,MAAM;AACd,WAAK,oBAAoB;AAAA,IAC3B;AACA,WAAO;AAAA,MACL,OAAOD;AAAA,MACP,MAAMC;AAAA,MACN,QAAQ,MAAM;AACZ,QAAAD,GAAE,OAAO,GAAGC,IAAE;AAAA,MAChB;AAAA,IACF;AAAA,EACF;AAAA,EACA,mBAAmB;AACjB,WAAO,KAAK,OAAO,iBAAiB;AAAA,EACtC;AAAA,EACA,oBAAoBD,IAAG;AACrB,UAAM;AAAA,MACJ,OAAOC;AAAA,MACP,eAAeK;AAAA,IACjB,IAAIN;AACJ,IAAAA,GAAE,gBAAgBC;AAClB,UAAMM,MAAI,EAAEN,MAAIK,GAAC;AACjB,SAAK,SAAS,OAAO,GAAG,GAAGC,KAAG;AAAA,MAC5B,QAAQ,KAAK,SAAS;AAAA,IACxB,CAAC;AAAA,EACH;AAAA,EACA,gBAAgBP,IAAG;AACjB,UAAM;AAAA,MACJ,OAAOC;AAAA,MACP,eAAeK;AAAA,IACjB,IAAIN;AACJ,IAAAA,GAAE,gBAAgBC;AAClB,UAAMO,MAAIP,MAAIK,KACZC,MAAI,KAAK,SAAS;AACpB,SAAK,SAAS,MAAMC,KAAG;AAAA,MACrB,QAAQD;AAAA,IACV,CAAC;AAAA,EACH;AACF;AACAN,GAAE,CAAC,EAAE;AAAA,EACH,eAAe;AACjB,CAAC,CAAC,GAAGH,IAAE,WAAW,UAAU,MAAM,GAAGG,GAAE,CAAC,EAAE;AAAA,EACxC,eAAe;AACjB,CAAC,CAAC,GAAGH,IAAE,WAAW,YAAY,MAAM,GAAGG,GAAE,CAAC,EAAE;AAAA,EAC1C,eAAe;AACjB,CAAC,CAAC,GAAGH,IAAE,WAAW,eAAe,MAAM,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,IAAE,WAAW,gBAAgB,IAAI,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,IAAE,WAAW,SAAS,IAAI,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,IAAE,WAAW,kBAAkB,IAAI,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,IAAE,WAAW,iBAAiB,IAAI,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,IAAE,WAAW,0BAA0B,IAAI,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,IAAE,WAAW,SAAS,IAAI,GAAGG,GAAE,CAAC,EAAE,CAAC,GAAGH,IAAE,WAAW,qBAAqB,MAAM,GAAGA,MAAIG,GAAE,CAAC,EAAE,yEAAyE,CAAC,GAAGH,GAAC;AAClc,IAAIO,KAAI,cAAcN,GAAE;AAAA,EACtB,IAAI,QAAQ;AACV,UAAM;AAAA,MACJ,OAAOC;AAAA,MACP,OAAOC;AAAA,IACT,IAAI;AACJ,WAAO;AAAA,MACL,OAAOD;AAAA,MACP,OAAOC;AAAA,IACT;AAAA,EACF;AAAA,EACA,YAAYD,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,QAAQ,GAAG,KAAK,eAAe,GAAG,KAAK,gBAAgB,GAAG,KAAK,gBAAgB,GAAG,KAAK,QAAQ,GAAG,KAAK,eAAeA,GAAE,OAAO,KAAK,gBAAgBA,GAAE;AAAA,EACvK;AAAA,EACA,SAAS;AACP,SAAK,QAAQ,KAAK,cAAc,KAAK,QAAQ;AAAA,EAC/C;AACF;AACAC,GAAE,CAAC,EAAE,CAAC,GAAGI,GAAE,WAAW,SAAS,MAAM,GAAGJ,GAAE,CAAC,EAAE,CAAC,GAAGI,GAAE,WAAW,gBAAgB,MAAM,GAAGJ,GAAE,CAAC,EAAE,CAAC,GAAGI,GAAE,WAAW,iBAAiB,MAAM,GAAGJ,GAAE,CAAC,EAAE,CAAC,GAAGI,GAAE,WAAW,iBAAiB,MAAM,GAAGJ,GAAE,CAAC,EAAE,CAAC,GAAGI,GAAE,WAAW,SAAS,MAAM,GAAGJ,GAAE,CAAC,EAAE,CAAC,GAAGI,GAAE,WAAW,SAAS,IAAI,GAAGA,KAAIJ,GAAE,CAAC,EAAE,0FAA0F,CAAC,GAAGI,EAAC;;;ACrH7W,IAAII,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,WAAW,MAAM,KAAK,oBAAoB;AAAA,EAC3D;AAAA,EACA,aAAa;AACX,SAAK,WAAW,EAAE,MAAM,QAAQ,KAAK,oBAAoB,KAAK,kBAAkB,QAAQ,MAAM,CAAAA,OAAK;AACjG,WAAK,cAAcA,EAAC;AAAA,IACtB,GAAG,CAAC,CAAC;AAAA,EACP;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,mBAAmB,gBAAgB;AAAA,EACjD;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,QAAQ,KAAK,oBAAoB,KAAK,kBAAkB,QAAQ,QAAQ,KAAK,mCAAmCC,GAAE,KAAK,iCAAiC,WAAW,CAAC,IAAI;AAAA,EACjL;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,CAAC,KAAK;AAAA,EACf;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,uBAAuB;AACzB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,QAAQ,KAAK;AAAA,EAC3B;AAAA,EACA,IAAI,yBAAyB;AAC3B,WAAO,CAAC,KAAK;AAAA,EACf;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,mBAAmB,SAAS;AAAA,EAC1C;AAAA,EACA,IAAI,OAAO;AACT,UAAMD,KAAI,KAAK;AACf,QAAI,QAAQA,GAAG,QAAO;AACtB,UAAME,MAAI,KAAK,cAAc,GAC3BC,MAAI,KAAK;AACX,QAAI,QAAQD,OAAK,QAAQC,OAAK,eAAeA,IAAE,KAAM,QAAO;AAC5D,UAAMC,MAAIF,IAAE,mBAAmBC,KAAGH,EAAC;AACnC,QAAI,UAAUI,OAAK,QAAQA,IAAE,KAAM,QAAOA,IAAE;AAC5C,UAAMC,MAAI,KAAK;AACf,WAAO,EAAE,WAAWD,QAAM,QAAQA,IAAE,SAAS,QAAQC,OAAK,YAAYA,OAAK,UAAUA,OAAK,sBAAsBA,MAAI,EAAE,WAAWD,QAAM,QAAQJ,GAAE,SAAS,QAAQK,OAAK,YAAYA,OAAK,UAAUA,OAAK,sBAAsBA,MAAI,EAAE,YAAYD,QAAM,QAAQJ,GAAE,UAAU,QAAQK,OAAK,aAAaA,OAAK,UAAUA,MAAI,OAAOD,IAAE,SAASA,IAAE,QAAQA,IAAE;AAAA,EACtV;AAAA,EACA,IAAI,4BAA4B;AAC9B,UAAMJ,KAAI,KAAK;AACf,WAAO,QAAQA,MAAK,MAAMA,GAAE,aAAa,SAAS,OAAOA,GAAE,aAAa,KAAK,CAAAA,QAAK,aAAaA,IAAE,IAAI;AAAA,EACvG;AAAA,EACA,IAAI,mCAAmC;AACrC,UAAMA,KAAI,KAAK;AACf,WAAO,QAAQA,MAAK,MAAMA,GAAE,aAAa,SAAS,OAAOA,GAAE,aAAa,KAAK,CAAAA,QAAK,aAAaA,IAAE,QAAQ,QAAQA,IAAE,OAAO;AAAA,EAC5H;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,QAAQ,KAAK,SAAS,UAAU,eAAe,KAAK,QAAQ,OAAO,OAAO,KAAK,QAAQ,SAAS;AAAA,EACzG;AAAA,EACA,IAAI,eAAeA,IAAG;AACpB,SAAK,QAAQ,SAASA;AAAA,EACxB;AAAA,EACA,mBAAmB;AACjB,UAAMA,KAAI,KAAK,gBACbE,MAAI,KAAK,cAAc;AACzB,QAAI,QAAQ,KAAK,qBAAqB,QAAQF,MAAK,QAAQE,IAAG,QAAOI;AACrE,UAAMH,MAAIH,GAAE,aAAa,IAAI,CAAAG,QAAK,aAAaA,IAAE,OAAOD,IAAE,mBAAmBF,IAAGG,GAAC,IAAI,IAAI,EAAE,QAAQ,GACjGC,MAAIJ,GAAE,MAAM,GACZK,MAAI,KAAK,OACTE,MAAI,IAAIC,IAAE;AAAA,MACR,gBAAgBJ;AAAA,MAChB,OAAOC;AAAA,MACP,cAAcF;AAAA,IAChB,CAAC;AACH,SAAK,oBAAoBI;AACzB,UAAME,MAAI,MAAM;AACd,WAAK,oBAAoB;AAAA,IAC3B;AACA,WAAO;AAAA,MACL,OAAOF;AAAA,MACP,MAAME;AAAA,MACN,QAAQ,MAAM;AACZ,aAAK,iBAAiBL,KAAGK,IAAE;AAAA,MAC7B;AAAA,IACF;AAAA,EACF;AAAA,EACA,mBAAmB;AACjB,QAAIT,KAAI,KAAK,QAAQ,QACnBE,MAAI;AACN,WAAO;AAAA,MACL,MAAM,CAAAC,QAAK;AACT,QAAAD,MAAIC,IAAE,QAAQA,IAAE,SAASH;AAAA,MAC3B;AAAA,MACA,MAAM,CAAAG,QAAK;AACT,QAAAH,KAAIG,IAAE,QAAQA,IAAE,SAASD;AAAA,MAC3B;AAAA,IACF;AAAA,EACF;AAAA,EACA,cAAc;AAAA,IACZ,OAAOF;AAAA,IACP,OAAOE;AAAA,IACP,gBAAgBE;AAAA,IAChB,cAAcC;AAAA,EAChB,GAAG;AACD,UAAME,MAAI,KAAK;AACf,QAAI,QAAQA,OAAK,eAAeA,IAAE,KAAM;AACxC,UAAME,MAAIF,IAAE,MAAM,GAChBG,KAAI,CAAC,EAAER,MAAI,KAAK,YAAY;AAC9B,QAAIJ,MAAI;AACR,SAAK,8BAA8BM,KAAGK,KAAG,CAACP,KAAGC,KAAGC,QAAM;AACpD,YAAMG,OAAKL,IAAE,WAAW,KAAKQ;AAC7B,MAAAP,IAAE,YAAYI,QAAMJ,IAAE,UAAUI,KAAGT,MAAI;AACvC,YAAMW,MAAIJ,IAAED,GAAC;AACb,UAAI,QAAQK,OAAK,WAAWA,KAAG;AAC7B,QAAAA,IAAE,QAAQ,KAAK,WAAWA,IAAE,KAAK,GAAGA,IAAE,SAAS,KAAK,WAAWA,IAAE,MAAM,GAAGA,IAAE,QAAQ,KAAK,WAAWA,IAAE,KAAK;AAC3G,cAAMP,MAAIO,IAAE,QAAQT;AACpB,QAAAG,IAAE,UAAUD,QAAMC,IAAE,QAAQD,KAAGJ,MAAI;AACnC,cAAMM,MAAIK,IAAE,QAAQT;AACpB,QAAAG,IAAE,UAAUC,QAAMD,IAAE,QAAQC,KAAGN,MAAI;AACnC,cAAMO,MAAII,IAAE,SAAST;AACrB,QAAAG,IAAE,WAAWE,QAAMF,IAAE,SAASE,KAAGP,MAAI;AAAA,MACvC;AAAA,IACF,CAAC,GAAGA,QAAM,KAAK,iBAAiBW;AAAA,EAClC;AAAA,EACA,8BAA8BT,IAAGE,KAAGC,KAAG;AACrC,IAAAH,GAAE,aAAa,QAAQ,CAACA,KAAGI,QAAM;AAC/B,YAAMC,MAAIH,IAAE,aAAa,GAAGE,GAAC;AAC7B,mBAAaJ,IAAE,QAAQ,aAAaK,IAAE,QAAQF,IAAEH,KAAGK,KAAGD,GAAC;AAAA,IACzD,CAAC;AAAA,EACH;AACF;AACA,SAASH,GAAED,IAAG;AACZ,SAAO,CAACM,GAAEN,EAAC;AACb;AACAE,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,gBAAgB,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,SAAS,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,kBAAkB,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,eAAe,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,wBAAwB,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,iBAAiB,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,0BAA0B,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,SAAS,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,QAAQ,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,YAAY,MAAM,GAAGI,GAAE,CAAC,EAAE;AAAA,EACjc,eAAe;AACjB,CAAC,CAAC,GAAGJ,IAAE,WAAW,WAAW,MAAM,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,qBAAqB,MAAM,GAAGI,GAAE,CAAC,EAAE;AAAA,EAC7F,eAAe;AACjB,CAAC,CAAC,GAAGJ,IAAE,WAAW,iBAAiB,MAAM,GAAGI,GAAE,CAAC,EAAE;AAAA,EAC/C,eAAe;AACjB,CAAC,CAAC,GAAGJ,IAAE,WAAW,cAAc,MAAM,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,6BAA6B,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,oCAAoC,IAAI,GAAGI,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,kBAAkB,IAAI,GAAGA,MAAII,GAAE,CAAC,EAAE,mFAAmF,CAAC,GAAGJ,GAAC;AACpT,IAAMQ,MAAI;AAAA,EACR,OAAO;AAAA,IACL,OAAO;AAAA,IACP,OAAO;AAAA,EACT;AAAA,EACA,MAAM,MAAM;AAAA,EAAC;AAAA,EACb,QAAQ,MAAM;AAAA,EAAC;AACjB;AACA,IAAIE,MAAI,cAAcT,GAAE;AAAA,EACtB,IAAI,QAAQ;AACV,UAAM;AAAA,MACJ,gBAAgBC;AAAA,MAChB,OAAOE;AAAA,MACP,cAAcC;AAAA,MACd,OAAOC;AAAA,MACP,cAAcC;AAAA,IAChB,IAAI;AACJ,WAAO;AAAA,MACL,gBAAgBL;AAAA,MAChB,OAAOE;AAAA,MACP,cAAcC;AAAA,MACd,OAAOC;AAAA,MACP,cAAcC;AAAA,IAChB;AAAA,EACF;AAAA,EACA,YAAYL,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,QAAQ,GAAG,KAAK,eAAe,GAAG,KAAK,QAAQ,GAAG,KAAK,eAAeA,GAAE;AAAA,EACzF;AACF;AACAE,GAAE,CAAC,EAAE,CAAC,GAAGM,IAAE,WAAW,kBAAkB,MAAM,GAAGN,GAAE,CAAC,EAAE,CAAC,GAAGM,IAAE,WAAW,SAAS,MAAM,GAAGN,GAAE,CAAC,EAAE,CAAC,GAAGM,IAAE,WAAW,gBAAgB,MAAM,GAAGN,GAAE,CAAC,EAAE,CAAC,GAAGM,IAAE,WAAW,gBAAgB,MAAM,GAAGN,GAAE,CAAC,EAAE,CAAC,GAAGM,IAAE,WAAW,SAAS,MAAM,GAAGN,GAAE,CAAC,EAAE,CAAC,GAAGM,IAAE,WAAW,SAAS,IAAI,GAAGA,MAAIN,GAAE,CAAC,EAAE,oGAAoG,CAAC,GAAGM,GAAC;;;ACxKvX,IAAIG,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,OAAO,sBAAsB,KAAK,cAAc,MAAM,KAAK,uBAAuB,MAAM,KAAK,eAAe,cAAc,KAAK,OAAO,MAAM,KAAK,gBAAgB,MAAM,KAAK,WAAW;AAAA,EACxM;AACF;AACAF,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,eAAe,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,wBAAwB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,gBAAgB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,iBAAiB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,YAAY,MAAM,GAAGA,MAAIA,GAAE,CAAC,EAAE,mEAAmE,CAAC,GAAGA,GAAC;;;ACL9Y,IAAIG,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,OAAO,oBAAoB,KAAK,WAAW,MAAM,KAAK,oBAAoB,MAAM,KAAK,cAAc,MAAM,KAAK,uBAAuB,MAAM,KAAK,eAAe;AAAA,EAChL;AACF;AACAF,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,YAAY,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,qBAAqB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,eAAe,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,wBAAwB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,gBAAgB,MAAM,GAAGA,MAAIA,GAAE,CAAC,EAAE,iEAAiE,CAAC,GAAGA,GAAC;;;ACLzW,IAAIG,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,OAAO,mBAAmB,KAAK,OAAO,MAAM,KAAK,WAAW,MAAM,KAAK,gBAAgB;AAAA,EACxG;AACF;AACAF,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,SAAS,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,YAAY,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAGA,IAAE,WAAW,iBAAiB,MAAM,GAAGA,MAAIA,GAAE,CAAC,EAAE,gEAAgE,CAAC,GAAGA,GAAC;;;AC2B/R,IAAI;AACJ,CAAC,SAAUG,IAAG;AACZ,EAAAA,GAAE,UAAUC,GAAG,SAASD,GAAE,WAAWC,GAAG,SAASD,GAAE,aAAaC,GAAG,SAASD,GAAE,cAAcC,GAAG,SAASD,GAAE,WAAWC,GAAG,SAASD,GAAE,iBAAiBC,GAAG,SAASD,GAAE,aAAaC,GAAG;AACpL,EAAE,OAAO,KAAK,CAAC,EAAE;AACjB,IAAI,KAAK,cAAcC,GAAE;AAAA,EACvB,IAAI,QAAQ;AACV,WAAO,KAAK,QAAQ;AAAA,EACtB;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,QAAQ;AAAA,EACtB;AAAA,EACA,IAAI,SAASF,IAAG;AACd,SAAK,iBAAiB,WAAWA;AAAA,EACnC;AAAA,EACA,IAAI,yBAAyBA,IAAG;AAC9B,SAAK,iBAAiB,2BAA2BA;AAAA,EACnD;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,iBAAiB;AAAA,EAC/B;AAAA,EACA,IAAI,YAAYA,IAAG;AACjB,SAAK,iBAAiB,cAAcA;AAAA,EACtC;AAAA,EACA,IAAI,WAAW;AACb,WAAO,CAAC,CAAC,KAAK;AAAA,EAChB;AAAA,EACA,IAAI,0BAA0B;AAC5B,WAAO,KAAK,cAAc,SAAS,oBAAoB,KAAK;AAAA,EAC9D;AAAA,EACA,YAAYA,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,OAAO,MAAM,KAAK,iBAAiB,MAAI,KAAK,uBAAuB,MAAM,KAAK,mBAAmB,MAAM,KAAK,wBAAwBG,IAAG,KAAK,uBAAuB,MAAM,KAAK,oBAAoB,MAAM,KAAK,qBAAqB,MAAM,KAAK,SAAS,IAAIC,GAAE,GAAG,KAAK,aAAa,MAAM,KAAK,iBAAiB,SAAS,KAAK,WAAW,MAAM,YAAY,KAAK,sBAAsB,OAAO,KAAK,QAAQ,QAAQ;AAAA,EACha;AAAA,EACA,aAAa;AACX,SAAK,UAAU,IAAIC,GAAG;AAAA,MACpB,MAAM,KAAK,KAAK;AAAA,IAClB,CAAC,GAAG,KAAK,mBAAmB,GAAG,KAAK,iBAAiB,GAAG,KAAK,4BAA4B,GAAG,KAAK,WAAW,CAAC,EAAE,MAAM,CAAC,KAAK,yBAAyB,MAAM,KAAK,QAAQ,MAAM,GAAG,CAAC,GAAGC,GAAE,MAAM;AAC1L,YAAM;AAAA,QACF,SAASN;AAAA,MACX,IAAI,MACJ;AAAA,QACE,MAAMO;AAAA,MACR,IAAI,KAAK;AACX,aAAOA,QAAM,KAAK,wBAAwB,KAAK,WAAW,IAAI,CAACA,KAAGP,GAAE,MAAMA,GAAE,oBAAoB,IAAI,CAAC,IAAI;AAAA,IAC3G,GAAG,CAAC,CAACA,EAAC,MAAM;AACV,MAAAA,MAAK,KAAK,oBAAoB;AAAA,IAChC,CAAC,GAAGM,GAAE,MAAM;AACV,YAAM;AAAA,QACJ,SAASN;AAAA,MACX,IAAI;AACJ,aAAO,CAACA,GAAE,OAAOA,GAAE,KAAK;AAAA,IAC1B,GAAG,MAAM,KAAK,4BAA4B,CAAC,CAAC,CAAC;AAAA,EAC/C;AAAA,EACA,UAAU;AACR,SAAK,kBAAkB,UAAU,OAAO,GAAG,KAAK,mBAAmB,MAAM,KAAK,KAAK,aAAa,OAAO,KAAK,gBAAgB,GAAG,KAAK,mBAAmB,MAAM,KAAK,UAAU,EAAE,KAAK,OAAO;AAAA,EAC5L;AAAA,EACA,eAAeA,IAAG;AAChB,SAAK,sBAAsB,GAAGA,GAAE,MAAM;AACtC,UAAMO,MAAI,EAAE;AAAA,MACV,QAAQ,CAAC;AAAA,QACP,WAAWA;AAAA,MACb,MAAM;AACJ,QAAAP,GAAE,OAAOO,GAAC,KAAK,KAAK,sBAAsB;AAAA,MAC5C;AAAA,IACF,CAAC;AACD,SAAK,mBAAmB,iCACnBP,KADmB;AAAA,MAEtB,WAAWO;AAAA,IACb;AAAA,EACF;AAAA,EACA,wBAAwB;AACtB,SAAK,kBAAkB,UAAU,OAAO,GAAG,KAAK,mBAAmB,EAAE,KAAK,gBAAgB;AAAA,EAC5F;AAAA,EACA,mBAAmBP,IAAG;AACpB,IAAAA,GAAE,KAAK,kBAAkBQ,GAAE,YAAY;AAAA,EACzC;AAAA,EACA,qBAAqB;AACnB,UAAMR,KAAI,KAAK,uBAAuB;AACtC,SAAK,mBAAmBA,IAAG,KAAK,KAAK,aAAa,IAAIA,EAAC;AACvD,UAAMO,MAAI,KAAK,KAAK,QAClBE,MAAIC,GAAGV,IAAG,CAACA,KAAGS,KAAGE,QAAM;AACrB,WAAK,uBAAuB;AAC5B,YAAMC,MAAI,KAAK,QAAQ,iBAAiB,GACtCC,MAAI;AAAA,QACF,MAAM;AAAA,QACN,QAAQb,GAAEA,IAAE,cAAc;AAAA,QAC1B,cAAc,KAAK,QAAQ;AAAA,QAC3B,OAAO;AAAA,QACP,UAAU;AAAA,QACV,UAAU;AAAA,MACZ;AACF,WAAK,uBAAuBa,KAAG,KAAK,iBAAiB;AACrD,YAAMC,MAAIA,GAAE,IAAI;AAChB,WAAK,KAAK,KAAK,mBAAmB,kBAAkBd,IAAE,gBAAgBc,GAAC,GAAGL,IAAE,KAAKM,GAAE,KAAK,KAAK,MAAM,EAAEf,IAAE,gBAAgBc,KAAGE,GAAE,CAAC,CAAC,CAAC,EAAE,KAAK,CAAAhB,QAAK;AACzI,cAAMS,MAAIQ,GAAEjB,IAAE,KAAK,GACjBW,MAAIO,GAAElB,IAAE,aAAaA,IAAE,WAAWa,IAAE,QAAQJ,GAAC,GAC7CK,MAAIK,GAAE,mBAAmBN,IAAE,OAAOF,GAAC;AACrC,QAAAE,IAAE,WAAWN,GAAEM,IAAE,WAAWC,KAAG,CAACM,IAAGA,EAAC,GAAGP,IAAE,QAAQF;AACjD,cAAMD,MAAI,GAAGG,KAAGb,GAAC,GACfK,MAAIK,MAAI,KAAK,QAAQ;AACvB,YAAIG,IAAE,WAAWN,GAAEM,IAAE,WAAWR,KAAG,CAACgB,IAAGA,EAAC,GAAG,KAAK,gBAAgB,GAAG,WAAWR,IAAE,MAAM;AACpF,gBAAMJ,MAAI,KAAK,QAAQ,GAAGT,KAAGA,IAAE,OAAOa,IAAE,QAAQ,KAAK,KAAK,KAAK,MAAM,MAAM;AAC3E,cAAI,QAAQJ,KAAG;AACb,oBAAQA,KAAG;AAAA,cACT,KAAK;AACH,qBAAK,KAAK,OAAO,KAAK,gBAAgB;AAAA,kBACpC,QAAQF;AAAA,kBACR,OAAO;AAAA,gBACT,CAAC,GAAG,KAAK,KAAK,OAAO,KAAK,eAAe;AAAA,kBACvC,SAAS,CAAC,KAAK,QAAQ,iBAAiB,CAAC;AAAA,gBAC3C,CAAC;AACD;AAAA,cACF,KAAK;AACH,qBAAK,KAAK,OAAO,KAAK,eAAe;AAAA,kBACnC,QAAQA;AAAA,kBACR,QAAQ;AAAA,kBACR,QAAQ;AAAA,gBACV,CAAC,GAAG,KAAK,KAAK,OAAO,KAAK,eAAe;AAAA,kBACvC,SAAS,CAAC,KAAK,QAAQ,iBAAiB,CAAC;AAAA,gBAC3C,CAAC;AAAA,YACL;AACA,YAAAM,IAAE,OAAOJ;AAAA,UACX;AAAA,QACF;AACA,gBAAQI,IAAE,MAAM;AAAA,UACd,KAAK;AACH,YAAAD,IAAE,MAAM,QAAQC,IAAE,eAAeF;AACjC;AAAA,UACF,KAAK;AACH,YAAAC,IAAE,MAAM,QAAQF,KAAG,KAAK,gBAAgB;AAAA,QAC5C;AACA,gBAAQ,KAAK,iBAAiB,GAAG,KAAK,4BAA4B,GAAGV,IAAE,QAAQ;AAAA,UAC7E,KAAK;AAAA,UACL,KAAK;AACH,oBAAQa,IAAE,MAAM;AAAA,cACd,KAAK;AACH,qBAAK,KAAK,OAAO,KAAK,UAAU;AAAA,kBAC9B,QAAQN;AAAA,kBACR,OAAO,EAAEM,IAAE,KAAK;AAAA,gBAClB,CAAC;AACD;AAAA,cACF,KAAK;AACH,qBAAK,KAAK,OAAO,KAAK,SAAS;AAAA,kBAC7B,QAAQN;AAAA,kBACR,QAAQG;AAAA,kBACR,QAAQA;AAAA,gBACV,CAAC;AAAA,YACL;AACA;AAAA,UACF,KAAK;AACH,oBAAQG,IAAE,MAAM;AAAA,cACd,KAAK;AACH,qBAAK,KAAK,OAAO,KAAK,eAAe;AAAA,kBACnC,QAAQN;AAAA,kBACR,OAAO,EAAEM,IAAE,KAAK;AAAA,gBAClB,CAAC;AACD;AAAA,cACF,KAAK;AACH,qBAAK,KAAK,OAAO,KAAK,cAAc;AAAA,kBAClC,QAAQN;AAAA,kBACR,QAAQG;AAAA,kBACR,QAAQA;AAAA,gBACV,CAAC;AAAA,YACL;AAAA,QACJ;AACA,eAAO,UAAUV,IAAE,WAAW,KAAK,eAAe,GAAG,MAAM,MAAM,KAAK,gBAAgB,CAAC,CAAC,GAAG,KAAK,uBAAuB,MAAM,KAAK,iBAAiB,GAAGY,IAAE,KAAK,IAAIZ;AAAA,MACnK,CAAC,EAAE,KAAK,KAAK,2BAA2Ba,GAAC,CAAC,GAAGF,IAAE,KAAK,MAAM;AACxD,YAAIC,IAAE,OAAO,GAAG,QAAQ,KAAK,sBAAsB;AACjD,kBAAQ,KAAK,qBAAqB,MAAM;AAAA,YACtC,KAAK;AACH;AAAA,YACF,KAAK;AACH,mBAAK,KAAK,OAAO,KAAK,eAAe;AAAA,gBACnC,QAAQL;AAAA,gBACR,OAAO;AAAA,cACT,CAAC;AACD;AAAA,YACF,KAAK;AACH,mBAAK,KAAK,OAAO,KAAK,cAAc;AAAA,gBAClC,QAAQA;AAAA,gBACR,QAAQ;AAAA,gBACR,QAAQ;AAAA,cACV,CAAC;AAAA,UACL;AACA,eAAK,eAAe,GAAG,MAAM,MAAM,KAAK,gBAAgB,CAAC,CAAC,GAAG,KAAK,uBAAuB,MAAM,KAAK,iBAAiB;AAAA,QACvH;AACA,aAAK,oBAAoB;AAAA,MAC3B,CAAC;AAAA,IACH,CAAC;AACH,SAAK,WAAW,CAACE,KAAGT,GAAE,OAAO,GAAG,iBAAiB,CAAAA,QAAK;AACpD,kBAAYA,IAAE,SAAS,KAAK,eAAe,GAAG,MAAM,MAAM,KAAK,2BAA2B,GAAG;AAAA,QAC3F,SAAS,KAAK;AAAA,MAChB,CAAC,CAAC,IAAI,KAAK,2BAA2B;AAAA,IACxC,CAAC,GAAGA,GAAE,OAAO,GAAG,mBAAmB,CAAAA,QAAK;AACtC,MAAAA,IAAE,gBAAgB;AAAA,IACpB,CAAC,GAAGM,GAAE,MAAM,KAAK,KAAK,OAAO,SAAS,CAAAN,QAAK,KAAK,iBAAiB,YAAYA,KAAG,CAAC,CAAC,CAAC;AAAA,EACrF;AAAA,EACA,2BAA2BA,IAAG;AAC5B,WAAO,CAAAO,QAAK;AACV,YAAM;AAAA,QACF,eAAeE;AAAA,MACjB,IAAI,MACJ;AAAA,QACE,iBAAiBL;AAAA,MACnB,IAAIK,IAAE;AACR,UAAI,CAAC,KAAK,wBAAyB,QAAOF;AAC1C,UAAI,UAAUA,IAAE,OAAQ,QAAO,KAAK,oBAAoB,GAAGA;AAC3D,YAAM;AAAA,QACJ,SAASI;AAAA,MACX,IAAI;AACJ,cAAQX,GAAE,MAAM;AAAA,QACd,KAAK,SACH;AACE,UAAAW,IAAE,OAAO,KAAK,sBAAsB,IAAIJ,IAAG;AAAA,YACzC,eAAeE;AAAA,UACjB,CAAC;AACD,gBAAM;AAAA,YACF,MAAMT;AAAA,YACN,OAAOO;AAAA,UACT,IAAI,KAAK,SACTY,KAAIf,KAAG,MACPkB,MAAIX,IAAE;AACR,UAAAW,IAAE,gBAAgBb,KAAGa,IAAE,QAAQX,GAAEJ,GAAC,GAAGe,IAAE,OAAO,QAAQtB,MAAIS,GAAET,KAAG,QAAQ,IAAI,QAAQsB,IAAE,gBAAgB,GAAGH,IAAG,SAAS,GAAGG,IAAE,WAAWH,IAAG;AACvI;AAAA,QACF;AAAA,QACF,KAAK,UACH;AACE,UAAAR,IAAE,OAAO,KAAK,uBAAuB,IAAIJ,IAAG;AAAA,YAC1C,eAAeE;AAAA,UACjB,CAAC;AACD,gBAAM;AAAA,YACF,sBAAsBT;AAAA,YACtB,wBAAwBO;AAAA,UAC1B,IAAI,KAAK,SACTY,KAAIf,KAAG,UACPkB,MAAI,GAAGH,IAAG,SAAS,GACnBP,MAAID,IAAE;AACR,UAAAC,IAAE,gBAAgBH,KAAGG,IAAE,WAAW,QAAQL,MAAIH,GAAEG,KAAG,WAAW,YAAY,IAAI,QAAQK,IAAE,oBAAoBU,KAAGV,IAAE,eAAeO,IAAG,gBAAgB,cAAcP,IAAE,cAAc,QAAQZ,MAAII,GAAEJ,KAAG,WAAW,YAAY,IAAI,QAAQY,IAAE,uBAAuBU;AAC9P;AAAA,QACF;AAAA,MACJ;AACA,aAAOf;AAAA,IACT;AAAA,EACF;AAAA,EACA,sBAAsB;AACpB,UAAM;AAAA,MACF,eAAeP;AAAA,MACf,SAASO;AAAA,IACX,IAAI,MACJ;AAAA,MACE,iBAAiBE;AAAA,IACnB,IAAIT,GAAE;AACR,QAAI,CAAC,KAAK,wBAAyB;AACnC,QAAI,KAAK,WAAW,GAAG;AACrB,YAAMI,MAAIK,KAAG,UACXE,MAAIF,KAAG,MACPU,KAAI,KAAK,MACT;AAAA,QACE,MAAMG;AAAA,QACN,sBAAsBV;AAAA,MACxB,IAAI,KAAK,SACTE,MAAI,QAAQF,QAAM,QAAQO,MAAK,aAAaA,KAC5Cd,MAAI,QAAQiB,QAAM,QAAQH,MAAK,YAAYA;AAC7C,MAAAZ,IAAE,OAAO,KAAK,yBAAyB,IAAIA,IAAG;AAAA,QAC5C,eAAeP;AAAA,MACjB,CAAC;AACD,YAAMC,MAAIM,IAAE;AACZ,MAAAN,IAAE,gBAAgBD,IAAGC,IAAE,cAAca,MAAIV,GAAEQ,KAAG,WAAW,YAAY,IAAI,QAAQX,IAAE,uBAAuB,GAAGG,KAAG,SAAS,GAAGH,IAAE,eAAeG,KAAG,gBAAgB,cAAcH,IAAE,OAAOI,MAAII,GAAEa,KAAG,QAAQ,IAAI,QAAQrB,IAAE,WAAWU,KAAG,MAAMV,IAAE,gBAAgB,GAAGU,KAAG,SAAS;AAAA,IAC7Q,MAAO,CAAAJ,IAAE,MAAM;AAAA,EACjB;AAAA,EACA,kBAAkB;AAChB,SAAK,OAAO,KAAK,eAAe,GAAG,KAAK,4BAA4B;AAAA,EACtE;AAAA,EACA,6BAA6B;AAC3B,SAAK,iBAAiB,mBAAmB,GAAG,gBAAgB,KAAK,WAAW,CAAC,GAAG,KAAK,oBAAoB;AAAA,EAC3G;AAAA,EACA,mBAAmB;AACjB,QAAI,KAAK,iBAAiB,mBAAmB,GAAG,UAAU,EAAE,QAAQ,KAAK,wBAAwB,WAAW,KAAK,sBAAsB,KAAK,GAAG,QAAQ,KAAK,qBAAsB,SAAQ,KAAK,qBAAqB,MAAM;AAAA,MACxN,KAAK;AACH,aAAK,iBAAiB,mBAAmB,GAAG,UAAU,GAAG,UAAU,KAAE,GAAG,KAAK,iBAAiB,mBAAmB,GAAG,YAAY,KAAK,qBAAqB,WAAW,CAAC,GAAG,KAAK,iBAAiB,mBAAmB,GAAG,aAAa,KAAK,qBAAqB,YAAY,CAAC;AACzQ;AAAA,MACF,KAAK;AACH,aAAK,iBAAiB,mBAAmB,GAAG,aAAa,GAAG,aAAa,KAAE,GAAG,KAAK,iBAAiB,mBAAmB,GAAG,SAAS,KAAK,qBAAqB,WAAW,CAAC,GAAG,KAAK,iBAAiB,mBAAmB,GAAG,UAAU,KAAK,qBAAqB,YAAY,CAAC;AAAA,IAC7Q;AAAA,QAAO,MAAK,iBAAiB,mBAAmB,GAAG,UAAU,GAAG,WAAW,GAAG,aAAa,GAAG,aAAa,KAAE;AAAA,EAC/G;AAAA,EACA,8BAA8B;AAC5B,UAAMP,KAAIU,GAAEa,GAAE,IAAI,GAAG,KAAK,QAAQ,OAAOX,GAAE,GAAG,GAAG,CAAC,CAAC;AACnD,QAAI,QAAQZ,GAAG;AACf,UAAMO,MAAI,KAAK,SAAS,GACtBE,MAAIH,GAAEiB,GAAE,IAAI,GAAGnB,GAAEU,GAAE,IAAI,GAAGP,KAAGA,KAAGA,GAAC,CAAC;AACpC,SAAK,iBAAiB,iBAAiB,EAAEgB,GAAE,IAAI,GAAGd,KAAGT,EAAC;AAAA,EACxD;AAAA,EACA,yBAAyB;AACvB,UAAMA,KAAI,CAACA,KAAGO,KAAGE,QAAM;AACnB,YAAML,MAAI,CAAC,GACTO,MAAI,KAAK,KAAKX,MAAMO,MAAIP,QAAM,IAAI,KAAK,GAAG;AAC5C,eAASmB,KAAI,GAAGA,KAAIR,MAAI,GAAGQ,MAAK;AAC9B,cAAMG,MAAItB,MAAImB,MAAKZ,MAAIP,OAAKW;AAC5B,QAAAP,IAAE,KAAKQ,GAAEH,MAAI,KAAK,IAAIa,GAAC,GAAGb,MAAI,KAAK,IAAIa,GAAC,GAAG,CAAC,CAAC;AAAA,MAC/C;AACA,aAAOlB;AAAA,IACT,GACAG,MAAI,CAAAA,QAAKP,GAAE,GAAG,IAAI,KAAK,IAAIO,GAAC,GAC5BE,MAAI,CAAAT,QAAK,CAAC,CAAC,CAACA,MAAI,GAAG,CAAC,GAAG,CAACA,MAAI,GAAG,CAAC,GAAG,CAACA,MAAI,GAAGwB,KAAI,CAAC,GAAG,CAAC,CAACxB,MAAI,GAAGwB,KAAI,CAAC,CAAC,GAClEpB,MAAI,KAAK,gBAAgB,CAAC,GAC1BO,MAAI,CAACX,KAAGO,KAAGI,MAAIP,QAAM,GAAGO,KAAGF,IAAEF,GAAC,GAAGP,KAAG,CAAC,GAAG,CAAC,GAAG,KAAE,GAC9CmB,KAAIZ,IAAE,CAAC,GACPe,MAAIX,IAAEQ,IAAGR,EAAC,GACVC,MAAI;AAAA,MACF,MAAM,IAAI,MAAM;AAAA,MAChB,OAAO,IAAI,MAAM;AAAA,IACnB,GACAC,MAAI,CAAC;AACP,aAASK,KAAI,GAAGA,KAAI,GAAGA,MAAK;AAC1B,YAAMX,MAAIW,KAAI,KAAK,KAAK,KAAK,KAAK,GAChCT,MAAI,KAAK,KAAK,IAAIgB,IAClBN,KAAIZ,MAAIE,KACRa,MAAIf,MAAI,KAAK,KAAK,IAAIE,KACtBK,MAAId,GAAEmB,IAAGG,KAAGA,EAAC,GACbZ,MAAIC,IAAEG,KAAGD,GAAE;AACb,MAAAA,IAAE,KAAKC,GAAC,GAAGD,IAAE,KAAKb,GAAEmB,IAAGG,KAAGZ,KAAIC,KAAI,CAAC,CAAC,GAAGC,IAAE,KAAK,KAAKF,GAAC,GAAGE,IAAE,MAAM,KAAKF,IAAE,YAAY,CAAC;AACnF,eAASV,MAAI,GAAGA,MAAI,GAAGA,OAAK;AAC1B,cAAMO,MAAI,MAAMP,KACdS,MAAIF,GAAE;AACR,YAAIA,KAAG;AACL,UAAAgB,GAAEd,KAAGA,KAAG,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,EAAEA,KAAGA,KAAG,CAACU,IAAG,CAAC,GAAG,GAAG,CAAC,CAAC;AAC1C,gBAAMnB,MAAI,KAAK,MAAMuB,MAAKT,IAAE,SAAS,EAAE;AACvC,UAAAL,IAAE,EAAE,IAAIK,IAAEd,GAAC,EAAE,CAAC,GAAGS,IAAE,EAAE,IAAIK,IAAEd,GAAC,EAAE,CAAC,GAAGS,IAAE,EAAE,IAAIK,IAAEd,GAAC,EAAE,CAAC;AAAA,QAClD,OAAO;AACL,YAAES,KAAGA,KAAGa,KAAG,CAAC,GAAG,GAAG,CAAC,CAAC;AACpB,gBAAMtB,MAAI,KAAK,OAAO,IAAIuB,OAAMT,IAAE,SAAS,EAAE;AAC7C,UAAAL,IAAE,EAAE,IAAIK,IAAEd,GAAC,EAAE,CAAC,GAAGS,IAAE,EAAE,IAAIK,IAAEd,GAAC,EAAE,CAAC,GAAGS,IAAE,EAAE,IAAIK,IAAEd,GAAC,EAAE,CAAC;AAAA,QAClD;AACA,cAAMW,MAAI,GAAGP,KAAGQ,IAAI,GAAGO,IAAIK,EAAC;AAC5B,WAAGb,KAAGF,GAAC,IAAIF,MAAIK,IAAE,OAAOA,IAAE,OAAO,KAAKD,GAAC;AAAA,MACzC;AAAA,IACF;AACA,UAAMG,MAAI,CAAC;AACX,aAASZ,MAAI,GAAGA,MAAI,GAAGA,OAAK;AAC1B,YAAMK,MAAIL,MAAI,KAAK,KAAK,KAAK,KAAK,GAChCO,MAAI,KAAK,KAAK,IAAIiB,IAClBtB,MAAIG,MAAIE,KACRU,KAAIZ,MAAI,KAAK,KAAK,IAAIE,KACtBa,MAAItB,GAAEI,KAAGe,IAAGT,EAAC;AACf,MAAAI,IAAE,KAAKH,IAAEW,KAAGT,GAAE,CAAC;AAAA,IACjB;AACA,UAAMH,MAAI,KAAK,gBAAgB,IAAG,GAChCL,MAAI,KAAK,gBAAgB,GAAE,GAC3BJ,MAAI,KAAK,gBAAgB,IAAG,GAC5BK,KAAIC,IAAE,IAAIoB,EAAE,GACZP,KAAIb,IAAE,IAAIqB,EAAE,GACZD,KAAIhB,IAAEL,IAAGO,KAAIH,GAAC,GACda,KAAIZ,IAAES,IAAGP,KAAIZ,GAAC,GACd4B,KAAItB,IAAE,IAAIoB,EAAE,GACZG,KAAIvB,IAAE,IAAIqB,EAAE,GACZF,KAAIf,IAAEkB,IAAGhB,KAAIH,GAAC,GACdqB,KAAIpB,IAAEmB,IAAGjB,KAAIZ,GAAC;AAChB,QAAI+B,KAAI,CAAC,IAAIzB,IAAEe,KAAG,GAAG,cAAc,GAAG,IAAIf,IAAEe,IAAE,YAAY;AAAA,MACxD,UAAUjB;AAAA,IACZ,CAAC,GAAGL,GAAG,IAAI,CAAC;AACZ,SAAK,QAAQ,YAAY,KAAK,SAASgC,KAAIA,GAAE,OAAO,CAAC,GAAGlB,IAAE,IAAI,CAAAd,QAAK,IAAIO,IAAEP,KAAG,GAAG,iBAAiB,GAAG,QAAQ,CAAC,GAAG,IAAIO,IAAEoB,IAAG,GAAG,iBAAiB,GAAG,OAAO,GAAG,IAAIpB,IAAEgB,IAAG,GAAG,iBAAiB,GAAG,OAAO,GAAG,IAAIhB,IAAEmB,IAAG,GAAG,iBAAiB,GAAG,QAAQ,GAAG,IAAInB,IAAEwB,IAAG,GAAG,iBAAiB,GAAG,QAAQ,CAAC,CAAC,IAAI,KAAK,QAAQ,aAAa,KAAK,SAASC,KAAIA,GAAE,OAAO,CAAC,GAAGpB,IAAE,MAAM,IAAI,CAAAZ,QAAK,IAAIO,IAAEP,IAAE,YAAY,GAAG,GAAG,iBAAiB,GAAG,QAAQ,CAAC,GAAG,GAAGY,IAAE,KAAK,IAAI,CAAAZ,QAAK,IAAIO,IAAEP,KAAG,GAAG,iBAAiB,GAAG,UAAU,CAAC,GAAG,GAAGY,IAAE,MAAM,IAAI,CAAAZ,QAAK,IAAIO,IAAEP,KAAG,GAAG,iBAAiB,GAAG,WAAW,CAAC,CAAC,CAAC;AACniB,UAAM4B,KAAI,CAACT,IAAG,GAAGN,GAAC;AAClB,WAAO,IAAI,GAAE;AAAA,MACX,MAAM,KAAK,KAAK;AAAA,MAChB,eAAemB;AAAA,MACf,wBAAwB;AAAA,MACxB,eAAe;AAAA,MACf,QAAQrB;AAAA,MACR,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,eAAe,KAAK,KAAK,OAAO;AAAA,MAChC,eAAe;AAAA,QACb,MAAM;AAAA,QACN,OAAOiB;AAAA,QACP,WAAWhB,GAAE,GAAG,GAAG,CAAC;AAAA,MACtB;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,gBAAgBZ,IAAG;AACjB,UAAMO,MAAI,IAAID,GAAG;AAAA,MACf,UAAUC,GAAG;AAAA,MACb,gBAAgBF,GAAG;AAAA,MACnB,cAAc;AAAA,IAChB,CAAC;AACD,WAAO,KAAK,WAAWC,GAAE,OAAO;AAAA,MAC9B,OAAO,EAAE,KAAK,KAAK,KAAK,eAAe,aAAaN,EAAC;AAAA,IACvD,IAAI,CAAAA,QAAKO,IAAE,cAAcP,GAAC,GAAG,CAAC,CAAC,GAAGO;AAAA,EACpC;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACA,SAAS,GAAGP,IAAGO,KAAG;AAChB,QAAME,MAAIF,GAAEO,GAAE,IAAI,GAAGP,IAAE,aAAaP,GAAE,MAAM,GAC1CI,MAAIG,GAAEO,GAAE,IAAI,GAAGP,IAAE,WAAWP,GAAE,MAAM,GACpCW,MAAIQ,GAAEV,GAAC,GACPU,KAAIA,GAAEf,GAAC;AACT,SAAO,MAAMO,MAAI,IAAIQ,KAAIR;AAC3B;AACA,SAAS,GAAGX,IAAGO,KAAGE,KAAGL,KAAG;AACtB,QAAM;AAAA,IACF,aAAaO;AAAA,IACb,WAAWQ;AAAA,EACb,IAAInB,IACJsB,MAAIW,IAAGtB,KAAGP,KAAGU,GAAE,IAAI,CAAC,GACpBF,MAAIqB,IAAGd,IAAGf,KAAGU,GAAE,IAAI,CAAC;AACtB,MAAIJ,GAAEY,KAAGV,GAAC,IAAIN,KAAIA,GAAG,QAAO;AAC5B,QAAMO,MAAIN,GAAEO,GAAE,IAAI,GAAGH,KAAGF,GAAC,GACvBK,MAAIe,GAAEf,GAAE,IAAI,GAAGD,KAAGI,GAAEV,GAAC,CAAC,GACtBG,MAAIC,KACJN,MAAIJ,GAAEa,GAAE,IAAI,GAAGJ,KAAGI,GAAC,GACnBb,MAAIgC,IAAGxB,KAAGL,KAAGU,GAAE,IAAI,CAAC,GACpBR,KAAIgB,KACJF,KAAIa,IAAG5B,KAAGD,KAAGU,GAAE,IAAI,CAAC,GACpBa,KAAIpB,GAAEO,GAAE,IAAI,GAAGM,IAAGd,EAAC,GACnBiB,KAAIhB,GAAEO,GAAE,IAAI,GAAGQ,KAAGrB,GAAC,GACnB4B,KAAIhB,GAAEP,IAAGqB,EAAC,GACVG,KAAIjB,GAAEZ,KAAGsB,EAAC;AACZ,SAAOE,GAAEI,IAAGjB,GAAC,IAAIa,GAAEK,IAAGlB,GAAC,IAAI,WAAW;AACxC;AACA,SAASqB,IAAGjC,IAAGO,KAAGE,KAAG;AACnB,SAAOF,IAAE,gBAAgBP,IAAG,EAAE,GAAGI,GAAEK,KAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC;AACvD;AACA,IAAI;AACJ,SAAS,GAAGT,IAAGO,KAAG;AAChB,MAAIE,MAAI,MACNL,MAAI;AACN,QAAMO,MAAI,MAAMP;AAChB,SAAO;AAAA,IACL,OAAO,MAAM;AACX,MAAAA,MAAIJ,GAAE,SAAS,GAAGS,MAAIT,GAAE,UAAUA,GAAE,WAAWW,KAAGJ,IAAE;AAAA,IACtD;AAAA,IACA,QAAQ,CAAAP,SAAMI,SAAOA,MAAI,KAAK,IAAIA,OAAK,KAAK,IAAIJ,MAAIC,KAAI,CAAC,GAAGM,IAAE,GAAG,KAAK,IAAIH,MAAI,CAAC,IAAI,OAAM,GAAG,OAAO,GAAG;AAAA,IACtG,SAAS,MAAM;AACb,MAAAK,QAAMT,GAAE,WAAWS,MAAIF,IAAE;AAAA,IAC3B;AAAA,EACF;AACF;AACA,SAAS,GAAGP,IAAGO,KAAGE,KAAG;AACnB,MAAIL,MAAI,GACNO,MAAI;AACN,QAAMQ,KAAI,MAAM;AAChB,SAAO;AAAA,IACL,OAAO,MAAM;AACX,MAAAR,MAAIX,GAAE,YAAYA,GAAE,aAAamB,IAAGf,MAAI,GAAGG,IAAE;AAAA,IAC/C;AAAA,IACA,QAAQ,CAAAP,SAAMI,OAAKJ,KAAG,CAACW,MAAI,KAAKP,OAAKK,IAAE,UAAU,GAAG,OAAO,GAAG;AAAA,IAC9D,SAAS,MAAM;AACb,MAAAE,QAAMX,GAAE,aAAaW,MAAIJ,IAAE;AAAA,IAC7B;AAAA,EACF;AACF;AACA,SAAS,GAAGP,IAAG;AACb,UAAQA,IAAG;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,IACT;AACE,aAAO;AAAA,EACX;AACF;AACAO,GAAE,CAAC,EAAE;AAAA,EACH,eAAe;AACjB,CAAC,CAAC,GAAG,GAAG,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EACvC,eAAe;AACjB,CAAC,CAAC,GAAG,GAAG,WAAW,WAAW,MAAM,GAAGA,GAAE,CAAC,EAAE;AAAA,EAC1C,eAAe;AACjB,CAAC,CAAC,GAAG,GAAG,WAAW,iBAAiB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,kBAAkB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,oBAAoB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,YAAY,IAAI,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,GAAG,WAAW,2BAA2B,IAAI,GAAG,KAAKA,GAAE,CAAC,EAAE,uEAAuE,CAAC,GAAG,EAAE,GAAG,SAAUP,IAAG;AACnY,EAAAA,GAAEA,GAAE,WAAW,CAAC,IAAI,YAAYA,GAAEA,GAAE,OAAO,CAAC,IAAI;AAClD,EAAE,OAAO,KAAK,CAAC,EAAE;AACjB,IAAM,KAAKW,GAAE;;;ACjfb,IAAIuB,MAAI,cAAcC,GAAED,EAAC,EAAE;AAAA,EACzB,YAAYE,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,OAAO,kBAAkB,KAAK,cAAcC,GAAE;AAAA,MAC3D,QAAQ;AAAA,MACR,UAAU;AAAA,IACZ,CAAC,GAAG,KAAK,QAAQC,GAAE;AAAA,MACjB,QAAQ;AAAA,MACR,UAAU;AAAA,IACZ,CAAC,GAAG,KAAK,UAAU,QAAQ,CAAAF,QAAK;AAC9B,MAAAA,IAAE,WAAW,OAAIA,IAAE,UAAU,IAAI;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EACA,IAAI,MAAM;AACR,WAAO;AAAA,MACL,WAAW,KAAK,UAAU;AAAA,MAC1B,UAAU,KAAK,SAAS;AAAA,MACxB,GAAG,KAAK,EAAE;AAAA,MACV,GAAG,KAAK,EAAE;AAAA,MACV,WAAW,KAAK,UAAU;AAAA,MAC1B,YAAY,KAAK;AAAA,MACjB,aAAa,KAAK,YAAY;AAAA,MAC9B,OAAO,KAAK,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EACA,IAAI,YAAY;AACd,WAAO,CAAC,KAAK,WAAW,KAAK,UAAU,KAAK,GAAG,KAAK,GAAG,KAAK,WAAW,KAAK,aAAa,KAAK,KAAK;AAAA,EACrG;AACF;AACAG,GAAE,CAAC,EAAE,CAAC,GAAGL,IAAE,WAAW,OAAO,IAAI,GAAGK,GAAE,CAAC,EAAE,CAAC,GAAGL,IAAE,WAAW,aAAa,IAAI,GAAGA,MAAIK,GAAE,CAAC,EAAE,+DAA+D,CAAC,GAAGL,GAAC;;;AC7B3J,IAAIM,MAAI,cAAcC,GAAEC,EAAC,EAAE;AAAA,EACzB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,OAAO,mBAAmB,KAAK,UAAU,QAAQ,CAAAA,QAAK;AACnE,MAAAA,IAAE,WAAW,OAAIA,IAAE,UAAU,IAAI;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EACA,IAAI,YAAY;AACd,WAAO,CAAC,KAAK,WAAW,KAAK,UAAU,KAAK,GAAG,KAAK,GAAG,KAAK,SAAS;AAAA,EACvE;AACF;AACAC,GAAE,CAAC,EAAE,CAAC,GAAGJ,IAAE,WAAW,aAAa,IAAI,GAAGA,MAAII,GAAE,CAAC,EAAE,gEAAgE,CAAC,GAAGJ,GAAC;;;ACkBxH,IAAIK,KAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,SAAS,IAAIC,GAAE,GAAG,KAAK,UAAU,MAAI,KAAK,iBAAiB,MAAI,KAAK,gBAAgB,MAAI,KAAK,gBAAgB,IAAIC,GAAE,GAAG,KAAK,OAAO,gBAAgB,KAAK,mBAAmB,IAAIC,GAAE,GAAG,KAAK,eAAe;AAAA,EACxN;AAAA,EACA,aAAa;AACX,UAAM;AAAA,MACJ,QAAQH;AAAA,MACR,QAAQC;AAAA,MACR,MAAMG;AAAA,IACR,IAAI;AACJ,SAAK,UAAU,IAAID,GAAE;AAAA,MACnB,MAAMC;AAAA,IACR,CAAC,GAAG,KAAK,oBAAoB,IAAIC,IAAE;AAAA,MACjC,MAAM;AAAA,MACN,MAAMD;AAAA,MACN,aAAa,KAAK;AAAA,MAClB,aAAa;AAAA,MACb,iBAAiB;AAAA,MACjB,YAAY,KAAK,WAAWH,GAAEA,IAAE,YAAYA,IAAE,aAAa;AAAA,MAC3D,QAAQI,IAAE,gBAAgBJ,IAAE,SAAS,MAAM;AAAA,IAC7C,CAAC,GAAG,KAAK,kBAAkB,mBAAmB,CAAAK,QAAK,KAAK,WAAWA,IAAE,OAAO,GAAG,mBAAmB,CAAAA,QAAK;AACrG,MAAAN,GAAE,KAAK,mBAAmB,iCACrBM,MADqB;AAAA,QAExB,QAAQ,KAAK;AAAA,MACf,EAAC,GAAGA,IAAE,gBAAgB;AAAA,IACxB,CAAC,CAAC,CAAC;AACH,UAAMC,KAAIN,IAAE;AACZ,QAAI,KAAK,kBAAkB,gBAAgBM,IAAG,KAAK,WAAWH,IAAEH,GAAC,CAAC,GAAG,KAAK,kBAAkB,oCAAoC,CAACD,KAAGM,KAAGE,KAAGT,KAAGU,QAAM;AACjJ,UAAIT,QAAMU,GAAE,IAAI;AACd,cAAM;AAAA,UACJ,cAAcV;AAAA,UACd,gBAAgBM;AAAA,QAClB,IAAIK,GAAE;AAAA,UACJ,iBAAiB,IAAIL,IAAE;AAAA,YACrB,eAAeC;AAAA,YACf,SAASE;AAAA,YACT,wBAAwBG,GAAE,aAAa,IAAI,EAAE;AAAA,cAC3C,kBAAkBX,IAAE,YAAY,KAAK;AAAA,YACvC,CAAC,GAAGG,IAAE,MAAM,WAAW;AAAA,YACvB,YAAY,IAAIS,GAAE;AAAA,YAClB,gBAAgBZ,IAAE;AAAA,UACpB,CAAC;AAAA,UACD,iBAAiB,KAAK;AAAA,UACtB,iBAAiB,KAAK;AAAA,UACtB,MAAM;AAAA,QACR,CAAC;AACD,QAAAF,MAAIA,IAAE,KAAKO,GAAC,GAAGE,MAAIA,IAAE,KAAK,EAAE,KAAK,MAAMD,EAAC,CAAC,EAAE,KAAK,GAAGP,GAAC;AAAA,MACtD;AACA,aAAO;AAAA,QACL,OAAOQ;AAAA,QACP,QAAQT;AAAA,MACV;AAAA,IACF,GAAGE,KAAG,CAAAK,QAAK;AACT,YAAM;AAAA,QACF,QAAQL;AAAA,QACR,QAAQO;AAAA,QACR,UAAUJ;AAAA,QACV,UAAUL;AAAA,MACZ,IAAIO,KACJC,KAAI;AAAA,QACF,QAAQC;AAAA,QACR,UAAUJ;AAAA,QACV,UAAUL;AAAA,MACZ;AACF,cAAQE,KAAG;AAAA,QACT,KAAK;AACH,eAAK,gBAAgB,GAAGD,GAAE,KAAK,mBAAmBO,EAAC;AACnD;AAAA,QACF,KAAK;AACH,UAAAP,GAAE,KAAK,aAAaO,EAAC;AACrB;AAAA,QACF,KAAK;AACH,UAAAP,GAAE,KAAK,kBAAkBO,EAAC;AAAA,MAC9B;AAAA,IACF,CAAC,GAAG,KAAK,kBAAkB,QAAQ,QAAQ,KAAK,eAAe,KAAK,aAAa,QAAQ,GAAG,KAAK,sBAAsB,KAAK,0BAA0B,GAAG,KAAK,WAAWO,GAAE,MAAM,KAAK,oBAAoB,OAAO,MAAM,KAAK,iBAAiB,CAAC,CAAC,GAAG,KAAK,iBAAiB,KAAK,gBAAgB;AAC3R,YAAMd,MAAI,KAAK,iBAAiB,KAAK,iBAAiB,OAAO,KAAK,gBAAgB,UAAU;AAC5F,WAAK,eAAe,IAAI,GAAE;AAAA,QACxB,MAAM;AAAA,QACN,MAAMA;AAAA,QACN,SAAS,KAAK;AAAA,QACd,eAAe,KAAK;AAAA,QACpB,gBAAgB,WAAWA,GAAEC,GAAC,GAAG;AAAA,MACnC,CAAC,GAAG,KAAK,WAAW,KAAK,aAAa,OAAO,GAAG,iBAAiB,MAAM,KAAK,gBAAgB,CAAC,CAAC;AAAA,IAChG;AACA,SAAK,WAAW,CAACC,IAAE;AAAA,MACjB,MAAM,KAAK;AAAA,MACX,QAAQD;AAAA,MACR,oBAAoB,CAAAD,QAAK,KAAK,oBAAoBA,GAAC;AAAA,MACnD,uBAAuB,MAAM,EAAE;AAAA,IACjC,CAAC,GAAGC,IAAE,GAAG,aAAa,MAAM,KAAK,mBAAmB,CAAC,GAAG,KAAK,gCAAgC,GAAGa,GAAE,MAAMV,IAAE,OAAO,MAAM,KAAK,iBAAiB,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,GAAG,KAAK,mBAAmB,GAAG,KAAK,iBAAiB,GAAG,KAAK,oBAAoB,CAAAJ,QAAK;AAC7O,MAAAA,eAAa,MAAK,KAAK,WAAWA,IAAE,OAAO,GAAG,gBAAgB,MAAM,KAAK,+BAA+B,CAAC,CAAC;AAAA,IAC5G,CAAC;AACD,UAAMS,MAAIL,KAAG,MACX;AAAA,MACE,eAAeF;AAAA,IACjB,IAAI;AACN,SAAK,mBAAmB,IAAIO,IAAE;AAAA,MAC5B,UAAUA;AAAA,MACV,eAAeP;AAAA,IACjB,CAAC,GAAG,KAAK,oBAAoB,IAAIM,IAAE;AAAA,MACjC,UAAUC;AAAA,MACV,eAAeP;AAAA,IACjB,CAAC;AACD,UAAMQ,MAAI;AAAA,MACN,QAAQT;AAAA,MACR,UAAU;AAAA,MACV,UAAU;AAAA,IACZ,GACAc,KAAI;AAAA,MACF,aAAa,MAAM;AACjB,aAAK,gBAAgB,GAAGf,GAAE,KAAK,mBAAmB,mBAC7CU,IACJ;AAAA,MACH;AAAA,MACA,QAAQ,MAAMV,GAAE,KAAK,aAAa,mBAC7BU,IACJ;AAAA,MACD,YAAY,MAAMV,GAAE,KAAK,kBAAkB,mBACtCU,IACJ;AAAA,MACD,eAAe,CAAAJ,QAAK;AAClB,aAAK,gBAAgB,GAAGN,GAAE,KAAK,gBAAgB;AAAA,UAC7C,QAAQC;AAAA,UACR,OAAOK;AAAA,QACT,CAAC;AAAA,MACH;AAAA,MACA,UAAU,CAAAA,QAAKN,GAAE,KAAK,UAAU;AAAA,QAC9B,QAAQC;AAAA,QACR,OAAOK;AAAA,MACT,CAAC;AAAA,MACD,cAAc,CAAAA,QAAKN,GAAE,KAAK,eAAe;AAAA,QACvC,QAAQC;AAAA,QACR,OAAOK;AAAA,MACT,CAAC;AAAA,MACD,cAAc,CAACA,KAAGE,QAAM;AACtB,aAAK,gBAAgB,GAAGR,GAAE,KAAK,eAAe;AAAA,UAC5C,QAAQC;AAAA,UACR,QAAQK;AAAA,UACR,QAAQE;AAAA,QACV,CAAC;AAAA,MACH;AAAA,MACA,SAAS,CAACF,KAAGE,QAAMR,GAAE,KAAK,SAAS;AAAA,QACjC,QAAQC;AAAA,QACR,QAAQK;AAAA,QACR,QAAQE;AAAA,MACV,CAAC;AAAA,MACD,aAAa,CAACF,KAAGE,QAAMR,GAAE,KAAK,cAAc;AAAA,QAC1C,QAAQC;AAAA,QACR,QAAQK;AAAA,QACR,QAAQE;AAAA,MACV,CAAC;AAAA,IACH;AACF,SAAK,WAAWO,GAAE,KAAK,SAAS,KAAK,QAAQ,OAAO;AAAA,MAClD,eAAe,KAAK;AAAA,MACpB,mBAAmB,KAAK;AAAA,MACxB,WAAWA;AAAA,IACb,EAAE,CAAC,GAAG,KAAK,mBAAmB;AAAA,EAChC;AAAA,EACA,UAAU;AACR,SAAK,QAAQ,QAAQ,GAAG,KAAK,kBAAkB,QAAQ,GAAG,KAAK,eAAe,EAAE,KAAK,YAAY,GAAG,KAAK,sBAAsB,EAAE,KAAK,mBAAmB,GAAG,KAAK,iBAAiB,QAAQ,GAAG,KAAK,KAAK,QAAQ,IAAI,GAAG,KAAK,KAAK,UAAU,IAAI;AAAA,EAChP;AAAA,EACA,aAAaf,IAAG;AACd,QAAI,CAAC,KAAK,aAAa,CAACgB,GAAEhB,IAAG,KAAK,OAAO,EAAG,QAAO,MAAM,aAAaA,EAAC;AAAA,EACzE;AAAA,EACA,iCAAiC;AAC/B,YAAQ,KAAK,iBAAiB,KAAK,aAAa,cAAc,CAAC,KAAK,kBAAkB,UAAU,KAAK,kBAAkB,cAAc,CAAC,KAAK,aAAa;AAAA,EAC1J;AAAA,EACA,4BAA4B;AAC1B,UAAMA,KAAIA,GAAE,KAAK,MAAM;AACvB,WAAO,WAAWA,IAAG,OAAO,IAAIiB,IAAE;AAAA,MAChC,QAAQ,KAAK;AAAA,MACb,UAAUjB;AAAA,MACV,aAAa,KAAK,KAAK,MAAM;AAAA,IAC/B,CAAC,IAAI,IAAII,IAAE;AAAA,MACT,SAAS,KAAK,OAAO;AAAA,MACrB,YAAY,CAAAJ,QAAK,KAAK,oBAAoBA,GAAC;AAAA,MAC3C,eAAe,MAAM,KAAK,KAAK,cAAc,KAAK,CAAAA,QAAKA,IAAE,UAAU,KAAK,OAAO,SAAS,KAAK;AAAA,MAC7F,UAAU,KAAK,eAAe,UAAU,iBAAiB,MAAM,QAAQ;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EACA,oBAAoBA,IAAG;AACrB,SAAK,mBAAmB,mBAAmBA,EAAC,GAAG,KAAK,cAAc,mBAAmBA,EAAC;AAAA,EACxF;AAAA,EACA,kCAAkC;AAChC,WAAOc,GAAE,MAAM,KAAK,OAAO,SAAS,CAAAd,OAAK;AACvC,WAAK,oBAAoB,CAAAM,QAAKA,IAAE,YAAYN,EAAC,GAAG,KAAK,kBAAkB,cAAc,YAAYA,MAAK,KAAK,WAAWC,GAAE,KAAK,OAAO,YAAY,KAAK,OAAO,aAAa;AAAA,IAC3K,CAAC;AAAA,EACH;AAAA,EACA,kBAAkB;AAChB,SAAK,OAAO,KAAK,eAAe;AAAA,MAC9B,SAAS,CAAC,KAAK,OAAO,iBAAiB,CAAC;AAAA,IAC1C,CAAC;AAAA,EACH;AAAA,EACA,IAAI,YAAYD,IAAG;AACjB,SAAK,sBAAsB,KAAK,kBAAkB,cAAcA,KAAI,KAAK,KAAK,eAAeA,EAAC;AAAA,EAChG;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,iBAAiB,YAAY,CAAC,CAAC,KAAK,cAAc;AAAA,EAChE;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,QAAQ,KAAK,cAAc,SAAS,OAAO,OAAO,WAAWA,GAAE,KAAK,MAAM,GAAG,OAAO,KAAK,mBAAmB,KAAK;AAAA,EAC1H;AAAA,EACA,IAAI,SAASA,IAAG;AACd,SAAK,kBAAkB,WAAWA,IAAG,KAAK,iBAAiB,KAAK,aAAa,WAAWA;AAAA,EAC1F;AAAA,EACA,IAAI,yBAAyBA,IAAG;AAC9B,SAAK,kBAAkB,2BAA2BA,IAAG,KAAK,iBAAiB,KAAK,aAAa,2BAA2BA;AAAA,EAC1H;AAAA,EACA,QAAQ;AAAA,EAAC;AAAA,EACT,SAAS;AACP,SAAK,cAAc,sBAAsB;AAAA,EAC3C;AAAA,EACA,kBAAkB;AAChB,YAAQ,KAAK,iBAAiB,KAAK,kBAAkB,eAAe,KAAK,aAAa,SAAS;AAAA,EACjG;AAAA,EACA,mBAAmB;AACjB,UAAM;AAAA,MACF,MAAMA;AAAA,IACR,IAAI,MACJM,MAAIN,GAAE,MAAM,gBAAgBE,GAAE,SAASF,GAAE,QAAQkB;AACnD,SAAK,kBAAkB,QAAQZ,MAAI,KAAK,oBAAoB,QAAQ;AAAA,EACtE;AAAA,EACA,qBAAqB;AACnB,IAAAa,GAAE,MAAM,KAAK,MAAM;AAAA,EACrB;AAAA,EACA,oBAAoBnB,IAAG;AACrB,WAAOA,MAAK,KAAK,KAAK,MAAM,OAAO,yBAAyB,KAAK,kBAAkB,cAAc;AAAA,EACnG;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACAM,GAAE,CAAC,EAAE;AAAA,EACH,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAGR,GAAE,WAAW,QAAQ,MAAM,GAAGQ,GAAE,CAAC,EAAE;AAAA,EACtC,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAGR,GAAE,WAAW,UAAU,MAAM,GAAGQ,GAAE,CAAC,EAAE;AAAA,EACxC,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAGR,GAAE,WAAW,WAAW,MAAM,GAAGQ,GAAE,CAAC,EAAE,CAAC,GAAGR,GAAE,WAAW,kBAAkB,MAAM,GAAGQ,GAAE,CAAC,EAAE,CAAC,GAAGR,GAAE,WAAW,iBAAiB,MAAM,GAAGQ,GAAE,CAAC,EAAE;AAAA,EAC1I,eAAe;AAAA,EACf,MAAMJ;AACR,CAAC,CAAC,GAAGJ,GAAE,WAAW,iBAAiB,MAAM,GAAGQ,GAAE,CAAC,EAAE;AAAA,EAC/C,OAAO;AACT,CAAC,CAAC,GAAGR,GAAE,WAAW,eAAe,IAAI,GAAGQ,GAAE,CAAC,EAAE;AAAA,EAC3C,eAAe;AACjB,CAAC,CAAC,GAAGR,GAAE,WAAW,mBAAmB,MAAM,GAAGQ,GAAE,CAAC,EAAE;AAAA,EACjD,UAAU;AACZ,CAAC,CAAC,GAAGR,GAAE,WAAW,QAAQ,MAAM,GAAGQ,GAAE,CAAC,EAAE;AAAA,EACtC,UAAU;AACZ,CAAC,CAAC,GAAGR,GAAE,WAAW,YAAY,IAAI,GAAGQ,GAAE,CAAC,EAAE,CAAC,GAAGR,GAAE,WAAW,qBAAqB,IAAI,GAAGA,KAAIQ,GAAE,CAAC,EAAE,kEAAkE,CAAC,GAAGR,EAAC;;;AC7QvK,IAAMsB,KAAN,MAAQ;AAAA,EACN,IAAI,UAAU;AACZ,WAAO,KAAK,MAAM;AAAA,EACpB;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,QAAQ;AAAA,EACtB;AAAA,EACA,YAAYC,IAAGC,KAAG;AAChB,SAAK,QAAQD,IAAG,KAAK,UAAUC,KAAG,KAAK,qBAAqB,MAAM,KAAK,oBAAoB;AAC3F,UAAMC,MAAI,KAAK,OACbC,MAAID,IAAE;AACR,SAAK,2BAA2B,IAAIE,IAAE;AAAA,MACpC,MAAMD;AAAA,MACN,MAAMD;AAAA,MACN,QAAQ,KAAK;AAAA,IACf,CAAC,GAAGA,IAAE,WAAW,KAAK,gCAAgC,CAAC,GAAG,KAAK,mBAAmB,IAAIG,GAAEF,KAAGG,GAAE,iBAAiB,GAAG,KAAK,iBAAiB,SAAS,IAAGJ,IAAE,aAAa,IAAI,KAAK,gBAAgB,GAAGA,IAAE,WAAW,CAAC,KAAK,yBAAyB,CAAC,CAAC,GAAGA,IAAE,WAAW,CAACA,IAAE,OAAO,GAAG,kBAAkB,MAAM;AAC/R,WAAK,qBAAqB,MAAM,KAAK,oBAAoB;AAAA,IAC3D,CAAC,CAAC,CAAC;AAAA,EACL;AAAA,EACA,UAAU;AACR,SAAK,yBAAyB,QAAQ,GAAG,KAAK,MAAM,aAAa,OAAO,KAAK,gBAAgB,GAAG,KAAK,iBAAiB,QAAQ;AAAA,EAChI;AAAA,EACA,mBAAmBF,IAAG;AACpB,SAAK,yBAAyB,mBAAmBA,EAAC,GAAGA,GAAE,KAAK,kBAAkBO,GAAE,WAAW;AAAA,EAC7F;AAAA,EACA,mBAAmBP,IAAGC,KAAG;AACvB,UAAMO,MAAI,KAAK,kBACbC,KAAIC,GAAEC,GAAE,IAAI,GAAGX,IAAG,KAAK,EAAE;AAC3B,IAAAS,GAAE,EAAE,IAAI,GAAGA,GAAE,EAAE,IAAI,GAAGA,GAAE,EAAE,IAAI,GAAGD,IAAE,iBAAiBC,IAAGD,IAAE,iBAAiBP,GAAEW,GAAE,IAAI,GAAGX,IAAE,QAAQA,IAAE,MAAM;AAAA,EACzG;AAAA,EACA,wBAAwB;AACtB,WAAO,KAAK,yBAAyB,YAAY,KAAK,yBAAyB,WAAW,KAAK,0BAA0B,IAAI,KAAK,iBAAiB,UAAU,KAAK,yBAAyB,IAAI;AAAA,EACjM;AAAA,EACA,4BAA4B;AAC1B,UAAMD,KAAI,KAAK,OACbE,MAAI,KAAK,uBAAuB,IAAIC,GAAE;AAAA,MACpC,eAAeH,GAAE;AAAA,IACnB,CAAC;AACH,QAAI,KAAK,yBAAyB,UAAU;AAC1C,YAAMC,MAAI,KAAK,SACbE,MAAIF,IAAE,eAAe,QACrBO,MAAIP,IAAE,UAAU,QAChB;AAAA,QACE,wBAAwBY;AAAA,MAC1B,IAAIb,GAAE;AACR,UAAI,CAACa,IAAG,QAAO;AACf,YAAMC,MAAIC,GAAEZ,KAAGK,KAAGK,GAAC;AACnB,UAAI,QAAQC,IAAG,QAAO;AACtB,MAAAZ,IAAE,WAAWY;AAAA,IACf,MAAO,CAAAZ,IAAE,WAAWc;AACpB,WAAOd;AAAA,EACT;AAAA,EACA,2BAA2B;AACzB,UAAMF,KAAI,KAAK,OACbE,MAAI,KAAK,sBAAsB,IAAIC,IAAE;AAAA,MACnC,eAAeH,GAAE;AAAA,IACnB,CAAC;AACH,QAAI,KAAK,iBAAiB,UAAU;AAClC,YAAMC,MAAI,KAAK,SACbE,MAAIF,IAAE,eAAe,QACrBO,MAAIP,IAAE,UAAU,QAChB;AAAA,QACE,wBAAwBY;AAAA,MAC1B,IAAIb,GAAE;AACR,UAAI,CAACa,IAAG,QAAO;AACf,YAAMC,MAAIG,GAAEd,KAAGK,KAAGK,GAAC;AACnB,UAAI,QAAQC,IAAG,QAAO;AACtB,MAAAZ,IAAE,WAAWY;AAAA,IACf,MAAO,CAAAZ,IAAE,WAAWc;AACpB,WAAOd;AAAA,EACT;AAAA,EACA,kCAAkC;AAChC,WAAO,KAAK,yBAAyB,mBAAmB,CAACF,IAAGC,KAAGC,QAAM,KAAK,sBAAsBD,KAAGC,GAAC,CAAC;AAAA,EACvG;AAAA,EACA,2BAA2B;AACzB,QAAI,CAAC,KAAK,YAAa,QAAO,EAAE;AAChC,UAAMD,MAAI,KAAK,YAAY,KAAK;AAChC,WAAOiB,GAAE,KAAK,kBAAkB,CAAClB,IAAGE,KAAGC,QAAM;AAC3C,YAAMU,MAAIb,GAAEA,GAAE,cAAc,GAC1Bc,MAAIZ,IAAE,KAAKiB,GAAE,KAAK,MAAM,MAAMN,KAAGZ,GAAC,CAAC,EAAE,KAAKmB,GAAE,CAAC;AAC/C,WAAK,sBAAsBN,KAAGX,GAAC;AAAA,IACjC,CAAC;AAAA,EACH;AAAA,EACA,sBAAsBH,IAAGC,KAAG;AAC1B,UAAM;AAAA,MACF,OAAOC;AAAA,MACP,SAASC;AAAA,IACX,IAAI,MACJK,MAAIR,GAAE,KAAK,CAAAA,SAAM,YAAYA,IAAE,WAAWE,IAAE,aAAa;AAAA,MACvD,MAAM;AAAA,IACR,GAAG,KAAK,QAAQ,gBAAgB,GAAGA,IAAE,OAAO,KAAK,mBAAmB;AAAA,MAClE,QAAQC;AAAA,MACR,UAAUH,IAAE;AAAA,MACZ,UAAUA,IAAE;AAAA,IACd,CAAC,IAAIA,IAAE,EAAE,KAAKqB,GAAE,CAAC,EAAE,KAAK,KAAK,wBAAwB,CAAC,EAAE,KAAK,CAAArB,QAAK;AAChE,YAAMC,MAAI;AAAA,QACR,QAAQE;AAAA,QACR,UAAUH,IAAE;AAAA,QACZ,UAAUA,IAAE;AAAA,MACd;AACA,cAAQA,IAAE,QAAQ;AAAA,QAChB,KAAK;AAAA,QACL,KAAK;AACH,WAACA,IAAE,OAAO,IAAIA,IAAE,SAAS,KAAKA,IAAE,OAAO,IAAIA,IAAE,SAAS,MAAMA,IAAE,OAAO,KAAK,MAAMA,IAAE,SAAS,KAAK,OAAOE,IAAE,OAAO,KAAK,aAAaD,GAAC;AACnI;AAAA,QACF,KAAK;AACH,UAAAC,IAAE,aAAa,MAAMA,IAAE,OAAO,KAAK,kBAAkBD,GAAC;AAAA,MAC1D;AACA,aAAOD;AAAA,IACT,CAAC;AACH,WAAOC,IAAE,KAAK,MAAM;AAClB,cAAQC,IAAE,cAAcA,IAAE,OAAO,KAAK,kBAAkB;AAAA,QACtD,QAAQC;AAAA,QACR,UAAU;AAAA,QACV,UAAU;AAAA,MACZ,CAAC,GAAGD,IAAE,OAAO;AAAA,IACf,CAAC,GAAGM;AAAA,EACN;AAAA,EACA,0BAA0B;AACxB,UAAMR,KAAI,KAAK;AACf,WAAO,CAAAC,QAAK;AACV,UAAI,QAAQD,GAAE,cAAc,WAAWA,GAAE,WAAW,KAAM,QAAOC;AACjE,YAAMC,MAAI,YAAYD,IAAE,SAASqB,GAAE,WAAWA,GAAE;AAChD,UAAI,KAAK,aAAa;AACpB,cAAMtB,MAAI,KAAK,YAAY,KAAKC,IAAE,WAAWA,IAAE,WAAWA,IAAE,WAAWC,GAAC;AACxE,aAAK,QAAQ,6BAA6BF,GAAC;AAAA,MAC7C;AACA,aAAOC;AAAA,IACT;AAAA,EACF;AACF;;;ACjIA,IAAMsB,KAAN,MAAQ;AAAA,EACN,IAAI,UAAU;AACZ,WAAO,KAAK,MAAM;AAAA,EACpB;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,QAAQ;AAAA,EACtB;AAAA,EACA,YAAYC,IAAGC,KAAGC,KAAG;AACnB,SAAK,QAAQF,IAAG,KAAK,UAAUC,KAAG,KAAK,gBAAgBC,KAAG,KAAK,qBAAqB,MAAM,KAAK,cAAc,GAAG,KAAK,YAAY;AACjI,UAAMC,MAAI,KAAK,OACbC,MAAID,IAAE,MACNE,MAAI,CAACD,IAAE,QAAQ,WAAW,iBAAiB,WAAW,sBAAsB;AAC9E,SAAK,oBAAoB,IAAIE,GAAEF,KAAG,CAACJ,KAAGC,QAAMM,GAAEH,IAAE,UAAU;AAAA,MACxD,aAAaJ;AAAA,MACb,eAAeC;AAAA,MACf,kBAAkBI;AAAA,IACpB,CAAC,CAAC,GAAGF,IAAE,WAAW,CAAC,KAAK,kBAAkB,OAAO,GAAG,gBAAgB,CAAAH,QAAK,KAAK,cAAcA,GAAC,CAAC,GAAG,KAAK,0BAA0B,KAAK,iBAAiB,CAAC,CAAC,GAAGG,IAAE,aAAa,IAAI,KAAK,iBAAiB,GAAGA,IAAE,WAAW,CAACA,IAAE,OAAO,GAAG,gBAAgB,CAAAH,QAAK,KAAK,cAAcA,IAAE,KAAK,GAAGG,IAAE,OAAO,GAAG,UAAU,CAAAH,QAAK,KAAK,YAAYA,IAAE,KAAK,GAAGG,IAAE,OAAO,GAAG,eAAe,MAAM;AACxW,WAAK,cAAc,GAAG,KAAK,YAAY;AAAA,IACzC,CAAC,CAAC,CAAC;AAAA,EACL;AAAA,EACA,UAAU;AACR,SAAK,MAAM,aAAa,OAAO,KAAK,iBAAiB,GAAG,KAAK,kBAAkB,QAAQ;AAAA,EACzF;AAAA,EACA,mBAAmBH,IAAG;AACpB,IAAAA,GAAE,KAAK,mBAAmBQ,GAAE,MAAM;AAAA,EACpC;AAAA,EACA,mBAAmBR,IAAGG,KAAG;AACvB,UAAMC,MAAI,KAAK,QAAQ,UAAU,MAAM,CAAC,IAAI,IAAI,KAAK,KAAK,GACxDC,MAAIE,GAAEE,GAAE,IAAI,GAAGT,IAAGI,GAAC;AACrB,IAAAC,IAAE,EAAE,IAAI,GAAGA,IAAE,EAAE,IAAI,GAAGA,IAAE,EAAE,IAAI,GAAG,KAAK,kBAAkB,iBAAiBA,KAAG,KAAK,kBAAkB,iBAAiBK,GAAEC,GAAE,IAAI,GAAGR,IAAE,QAAQA,IAAE,MAAM;AAAA,EACnJ;AAAA,EACA,wBAAwB;AACtB,WAAO,KAAK,kBAAkB,UAAU,KAAK,0BAA0B,IAAI;AAAA,EAC7E;AAAA,EACA,4BAA4B;AAC1B,UAAMH,KAAI,KAAK,uBAAuB,IAAIY,GAAE;AAAA,MAC1C,eAAe,KAAK,MAAM;AAAA,IAC5B,CAAC;AACD,WAAOZ,GAAE,QAAQ,KAAK,cAAc,KAAK,WAAWA;AAAA,EACtD;AAAA,EACA,cAAc;AAAA,IACZ,QAAQA;AAAA,IACR,aAAaC;AAAA,EACf,GAAG;AACD,UAAMC,MAAI,KAAK,OACbC,MAAI,KAAK;AACX,QAAI,YAAYH,MAAK,CAACC,IAAG;AACzB,UAAMG,MAAI,GAAED,IAAE,eAAeD,IAAE,KAAK,oBAAoB,GAAE,SAASW,GAAE,CAAC,GACpER,MAAIS,GAAEZ,IAAE,KAAK,MAAM,QAAQD,GAAC;AAC9B,IAAAc,GAAEX,KAAGC,KAAGM,GAAE,IAAI,CAAC,MAAMR,IAAE,gBAAgB,GAAGD,IAAE,aAAa;AAAA,MACvD,MAAM;AAAA,MACN,aAAaE;AAAA,IACf;AAAA,EACF;AAAA,EACA,0BAA0BH,KAAG;AAC3B,UAAM;AAAA,MACJ,OAAOC;AAAA,MACP,SAASC;AAAA,IACX,IAAI;AACJ,WAAOa,GAAEf,KAAG,CAACA,KAAGG,KAAGC,QAAM;AACvB,YAAMO,KAAIV,IAAE;AACZ,cAAQU,OAAMR,IAAE,KAAK,CAAAJ,QAAM,YAAYA,GAAE,UAAUE,IAAE,OAAO,KAAK,gBAAgB;AAAA,QAC/E,QAAQC;AAAA,QACR,OAAO;AAAA,MACT,CAAC,GAAGH,GAAE,EAAE,KAAKiB,GAAEf,IAAE,MAAMU,GAAE,WAAW,CAAC,EAAE,KAAK,KAAK,+BAA+BA,EAAC,CAAC,EAAE,KAAK,GAAG,KAAK,cAAc,CAAC,EAAE,KAAK,KAAK,0BAA0B,CAAC,EAAE,KAAK,CAAAX,QAAK;AACjK,cAAMG,MAAI;AAAA,UACR,QAAQD;AAAA,UACR,OAAO,EAAEF,IAAE,WAAW;AAAA,QACxB;AACA,gBAAQA,IAAE,QAAQ;AAAA,UAChB,KAAK;AAAA,UACL,KAAK;AACH,YAAAC,IAAE,OAAO,KAAK,UAAUE,GAAC;AACzB;AAAA,UACF,KAAK;AACH,YAAAF,IAAE,aAAa,MAAMA,IAAE,OAAO,KAAK,eAAeE,GAAC;AAAA,QACvD;AACA,eAAOH;AAAA,MACT,CAAC,GAAGI,IAAE,KAAK,MAAM;AACf,gBAAQH,IAAE,cAAcA,IAAE,OAAO,KAAK,eAAe;AAAA,UACnD,QAAQC;AAAA,UACR,OAAO;AAAA,QACT,CAAC,GAAGD,IAAE,OAAO;AAAA,MACf,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAAA,EACA,+BAA+BF,IAAG;AAChC,WAAO,CAAAC,QAAK;AACV,YAAMC,MAAIgB,GAAElB,GAAE,WAAW,GACvBG,MAAIgB,GAAElB,IAAE,aAAaA,IAAE,WAAW,KAAK,QAAQ,cAAc,QAAQC,GAAC;AACxE,aAAO,iCACFD,MADE;AAAA,QAEL,YAAYC;AAAA,QACZ,aAAaC;AAAA,MACf;AAAA,IACF;AAAA,EACF;AAAA,EACA,4BAA4B;AAC1B,UAAMH,KAAI,KAAK;AACf,WAAO,CAAAC,QAAK;AACV,YAAMC,MAAIC,GAAE,EAAE,GAAGH,GAAE,eAAe,MAAM,GACtCY,KAAI,YAAYX,IAAE,SAASY,GAAE,WAAWA,GAAE;AAC5C,UAAI,KAAK,aAAa;AACpB,cAAMV,MAAI,KAAK,YAAY,OAAOD,KAAGD,IAAE,aAAaW,IAAGX,IAAE,OAAO;AAChE,UAAED,GAAE,gBAAgBA,GAAE,SAAS,GAAGA,GAAE,6BAA6BG,GAAC;AAAA,MACpE;AACA,aAAOF;AAAA,IACT;AAAA,EACF;AACF;;;AClHA,IAAMmB,MAAN,MAAQ;AAAA,EACN,YAAYC,IAAGC,KAAG;AAChB,SAAK,QAAQD,IAAG,KAAK,YAAYE,GAAE,GAAG,KAAK,iBAAiBA,GAAE,GAAG,KAAK,gBAAgBA,GAAE,GAAGF,GAAE,WAAW,EAAE,MAAMA,GAAE,QAAQ,uBAAuB,MAAM,KAAK,gBAAgB,GAAG;AAAA,MAC7K,eAAe,MAAM,KAAK,gBAAgB;AAAA,IAC5C,CAAC,CAAC,GAAG,KAAK,0BAA0BC;AAAA,EACtC;AAAA,EACA,IAAI,sBAAsB;AACxB,UAAM;AAAA,MACF,MAAME;AAAA,MACN,QAAQH;AAAA,IACV,IAAI,KAAK,OACTC,MAAID,GAAEA,EAAC,GACPI,MAAID,GAAE,kBAAkB,wBAAwB,YAAYF,KAAG,QAAQ;AACzE,WAAOG,MAAIC,KAAIF,GAAE,YAAYC,GAAC,IAAI;AAAA,EACpC;AAAA,EACA,kBAAkB;AAChB,MAAE,KAAK,WAAW,KAAK,cAAc;AAAA,EACvC;AAAA,EACA,sBAAsB;AACpB,SAAK,wBAAwB,GAAG,KAAK,0BAA0B;AAAA,EACjE;AAAA,EACA,6BAA6BD,IAAG;AAC9B,IAAAG,GAAEH,IAAG,KAAK,SAAS,GAAG,KAAK,oBAAoB;AAAA,EACjD;AAAA,EACA,oCAAoCA,IAAG;AACrC,IAAAI,GAAEJ,IAAG,KAAK,SAAS,GAAG,KAAK,oBAAoB;AAAA,EACjD;AAAA,EACA,kBAAkB;AAChB,SAAK,oBAAoB,GAAG,KAAK,oBAAoB;AAAA,EACvD;AAAA,EACA,sBAAsB;AACpB,UAAM;AAAA,MACF,MAAMA;AAAA,MACN,kBAAkBK;AAAA,MAClB,QAAQC;AAAA,IACV,IAAI,KAAK,OACTC,MAAID,IAAE,YAAY;AACpB,QAAI,CAACC,IAAG;AACR,UAAMC,MAAID,IAAE;AACZ,SAAK,mBAAmBC,IAAE;AAC1B,UAAMC,MAAIF,GAAEC,GAAC;AACb,IAAAE,GAAED,KAAGA,KAAG,EAAE;AACV,UAAMN,KAAIH,GAAE,kBACVW,MAAIH,IAAE,kBACNE,MAAIL,MAAIL,GAAE,YAAYK,GAAC,IAAI,EAAEF,EAAC,IAAI,EAAEQ,GAAC,IAAI;AAC3C,IAAAC,GAAEH,KAAGF,KAAGM,KAAIH,KAAG,KAAK,SAAS;AAAA,EAC/B;AAAA,EACA,0BAA0B;AACxB,UAAM;AAAA,MACF,MAAMV;AAAA,MACN,kBAAkBH;AAAA,IACpB,IAAI,KAAK,OACTC,MAAID,IAAG,KAAKiB,GAAE,KAAK,UAAU,QAAQd,GAAE,mBAAmBF,GAAE,kBAAkB,KAAK,MAAM,OAAO,aAAa,GAAGE,GAAE,kBAAkB,GACpIC,MAAI,EAAE,KAAK,SAAS;AACtB,IAAAA,IAAE,OAAO,CAAC,IAAIH,OAAK,GAAGiB,GAAEd,KAAGD,GAAE,oBAAoB,KAAK,kBAAkB,KAAK,qBAAqB,KAAK,aAAa;AAAA,EACtH;AACF;AACA,IAAME,KAAI;AAAV,IACEW,KAAI;AACN,SAASE,GAAEf,IAAGH,IAAGC,KAAGG,MAAI,GAAGe,KAAG;AAC5B,EAAAA,QAAMA,MAAIjB,GAAE,IAAIF,GAAE,eAAeG,GAAE,QAAQF,KAAGkB,IAAE,MAAM;AACtD,QAAMC,KAAIN,GAAE,IAAI;AAChB,EAAAK,GAAEC,IAAGjB,GAAE,QAAQA,GAAE,MAAM,GAAGgB,GAAEC,IAAGA,IAAGjB,GAAE,MAAM,GAAGH,GAAE,eAAeoB,IAAGnB,KAAGmB,EAAC;AACrE,QAAMC,MAAIP,GAAE,IAAI;AAChB,EAAAK,GAAEE,KAAGlB,GAAE,QAAQA,GAAE,MAAM,GAAGK,GAAEa,KAAGA,KAAGlB,GAAE,MAAM,GAAGH,GAAE,eAAeqB,KAAGpB,KAAGoB,GAAC;AACrE,QAAMC,KAAIR,GAAE,IAAI;AAChB,EAAAN,GAAEc,IAAGnB,GAAE,QAAQA,GAAE,MAAM,GAAGK,GAAEc,IAAGA,IAAGnB,GAAE,MAAM,GAAGH,GAAE,eAAesB,IAAGrB,KAAGqB,EAAC;AACrE,QAAMC,KAAIT,GAAE,IAAI;AAChB,EAAAN,GAAEe,IAAGpB,GAAE,QAAQA,GAAE,MAAM,GAAGgB,GAAEI,IAAGA,IAAGpB,GAAE,MAAM,GAAGH,GAAE,eAAeuB,IAAGtB,KAAGsB,EAAC;AACrE,QAAMC,KAAIC,GAAEX,GAAE,IAAI,GAAGM,IAAGC,KAAG,GAAE;AAC7B,EAAAb,GAAEgB,IAAGA,IAAGL,IAAE,MAAM;AAChB,QAAMO,KAAID,GAAEX,GAAE,IAAI,GAAGQ,IAAGC,IAAG,GAAE;AAC7B,EAAAf,GAAEkB,IAAGP,IAAE,QAAQO,EAAC,GAAGD,GAAEN,IAAE,QAAQK,IAAGE,IAAG,GAAE;AACvC,QAAMC,KAAIF,GAAEX,GAAE,IAAI,GAAGS,IAAGH,IAAG,GAAE;AAC7B,EAAAZ,GAAEmB,IAAGA,IAAGR,IAAE,MAAM;AAChB,QAAMS,KAAIH,GAAEX,GAAE,IAAI,GAAGO,KAAGC,IAAG,GAAE;AAC7B,EAAAd,GAAEoB,IAAGT,IAAE,QAAQS,EAAC,GAAGH,GAAEN,IAAE,QAAQQ,IAAGC,IAAG,GAAE;AACvC,QAAMC,KAAIF,GAAEb,GAAE,IAAI,GAAGK,IAAE,QAAQA,IAAE,MAAM,GACrCW,KAAIH,GAAEE,IAAGA,IAAGV,IAAE,MAAM;AACtB,SAAOY,GAAED,IAAGA,EAAC,GAAG,EAAEX,IAAE,QAAQW,IAAGE,GAAEb,IAAE,QAAQW,EAAC,CAAC,GAAG,EAAEX,IAAE,QAAQA,IAAE,QAAQ,IAAIf,MAAID,GAAEgB,IAAE,MAAM,CAAC,GAAG,EAAEA,IAAE,QAAQA,IAAE,QAAQ,IAAIf,MAAID,GAAEgB,IAAE,MAAM,CAAC,GAAGc,GAAEd,GAAC,GAAGA;AAChJ;AACA,SAASe,GAAE/B,IAAGH,IAAGC,KAAG;AAClB,SAAOO,GAAE2B,IAAG3B,GAAE2B,IAAGhC,GAAE,QAAQA,GAAE,MAAM,GAAGA,GAAE,MAAM,GAAG,EAAEiC,IAAGD,IAAGhC,GAAE,QAAQ,CAAC,GAAG,EAAEsB,KAAGW,IAAGjC,GAAE,QAAQ,CAAC,GAAG,EAAEkC,IAAGF,IAAGhC,GAAE,QAAQ,CAAC,GAAGgC,GAAE,CAAC,IAAIC,GAAE,CAAC,IAAIX,IAAE,CAAC,IAAIY,GAAE,CAAC,IAAIrC,IAAGC,IAAE;AAAA,IAClJ,SAASoC;AAAA,IACT,UAAUZ;AAAA,IACV,aAAaW;AAAA,IACb,YAAYD;AAAA,IACZ,kBAAkBlC;AAAA,EACpB,CAAC;AACH;AACA,IAAMoC,KAAI,EAAE;AAAZ,IACEZ,MAAI,EAAE;AADR,IAEEW,KAAI,EAAE;AAFR,IAGED,KAAI,EAAE;;;ACzFR,IAAMG,KAAN,MAAQ;AAAA,EACN,IAAI,UAAU;AACZ,WAAO,KAAK,MAAM;AAAA,EACpB;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,QAAQ;AAAA,EACtB;AAAA,EACA,IAAI,OAAO;AACT,QAAI,CAAC,KAAK,cAAc,CAAC,KAAK,YAAa,QAAO,KAAK;AACvD,UAAMC,KAAI,KAAK,YAAY;AAC3B,QAAIA,GAAE,SAAS,MAAM;AACnB,YAAMC,MAAID,GAAE;AACZ,WAAK,QAAQ,OAAO;AACpB,iBAAWE,MAAKF,GAAE,WAAY,YAAWA,OAAKE,GAAE,UAAU;AACxD,cAAMA,KAAID,IAAE,KAAKD,IAAE,GAAG,KAAK;AAC3B,aAAK,QAAQ,KAAK,IAAIE,IAAG,KAAK,KAAK;AAAA,MACrC;AAAA,IACF,MAAO,MAAK,QAAQ;AACpB,WAAO,KAAK,aAAa,OAAI,KAAK;AAAA,EACpC;AAAA,EACA,YAAYD,KAAGE,KAAGC,KAAG;AACnB,SAAK,QAAQH,KAAG,KAAK,UAAUE,KAAG,KAAK,2BAA2BC,KAAG,KAAK,iBAAiB,CAAC;AAAA,MAC1F,WAAW,CAAC,GAAG,CAAC;AAAA,IAClB,GAAG;AAAA,MACD,WAAW,CAAC,GAAG,CAAC;AAAA,IAClB,GAAG;AAAA,MACD,WAAW,CAAC,GAAG,CAAC;AAAA,IAClB,GAAG;AAAA,MACD,WAAW,CAAC,IAAI,CAAC;AAAA,IACnB,GAAG;AAAA,MACD,WAAW,CAAC,IAAI,CAAC;AAAA,IACnB,GAAG;AAAA,MACD,WAAW,CAAC,IAAI,EAAE;AAAA,IACpB,GAAG;AAAA,MACD,WAAW,CAAC,GAAG,EAAE;AAAA,IACnB,GAAG;AAAA,MACD,WAAW,CAAC,GAAG,EAAE;AAAA,IACnB,CAAC,GAAG,KAAK,oBAAoB,MAAM,KAAK,sBAAsBC,GAAE,GAAG,KAAK,4BAA4B,GAAG,KAAK,cAAcC,GAAE,GAAG,KAAK,YAAYA,GAAE,GAAG,KAAK,aAAa,MAAM,KAAK,QAAQ,GAAG,KAAK,aAAa;AAC/M,UAAMC,MAAI,KAAK,OACbC,MAAID,IAAE;AACR,SAAK,qBAAqB,KAAK,eAAe,IAAI,CAAAP,OAAK;AACrD,YAAMC,MAAI,IAAIQ,GAAED,KAAGR,EAAC;AACpB,aAAOO,IAAE,WAAW,CAACN,IAAE,OAAO,GAAG,gBAAgB,CAAAD,QAAK,KAAK,cAAcA,GAAC,CAAC,GAAG,KAAK,0BAA0BC,KAAGD,EAAC,CAAC,CAAC,GAAGC;AAAA,IACxH,CAAC,GAAGM,IAAE,aAAa,QAAQ,KAAK,kBAAkB,GAAGA,IAAE,WAAW,CAACA,IAAE,OAAO,GAAG,eAAe,CAAAN,QAAK;AACjG,MAAAM,GAAE,KAAK,aAAaN,IAAE,QAAQA,IAAE,MAAM,GAAGM,GAAE,KAAK,WAAWN,IAAE,QAAQA,IAAE,MAAM;AAAA,IAC/E,CAAC,GAAGM,IAAE,OAAO,GAAG,SAAS,CAAAN,QAAK;AAC5B,MAAAM,GAAE,KAAK,WAAWN,IAAE,QAAQA,IAAE,MAAM;AAAA,IACtC,CAAC,GAAGM,IAAE,OAAO,GAAG,cAAc,MAAM;AAClC,MAAAA,GAAE,KAAK,aAAa,GAAG,CAAC,GAAGA,GAAE,KAAK,WAAW,GAAG,CAAC;AAAA,IACnD,CAAC,CAAC,CAAC,GAAG,KAAK,eAAeA,IAAE,WAAW,KAAK,YAAY,KAAK,GAAG,UAAU,MAAM;AAC9E,mBAAaA,IAAE,YAAY,SAAS,KAAK,aAAa;AAAA,IACxD,CAAC,CAAC;AAAA,EACJ;AAAA,EACA,UAAU;AACR,SAAK,mBAAmB,CAAAP,OAAK;AAC3B,WAAK,MAAM,aAAa,OAAOA,EAAC,GAAGA,GAAE,QAAQ;AAAA,IAC/C,CAAC;AAAA,EACH;AAAA,EACA,mBAAmBA,IAAG;AACpB,SAAK,mBAAmB,QAAQ,CAAAC,QAAKD,GAAEC,KAAGS,GAAE,KAAK,CAAC;AAAA,EACpD;AAAA,EACA,mBAAmBV,IAAGC,KAAG;AACvB,SAAK,mBAAmB,QAAQ,CAACC,IAAGC,QAAM;AACxC,SAAED,IAAG,KAAK,eAAeC,GAAC,GAAGH,IAAGC,GAAC;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EACA,wBAAwB;AACtB,WAAO,KAAK,mBAAmB,KAAK,CAAAD,OAAKA,GAAE,OAAO,IAAI,KAAK,yBAAyB,IAAI;AAAA,EAC1F;AAAA,EACA,2BAA2B;AACzB,UAAMA,KAAI,KAAK,OACbC,MAAI,KAAK,sBAAsB,IAAIG,GAAE;AAAA,MACnC,eAAeJ,GAAE;AAAA,IACnB,CAAC,GACDE,KAAIS,GAAE,KAAK,QAAQ,WAAW,KAAK,MAAM,KAAK,QAAQ,gBAAgB;AACxE,WAAO,QAAQT,KAAI,QAAQD,IAAE,QAAQC,GAAE,OAAOD,IAAE,QAAQC,GAAE,OAAO,QAAQ,KAAK,cAAc,KAAK,mBAAmB,KAAK,CAAAF,QAAKA,IAAE,QAAQ,KAAKC,IAAE,SAASC,GAAE,MAAM,QAAQ,KAAK,WAAW,MAAM,OAAOD,IAAE,SAASC,GAAE,MAAM,QAAQ,KAAK,WAAW,MAAM,UAAUD,IAAE,SAAS,GAAGA,IAAE,SAAS,IAAIA;AAAA,EAC/R;AAAA,EACA,cAAc;AAAA,IACZ,QAAQD;AAAA,IACR,aAAaC;AAAA,EACf,GAAG;AACD,UAAMC,KAAI,KAAK,OACbC,MAAI,KAAK;AACX,QAAI,YAAYH,MAAK,CAACC,IAAG;AACzB,UAAMG,MAAIQ,GAAEV,GAAE,KAAK,MAAM,QAAQD,GAAC;AAClC,IAAAU,GAAER,IAAE,cAAc,OAAOC,KAAGS,GAAE,IAAI,CAAC,MAAMV,IAAE,gBAAgB,GAAG,EAAEA,IAAE,eAAe,KAAK,mBAAmB,GAAG,KAAK,4BAA4BA,IAAE,qBAAqB,KAAK,aAAaQ,GAAER,IAAE,gBAAgB,KAAK,MAAMA,IAAE,gBAAgB,GAAGD,GAAE,aAAa;AAAA,MACvP,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EACA,0BAA0BF,IAAGC,KAAG;AAC9B,UAAM;AAAA,MACJ,OAAOC;AAAA,MACP,SAASC;AAAA,IACX,IAAI;AACJ,WAAOW,GAAEd,IAAG,CAACA,KAAGI,KAAGG,QAAM;AACvB,cAAQL,GAAE,eAAeE,IAAE,KAAK,CAAAJ,SAAM,YAAYA,IAAE,UAAUE,GAAE,OAAO,KAAK,eAAe;AAAA,QACzF,QAAQC;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV,CAAC,GAAGH,IAAE,EAAE,KAAKe,GAAEb,GAAE,MAAM,KAAK,oBAAoB,KAAK,CAAC,EAAE,KAAK,CAAAF,QAAM,iCAC9DA,MAD8D;AAAA,QAEjE,QAAQC;AAAA,MACV,EAAE,EAAE,KAAK,KAAK,gCAAgC,CAAC,EAAE,KAAK,GAAG,KAAK,yBAAyB,CAAC,EAAE,KAAK,KAAK,0BAA0B,CAAC,EAAE,KAAK,CAAAD,QAAK;AACzI,cAAMC,MAAI;AAAA,UACR,QAAQE;AAAA,UACR,QAAQH,IAAE;AAAA,UACV,QAAQA,IAAE;AAAA,QACZ;AACA,gBAAQA,IAAE,QAAQ;AAAA,UAChB,KAAK;AAAA,UACL,KAAK;AACH,YAAAE,GAAE,OAAO,KAAK,SAASD,GAAC;AACxB;AAAA,UACF,KAAK;AACH,YAAAC,GAAE,aAAa,MAAMA,GAAE,OAAO,KAAK,cAAcD,GAAC;AAAA,QACtD;AACA,eAAOD;AAAA,MACT,CAAC,GAAGO,IAAE,KAAK,MAAM;AACf,gBAAQL,GAAE,cAAcA,GAAE,OAAO,KAAK,cAAc;AAAA,UAClD,QAAQC;AAAA,UACR,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV,CAAC,GAAGD,GAAE,OAAO;AAAA,MACf,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAAA,EACA,kCAAkC;AAChC,UAAMF,KAAI,KAAK;AACf,WAAO,CAAAC,QAAK;AACV,YAAMC,KAAI,KAAK,qBACbW,MAAIZ,IAAE,OAAO,WACbe,MAAIhB,GAAE,qBACNc,MAAI,KAAK,2BACTG,KAAIT,GAAEK,GAAE,IAAI,GAAGX,GAAE,MAAM;AACzB,QAAEe,IAAGA,IAAGf,GAAE,QAAQ,CAACW,IAAE,CAAC,CAAC,GAAG,EAAEI,IAAGA,IAAGf,GAAE,QAAQ,CAACW,IAAE,CAAC,CAAC;AACjD,YAAMK,MAAIjB,GAAEY,GAAE,IAAI,GAAGZ,IAAE,WAAWgB,EAAC,GACjCL,KAAIX,GAAEY,GAAE,IAAI,GAAGZ,IAAE,aAAagB,EAAC,GAC/BE,KAAI,GAAElB,IAAE,MAAM,GACdmB,KAAI,GAAElB,EAAC,GACPmB,KAAI,GAAErB,GAAE,aAAa,IAAIoB,IACzBE,MAAI,CAACtB,KAAGC,QAAM;AACZ,YAAI,MAAMD,IAAG,QAAO;AACpB,YAAIE,KAAIA,GAAED,GAAC,GACTE,MAAI,MAAKH,MAAIuB,GAAEtB,KAAGiB,GAAC,IAAIhB;AACzB,cAAME,MAAID,MAAI,IAAI,KAAK;AACvB,YAAIgB,IAAG;AACL,UAAAhB,QAAMD,KAAI,MAAKF,MAAIuB,GAAEtB,KAAGW,EAAC,IAAIV,MAAKE,MAAIiB;AAAA,QACxC;AACA,cAAMd,MAAIL,KAAI,MAAMY,MAAI,IAAIU;AAC5B,eAAOtB,KAAI,KAAK,IAAIA,KAAIY,KAAGU,EAAC,GAAGpB,MAAI,MAAMD,OAAKa,MAAIZ,MAAI,KAAK,IAAIA,OAAKD,MAAID,KAAIK,GAAC;AAAA,MAC/E;AACF,aAAO,iCACFN,MADE;AAAA,QAEL,SAASqB,IAAET,IAAE,CAAC,GAAGX,GAAE,MAAM;AAAA,QACzB,SAASoB,IAAET,IAAE,CAAC,GAAGX,GAAE,MAAM;AAAA,MAC3B;AAAA,IACF;AAAA,EACF;AAAA,EACA,4BAA4B;AAC1B,UAAMK,MAAI,KAAK;AACf,WAAO,CAAAC,QAAK;AACV,YAAMF,MAAIE,GAAE,EAAE,GAAGD,IAAE,eAAe,MAAM;AACxC,QAAED,KAAGA,KAAGC,IAAE,eAAe,QAAQ,CAACC,IAAE,OAAO,UAAU,CAAC,CAAC,GAAG,EAAEF,KAAGA,KAAGC,IAAE,eAAe,QAAQ,CAACC,IAAE,OAAO,UAAU,CAAC,CAAC;AACjH,YAAMQ,MAAIT,GAAED,GAAE,GAAGC,IAAE,eAAe,OAAO,CAAC,GAAGA,IAAE,eAAe,OAAO,CAAC,CAAC;AACvE,MAAAE,GAAEO,KAAGA,GAAC;AACN,YAAMC,KAAI,YAAYT,IAAE,SAASiB,GAAE,WAAWA,GAAE;AAChD,UAAI,KAAK,aAAa;AACpB,cAAMzB,KAAI,KAAK,YAAY,MAAMM,KAAGU,KAAGR,IAAE,SAASA,IAAE,SAASS,IAAGhB,IAAE,OAAO;AACzE,UAAEM,IAAE,gBAAgBA,IAAE,SAAS,GAAGA,IAAE,6BAA6BP,EAAC;AAAA,MACpE;AACA,aAAOQ;AAAA,IACT;AAAA,EACF;AACF;AACA,IAAMgB,KAAI;;;AC5LV,IAAME,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,iBAAiB,MAAM,KAAK,QAAQ,MAAM,KAAK,WAAW;AAAA,EACjE;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,QAAQC,IAAG;AACb,QAAI,KAAK,aAAaA,MAAK,QAAQ,KAAK,kBAAkB,QAAQ,KAAK,OAAO;AAC5E,YAAMC,MAAI,iCACL,KAAK,iBADA;AAAA,QAER,QAAQ;AAAA,MACV;AACA,MAAAD,MAAKE,GAAED,GAAC,GAAG,KAAK,MAAM,QAAQA,GAAC;AAAA,IACjC;AACA,SAAK,WAAWD;AAAA,EAClB;AAAA,EACA,8BAA8B;AAC5B,SAAK,iBAAiB;AACtB,UAAMA,KAAI,IAAIG,GAAE;AAChB,WAAO,KAAK,QAAQH,IAAG,CAAC,CAAAA,SAAM,KAAK,iBAAiB,UAAUA,IAAE,SAAS,mBACpEA,OACD,MAAM,KAAK,YAAYE,GAAEF,GAAC,GAAGA,MAAIA,EAAC;AAAA,EACxC;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACA,SAASE,GAAED,KAAG;AACZ,QAAMF,MAAI,GAAEE,IAAE,MAAM,IAAI,KAAK,IAAI,KAAK,IAAIA,IAAE,OAAO,GAAG,KAAK,IAAIA,IAAE,OAAO,CAAC,IAAI,MAAMA,IAAE,OAAO,UAAU,CAAC,IAAI,KAAK,IAAIA,IAAE,OAAO,IAAI,KAAK,IAAIA,IAAE,OAAO;AACnJ,EAAAA,IAAE,UAAUA,IAAE,UAAU,IAAI,CAACF,MAAIA,KAAGE,IAAE,UAAUA,IAAE,UAAU,IAAI,CAACF,MAAIA;AACvE;;;AC9BA,IAAMK,KAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,iBAAiB,MAAM,KAAK,QAAQ,MAAM,KAAK,mBAAmBC,GAAE,CAAC,GAAG,KAAK,WAAW;AAAA,EAC/F;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,QAAQC,IAAG;AACb,QAAI,KAAK,aAAaA,MAAK,QAAQ,KAAK,kBAAkB,QAAQ,KAAK,OAAO;AAC5E,YAAMC,MAAI,iCACL,KAAK,iBADA;AAAA,QAER,QAAQ;AAAA,MACV;AACA,MAAAD,MAAK,KAAK,gBAAgBC,GAAC,GAAG,KAAK,MAAM,QAAQA,GAAC;AAAA,IACpD;AACA,SAAK,WAAWD;AAAA,EAClB;AAAA,EACA,8BAA8B;AAC5B,SAAK,iBAAiB;AACtB,UAAMA,KAAI,IAAIE,GAAE;AAChB,WAAO,KAAK,QAAQF,IAAG,CAAC,CAAAA,SAAM,KAAK,iBAAiB,UAAUA,IAAE,SAAS,mBACpEA,OACD,MAAM,KAAK,YAAY,KAAK,gBAAgBA,GAAC,GAAGA,MAAIA,EAAC;AAAA,EAC3D;AAAA,EACA,gBAAgBA,IAAG;AACjB,IAAAA,GAAE,cAAc,KAAK,MAAMA,GAAE,cAAc,KAAK,gBAAgB,IAAI,KAAK;AAAA,EAC3E;AACF;;;ACFA,IAAIG,KAAI,cAAcC,GAAE;AAAA,EACtB,IAAI,WAAW;AACb,WAAO,CAAC,CAAC,KAAK,OAAO;AAAA,EACvB;AAAA,EACA,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,SAAS,IAAIC,GAAE,GAAG,KAAK,UAAU,MAAI,KAAK,gBAAgB,MAAI,KAAK,iBAAiB,MAAI,KAAK,gBAAgB,IAAIC,GAAE,GAAG,KAAK,uBAAuB,IAAIC,IAAE,GAAG,KAAK,gBAAgB,IAAIJ,GAAE,GAAG,KAAK,WAAW,OAAI,KAAK,aAAa,MAAM,KAAK,oBAAoB,MAAM,KAAK,OAAO,gBAAgB,KAAK,wBAAwB;AAAA,EAC9U;AAAA,EACA,aAAa;AACX,UAAM;AAAA,MACF,MAAMC;AAAA,MACN,QAAQI;AAAA,IACV,IAAI,MACJC,KAAI,KAAK,UAAU,IAAIC,IAAE,MAAM,MAAM,KAAK,oBAAoB,CAAC;AACjE,SAAK,cAAc,IAAIC,GAAE,MAAMF,EAAC,GAAG,KAAK,eAAe,IAAIG,GAAE,MAAMH,IAAG,MAAM,KAAK,qBAAqB,4BAA4B,CAAC,GAAG,KAAK,gBAAgB,IAAII,GAAE,MAAMJ,IAAG,MAAM,KAAK,cAAc,4BAA4B,CAAC,GAAG,KAAK,WAAW,CAACK,GAAE,MAAM,KAAK,SAAS,MAAM,KAAK,+BAA+B,KAAK,YAAY,kBAAkBC,GAAE,WAAW,CAAC,GAAGD,GAAE,MAAM,KAAK,eAAe,MAAM,KAAK,aAAa,mBAAmB,CAAAV,QAAK,KAAK,+BAA+BA,KAAGW,GAAE,KAAK,CAAC,CAAC,GAAGD,GAAE,MAAM,KAAK,gBAAgB,MAAM,KAAK,+BAA+B,KAAK,cAAc,mBAAmBC,GAAE,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,oBAAoB,GAAG,KAAK,kCAAkC;AACrqB,UAAMZ,MAAIG,IAAE;AAAA,MACV,MAAMF;AAAA,MACN,QAAQI;AAAA,MACR,oBAAoB,CAAAJ,QAAK,KAAK,oBAAoBA,GAAC;AAAA,MACnD,uBAAuB,MAAM,EAAE;AAAA,IACjC,CAAC;AACD,QAAI,QAAQD,KAAG;AACb,YAAM;AAAA,QACJ,eAAeC;AAAA,MACjB,IAAID;AACJ,MAAAC,eAAaY,OAAM,KAAK,wBAAwBZ,KAAG,KAAK,WAAWA,IAAE,OAAO,GAAG,6BAA6B,MAAM,KAAK,QAAQ,oBAAoB,CAAC,CAAC,IAAI,KAAK,WAAWD,GAAC;AAAA,IAC5K;AACA,SAAK,WAAW,CAACK,IAAE,GAAG,aAAa,MAAM,KAAK,mBAAmB,CAAC,GAAGM,GAAE,MAAM,KAAK,OAAO,SAAS,MAAM,KAAK,kCAAkC,CAAC,GAAGA,GAAE,MAAM,KAAK,OAAO,UAAU,MAAM,KAAK,sBAAsB,GAAG,CAAC,GAAGA,GAAE,MAAMV,GAAE,kBAAkB,wBAAwB,UAAU,MAAMK,GAAE,oBAAoB,CAAC,CAAC,CAAC;AACtT,UAAMQ,MAAI,CAAAb,QAAK;AACb,WAAK,WAAWA,IAAE,OAAO,GAAG,gBAAgB,MAAM;AAChD,aAAK,WAAWA,IAAE,UAAU,KAAK,kCAAkC;AAAA,MACrE,CAAC,CAAC;AAAA,IACJ;AACA,SAAK,oBAAoBa,GAAC;AAC1B,UAAMX,MAAI,CAACF,KAAGc,QAAM;AAClB,WAAK,WAAWd,IAAE,OAAO,GAAG,mBAAmB,CAAAA,QAAK;AAClD,QAAAc,QAAMH,GAAE,gBAAgB,KAAK,OAAO,KAAK,mBAAmB,iCACvDX,MADuD;AAAA,UAE1D,QAAQI;AAAA,QACV,EAAC,GAAGJ,IAAE,gBAAgB;AAAA,MACxB,CAAC,CAAC;AAAA,IACJ;AACA,SAAK,oBAAoBE,GAAC,GAAG,KAAK,mBAAmB,GAAG,KAAK,mBAAmB;AAAA,EAClF;AAAA,EACA,UAAU;AACR,SAAK,YAAY,QAAQ,GAAG,KAAK,aAAa,QAAQ,GAAG,KAAK,cAAc,QAAQ,GAAG,KAAK,QAAQ,QAAQ,GAAG,KAAK,KAAK,QAAQ,IAAI,GAAG,KAAK,KAAK,UAAU,IAAI;AAAA,EAClK;AAAA,EACA,qBAAqB;AACnB,UAAM;AAAA,MACF,MAAMF;AAAA,IACR,IAAI,MACJI,MAAI,KAAK,UAAU,IAAIW,GAAE;AAAA,MACvB,MAAMf;AAAA,IACR,CAAC,GACDc,MAAI,MAAM;AACR,MAAAV,IAAE,OAAO,KAAK,uBAAuB;AAAA,IACvC;AACF,SAAK,WAAW,CAACM,GAAE,MAAM,KAAK,cAAc,SAAS,kBAAkBI,GAAC,GAAG,KAAK,OAAO,GAAG,mBAAmBA,GAAC,GAAG,KAAK,OAAO,GAAG,aAAaA,GAAC,GAAG,KAAK,OAAO,GAAG,kBAAkB,MAAM,KAAK,QAAQ,MAAM,CAAC,GAAG,KAAK,OAAO,GAAG,gBAAgBA,GAAC,GAAG,KAAK,OAAO,GAAG,UAAUA,GAAC,GAAG,KAAK,OAAO,GAAG,eAAeA,GAAC,GAAG,KAAK,OAAO,GAAG,eAAeA,GAAC,GAAG,KAAK,OAAO,GAAG,SAASA,GAAC,GAAG,KAAK,OAAO,GAAG,cAAcA,GAAC,CAAC,CAAC,GAAG,KAAK,oBAAoB,CAAAd,QAAK;AAC9a,WAAK,WAAW,CAACA,IAAE,OAAO,GAAG,iBAAiBc,GAAC,GAAGd,IAAE,OAAO,GAAG,gBAAgBc,GAAC,GAAGd,IAAE,OAAO,GAAG,QAAQ,CAAAA,QAAK;AACzG,qBAAaA,IAAE,SAAS,KAAK,QAAQ,MAAM,IAAIc,IAAE;AAAA,MACnD,CAAC,CAAC,CAAC;AAAA,IACL,CAAC;AAAA,EACH;AAAA,EACA,yBAAyB;AACvB,WAAO,KAAK,cAAc,SAAS,mBAAmB,KAAK,YAAY,sBAAsB,KAAK,KAAK,aAAa,sBAAsB,KAAK,KAAK,cAAc,sBAAsB,IAAI;AAAA,EAC9L;AAAA,EACA,qBAAqB;AACnB,SAAK,QAAQ,oBAAoB;AAAA,EACnC;AAAA,EACA,wBAAwB;AACtB,SAAK,cAAcE,GAAC,GAAG,KAAK,QAAQ,oBAAoB,GAAG,KAAK,OAAO,YAAY,KAAK,WAAW,KAAK,KAAK,kBAAkB,GAAG,oBAAoB,CAAAhB,OAAK;AACzJ,cAAQ,KAAK,qBAAqB,EAAEA,GAAE,QAAQ,KAAK,kBAAkB,GAAG,KAAK,kBAAkB,CAAC,KAAK,KAAK,QAAQ,oBAAoB;AAAA,IACxI,CAAC,GAAGgB,GAAC;AAAA,EACP;AAAA,EACA,sBAAsB;AACpB,QAAI,CAAC,KAAK,QAAS;AACnB,UAAMhB,KAAI,KAAK,QAAQ,eACrBI,MAAI,GAAEJ,IAAGiB,GAAE,IAAI,CAAC;AAClB,SAAK,YAAY,mBAAmBb,KAAGJ,EAAC,GAAG,KAAK,aAAa,mBAAmBI,KAAGJ,EAAC,GAAG,KAAK,cAAc,mBAAmBI,KAAGJ,EAAC;AAAA,EACnI;AAAA,EACA,oCAAoC;AAClC,SAAK,oBAAoB,CAACA,IAAGI,QAAM,KAAK,+BAA+BJ,IAAGI,GAAC,CAAC;AAAA,EAC9E;AAAA,EACA,+BAA+BJ,IAAGI,KAAG;AACnC,UAAMU,MAAI,KAAK,YAAY,CAACd,GAAE;AAC9B,QAAIA,GAAE,cAAc,CAACc,KAAGd,cAAa,IAAG;AACtC,YAAMC,MAAI,KAAK,OAAO,SACpBE,MAAI,KAAK,WAAWF,GAAE,KAAK,OAAO,YAAY,KAAK,OAAO,aAAa;AACzE,cAAQG,KAAG;AAAA,QACT,KAAKO,GAAE;AACL,UAAAX,GAAE,YAAYC,OAAK,KAAK;AACxB;AAAA,QACF,KAAKU,GAAE;AACL,UAAAX,GAAE,YAAYC,QAAM,KAAK,iBAAiB,KAAK,kBAAkBE,MAAIH,GAAE,cAAc,CAACc,OAAK,KAAK,eAAed,GAAE,QAAQ,KAAK,gBAAgB,KAAI;AAClJ;AAAA,QACF,KAAKW,GAAE;AACL,UAAAX,GAAE,YAAYC,OAAKE;AACnB;AAAA,QACF;AACE,UAAAH,GAAE,YAAYC;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EACA,oBAAoBD,IAAG;AACrB,SAAK,YAAY,mBAAmBA,EAAC,GAAG,KAAK,aAAa,mBAAmBA,EAAC,GAAG,KAAK,cAAc,mBAAmBA,EAAC;AAAA,EAC1H;AAAA,EACA,IAAI,sBAAsB;AACxB,WAAO,KAAK,qBAAqB;AAAA,EACnC;AAAA,EACA,IAAI,oBAAoBA,IAAG;AACzB,SAAK,qBAAqB,UAAUA,IAAG,KAAK,KAAK,uBAAuBA,EAAC;AAAA,EAC3E;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,aAAaA,IAAG;AAClB,SAAK,cAAc,UAAUA,IAAG,KAAK,KAAK,gBAAgBA,EAAC;AAAA,EAC7D;AAAA,EACA,IAAI,mBAAmB;AACrB,UAAMA,KAAI,KAAK,OAAO,WAAW,OAAO,KAAK,uBAAuB;AACpE,WAAO,KAAK,oBAAoBA,MAAK,KAAK,OAAO,UAAUA,GAAE,KAAK,MAAM,GAAG,QAAQ,QAAQ,KAAK;AAAA,EAClG;AAAA,EACA,QAAQ;AAAA,EAAC;AAAA,EACT,SAAS;AACP,QAAI,KAAK,SAAS;AAChB,YAAMA,KAAI,KAAK,OAAO,YAAY,KAAK;AACvC,MAAAA,MAAK,KAAK,QAAQ,oCAAoCA,EAAC;AAAA,IACzD;AACA,SAAK,aAAa;AAAA,EACpB;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,CAAC,CAAC,KAAK,OAAO,YAAY;AAAA,EACnC;AAAA,EACA,OAAO;AACL,QAAI,QAAQ,KAAK,WAAY,MAAK,KAAK,aAAa;AAAA,aAAc,KAAK,SAAS;AAC9E,YAAMA,KAAI,KAAK,OAAO,YAAY,KAAK;AACvC,MAAAA,MAAK,KAAK,QAAQ,oCAAoCA,EAAC;AAAA,IACzD;AAAA,EACF;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,CAAC,CAAC,KAAK,OAAO,YAAY;AAAA,EACnC;AAAA,EACA,OAAO;AACL,QAAI,KAAK,SAAS;AAChB,YAAMA,KAAI,KAAK,OAAO,YAAY,KAAK;AACvC,MAAAA,MAAK,KAAK,QAAQ,6BAA6BA,EAAC;AAAA,IAClD;AAAA,EACF;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACAI,GAAE,CAAC,EAAE,CAAC,GAAGN,GAAE,WAAW,YAAY,IAAI,GAAGM,GAAE,CAAC,EAAE;AAAA,EAC5C,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAGN,GAAE,WAAW,QAAQ,MAAM,GAAGM,GAAE,CAAC,EAAE;AAAA,EACtC,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAGN,GAAE,WAAW,UAAU,MAAM,GAAGM,GAAE,CAAC,EAAE,CAAC,GAAGN,GAAE,WAAW,WAAW,MAAM,GAAGM,GAAE,CAAC,EAAE,CAAC,GAAGN,GAAE,WAAW,iBAAiB,MAAM,GAAGM,GAAE,CAAC,EAAE,CAAC,GAAGN,GAAE,WAAW,kBAAkB,MAAM,GAAGM,GAAE,CAAC,EAAE;AAAA,EACnL,eAAe;AAAA,EACf,MAAMF;AACR,CAAC,CAAC,GAAGJ,GAAE,WAAW,iBAAiB,MAAM,GAAGM,GAAE,CAAC,EAAE,CAAC,GAAGN,GAAE,WAAW,uBAAuB,IAAI,GAAGM,GAAE,CAAC,EAAE,CAAC,GAAGN,GAAE,WAAW,gBAAgB,IAAI,GAAGM,GAAE,CAAC,EAAE,CAAC,GAAGN,GAAE,WAAW,YAAY,MAAM,GAAGM,GAAE,CAAC,EAAE,CAAC,GAAGN,GAAE,WAAW,cAAc,MAAM,GAAGM,GAAE,CAAC,EAAE;AAAA,EACxO,UAAU;AACZ,CAAC,CAAC,GAAGN,GAAE,WAAW,QAAQ,MAAM,GAAGM,GAAE,CAAC,EAAE,CAAC,GAAGN,GAAE,WAAW,WAAW,MAAM,GAAGA,KAAIM,GAAE,CAAC,EAAE,sEAAsE,CAAC,GAAGN,EAAC;AACjK,IAAMkB,MAAI;;;AC1LV,SAASE,IAAEC,KAAG;AACZ,SAAO,QAAQA,OAAK,WAAWA,IAAE,OAAOC,IAAED,GAAC,IAAIE,IAAEF,GAAC;AACpD;AACA,SAASC,IAAED,KAAG;AACZ,SAAOG,GAAEH,IAAE,WAAW,IAAII,IAAEJ,KAAGA,IAAE,WAAWA,IAAE,WAAW,IAAIK,IAAEL,GAAC;AAClE;AACA,SAASE,IAAEF,KAAG;AACZ,MAAIM,KAAIN,KACND,MAAI;AACN,SAAO;AAAA,IACL,KAAKC,KAAG;AACN,MAAAD,MAAIC,IAAE,UAAUA,IAAE,WAAWM;AAAA,IAC/B;AAAA,IACA,KAAKN,KAAG;AACN,MAAAM,KAAIN,IAAE,UAAUA,IAAE,WAAWD;AAAA,IAC/B;AAAA,EACF;AACF;AACA,SAASK,IAAEE,IAAGP,KAAGE,KAAG;AAClB,MAAIC,MAAIH,KAAG,MAAM,GACfK,MAAIE,GAAEL,IAAE,MAAM,GACdI,MAAI,MACJE,MAAI;AACN,SAAO;AAAA,IACL,MAAM,MAAM;AACV,MAAAF,MAAIC,GAAE,WAAW,MAAM,GAAGC,MAAID,GAAEL,IAAE,MAAM,GAAGK,GAAE,YAAYJ,KAAGI,GAAE,YAAY,SAASF;AAAA,IACrF;AAAA,IACA,MAAM,MAAM;AACV,MAAAF,MAAII,GAAE,WAAW,MAAM,GAAGF,MAAIE,GAAEL,IAAE,MAAM,GAAGK,GAAE,YAAYD,KAAGC,GAAE,YAAY,SAASC;AAAA,IACrF;AAAA,EACF;AACF;AACA,SAASF,IAAEL,KAAG;AACZ,MAAIM,IACFP,MAAIC,IAAE,iBAAiB,gBAAgB;AACzC,SAAO;AAAA,IACL,MAAM,MAAM;AACV,MAAAM,KAAIN,IAAE,iBAAiB,gBAAgB,GAAGA,IAAE,mBAAmBD;AAAA,IACjE;AAAA,IACA,MAAM,MAAM;AACV,MAAAA,MAAIC,IAAE,iBAAiB,gBAAgB,GAAGA,IAAE,mBAAmBM;AAAA,IACjE;AAAA,EACF;AACF;;;AC5BA,IAAME,MAAI,OAAO;AACjB,IAAIC,MAAI,cAAcC,GAAE,gBAAgB;AAAA,EACtC,IAAI,aAAa;AACf,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,iBAAiB;AAAA,EAC/B;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAOC,GAAE,KAAK,OAAO;AAAA,EACvB;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,SAAS;AACX,WAAO,EAAE,KAAK,MAAM,KAAK,OAAO;AAAA,EAClC;AAAA,EACA,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,mBAAmB,IAAIC,GAAE;AAAA,EAC1C;AAAA,EACA,UAAU;AACR,SAAK,cAAc,EAAE,KAAK,WAAW,GAAG,KAAK,iBAAiB,QAAQ;AAAA,EACxE;AAAA,EACA,aAAa;AACX,SAAK,gBAAgB,IAAIC,IAAE;AAAA,MACzB,SAAS,KAAK;AAAA,IAChB,CAAC,GAAG,KAAK,cAAc,GAAG,WAAW,MAAM,KAAK,KAAK,WAAW,CAAC,GAAG,KAAK,WAAW,KAAK,KAAK,kBAAkB,KAAK,aAAa,CAAC,GAAG,KAAK,WAAW,KAAK,iBAAiB,IAAI,MAAM,KAAK,QAAQ,UAAU,CAAAF,OAAK;AAChN,YAAME,MAAI,KAAK,aAAa,KAAK;AACjC,UAAIF,OAAME,KAAG;AACX,YAAI,CAACF,MAAK,iBAAiBA,IAAG,QAAQ,aAAaA,IAAG,KAAM,QAAO,EAAE,KAAK,WAAW,GAAG,KAAK,cAAcJ,GAAC,GAAG,MAAM,KAAK,cAAc;AACxI,YAAI,KAAK,aAAa,eAAeI,EAAC,EAAG,MAAK,KAAK,qBAAqB;AAAA,aAAO;AAC7E,YAAE,KAAK,WAAW,GAAG,KAAK,cAAcJ,GAAC;AACzC,gBAAMM,MAAIC,GAAE,aAAaH,IAAG,KAAK,KAAK,MAAM,WAAW;AACvD,eAAK,cAAcE,KAAG,KAAK,WAAWA,IAAE,KAAK,GAAG,UAAU,MAAM,KAAK,QAAQ,WAAWA,IAAE,KAAK,QAAQ,GAAGN,GAAC;AAAA,QAC7G;AAAA,MACF;AAAA,IACF,GAAG,CAAC,CAAC;AAAA,EACP;AAAA,EACA,kBAAkBI,IAAG;AACnB,WAAO,IAAII,GAAE;AAAA,MACX,MAAM,KAAK;AAAA,MACX,SAAS,KAAK;AAAA,OACXJ,GACJ;AAAA,EACH;AAAA,EACA,eAAe;AACb,WAAO,KAAK,KAAK,aAAa,KAAK,OAAO;AAAA,EAC5C;AAAA,EACA,iBAAiB;AACf,UAAMA,KAAI,KAAK,QAAQ;AACvB,eAAWA,IAAG,QAAQ,KAAK,QAAQ,2BAA2B;AAAA,MAC5D,QAAQD,GAAE;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EACA,MAAMC,IAAG;AACP,WAAO,KAAK,KAAK,MAAMA,IAAG;AAAA,MACxB,SAAS,CAAC,KAAK,OAAO;AAAA,IACxB,CAAC;AAAA,EACH;AAAA,EACA,mBAAmB;AACjB,UAAM;AAAA,MACJ,SAAS;AAAA,QACP,UAAUA;AAAA,MACZ;AAAA,IACF,IAAI;AACJ,WAAOK,IAAEL,EAAC;AAAA,EACZ;AACF;AACAE,GAAE,CAAC,EAAE;AAAA,EACH,eAAe;AACjB,CAAC,CAAC,GAAGL,IAAE,WAAW,QAAQ,MAAM,GAAGK,GAAE,CAAC,EAAE;AAAA,EACtC,eAAe;AACjB,CAAC,CAAC,GAAGL,IAAE,WAAW,WAAW,MAAM,GAAGK,GAAE,CAAC,EAAE,CAAC,GAAGL,IAAE,WAAW,eAAe,MAAM,GAAGK,GAAE,CAAC,EAAE,CAAC,GAAGL,IAAE,WAAW,cAAc,IAAI,GAAGK,GAAE,CAAC,EAAE,CAAC,GAAGL,IAAE,WAAW,YAAY,IAAI,GAAGA,MAAIK,GAAE,CAAC,EAAE,mEAAmE,CAAC,GAAGL,GAAC;",
  "names": ["G", "M", "A", "S", "t", "e", "d", "u", "R", "q", "o", "s", "r", "i", "n", "l", "a", "c", "T", "p", "b", "h", "x", "m", "F", "v", "_", "H", "j", "z", "a", "A", "e", "t", "o", "s", "i", "m", "l", "c", "a", "t", "d", "s", "A", "z", "E", "e", "j", "t", "i", "h", "u", "s", "d", "A", "a", "F", "l", "c", "R", "r", "n", "m", "p", "G", "o", "U", "f", "w", "n", "o", "r", "t", "e", "i", "l", "m", "r", "c", "a", "l", "t", "o", "p", "v", "d", "A", "f", "e", "i", "u", "n", "s", "V", "E", "y", "R", "N", "a", "s", "A", "y", "t", "n", "a", "S", "l", "M", "r", "e", "s", "w", "D", "c", "j", "m", "u", "d", "p", "v", "L", "G", "h", "A", "x", "C", "V", "P", "T", "O", "U", "X", "o", "P", "t", "o", "n", "S", "I", "r", "e", "s", "c", "m", "f", "j", "E", "G", "h", "d", "A", "L", "M", "R", "a", "O", "z", "B", "V", "U", "i", "l", "C", "x", "l", "t", "P", "y", "l", "t", "A", "n", "e", "o", "p", "r", "a", "h", "u", "M", "v", "j", "i", "r", "o", "h", "e", "i", "r", "o", "h", "e", "L", "t", "N", "o", "e", "q", "J", "n", "l", "h", "G", "r", "P", "a", "c", "i", "u", "d", "s", "w", "p", "S", "z", "m", "A", "W", "y", "E", "R", "f", "m", "e", "r", "o", "n", "Z", "p", "t", "s", "j", "F", "f", "u", "_", "E", "i", "g", "l", "d", "C", "c", "v", "p", "r", "o", "h", "e", "S", "t", "e", "o", "p", "i", "X", "a", "l", "V", "d", "A", "E", "n", "u", "R", "s", "r", "v", "Y", "y", "c", "Z", "P", "m", "h", "D", "J", "S", "e", "h", "j", "o", "t", "i", "f", "n", "s", "d", "a", "X", "E", "l", "c", "u", "r", "p", "R", "A", "D", "v", "w", "y", "M", "m", "C", "g", "_", "F", "Z", "l", "n", "e", "o", "t", "G", "p", "p", "S", "t", "e", "y", "h", "z", "g", "o", "r", "i", "a", "S", "t", "c", "e", "i", "l", "n", "h", "o", "p", "r", "s", "e", "r", "o", "e", "r", "o", "e", "r", "o", "t", "u", "S", "q", "o", "h", "d", "e", "A", "a", "p", "i", "r", "l", "c", "O", "E", "F", "w", "s", "m", "k", "n", "f", "P", "x", "b", "g", "j", "_", "v", "D", "T", "wt", "r", "h", "t", "x", "F", "e", "i", "h", "r", "o", "e", "z", "n", "t", "o", "l", "h", "a", "u", "e", "s", "i", "r", "c", "f", "E", "R", "d", "m", "G", "p", "v", "F", "b", "t", "e", "o", "i", "l", "I", "H", "A", "n", "s", "x", "f", "c", "a", "r", "u", "h", "g", "p", "G", "j", "v", "E", "M", "t", "e", "o", "r", "a", "n", "g", "l", "A", "f", "u", "c", "s", "E", "m", "S", "p", "O", "F", "w", "x", "t", "o", "W", "s", "i", "D", "d", "E", "e", "a", "n", "r", "p", "l", "c", "F", "O", "f", "U", "u", "m", "h", "B", "j", "y", "A", "v", "_", "R", "C", "M", "z", "P", "J", "S", "w", "I", "k", "j", "t", "e", "s", "a", "i", "W", "n", "o", "r", "v", "A", "S", "m", "c", "p", "O", "l", "d", "u", "f", "z", "y", "x", "P", "B", "E", "a", "t", "e", "n", "w", "n", "h", "t", "e", "w", "T", "n", "t", "o", "l", "a", "e", "s", "x", "b", "j", "M", "d", "A", "w", "r", "i", "h", "S", "f", "r", "e", "o", "n", "a", "i", "l", "t", "u", "l", "u", "o", "a", "t", "h", "e", "E", "S", "r"]
}
