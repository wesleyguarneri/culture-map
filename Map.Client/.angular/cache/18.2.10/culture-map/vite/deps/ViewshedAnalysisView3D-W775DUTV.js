import {
  C as C2
} from "./chunk-3J75CTGF.js";
import "./chunk-DPEX222Z.js";
import "./chunk-EM7X4J4S.js";
import {
  A as A2,
  o as o6,
  t2 as t4,
  u2 as u4
} from "./chunk-FP2KUV22.js";
import {
  j as j4
} from "./chunk-XJ3IF5WI.js";
import {
  b,
  s as s4
} from "./chunk-2VS3JZZD.js";
import {
  t as t3
} from "./chunk-72NV56FN.js";
import {
  G
} from "./chunk-RK23OHNG.js";
import "./chunk-QXRVL2BR.js";
import {
  O as O4,
  k
} from "./chunk-SR7MLPR2.js";
import {
  a as a4,
  l as l2,
  v as v2
} from "./chunk-FE5XLG7H.js";
import {
  o as o5
} from "./chunk-KEZPVBFI.js";
import {
  s as s3
} from "./chunk-ZRC4V45K.js";
import {
  c as c3
} from "./chunk-DC55WDRO.js";
import {
  O as O3,
  e as e7,
  ee,
  f as f2,
  w2
} from "./chunk-ZYJAXFRJ.js";
import {
  M as M2,
  f as f3,
  h as h4,
  p as p3
} from "./chunk-VRZ6RXNW.js";
import "./chunk-GN4ES4ZM.js";
import {
  f as f4
} from "./chunk-XLRVEQZV.js";
import "./chunk-T35SJNQV.js";
import "./chunk-2CPAIFT3.js";
import {
  E2
} from "./chunk-Q666VSL3.js";
import {
  p as p4
} from "./chunk-4SCJM64G.js";
import "./chunk-67V5AGVJ.js";
import "./chunk-2CASBEEF.js";
import "./chunk-NYQFHEZN.js";
import "./chunk-AV4NBVPL.js";
import "./chunk-UHYV4RE2.js";
import {
  h as h3
} from "./chunk-APWDCJIJ.js";
import "./chunk-NEPAFG4J.js";
import "./chunk-E7VVOB2F.js";
import "./chunk-DOYOAB3G.js";
import "./chunk-DDIAZD6H.js";
import "./chunk-4KGPH7OX.js";
import "./chunk-TLAW3ACJ.js";
import {
  d as d3
} from "./chunk-GFPWBDCO.js";
import "./chunk-MQUE5HQL.js";
import "./chunk-TKHURHLF.js";
import "./chunk-U7YHNT5S.js";
import "./chunk-UW23RIEM.js";
import {
  z as z2
} from "./chunk-R6CAUNOR.js";
import "./chunk-6BPYXCCQ.js";
import "./chunk-TMIIQZKR.js";
import "./chunk-ROVEMBDA.js";
import "./chunk-ZIDRXKSJ.js";
import {
  H
} from "./chunk-DBK2ELNZ.js";
import "./chunk-JMV2M56E.js";
import "./chunk-S2UCXOWF.js";
import "./chunk-VI6HLZLR.js";
import "./chunk-MYKOM3G6.js";
import "./chunk-6FZS4YUQ.js";
import "./chunk-JRZPZOI3.js";
import "./chunk-GW7WMRYJ.js";
import "./chunk-Z52R7W33.js";
import {
  gt,
  pt,
  st,
  wt
} from "./chunk-O7OCS6XP.js";
import "./chunk-BFWLPS7M.js";
import "./chunk-67LE7VNQ.js";
import "./chunk-ZVEHH7XL.js";
import "./chunk-BJM7H6OC.js";
import "./chunk-5MM5MT6Q.js";
import "./chunk-SCLVG2SO.js";
import "./chunk-557LD7Q2.js";
import "./chunk-X5UPCJEP.js";
import "./chunk-2ONAF54K.js";
import {
  c as c2
} from "./chunk-FLWLBYXO.js";
import {
  t as t2
} from "./chunk-F2TT4B6M.js";
import "./chunk-2ERGO64O.js";
import "./chunk-RP2GKJCD.js";
import "./chunk-B6VSQC7C.js";
import "./chunk-6YA72G7G.js";
import {
  f
} from "./chunk-GHUJU3NS.js";
import "./chunk-7HBD4CJ3.js";
import "./chunk-K2LTET4M.js";
import "./chunk-WG5JLPNN.js";
import "./chunk-25PMMPR7.js";
import "./chunk-7XAWCQ7R.js";
import "./chunk-RASN5P76.js";
import "./chunk-5L3YXBNN.js";
import "./chunk-IFUKJDOU.js";
import "./chunk-LD5YIQXD.js";
import "./chunk-J7KF6IEI.js";
import "./chunk-GOKBAMCG.js";
import "./chunk-E3P3LIVT.js";
import "./chunk-HUX6Y26H.js";
import "./chunk-LN4EMOLP.js";
import "./chunk-A6XTYETO.js";
import "./chunk-4TJAOUC3.js";
import "./chunk-CILAEMQM.js";
import "./chunk-3HAZL2RZ.js";
import "./chunk-TEOUFCJA.js";
import "./chunk-GTZOXRB5.js";
import "./chunk-3WPOFZBT.js";
import "./chunk-PPMHRAOP.js";
import "./chunk-75N5YDQB.js";
import "./chunk-XGDLE7WK.js";
import "./chunk-QMUS26QM.js";
import "./chunk-GDEAPZ64.js";
import "./chunk-TCQSUQ7Y.js";
import "./chunk-GOOZVNO4.js";
import "./chunk-5RHKQDDL.js";
import "./chunk-BG32AOSQ.js";
import "./chunk-PEZTN5WV.js";
import "./chunk-FHW2TG7X.js";
import "./chunk-33LKI2Y7.js";
import "./chunk-YCQXFVJL.js";
import "./chunk-ZAP7ZEWR.js";
import {
  h as h2
} from "./chunk-YAGNWBGU.js";
import "./chunk-DE6MQ5XE.js";
import "./chunk-LQTSBE7P.js";
import "./chunk-GCFUJXGH.js";
import "./chunk-MBMY7SS6.js";
import "./chunk-ICUHXX2J.js";
import "./chunk-VIIVMRRO.js";
import "./chunk-ZKSEQXDM.js";
import "./chunk-675UQNXB.js";
import "./chunk-DXGCBLDW.js";
import "./chunk-Z3FHX4FD.js";
import "./chunk-SUUOAZQT.js";
import "./chunk-TGHJVD7I.js";
import "./chunk-OZG2NNUW.js";
import "./chunk-KTRZHJ2M.js";
import "./chunk-KOIKSJSQ.js";
import "./chunk-VUVXW4AC.js";
import "./chunk-LKHUGH5W.js";
import "./chunk-QZVEEM53.js";
import "./chunk-ACZYDHB3.js";
import "./chunk-JXVDTUGR.js";
import "./chunk-HAO4WCNW.js";
import "./chunk-X2OAE75B.js";
import "./chunk-UCPBGEQD.js";
import "./chunk-SIZK72CP.js";
import {
  a as a3,
  n as n3
} from "./chunk-SLCHZ6DD.js";
import "./chunk-6A3XUATG.js";
import {
  e as e6
} from "./chunk-ZVFENZUF.js";
import "./chunk-N3S77FRG.js";
import "./chunk-YYETZJJB.js";
import "./chunk-MD2IQSSQ.js";
import "./chunk-C7VF4AR2.js";
import "./chunk-P7OSFLIX.js";
import "./chunk-ZDC4PV4Y.js";
import "./chunk-DLRYNII2.js";
import "./chunk-66QAJ2MI.js";
import "./chunk-WN3YAMRZ.js";
import "./chunk-NWICVENM.js";
import "./chunk-A4RKV2C7.js";
import "./chunk-WU7FVYT7.js";
import {
  s as s2
} from "./chunk-SYYDVGKY.js";
import "./chunk-6HBAAUBO.js";
import "./chunk-YLE5AYZV.js";
import "./chunk-CZQYBYHB.js";
import "./chunk-Q5ZRUB2Y.js";
import "./chunk-62WUYJJN.js";
import "./chunk-JNWMZ6EJ.js";
import "./chunk-VS26W5Y5.js";
import "./chunk-YFQ32AQX.js";
import "./chunk-L4AYSXFJ.js";
import "./chunk-POQ3T5EH.js";
import "./chunk-DM4WHMQY.js";
import "./chunk-6MR4UDDL.js";
import "./chunk-KE2YMCJC.js";
import "./chunk-O2DTA3XK.js";
import "./chunk-3UOXF3CT.js";
import "./chunk-PA7WZX2U.js";
import "./chunk-GPUGMSHU.js";
import "./chunk-AIS5CSUZ.js";
import "./chunk-52UEU7LG.js";
import "./chunk-WJKYGQOY.js";
import "./chunk-GY52WOQZ.js";
import "./chunk-GAYJ4YPJ.js";
import "./chunk-PPMDUJ4E.js";
import "./chunk-ZTT6ENBS.js";
import "./chunk-MFZTGYUJ.js";
import "./chunk-R5ZE5A4K.js";
import "./chunk-24CN3HDP.js";
import "./chunk-SZWWBMQN.js";
import "./chunk-ZE47C44H.js";
import {
  v
} from "./chunk-5GIS2C3K.js";
import "./chunk-XCOHDMBF.js";
import "./chunk-HOH445RO.js";
import "./chunk-R3F4JMNC.js";
import "./chunk-7B5YPLFX.js";
import "./chunk-RDQF44TE.js";
import {
  o as o4
} from "./chunk-KKD7A2GN.js";
import "./chunk-ZWCV4HKG.js";
import {
  E,
  J as J2,
  j as j3
} from "./chunk-N4KQPPPI.js";
import "./chunk-4OGGMTIH.js";
import "./chunk-NQVBBKAN.js";
import "./chunk-TCPN7AEH.js";
import "./chunk-4MMTPKY4.js";
import {
  n as n2
} from "./chunk-DY7FJHTG.js";
import "./chunk-KVKFHRJ3.js";
import "./chunk-VWML4J2J.js";
import "./chunk-JYODC3YQ.js";
import {
  e as e5
} from "./chunk-BQZBOYBD.js";
import "./chunk-TYQXPPSP.js";
import "./chunk-SWPHGZYB.js";
import "./chunk-HD65DNIO.js";
import "./chunk-4KWLMXIA.js";
import "./chunk-BIUXKPKA.js";
import "./chunk-N6TJI25E.js";
import "./chunk-634JLXD4.js";
import "./chunk-Y3EDGYWG.js";
import "./chunk-UF6JOUSJ.js";
import "./chunk-T5JGQSO3.js";
import {
  i
} from "./chunk-CIW3KHOW.js";
import "./chunk-J55F4AC2.js";
import "./chunk-IQLBZKUD.js";
import "./chunk-7MZZCQ64.js";
import "./chunk-IMVP5ADD.js";
import "./chunk-H7WPOTQH.js";
import "./chunk-6A7CWJED.js";
import {
  K as K2
} from "./chunk-DUTZNK67.js";
import "./chunk-IN6BQCWS.js";
import "./chunk-3RRMLFFN.js";
import "./chunk-HT2T6PUB.js";
import "./chunk-K64AAM77.js";
import "./chunk-6EUVKE22.js";
import {
  J,
  R,
  c,
  d as d2,
  g as g3,
  p as p2,
  q,
  y as y2
} from "./chunk-XTVPEVHA.js";
import "./chunk-DTUSTSEJ.js";
import "./chunk-JCWFGRHQ.js";
import "./chunk-JILEJ6R2.js";
import "./chunk-GAW5JHG4.js";
import "./chunk-OEKKQXBD.js";
import "./chunk-S3IO7V4Q.js";
import "./chunk-DZALMCYL.js";
import {
  u as u3
} from "./chunk-K226GFDN.js";
import "./chunk-4ZZRP4MA.js";
import "./chunk-7ZJ6P7J7.js";
import "./chunk-FPFZQCEQ.js";
import "./chunk-YVULORT6.js";
import "./chunk-PB33BAI3.js";
import "./chunk-CVB43GGP.js";
import "./chunk-LLDOZWVV.js";
import "./chunk-7XMEZQ34.js";
import "./chunk-BDM2D6IC.js";
import "./chunk-U2ZVAEKG.js";
import "./chunk-EDSMXTFO.js";
import "./chunk-MNLT652N.js";
import "./chunk-OGZAGPIO.js";
import "./chunk-HJJIIYFF.js";
import "./chunk-ONPREQKF.js";
import "./chunk-7RMVJCDW.js";
import "./chunk-GTY5NXA4.js";
import "./chunk-T6GCUITX.js";
import "./chunk-TUIGM7TV.js";
import "./chunk-IHVSZYZS.js";
import "./chunk-6CA6K3O7.js";
import "./chunk-NYQ5CYNR.js";
import {
  _
} from "./chunk-O7UDKFOW.js";
import "./chunk-TKPMIAIW.js";
import "./chunk-NQOJNTB3.js";
import "./chunk-MFOQYQFG.js";
import {
  s
} from "./chunk-NKCPFCP3.js";
import {
  M,
  e as e4,
  h
} from "./chunk-3ZXOUEQG.js";
import {
  K,
  O as O2,
  P as P2,
  Y,
  _ as _2,
  g as g2,
  j as j2,
  o as o3,
  p,
  r as r3,
  u as u2,
  w,
  x,
  z
} from "./chunk-AXVPJBVW.js";
import {
  e as e3,
  n,
  r as r2,
  t
} from "./chunk-OXEPWRM7.js";
import "./chunk-POILQGXA.js";
import "./chunk-JJS7PR2U.js";
import "./chunk-L5YS4GSA.js";
import "./chunk-PRREDSOB.js";
import "./chunk-V5C6HSAM.js";
import "./chunk-SYATLP3H.js";
import "./chunk-V6AMQYXE.js";
import {
  A,
  C,
  P,
  d,
  g
} from "./chunk-6WHTZNUH.js";
import "./chunk-EITGQLII.js";
import "./chunk-TIVJXVMN.js";
import "./chunk-XNUH25NY.js";
import "./chunk-WGAPNV7F.js";
import "./chunk-BXQGM56A.js";
import {
  e as e2
} from "./chunk-4Z5SGKRM.js";
import {
  S,
  r
} from "./chunk-ANKOCGE2.js";
import {
  y
} from "./chunk-7CJXZOFG.js";
import "./chunk-IRGZKO7V.js";
import "./chunk-5SELS7VU.js";
import {
  a,
  a3 as a2
} from "./chunk-DDYVXG4F.js";
import "./chunk-ANP42J2U.js";
import "./chunk-HJY2YILU.js";
import {
  l,
  o as o2
} from "./chunk-7DA6A5LD.js";
import {
  e,
  o,
  u
} from "./chunk-2MMLMOWS.js";
import "./chunk-4323ZVPF.js";
import {
  j
} from "./chunk-WYIDUUN2.js";
import {
  O
} from "./chunk-DXLOWWK7.js";
import {
  __async,
  __spreadProps,
  __spreadValues
} from "./chunk-JWIQHGQB.js";

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js
function b2({
  tiltedUpVector: t5,
  rightVector: r5,
  observerRenderSpace: e9
}, o8) {
  const i2 = O3(t5, r5, e9, o8);
  return i2[12] = 0, i2[13] = 0, i2[14] = 0, i2;
}
function d4(r5, e9, o8) {
  const s6 = n(), a5 = _2(n(), o8.basis1, o8.basis2);
  return r5.next(O4(e9, o8.plane)).next((r6) => {
    "start" === r6.action && r3(s6, r6.renderStart);
    const e10 = M(w2(s6, r6.renderEnd, o8.origin, a5));
    return __spreadProps(__spreadValues({}, r6), {
      deltaAngle: e10
    });
  });
}
function x2(t5, r5) {
  if (null == t5) return 0;
  const {
    observer: e9,
    target: o8
  } = t5, i2 = r5.camera.position, n6 = f(i2, e9) > f(i2, o8) ? e9 : o8;
  return r5.pixelSizeAt(n6);
}
var h5 = n2();

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedVisualization.js
var R2 = 2;
var D = new u3([85, 85, 85, 0.5]);
var O5 = class extends S {
  constructor(t5) {
    super(t5), this.visible = true, this._viewshedCorners = {
      topLeft: n(),
      topRight: n(),
      bottomLeft: n(),
      bottomRight: n(),
      center: n()
    }, this._arcCenterPoints = {
      top: n(),
      bottom: n(),
      left: n(),
      right: n()
    }, this._parallelCenters = {
      top: n(),
      bottom: n()
    };
  }
  initialize() {
    const t5 = __spreadProps(__spreadValues({}, {
      view: this.view,
      isDecoration: true,
      color: this._color
    }), {
      renderOccluded: h2.OccludeAndTransparent
    }), e9 = __spreadProps(__spreadValues({}, t5), {
      width: R2,
      stipplePattern: h3(2)
    });
    this._boundaryLinesVisualElement = new f4(t5), this._leftArcVisualElement = new f4(t5), this._rightArcVisualElement = new f4(t5), this._topArcVisualElement = new f4(t5), this._bottomArcVisualElement = new f4(t5), this._centralLongitude = new f4(e9), this._centralLatitude = new f4(e9), this.addHandles([d(() => {
      const t6 = this.viewshedComputedData;
      if (!t6?.isValid()) return null;
      const e10 = this._offsetScale, i2 = this._viewshedCorners, s6 = this._arcCenterPoints, o8 = this._parallelCenters;
      return t6.cornerPoints(e10, i2), t6.arcCentersPoints(e10, s6), t6.parallelCenterPoints(o8), {
        viewshedComputedData: t6,
        corners: i2,
        arcCenters: s6,
        parallelCenters: o8
      };
    }, (t6) => {
      null != t6 ? (this._forEachVisualElement((t7) => t7.attached = true), this._updateVisualElements(t6)) : this._forEachVisualElement((t7) => t7.attached = false);
    }, {
      initial: true,
      equals: j
    }), d(() => ({
      visible: this.visible,
      horFOV: this.viewshedComputedData?.horizontalFieldOfView
    }), ({
      visible: t6,
      horFOV: e10
    }, i2) => {
      t6 !== i2?.visible && this._forEachVisualElement((e11) => e11.visible = t6), t6 && e10 !== i2?.horFOV && (this._boundaryLinesVisualElement.visible = 360 !== e10);
    }, P), d(() => this._color, (t6) => this._forEachVisualElement((e10) => e10.color = t6), P)]);
  }
  get _color() {
    const t5 = this.viewshedComputedData;
    if (null == t5) return u3.toUnitRGBA(D);
    const i2 = this.analysisViewData, s6 = i2.tool?.active || i2.interactive, o8 = t5 === i2.selectedViewshedComputedData, r5 = t5.viewshed === i2.tool?.stagedViewshed, a5 = s6 && (o8 || r5) ? this.view.effectiveTheme.accentColor : D;
    return u3.toUnitRGBA(a5);
  }
  get _offsetScale() {
    return x2(this.viewshedComputedData, this.view);
  }
  destroy() {
    this._boundaryLinesVisualElement = u(this._boundaryLinesVisualElement), this._leftArcVisualElement = u(this._leftArcVisualElement), this._rightArcVisualElement = u(this._rightArcVisualElement), this._topArcVisualElement = u(this._topArcVisualElement), this._bottomArcVisualElement = u(this._bottomArcVisualElement), this._centralLongitude = u(this._centralLongitude), this._centralLatitude = u(this._centralLatitude);
  }
  _forEachVisualElement(t5) {
    [this._boundaryLinesVisualElement, this._leftArcVisualElement, this._rightArcVisualElement, this._topArcVisualElement, this._bottomArcVisualElement, this._centralLatitude, this._centralLongitude].forEach(t5);
  }
  _updateVisualElements(t5) {
    const {
      viewshedComputedData: e9,
      corners: i2,
      arcCenters: s6,
      parallelCenters: o8
    } = t5;
    this._updateBoundaryLines(i2), this._updateBoundaryArcs(e9, i2, o8), this._updateCentralHelperArcs(e9, s6);
  }
  _updateBoundaryLines(t5) {
    this._boundaryLinesVisualElement.geometry = [[t5.center, t5.topLeft], [t5.center, t5.topRight], [t5.center, t5.bottomLeft], [t5.center, t5.bottomRight]];
  }
  _updateBoundaryArcs(t5, e9, i2) {
    const {
      observerRenderSpace: s6,
      rightVector: r5,
      horizontalFieldOfView: a5,
      tiltedUpVector: l5
    } = t5, n6 = h(a5), c7 = n(), p6 = e5();
    p2(p6, n6 / 2, l5), O2(c7, r5, p6), S2(this._leftArcVisualElement, s6, e9.bottomLeft, e9.topLeft, "forward", c7), p2(p6, -n6 / 2, l5), o3(c7, 0, 0, 0), O2(c7, r5, p6), S2(this._rightArcVisualElement, s6, e9.bottomRight, e9.topRight, "forward", c7);
    const f6 = a5 > 180 ? "backward" : "forward";
    S2(this._topArcVisualElement, i2.top, e9.topRight, e9.topLeft, f6, l5), S2(this._bottomArcVisualElement, i2.bottom, e9.bottomRight, e9.bottomLeft, f6, l5);
  }
  _updateCentralHelperArcs(t5, e9) {
    const i2 = t5.observerRenderSpace, s6 = t5.horizontalFieldOfView >= 180 ? "backward" : "forward";
    S2(this._centralLatitude, i2, e9.right, e9.left, s6, t5.tiltedUpVector), S2(this._centralLongitude, i2, e9.top, e9.bottom, "forward", t5.leftVector);
  }
};
function S2(t5, e9, i2, s6, r5, a5, l5 = 5) {
  const n6 = n();
  K(n6, i2, e9);
  const c7 = Y(n6), d5 = n();
  K(d5, s6, e9), z(d5, d5), g2(d5, d5, c7);
  let L3 = w(n6, d5);
  const y6 = t(a5);
  "backward" === r5 && (j2(y6, y6), L3 = -(2 * Math.PI - L3));
  const C8 = [], j7 = Math.ceil(Math.abs(L3) / h(l5)), R6 = e5();
  p2(R6, L3 / j7, y6);
  const D4 = n();
  r3(D4, n6);
  const O9 = n();
  r3(O9, i2);
  for (let o8 = 0; o8 < j7; o8++) {
    const t6 = n();
    r3(t6, O9), O2(D4, D4, R6), u2(O9, e9, D4);
    const i3 = n();
    r3(i3, O9), C8.push([t6, i3]);
  }
  t5.geometry = C8;
}
e2([y()], O5.prototype, "view", void 0), e2([y()], O5.prototype, "analysisViewData", void 0), e2([y()], O5.prototype, "viewshedComputedData", void 0), e2([y()], O5.prototype, "visible", void 0), e2([y()], O5.prototype, "_color", null), e2([y()], O5.prototype, "_offsetScale", null), O5 = e2([a2("esri.views.3d.analysis.Viewshed.ViewshedVisualization")], O5);
var U = O5;

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedAnalysisVisualization.js
var n4 = class extends S {
  get visible() {
    return this.analysisViewData.visible;
  }
  constructor(s6) {
    super(s6);
  }
  initialize() {
    const s6 = this.analysisViewData, i2 = g(() => this.analysisViewData.viewshedComputedDataHandles, ({
      viewshedComputedData: i3
    }) => {
      const e9 = new U({
        view: this.view,
        viewshedComputedData: i3,
        analysisViewData: s6
      });
      return {
        visualization: e9,
        remove: () => e9.destroy()
      };
    });
    this._viewshedVisualizations = i2, this.addHandles([l(i2), d(() => this.visible, (s7) => this._viewshedVisualizations.forEach(({
      visualization: i3
    }) => i3.visible = s7))]);
  }
};
e2([y({
  constructOnly: true
})], n4.prototype, "analysisViewData", void 0), e2([y({
  constructOnly: true,
  nonNullable: true
})], n4.prototype, "view", void 0), e2([y({
  constructOnly: true
})], n4.prototype, "isDecoration", void 0), e2([y()], n4.prototype, "visible", null), n4 = e2([a2("esri.views.3d.analysis.Viewshed.ViewshedAnalysisVisualization")], n4);

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedComputedData.js
var S3;
var v3 = S3 = class extends S {
  constructor(e9) {
    super(e9);
  }
  get observer() {
    return this.viewshed.observer ?? new _();
  }
  get farDistance() {
    return this.viewshed.farDistance;
  }
  get farDistanceRenderSpace() {
    return this.farDistance / this.metersPerUnit;
  }
  get heading() {
    return this.viewshed.heading;
  }
  get tilt() {
    return this.viewshed.tilt;
  }
  get tiltParallelToSurface() {
    return this.tilt - 90;
  }
  get horizontalFieldOfView() {
    return this.viewshed.horizontalFieldOfView;
  }
  get verticalFieldOfView() {
    return this.viewshed.verticalFieldOfView;
  }
  get observerRenderSpace() {
    return this._pointToRenderSpace(this.observer, n());
  }
  get target() {
    const e9 = this.targetRenderSpace;
    return this.renderSpaceToPoint(e9, this.observer.spatialReference);
  }
  get targetRenderSpace() {
    const {
      leftVector: e9,
      northVector: t5,
      upVector: o8
    } = this, i2 = this.observerRenderSpace, s6 = this.farDistanceRenderSpace, n6 = n();
    return g2(n6, t5, s6), w4(n6, -h(this.heading), o8, n6), w4(n6, -h(this.tiltParallelToSurface), e9, n6), u2(n6, i2, n6), n6;
  }
  get targetDirection() {
    const e9 = K(n(), this.targetRenderSpace, this.observerRenderSpace);
    return z(e9, e9);
  }
  get tiltedUpVector() {
    const e9 = w4(this.upVector, -h(this.tiltParallelToSurface), this.leftVector, n());
    return z(e9, e9);
  }
  get _basis() {
    return this.renderCoordsHelper.basisMatrixAtPosition(this.observerRenderSpace, e5());
  }
  get upVector() {
    const e9 = this._basis;
    return r2(e9[8], e9[9], e9[10]);
  }
  get northVector() {
    const e9 = this._basis;
    return r2(e9[4], e9[5], e9[6]);
  }
  get leftVector() {
    const e9 = this.upVector, t5 = w4(this.northVector, -h(this.heading), e9, n());
    return _2(t5, e9, t5);
  }
  get rightVector() {
    return j2(n(), this.leftVector);
  }
  clone() {
    return new S3({
      renderCoordsHelper: this.renderCoordsHelper,
      viewshed: this.viewshed.clone()
    });
  }
  isValid() {
    return this.viewshed.isValid();
  }
  get metersPerUnit() {
    return this.renderCoordsHelper.spatialReference.metersPerUnit;
  }
  pointOnSphere(e9, t5, o8) {
    const {
      observerRenderSpace: i2,
      targetRenderSpace: s6
    } = this, n6 = K(j5, s6, i2);
    return w4(n6, -h(t5), this.leftVector, n6), w4(n6, -h(e9), this.tiltedUpVector, n6), u2(o8, n6, i2);
  }
  cornerPoints(e9, t5) {
    const r5 = this.observerRenderSpace, o8 = this.horizontalFieldOfView / 2, i2 = this.verticalFieldOfView / 2, s6 = this.pointOnSphere(-o8, i2, H2), n6 = this.pointOnSphere(o8, i2, _3), l5 = this.pointOnSphere(-o8, -i2, x3), h6 = this.pointOnSphere(o8, -i2, L), d5 = K(D2, s6, r5), u5 = K(U2, n6, r5), f6 = K(T, l5, r5), g4 = K(z3, h6, r5), {
      horizontalFieldOfView: m3
    } = this, V2 = C3;
    b3(d5, u5, s6, l5, r5, e9, m3, t5.topLeft, t5.bottomLeft, V2);
    const S6 = F;
    b3(g4, f6, n6, h6, r5, e9, m3, t5.topRight, t5.bottomRight, S6), g2(t5.center, u2(t5.center, S6, V2), 0.5);
  }
  arcCentersPoints(e9, t5) {
    const r5 = this.horizontalFieldOfView / 2, o8 = this.verticalFieldOfView / 2, i2 = this.pointOnSphere(0, o8, t5.top), s6 = this.pointOnSphere(0, -o8, t5.bottom), n6 = this.pointOnSphere(-r5, 0, t5.left), p6 = this.pointOnSphere(r5, 0, t5.right), {
      observerRenderSpace: a5
    } = this;
    O6(i2, a5, e9), O6(s6, a5, e9), O6(n6, a5, e9), O6(p6, a5, e9);
  }
  parallelCenterPoints(e9) {
    const t5 = this.observerRenderSpace, o8 = this.farDistanceRenderSpace * Math.sin(h(this.verticalFieldOfView / 2)), i2 = g2(j5, this.tiltedUpVector, o8);
    u2(e9.top, t5, i2), K(e9.bottom, t5, i2);
  }
  renderSpaceToPoint(e9, t5) {
    const r5 = j5;
    return this.renderCoordsHelper.fromRenderCoords(e9, r5, t5), new _(r5[0], r5[1], r5[2], t5);
  }
  _pointToRenderSpace(e9, t5) {
    const r5 = e3(e9.toArray());
    return this.renderCoordsHelper.toRenderCoords(r5, e9.spatialReference, t5), t5;
  }
};
function b3(e9, t5, r5, o8, i2, s6, n6, p6, c7, l5) {
  const h6 = R3(e9, t5, s6, P3);
  u2(l5, i2, h6), y3(r5, e9, h6, s6, n6, p6), y3(o8, e9, h6, s6, n6, c7);
}
function w4(e9, t5, r5, o8) {
  return p2(k2, t5, r5), O2(o8, e9, k2);
}
function R3(e9, t5, r5, o8) {
  const i2 = _2(o8, e9, t5);
  return z(i2, i2), g2(i2, i2, r5), i2;
}
function y3(e9, t5, r5, o8, i2, s6) {
  const n6 = z(j5, t5);
  return g2(n6, n6, o8), u2(s6, e9, n6), 0 !== i2 && 360 !== i2 && u2(s6, s6, r5), s6;
}
function O6(e9, t5, r5) {
  const o8 = K(j5, e9, t5);
  z(o8, o8), g2(o8, o8, r5), u2(e9, e9, o8);
}
e2([y()], v3.prototype, "renderCoordsHelper", void 0), e2([y()], v3.prototype, "viewshed", void 0), e2([y()], v3.prototype, "observer", null), e2([y()], v3.prototype, "farDistance", null), e2([y()], v3.prototype, "farDistanceRenderSpace", null), e2([y()], v3.prototype, "heading", null), e2([y()], v3.prototype, "tilt", null), e2([y()], v3.prototype, "tiltParallelToSurface", null), e2([y()], v3.prototype, "horizontalFieldOfView", null), e2([y()], v3.prototype, "verticalFieldOfView", null), e2([y()], v3.prototype, "observerRenderSpace", null), e2([y()], v3.prototype, "target", null), e2([y()], v3.prototype, "targetRenderSpace", null), e2([y()], v3.prototype, "targetDirection", null), e2([y()], v3.prototype, "tiltedUpVector", null), e2([y()], v3.prototype, "_basis", null), e2([y()], v3.prototype, "upVector", null), e2([y()], v3.prototype, "northVector", null), e2([y()], v3.prototype, "leftVector", null), e2([y()], v3.prototype, "rightVector", null), e2([y()], v3.prototype, "isValid", null), e2([y()], v3.prototype, "metersPerUnit", null), v3 = S3 = e2([a2("esri.views.3d.analysis.Viewshed.ViewshedComputedData")], v3);
var j5 = n();
var P3 = n();
var C3 = n();
var F = n();
var D2 = n();
var U2 = n();
var T = n();
var z3 = n();
var H2 = n();
var _3 = n();
var x3 = n();
var L = n();
var k2 = e5();

// ../../../node_modules/@arcgis/core/analysis/Viewshed.js
var c5 = class extends i(S) {
  constructor(e9) {
    super(e9), this.observer = null, this.farDistance = 1e3, this.heading = 0, this.tilt = 90, this.horizontalFieldOfView = 45, this.verticalFieldOfView = 45;
  }
  isValid() {
    return null != this.observer && this.farDistance > 0;
  }
  equals(e9) {
    return o(this.observer, e9.observer) && this.farDistance === e9.farDistance && this.heading === e9.heading && this.tilt === e9.tilt && this.horizontalFieldOfView === e9.horizontalFieldOfView && this.verticalFieldOfView === e9.verticalFieldOfView;
  }
};
e2([y({
  type: _
})], c5.prototype, "observer", void 0), e2([y({
  type: Number,
  nonNullable: true,
  range: {
    min: 0
  }
})], c5.prototype, "farDistance", void 0), e2([y({
  type: Number,
  nonNullable: true
}), s((e9) => a3.normalize(a(e9)))], c5.prototype, "heading", void 0), e2([y({
  type: Number,
  nonNullable: true,
  range: {
    min: 0,
    max: 180
  }
})], c5.prototype, "tilt", void 0), e2([y({
  type: Number,
  nonNullable: true,
  range: {
    min: 0,
    max: 360
  }
})], c5.prototype, "horizontalFieldOfView", void 0), e2([y({
  type: Number,
  nonNullable: true,
  range: {
    min: 0,
    max: 180
  }
})], c5.prototype, "verticalFieldOfView", void 0), e2([y()], c5.prototype, "isValid", null), c5 = e2([a2("esri.analysis.Viewshed")], c5);
var m = c5;

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolConfig.js
var r4 = b;
var s5 = s4 * r4;
var m2 = 5;
var c6 = 25e-4;
var e8 = 1;
var l3 = Math.sin(h(2));
var f5 = s4 / 1.5;
var n5 = 5;
var p5 = 1;

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/FieldOfViewManipulation.js
var P4 = class extends t4 {
  constructor(t5) {
    super(), this._handles = new r(), this._interactive = true, this._tool = t5.tool, this._view = t5.view, this._focusedArcMaterial = this._createArcMaterial(true), this._unfocusedArcMaterial = this._createArcMaterial(false), this._createManipulators(), this.forEachManipulator((t6) => this._tool.manipulators.add(t6));
  }
  destroy() {
    this._handles = u(this._handles), this.forEachManipulator((t5) => {
      this._tool.manipulators.remove(t5), t5.destroy();
    }), this._tool = null, this._view = null, this._manipulators = null;
  }
  get interactive() {
    return this._interactive;
  }
  set interactive(t5) {
    this._interactive !== t5 && (this._interactive = t5, this._updateManipulatorInteractivity());
  }
  createDragPipeline(t5, e9) {
    const r5 = Object.values(this._manipulators);
    return o2(r5.map(({
      manipulator: i2,
      side: r6
    }) => p3(i2, (i3, a5, o8, n6, s6) => {
      const l5 = H3(r6, e9);
      B(r6) ? e9.horizontalFieldOfView : e9.verticalFieldOfView;
      const c7 = a5.next((t6) => __spreadProps(__spreadValues({}, t6), {
        manipulatorType: A2.SCALE,
        side: r6
      })), u5 = d4(c7, this._view, l5);
      t5(i3, u5, o8);
    })));
  }
  updateManipulatorsTransform(t5) {
    this._forEachManipulatorInfo((e9) => this._updateArcManipulatorTransform(e9, t5));
  }
  updateManipulatorVisuals(t5) {
    this._forEachManipulatorInfo((e9) => this._updateArcManipulatorVisuals(e9, t5));
  }
  _updateArcManipulatorVisuals({
    manipulator: t5,
    side: e9
  }, i2) {
    const r5 = [];
    if (null != i2) {
      if ("left" === e9 && (i2.horizontalFieldOfView < p5 || i2.horizontalFieldOfView > 360 - p5) || "bottom" === e9 && i2.verticalFieldOfView < p5) return t5.renderObjects = [], void (t5.collisionType = {
        type: "line",
        paths: []
      });
      const [a5, o8] = C4(e9, i2, this._unfocusedArcMaterial);
      r5.push(new e7(a5, t2.Unfocused), new e7(a5.instantiate({
        material: this._focusedArcMaterial
      }), t2.Focused)), t5.collisionType = {
        type: "line",
        paths: [o8]
      };
    }
    t5.renderObjects = r5, t5.radius = 10;
  }
  _updateArcManipulatorTransform({
    manipulator: t5,
    side: e9
  }, i2) {
    const a5 = i2.horizontalFieldOfView, o8 = h(i2.verticalFieldOfView / 2), n6 = h(a5 / 2), s6 = B(e9);
    t5.location = i2.observer;
    const M3 = e5(), b4 = (t6) => {
      c(M3, t6, M3);
    };
    b4(y2(J3, h(-90))), s6 || b4(g3(J3, o8));
    const g4 = i2.farDistanceRenderSpace;
    b4(d2(J3, o3(K3, g4, g4, g4))), b4(R(J3, k3(e9))), b4(b2(i2, J3));
    const w5 = K(K3, i2.targetRenderSpace, i2.observerRenderSpace);
    let j7, A5;
    if (b4(q(J3, w5)), s6) {
      if (j7 = n6, A5 = i2.tiltedUpVector, 0 !== a5 && 360 !== a5) {
        const t6 = x2(i2, this._view);
        j7 += 2 * Math.tan(t6 / (2 * i2.farDistance));
      }
    } else A5 = i2.rightVector, j7 = o8;
    j7 *= "right" === e9 || "bottom" === e9 ? -1 : 1;
    const O9 = p2(J3, j7, A5);
    null != O9 && b4(O9), t5.modelTransform = M3;
  }
  _updateManipulatorInteractivity() {
    const t5 = this.grabbing;
    this.forEachManipulator((e9) => {
      e9.interactive = !t5 && this.interactive || e9.grabbing;
    });
  }
  _createManipulators() {
    const t5 = this._createArcManipulator("left"), e9 = this._createArcManipulator("right"), i2 = this._createArcManipulator("top"), r5 = this._createArcManipulator("bottom");
    this._manipulators = {
      left: t5,
      right: e9,
      top: i2,
      bottom: r5
    };
    const a5 = [[r5.manipulator, i2.manipulator], [t5.manipulator, e9.manipulator]];
    a5.push(...a5.map(([t6, e10]) => [e10, t6])), this._handles.add(a5.map(([t6, e10]) => t6.events.on("focus-changed", (t7) => {
      const i3 = "focus" === t7.action;
      e10.hovering = i3;
    })));
  }
  _createArcManipulator(t5) {
    const e9 = {
      manipulator: new ee({
        view: this._view,
        autoScaleRenderObjects: false,
        worldSized: true
      }),
      side: t5
    };
    return this._updateArcManipulatorVisuals(e9), e9;
  }
  _createArcMaterial(e9) {
    const i2 = e9 ? s5 : r4, r5 = new z2({
      renderOccluded: h2.OccludeAndTransparent,
      isDecoration: true,
      width: i2
    });
    return this._handles.add(d(() => u3.toUnitRGBA(this._view.effectiveTheme.accentColor), (t5) => r5.setParameters({
      color: t5
    }), P)), r5;
  }
  forEachManipulator(t5) {
    Object.values(this._manipulators).forEach(({
      manipulator: e9
    }) => t5(e9, A2.SCALE));
  }
  _forEachManipulatorInfo(t5) {
    Object.values(this._manipulators).forEach((e9) => t5(e9));
  }
};
function C4(t5, e9, i2) {
  const {
    horizontalFieldOfView: o8,
    verticalFieldOfView: n6
  } = e9, s6 = B(t5), l5 = h(e4((s6 ? n6 : o8) / 2, 0, 15)), c7 = s6 ? 1 : Math.max(Math.sin(h(90 - n6 / 2)), 0.1), u5 = G2(-l5 / 2, l5 / 2, c7, [-c7, 0, 0]);
  return [gt(i2, u5), u5];
}
function G2(t5, e9, i2, r5 = [0, 0, 0], a5 = 10) {
  s2(a5 > 1, "createArcPolylineGeometry() needs at least 2 for numVertices");
  const o8 = e9 - t5, [n6, s6, l5] = r5;
  if (o8 <= 0 || i2 <= 0) {
    const t6 = 1e-3;
    return [r2(n6, s6, l5 + t6), r2(n6, s6, s6 + -t6)];
  }
  const c7 = [], u5 = o8 / a5;
  for (let p6 = 0; p6 < a5; p6++) {
    let r6 = t5 + p6 * u5;
    p6 === a5 - 1 && (r6 = e9);
    const o9 = Math.cos(r6) * i2, h6 = Math.sin(r6) * i2, m3 = r2(o9 + n6, s6, h6 + l5);
    c7.push(m3);
  }
  return c7;
}
function L2(t5) {
  switch (t5) {
    case "left":
      return 0;
    case "bottom":
      return 1;
    case "right":
      return 2;
    case "top":
      return 3;
  }
}
function k3(t5) {
  return L2(t5) * q2;
}
function B(t5) {
  return "left" === t5 || "right" === t5;
}
function H3(t5, {
  observerRenderSpace: e9,
  targetDirection: i2,
  tiltedUpVector: r5,
  rightVector: a5
}) {
  const o8 = B(t5) ? a5 : r5;
  return H(e9, i2, o8);
}
var q2 = Math.PI / 2;
var J3 = e5();
var K3 = n();

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ArrowManipulator.js
var U3 = class extends ee {
  constructor(e9, r5, o8, i2) {
    super({
      view: e9,
      autoScaleRenderObjects: false,
      worldSized: true,
      radius: 5
    }), this._handles = new r(), this._setupManipulatorVisual(r5, o8, i2);
  }
  destroy() {
    this._handles.remove(), super.destroy();
  }
  _setupManipulatorVisual(e9, t5, o8) {
    const i2 = this._createMaterial(), u5 = h(t5), h6 = e9 ? 1 : Math.sin(u5), j7 = e9 ? G2(0, u5, h6, [-h6, 0, 0]) : [r2(0, 0, 0), r2(0, 0, h6)], b4 = pt(i2, j7, o8, 16, false), v5 = pt(i2, j7, o8 * s4, 16, false), M3 = x4(false, i2, o8), _4 = x4(true, i2, o8), U4 = e5();
    q(U4, j7[j7.length - 1]), J(U4, U4, g3(C5, Math.PI / 2)), J(U4, U4, y2(C5, Math.PI / 2)), e9 && J(U4, U4, g3(C5, -u5)), M3.transformation = U4, _4.transformation = U4, this.renderObjects = [new e7(b4, t2.Unfocused), new e7(v5, t2.Focused), new e7(M3, t2.Unfocused), new e7(_4, t2.Focused)];
    const T2 = r2(0, y4(true), 0), F2 = O2(T2, T2, U4), D4 = [...j7, F2];
    this.collisionType = {
      type: "line",
      paths: [D4]
    };
  }
  _createMaterial() {
    const t5 = new d3({
      cullFace: e6.Back,
      renderOccluded: h2.OccludeAndTransparent,
      isDecoration: true,
      writeLinearDepth: true
    });
    return this._handles.add(d(() => u3.toUnitRGBA(this.view.effectiveTheme.accentColor), (e9) => t5.setParameters({
      color: e9
    }), P)), t5;
  }
};
function x4(e9, t5, r5) {
  const o8 = y4(e9);
  let i2 = 2 * r5;
  e9 && (i2 *= s4);
  const s6 = o8 / 2;
  return wt(t5, o8, s6, s6, i2, 0);
}
function y4(e9) {
  let t5 = l3;
  return e9 && (t5 *= f5), t5;
}
var C5 = e5();

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ScaleOrientManipulation.js
var R4 = class extends t4 {
  constructor(i2) {
    super(), this._handles = new r(), this._interactive = true, this._tool = i2.tool, this._view = i2.view, this._manipulatorHeading = new U3(this._view, true, m2, c6), this._manipulatorTilt = new U3(this._view, true, m2, c6), this._manipulatorDistance = new U3(this._view, false, m2, c6), this.forEachManipulator((t5) => {
      this._tool.manipulators.add(t5), this._handles.add(t5.events.on("grab-changed", () => this._updateManipulatorInteractivity()));
    });
  }
  destroy() {
    this._handles.destroy(), this.forEachManipulator((t5) => {
      this._tool.manipulators.remove(t5), t5.destroy();
    }), this._manipulatorHeading = null, this._manipulatorTilt = null, this._manipulatorDistance = null, this._tool = null, this._view = null;
  }
  get interactive() {
    return this._interactive;
  }
  set interactive(t5) {
    this._interactive !== t5 && (this._interactive = t5, this._updateManipulatorInteractivity());
  }
  createHeadingDragPipeline(t5, a5) {
    return p3(this._manipulatorHeading, (e9, r5, o8, n6, s6) => {
      const {
        _view: l5
      } = this, h6 = Math.sin(h(a5.tiltParallelToSurface)) * a5.farDistanceRenderSpace, u5 = u2(A3, a5.observerRenderSpace, g2(O7, a5.upVector, h6)), d5 = _2(O7, a5.northVector, a5.upVector), _4 = H(u5, a5.northVector, d5), v5 = d4(r5, l5, _4).next((t6) => __spreadProps(__spreadValues({}, t6), {
        manipulatorType: A2.ROTATE
      }));
      t5(e9, v5, o8);
    });
  }
  createTiltDragPipeline(t5, i2) {
    return p3(this._manipulatorTilt, (a5, e9, r5, o8, n6) => {
      const s6 = H(i2.observerRenderSpace, i2.targetDirection, i2.tiltedUpVector), l5 = d4(e9, this._view, s6).next((t6) => __spreadProps(__spreadValues({}, t6), {
        manipulatorType: A2.ROTATE
      }));
      t5(a5, l5, r5);
    });
  }
  createDistanceDragPipeline(t5, i2) {
    return p3(this._manipulatorDistance, (a5, e9, r5, o8, n6) => {
      const s6 = v(i2.observerRenderSpace, i2.targetDirection), l5 = e9.next(M2(this._view, a5.location)).next(k(this._view, s6)).next((t6) => __spreadProps(__spreadValues({}, t6), {
        manipulatorType: A2.SCALE
      }));
      t5(a5, l5, r5);
    });
  }
  updateManipulators(t5) {
    const {
      target: i2
    } = t5;
    this._manipulatorHeading.location = i2, this._manipulatorTilt.location = i2, this._manipulatorDistance.location = i2;
    const c7 = e5(), m3 = (t6) => {
      c(c7, t6, c7);
    }, u5 = I(t5);
    m3(d2(H4, o3(A3, u5, u5, u5))), m3(b2(t5, H4));
    const d5 = c6 * s4 * u5, _4 = g2(A3, t5.targetDirection, d5);
    m3(q(H4, _4));
    const f6 = R(H4, -C6);
    J(f6, f6, y2(V, -C6)), this._manipulatorHeading.modelTransform = J(e5(), c7, f6);
    const v5 = y2(H4, C6);
    J(v5, v5, R(V, Math.PI)), this._manipulatorTilt.modelTransform = c(e5(), c7, v5), this._manipulatorDistance.modelTransform = c7;
  }
  _updateManipulatorInteractivity() {
    const t5 = !this.grabbing;
    this.forEachManipulator((i2) => {
      i2.interactive = t5 && this._interactive || i2.grabbing;
    });
  }
  forEachManipulator(t5) {
    t5(this._manipulatorHeading, A2.ROTATE), t5(this._manipulatorTilt, A2.ROTATE), t5(this._manipulatorDistance, A2.SCALE);
  }
};
var S4 = {
  top: n(),
  bottom: n(),
  left: n(),
  right: n()
};
var H4 = e5();
var V = e5();
var A3 = n();
var O7 = n();
var C6 = Math.PI / 2;
function I(t5) {
  const i2 = 1, {
    verticalFieldOfView: a5,
    horizontalFieldOfView: e9
  } = t5, r5 = a5 > 180, o8 = e9 > 180, n6 = t5.farDistanceRenderSpace;
  if (r5 && o8) return Math.max(i2, n6);
  t5.arcCentersPoints(n6, S4);
  const {
    left: s6,
    right: l5,
    top: c7,
    bottom: p6
  } = S4, m3 = 1.9 * (r5 ? x(s6, l5) : o8 ? x(p6, s6) : Math.sqrt(Math.min(p(p6, c7), p(s6, l5))));
  return Math.max(i2, Math.min(n6, m3));
}

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolManipulatorUtils.js
var l4 = class extends ee {
  constructor(r5, o8) {
    super({
      view: r5,
      autoScaleRenderObjects: false,
      worldSized: false,
      radius: n5,
      interactive: false
    }), this._handles = new r();
    const i2 = f2(this._color);
    this.renderObjects = [new e7(st(i2, n5, 32, 32))], o8.manipulators.add(this), this._handles.add([d(() => this._color, (r6) => {
      i2.setParameters({
        color: r6
      });
    }, P)]);
  }
  destroy() {
    this._handles.remove(), super.destroy();
  }
  get _color() {
    return u3.toUnitRGBA(this.view.effectiveTheme.accentColor);
  }
};
e2([y()], l4.prototype, "_color", null);

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubTool.js
var x5 = Symbol("dragHandles");
var P5 = Symbol("hideManipulators");
var S5 = class extends S {
  constructor(e9) {
    super(e9), this._moveManipulation = null, this._observerManipulator = null, this._fieldOfViewManipulation = null, this._scaleOrientManipulation = null, this._moveHelperVisualElement = null, this._settings = new j4({
      getTheme: () => this.view.effectiveTheme
    }), this._grabbing = false, this.viewshedComputedData = null;
  }
  initialize() {
    this._moveManipulation = this._createMoveManipulation(), this._fieldOfViewManipulation = new P4({
      view: this.view,
      tool: this.parentTool
    }), this._scaleOrientManipulation = new R4({
      view: this.view,
      tool: this.parentTool
    }), this._observerManipulator = new l4(this.view, this.parentTool), this._createMoveHelperVisuals(), this.addHandles([d(() => {
      const {
        observer: e10
      } = this;
      return {
        observer: e10,
        array: e10?.toArray()
      };
    }, ({
      observer: e10
    }) => {
      null != e10 && (this._moveManipulation.location = e10, this._observerManipulator.location = e10);
    }, A), d(() => {
      const {
        viewshedComputedData: e10
      } = this;
      return {
        viewshedComputedData: e10,
        observer: e10?.observer
      };
    }, ({
      viewshedComputedData: e10,
      observer: i2
    }, a5) => {
      this._grabbing && i2 !== a5?.observer || (this.removeHandles(x5), e10?.isValid() && this.addHandles([this._buildObserverDragPipeline(e10), this._buildFOVDragPipeline(e10), this._buildScaleOrientDragPipeline(e10)].filter(O), x5));
    }, P), d(() => {
      const e10 = this.viewshedComputedData;
      return e10?.isValid() ? {
        viewshedCompData: e10,
        target: e10.targetRenderSpace,
        hFOV: e10.horizontalFieldOfView,
        vFOV: e10.verticalFieldOfView
      } : null;
    }, (e10) => {
      null != e10 && this._fieldOfViewManipulation.updateManipulatorsTransform(e10.viewshedCompData);
    }, P), d(() => {
      const e10 = this.viewshedComputedData;
      return e10?.isValid() ? {
        viewshedCompData: e10,
        hFOV: e10.horizontalFieldOfView,
        vFOV: e10.verticalFieldOfView,
        tilt: e10.tilt
      } : null;
    }, (e10) => {
      null != e10 && this._fieldOfViewManipulation.updateManipulatorVisuals(e10.viewshedCompData);
    }, P), d(() => this.analysisViewData.visible && (this.viewshedComputedData?.isValid() ?? false) && !this.parentTool.placingTarget, (e10) => this._updateManipulationAvailability(e10), P), d(() => {
      const e10 = this.viewshedComputedData;
      if (!e10?.isValid()) return null;
      const {
        observer: i2,
        target: t5,
        verticalFieldOfView: a5,
        horizontalFieldOfView: s6
      } = e10;
      return {
        viewshedCompData: e10,
        observer: i2,
        target: t5,
        verticalFieldOfView: a5,
        horizontalFieldOfView: s6
      };
    }, (e10) => {
      null != e10 && this._scaleOrientManipulation.updateManipulators(e10.viewshedCompData);
    }, P), d(() => this.viewshedComputedData?.observerRenderSpace, (e10) => {
      null != e10 && this._updateMoveHelperVisualsLocation(e10);
    }, P)]);
    const e9 = (e10) => {
      this.addHandles([e10.events.on("focus-changed", () => this._updateManipulatorVisibility()), e10.events.on("grab-changed", (e11) => {
        this._grabbing = "start" === e11.action;
      })]);
    };
    this._forEachManipulator(e9);
  }
  destroy() {
    this._moveManipulation = u(this._moveManipulation), this._fieldOfViewManipulation = u(this._fieldOfViewManipulation), this._scaleOrientManipulation = u(this._scaleOrientManipulation), this.parentTool.manipulators.remove(this._observerManipulator), this._observerManipulator = u(this._observerManipulator), this._destroyMoveHelperVisuals();
  }
  get viewshed() {
    return this.viewshedComputedData?.viewshed;
  }
  get grabbing() {
    return this._grabbing;
  }
  get observer() {
    return this.viewshed?.observer;
  }
  set observer(e9) {
    const i2 = this.viewshed;
    null != i2 && (i2.observer = e9);
  }
  get discManipulator() {
    return this._moveManipulation.xyManipulation.discManipulator;
  }
  onManipulatorSelectionChanged() {
    this._updateManipulatorVisibility();
  }
  hasManipulator(e9) {
    let i2 = false;
    return this._forEachManipulator((t5) => {
      i2 = i2 || t5 === e9;
    }), i2;
  }
  _someManipulatorSelected() {
    return this._moveManipulation.selected || this._fieldOfViewManipulation.selected || this._scaleOrientManipulation.selected;
  }
  _someManipulatorHovering() {
    return this._moveManipulation.hovering || this._fieldOfViewManipulation.hovering || this._scaleOrientManipulation.hovering;
  }
  _createMoveManipulation() {
    return new u4({
      view: this.view,
      tool: this.parentTool,
      snapToScene: false,
      xyAvailable: true,
      xyAxisAvailable: true,
      zAvailable: true,
      radius: o6
    });
  }
  _buildObserverDragPipeline(e9) {
    const i2 = {
      mode: "absolute-height",
      offset: 0
    }, t5 = e9.observer;
    return null == t5 ? null : this._moveManipulation.createDragPipeline((i3, t6, a5, s6, n6) => {
      s6 = s6.next(h4(this, ["observer"]));
      const l5 = e9.observer.clone();
      if (null == l5) return {
        steps: a5,
        cancel: s6
      };
      const o8 = E2.fromGeometry(l5, o4(this.view.viewingMode));
      return {
        steps: a5.next(f3({
          operations: o8
        })).next((e10) => (this.observer = K2(o8.data.geometry, l5.spatialReference), e10)),
        cancel: s6
      };
    }, i2, t5.spatialReference, void 0);
  }
  _buildFOVDragPipeline(e9) {
    let i2 = 0, t5 = 0;
    return this._fieldOfViewManipulation.createDragPipeline((s6, n6, l5) => {
      if (null == e9) return {
        steps: n6,
        cancel: l5
      };
      const o8 = e9.viewshed;
      l5 = l5.next(h4(e9, ["horizontalFieldOfView", "verticalFieldOfView"]));
      return {
        steps: n6.next((s7) => {
          "start" === s7.action && (i2 = e9.horizontalFieldOfView, t5 = e9.verticalFieldOfView);
          const n7 = s7.deltaAngle;
          let l6 = 0;
          switch (s7.side) {
            case "left":
              l6 = i2 / 2 - n7;
              break;
            case "right":
              l6 = i2 / 2 + n7;
              break;
            case "top":
              l6 = t5 + 2 * n7;
              break;
            case "bottom":
              l6 = t5 - 2 * n7;
          }
          return B(s7.side) ? (l6 = a3.normalize(l6), l6 = l6 > 270 ? 0 : l6 > 180 ? 180 : l6, o8.horizontalFieldOfView = 2 * l6) : o8.verticalFieldOfView = l6, s7;
        }),
        cancel: l5
      };
    }, e9);
  }
  _buildScaleOrientDragPipeline(e9) {
    let i2 = 0, t5 = 0;
    const s6 = (i3, t6) => (a5, s7, n6) => {
      if (null == e9) return {
        steps: s7,
        cancel: n6
      };
      const l5 = e9.viewshed;
      return n6 = n6.next(h4(l5, [i3])), {
        steps: s7 = s7.next(t6(l5, e9)),
        cancel: n6
      };
    };
    return o2([this._scaleOrientManipulation.createHeadingDragPipeline(s6("heading", (i3, s7) => (s8) => ("start" === s8.action && (t5 = e9.heading), i3.heading = a3.normalize(t5 + s8.deltaAngle), s8)), e9), this._scaleOrientManipulation.createTiltDragPipeline(s6("tilt", (t6, a5) => (a6) => {
      "start" === a6.action && (i2 = e9.tilt);
      let s7 = i2 + a6.deltaAngle;
      return s7 < -90 ? s7 = 180 : s7 > 270 && (s7 = 0), t6.tilt = A4.clamp(s7), a6;
    }), e9), this._scaleOrientManipulation.createDistanceDragPipeline(s6("farDistance", (e10, i3) => (t6) => {
      const a5 = K(z4, t6.renderEnd, i3.observerRenderSpace), s7 = Y(a5) * i3.metersPerUnit, n6 = P2(a5, i3.targetDirection) < 0 ? e8 : s7;
      return e10.farDistance = n6, t6;
    }), e9)]);
  }
  _updateManipulationAvailability(e9) {
    this._moveManipulation.available = e9, this._fieldOfViewManipulation.available = e9, this._scaleOrientManipulation.available = e9, this._observerManipulator.available = e9;
  }
  _updateManipulatorVisibility() {
    const e9 = this._someManipulatorSelected() || this._someManipulatorHovering() && null == this.view.activeTool;
    if (e9) this.removeHandles(P5);
    else {
      const e10 = [], i2 = (i3) => {
        e10.push(i3.disableDisplay());
      };
      this._forEachManipulator(i2), this.addHandles(e10, P5);
    }
    this._updateMoveHelperVisualsVisibility(e9);
  }
  _forEachManipulator(e9) {
    this._moveManipulation.forEachManipulator(e9), this._fieldOfViewManipulation.forEachManipulator(e9), this._scaleOrientManipulation.forEachManipulator(e9), e9(this._observerManipulator);
  }
  _createMoveHelperVisuals() {
    this._destroyMoveHelperVisuals();
    const e9 = new c3({
      view: this.view,
      attached: true,
      style: {
        glowWidth: this._settings.visualElements.heightPlane.glowWidth,
        innerWidth: this._settings.visualElements.heightPlane.innerWidth
      },
      isDecoration: true
    }), i2 = new G({
      view: this.view,
      extensionType: this._settings.visualElements.zVerticalLine.extensionType,
      attached: true,
      innerWidth: 1,
      writeDepthEnabled: false,
      renderOccluded: h2.OccludeAndTransparent,
      isDecoration: true
    });
    this._moveHelperVisualElement = {
      laserline: e9,
      verticalLine: i2
    }, this.addHandles([d(() => this._settings.visualElements.zVerticalLine, (e10) => e10.apply(i2), A), d(() => this._settings.visualElements.heightPlane, (i3) => i3.apply(e9), A)]);
  }
  _updateMoveHelperVisualsVisibility(e9) {
    e9 = this.analysisViewData.visible && e9;
    const i2 = this._moveHelperVisualElement;
    null != i2 && (i2.verticalLine.visible = e9, i2.laserline.visible = e9);
  }
  _updateMoveHelperVisualsLocation(e9) {
    const i2 = this._moveHelperVisualElement;
    if (null == i2) return;
    const {
      laserline: t5,
      verticalLine: a5
    } = i2;
    t5.heightManifoldTarget = e9, t5.intersectsWorldUpAtLocation = e9, null != e9 && a5.setStartEndFromWorldDownAtLocation(e9);
  }
  _destroyMoveHelperVisuals() {
    const e9 = this._moveHelperVisualElement;
    null != e9 && (e9.laserline.destroy(), e9.verticalLine.destroy(), this._moveHelperVisualElement = null);
  }
  get test() {
    return {
      moveManipulation: this._moveManipulation,
      fieldOfViewManipulation: this._fieldOfViewManipulation,
      scaleOrientManipulation: this._scaleOrientManipulation,
      moveHelperVisualElements: this._moveHelperVisualElement,
      viewshedComputedData: this.viewshedComputedData
    };
  }
};
e2([y({
  constructOnly: true
})], S5.prototype, "analysis", void 0), e2([y({
  constructOnly: true
})], S5.prototype, "analysisViewData", void 0), e2([y({
  constructOnly: true
})], S5.prototype, "parentTool", void 0), e2([y({
  constructOnly: true,
  nonNullable: true
})], S5.prototype, "view", void 0), e2([y()], S5.prototype, "viewshed", null), e2([y()], S5.prototype, "_grabbing", void 0), e2([y()], S5.prototype, "grabbing", null), e2([y()], S5.prototype, "viewshedComputedData", void 0), e2([y()], S5.prototype, "observer", null), S5 = e2([a2("esri.views.3d.analysis.Viewshed.ViewshedSubTool")], S5);
var z4 = n();
var A4 = new n3(0, 180);

// ../../../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js
var H5;
var C7 = H5 = class extends o5 {
  constructor(e9) {
    super(e9), this.removeIncompleteOnCancel = false, this.automaticManipulatorSelection = false, this._stagedViewshed = null, this._stagedViewshedComputedData = null, this._creating = false, this._selectedManipulator = null, this._selectedManipulatorSubTool = null;
  }
  initialize() {
    this._intersector = t3(this.view.state.viewingMode);
    const e9 = this.analysisViewData.viewshedComputedDataHandles;
    this.addHandles([d(() => e9.some((e10) => e10.viewshedComputedData.isValid()), (e10) => {
      e10 && this.finishToolCreation();
    }, A), d(() => this._stagedViewshed, (e10) => {
      this._stagedViewshedComputedData = null != e10 ? this.analysisViewData.viewshedComputedDataHandles.find((t5) => t5.viewshedComputedData.viewshed === e10)?.viewshedComputedData : null;
    }, A), d(() => this.firstGrabbedManipulator, (e10) => {
      null != e10 && this._selectManipulator(e10);
    }, C), d(() => this.analysisViewData.visible, (e10) => {
      e10 || this._selectManipulator(null);
    }), d(() => this.view.activeTool, (e10) => {
      e10 !== this && null != e10 && this._selectManipulator(null);
    })]), this.subToolHandles = g(() => e9, ({
      viewshedComputedData: e10
    }) => {
      const t5 = new S5({
        analysis: this.analysis,
        analysisViewData: this.analysisViewData,
        parentTool: this,
        view: this.view,
        viewshedComputedData: e10
      });
      return {
        subTool: t5,
        remove: () => {
          this._selectedManipulatorSubTool === t5 && this._selectManipulator(null), t5.destroy();
        }
      };
    });
  }
  destroy() {
    this.subToolHandles = u(this.subToolHandles);
  }
  onDeactivate() {
    this.removeStaged();
  }
  get cursor() {
    return this.creating ? "crosshair" : null;
  }
  _selectManipulator(e9) {
    const t5 = this._selectedManipulator;
    null != t5 && (t5.selected = false, this._selectedManipulator = null, this._selectedManipulatorSubTool?.onManipulatorSelectionChanged(), this._selectedManipulatorSubTool = null), null != e9 && (e9.selected = true, this._selectedManipulator = e9, this._selectedManipulatorSubTool = this.subToolHandles.find((t6) => t6.subTool.hasManipulator(e9))?.subTool, this._selectedManipulatorSubTool?.onManipulatorSelectionChanged());
  }
  get selectedViewshed() {
    return this._selectedManipulatorSubTool?.viewshed;
  }
  set selectedViewshed(e9) {
    this.selectViewshed(e9);
  }
  get selectedViewshedComputedData() {
    return this._selectedManipulatorSubTool?.viewshedComputedData;
  }
  get stagedViewshed() {
    return this._stagedViewshed;
  }
  get grabbing() {
    return this.subToolHandles.some(({
      subTool: e9
    }) => e9.grabbing);
  }
  get creating() {
    return this._creating && this.active;
  }
  get placingTarget() {
    return null != this._stagedViewshed;
  }
  createViewsheds() {
    this._creating = true;
  }
  onManipulatorSelectionChanged() {
    this.subToolHandles.forEach((e9) => e9.subTool.onManipulatorSelectionChanged());
  }
  onInputEvent(e9) {
    switch (e9.type) {
      case "immediate-click":
        this._clickDeselectHandler();
        break;
      case "immediate-double-click":
        this._doubleClickHandler(e9);
        break;
      case "pointer-move":
        this._pointerMoveHandler(e9);
        break;
      case "key-down":
        p4.cancel === e9.key ? this._cancelKeyHandler(e9) : p4.delete.includes(e9.key) && this._deleteKeyHandler();
    }
  }
  onInputEventAfter(e9) {
    if ("immediate-click" === e9.type) this._clickPlacementHandler(e9);
  }
  _clickDeselectHandler() {
    this.hasFocusedManipulators || this._selectManipulator(null);
  }
  _clickPlacementHandler(e9) {
    if (!this.creating || this.hasFocusedManipulators) return;
    const s6 = this._stagedViewshed, i2 = this._intersectScreen(e9, R5);
    if (null != i2) {
      if (null == s6) {
        i2.mapPoint.z = (i2.mapPoint.z ?? 0) + 2;
        const e10 = new m({
          observer: i2.mapPoint.clone()
        });
        this.analysis.viewsheds.add(e10), this._stagedViewshed = e10, this._updateStagedViewshed(i2.scenePoint);
      } else {
        this._updateStagedViewshed(i2.scenePoint);
        const e10 = this._stagedViewshed;
        this._stagedViewshed = null, this.selectViewshed(e10);
      }
      e9.stopPropagation();
    }
  }
  _doubleClickHandler(e9) {
    this.creating && (this.removeStaged(), this._selectManipulator(null), this._creating = false, this.view.activeTool = null, e9.stopPropagation());
  }
  _pointerMoveHandler(e9) {
    if (!this.creating || null == this._stagedViewshed) return;
    const t5 = this._intersectScreen(e9, R5);
    null != t5 && this._updateStagedViewshed(t5.scenePoint);
  }
  _cancelKeyHandler(e9) {
    if (this.creating) {
      if (this.removeStaged()) return this._selectManipulator(null), void e9.stopPropagation();
      this._creating = false;
    } else if (!this.grabbing) return this.selectViewshed(null), void e9.stopPropagation();
  }
  _deleteKeyHandler() {
    this.creating && this.removeStaged(), null != this.selectedViewshed && this.analysis.viewsheds.remove(this.selectedViewshed);
  }
  _updateStagedViewshed(e9) {
    const t5 = this._stagedViewshed, s6 = this._stagedViewshedComputedData;
    if (null == t5 || null == s6) return;
    const {
      heading: i2,
      tilt: o8,
      farDistance: a5
    } = D3(this.view, s6, e9);
    t5.farDistance = a5, t5.tilt = o8, t5.heading = i2;
  }
  removeStaged() {
    return null != this._stagedViewshed && (this.analysis.viewsheds.remove(this._stagedViewshed), this._stagedViewshed = null, true);
  }
  selectViewshed(e9) {
    if (null != e9) for (const s6 of this.view.tools.items) s6 !== this && s6 instanceof H5 && s6.selectViewshed(null);
    const t5 = this.subToolHandles.find((t6) => t6.subTool.viewshed === e9)?.subTool;
    this._selectManipulator(t5?.discManipulator);
  }
  _intersectScreen(e9, t5) {
    const s6 = c2(e9);
    this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(s6, this._intersector);
    const i2 = this._intersector.results.min, o8 = t5.scenePoint;
    if (!i2.getIntersectionPoint(o8)) return null;
    const a5 = t5.mapPoint;
    return a5.spatialReference = this.view.spatialReference, this.view.renderCoordsHelper.fromRenderCoords(o8, a5), null == a5 ? null : t5;
  }
  get test() {
    return {
      subTools: this.subToolHandles.map((e9) => e9.subTool.test),
      selectedSubTool: this._selectedManipulatorSubTool?.test,
      stagedViewshed: this._stagedViewshed
    };
  }
};
function D3(e9, t5, i2) {
  const o8 = t5.observerRenderSpace, a5 = K(j6, i2, o8), l5 = Y(a5) * t5.metersPerUnit, n6 = e9.renderCoordsHelper.basisMatrixAtPosition(o8, x6), r5 = o3(P6, n6[8], n6[9], n6[10]), d5 = j3(o8, r5, O8), c7 = J2(d5, i2, k4), w5 = K(c7, c7, o8), _4 = M(w(a5, w5)) * (P2(r5, a5) < 0 ? -1 : 1) + 90, y6 = o3(I2, n6[4], n6[5], n6[6]), f6 = M(w(y6, w5)), V2 = o3(I2, n6[0], n6[1], n6[2]);
  return {
    heading: P2(w5, V2) < 0 ? 360 - f6 : f6,
    tilt: _4,
    farDistance: l5
  };
}
e2([y({
  constructOnly: true
})], C7.prototype, "view", void 0), e2([y()], C7.prototype, "analysisViewData", void 0), e2([y()], C7.prototype, "removeIncompleteOnCancel", void 0), e2([y()], C7.prototype, "automaticManipulatorSelection", void 0), e2([y({
  constructOnly: true
})], C7.prototype, "analysis", void 0), e2([y()], C7.prototype, "subToolHandles", void 0), e2([y()], C7.prototype, "_stagedViewshed", void 0), e2([y()], C7.prototype, "_stagedViewshedComputedData", void 0), e2([y()], C7.prototype, "_creating", void 0), e2([y({
  readOnly: true
})], C7.prototype, "cursor", null), e2([y()], C7.prototype, "_selectedManipulator", void 0), e2([y()], C7.prototype, "_selectedManipulatorSubTool", void 0), e2([y()], C7.prototype, "selectedViewshed", null), e2([y()], C7.prototype, "selectedViewshedComputedData", null), e2([y()], C7.prototype, "grabbing", null), e2([y()], C7.prototype, "creating", null), e2([y()], C7.prototype, "placingTarget", null), C7 = H5 = e2([a2("esri.views.3d.analysis.Viewshed.ViewshedTool")], C7);
var j6 = n();
var P6 = n();
var k4 = n();
var I2 = n();
var x6 = e5();
var O8 = E();
var R5 = {
  mapPoint: new _(),
  scenePoint: n()
};
var z5 = C7;

// ../../../node_modules/@arcgis/core/views/3d/analysis/ViewshedAnalysisView3D.js
var v4 = class extends s3(S) {
  constructor(e9) {
    super(e9), this.type = "viewshed-view-3d", this.analysis = null, this.tool = null, this.viewshedComputedDataHandles = null, this._placementTask = null;
  }
  get selectedViewshed() {
    return this.tool?.selectedViewshed;
  }
  set selectedViewshed(e9) {
    const {
      tool: s6
    } = this;
    null != s6 && (s6.selectedViewshed = e9);
  }
  get selectedViewshedComputedData() {
    return this.tool?.selectedViewshedComputedData;
  }
  initialize() {
    this._initializeUpdateHandle(), this.viewshedComputedDataHandles = g(() => this.analysis.viewsheds, (e9) => {
      const s6 = new v3({
        renderCoordsHelper: this.view.renderCoordsHelper,
        viewshed: e9
      }), i2 = Symbol();
      return this.addHandles(d(() => s6.isValid(), (e10, i3) => {
        this.visible && (e10 ? this._addViewshedsToRenderer(s6) : i3 && this._removeViewshedsFromRenderer(s6));
      }, P)), {
        viewshedComputedData: s6,
        remove: () => {
          this.removeHandles(i2), this._removeViewshedsFromRenderer(s6), s6.destroy();
        }
      };
    }), this._analysisVisualization = new n4({
      view: this.view,
      analysisViewData: this,
      isDecoration: !this.parent
    }), this.addHandles([d(() => this.visible, (e9) => {
      const s6 = this.viewshedComputedDataHandles.map((e10) => e10.viewshedComputedData).filter((e10) => e10.isValid());
      e9 ? this._addViewshedsToRenderer(s6) : this._removeViewshedsFromRenderer(s6);
    }), d(() => this.view.renderCoordsHelper, (e9) => {
      this.viewshedComputedDataHandles.forEach(({
        viewshedComputedData: s6
      }) => s6.renderCoordsHelper = e9);
    }), a4(this, z5)]);
  }
  destroy() {
    this._placementTask = e(this._placementTask), v2(this), this._analysisVisualization = u(this._analysisVisualization), this._removeViewshedsFromRenderer(this.viewshedComputedDataHandles.map((e9) => e9.viewshedComputedData));
  }
  createViewsheds(e9) {
    return __async(this, null, function* () {
      return this._placementTask = e(this._placementTask), this._placementTask = l2(this, e9), null != this.tool && this.tool.createViewsheds(), yield this._placementTask.promise;
    });
  }
  _initializeUpdateHandle() {
    const e9 = this.view._stage.renderer.plugins.plugins.find((e10) => e10 instanceof C2);
    e9 && (this._updateHandleInRenderer = e9.updateViewsheds.bind(e9));
  }
  _addViewshedsToRenderer(e9) {
    this._updateHandleInRenderer({
      adds: e9
    });
  }
  _removeViewshedsFromRenderer(e9) {
    this._updateHandleInRenderer({
      removes: e9
    });
  }
};
e2([y({
  readOnly: true
})], v4.prototype, "type", void 0), e2([y({
  constructOnly: true,
  nonNullable: true
})], v4.prototype, "analysis", void 0), e2([y()], v4.prototype, "tool", void 0), e2([y()], v4.prototype, "selectedViewshed", null), e2([y()], v4.prototype, "selectedViewshedComputedData", null), e2([y()], v4.prototype, "viewshedComputedDataHandles", void 0), e2([y()], v4.prototype, "_analysisVisualization", void 0), e2([y()], v4.prototype, "_placementTask", void 0), v4 = e2([a2("esri.views.3d.analysis.ViewshedAnalysisView3D")], v4);
var y5 = v4;
export {
  y5 as default
};
//# sourceMappingURL=ViewshedAnalysisView3D-W775DUTV.js.map
