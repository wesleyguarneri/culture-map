{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/support/collectionUtils.js", "../../../../../../node_modules/@arcgis/core/support/LayersMixin.js", "../../../../../../node_modules/@arcgis/core/support/TablesMixin.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../core/CollectionFlattener.js\";\nfunction t(t) {\n  return new e({\n    getCollections: () => [t.tables, t.layers],\n    getChildrenFunction: e => {\n      const t = [];\n      return \"tables\" in e && t.push(e.tables), \"layers\" in e && t.push(e.layers), t;\n    },\n    itemFilterFunction: e => {\n      const t = e.parent;\n      return !!t && \"tables\" in t && t.tables.includes(e);\n    }\n  });\n}\nfunction n(e) {\n  for (const t of e.values()) t?.destroy();\n  e.clear();\n}\nexport { t as createFlattenedTablesCollection, n as destroyMap };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport r from \"../core/Collection.js\";\nimport { referenceSetter as t } from \"../core/collectionUtils.js\";\nimport s from \"../core/Logger.js\";\nimport { isPromiseLike as o } from \"../core/promiseUtils.js\";\nimport { property as a } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../layers/Layer.js\";\nfunction d(e, r, t) {\n  let s, o;\n  if (e) for (let a = 0, i = e.length; a < i; a++) {\n    if (s = e.at(a), s?.[r] === t) return s;\n    if (\"group\" === s?.type && (o = d(s.layers, r, t), o)) return o;\n  }\n}\nconst l = l => {\n  let y = class extends l {\n    constructor(...e) {\n      super(...e), this.layers = new r();\n      const t = e => {\n          e.parent && \"remove\" in e.parent && e.parent.remove(e);\n        },\n        o = e => {\n          e.parent = this, this.layerAdded(e), \"elevation\" !== e.type && \"base-elevation\" !== e.type || s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`);\n        },\n        a = e => {\n          e.parent = null, this.layerRemoved(e);\n        };\n      this.addHandles([this.layers.on(\"before-add\", e => {\n        if (e.item === this) return e.preventDefault(), void s.getLogger(this).error(\"#add()\", \"Cannot add layer to itself.\");\n        t(e.item);\n      }), this.layers.on(\"after-add\", e => o(e.item)), this.layers.on(\"after-remove\", e => a(e.item))]);\n    }\n    destroy() {\n      const e = this.layers.toArray();\n      for (const r of e) r.destroy();\n      this.layers.destroy();\n    }\n    set layers(e) {\n      this._set(\"layers\", t(e, this._get(\"layers\")));\n    }\n    add(e, r) {\n      const t = this.layers;\n      if (r = t.getNextIndex(r), e instanceof n) {\n        const s = e;\n        s.parent === this ? this.reorder(s, r) : t.add(s, r);\n      } else o(e) ? e.then(e => {\n        this.destroyed || this.add(e, r);\n      }) : s.getLogger(this).error(\"#add()\", \"The item being added is not a Layer or a Promise that resolves to a Layer.\");\n    }\n    addMany(e, r) {\n      const t = this.layers;\n      let s = t.getNextIndex(r);\n      e.slice().forEach(e => {\n        e.parent !== this ? (t.add(e, s), s += 1) : this.reorder(e, s);\n      });\n    }\n    findLayerById(e) {\n      return d(this.layers, \"id\", e);\n    }\n    findLayerByUid(e) {\n      return d(this.layers, \"uid\", e);\n    }\n    remove(e) {\n      return this.layers.remove(e);\n    }\n    removeMany(e) {\n      return this.layers.removeMany(e);\n    }\n    removeAll() {\n      return this.layers.removeAll();\n    }\n    reorder(e, r) {\n      return this.layers.reorder(e, r);\n    }\n    layerAdded(e) {}\n    layerRemoved(e) {}\n  };\n  return e([a()], y.prototype, \"layers\", null), y = e([i(\"esri.support.LayersMixin\")], y), y;\n};\nexport { l as LayersMixin };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport e from \"../core/Collection.js\";\nimport { referenceSetter as r } from \"../core/collectionUtils.js\";\nimport s from \"../core/Logger.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nfunction a(t, e, r) {\n  if (t) for (let s = 0, o = t.length; s < o; s++) {\n    const o = t.at(s);\n    if (o[e] === r) return o;\n    if (\"group\" === o?.type) {\n      const t = a(o.tables, e, r);\n      if (t) return t;\n    }\n  }\n}\nconst n = n => {\n  let l = class extends n {\n    constructor(...t) {\n      super(...t), this.tables = new e(), this.addHandles([this.tables.on(\"after-add\", t => {\n        const e = t.item;\n        e.parent && e.parent !== this && \"tables\" in e.parent && e.parent.tables.remove(e), e.parent = this, \"feature\" !== e.type && s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`);\n      }), this.tables.on(\"after-remove\", t => {\n        t.item.parent = null;\n      })]);\n    }\n    destroy() {\n      const t = this.tables.toArray();\n      for (const e of t) e.destroy();\n      this.tables.destroy();\n    }\n    set tables(t) {\n      this._set(\"tables\", r(t, this._get(\"tables\")));\n    }\n    findTableById(t) {\n      return a(this.tables, \"id\", t);\n    }\n    findTableByUid(t) {\n      return a(this.tables, \"uid\", t);\n    }\n  };\n  return t([o()], l.prototype, \"tables\", null), l = t([i(\"esri.support.TablesMixin\")], l), l;\n};\nexport { n as TablesMixin };"],
  "mappings": "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",
  "names": ["t", "e", "n", "e", "t", "a", "l", "y", "n", "a", "t", "e", "o", "n", "l"]
}
