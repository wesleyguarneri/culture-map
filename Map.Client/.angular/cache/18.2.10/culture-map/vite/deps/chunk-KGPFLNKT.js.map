{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js", "../../../../../../node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { releaseMaybe as e } from \"../../../../../core/maybe.js\";\nimport { isPromiseLike as t } from \"../../../../../core/promiseUtils.js\";\nclass s {\n  constructor(s, r) {\n    this._textures = s, this.loadPromise = null, this._disposed = !1;\n    const i = this._textures.acquire(r);\n    t(i) ? (i.then(t => {\n      this._disposed ? e(t) : this._textureRef = t;\n    }), this.loadPromise = i) : this._textureRef = i;\n  }\n  dispose() {\n    this._textureRef = e(this._textureRef), this._disposed = !0;\n  }\n  get glTexture() {\n    return null != this._textureRef ? this._textureRef.glTexture : null;\n  }\n}\nexport { s as RenderTexture };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { deg2rad as e } from \"../../core/mathUtils.js\";\nimport { create as r } from \"../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { createEmptyProjectorCache as t, populateProjectorCache as o, copy3 as n, ProjectionID as s, projectionTable as i, wgs84ToWebMercator as c } from \"./projectors.js\";\nimport { earth as l } from \"../support/Ellipsoid.js\";\nfunction a(e, r, t, a) {\n  if (null == r || null == a) return !1;\n  const E = o(r, a, p);\n  if (E.projector === n) return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], !0;\n  if (null == E.projector) return !1;\n  const {\n    source: m,\n    dest: R\n  } = E;\n  if (R.spatialReferenceId === s.WEB_MERCATOR) {\n    const r = i[m.spatialReferenceId][s.WGS84];\n    return null != r && (r(e, 0, f, 0), c(f, 0, t, 0), t[3] = u(f[1], e[2], e[3], l.radius), !0);\n  }\n  if (m.spatialReferenceId !== s.WGS84 && m.spatialReferenceId !== s.CGCS2000 || R.spatialReferenceId !== s.PLATE_CARREE) {\n    E.projector(e, 0, t, 0);\n    const r = m.metersPerUnit ?? 1,\n      o = R.metersPerUnit ?? 1;\n    t[3] = e[3] * r / o;\n  } else {\n    const r = i[m.spatialReferenceId][s.SPHERICAL_ECEF],\n      o = i[s.SPHERICAL_ECEF][s.PLATE_CARREE];\n    let n = e[3];\n    null != r && null != o && (n = u(e[1], e[2], e[3], l.radius)), E.projector(e, 0, t, 0), t[3] = n;\n  }\n  return !0;\n}\nfunction u(e, r, t, o) {\n  const n = o + r;\n  if (n < o / 2 || t > n) return Number.MAX_VALUE;\n  const s = Math.abs(E * e) + Math.asin(t / n);\n  return s >= Math.PI / 2 ? Number.MAX_VALUE : t / Math.cos(s);\n}\nconst f = r(),\n  p = t(),\n  E = e(1);\nexport { a as projectBoundingSphere };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAMA,KAAN,MAAQ;AAAA,EACN,YAAYA,IAAG,GAAG;AAChB,SAAK,YAAYA,IAAG,KAAK,cAAc,MAAM,KAAK,YAAY;AAC9D,UAAM,IAAI,KAAK,UAAU,QAAQ,CAAC;AAClC,MAAE,CAAC,KAAK,EAAE,KAAK,CAAAC,OAAK;AAClB,WAAK,YAAY,EAAEA,EAAC,IAAI,KAAK,cAAcA;AAAA,IAC7C,CAAC,GAAG,KAAK,cAAc,KAAK,KAAK,cAAc;AAAA,EACjD;AAAA,EACA,UAAU;AACR,SAAK,cAAc,EAAE,KAAK,WAAW,GAAG,KAAK,YAAY;AAAA,EAC3D;AAAA,EACA,IAAI,YAAY;AACd,WAAO,QAAQ,KAAK,cAAc,KAAK,YAAY,YAAY;AAAA,EACjE;AACF;;;ACZA,SAAS,EAAE,GAAG,GAAGC,IAAGC,IAAG;AACrB,MAAI,QAAQ,KAAK,QAAQA,GAAG,QAAO;AACnC,QAAMC,KAAI,GAAE,GAAGD,IAAG,CAAC;AACnB,MAAIC,GAAE,cAAc,EAAG,QAAOF,GAAE,CAAC,IAAI,EAAE,CAAC,GAAGA,GAAE,CAAC,IAAI,EAAE,CAAC,GAAGA,GAAE,CAAC,IAAI,EAAE,CAAC,GAAGA,GAAE,CAAC,IAAI,EAAE,CAAC,GAAG;AAClF,MAAI,QAAQE,GAAE,UAAW,QAAO;AAChC,QAAM;AAAA,IACJ,QAAQ;AAAA,IACR,MAAM;AAAA,EACR,IAAIA;AACJ,MAAI,EAAE,uBAAuB,EAAE,cAAc;AAC3C,UAAMC,KAAI,EAAE,EAAE,kBAAkB,EAAE,EAAE,KAAK;AACzC,WAAO,QAAQA,OAAMA,GAAE,GAAG,GAAGC,IAAG,CAAC,GAAGC,GAAED,IAAG,GAAGJ,IAAG,CAAC,GAAGA,GAAE,CAAC,IAAI,EAAEI,GAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,MAAM,GAAG;AAAA,EAC3F;AACA,MAAI,EAAE,uBAAuB,EAAE,SAAS,EAAE,uBAAuB,EAAE,YAAY,EAAE,uBAAuB,EAAE,cAAc;AACtH,IAAAF,GAAE,UAAU,GAAG,GAAGF,IAAG,CAAC;AACtB,UAAMG,KAAI,EAAE,iBAAiB,GAC3B,IAAI,EAAE,iBAAiB;AACzB,IAAAH,GAAE,CAAC,IAAI,EAAE,CAAC,IAAIG,KAAI;AAAA,EACpB,OAAO;AACL,UAAMA,KAAI,EAAE,EAAE,kBAAkB,EAAE,EAAE,cAAc,GAChD,IAAI,EAAE,EAAE,cAAc,EAAE,EAAE,YAAY;AACxC,QAAIG,KAAI,EAAE,CAAC;AACX,YAAQH,MAAK,QAAQ,MAAMG,KAAI,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,MAAM,IAAIJ,GAAE,UAAU,GAAG,GAAGF,IAAG,CAAC,GAAGA,GAAE,CAAC,IAAIM;AAAA,EACjG;AACA,SAAO;AACT;AACA,SAAS,EAAE,GAAG,GAAGN,IAAG,GAAG;AACrB,QAAMM,KAAI,IAAI;AACd,MAAIA,KAAI,IAAI,KAAKN,KAAIM,GAAG,QAAO,OAAO;AACtC,QAAMC,KAAI,KAAK,IAAI,IAAI,CAAC,IAAI,KAAK,KAAKP,KAAIM,EAAC;AAC3C,SAAOC,MAAK,KAAK,KAAK,IAAI,OAAO,YAAYP,KAAI,KAAK,IAAIO,EAAC;AAC7D;AACA,IAAMH,KAAI,EAAE;AAAZ,IACE,IAAI,GAAE;AADR,IAEE,IAAI,EAAE,CAAC;",
  "names": ["s", "t", "t", "a", "E", "r", "f", "h", "n", "s"]
}
