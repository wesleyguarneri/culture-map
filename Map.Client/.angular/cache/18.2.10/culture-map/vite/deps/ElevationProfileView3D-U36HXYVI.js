import {
  a as a3
} from "./chunk-FV6BSQBI.js";
import {
  r as r2,
  t
} from "./chunk-SV4PAQ3O.js";
import {
  w
} from "./chunk-ILXHSVN4.js";
import {
  e as e5
} from "./chunk-EYQ4PV23.js";
import {
  j
} from "./chunk-XJ3IF5WI.js";
import "./chunk-RK23OHNG.js";
import "./chunk-QXRVL2BR.js";
import "./chunk-DC55WDRO.js";
import "./chunk-2CPAIFT3.js";
import "./chunk-NYQFHEZN.js";
import "./chunk-AV4NBVPL.js";
import "./chunk-UHYV4RE2.js";
import "./chunk-7RD4KVUX.js";
import "./chunk-APWDCJIJ.js";
import "./chunk-NEPAFG4J.js";
import "./chunk-E7VVOB2F.js";
import "./chunk-DOYOAB3G.js";
import "./chunk-DDIAZD6H.js";
import "./chunk-6YVA5E7L.js";
import "./chunk-TLAW3ACJ.js";
import "./chunk-MQUE5HQL.js";
import "./chunk-TKHURHLF.js";
import "./chunk-U7YHNT5S.js";
import "./chunk-UW23RIEM.js";
import "./chunk-R6CAUNOR.js";
import "./chunk-6BPYXCCQ.js";
import "./chunk-TMIIQZKR.js";
import "./chunk-ROVEMBDA.js";
import "./chunk-ZIDRXKSJ.js";
import "./chunk-DBK2ELNZ.js";
import "./chunk-S2UCXOWF.js";
import "./chunk-VI6HLZLR.js";
import "./chunk-MYKOM3G6.js";
import "./chunk-6FZS4YUQ.js";
import "./chunk-JRZPZOI3.js";
import "./chunk-GW7WMRYJ.js";
import "./chunk-Z52R7W33.js";
import "./chunk-O7OCS6XP.js";
import "./chunk-67LE7VNQ.js";
import "./chunk-ZVEHH7XL.js";
import "./chunk-BJM7H6OC.js";
import "./chunk-5MM5MT6Q.js";
import "./chunk-SCLVG2SO.js";
import "./chunk-557LD7Q2.js";
import "./chunk-X5UPCJEP.js";
import "./chunk-2ONAF54K.js";
import "./chunk-B6VSQC7C.js";
import "./chunk-6YA72G7G.js";
import "./chunk-PNAY7MWN.js";
import {
  n
} from "./chunk-D3AKDIJC.js";
import {
  e as e4
} from "./chunk-DKRGLYVY.js";
import "./chunk-7HBD4CJ3.js";
import "./chunk-WG5JLPNN.js";
import "./chunk-25PMMPR7.js";
import "./chunk-7XAWCQ7R.js";
import "./chunk-RASN5P76.js";
import "./chunk-IFUKJDOU.js";
import "./chunk-LD5YIQXD.js";
import "./chunk-J7KF6IEI.js";
import "./chunk-GOKBAMCG.js";
import "./chunk-E3P3LIVT.js";
import "./chunk-HUX6Y26H.js";
import "./chunk-LN4EMOLP.js";
import "./chunk-A6XTYETO.js";
import "./chunk-4TJAOUC3.js";
import "./chunk-CILAEMQM.js";
import "./chunk-TEOUFCJA.js";
import "./chunk-GTZOXRB5.js";
import "./chunk-3WPOFZBT.js";
import "./chunk-PPMHRAOP.js";
import "./chunk-75N5YDQB.js";
import "./chunk-XGDLE7WK.js";
import "./chunk-QMUS26QM.js";
import "./chunk-GDEAPZ64.js";
import "./chunk-TCQSUQ7Y.js";
import "./chunk-GOOZVNO4.js";
import "./chunk-5RHKQDDL.js";
import "./chunk-BG32AOSQ.js";
import "./chunk-PEZTN5WV.js";
import "./chunk-FHW2TG7X.js";
import "./chunk-33LKI2Y7.js";
import "./chunk-YCQXFVJL.js";
import "./chunk-ZAP7ZEWR.js";
import {
  h
} from "./chunk-YAGNWBGU.js";
import "./chunk-DE6MQ5XE.js";
import "./chunk-LQTSBE7P.js";
import "./chunk-GCFUJXGH.js";
import "./chunk-VIIVMRRO.js";
import "./chunk-ZKSEQXDM.js";
import "./chunk-675UQNXB.js";
import "./chunk-SUUOAZQT.js";
import "./chunk-TGHJVD7I.js";
import "./chunk-OZG2NNUW.js";
import "./chunk-KTRZHJ2M.js";
import "./chunk-KOIKSJSQ.js";
import "./chunk-VUVXW4AC.js";
import "./chunk-LKHUGH5W.js";
import "./chunk-QZVEEM53.js";
import "./chunk-ACZYDHB3.js";
import "./chunk-JXVDTUGR.js";
import "./chunk-HAO4WCNW.js";
import "./chunk-X2OAE75B.js";
import "./chunk-UCPBGEQD.js";
import "./chunk-SIZK72CP.js";
import "./chunk-WBOVDU4O.js";
import "./chunk-6A3XUATG.js";
import "./chunk-ZVFENZUF.js";
import "./chunk-N3S77FRG.js";
import "./chunk-YYETZJJB.js";
import "./chunk-MD2IQSSQ.js";
import "./chunk-C7VF4AR2.js";
import "./chunk-P7OSFLIX.js";
import "./chunk-ZDC4PV4Y.js";
import "./chunk-L3F4XA4B.js";
import "./chunk-DLRYNII2.js";
import "./chunk-66QAJ2MI.js";
import "./chunk-WN3YAMRZ.js";
import "./chunk-NWICVENM.js";
import "./chunk-OUP4PSAG.js";
import "./chunk-A4RKV2C7.js";
import "./chunk-WU7FVYT7.js";
import "./chunk-SYYDVGKY.js";
import "./chunk-6HBAAUBO.js";
import "./chunk-YLE5AYZV.js";
import "./chunk-62WUYJJN.js";
import "./chunk-JNWMZ6EJ.js";
import "./chunk-VS26W5Y5.js";
import "./chunk-YFQ32AQX.js";
import "./chunk-L4AYSXFJ.js";
import "./chunk-POQ3T5EH.js";
import "./chunk-DM4WHMQY.js";
import {
  a as a2
} from "./chunk-6MR4UDDL.js";
import "./chunk-KE2YMCJC.js";
import "./chunk-O2DTA3XK.js";
import "./chunk-3UOXF3CT.js";
import "./chunk-PA7WZX2U.js";
import "./chunk-GPUGMSHU.js";
import "./chunk-AIS5CSUZ.js";
import "./chunk-52UEU7LG.js";
import "./chunk-WJKYGQOY.js";
import "./chunk-GY52WOQZ.js";
import "./chunk-GAYJ4YPJ.js";
import "./chunk-PPMDUJ4E.js";
import "./chunk-ZTT6ENBS.js";
import "./chunk-MFZTGYUJ.js";
import "./chunk-R5ZE5A4K.js";
import "./chunk-24CN3HDP.js";
import "./chunk-SZWWBMQN.js";
import "./chunk-ZE47C44H.js";
import "./chunk-5GIS2C3K.js";
import "./chunk-XCOHDMBF.js";
import "./chunk-R3F4JMNC.js";
import "./chunk-7B5YPLFX.js";
import "./chunk-RDQF44TE.js";
import "./chunk-KKD7A2GN.js";
import "./chunk-ZWCV4HKG.js";
import "./chunk-N4KQPPPI.js";
import "./chunk-4OGGMTIH.js";
import "./chunk-NQVBBKAN.js";
import "./chunk-TCPN7AEH.js";
import "./chunk-4MMTPKY4.js";
import "./chunk-DY7FJHTG.js";
import "./chunk-KVKFHRJ3.js";
import "./chunk-VWML4J2J.js";
import "./chunk-JYODC3YQ.js";
import "./chunk-BQZBOYBD.js";
import "./chunk-TYQXPPSP.js";
import "./chunk-SWPHGZYB.js";
import "./chunk-HD65DNIO.js";
import "./chunk-4KWLMXIA.js";
import "./chunk-BIUXKPKA.js";
import "./chunk-N6TJI25E.js";
import "./chunk-634JLXD4.js";
import "./chunk-Y3EDGYWG.js";
import "./chunk-UF6JOUSJ.js";
import "./chunk-T5JGQSO3.js";
import "./chunk-CIW3KHOW.js";
import "./chunk-J55F4AC2.js";
import "./chunk-IQLBZKUD.js";
import "./chunk-7MZZCQ64.js";
import {
  e as e3
} from "./chunk-IMVP5ADD.js";
import "./chunk-H7WPOTQH.js";
import "./chunk-6A7CWJED.js";
import "./chunk-DUTZNK67.js";
import "./chunk-IN6BQCWS.js";
import "./chunk-HMNBB7ED.js";
import "./chunk-3RRMLFFN.js";
import "./chunk-HT2T6PUB.js";
import "./chunk-K64AAM77.js";
import "./chunk-6EUVKE22.js";
import "./chunk-XTVPEVHA.js";
import "./chunk-DTUSTSEJ.js";
import "./chunk-JCWFGRHQ.js";
import "./chunk-JILEJ6R2.js";
import "./chunk-GAW5JHG4.js";
import "./chunk-OEKKQXBD.js";
import "./chunk-S3IO7V4Q.js";
import "./chunk-DZALMCYL.js";
import {
  u as u2
} from "./chunk-K226GFDN.js";
import "./chunk-4ZZRP4MA.js";
import "./chunk-7ZJ6P7J7.js";
import "./chunk-FPFZQCEQ.js";
import "./chunk-YVULORT6.js";
import "./chunk-PB33BAI3.js";
import "./chunk-CVB43GGP.js";
import "./chunk-LLDOZWVV.js";
import "./chunk-7XMEZQ34.js";
import "./chunk-BDM2D6IC.js";
import "./chunk-U2ZVAEKG.js";
import "./chunk-EDSMXTFO.js";
import "./chunk-MNLT652N.js";
import "./chunk-OGZAGPIO.js";
import "./chunk-HJJIIYFF.js";
import "./chunk-7RMVJCDW.js";
import {
  m2 as m
} from "./chunk-T6GCUITX.js";
import "./chunk-TUIGM7TV.js";
import "./chunk-IHVSZYZS.js";
import "./chunk-6CA6K3O7.js";
import "./chunk-NYQ5CYNR.js";
import "./chunk-O7UDKFOW.js";
import "./chunk-TKPMIAIW.js";
import "./chunk-NQOJNTB3.js";
import "./chunk-MFOQYQFG.js";
import "./chunk-NKCPFCP3.js";
import "./chunk-3ZXOUEQG.js";
import "./chunk-AXVPJBVW.js";
import "./chunk-OXEPWRM7.js";
import "./chunk-POILQGXA.js";
import "./chunk-JJS7PR2U.js";
import "./chunk-L5YS4GSA.js";
import "./chunk-PRREDSOB.js";
import "./chunk-V5C6HSAM.js";
import "./chunk-SYATLP3H.js";
import "./chunk-V6AMQYXE.js";
import {
  A,
  d as d2
} from "./chunk-6WHTZNUH.js";
import "./chunk-EITGQLII.js";
import "./chunk-TIVJXVMN.js";
import {
  d
} from "./chunk-XNUH25NY.js";
import "./chunk-WGAPNV7F.js";
import "./chunk-BXQGM56A.js";
import {
  e as e2
} from "./chunk-4Z5SGKRM.js";
import {
  S,
  r
} from "./chunk-ANKOCGE2.js";
import {
  y
} from "./chunk-7CJXZOFG.js";
import "./chunk-IRGZKO7V.js";
import "./chunk-5SELS7VU.js";
import {
  a3 as a
} from "./chunk-DDYVXG4F.js";
import "./chunk-ANP42J2U.js";
import {
  s
} from "./chunk-HJY2YILU.js";
import {
  l as l2,
  o
} from "./chunk-7DA6A5LD.js";
import {
  e,
  l,
  u
} from "./chunk-2MMLMOWS.js";
import "./chunk-4323ZVPF.js";
import "./chunk-WYIDUUN2.js";
import "./chunk-DXLOWWK7.js";
import {
  __async
} from "./chunk-JWIQHGQB.js";

// ../../../node_modules/@arcgis/core/widgets/ElevationProfile/support/InputRepresentation3D.js
var p = class {
  constructor(e6) {
    this._params = e6, this._highlightTask = null, this._highlightHandle = null, this._visualElementHandle = null, this._settings = new j({
      getTheme: () => this._params.view.effectiveTheme
    });
  }
  destroy() {
    this.remove();
  }
  remove() {
    this._highlightTask = e(this._highlightTask), this._highlightHandle = l(this._highlightHandle), this._visualElementHandle = l(this._visualElementHandle);
  }
  showHighlight(i) {
    if (this.remove(), null == i || !u3(i)) return;
    const t2 = i.layer;
    this._highlightTask = d((e6) => __async(this, null, function* () {
      const s2 = yield this._params.view.whenLayerView(t2);
      s(e6), n(s2) && (this._highlightHandle = s2.highlight(i));
    }));
  }
  showReshaping(e6) {
    if (this.remove(), null == e6) return;
    const s2 = this._params.view, l3 = new w({
      view: s2,
      geometry: u3(e6) ? e6.geometry : null,
      attached: false,
      elevationInfo: a2(e6),
      renderOccluded: h.OccludeAndTransparentStencil,
      isDecoration: true
    }), r3 = new e5({
      graphic: e6
    }), n2 = [d2(() => r3.isDraped, (e7) => {
      l3.isDraped = e7;
    }), r3.on("changed", () => {
      l3.geometry = u3(e6) ? e6.geometry : null;
    }), s2.trackGraphicState(r3), s2.maskOccludee(e6), l2(l3)];
    this._settings.visualElements.lineObjects.outline.apply(l3), l3.attached = true, this._visualElementHandle = o(n2);
  }
};
function u3(e6) {
  return null != e6.geometry && "polyline" === e6.geometry.type;
}

// ../../../node_modules/@arcgis/core/widgets/ElevationProfile/support/ProfileLines3D.js
var h2 = 100;
var f = class extends S {
  constructor(e6) {
    super(e6), this._chartData = null, this._visualElements = [];
  }
  initialize() {
    const e6 = e4((e7) => {
      this._update(e7);
    }, h2);
    this.addHandles([d2(() => ({
      spatialReference: this.view.spatialReference,
      chartData: this._chartData
    }), e6, A), e6]);
  }
  destroy() {
    this._destroyVisualElements();
  }
  remove() {
    this._destroyVisualElements();
  }
  update(e6) {
    this._chartData = e6;
  }
  _update(e6) {
    const {
      chartData: o2
    } = e6;
    if (null == o2) return this.remove();
    if (!o2.refined) return;
    const r3 = this._visualElements, s2 = o2.lines.filter((e7) => e7.viewVisualizationEnabled), i = s2.length;
    for (; r3.length > i; ) r3.pop().destroy();
    const l3 = r2().profileLinesStyle3D;
    for (; r3.length < i; ) {
      const e7 = new w({
        view: this.view,
        elevationInfo: {
          mode: "absolute-height",
          offset: 0
        },
        innerWidth: l3.width - l3.outlineSize,
        width: l3.width,
        falloff: l3.falloff,
        color: l3.outlineColor,
        renderOccluded: l3.renderOccluded,
        isDecoration: true
      });
      r3.push(e7);
    }
    const a4 = e6.spatialReference;
    for (let c = 0; c < i; ++c) {
      const e7 = r3[c], o3 = s2[i - 1 - c];
      e7.geometry = this._createLineGeometry(o3, a4), e7.innerColor = e3(u2.toUnitRGBA(o3.color));
    }
  }
  _createLineGeometry(e6, t2) {
    const o2 = e6.samples ?? [], r3 = o2.length - 1, s2 = [];
    let i = [];
    for (let l3 = 0; l3 <= r3; l3++) {
      const {
        x: e7,
        y: t3,
        z: a4
      } = o2[l3];
      null != a4 && i.push([e7, t3, a4]), l3 !== r3 && null != a4 || !i.length || (s2.push(i), i = []);
    }
    return new m({
      paths: s2,
      hasZ: true,
      spatialReference: t2
    });
  }
  _destroyVisualElements() {
    this._visualElements.forEach((e6) => e6.destroy()), this._visualElements.length = 0;
  }
};
e2([y()], f.prototype, "view", void 0), e2([y()], f.prototype, "_chartData", void 0), f = e2([a("esri.widgets.ElevationProfile.support.ProfileLines3D")], f);

// ../../../node_modules/@arcgis/core/widgets/ElevationProfile/support/ElevationProfileView3D.js
var p2 = class {
  constructor(t2, s2) {
    this._handles = new r(), this._inputRepresentation = new p({
      view: t2
    }), this._hoveredPoints = new a3({
      view: t2
    }), this._profileLines = new f({
      view: t2
    }), this._handles.add([d2(() => s2.viewModel.hoveredPoints, (e6) => this._hoveredPoints.update(e6), A), d2(() => {
      const {
        state: e6,
        editable: t3,
        highlightEnabled: i,
        viewModel: o2
      } = s2, n2 = o2.input;
      return n2 && (n2.commitProperty("geometry"), n2.commitProperty("layer")), {
        input: n2,
        state: e6,
        editable: t3,
        highlightEnabled: i
      };
    }, (e6) => this._updateInputRepresentation(e6), A), d2(() => s2.viewModel.chartData, (e6) => this._profileLines.update(e6), A), d2(() => s2.viewModel.input?.geometry, () => {
      this._profileLines.remove();
    }, A)]);
  }
  destroy() {
    this._handles = u(this._handles), this._inputRepresentation = u(this._inputRepresentation), this._hoveredPoints = u(this._hoveredPoints), this._profileLines = u(this._profileLines);
  }
  _updateInputRepresentation({
    input: e6,
    state: t2,
    editable: i,
    highlightEnabled: o2
  }) {
    const n2 = this._inputRepresentation;
    if (!o2) return n2.remove();
    t2 === t.Selected ? n2.showHighlight(e6) : t2 !== t.Created || i ? n2.remove() : n2.showReshaping(e6);
  }
};
export {
  p2 as ElevationProfileView3D
};
//# sourceMappingURL=ElevationProfileView3D-U36HXYVI.js.map
