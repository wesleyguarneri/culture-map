{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js", "../../../../../../node_modules/@arcgis/core/layers/mixins/SceneService.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nlet n = null;\nfunction t(t) {\n  n = t;\n}\nfunction u() {\n  return n;\n}\nexport { u as getLoader, t as registerLoader };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../request.js\";\nimport r from \"../../core/Error.js\";\nimport o from \"../../core/Logger.js\";\nimport { debounce as i } from \"../../core/promiseUtils.js\";\nimport { urlToObject as s } from \"../../core/urlUtils.js\";\nimport { property as a } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport { reader as n } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as l } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as p } from \"../../core/accessorSupport/decorators/writer.js\";\nimport { updateOrigins as c } from \"../../core/accessorSupport/originUtils.js\";\nimport d from \"../../geometry/Extent.js\";\nimport u from \"../../geometry/HeightModelInfo.js\";\nimport m from \"../../geometry/SpatialReference.js\";\nimport { titleFromUrlAndName as h, parse as y, cleanTitle as f, sanitizeUrlWithLayerId as v, writeUrlWithLayerId as g } from \"../support/arcgisLayerUrl.js\";\nimport { id as S, url as w } from \"../support/commonProperties.js\";\nimport { fetchIndexInfo as x } from \"../support/I3SIndexInfo.js\";\nimport { getLoader as I } from \"../support/schemaValidatorLoader.js\";\nimport j from \"../../portal/Portal.js\";\nimport b from \"../../portal/PortalItem.js\";\nimport { createForItemWrite as _ } from \"../../portal/support/jsonContext.js\";\nimport { saveResources as E, updateItemWithResources as N } from \"../../webdoc/support/resourceUtils.js\";\nimport { validateSaveAPIKey as A } from \"../../webdoc/support/saveAPIKeyUtils.js\";\nimport { evaluateWriteErrors as R } from \"../../webdoc/support/saveUtils.js\";\nconst L = L => {\n    let M = class extends L {\n      constructor() {\n        super(...arguments), this.spatialReference = null, this.fullExtent = null, this.heightModelInfo = null, this.minScale = 0, this.maxScale = 0, this.version = {\n          major: Number.NaN,\n          minor: Number.NaN,\n          versionString: \"\"\n        }, this.copyright = null, this.sublayerTitleMode = \"item-title\", this.title = null, this.layerId = null, this.indexInfo = null, this._debouncedSaveOperations = i(async (e, t, r) => {\n          switch (e) {\n            case C.SAVE:\n              return this._save(t);\n            case C.SAVE_AS:\n              return this._saveAs(r, t);\n          }\n        });\n      }\n      readSpatialReference(e, t) {\n        return T(t);\n      }\n      readFullExtent(e, t, r) {\n        if (null != e && \"object\" == typeof e) {\n          const o = null == e.spatialReference ? {\n            ...e,\n            spatialReference: T(t)\n          } : e;\n          return d.fromJSON(o, r);\n        }\n        const o = t.store,\n          i = T(t);\n        return null == i || null == o?.extent || !Array.isArray(o.extent) || o.extent.some(e => e < U) ? null : new d({\n          xmin: o.extent[0],\n          ymin: o.extent[1],\n          xmax: o.extent[2],\n          ymax: o.extent[3],\n          spatialReference: i\n        });\n      }\n      parseVersionString(e) {\n        const t = {\n            major: Number.NaN,\n            minor: Number.NaN,\n            versionString: e\n          },\n          r = e.split(\".\");\n        return r.length >= 2 && (t.major = parseInt(r[0], 10), t.minor = parseInt(r[1], 10)), t;\n      }\n      readVersion(e, t) {\n        const r = t.store,\n          o = null != r.version ? r.version.toString() : \"\";\n        return this.parseVersionString(o);\n      }\n      readTitlePortalItem(e) {\n        return \"item-title\" !== this.sublayerTitleMode ? void 0 : e;\n      }\n      readTitleService(e, t) {\n        const r = this.portalItem?.title;\n        if (\"item-title\" === this.sublayerTitleMode) return this.url ? h(this.url, t.name) : t.name;\n        let o = t.name;\n        if (!o && this.url) {\n          const e = y(this.url);\n          null != e && (o = e.title);\n        }\n        return \"item-title-and-service-name\" === this.sublayerTitleMode && r && (o = r + \" - \" + o), f(o);\n      }\n      set url(e) {\n        if (null == e) return void this._set(\"url\", e);\n        const t = v({\n          layer: this,\n          url: e,\n          nonStandardUrlAllowed: !1,\n          logger: o.getLogger(this)\n        });\n        this._set(\"url\", t.url), null != t.layerId && this._set(\"layerId\", t.layerId);\n      }\n      writeUrl(e, t, r, o) {\n        g(this, e, \"layers\", t, o);\n      }\n      get parsedUrl() {\n        const e = this._get(\"url\"),\n          t = s(e);\n        return t && null != this.layerId && (t.path = `${t.path}/layers/${this.layerId}`), t;\n      }\n      async _fetchIndexAndUpdateExtent(e, t) {\n        this.indexInfo = x(this.parsedUrl?.path ?? \"\", this.rootNode, e, this.customParameters, this.apiKey, o.getLogger(this), t), null == this.fullExtent || this.fullExtent.hasZ || this._updateExtent(await this.indexInfo);\n      }\n      _updateExtent(e) {\n        if (\"page\" === e?.type) {\n          const t = e.rootIndex % e.pageSize,\n            o = e.rootPage?.nodes?.[t];\n          if (null == o?.obb?.center || null == o.obb.halfSize) throw new r(\"sceneservice:invalid-node-page\", \"Invalid node page.\");\n          if (o.obb.center[0] < U || null == this.fullExtent || this.fullExtent.hasZ) return;\n          const i = o.obb.halfSize,\n            s = o.obb.center[2],\n            a = Math.sqrt(i[0] * i[0] + i[1] * i[1] + i[2] * i[2]);\n          this.fullExtent.zmin = s - a, this.fullExtent.zmax = s + a;\n        } else if (\"node\" === e?.type) {\n          const t = e.rootNode?.mbs;\n          if (!Array.isArray(t) || 4 !== t.length || t[0] < U) return;\n          const r = t[2],\n            o = t[3],\n            {\n              fullExtent: i\n            } = this;\n          i && (i.zmin = r - o, i.zmax = r + o);\n        }\n      }\n      async _fetchService(e) {\n        if (null == this.url) throw new r(\"sceneservice:url-not-set\", \"Scene service can not be loaded without valid portal item or url\");\n        if (null == this.layerId && /SceneServer\\/*$/i.test(this.url)) {\n          const t = await this._fetchFirstLayerId(e);\n          null != t && (this.layerId = t);\n        }\n        return this._fetchServiceLayer(e);\n      }\n      async _fetchFirstLayerId(e) {\n        const r = await t(this.url ?? \"\", {\n          query: {\n            f: \"json\",\n            ...this.customParameters,\n            token: this.apiKey\n          },\n          responseType: \"json\",\n          signal: e\n        });\n        if (r.data && Array.isArray(r.data.layers) && r.data.layers.length > 0) return r.data.layers[0].id;\n      }\n      async _fetchServiceLayer(e) {\n        const r = await t(this.parsedUrl?.path ?? \"\", {\n          query: {\n            f: \"json\",\n            ...this.customParameters,\n            token: this.apiKey\n          },\n          responseType: \"json\",\n          signal: e\n        });\n        r.ssl && this.url && (this.url = this.url.replace(/^http:/i, \"https:\"));\n        let o = !1;\n        if (r.data.layerType && \"Voxel\" === r.data.layerType && (o = !0), o) return this._fetchVoxelServiceLayer();\n        const i = r.data;\n        this.read(i, this._getServiceContext()), this.validateLayer(i);\n      }\n      async _fetchVoxelServiceLayer(e) {\n        const r = (await t(this.parsedUrl?.path + \"/layer\", {\n          query: {\n            f: \"json\",\n            ...this.customParameters,\n            token: this.apiKey\n          },\n          responseType: \"json\",\n          signal: e\n        })).data;\n        this.read(r, this._getServiceContext()), this.validateLayer(r);\n      }\n      _getServiceContext() {\n        return {\n          origin: \"service\",\n          portalItem: this.portalItem,\n          portal: this.portalItem?.portal,\n          url: this.parsedUrl\n        };\n      }\n      async _ensureLoadBeforeSave() {\n        await this.load(), \"beforeSave\" in this && \"function\" == typeof this.beforeSave && (await this.beforeSave());\n      }\n      validateLayer(e) {}\n      async _saveAs(e, t) {\n        const o = {\n          ...V,\n          ...t\n        };\n        let i = b.from(e);\n        if (!i) throw new r(\"sceneservice:portal-item-required\", \"_saveAs() requires a portal item to save to\");\n        A(i), i.id && (i = i.clone(), i.id = null);\n        const s = i.portal || j.getDefault();\n        await this._ensureLoadBeforeSave(), i.type = K, i.portal = s;\n        const a = _(i, \"portal-item\", !0),\n          n = {\n            layers: [this.write({}, a)]\n          };\n        return await Promise.all(a.resources.pendingOperations ?? []), await this._validateAgainstJSONSchema(n, a, o), this.url && (i.url = this.url), i.title || (i.title = this.title), O(i, o, P.newItem), await s.signIn(), await s.user?.addItem({\n          item: i,\n          folder: o?.folder,\n          data: n\n        }), await E(this.resourceReferences, a), this.portalItem = i, c(a), a.portalItem = i, i;\n      }\n      async _save(e) {\n        const t = {\n          ...V,\n          ...e\n        };\n        if (!this.portalItem) throw new r(\"sceneservice:portal-item-not-set\", \"Portal item to save to has not been set on this SceneService\");\n        if (A(this.portalItem), this.portalItem.type !== K) throw new r(\"sceneservice:portal-item-wrong-type\", `Portal item needs to have type \"${K}\"`);\n        await this._ensureLoadBeforeSave();\n        const o = _(this.portalItem, \"portal-item\", !0),\n          i = {\n            layers: [this.write({}, o)]\n          };\n        return await Promise.all(o.resources.pendingOperations ?? []), await this._validateAgainstJSONSchema(i, o, t), this.url && (this.portalItem.url = this.url), this.portalItem.title || (this.portalItem.title = this.title), O(this.portalItem, t, P.existingItem), await N(this.portalItem, i, this.resourceReferences, o), c(o), this.portalItem;\n      }\n      async _validateAgainstJSONSchema(e, t, i) {\n        const s = i?.validationOptions;\n        R(t, {\n          errorName: \"sceneservice:save\"\n        }, {\n          ignoreUnsupported: s?.ignoreUnsupported,\n          supplementalUnsupportedErrors: [\"scenemodification:unsupported\"]\n        });\n        const a = s?.enabled,\n          n = I();\n        if (a && n) {\n          const t = (await n()).validate(e, i.portalItemLayerType);\n          if (!t.length) return;\n          const a = `Layer item did not validate:\\n${t.join(\"\\n\")}`;\n          if (o.getLogger(this).error(`_validateAgainstJSONSchema(): ${a}`), \"throw\" === s.failPolicy) {\n            const e = t.map(e => new r(\"sceneservice:schema-validation\", e));\n            throw new r(\"sceneservice-validate:error\", \"Failed to save layer item due to schema validation, see `details.errors`.\", {\n              validationErrors: e\n            });\n          }\n        }\n      }\n    };\n    return e([a(S)], M.prototype, \"id\", void 0), e([a({\n      type: m\n    })], M.prototype, \"spatialReference\", void 0), e([n(\"spatialReference\", [\"spatialReference\", \"store.indexCRS\", \"store.geographicCRS\"])], M.prototype, \"readSpatialReference\", null), e([a({\n      type: d\n    })], M.prototype, \"fullExtent\", void 0), e([n(\"fullExtent\", [\"fullExtent\", \"store.extent\", \"spatialReference\", \"store.indexCRS\", \"store.geographicCRS\"])], M.prototype, \"readFullExtent\", null), e([a({\n      readOnly: !0,\n      type: u\n    })], M.prototype, \"heightModelInfo\", void 0), e([a({\n      type: Number,\n      json: {\n        name: \"layerDefinition.minScale\",\n        write: !0,\n        origins: {\n          service: {\n            read: {\n              source: \"minScale\"\n            },\n            write: !1\n          }\n        }\n      }\n    })], M.prototype, \"minScale\", void 0), e([a({\n      type: Number,\n      json: {\n        name: \"layerDefinition.maxScale\",\n        write: !0,\n        origins: {\n          service: {\n            read: {\n              source: \"maxScale\"\n            },\n            write: !1\n          }\n        }\n      }\n    })], M.prototype, \"maxScale\", void 0), e([a({\n      readOnly: !0\n    })], M.prototype, \"version\", void 0), e([n(\"version\", [\"store.version\"])], M.prototype, \"readVersion\", null), e([a({\n      type: String,\n      json: {\n        read: {\n          source: \"copyrightText\"\n        }\n      }\n    })], M.prototype, \"copyright\", void 0), e([a({\n      type: String,\n      json: {\n        read: !1\n      }\n    })], M.prototype, \"sublayerTitleMode\", void 0), e([a({\n      type: String\n    })], M.prototype, \"title\", void 0), e([n(\"portal-item\", \"title\")], M.prototype, \"readTitlePortalItem\", null), e([n(\"service\", \"title\", [\"name\"])], M.prototype, \"readTitleService\", null), e([a({\n      type: Number,\n      json: {\n        origins: {\n          service: {\n            read: {\n              source: \"id\"\n            }\n          },\n          \"portal-item\": {\n            write: {\n              target: \"id\",\n              isRequired: !0,\n              ignoreOrigin: !0\n            },\n            read: !1\n          }\n        }\n      }\n    })], M.prototype, \"layerId\", void 0), e([a(w)], M.prototype, \"url\", null), e([p(\"url\")], M.prototype, \"writeUrl\", null), e([a()], M.prototype, \"parsedUrl\", null), e([a({\n      readOnly: !0\n    })], M.prototype, \"store\", void 0), e([a({\n      type: String,\n      readOnly: !0,\n      json: {\n        read: {\n          source: \"store.rootNode\"\n        }\n      }\n    })], M.prototype, \"rootNode\", void 0), M = e([l(\"esri.layers.mixins.SceneService\")], M), M;\n  },\n  U = -1e38;\nfunction T(e) {\n  if (null != e.spatialReference) return m.fromJSON(e.spatialReference);\n  const t = e.store,\n    r = t.indexCRS || t.geographicCRS,\n    o = r && parseInt(r.substring(r.lastIndexOf(\"/\") + 1, r.length), 10);\n  return null != o ? new m(o) : null;\n}\nfunction O(e, t, r) {\n  e.typeKeywords || (e.typeKeywords = []);\n  const o = t.getTypeKeywords();\n  for (const i of o) e.typeKeywords.push(i);\n  e.typeKeywords && (e.typeKeywords = e.typeKeywords.filter((e, t, r) => r.indexOf(e) === t), r === P.newItem && (e.typeKeywords = e.typeKeywords.filter(e => \"Hosted Service\" !== e)));\n}\nvar P;\n!function (e) {\n  e[e.existingItem = 0] = \"existingItem\", e[e.newItem = 1] = \"newItem\";\n}(P || (P = {}));\nconst K = \"Scene Service\",\n  V = {\n    getTypeKeywords: () => [],\n    portalItemLayerType: \"unknown\",\n    validationOptions: {\n      enabled: !0,\n      ignoreUnsupported: !1,\n      failPolicy: \"throw\"\n    }\n  };\nvar C;\n!function (e) {\n  e[e.SAVE = 0] = \"SAVE\", e[e.SAVE_AS = 1] = \"SAVE_AS\";\n}(C || (C = {}));\nexport { C as SaveOperationType, L as SceneService, K as sceneServiceItemType };"],
  "mappings": "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",
  "names": ["n", "n", "L", "e", "t", "r", "C", "o", "i", "U", "w", "S", "s", "a", "n", "p"]
}
