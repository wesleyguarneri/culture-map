{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileFeatureIndex.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { LRUCache as e } from \"../../../../core/LRUCache.js\";\nimport { fromValues as i, create as t, intersects as l } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport s from \"../../tiling/TileCoverage.js\";\nimport o from \"../../tiling/TileKey.js\";\nconst r = 512,\n  n = 1e-6,\n  a = (e, i) => e + 1 / (1 << 2 * i);\nclass h {\n  constructor(i, t) {\n    this._tiles = new Map(), this._tileCache = new e(40, e => e.dispose()), this._viewSize = [0, 0], this._visibleTiles = new Map(), this.acquireTile = i.acquireTile, this.releaseTile = i.releaseTile, this.tileInfoView = i.tileInfoView, this._container = t;\n  }\n  destroy() {\n    for (const [e, i] of this._tiles) i.dispose();\n    this._tiles = null, this._tileCache.clear(), this._tileCache = null;\n  }\n  update(e) {\n    this._updateCacheSize(e);\n    const i = this.tileInfoView,\n      t = i.getTileCoverage(e.state, 0, !0, \"smallest\");\n    if (!t) return !0;\n    const {\n        spans: l,\n        lodInfo: r\n      } = t,\n      {\n        level: n\n      } = r,\n      a = this._tiles,\n      h = new Set(),\n      c = new Set();\n    for (const {\n      row: s,\n      colFrom: _,\n      colTo: f\n    } of l) for (let e = _; e <= f; e++) {\n      const i = o.getId(n, s, r.normalizeCol(e), r.getWorldForColumn(e)),\n        t = this._getOrAcquireTile(i);\n      h.add(i), t.processed() ? this._addToContainer(t) : c.add(new o(i));\n    }\n    for (const [s, o] of a) o.isCoverage = h.has(s);\n    for (const s of c) this._findPlaceholdersForMissingTiles(s, h);\n    let d = !1;\n    for (const [s, o] of a) o.neededForCoverage = h.has(s), o.neededForCoverage || o.isHoldingForFade && i.intersects(t, o.key) && h.add(s), o.isFading && (d = !0);\n    for (const [s, o] of this._tiles) h.has(s) || this._releaseTile(s);\n    return s.pool.release(t), !d;\n  }\n  clear() {\n    this._tiles.clear(), this._tileCache.clear(), this._visibleTiles.clear();\n  }\n  clearCache() {\n    this._tileCache.clear();\n  }\n  getIntersectingTiles(e, s, o, r, n) {\n    const a = [0, 0],\n      h = [0, 0];\n    r.toMap(a, e - o, s + o), r.toMap(h, e + o, s - o);\n    const c = Math.min(a[0], h[0]),\n      d = Math.min(a[1], h[1]),\n      _ = Math.max(a[0], h[0]),\n      f = Math.max(a[1], h[1]),\n      T = i(c, d, _, f),\n      p = t(),\n      u = [];\n    for (const [i, t] of this._visibleTiles) this.tileInfoView.getTileBounds(p, t.key), l(T, p) && u.push(t);\n    if (null != n && n.length > 0) {\n      const e = new Set(u.map(e => e.id)),\n        i = n.filter(i => !e.has(i.tileKey.id)).map(e => this._visibleTiles.get(e.tileKey.id)).filter(e => void 0 !== e);\n      u.push(...i);\n    }\n    return u;\n  }\n  _findPlaceholdersForMissingTiles(e, i) {\n    const t = [];\n    for (const [s, o] of this._tiles) this._addPlaceholderChild(t, o, e, i);\n    const l = t.reduce(a, 0);\n    Math.abs(1 - l) < n || this._addPlaceholderParent(e.id, i);\n  }\n  _addPlaceholderChild(e, i, t, l) {\n    i.key.level <= t.level || !i.hasData() || d(t, i.key) && (this._addToContainer(i), l.add(i.id), e.push(i.key.level - t.level));\n  }\n  _addPlaceholderParent(e, i) {\n    const t = this._tiles;\n    let l = e;\n    for (;;) {\n      if (l = c(l), !l || i.has(l)) return;\n      const e = t.get(l);\n      if (e?.hasData()) return this._addToContainer(e), void i.add(e.id);\n    }\n  }\n  _getOrAcquireTile(e) {\n    let i = this._tiles.get(e);\n    return i || (i = this._tileCache.pop(e), i || (i = this.acquireTile(new o(e))), this._tiles.set(e, i), i);\n  }\n  _releaseTile(e) {\n    const i = this._tiles.get(e);\n    this.releaseTile(i), this._removeFromContainer(i), this._tiles.delete(e), i.hasData() ? this._tileCache.put(e, i, 1) : i.dispose();\n  }\n  _addToContainer(e) {\n    let i;\n    const t = [],\n      l = this._container;\n    if (l.contains(e)) return;\n    const s = this._visibleTiles;\n    for (const [o, r] of s) this._canConnectDirectly(e, r) && t.push(r), null == i && this._canConnectDirectly(r, e) && (i = r);\n    if (null != i) {\n      for (const l of t) i.childrenTiles.delete(l), e.childrenTiles.add(l), l.parentTile = e;\n      i.childrenTiles.add(e), e.parentTile = i;\n    } else for (const o of t) e.childrenTiles.add(o), o.parentTile = e;\n    s.set(e.id, e), l.addChild(e);\n  }\n  _removeFromContainer(e) {\n    if (this._visibleTiles.delete(e.id), this._container.removeChild(e), null != e.parentTile) {\n      e.parentTile.childrenTiles.delete(e);\n      for (const i of e.childrenTiles) null != e.parentTile && e.parentTile.childrenTiles.add(i);\n    }\n    for (const i of e.childrenTiles) i.parentTile = e.parentTile;\n    e.parentTile = null, e.childrenTiles.clear();\n  }\n  _canConnectDirectly(e, i) {\n    const t = e.key;\n    let {\n      level: l,\n      row: s,\n      col: o,\n      world: r\n    } = i.key;\n    const n = this._visibleTiles;\n    for (; l > 0;) {\n      if (l--, s >>= 1, o >>= 1, t.level === l && t.row === s && t.col === o && t.world === r) return !0;\n      if (n.has(`${l}/${s}/${o}/${r}`)) return !1;\n    }\n    return !1;\n  }\n  _updateCacheSize(e) {\n    const i = e.state.size;\n    if (i[0] === this._viewSize[0] && i[1] === this._viewSize[1]) return;\n    const t = Math.ceil(i[0] / r) + 1,\n      l = Math.ceil(i[1] / r) + 1;\n    this._viewSize[0] = i[0], this._viewSize[1] = i[1], this._tileCache.maxSize = 5 * t * l;\n  }\n}\nfunction c(e) {\n  const [i, t, l, s] = e.split(\"/\"),\n    o = parseInt(i, 10);\n  return 0 === o ? null : `${o - 1}/${parseInt(t, 10) >> 1}/${parseInt(l, 10) >> 1}/${parseInt(s, 10)}`;\n}\nfunction d(e, i) {\n  const t = i.level - e.level;\n  return e.row === i.row >> t && e.col === i.col >> t && e.world === i.world;\n}\nexport { h as TileManager };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { signal as t } from \"../../../../../core/signal.js\";\nimport { declutterBudget as e, fadeDuration as i } from \"./config.js\";\nimport { VTLUniqueSymbol as s } from \"./core.js\";\nimport { CollisionJob as o } from \"./jobs.js\";\nimport { SymbolDeclutterer as r } from \"./SymbolDeclutterer.js\";\nimport { SymbolRepository as l } from \"./SymbolRepository.js\";\nimport { writeOpacityToBuffers as a } from \"./util.js\";\nimport { Visibility as n } from \"../style/StyleDefinition.js\";\nconst c = .5,\n  h = 1e-6;\nclass _ {\n  constructor(e, i) {\n    this.styleRepository = e, this._tileToHandle = new Map(), this._viewState = {\n      scale: 0,\n      rotation: 0,\n      center: [0, 0],\n      size: [0, 0]\n    }, this._declutterViewState = {\n      scale: 0,\n      rotation: 0,\n      center: [0, 0],\n      size: [0, 0]\n    }, this._offsetFromScreenCenter = [0, 0], this._completed = !1, this._fading = t(!1), this._symbolRepository = new l(4096, i, () => new s()), this._symbolDeclutterer = new r(i, this._symbolRepository, (t, e, i) => this._createCollisionJob(t, e, i), (t, e) => {\n      t.allSymbolsFadingOut = !0, t.lastOpacityUpdate = e, a(t, e, !0), t.decluttered = !0, t.requestRender();\n    }, (t, e) => this.styleRepository.getStyleLayerByUID(t.styleLayerUID).z - this.styleRepository.getStyleLayerByUID(e.styleLayerUID).z, t => {\n      const e = this.styleRepository.getStyleLayerByUID(t);\n      if (this._zoom + h < e.minzoom || this._zoom - h >= e.maxzoom) return !1;\n      const i = e.getLayoutProperty(\"visibility\");\n      return !i || i.getValue() !== n.NONE;\n    });\n  }\n  get symbolRepository() {\n    return this._symbolRepository;\n  }\n  _createCollisionJob(t, e, i) {\n    return this.updateDecluttererViewState(), new o(t, e, i, this.styleRepository, this._zoom, this._viewState.rotation);\n  }\n  get fading() {\n    return this._fading.value;\n  }\n  get decluttererOffset() {\n    return this._offsetFromScreenCenter;\n  }\n  addTile(t) {\n    t.decluttered = !1, this._tileToHandle.set(t, t.on(\"symbols-changed\", () => {\n      this._symbolRepository.add(t), this.restartDeclutter();\n    })), this._symbolRepository.add(t), this.restartDeclutter();\n  }\n  removeTile(t) {\n    const e = this._tileToHandle.get(t);\n    e && (this._symbolRepository.removeTile(t), this.restartDeclutter(), e.remove(), this._tileToHandle.delete(t));\n  }\n  update(t, e) {\n    this._zoom = t, this._viewState = {\n      scale: e.scale,\n      rotation: e.rotation,\n      center: [e.center[0], e.center[1]],\n      size: [e.size[0], e.size[1]]\n    };\n    const i = [0, 0];\n    e.toScreen(i, e.center);\n    const s = [0, 0];\n    return e.toScreen(s, this._declutterViewState.center), this._offsetFromScreenCenter[0] = i[0] - s[0], this._offsetFromScreenCenter[1] = i[1] - s[1], this._continueDeclutter(), this._completed;\n  }\n  restartDeclutter() {\n    this._completed = !1, this._symbolDeclutterer.restart(), this._notifyUnstable();\n  }\n  clear() {\n    this._completed = !1, this._symbolRepository = null, this._symbolDeclutterer.restart(), this._tileToHandle.forEach(t => t.remove()), this._tileToHandle.clear();\n  }\n  get stale() {\n    return this._zoom !== this._declutterZoom || this._viewState.size[0] !== this._declutterViewState.size[0] || this._viewState.size[1] !== this._declutterViewState.size[1] || this._viewState.scale !== this._declutterViewState.scale || this._viewState.rotation !== this._declutterViewState.rotation;\n  }\n  deleteStyleLayers(t) {\n    this._symbolRepository.deleteStyleLayers(t);\n  }\n  _continueDeclutter() {\n    this._completed && !this.stale || (this._symbolDeclutterer.running || (this.updateDecluttererViewState(), this._symbolDeclutterer.restart()), this._symbolDeclutterer.setScreenSize(this._viewState.size[0], this._viewState.size[1]), this._completed = this._symbolDeclutterer.continue(e), this._completed && this._scheduleNotifyStable());\n  }\n  _scheduleNotifyStable() {\n    null != this._stableNotificationHandle && clearTimeout(this._stableNotificationHandle), this._stableNotificationHandle = setTimeout(() => {\n      this._stableNotificationHandle = null, this._fading.value = !1;\n    }, (1 + c) * i);\n  }\n  _notifyUnstable() {\n    null != this._stableNotificationHandle && (clearTimeout(this._stableNotificationHandle), this._stableNotificationHandle = null), this._fading.value = !0;\n  }\n  updateDecluttererViewState() {\n    this._declutterZoom = this._zoom, this._declutterViewState.center[0] = this._viewState.center[0], this._declutterViewState.center[1] = this._viewState.center[1], this._declutterViewState.rotation = this._viewState.rotation, this._declutterViewState.scale = this._viewState.scale, this._declutterViewState.size[0] = this._viewState.size[0], this._declutterViewState.size[1] = this._viewState.size[1], this._offsetFromScreenCenter[0] = 0, this._offsetFromScreenCenter[1] = 0;\n  }\n}\nexport { _ as SymbolFader };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as e } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport t from \"../../../../layers/support/TileInfo.js\";\nimport { SymbolFader as s } from \"./decluttering/SymbolFader.js\";\nimport { Visibility as r, StyleLayerType as i } from \"./style/StyleDefinition.js\";\nimport { WGLDrawPhase as l } from \"../webgl/enums.js\";\nimport { RenderableTile as o } from \"../webgl/RenderableTile.js\";\nimport n from \"../webgl/TileContainer.js\";\nimport a from \"../../tiling/TileCoverage.js\";\nimport d from \"../../tiling/TileKey.js\";\nimport { StencilOperation as h, CompareFunction as c, BlendFactor as u } from \"../../../webgl/enums.js\";\nconst y = 1e-6;\nfunction p(e, t) {\n  if (e) {\n    const s = e.getLayoutProperty(\"visibility\");\n    if (!s || s.getValue() !== r.NONE && (void 0 === e.minzoom || e.minzoom < t + y) && (void 0 === e.maxzoom || e.maxzoom >= t - y)) return !0;\n  }\n  return !1;\n}\nclass m extends n {\n  constructor(e) {\n    super(e), this._backgroundTiles = [], this._computeDisplayInfoView(e);\n  }\n  destroy() {\n    this.removeAllChildren(), this._spriteMosaic?.dispose(), this._spriteMosaic = null, this._glyphMosaic?.dispose(), this._glyphMosaic = null, null != this._symbolFader && (this._symbolFader.clear(), this._symbolFader = null), this._styleRepository = null, this._backgroundTiles = [];\n  }\n  get fading() {\n    return this._symbolFader?.fading ?? !1;\n  }\n  get symbolFader() {\n    return this._symbolFader;\n  }\n  get symbolRepository() {\n    return this._symbolFader?.symbolRepository;\n  }\n  setStyleResources(e, t, r, i) {\n    this._spriteMosaic = e, this._glyphMosaic = t, this._styleRepository = r, this._tileInfoView = i, this._computeDisplayInfoView(i), null == this._symbolFader && (this._symbolFader = new s(this._styleRepository, this.children)), this._symbolFader.styleRepository = r;\n  }\n  setSpriteMosaic(e) {\n    this._spriteMosaic?.dispose(), this._spriteMosaic = e;\n  }\n  deleteStyleLayers(e) {\n    null != this._symbolFader && this._symbolFader.deleteStyleLayers(e);\n  }\n  createRenderParams(e) {\n    return {\n      ...super.createRenderParams(e),\n      renderPass: null,\n      styleLayer: null,\n      styleLayerUID: -1,\n      glyphMosaic: this._glyphMosaic,\n      spriteMosaic: this._spriteMosaic,\n      hasClipping: !!this._clippingInfos\n    };\n  }\n  doRender(e) {\n    !this.visible || e.drawPhase !== l.MAP && e.drawPhase !== l.DEBUG || void 0 === this._spriteMosaic || super.doRender(e);\n  }\n  addChild(e) {\n    return super.addChild(e), null != this._symbolFader ? this._symbolFader.addTile(e) : e.decluttered = !0, this.requestRender(), e;\n  }\n  removeChild(e) {\n    return null != this._symbolFader && this._symbolFader.removeTile(e), this.requestRender(), super.removeChild(e);\n  }\n  renderChildren(e) {\n    const {\n      drawPhase: t\n    } = e;\n    t !== l.DEBUG ? this._doRender(e) : super.renderChildren(e);\n  }\n  removeAllChildren() {\n    for (let e = 0; e < this.children.length; e++) {\n      const t = this.children[e];\n      null != this._symbolFader && this._symbolFader.removeTile(t), t.dispose();\n    }\n    super.removeAllChildren();\n  }\n  getStencilTarget() {\n    return this.children.filter(e => e.neededForCoverage && e.hasData());\n  }\n  restartDeclutter() {\n    null != this._symbolFader && this._symbolFader.restartDeclutter();\n  }\n  _doRender(e) {\n    const {\n        context: t,\n        state: s\n      } = e,\n      r = this._styleRepository;\n    if (!r) return;\n    const i = r.layers,\n      o = this._displayInfo.scaleToZoom(s.scale);\n    r.backgroundBucketIds.length > 0 && (e.renderPass = \"background\", this._renderBackgroundLayers(e, r.backgroundBucketIds, o)), super.renderChildren(e), e.drawPhase === l.MAP && this._fade(o, s);\n    const n = this.children.filter(e => e.visible && e.hasData());\n    if (!n || 0 === n.length) return t.bindVAO(), t.setStencilTestEnabled(!0), void t.setBlendingEnabled(!0);\n    for (const l of n) l.triangleCount = 0;\n    t.setStencilWriteMask(0), t.setColorMask(!0, !0, !0, !0), t.setStencilOp(h.KEEP, h.KEEP, h.REPLACE), t.setStencilTestEnabled(!0), t.setBlendingEnabled(!1), t.setDepthTestEnabled(!0), t.setDepthWriteEnabled(!0), t.setDepthFunction(c.LEQUAL), t.setClearDepth(1), t.clear(t.gl.DEPTH_BUFFER_BIT), e.renderPass = \"opaque\";\n    for (let l = i.length - 1; l >= 0; l--) this._renderStyleLayer(i[l], e, n);\n    t.setDepthWriteEnabled(!1), t.setBlendingEnabled(!0), t.setBlendFunctionSeparate(u.ONE, u.ONE_MINUS_SRC_ALPHA, u.ONE, u.ONE_MINUS_SRC_ALPHA), e.renderPass = \"translucent\";\n    for (let l = 0; l < i.length; l++) this._renderStyleLayer(i[l], e, n);\n    t.bindVAO(), t.setStencilTestEnabled(!0), t.setBlendingEnabled(!0);\n    for (const l of n) l.debugInfo.display.triangleCount = l.triangleCount;\n  }\n  _fade(e, t) {\n    null != this._symbolFader && (this._symbolFader.update(e, t) || this.requestRender());\n  }\n  _renderStyleLayer(e, t, s) {\n    const {\n      displayLevel: l,\n      painter: o,\n      renderPass: n\n    } = t;\n    if (void 0 === e) return;\n    const a = e.getLayoutProperty(\"visibility\");\n    if (a && a.getValue() === r.NONE) return;\n    let d;\n    switch (e.type) {\n      case i.BACKGROUND:\n        return;\n      case i.FILL:\n        if (\"opaque\" !== n && \"translucent\" !== t.renderPass) return;\n        d = \"vtlFill\";\n        break;\n      case i.LINE:\n        if (\"translucent\" !== n) return;\n        d = \"vtlLine\";\n        break;\n      case i.CIRCLE:\n        if (\"translucent\" !== n) return;\n        d = \"vtlCircle\";\n        break;\n      case i.SYMBOL:\n        if (\"translucent\" !== n) return;\n        d = \"vtlSymbol\";\n    }\n    if (s = e.type === i.SYMBOL ? s.filter(e => e.decluttered) : s.filter(e => e.neededForCoverage), \"vtlSymbol\" !== d && (0 === s.length || void 0 !== e.minzoom && e.minzoom >= l + y || void 0 !== e.maxzoom && e.maxzoom < l - y)) return;\n    const h = e.uid;\n    t.styleLayerUID = h, t.styleLayer = e;\n    for (const r of s) if (r.layerData.has(h)) {\n      o.renderObjects(t, s, d);\n      break;\n    }\n  }\n  _renderBackgroundLayers(t, s, r) {\n    const {\n        context: l,\n        painter: n,\n        state: u\n      } = t,\n      y = this._styleRepository;\n    let m = !1;\n    for (const e of s) {\n      if (y.getLayerById(e).type === i.BACKGROUND && p(y.getLayerById(e), r)) {\n        m = !0;\n        break;\n      }\n    }\n    if (!m) return;\n    const f = this._tileInfoView,\n      g = f.getTileCoverage(t.state, 0, !0, \"smallest\"),\n      {\n        spans: _,\n        lodInfo: b\n      } = g,\n      {\n        level: E\n      } = b,\n      C = e(),\n      F = [];\n    if (this._renderPasses) {\n      const e = this._renderPasses[0];\n      null != this._clippingInfos && (e.brushes[0].prepareState(t), e.brushes[0].drawMany(t, this._clippingInfos));\n    }\n    const L = this._backgroundTiles;\n    let R,\n      v = 0;\n    for (const {\n      row: i,\n      colFrom: a,\n      colTo: h\n    } of _) for (let t = a; t <= h; t++) {\n      if (v < L.length) R = L[v], R.key.set(E, i, b.normalizeCol(t), b.getWorldForColumn(t)), f.getTileBounds(C, R.key, !1), R.x = C[0], R.y = C[3], R.resolution = f.getTileResolution(E);else {\n        const s = new d(E, i, b.normalizeCol(t), b.getWorldForColumn(t)),\n          r = f.getTileBounds(e(), s),\n          l = f.getTileResolution(E);\n        R = new o(s, l, r[0], r[3], 512, 512, 4096, 4096), L.push(R);\n      }\n      R.setTransform(u), F.push(R), v++;\n    }\n    l.setStencilWriteMask(0), l.setColorMask(!0, !0, !0, !0), l.setStencilOp(h.KEEP, h.KEEP, h.REPLACE), l.setStencilFunction(c.EQUAL, 0, 255), l.setStencilTestEnabled(!0);\n    for (const e of s) {\n      const s = y.getLayerById(e);\n      s.type === i.BACKGROUND && p(s, r) && (t.styleLayerUID = s.uid, t.styleLayer = s, n.renderObjects(t, F, \"vtlBackground\"));\n    }\n    a.pool.release(g);\n  }\n  _computeDisplayInfoView(e) {\n    let s = e.tileInfo.lods[0].scale;\n    const r = Math.max(25, e.tileInfo.lods.length),\n      i = [];\n    for (let t = 0; t <= r; t++) i.push(s), s /= 2;\n    this._displayInfo = t.create({\n      scales: i,\n      size: 512,\n      spatialReference: e.spatialReference,\n      numLODs: r\n    });\n  }\n}\nexport { m as VectorTileContainer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Graphic.js\";\nimport { getOrCreateMapValue as t } from \"../../../../core/MapUtils.js\";\nimport s from \"../../../../core/pbf.js\";\nimport { PooledRBush as r } from \"../../../../core/libs/rbush/PooledRBush.js\";\nimport { BucketType as i } from \"./enums.js\";\nimport l from \"./Feature.js\";\nimport { getTileMargins as o } from \"./GeometryUtils.js\";\nimport n from \"./SourceLayerData.js\";\nimport { IndexItem as a } from \"./style/StyleLayer.js\";\nconst y = 8,\n  c = 512,\n  u = 4096,\n  h = (e, t) => {\n    const s = e.vtlSymbol.sourceTile,\n      r = t.vtlSymbol.sourceTile;\n    return s.level !== r.level ? s.level - r.level : s.row !== r.row ? s.row - r.row : s.col !== r.col ? s.col - r.col : e.styleLayerUID - t.styleLayerUID;\n  };\nclass d {\n  constructor(e, t, s, r, i) {\n    this.tileKey = e, this._index = null, this._styleRepository = null, this._tileHandler = null, this._tileKeyToPBF = new Map(), this._tileLayerData = t, this._styleRepository = s, this._tileHandler = r, this._parentLayer = i;\n  }\n  static create(e, t, s, r, i) {\n    return new d(e, t, s, r, i);\n  }\n  clear() {\n    this._index?.clear(), this._tileKeyToPBF.clear();\n  }\n  async queryAttributes(e, t, s, i, l) {\n    if (0 === this._tileLayerData.size || !this._styleRepository || !this._tileHandler) return [];\n    null === this._index && (this._index = new r(100, m), await this._indexLayers());\n    const o = [];\n    return this._queryIndex(o, e, t, s, this.tileKey.level, i), l && l?.length > 0 && (await this._getSymbolsAttributes(o, l)), o;\n  }\n  async _indexLayers() {\n    const e = this.tileKey,\n      t = this._styleRepository.layers,\n      s = await this._getTilePayload(e);\n    for (const [r, l] of this._tileLayerData) {\n      const o = t[r],\n        n = s.find(e => e.sourceName === o.source);\n      if (!n) continue;\n      const {\n        protobuff: a,\n        key: y\n      } = n;\n      if (l.type !== i.SYMBOL) {\n        const t = 1 << e.level - y.level,\n          s = e.row - y.row * t,\n          r = e.col - y.col * t;\n        this._indexLayer(o, a, e.level, t, s, r);\n      }\n    }\n  }\n  _indexLayer(e, t, r, i, y, h) {\n    const d = e.sourceLayer,\n      m = e.getFeatureFilter(),\n      f = r,\n      _ = r + 1,\n      p = o(f),\n      g = new s(new Uint8Array(t), new DataView(t));\n    for (; g.next();) switch (g.tag()) {\n      case 3:\n        {\n          const t = g.getMessage(),\n            s = new n(t);\n          if (t.release(), s.name !== d) continue;\n          const o = s.getData(),\n            w = s.extent / i,\n            x = w * h - p,\n            b = w * y - p,\n            I = x + w + 2 * p,\n            L = b + w + 2 * p,\n            v = w / c,\n            D = u / w,\n            T = w * h,\n            S = w * y;\n          for (; o.nextTag(2);) {\n            const t = o.getMessage(),\n              i = new l(t, s);\n            if (t.release(), m && !m.filter(i, r)) continue;\n            const n = i.values || {},\n              y = n._minzoom,\n              c = n._maxzoom;\n            if (y && y >= 10 * _ || c && c <= 10 * f) continue;\n            const u = e.getFeatureInflatedBounds(i, f, s.extent, v);\n            null == u || u[0] > I || u[1] > L || u[2] < x || u[3] < b || (u[0] = (u[0] - T) * D, u[1] = (u[1] - S) * D, u[2] = (u[2] - T) * D, u[3] = (u[3] - S) * D, this._index.insert(new a(e, i, u, D, T, S)));\n          }\n          break;\n        }\n      default:\n        g.skip();\n    }\n  }\n  async _getSymbolsAttributes(e, t) {\n    if (!t || 0 === t.length) return e;\n    const s = [];\n    t.sort(h);\n    let r = t[0].styleLayerUID,\n      i = 0;\n    for (let a = 0; a < t.length; a++) r !== t[a].styleLayerUID && (s.push({\n      from: i,\n      to: a,\n      styleLayerUID: r,\n      sourceTileKey: t[a].vtlSymbol.sourceTile\n    }), i = a, r = t[a].styleLayerUID);\n    s.push({\n      from: i,\n      to: t.length,\n      styleLayerUID: r,\n      sourceTileKey: t[t.length - 1].vtlSymbol.sourceTile\n    });\n    const l = this._styleRepository.layers;\n    let o,\n      n = null;\n    for (const a of s) {\n      const s = await this._getTilePayload(a.sourceTileKey);\n      o = l[a.styleLayerUID], n = !!o && s.find(e => e.sourceName === o.source), n && this._addSymbolsAttributes(e, t.slice(a.from, a.to).map(e => e.vtlSymbol), r, n);\n    }\n    return e;\n  }\n  _addSymbolsAttributes(t, s, r, i) {\n    const l = this._styleRepository.layers,\n      o = i.key,\n      n = this.tileKey,\n      a = 1 << n.level - o.level,\n      y = n.row - o.row * a,\n      c = n.col - o.col * a;\n    this._getSymbolAttributes(i.protobuff, s, r, a, y, c).forEach(s => {\n      const {\n        attributes: i,\n        tilePoint: o\n      } = s;\n      t.push({\n        layerId: l[r].id,\n        layerIndex: r,\n        graphic: new e({\n          attributes: i,\n          origin: {\n            type: \"vector-tile\",\n            layerId: l[r].id,\n            layerIndex: r,\n            layer: this._parentLayer\n          }\n        }),\n        tilePoint: o\n      });\n    });\n  }\n  _getSymbolAttributes(e, t, r, i, o, a) {\n    const y = [],\n      c = this._styleRepository.layers;\n    let h = 0;\n    t.sort((e, t) => e.featureIndex - t.featureIndex);\n    const d = new s(new Uint8Array(e), new DataView(e));\n    for (; d.next();) switch (d.tag()) {\n      case 3:\n        {\n          const e = d.getMessage(),\n            s = new n(e);\n          if (e.release(), s.name !== c[r].sourceLayer) continue;\n          const m = s.getData(),\n            f = s.extent / i,\n            _ = u / f,\n            p = f * a,\n            g = f * o;\n          let w = 0;\n          for (; m.nextTag(2);) {\n            const e = m.getMessage();\n            if (w++ === t[h].featureIndex) {\n              const t = new l(e, s),\n                r = t.values,\n                i = t.getGeometry(),\n                o = null != i ? [_ * (i[0][0].x - p), _ * (i[0][0].y - g)] : null;\n              y.push({\n                attributes: r,\n                tilePoint: o\n              }), h++;\n            }\n            if (e.release(), h === t.length) return y;\n          }\n          break;\n        }\n      default:\n        d.skip();\n    }\n    return y;\n  }\n  _queryIndex(t, s, r, i, l, o) {\n    const n = y * i * (window.devicePixelRatio || 1);\n    return this._index?.search({\n      minX: s - n,\n      minY: r - n,\n      maxX: s + n,\n      maxY: r + n\n    }, n => {\n      const {\n        layer: a,\n        feature: y\n      } = n;\n      a.isIntersectingFeature(s, r, i, y, l, o, n) && t.push({\n        layerId: a.id,\n        layerIndex: a.uid,\n        tilePoint: null,\n        graphic: new e({\n          attributes: y.values,\n          origin: {\n            type: \"vector-tile\",\n            layerId: n.layer.id,\n            layerIndex: n.layer.uid,\n            layer: this._parentLayer\n          }\n        })\n      });\n    }), t;\n  }\n  async _getTilePayload(e) {\n    return t(this._tileKeyToPBF, e.id, () => this._tileHandler.fetchTilePBFs(e)).then(e => e);\n  }\n}\nconst m = e => ({\n  minX: e.bounds[0],\n  minY: e.bounds[1],\n  maxX: e.bounds[2],\n  maxY: e.bounds[3]\n});\nexport { d as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { clone as t } from \"../../../core/lang.js\";\nimport i from \"../../../core/Logger.js\";\nimport { destroyMaybe as s } from \"../../../core/maybe.js\";\nimport { isAbortError as r } from \"../../../core/promiseUtils.js\";\nimport { property as a } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport { subclass as l } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { diff as n, hasDiff as o } from \"../../../core/accessorSupport/diffUtils.js\";\nimport h from \"../../../geometry/Point.js\";\nimport { create as y } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { equals as c } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { StyleUpdateType as u } from \"../engine/vectorTiles/enums.js\";\nimport { TileHandler as p } from \"../engine/vectorTiles/TileHandler.js\";\nimport { TileManager as d } from \"../engine/vectorTiles/TileManager.js\";\nimport { VectorTile as _ } from \"../engine/vectorTiles/VectorTile.js\";\nimport { VectorTileContainer as f } from \"../engine/vectorTiles/VectorTileContainer.js\";\nimport g from \"../engine/vectorTiles/VectorTileFeatureIndex.js\";\nimport { StyleLayerType as m } from \"../engine/vectorTiles/style/StyleDefinition.js\";\nimport T from \"../engine/vectorTiles/style/StyleRepository.js\";\nimport { LayerView2DMixin as C } from \"./LayerView2D.js\";\nimport v from \"../tiling/TileInfoViewPOT.js\";\nimport R from \"../tiling/TileQueue.js\";\nimport H from \"../../layers/LayerView.js\";\nconst w = 2,\n  I = 8,\n  D = 512;\nlet P = class extends C(H) {\n  constructor() {\n    super(...arguments), this._styleChanges = [], this._fetchQueue = null, this._parseQueue = null, this._tileHandlerPromise = null, this._isTileHandlerReady = !1;\n  }\n  get fading() {\n    return this._vectorTileContainer?.fading ?? !1;\n  }\n  async hitTest(e, t) {\n    const i = this._tileHandlerPromise,\n      s = this._vectorTileContainer?.symbolFader;\n    if (!i || !this._isTileHandlerReady || !s) return;\n    await i;\n    let r = null;\n    const a = this._vectorTileContainer?.symbolRepository;\n    a && (r = a.querySymbols(t, w, s.decluttererOffset, {}));\n    const l = this.view.state,\n      n = this._tileManager.getIntersectingTiles(t.x, t.y, w, l, r);\n    if ((!n || 0 === n.length) && 0 === r?.length) return null;\n    e = e.clone().normalize();\n    const o = [],\n      h = [];\n    for (const y of n) o.push(this._queryTile(h, e, w, this.view.state.rotation, y, r?.filter(e => e.tileKey.id === y.id)));\n    return await Promise.all(o), h;\n  }\n  update(e) {\n    if (this._tileHandlerPromise && this._isTileHandlerReady) return e.pixelRatio !== this._tileHandler.devicePixelRatio ? (this._start(), void (this._tileHandler.devicePixelRatio = e.pixelRatio)) : void (this._styleChanges.length > 0 ? this._tileHandlerPromise = this._applyStyleChanges() : (this._fetchQueue.pause(), this._parseQueue.pause(), this._fetchQueue.state = e.state, this._parseQueue.state = e.state, this._tileManager.update(e) || this.requestUpdate(), this._parseQueue.resume(), this._fetchQueue.resume()));\n  }\n  attach() {\n    const {\n      style: e\n    } = this.layer.currentStyleInfo;\n    this._styleRepository = new T(e), this._tileInfoView = new v(this.layer.tileInfo, this.layer.fullExtent), this._vectorTileContainer = new f(this._tileInfoView), this._tileHandler = new p(this.layer, this._styleRepository, window.devicePixelRatio || 1, this.layer.tileInfo.lods.length - 1), this.container.addChild(this._vectorTileContainer), this._start(), this.addAttachHandles([this.layer.on(\"paint-change\", e => {\n      if (e.isDataDriven) this._styleChanges.push({\n        type: u.PAINTER_CHANGED,\n        data: e\n      }), this.requestUpdate();else {\n        const t = this._styleRepository,\n          i = t.getLayerById(e.layer);\n        if (!i) return;\n        const s = i.type === m.SYMBOL;\n        t.setPaintProperties(e.layer, e.paint), s && this._vectorTileContainer?.restartDeclutter(), this._vectorTileContainer?.requestRender();\n      }\n    }), this.layer.on(\"layout-change\", e => {\n      const t = this._styleRepository,\n        i = t.getLayerById(e.layer);\n      if (!i) return;\n      const s = n(i.layout, e.layout);\n      if (null != s) {\n        if (o(s, \"visibility\") && 1 === S(s)) return t.setLayoutProperties(e.layer, e.layout), i.type === m.SYMBOL && this._vectorTileContainer?.restartDeclutter(), void this._vectorTileContainer?.requestRender();\n        this._styleChanges.push({\n          type: u.LAYOUT_CHANGED,\n          data: e\n        }), this.requestUpdate();\n      }\n    }), this.layer.on(\"style-layer-visibility-change\", e => {\n      const t = this._styleRepository,\n        i = t.getLayerById(e.layer);\n      i && (t.setStyleLayerVisibility(e.layer, e.visibility), i.type === m.SYMBOL && this._vectorTileContainer?.restartDeclutter(), this._vectorTileContainer?.requestRender());\n    }), this.layer.on(\"style-layer-change\", e => {\n      this._styleChanges.push({\n        type: u.LAYER_CHANGED,\n        data: e\n      }), this.requestUpdate();\n    }), this.layer.on(\"delete-style-layer\", e => {\n      this._styleChanges.push({\n        type: u.LAYER_REMOVED,\n        data: e\n      }), this.requestUpdate();\n    }), this.layer.on(\"load-style\", () => this._loadStyle()), this.layer.on(\"spriteSource-change\", e => {\n      this._styleChanges.push({\n        type: u.SPRITES_CHANGED,\n        data: e\n      });\n      const t = this._styleRepository.layers;\n      for (const i of t) switch (i.type) {\n        case m.SYMBOL:\n          i.getLayoutProperty(\"icon-image\") && this._styleChanges.push({\n            type: u.LAYOUT_CHANGED,\n            data: {\n              layer: i.id,\n              layout: i.layout\n            }\n          });\n          break;\n        case m.LINE:\n          i.getPaintProperty(\"line-pattern\") && this._styleChanges.push({\n            type: u.PAINTER_CHANGED,\n            data: {\n              layer: i.id,\n              paint: i.paint,\n              isDataDriven: i.isPainterDataDriven()\n            }\n          });\n          break;\n        case m.FILL:\n          i.getLayoutProperty(\"fill-pattern\") && this._styleChanges.push({\n            type: u.PAINTER_CHANGED,\n            data: {\n              layer: i.id,\n              paint: i.paint,\n              isDataDriven: i.isPainterDataDriven()\n            }\n          });\n      }\n      this.requestUpdate();\n    })]);\n  }\n  detach() {\n    this._stop(), this.container.removeAllChildren(), this._vectorTileContainer = s(this._vectorTileContainer), this._tileHandler = s(this._tileHandler);\n  }\n  viewChange() {\n    this.requestUpdate();\n  }\n  moveEnd() {\n    this.requestUpdate();\n  }\n  supportsSpatialReference(e) {\n    return c(this.layer.tileInfo?.spatialReference, e);\n  }\n  canResume() {\n    let e = super.canResume();\n    const {\n      currentStyleInfo: t\n    } = this.layer;\n    if (e && t?.layerDefinition) {\n      const i = this.view.scale,\n        {\n          minScale: s,\n          maxScale: r\n        } = t.layerDefinition;\n      t?.layerDefinition && (s && s < i && (e = !1), r && r > i && (e = !1));\n    }\n    return e;\n  }\n  isUpdating() {\n    return this.fading;\n  }\n  acquireTile(e) {\n    const t = this._createVectorTile(e);\n    return this._updatingHandles.addPromise(this._fetchQueue.push(t.key).then(e => this._parseQueue.push({\n      key: t.key,\n      data: e\n    })).then(e => {\n      t.once(\"attach\", () => this.requestUpdate()), t.setData(e), this.requestUpdate();\n    }).catch(e => {\n      r(e) || i.getLogger(this).error(e);\n    })), t;\n  }\n  releaseTile(e) {\n    const t = e.key.id;\n    this._fetchQueue.abort(t), this._parseQueue.abort(t), this.requestUpdate();\n  }\n  _start() {\n    if (this._stop(), this._tileManager = new d({\n      acquireTile: e => this.acquireTile(e),\n      releaseTile: e => this.releaseTile(e),\n      tileInfoView: this._tileInfoView\n    }, this._vectorTileContainer), !this.layer.currentStyleInfo) return;\n    const e = new AbortController(),\n      t = this._tileHandler.start({\n        signal: e.signal\n      }).then(() => {\n        this._fetchQueue = new R({\n          tileInfoView: this._tileInfoView,\n          process: (e, t) => this._getTileData(e, t),\n          concurrency: 15\n        }), this._parseQueue = new R({\n          tileInfoView: this._tileInfoView,\n          process: (e, t) => this._parseTileData(e, t),\n          concurrency: 8\n        }), this.requestUpdate(), this._isTileHandlerReady = !0;\n      });\n    this._tileHandler.spriteMosaic.then(e => {\n      this._vectorTileContainer.setStyleResources(e, this._tileHandler.glyphMosaic, this._styleRepository, this._tileInfoView), this.requestUpdate();\n    }), this._tileHandlerAbortController = e, this._tileHandlerPromise = t;\n  }\n  _stop() {\n    if (!this._tileHandlerAbortController || !this._vectorTileContainer) return;\n    const e = this._tileHandlerAbortController;\n    e && e.abort(), this._tileHandlerPromise = null, this._isTileHandlerReady = !1, this._fetchQueue = s(this._fetchQueue), this._parseQueue = s(this._parseQueue), this._tileManager = s(this._tileManager), this._vectorTileContainer.removeAllChildren();\n  }\n  async _getTileData(e, t) {\n    return this._tileHandler.fetchTileData(e, t);\n  }\n  async _parseTileData(e, t) {\n    return this._tileHandler.parseTileData(e, t);\n  }\n  async _applyStyleChanges() {\n    this._isTileHandlerReady = !1, this._fetchQueue.pause(), this._parseQueue.pause(), this._fetchQueue.clear(), this._parseQueue.clear(), this._tileManager.clearCache();\n    const e = this._styleChanges;\n    try {\n      await this._tileHandler.updateStyle(e);\n    } catch (l) {\n      i.getLogger(this).error(\"error applying vector-tiles style update\", l.message), this._fetchQueue.resume(), this._parseQueue.resume(), this._isTileHandlerReady = !0;\n    }\n    const t = this._styleRepository,\n      s = new Set();\n    e.forEach(e => {\n      if (e.type !== u.LAYER_REMOVED) return;\n      const i = e.data,\n        r = t.getLayerById(i.layer);\n      r && s.add(r.uid);\n    });\n    const r = new Set();\n    e.forEach(e => {\n      let i;\n      switch (e.type) {\n        case u.PAINTER_CHANGED:\n          t.setPaintProperties(e.data.layer, e.data.paint), i = e.data.layer;\n          break;\n        case u.LAYOUT_CHANGED:\n          t.setLayoutProperties(e.data.layer, e.data.layout), i = e.data.layer;\n          break;\n        case u.LAYER_REMOVED:\n          return void t.deleteStyleLayer(e.data.layer);\n        case u.LAYER_CHANGED:\n          t.setStyleLayer(e.data.layer, e.data.index), i = e.data.layer.id;\n          break;\n        case u.SPRITES_CHANGED:\n          this._vectorTileContainer.setSpriteMosaic(this._tileHandler.setSpriteSource(e.data.spriteSource));\n      }\n      if (i) {\n        const e = t.getLayerById(i);\n        e && r.add(e.uid);\n      }\n    });\n    const a = this._vectorTileContainer.children;\n    if (s.size > 0) {\n      const e = Array.from(s);\n      this._vectorTileContainer.deleteStyleLayers(e);\n      for (const t of a) t.deleteLayerData(e);\n    }\n    if (this._fetchQueue.resume(), this._parseQueue.resume(), r.size > 0) {\n      const e = Array.from(r),\n        t = [];\n      for (const i of a) {\n        const s = this._updatingHandles.addPromise(this._fetchQueue.push(i.key).then(t => this._parseQueue.push({\n          key: i.key,\n          data: t,\n          styleLayerUIDs: e\n        })).then(e => i.setData(e)));\n        t.push(s);\n      }\n      await Promise.all(t);\n    }\n    this._styleChanges = [], this._isTileHandlerReady = !0, this.requestUpdate();\n  }\n  async _loadStyle() {\n    const {\n        style: e\n      } = this.layer.currentStyleInfo,\n      i = t(e);\n    this._isTileHandlerReady = !1, this._fetchQueue.pause(), this._parseQueue.pause(), this._fetchQueue.clear(), this._parseQueue.clear(), this._styleRepository = new T(i), this._vectorTileContainer.destroy(), this._tileManager.clear(), this._tileHandlerAbortController.abort(), this._tileHandlerAbortController = new AbortController();\n    const {\n      signal: s\n    } = this._tileHandlerAbortController;\n    try {\n      this._tileHandlerPromise = this._tileHandler.setStyle(this._styleRepository, i, this.layer.tileInfo.lods.length - 1), await this._tileHandlerPromise;\n    } catch (n) {\n      if (!r(n)) throw n;\n    }\n    if (s.aborted) return this._fetchQueue.resume(), this._parseQueue.resume(), this._isTileHandlerReady = !0, void this.requestUpdate();\n    const a = await this._tileHandler.spriteMosaic,\n      l = this._vectorTileContainer;\n    this._tileInfoView = new v(this.layer.tileInfo, this.layer.fullExtent), l.setStyleResources(a, this._tileHandler.glyphMosaic, this._styleRepository, this._tileInfoView), this._tileManager = new d({\n      acquireTile: e => this.acquireTile(e),\n      releaseTile: e => this.releaseTile(e),\n      tileInfoView: this._tileInfoView\n    }, this._vectorTileContainer), this._fetchQueue.resume(), this._parseQueue.resume(), this._isTileHandlerReady = !0, this.requestUpdate();\n  }\n  _createVectorTile(e) {\n    const t = this._tileInfoView.getTileBounds(y(), e),\n      i = this._tileInfoView.getTileResolution(e.level);\n    return new _(e, i, t[0], t[3], 512, 512, this._styleRepository);\n  }\n  async _queryTile(e, t, i, s, r, a) {\n    if (0 === r.layerData.size) return;\n    const l = this._ensureTileIndex(r),\n      n = this._tileInfoView.getTileBounds(y(), r.key, !0),\n      o = I * D * ((t.x - n[0]) / (n[2] - n[0])),\n      h = I * D * (1 - (t.y - n[1]) / (n[3] - n[1])),\n      c = await l.queryAttributes(o, h, i, s, a);\n    for (const y of c) y.graphic.geometry = this._tileToMapPoint(y.tilePoint, r.transforms.tileUnitsToPixels), e.push({\n      type: \"graphic\",\n      layer: this.layer,\n      graphic: y.graphic,\n      mapPoint: t.clone()\n    });\n    e.sort((e, t) => t.graphic.origin.layerIndex - e.graphic.origin.layerIndex);\n  }\n  _tileToMapPoint(e, t) {\n    if (!e) return null;\n    const i = e[0] * t[0] + e[1] * t[3] + t[6],\n      s = e[0] * t[1] + e[1] * t[4] + t[7],\n      r = this.view.state,\n      a = [0, 0];\n    return r.toMap(a, [i, s]), new h({\n      x: a[0],\n      y: a[1],\n      spatialReference: r.spatialReference\n    });\n  }\n  _ensureTileIndex(e) {\n    let t = e.featureIndex;\n    return t || (t = g.create(e.key, e.layerData, this._styleRepository, this._tileHandler, this.layer), e.featureIndex = t), t;\n  }\n};\nfunction S(e) {\n  if (null == e) return 0;\n  switch (e.type) {\n    case \"partial\":\n      return Object.keys(e.diff).length;\n    case \"complete\":\n      return Math.max(Object.keys(e.oldValue).length, Object.keys(e.newValue).length);\n    case \"collection\":\n      return Object.keys(e.added).length + Object.keys(e.changed).length + Object.keys(e.removed).length;\n  }\n}\ne([a()], P.prototype, \"_isTileHandlerReady\", void 0), P = e([l(\"esri.views.2d.layers.VectorTileLayerView2D\")], P);\nconst A = P;\nexport { A as default };"],
  "mappings": "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",
  "names": ["r", "n", "a", "e", "i", "h", "t", "l", "c", "s", "_", "f", "d", "p", "u", "c", "h", "_", "e", "i", "r", "s", "t", "l", "y", "p", "e", "t", "s", "m", "i", "r", "_", "E", "n", "l", "a", "d", "h", "u", "f", "b", "L", "R", "y", "c", "u", "h", "e", "t", "s", "r", "d", "i", "l", "m", "n", "a", "E", "f", "_", "p", "w", "b", "I", "L", "D", "S", "o", "I", "y", "e", "t", "i", "s", "r", "a", "l", "n", "h", "m", "d", "u", "c"]
}
