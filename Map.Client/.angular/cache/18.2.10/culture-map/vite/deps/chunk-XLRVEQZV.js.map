{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromTranslation as e } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as t } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { s as r, h as s } from \"../../../../chunks/vec32.js\";\nimport { ZEROS as o, create as i } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { fromValues as a, clone as n } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { Object3DVisualElement as l } from \"./Object3DVisualElement.js\";\nimport { lineStripsToParameters as m, createGeometry as p } from \"../../support/engineContent/line.js\";\nimport { RenderOccludedFlag as h } from \"../../webgl-engine/lib/Material.js\";\nimport { RibbonLineMaterial as d } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nclass f extends l {\n  constructor(e, t) {\n    super(e), this._hasExternalMaterial = !1, this._hasExternalMaterial = null != t, this._material = null != t ? t : new d({\n      width: 1,\n      color: a(1, 0, 1, 1),\n      stippleOffColor: null,\n      stipplePattern: null,\n      stipplePreferContinuous: !0,\n      isClosed: !1,\n      falloff: 0,\n      innerColor: null,\n      innerWidth: 1,\n      hasPolygonOffset: !1,\n      renderOccluded: h.OccludeAndTransparent,\n      isDecoration: !!e.isDecoration,\n      writeDepth: !0\n    }), this.applyProperties(e);\n  }\n  setGeometryFromRenderSpacePoint(e, t = 1e3) {\n    this.geometry = [[[e[0] - t, e[1], e[2]], [e[0] + t, e[1], e[2]]], [[e[0], e[1] - t, e[2]], [e[0], e[1] + t, e[2]]], [[e[0], e[1], e[2] - t], [e[0], e[1], e[2] + t]]];\n  }\n  setGeometryFromExtent(e) {\n    const t = this.view.spatialReference,\n      s = i(),\n      o = i(),\n      a = 100,\n      n = [];\n    r(s, e[0], e[1], a), this.view.renderCoordsHelper.toRenderCoords(s, t, o), n.push([o[0], o[1], o[2]]), r(s, e[2], e[1], a), this.view.renderCoordsHelper.toRenderCoords(s, t, o), n.push([o[0], o[1], o[2]]), r(s, e[2], e[3], a), this.view.renderCoordsHelper.toRenderCoords(s, t, o), n.push([o[0], o[1], o[2]]), r(s, e[0], e[3], a), this.view.renderCoordsHelper.toRenderCoords(s, t, o), n.push([o[0], o[1], o[2]]), r(s, e[0], e[1], a), this.view.renderCoordsHelper.toRenderCoords(s, t, o), n.push([o[0], o[1], o[2]]), r(s, e[0], e[1], a), this.view.renderCoordsHelper.toRenderCoords(s, t, o), n.push([o[0], o[1], o[2]]), this.geometry = [n];\n  }\n  setGeometryFromFrustum(e) {\n    const t = [];\n    e.lines.forEach(e => {\n      t.push([e.origin[0], e.origin[1], e.origin[2]]), t.push([e.endpoint[0], e.endpoint[1], e.endpoint[2]]);\n    }), this.geometry = [t];\n  }\n  setGeometryFromBoundedPlane(e) {\n    const t = [],\n      r = e.origin,\n      s = e.basis1,\n      o = e.basis2,\n      a = .5,\n      n = i(),\n      l = i(),\n      m = i(),\n      p = i();\n    n[0] = r[0] - s[0] * a - o[0] * a, n[1] = r[1] - s[1] * a - o[1] * a, n[2] = r[2] - s[2] * a - o[2] * a, l[0] = r[0] - s[0] * a + o[0] * a, l[1] = r[1] - s[1] * a + o[1] * a, l[2] = r[2] - s[2] * a + o[2] * a, m[0] = r[0] + s[0] * a + o[0] * a, m[1] = r[1] + s[1] * a + o[1] * a, m[2] = r[2] + s[2] * a + o[2] * a, p[0] = r[0] + s[0] * a - o[0] * a, p[1] = r[1] + s[1] * a - o[1] * a, p[2] = r[2] + s[2] * a - o[2] * a, t.push([n[0], n[1], n[2]]), t.push([l[0], l[1], l[2]]), t.push([m[0], m[1], m[2]]), t.push([p[0], p[1], p[2]]), t.push([n[0], n[1], n[2]]), this.geometry = [t];\n  }\n  setGeometryFromSegment(t) {\n    const r = t.endRenderSpace;\n    this.transform = e(u, r);\n    const {\n      points: s\n    } = t.createRenderGeometry(r, this.view.renderCoordsHelper);\n    this.geometry = [s];\n  }\n  setGeometryFromSegments(t, r = o) {\n    this.transform = e(u, r), this.geometry = t.map(e => e.createRenderGeometry(r, this.view.renderCoordsHelper).points);\n  }\n  getTransformedGeometry() {\n    return null == this._geometry ? null : this._geometry.map(e => e.map(e => s(i(), e, this.transform)));\n  }\n  get renderOccluded() {\n    return this._material.parameters.renderOccluded;\n  }\n  set renderOccluded(e) {\n    this._material.setParameters({\n      renderOccluded: e\n    });\n  }\n  get geometry() {\n    return this._geometry;\n  }\n  set geometry(e) {\n    this._geometry = e, this.recreateGeometry();\n  }\n  get width() {\n    return this._material.parameters.width;\n  }\n  set width(e) {\n    this._material.setParameters({\n      width: e\n    });\n  }\n  get color() {\n    return this._material.parameters.color;\n  }\n  set color(e) {\n    const t = 1 === e[3];\n    this._material.setParameters({\n      color: n(e),\n      writeDepth: t\n    });\n  }\n  get innerWidth() {\n    return this._material.parameters.innerWidth;\n  }\n  set innerWidth(e) {\n    this._material.setParameters({\n      innerWidth: e\n    });\n  }\n  get innerColor() {\n    return this._material.parameters.innerColor;\n  }\n  set innerColor(e) {\n    this._material.setParameters({\n      innerColor: null != e ? n(e) : null\n    });\n  }\n  get stipplePattern() {\n    return this._material.parameters.stipplePattern;\n  }\n  set stipplePattern(e) {\n    null != this._material && this._material.setParameters({\n      stipplePattern: e\n    });\n  }\n  get stippleOffColor() {\n    return this._material.parameters.stippleOffColor;\n  }\n  set stippleOffColor(e) {\n    this._material.setParameters({\n      stippleOffColor: null != e ? n(e) : null\n    });\n  }\n  get stipplePreferContinuous() {\n    return this._material.parameters.stipplePreferContinuous;\n  }\n  set stipplePreferContinuous(e) {\n    this._material.setParameters({\n      stipplePreferContinuous: e\n    });\n  }\n  get falloff() {\n    return this._material.parameters.falloff;\n  }\n  set falloff(e) {\n    this._material.setParameters({\n      falloff: e\n    });\n  }\n  get polygonOffset() {\n    return this._material.parameters.hasPolygonOffset;\n  }\n  set polygonOffset(e) {\n    this._material.setParameters({\n      hasPolygonOffset: e\n    });\n  }\n  createExternalResources() {}\n  destroyExternalResources() {}\n  createGeometries(e) {\n    for (const t of m(this.geometry)) {\n      const r = p(this._material, t);\n      e.addGeometry(r);\n    }\n  }\n  forEachExternalMaterial(e) {\n    this._hasExternalMaterial || e(this._material);\n  }\n}\nconst u = t();\nexport { f as LineVisualElement };"],
  "mappings": "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",
  "names": ["e", "t", "o", "a", "n", "r", "l"]
}
