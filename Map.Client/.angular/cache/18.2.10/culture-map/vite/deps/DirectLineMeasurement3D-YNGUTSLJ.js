import {
  u as u4
} from "./chunk-C7UJY5SO.js";
import {
  u as u3
} from "./chunk-64ZF7LAW.js";
import "./chunk-MFDTVFVG.js";
import {
  e as e8
} from "./chunk-UBENSR3Y.js";
import {
  M as M2
} from "./chunk-6A46RADT.js";
import {
  e as e7
} from "./chunk-CKTLSI27.js";
import {
  e as e6
} from "./chunk-4YFNKQX7.js";
import "./chunk-PPQDPHZN.js";
import {
  R
} from "./chunk-UNG626D3.js";
import {
  f as f2
} from "./chunk-FW2XFDFF.js";
import "./chunk-B4LRUYYJ.js";
import {
  e as e5
} from "./chunk-6VVHYTZ7.js";
import "./chunk-UOKMPU6Y.js";
import "./chunk-RK23OHNG.js";
import "./chunk-QXRVL2BR.js";
import {
  F as F2,
  q,
  z
} from "./chunk-SR7MLPR2.js";
import "./chunk-2SHZAJ7S.js";
import {
  a as a3
} from "./chunk-23XRL5UO.js";
import "./chunk-STVIJ4IV.js";
import "./chunk-QRVAQWLH.js";
import "./chunk-TMPIWG43.js";
import "./chunk-EU7GCI2A.js";
import "./chunk-WE6VW4MG.js";
import {
  o
} from "./chunk-KEZPVBFI.js";
import "./chunk-HKVPB4XN.js";
import {
  c as c2
} from "./chunk-DC55WDRO.js";
import {
  e as e4,
  ee,
  f
} from "./chunk-ZYJAXFRJ.js";
import {
  h as h3,
  p as p2
} from "./chunk-VRZ6RXNW.js";
import "./chunk-GN4ES4ZM.js";
import "./chunk-T35SJNQV.js";
import "./chunk-2CPAIFT3.js";
import {
  E2 as E,
  P as P3,
  p
} from "./chunk-Q666VSL3.js";
import {
  t
} from "./chunk-P3B4Y6UN.js";
import "./chunk-5QM72RFD.js";
import "./chunk-TJIA4U42.js";
import "./chunk-WQXGIEVZ.js";
import {
  N
} from "./chunk-T3EGKTN6.js";
import "./chunk-ZFPMGEAK.js";
import "./chunk-4SCJM64G.js";
import "./chunk-DABQKFI5.js";
import "./chunk-67V5AGVJ.js";
import "./chunk-2CASBEEF.js";
import "./chunk-NYQFHEZN.js";
import "./chunk-AV4NBVPL.js";
import "./chunk-UHYV4RE2.js";
import "./chunk-NEPAFG4J.js";
import "./chunk-E7VVOB2F.js";
import "./chunk-DOYOAB3G.js";
import "./chunk-DDIAZD6H.js";
import "./chunk-7YXVUZL6.js";
import "./chunk-6YVA5E7L.js";
import "./chunk-4KGPH7OX.js";
import {
  x
} from "./chunk-TLAW3ACJ.js";
import "./chunk-GFPWBDCO.js";
import {
  a as a2
} from "./chunk-TKHURHLF.js";
import "./chunk-U7YHNT5S.js";
import "./chunk-UW23RIEM.js";
import "./chunk-R6CAUNOR.js";
import "./chunk-6BPYXCCQ.js";
import "./chunk-TMIIQZKR.js";
import "./chunk-ROVEMBDA.js";
import "./chunk-ZIDRXKSJ.js";
import "./chunk-DBK2ELNZ.js";
import "./chunk-JMV2M56E.js";
import "./chunk-S2UCXOWF.js";
import "./chunk-VI6HLZLR.js";
import "./chunk-MYKOM3G6.js";
import "./chunk-6FZS4YUQ.js";
import "./chunk-JRZPZOI3.js";
import "./chunk-GW7WMRYJ.js";
import "./chunk-Z52R7W33.js";
import {
  st
} from "./chunk-O7OCS6XP.js";
import "./chunk-BFWLPS7M.js";
import "./chunk-67LE7VNQ.js";
import "./chunk-ZVEHH7XL.js";
import "./chunk-BJM7H6OC.js";
import "./chunk-5MM5MT6Q.js";
import "./chunk-SCLVG2SO.js";
import "./chunk-557LD7Q2.js";
import "./chunk-B64VDY5O.js";
import "./chunk-MAG65NGG.js";
import "./chunk-X5UPCJEP.js";
import "./chunk-2ONAF54K.js";
import {
  n as n3
} from "./chunk-FLWLBYXO.js";
import "./chunk-F2TT4B6M.js";
import "./chunk-2ERGO64O.js";
import "./chunk-RP2GKJCD.js";
import "./chunk-B6VSQC7C.js";
import "./chunk-6YA72G7G.js";
import "./chunk-QL5HR3YL.js";
import "./chunk-D3AKDIJC.js";
import "./chunk-IIVUY2T7.js";
import {
  e as e3
} from "./chunk-HBMA4SRU.js";
import "./chunk-5NCKEQLF.js";
import "./chunk-GHUJU3NS.js";
import "./chunk-7HBD4CJ3.js";
import "./chunk-K2LTET4M.js";
import "./chunk-WG5JLPNN.js";
import "./chunk-25PMMPR7.js";
import "./chunk-7XAWCQ7R.js";
import "./chunk-RASN5P76.js";
import "./chunk-5L3YXBNN.js";
import "./chunk-IFUKJDOU.js";
import "./chunk-LD5YIQXD.js";
import "./chunk-J7KF6IEI.js";
import "./chunk-GOKBAMCG.js";
import "./chunk-E3P3LIVT.js";
import "./chunk-HUX6Y26H.js";
import "./chunk-LN4EMOLP.js";
import "./chunk-A6XTYETO.js";
import "./chunk-4TJAOUC3.js";
import "./chunk-CILAEMQM.js";
import "./chunk-TEOUFCJA.js";
import "./chunk-GTZOXRB5.js";
import "./chunk-3WPOFZBT.js";
import "./chunk-PPMHRAOP.js";
import "./chunk-75N5YDQB.js";
import "./chunk-XGDLE7WK.js";
import "./chunk-QMUS26QM.js";
import "./chunk-GDEAPZ64.js";
import "./chunk-TCQSUQ7Y.js";
import "./chunk-GOOZVNO4.js";
import "./chunk-JUTKZ3GO.js";
import "./chunk-5RHKQDDL.js";
import "./chunk-BG32AOSQ.js";
import "./chunk-PEZTN5WV.js";
import "./chunk-FHW2TG7X.js";
import "./chunk-33LKI2Y7.js";
import "./chunk-YCQXFVJL.js";
import "./chunk-ZAP7ZEWR.js";
import "./chunk-YAGNWBGU.js";
import "./chunk-DE6MQ5XE.js";
import "./chunk-LQTSBE7P.js";
import "./chunk-GCFUJXGH.js";
import "./chunk-MBMY7SS6.js";
import "./chunk-ICUHXX2J.js";
import "./chunk-VIIVMRRO.js";
import "./chunk-ZKSEQXDM.js";
import "./chunk-675UQNXB.js";
import "./chunk-DXGCBLDW.js";
import "./chunk-Z3FHX4FD.js";
import "./chunk-SUUOAZQT.js";
import "./chunk-TGHJVD7I.js";
import "./chunk-OZG2NNUW.js";
import "./chunk-KTRZHJ2M.js";
import "./chunk-KOIKSJSQ.js";
import "./chunk-VUVXW4AC.js";
import "./chunk-LKHUGH5W.js";
import "./chunk-QZVEEM53.js";
import "./chunk-ACZYDHB3.js";
import "./chunk-JXVDTUGR.js";
import "./chunk-HAO4WCNW.js";
import "./chunk-X2OAE75B.js";
import "./chunk-UCPBGEQD.js";
import "./chunk-SIZK72CP.js";
import "./chunk-SLCHZ6DD.js";
import {
  c
} from "./chunk-CQRPND5N.js";
import "./chunk-6A3XUATG.js";
import "./chunk-ZVFENZUF.js";
import "./chunk-N3S77FRG.js";
import "./chunk-YYETZJJB.js";
import {
  h as h2
} from "./chunk-MD2IQSSQ.js";
import "./chunk-YZBHNRVB.js";
import "./chunk-C7VF4AR2.js";
import "./chunk-P7OSFLIX.js";
import "./chunk-ZDC4PV4Y.js";
import "./chunk-DLRYNII2.js";
import "./chunk-66QAJ2MI.js";
import "./chunk-WN3YAMRZ.js";
import "./chunk-NWICVENM.js";
import "./chunk-A4RKV2C7.js";
import "./chunk-WU7FVYT7.js";
import "./chunk-SYYDVGKY.js";
import "./chunk-6HBAAUBO.js";
import "./chunk-YLE5AYZV.js";
import "./chunk-CZQYBYHB.js";
import "./chunk-Q5ZRUB2Y.js";
import "./chunk-62WUYJJN.js";
import "./chunk-JNWMZ6EJ.js";
import "./chunk-VS26W5Y5.js";
import {
  h
} from "./chunk-PVO5NM6Q.js";
import "./chunk-YFQ32AQX.js";
import "./chunk-L4AYSXFJ.js";
import "./chunk-POQ3T5EH.js";
import "./chunk-DM4WHMQY.js";
import "./chunk-6MR4UDDL.js";
import "./chunk-XQCKIDQO.js";
import "./chunk-KE2YMCJC.js";
import "./chunk-L7ZKWTWL.js";
import "./chunk-O2DTA3XK.js";
import "./chunk-3UOXF3CT.js";
import "./chunk-PA7WZX2U.js";
import "./chunk-GPUGMSHU.js";
import "./chunk-AIS5CSUZ.js";
import "./chunk-52UEU7LG.js";
import "./chunk-WJKYGQOY.js";
import "./chunk-GY52WOQZ.js";
import "./chunk-GAYJ4YPJ.js";
import "./chunk-PPMDUJ4E.js";
import "./chunk-ZTT6ENBS.js";
import "./chunk-MFZTGYUJ.js";
import "./chunk-R5ZE5A4K.js";
import "./chunk-24CN3HDP.js";
import "./chunk-SZWWBMQN.js";
import "./chunk-ZE47C44H.js";
import "./chunk-5GIS2C3K.js";
import "./chunk-XCOHDMBF.js";
import "./chunk-HOH445RO.js";
import "./chunk-R3F4JMNC.js";
import "./chunk-7B5YPLFX.js";
import "./chunk-RDQF44TE.js";
import "./chunk-KKD7A2GN.js";
import "./chunk-ZWCV4HKG.js";
import "./chunk-N4KQPPPI.js";
import "./chunk-4OGGMTIH.js";
import "./chunk-NQVBBKAN.js";
import {
  D,
  F,
  G,
  P as P2
} from "./chunk-TCPN7AEH.js";
import "./chunk-4MMTPKY4.js";
import "./chunk-DY7FJHTG.js";
import "./chunk-Q4KYZS3X.js";
import "./chunk-KVKFHRJ3.js";
import "./chunk-VWML4J2J.js";
import "./chunk-JYODC3YQ.js";
import "./chunk-BQZBOYBD.js";
import "./chunk-TYQXPPSP.js";
import "./chunk-TRSGUVSM.js";
import "./chunk-U3MA63JX.js";
import "./chunk-WYKKCLBI.js";
import "./chunk-PFMGJTQM.js";
import "./chunk-SWPHGZYB.js";
import "./chunk-DWASPXVI.js";
import "./chunk-HD65DNIO.js";
import "./chunk-4KWLMXIA.js";
import "./chunk-BIUXKPKA.js";
import "./chunk-N6TJI25E.js";
import "./chunk-634JLXD4.js";
import "./chunk-Y3EDGYWG.js";
import "./chunk-UF6JOUSJ.js";
import "./chunk-T5JGQSO3.js";
import "./chunk-CIW3KHOW.js";
import "./chunk-J55F4AC2.js";
import "./chunk-IQLBZKUD.js";
import "./chunk-7MZZCQ64.js";
import "./chunk-IMVP5ADD.js";
import "./chunk-H7WPOTQH.js";
import "./chunk-6A7CWJED.js";
import "./chunk-DUTZNK67.js";
import "./chunk-IN6BQCWS.js";
import "./chunk-JM7HAEY6.js";
import "./chunk-3RRMLFFN.js";
import "./chunk-DR5TVNEL.js";
import "./chunk-HT2T6PUB.js";
import "./chunk-K64AAM77.js";
import "./chunk-6EUVKE22.js";
import "./chunk-OKJHJ3CY.js";
import "./chunk-XTVPEVHA.js";
import "./chunk-DTUSTSEJ.js";
import "./chunk-JCWFGRHQ.js";
import "./chunk-JILEJ6R2.js";
import "./chunk-GAW5JHG4.js";
import "./chunk-OEKKQXBD.js";
import "./chunk-S3IO7V4Q.js";
import "./chunk-DZALMCYL.js";
import {
  u as u2
} from "./chunk-K226GFDN.js";
import "./chunk-4ZZRP4MA.js";
import "./chunk-7ZJ6P7J7.js";
import "./chunk-FPFZQCEQ.js";
import {
  B,
  e2
} from "./chunk-WYMXVOAT.js";
import {
  n
} from "./chunk-K7TO5IIO.js";
import "./chunk-A4VVDRCH.js";
import "./chunk-CQDYITZC.js";
import "./chunk-5I6J67HP.js";
import "./chunk-YVULORT6.js";
import "./chunk-PB33BAI3.js";
import "./chunk-CVB43GGP.js";
import "./chunk-LLDOZWVV.js";
import "./chunk-7XMEZQ34.js";
import "./chunk-BDM2D6IC.js";
import "./chunk-U2ZVAEKG.js";
import "./chunk-EDSMXTFO.js";
import "./chunk-MNLT652N.js";
import "./chunk-OGZAGPIO.js";
import "./chunk-HJJIIYFF.js";
import "./chunk-ONPREQKF.js";
import "./chunk-7RMVJCDW.js";
import "./chunk-GTY5NXA4.js";
import "./chunk-T6GCUITX.js";
import "./chunk-TUIGM7TV.js";
import "./chunk-IHVSZYZS.js";
import "./chunk-6CA6K3O7.js";
import "./chunk-NYQ5CYNR.js";
import {
  _
} from "./chunk-O7UDKFOW.js";
import "./chunk-TKPMIAIW.js";
import "./chunk-NQOJNTB3.js";
import "./chunk-MFOQYQFG.js";
import "./chunk-NKCPFCP3.js";
import "./chunk-3ZXOUEQG.js";
import "./chunk-AXVPJBVW.js";
import {
  n as n2
} from "./chunk-OXEPWRM7.js";
import "./chunk-POILQGXA.js";
import {
  M
} from "./chunk-JJS7PR2U.js";
import "./chunk-L5YS4GSA.js";
import "./chunk-PRREDSOB.js";
import "./chunk-V5C6HSAM.js";
import "./chunk-SYATLP3H.js";
import "./chunk-V6AMQYXE.js";
import {
  A,
  P,
  d as d2
} from "./chunk-6WHTZNUH.js";
import "./chunk-EITGQLII.js";
import "./chunk-TIVJXVMN.js";
import "./chunk-XNUH25NY.js";
import "./chunk-WGAPNV7F.js";
import "./chunk-BXQGM56A.js";
import {
  e
} from "./chunk-4Z5SGKRM.js";
import "./chunk-YPWMP2VK.js";
import "./chunk-23E6RT3O.js";
import "./chunk-RCBGISRX.js";
import "./chunk-2P72IR2Y.js";
import {
  S
} from "./chunk-ANKOCGE2.js";
import {
  y
} from "./chunk-7CJXZOFG.js";
import "./chunk-IRGZKO7V.js";
import "./chunk-5SELS7VU.js";
import {
  a3 as a
} from "./chunk-DDYVXG4F.js";
import "./chunk-ANP42J2U.js";
import {
  d
} from "./chunk-HJY2YILU.js";
import "./chunk-7DA6A5LD.js";
import {
  u
} from "./chunk-2MMLMOWS.js";
import "./chunk-4323ZVPF.js";
import "./chunk-WYIDUUN2.js";
import "./chunk-DXLOWWK7.js";
import {
  __spreadProps,
  __spreadValues
} from "./chunk-JWIQHGQB.js";

// ../../../node_modules/@arcgis/core/analysis/DirectLineMeasurementAnalysis.js
var n4 = class extends c {
  constructor(t2) {
    super(t2), this.type = "direct-line-measurement", this.startPoint = null, this.endPoint = null, this.unit = null;
  }
  get requiredPropertiesForEditing() {
    return [this.startPoint, this.endPoint];
  }
  clear() {
    this.startPoint = null, this.endPoint = null;
  }
};
e([y({
  type: ["direct-line-measurement"]
})], n4.prototype, "type", void 0), e([y({
  type: _
})], n4.prototype, "startPoint", void 0), e([y({
  type: _
})], n4.prototype, "endPoint", void 0), e([y({
  type: M,
  value: null
})], n4.prototype, "unit", void 0), e([y({
  readOnly: true
})], n4.prototype, "requiredPropertiesForEditing", null), n4 = e([a("esri.analysis.DirectLineMeasurementAnalysis")], n4);
var p3 = n4;

// ../../../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DView.js
var L;
!function(e9) {
  e9.Manipulators = "manipulators", e9.AnalysisViewDestroyed = "analysis-view-destroyed", e9.AnalysisView = "analysis-view";
}(L || (L = {}));
var P4 = class extends S {
  constructor(e9) {
    super(e9), this.cursorPoint = null, this._visible = false, this._laserLine = null, this.laserLineEnabled = true, this._lastDraggedHandle = null;
  }
  initialize() {
    this._laserLine = new c2({
      view: this.view,
      attached: true,
      isDecoration: true
    }), this._updateVisibility(this._visible), this._connectToAnalysisView(), this.addHandles(d2(() => this._params, ({
      laserLineGlowColor: e9,
      laserLineInnerColor: i,
      laserLineGlobalAlpha: t2
    }) => {
      const s = this._laserLine, o2 = s.style;
      s.style = __spreadProps(__spreadValues({}, o2), {
        innerColor: i,
        glowColor: e9,
        globalAlpha: t2
      });
    }));
  }
  destroy() {
    this._laserLine = u(this._laserLine);
  }
  get _params() {
    const {
      accentColor: e9
    } = this.view.effectiveTheme;
    return {
      laserLineGlowColor: u2.toUnitRGB(e9),
      laserLineGlowWidth: 8,
      laserLineGlowFalloff: 8,
      laserLineInnerColor: u2.toUnitRGB(G(e9)),
      laserLineInnerWidth: 0.75,
      laserLineGlobalAlpha: 0.75 * e9.a,
      handleColor: F(e9, 0.5),
      handleRadius: 5
    };
  }
  get visible() {
    return this._visible;
  }
  set visible(e9) {
    e9 ? this.show() : this.hide();
  }
  get testData() {
  }
  get _cursorPosition() {
    const e9 = n2(), i = this.cursorPoint;
    return i && this.view.renderCoordsHelper.toRenderCoords(i, e9), e9;
  }
  get _startPosition() {
    const e9 = n2(), i = this.analysis.startPoint;
    return i && this.view.renderCoordsHelper.toRenderCoords(i, e9), e9;
  }
  get _endPosition() {
    const e9 = n2(), i = this.analysis.endPoint;
    return i && this.view.renderCoordsHelper.toRenderCoords(i, e9), e9;
  }
  get _laserLineParams() {
    const e9 = this._focusPosition, {
      active: i,
      lineState: t2
    } = this.toolState, s = this.analysisViewData, o2 = this.laserLineEnabled && !!e9 && "measured" !== t2 && i;
    if (!o2 || !this.visible || null == s || s.destroyed) return {
      heightManifoldTarget: null,
      pointDistanceLine: null,
      lineVerticalPlaneSegment: null
    };
    const n5 = s.actualVisualizedMeasurement, a4 = "local" !== this.view.viewingMode && o2 && !!this.analysis.startPoint && "geodesic" === n5, r = o2 && s.viewMode === e8.Triangle;
    return {
      heightManifoldTarget: "euclidean" === n5 ? e9 : null,
      pointDistanceLine: a4 ? this._pointDistanceLine : null,
      lineVerticalPlaneSegment: r ? h2(this._startPosition, this._endPosition) : null
    };
  }
  get _focusPosition() {
    const {
      lineState: e9
    } = this.toolState, i = this.analysisViewData, t2 = null != i && !i.destroyed && i.measurementMode === e7.Euclidean && i.viewMode === e8.Direct;
    switch (e9) {
      case "drawing":
        return t2 ? this._startPosition : this.analysis.endPoint ? this._endPosition : this._startPosition;
      case "editing":
        return t2 ? "start" === this._lastDraggedHandle ? this._endPosition : this._startPosition : "start" === this._lastDraggedHandle ? this._startPosition : this._endPosition;
      default:
        return null != this.cursorPoint ? this._cursorPosition : null;
    }
  }
  get _pointDistanceLine() {
    return {
      origin: "drawing" === this.toolState.lineState || "end" === this._lastDraggedHandle ? this._startPosition : this._endPosition,
      target: this._focusPosition
    };
  }
  createManipulators() {
    const e9 = this._params, {
      view: i
    } = this, t2 = () => {
      const t3 = f(e9.handleColor), s2 = [new e4(st(t3, 1, 32, 32))], o3 = new ee({
        view: i,
        renderObjects: s2
      });
      return o3.available = false, o3.radius = e9.handleRadius, [o3, t3];
    }, [s, o2] = t2(), [r, d4] = t2(), h4 = new ee({
      view: this.view,
      available: false,
      interactive: false
    });
    null != this.analysis.startPoint && (s.location = this.analysis.startPoint, s.available = true), null != this.analysis.endPoint && (r.location = this.analysis.endPoint, r.available = true);
    const c5 = () => {
      let e10 = this._lastDraggedHandle;
      s.grabbing && !r.grabbing && (e10 = "start"), r.grabbing && !s.grabbing && (e10 = "end"), s.grabbing || r.grabbing || (e10 = null), this._lastDraggedHandle = e10;
    }, p6 = s.events.on("grab-changed", c5), u5 = r.events.on("grab-changed", c5);
    return this.addHandles([p6, u5, d2(() => D(this._params.handleColor), (e10) => {
      o2.setParameters({
        color: e10
      }), d4.setParameters({
        color: e10
      });
    }, {
      equals: P2
    })], L.Manipulators), {
      start: s,
      end: r,
      cursor: h4
    };
  }
  show() {
    this.destroyed || this._visible || this._updateVisibility(true);
  }
  hide() {
    !this.destroyed && this._visible && this._updateVisibility(false);
  }
  _connectToAnalysisView() {
    this.removeHandles(L.AnalysisView), this.addHandles([d2(() => this.analysisViewData?.destroyed, (e9) => {
      e9 && this.removeHandles(L.AnalysisView);
    }, P), d2(() => ["measured" === this.toolState.lineState, this.analysisViewData], ([e9, i]) => {
      null == i || i.destroyed || (i.allowVisualElementsOrientationChange = !e9);
    }, P), d2(() => this._laserLineParams, (e9) => {
      const i = this._laserLine;
      i.heightManifoldTarget = e9.heightManifoldTarget, i.pointDistanceLine = e9.pointDistanceLine, i.lineVerticalPlaneSegment = e9.lineVerticalPlaneSegment;
    }, P)], L.AnalysisView);
  }
  _updateVisibility(e9) {
    this.initialized && (this._visible = e9, e9 ? this._laserLine.style = {
      innerColor: this._params.laserLineInnerColor,
      innerWidth: this._params.laserLineInnerWidth,
      glowColor: this._params.laserLineGlowColor,
      glowWidth: this._params.laserLineGlowWidth,
      glowFalloff: this._params.laserLineGlowFalloff,
      globalAlpha: this._params.laserLineGlobalAlpha
    } : this.view.cursor = null, this._laserLine.visible = e9);
  }
};
e([y({
  constructOnly: true
})], P4.prototype, "view", void 0), e([y()], P4.prototype, "_params", null), e([y({
  constructOnly: true
})], P4.prototype, "analysis", void 0), e([y({
  constructOnly: true
})], P4.prototype, "analysisViewData", void 0), e([y()], P4.prototype, "cursorPoint", void 0), e([y()], P4.prototype, "toolState", void 0), e([y()], P4.prototype, "visible", null), e([y()], P4.prototype, "testData", null), e([y()], P4.prototype, "_visible", void 0), e([y()], P4.prototype, "_laserLine", void 0), e([y({
  constructOnly: true
})], P4.prototype, "laserLineEnabled", void 0), e([y()], P4.prototype, "_cursorPosition", null), e([y()], P4.prototype, "_startPosition", null), e([y()], P4.prototype, "_endPosition", null), e([y()], P4.prototype, "_lastDraggedHandle", void 0), e([y()], P4.prototype, "_laserLineParams", null), e([y()], P4.prototype, "_focusPosition", null), e([y()], P4.prototype, "_pointDistanceLine", null), P4 = e([a("esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DView")], P4);

// ../../../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js
var x2 = class extends o {
  constructor(t2) {
    super(t2), this._updatingHandles = new h(), this._emulatedDrag = null, this.lineState = "initial", this.startPointSurfaceLocation = null, this.endPointSurfaceLocation = null, this.cursorPointSurfaceLocation = null, this.startManipulator = null, this.endManipulator = null, this.cursorManipulator = null, this._getSnappingContext = t((t3) => new e5({
      elevationInfo: {
        mode: "absolute-height",
        offset: 0
      },
      pointer: t3,
      editGeometryOperations: new E(new p("point", P3(true, false, this.view.spatialReference)), this.view.state.viewingMode),
      visualizer: new R()
    }));
  }
  initialize() {
    const {
      view: t2,
      analysis: e9,
      analysisViewData: i,
      visible: s
    } = this;
    this.measurementView = new P4({
      toolState: this,
      view: t2,
      analysis: e9,
      analysisViewData: i,
      visible: s
    });
    const r = a3(t2);
    this._snappingManagerResult = r, this.addHandles(r);
    const {
      start: o2,
      end: u5,
      cursor: p6
    } = this.measurementView.createManipulators(), c5 = (t3, e10, i2) => p2(t3, (t4, n5, a4, s2) => {
      const r2 = q(t4), o3 = this._snappingManager, u6 = this._getSnappingContext(s2), p7 = this._updatingHandles, {
        lineState: c6
      } = this;
      a4 = a4.next(r2).next(h3(this, [i2, e10])).next((i3) => {
        if ("cursorPoint" !== e10) {
          const i4 = this.analysis[e10];
          null != i4 && (t4.location = i4);
        }
        return i3;
      });
      const h4 = z(this.view), g2 = (t5) => {
        const n6 = h4(t5);
        return n6 || "drawing" !== this.lineState && "initial" !== this.lineState || (this[e10] = null, this[i2] = null), n6;
      };
      let v2 = n5.next(r2).next(g2);
      if ("touch" !== s2 || "editing" === c6) {
        const {
          snappingStep: t5,
          cancelSnapping: e11
        } = f2({
          snappingManager: o3,
          snappingContext: u6,
          updatingHandles: p7
        });
        a4 = a4.next(e11), v2 = v2.next(...t5);
      }
      v2.next((t5) => "start" !== t5.action ? t5 : null).next((n6) => {
        const a5 = x(n6.mapEnd, new _());
        this[e10] = a5, t4.location = a5, this[i2] = this._surfaceLocation(a5, n6.surfaceType);
      });
    }), g = (t3) => t3.events.on("grab-changed", () => {
      const t4 = o2.grabbing || u5.grabbing;
      this.lineState = t4 ? "editing" : "measured";
    });
    this.addHandles([c5(o2, "startPoint", "startPointSurfaceLocation"), c5(u5, "endPoint", "endPointSurfaceLocation"), c5(p6, "cursorPoint", "cursorPointSurfaceLocation"), g(o2), g(u5)]), this.manipulators.add(o2), this.manipulators.add(u5), this.manipulators.add(p6), this.startManipulator = o2, this.endManipulator = u5, this.cursorManipulator = p6, this.addHandles(d2(() => this.state, (t3) => {
      "measured" === t3 && this.finishToolCreation();
    }, A)), N(this);
  }
  destroy() {
    this._updatingHandles = u(this._updatingHandles), this.measurementView = u(this.measurementView);
  }
  get _snappingManager() {
    return this._snappingManagerResult.snappingManager;
  }
  get state() {
    const {
      analysis: t2
    } = this;
    if (null == t2.startPoint && null == t2.endPoint) return "ready";
    const {
      lineState: e9
    } = this;
    return this.validMeasurement && "editing" !== e9 && "drawing" !== e9 ? "measured" : "measuring";
  }
  get cursor() {
    return "ready" === this.state || "drawing" === this.lineState ? "crosshair" : null;
  }
  get startPoint() {
    return this.analysis.startPoint;
  }
  set startPoint(t2) {
    this.analysis.startPoint = t2;
  }
  get endPoint() {
    return this.analysis.endPoint;
  }
  set endPoint(t2) {
    this.analysis.endPoint = t2;
  }
  get cursorPoint() {
    return this.measurementView.cursorPoint;
  }
  set cursorPoint(t2) {
    this.measurementView.cursorPoint = t2;
  }
  get snappingOptions() {
    return this._snappingManager.options;
  }
  get validMeasurement() {
    return null != this.analysis.startPoint && null != this.analysis.endPoint;
  }
  get updating() {
    return this._updatingHandles.updating || this._snappingManager.updating;
  }
  onShow() {
    this.measurementView.show(), this._updateManipulatorAvailability();
  }
  onHide() {
    this.measurementView.hide();
  }
  onDeactivate() {
    this._emulatedDrag?.cancel(), this._emulatedDrag = null;
  }
  onInputEvent(t2) {
    switch (t2.type) {
      case "immediate-click":
        this._handleImmediateClick(t2);
        break;
      case "pointer-move":
        this._handlePointerMove(t2);
    }
    this._updateManipulatorAvailability();
  }
  _handlePointerMove(t2) {
    if (!this.active || this.view.navigating) return;
    const {
      pointerType: e9
    } = t2;
    if ("mouse" !== e9) return;
    const i = n3(t2), {
      lineState: n5,
      cursorManipulator: a4,
      endManipulator: s
    } = this;
    let r = false;
    null == this.cursorPoint && (this._emulatedDrag?.cancel(), this._emulatedDrag = V(a4, e9, i), r = true), "initial" === n5 && (this._emulatedDrag?.update(i), r = true), "drawing" === n5 && (s.events.emit("drag", {
      action: "update",
      start: i,
      screenPoint: i
    }), r = true), r && t2.stopPropagation();
  }
  _handleImmediateClick(t2) {
    if (!this.active) return;
    if (!M2(t2)) return;
    const e9 = n3(t2), {
      pointerType: i
    } = t2, {
      cursorManipulator: n5,
      startManipulator: a4,
      endManipulator: s,
      lineState: r
    } = this;
    let o2 = false;
    switch (null == this.cursorPoint && (this._emulatedDrag?.cancel(), this._emulatedDrag = V(n5, i, e9)), r) {
      case "initial":
        if (this._emulatedDrag?.update(e9), null != this.cursorPoint) {
          this._emulatedDrag?.end(e9), this._emulatedDrag = null;
          const {
            cursorPoint: t3
          } = this;
          this.startPoint = t3, this.startPointSurfaceLocation = this.cursorPointSurfaceLocation, a4.location = t3, a4.interactive = false, s.interactive = false, this.lineState = "drawing", this._emulatedDrag = V(s, i, e9), o2 = true;
        }
        break;
      case "drawing":
        this._emulatedDrag?.update(e9), null != this.endPoint && (this._emulatedDrag?.end(e9), this._emulatedDrag = null, a4.interactive = true, s.interactive = true, this.lineState = "measured", o2 = true);
    }
    o2 && t2.stopPropagation();
  }
  _surfaceLocation(t2, e9) {
    return e9 === F2.GROUND ? "on-the-surface" : (t2.z ?? 0) >= this._getElevation(t2) ? "above-the-surface" : "below-the-surface";
  }
  _updateManipulatorAvailability() {
    this.startManipulator.available = null != this.analysis.startPoint, this.endManipulator.available = null != this.analysis.endPoint;
  }
  _getElevation(t2) {
    return this.view.basemapTerrain.ready ? a2(this.view.elevationProvider, t2) ?? 0 : 0;
  }
  get test() {
  }
};
function V(t2, e9, i) {
  return t2.events.emit("drag", {
    action: "start",
    pointerType: e9,
    start: i,
    screenPoint: i
  }), {
    update: (e10) => t2.events.emit("drag", {
      action: "update",
      start: e10,
      screenPoint: e10
    }),
    end: (e10) => t2.events.emit("drag", {
      action: "end",
      start: e10,
      screenPoint: e10
    }),
    cancel: () => t2.events.emit("drag", {
      action: "cancel"
    })
  };
}
e([y({
  readOnly: true
})], x2.prototype, "state", null), e([y()], x2.prototype, "lineState", void 0), e([y({
  readOnly: true
})], x2.prototype, "cursor", null), e([y()], x2.prototype, "startPoint", null), e([y()], x2.prototype, "endPoint", null), e([y()], x2.prototype, "cursorPoint", null), e([y({
  constructOnly: true
})], x2.prototype, "analysis", void 0), e([y({
  constructOnly: true
})], x2.prototype, "analysisViewData", void 0), e([y()], x2.prototype, "measurementView", void 0), e([y({
  constructOnly: true
})], x2.prototype, "view", void 0), e([y({
  readOnly: true
})], x2.prototype, "validMeasurement", null), e([y({
  value: null
})], x2.prototype, "startPointSurfaceLocation", void 0), e([y({
  value: null
})], x2.prototype, "endPointSurfaceLocation", void 0), e([y({
  value: null
})], x2.prototype, "cursorPointSurfaceLocation", void 0), e([y()], x2.prototype, "updating", null), x2 = e([a("esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DTool")], x2);
var H = x2;

// ../../../node_modules/@arcgis/core/widgets/DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js
var p4 = class extends u4 {
  constructor(t2) {
    super(t2), this.analysis = null, this.supportedViewType = "3d", this.unsupportedErrorMessage = "DirectLineMeasurement3DViewModel is only supported in 3D views.", this._userUnit = null, this._userUnitOptions = null;
  }
  initialize() {
    this.addHandles(d2(() => ({
      analysis: this.analysis,
      unit: this.unit
    }), ({
      analysis: t2,
      unit: e9
    }) => {
      null != t2 && (t2.unit = e9);
    }, A));
  }
  get state() {
    return this.disabled || !this.ready ? "disabled" : null == this.tool ? "ready" : this.tool.state;
  }
  get measurement() {
    const {
      tool: t2
    } = this;
    if (null == t2) return null;
    const e9 = () => ({
      text: null,
      state: "unavailable"
    }), i = (t3) => ({
      text: t3,
      state: "available"
    }), {
      analysisViewData: s
    } = t2, n5 = null != s.result;
    return {
      mode: s.result?.mode ?? "euclidean",
      directDistance: n5 && "euclidean" === s.actualVisualizedMeasurement ? i(s.directLabelText) : e9(),
      horizontalDistance: n5 ? i(s.horizontalLabelText) : e9(),
      verticalDistance: n5 ? i(s.verticalLabelText) : e9()
    };
  }
  set unitOptions(t2) {
    this._userUnitOptions = t2, this._set("unitOptions", this._filteredOrAllUnits(this._userUnitOptions));
  }
  get unitOptions() {
    return this._filteredOrAllUnits(this._userUnitOptions);
  }
  set unit(t2) {
    this._userUnit = t2 ? this._findSelectableUnit(t2, this._userUnit) : null;
  }
  get unit() {
    return this._userUnit ? (this._userUnit = this._findSelectableUnit(this._userUnit, this.defaultUnit), this._userUnit) : this._findSelectableUnit(this.defaultUnit);
  }
  constructAnalysis() {
    return new p3();
  }
  constructTool() {
    return new H({
      view: this.view,
      analysis: this.analysis,
      analysisViewData: this.analysisView,
      visible: this.visible
    });
  }
  _findSelectableUnit(t2, e9) {
    const i = this.unitOptions;
    return i.includes(t2) ? t2 : e9 ? this._findSelectableUnit(e9) : i[0];
  }
  _filteredOrAllUnits(t2) {
    if (!t2) return M.slice();
    const e9 = t2.filter((t3) => M.includes(t3));
    return 0 === e9.length ? M.slice() : e9;
  }
};
e([y({
  type: p3
})], p4.prototype, "analysis", void 0), e([y({
  readOnly: true
})], p4.prototype, "state", null), e([y({
  readOnly: true
})], p4.prototype, "measurement", null), e([y()], p4.prototype, "unitOptions", null), e([y()], p4.prototype, "unit", null), e([y(e6)], p4.prototype, "defaultUnit", void 0), e([y()], p4.prototype, "_userUnit", void 0), e([y()], p4.prototype, "_userUnitOptions", void 0), p4 = e([a("esri.widgets.DirectLineMeasurement3D.DirectLineMeasurement3DViewModel")], p4);
var c3 = p4;

// ../../../node_modules/@arcgis/core/widgets/DirectLineMeasurement3D.js
var p5 = "esri-direct-line-measurement-3d";
var m = {
  base: p5,
  newMeasurementButton: `${p5}__clear-button`
};
var c4 = class extends B {
  constructor(e9, t2) {
    super(e9, t2), this.messages = null, this.messagesCommon = null, this.viewModel = new c3();
  }
  get view() {
    return this.viewModel.view;
  }
  set view(e9) {
    this.viewModel.view = e9;
  }
  get visible() {
    return this.viewModel.visible;
  }
  set visible(e9) {
    this.viewModel.visible = e9;
  }
  get active() {
    return this.viewModel.active;
  }
  get analysis() {
    return this.viewModel.analysis;
  }
  set analysis(e9) {
    this.viewModel.analysis = e9;
  }
  get icon() {
    return "measure-line";
  }
  set icon(e9) {
    this._overrideIfSome("icon", e9);
  }
  get label() {
    return this.messages?.widgetLabel ?? "";
  }
  set label(e9) {
    this._overrideIfSome("label", e9);
  }
  get unitOptions() {
    return this.viewModel.unitOptions;
  }
  set unitOptions(e9) {
    this.viewModel.unitOptions = e9;
  }
  get unit() {
    return this.viewModel.unit;
  }
  set unit(e9) {
    this.viewModel.unit = e9;
  }
  render() {
    const {
      messages: e9,
      messagesCommon: s,
      unit: i,
      unitOptions: o2,
      viewModel: r
    } = this, {
      active: a4,
      measurement: p6,
      state: c5,
      supported: v2
    } = r;
    return n("div", {
      "aria-label": this.messages.widgetLabel,
      class: this.classes(m.base, e3.widget, e3.panel),
      key: this,
      role: "presentation"
    }, this.visible ? n(u3, {
      active: a4,
      measurementItems: [{
        key: "direct",
        title: e9.direct,
        value: d3(p6?.directDistance)
      }, {
        key: "horizontal",
        title: e9.horizontal,
        value: d3(p6?.horizontalDistance)
      }, {
        key: "vertical",
        title: e9.vertical,
        value: d3(p6?.verticalDistance)
      }],
      messages: __spreadProps(__spreadValues({}, e9), {
        notApplicable: s?.notApplicable
      }),
      newMeasurementButtonClass: m.newMeasurementButton,
      state: c5,
      supported: v2,
      unit: i,
      unitOptions: o2,
      onNewMeasurementClick: () => {
        d(this.viewModel.start());
      },
      onUnitChange: (e10) => {
        this.unit = e10;
      }
    }) : null);
  }
};
function d3(e9) {
  return "available" === e9?.state ? e9.text : null;
}
e([y()], c4.prototype, "view", null), e([y()], c4.prototype, "visible", null), e([y()], c4.prototype, "active", null), e([y({
  constructOnly: true,
  nonNullable: true
})], c4.prototype, "analysis", null), e([y()], c4.prototype, "icon", null), e([y()], c4.prototype, "label", null), e([y(), e2("esri/widgets/DirectLineMeasurement3D/t9n/DirectLineMeasurement3D")], c4.prototype, "messages", void 0), e([y(), e2("esri/t9n/common")], c4.prototype, "messagesCommon", void 0), e([y()], c4.prototype, "uiStrings", void 0), e([y({
  type: c3
})], c4.prototype, "viewModel", void 0), e([y()], c4.prototype, "unitOptions", null), e([y()], c4.prototype, "unit", null), c4 = e([a("esri.widgets.DirectLineMeasurement3D")], c4);
var v = c4;
export {
  v as default
};
//# sourceMappingURL=DirectLineMeasurement3D-YNGUTSLJ.js.map
