{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/interactive/tooltip/infos/TranslateVertexTooltipInfo.js", "../../../../../../node_modules/@arcgis/core/views/draw/support/reshapeTooltipUtils.js", "../../../../../../node_modules/@arcgis/core/views/draw/support/Reshape.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { zeroMeters as o } from \"../../../../core/quantityUtils.js\";\nimport { property as e } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { SketchTooltipInfo as s } from \"./SketchTooltipInfo.js\";\nlet i = class extends s {\n  constructor(t) {\n    super(t), this.type = \"translate-vertex\", this.distance = o, this.elevation = null, this.area = null, this.totalLength = null;\n  }\n  clear() {\n    this.distance = o, this.elevation = null, this.area = null, this.totalLength = null;\n  }\n};\nt([e()], i.prototype, \"type\", void 0), t([e()], i.prototype, \"distance\", void 0), t([e()], i.prototype, \"elevation\", void 0), t([e()], i.prototype, \"area\", void 0), t([e()], i.prototype, \"totalLength\", void 0), i = t([r(\"esri.views.interactive.tooltip.infos.TranslateVertexTooltipInfo\")], i);\nexport { i as TranslateVertexTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { handlesGroup as t } from \"../../../core/handleUtils.js\";\nimport { zeroMeters as e } from \"../../../core/quantityUtils.js\";\nimport { watch as o, syncAndInitial as n, sync as i } from \"../../../core/reactiveUtils.js\";\nimport { createScreenPoint as r } from \"../../../core/screenUtils.js\";\nimport c from \"../../../geometry/Point.js\";\nimport { connectPasteEvent as s, getXYZDeltasFromTooltipInfo as a } from \"../../interactive/tooltip/tooltipCommonUtils.js\";\nimport { MovePointTooltipInfo as l } from \"../../interactive/tooltip/infos/MovePointTooltipInfo.js\";\nimport { SelectedVertexTooltipInfo as p } from \"../../interactive/tooltip/infos/SelectedVertexTooltipInfo.js\";\nimport { TranslateTooltipInfo as m } from \"../../interactive/tooltip/infos/TranslateTooltipInfo.js\";\nimport { TranslateVertexTooltipInfo as f } from \"../../interactive/tooltip/infos/TranslateVertexTooltipInfo.js\";\nimport { autoArea2D as u } from \"../../support/automaticAreaMeasurementUtils.js\";\nimport { autoLength2D as y, autoDistanceBetweenPoints2D as v } from \"../../support/automaticLengthMeasurementUtils.js\";\nimport { elevationFromPoint as g } from \"../../support/euclideanLengthMeasurementUtils.js\";\nfunction h(t) {\n  const e = {\n    sketchOptions: t,\n    viewType: \"2d\"\n  };\n  return {\n    movePoint: new l(e),\n    selectedVertex: new p(e),\n    translateGraphic: new m(e),\n    translateVertices: new f(e)\n  };\n}\nfunction d(e, r) {\n  let c = !1;\n  function a() {\n    const t = r(),\n      e = t.sketchOptions.tooltips.effectiveEnabled ? t.activeTooltipInfo : null;\n    return {\n      ...t,\n      activeTooltipInfo: e\n    };\n  }\n  return t([o(() => {\n    const t = a();\n    return {\n      context: t,\n      geometry: t.graphic?.geometry,\n      vertexGeometry: t.selectedVertex?.geometry\n    };\n  }, ({\n    context: t\n  }) => {\n    c = !0, x(t), e.info = t.activeTooltipInfo, c = !1;\n  }, n), o(() => {\n    const t = a(),\n      {\n        activeTooltipInfo: e\n      } = t;\n    if (e && \"key\" in e) return {\n      context: t,\n      key: e.key\n    };\n  }, (t, e) => {\n    t && !c && e && t.key !== e.key && w(t.context);\n  }, i), s(e)]);\n}\nfunction x(t) {\n  const e = t.activeTooltipInfo;\n  if (e) {\n    switch (e?.type) {\n      case \"move-point\":\n        return T(e, t);\n      case \"selected-vertex\":\n        return j(e, t);\n    }\n    e.sketchOptions = t.sketchOptions;\n  }\n}\nfunction T(t, {\n  graphic: e\n}) {\n  k(t, e, e?.geometry);\n}\nfunction j(t, {\n  graphic: e,\n  selectedVertex: o\n}) {\n  k(t, e, o?.geometry);\n  const n = e?.geometry;\n  switch (n?.type) {\n    case \"polygon\":\n      t.geometryType = \"polygon\", t.totalLength.visible = !1, t.area.actual = u(n);\n      break;\n    case \"polyline\":\n      t.geometryType = \"polyline\", t.totalLength.actual = y(n), t.area.visible = !1;\n  }\n}\nfunction k(t, e, o) {\n  e && \"point\" === o?.type && (t.setLocationFromPoint(o), t.elevation.actual = g(o), t.elevation.visible = !!e.geometry?.hasZ, t.elevation.readOnly = !1, t.elevation.showAsZ = !0);\n}\nfunction w(t) {\n  function e(e, o) {\n    const n = o?.geometry;\n    if (!n || \"point\" !== n.type) return;\n    const {\n      dx: i,\n      dy: r,\n      dz: s\n    } = a(e, n);\n    if (0 === i && 0 === r && 0 === s) return;\n    const {\n        x: l,\n        y: p,\n        z: m,\n        m: f,\n        spatialReference: u\n      } = n,\n      y = new c({\n        x: l + i,\n        y: p + r,\n        z: null != m ? m + s : void 0,\n        m: f,\n        spatialReference: u\n      });\n    t.updateGeometry(o, y, n, i, r);\n  }\n  const {\n    activeTooltipInfo: o,\n    graphic: n,\n    selectedVertex: i\n  } = t;\n  switch (o?.type) {\n    case \"move-point\":\n      return e(o, n);\n    case \"selected-vertex\":\n      return e(o, i);\n  }\n}\nfunction I(t, e, o) {\n  t.clear(), V(t, e, o);\n}\nfunction U(t, e, o, n) {\n  t.clear(), \"polygon\" === o?.type ? t.area = u(o) : \"polyline\" === o?.type && (t.totalLength = y(o)), V(t, e, n);\n}\nfunction V(t, o, n) {\n  if (!n) return;\n  const {\n      x: i,\n      y: c\n    } = n.origin,\n    s = o.toMap(n),\n    a = o.toMap(r(i, c)),\n    l = v(a, s);\n  t.distance = null != l ? l : e;\n}\nexport { d as connectTooltip, h as createTooltipInfos, I as updateTranslateTooltipInfo, U as updateTranslateVertexTooltipInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport t from \"../../../Graphic.js\";\nimport { createTask as i } from \"../../../core/asyncUtils.js\";\nimport s from \"../../../core/Collection.js\";\nimport o from \"../../../core/Error.js\";\nimport r from \"../../../core/Evented.js\";\nimport n from \"../../../core/Logger.js\";\nimport { destroyMaybe as h, assertIsSome as p, abortMaybe as a } from \"../../../core/maybe.js\";\nimport { when as c, watch as l, initial as d } from \"../../../core/reactiveUtils.js\";\nimport { property as m } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as v } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { closeRingsAndFixWinding as y, getMidpoint as _, geometryToCoordinates as g } from \"../../../geometry/support/coordsUtils.js\";\nimport u from \"../../../layers/GraphicsLayer.js\";\nimport f from \"../../../symbols/SimpleMarkerSymbol.js\";\nimport { ViewingMode as x } from \"../../ViewingMode.js\";\nimport { SnappingVisualizer2D as G } from \"../../2d/interactive/SnappingVisualizer2D.js\";\nimport { cloneMove as b } from \"./drawUtils.js\";\nimport V from \"./GraphicMover.js\";\nimport M from \"./HighlightHelper.js\";\nimport { addUniqueLayer as w } from \"./layerUtils.js\";\nimport { createTooltipInfos as S, connectTooltip as E, updateTranslateTooltipInfo as k, updateTranslateVertexTooltipInfo as I } from \"./reshapeTooltipUtils.js\";\nimport { settings as T } from \"./settings.js\";\nimport { ViewEventPriorities as O } from \"../../input/InputManager.js\";\nimport { createCoordinateHelper as C } from \"../../interactive/coordinateHelper.js\";\nimport { sketchKeys as H } from \"../../interactive/keybindings.js\";\nimport { EditGeometryOperations as j } from \"../../interactive/editGeometry/EditGeometryOperations.js\";\nimport R from \"../../interactive/sketch/SketchOptions.js\";\nimport { SnappingContext as A } from \"../../interactive/snapping/SnappingContext.js\";\nimport { Tooltip as U } from \"../../interactive/tooltip/Tooltip.js\";\nimport { enterInputModeIfAvailable as L } from \"../../interactive/tooltip/tooltipCommonUtils.js\";\nimport z from \"../../../geometry/Polyline.js\";\nimport D from \"../../../geometry/Point.js\";\nclass F {\n  constructor(e, t, i) {\n    this.graphic = e, this.mover = t, this.selected = i, this.type = \"reshape-start\";\n  }\n}\nclass P {\n  constructor(e, t, i) {\n    this.graphic = e, this.mover = t, this.selected = i, this.type = \"reshape\";\n  }\n}\nclass Z {\n  constructor(e, t, i) {\n    this.graphic = e, this.mover = t, this.selected = i, this.type = \"reshape-stop\";\n  }\n}\nclass X {\n  constructor(e, t, i) {\n    this.mover = e, this.dx = t, this.dy = i, this.type = \"move-start\";\n  }\n}\nclass Y {\n  constructor(e, t, i) {\n    this.mover = e, this.dx = t, this.dy = i, this.type = \"move\";\n  }\n}\nclass K {\n  constructor(e, t, i) {\n    this.mover = e, this.dx = t, this.dy = i, this.type = \"move-stop\";\n  }\n}\nclass N {\n  constructor(e) {\n    this.added = e, this.type = \"vertex-select\";\n  }\n}\nclass q {\n  constructor(e) {\n    this.removed = e, this.type = \"vertex-deselect\";\n  }\n}\nclass B {\n  constructor(e, t, i, s) {\n    this.added = e, this.graphic = t, this.oldGraphic = i, this.vertices = s, this.type = \"vertex-add\";\n  }\n}\nclass J {\n  constructor(e, t, i, s) {\n    this.removed = e, this.graphic = t, this.oldGraphic = i, this.vertices = s, this.type = \"vertex-remove\";\n  }\n}\nconst Q = T.reshapeGraphics,\n  W = {\n    vertices: {\n      default: new f({\n        style: \"circle\",\n        size: Q.vertex.size,\n        color: Q.vertex.color,\n        outline: {\n          color: Q.vertex.outlineColor,\n          width: 1\n        }\n      }),\n      hover: new f({\n        style: \"circle\",\n        size: Q.vertex.hoverSize,\n        color: Q.vertex.hoverColor,\n        outline: {\n          color: Q.vertex.hoverOutlineColor,\n          width: 1\n        }\n      }),\n      selected: new f({\n        style: \"circle\",\n        size: Q.selected.size,\n        color: Q.selected.color,\n        outline: {\n          color: Q.selected.outlineColor,\n          width: 1\n        }\n      })\n    },\n    midpoints: {\n      default: new f({\n        style: \"circle\",\n        size: Q.midpoint.size,\n        color: Q.midpoint.color,\n        outline: {\n          color: Q.midpoint.outlineColor,\n          width: 1\n        }\n      }),\n      hover: new f({\n        style: \"circle\",\n        size: Q.midpoint.size,\n        color: Q.midpoint.color,\n        outline: {\n          color: Q.midpoint.outlineColor,\n          width: 1\n        }\n      })\n    }\n  };\nlet $ = class extends r.EventedAccessor {\n  constructor(e) {\n    super(e), this._activeOperationInfo = null, this._editGeometryOperations = null, this._graphicAttributes = {\n      esriSketchTool: \"box\"\n    }, this._mover = null, this._snappingContext = null, this._snappingGraphicsLayer = null, this._hoverGraphic = null, this._snappingTask = null, this._stagedVertex = null, this.tooltip = null, this.activeTooltipInfo = null, this.callbacks = {\n      onReshapeStart() {},\n      onReshape() {},\n      onReshapeStop() {},\n      onMoveStart() {},\n      onMove() {},\n      onMoveStop() {},\n      onGraphicClick() {}\n    }, this.enableMidpoints = !0, this.enableMovement = !0, this.enableVertices = !0, this.graphic = null, this.layer = null, this.midpointGraphics = new s(), this.midpointSymbol = new f({\n      style: \"circle\",\n      size: 6,\n      color: [200, 200, 200],\n      outline: {\n        color: [100, 100, 100],\n        width: 1\n      }\n    }), this.selectedVertices = new s(), this.snappingManager = null, this.symbols = W, this.sketchOptions = new R(), this.type = \"reshape\", this.vertexGraphics = new s(), this.view = null;\n  }\n  initialize() {\n    const e = this.view;\n    this._highlightHelper = new M({\n      view: e\n    }), this._setup(), this.tooltip = new U({\n      view: this.view\n    }), this.tooltipInfos = S(this.sketchOptions), this.addHandles([c(() => e?.ready, () => {\n      const {\n        layer: e,\n        view: t\n      } = this;\n      w(t, e), this.addHandles(t.on(\"key-down\", e => this._keyDownHandler(e), O.TOOL));\n    }, {\n      once: !0,\n      initial: !0\n    }), l(() => this.graphic, () => this.refresh()), l(() => this.layer, (e, t) => {\n      t && (this._clearSelection(), this._resetGraphics(t)), this.refresh();\n    }), l(() => this.enableMidpoints, () => this.refresh()), E(this.tooltip, () => this._tooltipsContext), l(() => this.view.effectiveTheme.accentColor, () => this._updateSymbolsForTheme(), d)]), this._updateTooltip();\n  }\n  destroy() {\n    this._reset(), this._mover?.destroy(), this._mover = null, this.tooltip = h(this.tooltip);\n  }\n  get _coordinateHelper() {\n    return this._editGeometryOperations?.data.coordinateHelper ?? C(!!this.graphic.geometry?.hasZ, !!this.graphic.geometry?.hasM, this.view.spatialReference);\n  }\n  get _selectedVertex() {\n    return 1 === this.selectedVertices.length ? this.selectedVertices.at(0) : void 0;\n  }\n  get _tooltipsContext() {\n    return {\n      sketchOptions: this.sketchOptions,\n      activeTooltipInfo: this.activeTooltipInfo,\n      graphic: this.graphic,\n      selectedVertex: this._selectedVertex,\n      updateGeometry: (e, t, i, s, o) => {\n        this._setUpGeometryHelper();\n        const r = e === this.graphic;\n        r ? this._emitMoveStartEvent(0, 0) : this._emitReshapeStartEvent(e);\n        const n = !0;\n        if (this._syncGeometryAfterVertexMove(e, t, s, o, n), r) {\n          const {\n              view: e\n            } = this,\n            s = e.toScreen(i),\n            o = e.toScreen(t),\n            r = (o?.x ?? 0) - (s?.x ?? 0),\n            n = (o?.y ?? 0) - (s?.y ?? 0);\n          this._emitMoveEvent(r, n), this._emitMoveStopEvent(r, n);\n        } else this._emitReshapeEvent(e), this._emitReshapeStopEvent(e);\n        this._editGeometryOperations = h(this._editGeometryOperations);\n      }\n    };\n  }\n  set highlightsEnabled(e) {\n    this._highlightHelper?.removeAll(), this._set(\"highlightsEnabled\", e), this._setUpHighlights();\n  }\n  get state() {\n    const e = this.view.ready,\n      t = !(!this.graphic || !this.layer);\n    return e && t ? \"active\" : e ? \"ready\" : \"disabled\";\n  }\n  isUIGraphic(e) {\n    const t = [];\n    return this.graphic && t.push(this.graphic), t.concat(this.vertexGraphics.items, this.midpointGraphics.items), t.length > 0 && t.includes(e);\n  }\n  refresh() {\n    this._reset(), this._setup();\n  }\n  reset() {\n    this.graphic = null;\n  }\n  clearSelection() {\n    this._clearSelection();\n  }\n  removeSelectedVertices() {\n    const {\n      selectedVertices: e\n    } = this;\n    e.length && this._removeVertices(e);\n  }\n  _setup() {\n    const {\n      graphic: e,\n      layer: t\n    } = this;\n    if (!t || null == e?.geometry) return;\n    const i = e.geometry;\n    \"mesh\" !== i.type && \"extent\" !== i.type ? (\"polygon\" === i.type && y(i), this._setUpHighlights(), this._setupGraphics(), this._setupMover()) : this._logGeometryTypeError();\n  }\n  _setUpHighlights() {\n    this.highlightsEnabled && this.graphic && this._highlightHelper?.add(this.graphic);\n  }\n  _setUpGeometryHelper() {\n    const e = this.graphic.geometry;\n    if (null == e || \"mesh\" === e.type || \"extent\" === e.type) return void this._logGeometryTypeError();\n    const t = \"multipoint\" === e.type ? new z({\n      paths: e.points,\n      spatialReference: e.spatialReference\n    }) : e;\n    this._editGeometryOperations = j.fromGeometry(t, x.Local);\n  }\n  _saveSnappingContextForHandle(e, t) {\n    this._snappingGraphicsLayer = new u({\n      listMode: \"hide\",\n      internal: !0,\n      title: \"Reshape snapping layer\"\n    }), this.view.map.layers.add(this._snappingGraphicsLayer);\n    const i = this._editGeometryOperations;\n    p(i), this._snappingContext = new A({\n      editGeometryOperations: i,\n      elevationInfo: {\n        mode: \"on-the-ground\",\n        offset: 0\n      },\n      pointer: t.viewEvent?.pointerType || \"mouse\",\n      excludeFeature: this.graphic,\n      feature: this.graphic,\n      visualizer: new G(this._snappingGraphicsLayer),\n      vertexHandle: this._getVertexFromEditGeometry(e)\n    });\n  }\n  _reset() {\n    this._clearSelection(), this._highlightHelper?.removeAll(), this._updateTooltip(), this._resetGraphics(), this._resetSnappingStateVars(), this._activeOperationInfo = null, this._mover && this._mover.destroy(), this._mover = null, this.view.cursor = \"default\";\n  }\n  _resetSnappingStateVars() {\n    null != this.snappingManager && this.snappingManager.doneSnapping(), null != this._snappingGraphicsLayer && (this.view?.map && this.view.map.layers.remove(this._snappingGraphicsLayer), this._snappingGraphicsLayer.destroy()), this._editGeometryOperations = h(this._editGeometryOperations), this._snappingTask = a(this._snappingTask), this._snappingTask = null, this._snappingContext = null, this._stagedVertex = null;\n  }\n  _resetGraphics(e) {\n    this._removeMidpointGraphics(e), this._removeVertexGraphics(e), this.selectedVertices.removeAll(), this._updateTooltip();\n  }\n  _removeMidpointGraphics(e) {\n    const t = e || this.layer;\n    t && t.removeMany(this.midpointGraphics.items), this.midpointGraphics.items.forEach(e => e.destroy()), this.midpointGraphics.removeAll();\n  }\n  _removeVertexGraphics(e) {\n    const t = e || this.layer;\n    t && t.removeMany(this.vertexGraphics.items), this.vertexGraphics.items.forEach(e => e.destroy()), this.vertexGraphics.removeAll();\n  }\n  _setupGraphics() {\n    const e = this.graphic.geometry;\n    if (null != e && (\"polyline\" === e.type || \"polygon\" === e.type)) {\n      const t = ee(e);\n      this.enableMidpoints && this._setUpMidpointGraphics(t), this.enableVertices && this._setUpVertexGraphics(t);\n    }\n  }\n  _setUpMidpointGraphics(e) {\n    this._removeMidpointGraphics();\n    const t = this._createMidpointGraphics(e);\n    this.midpointGraphics.addMany(t), this.layer.addMany(t);\n  }\n  _setUpVertexGraphics(e) {\n    this._removeVertexGraphics();\n    const t = this._createVertexGraphics(e);\n    this.vertexGraphics.addMany(t), this._storeRelatedVertexIndices(), this.layer.addMany(t);\n  }\n  _createVertexGraphics(e) {\n    const {\n        _graphicAttributes: i,\n        symbols: s\n      } = this,\n      o = [];\n    return e?.forEach((e, r) => {\n      e.forEach((e, n) => {\n        o.push(new t({\n          geometry: this._coordinateHelper.arrayToPoint(e),\n          symbol: s?.vertices?.default,\n          attributes: {\n            ...i,\n            pathIndex: r,\n            pointIndex: n\n          }\n        }));\n      });\n    }), o;\n  }\n  _createMidpointGraphics(e) {\n    const {\n        _graphicAttributes: i,\n        symbols: s\n      } = this,\n      o = [];\n    for (let r = 0; r < e.length; r++) {\n      const n = e[r];\n      for (let e = 0; e < n.length; e++) {\n        const h = (e + 1) % n.length;\n        if (\"polyline\" === this.graphic.geometry?.type && 0 === h) continue;\n        const p = n[e],\n          a = n[h],\n          c = this._getMidpoint(p, a);\n        o.push(new t({\n          geometry: c,\n          symbol: s.midpoints.default,\n          attributes: {\n            ...i,\n            pathIndex: r,\n            pointIndexStart: e,\n            pointIndexEnd: h\n          }\n        }));\n      }\n    }\n    return o;\n  }\n  _updateSymbolsForTheme() {\n    const e = this.view.effectiveTheme.accentColor;\n    this.symbols = {\n      vertices: {\n        ...this.symbols.vertices,\n        default: this.symbols.vertices.default.clone().set(\"color\", e),\n        hover: this.symbols.vertices.hover?.clone().set(\"color\", e)\n      },\n      midpoints: {\n        ...this.symbols.midpoints\n      }\n    };\n    for (const t of this.vertexGraphics) this._isSelected(t) ? t.symbol = this.symbols.vertices.selected : this._hoverGraphic === t ? t.symbol = this.symbols.vertices.hover : t.symbol = this.symbols.vertices.default;\n  }\n  _storeRelatedVertexIndices() {\n    const e = this.vertexGraphics.items;\n    if (!e) return;\n    const t = e.map(({\n      geometry: e\n    }) => ({\n      x: e.x,\n      y: e.y\n    }));\n    for (let i = 0; i < t.length; i++) {\n      const s = [];\n      for (let e = 0; e < t.length; e++) {\n        if (i === e) continue;\n        const o = t[i],\n          r = t[e];\n        o.x === r.x && o.y === r.y && s.push(e);\n      }\n      e[i].attributes.relatedGraphicIndices = s;\n    }\n  }\n  _setupMover() {\n    const {\n        enableMovement: e,\n        graphic: t,\n        midpointGraphics: i,\n        vertexGraphics: s,\n        view: o\n      } = this,\n      r = s.concat(i).items;\n    e && r.push(t), this._mover = new V({\n      enableMoveAllGraphics: !1,\n      highlightsEnabled: !1,\n      indicatorsEnabled: !1,\n      graphics: r,\n      view: o,\n      callbacks: {\n        onGraphicClick: e => this._onGraphicClickCallback(e),\n        onGraphicMoveStart: e => this._onGraphicMoveStartCallback(e),\n        onGraphicMove: e => this._onGraphicMoveCallback(e),\n        onGraphicMoveStop: e => this._onGraphicMoveStopCallback(e),\n        onGraphicPointerOver: e => this._onGraphicPointerOverCallback(e),\n        onGraphicPointerOut: e => this._onGraphicPointerOutCallback(e)\n      }\n    });\n  }\n  _onGraphicClickCallback(e) {\n    e.viewEvent.stopPropagation();\n    const t = e.graphic;\n    if (t === this.graphic) this.clearSelection(), this.emit(\"graphic-click\", e), this.callbacks.onGraphicClick?.(e);else if (this._isMidpoint(t)) {\n      if (2 === e.viewEvent.button) return;\n      const i = this.graphic.clone(),\n        s = this._createVertexFromMidpoint(t);\n      this.refresh(), this._emitVertexAddEvent([t], i, s);\n    } else if (this._isVertex(t)) if (e.viewEvent.stopPropagation(), 2 === e.viewEvent.button) this._removeVertices(t);else {\n      e.viewEvent.native.shiftKey || this._clearSelection(), this.selectedVertices.includes(t) ? this._removeFromSelection(t, !0) : this._addToSelection(t);\n    }\n  }\n  _setUpOperation(e) {\n    const {\n        graphic: t,\n        dx: i,\n        dy: s\n      } = e,\n      o = t === this.graphic;\n    this._resetSnappingStateVars(), this._setUpGeometryHelper(), this._saveSnappingContextForHandle(t, e), this._activeOperationInfo = {\n      target: this.graphic,\n      mover: t,\n      operationType: o ? \"move\" : \"reshape\",\n      totalDx: i,\n      totalDy: s\n    };\n  }\n  _onGraphicMoveStartCallback(e) {\n    const {\n      dx: t,\n      dy: i,\n      graphic: s\n    } = e;\n    if (s === this.graphic) {\n      const {\n        geometry: o\n      } = s;\n      return this._setUpOperation(e), this._emitMoveStartEvent(t, i), void (null != o && \"point\" === o.type && this._onHandleMove(s, t, i, e, () => {\n        this._updateTooltip(this.graphic, e.viewEvent), this._emitMoveEvent(t, i);\n      }));\n    }\n    if (!this.selectedVertices.includes(s)) {\n      if (this._clearSelection(), this._isMidpoint(s)) {\n        const e = this.graphic.clone(),\n          t = this._createVertexFromMidpoint(s);\n        this._emitVertexAddEvent([s], e, t);\n      }\n      this._addToSelection(s);\n    }\n    this._setUpOperation(e), this._emitReshapeStartEvent(s), this._onHandleMove(s, t, i, e, () => {\n      this._updateTooltip(s, e.viewEvent), this._emitReshapeEvent(s);\n    });\n  }\n  _onGraphicMoveCallback(e) {\n    const t = this._activeOperationInfo;\n    if (!t) return;\n    const {\n      dx: i,\n      dy: s,\n      graphic: o\n    } = e;\n    t.totalDx += i, t.totalDy += s;\n    const {\n        operationType: r\n      } = t,\n      {\n        geometry: n\n      } = o;\n    if (null != n) if (\"move\" !== r) this._onHandleMove(o, i, s, e, () => {\n      this._updateTooltip(o, e.viewEvent), this._emitReshapeEvent(o);\n    });else if (\"point\" === n.type) this._onHandleMove(o, i, s, e, () => {\n      this._updateTooltip(this.graphic, e.viewEvent), this._emitMoveEvent(i, s);\n    });else if (\"polyline\" === n.type || \"polygon\" === n.type) {\n      const t = ee(n);\n      this._updateVertexGraphicLocations(t), this._updateTooltip(this.graphic, e.viewEvent), this._emitMoveEvent(i, s);\n    }\n  }\n  _onGraphicMoveStopCallback(e) {\n    const t = this._activeOperationInfo;\n    if (!t) return;\n    const {\n        dx: i,\n        dy: s,\n        graphic: o\n      } = e,\n      {\n        operationType: r\n      } = t;\n    t.totalDx += i, t.totalDy += s, this._onHandleMove(o, i, s, e, () => \"move\" === r ? this._emitMoveStopEvent() : this._emitReshapeStopEvent(o)), this._isMidpoint(o) ? this.refresh() : (this._updateTooltip(this._isVertex(o) ? o : null), this._resetSnappingStateVars(), this._activeOperationInfo = null);\n  }\n  _updateVertexGraphicLocations(e) {\n    const {\n      _coordinateHelper: t\n    } = this;\n    for (const i of this.vertexGraphics) {\n      const {\n        pathIndex: s,\n        pointIndex: o\n      } = i.attributes;\n      i.geometry = t.arrayToPoint(e[s][o]);\n    }\n    this._updateMidpointGraphicLocations(e);\n  }\n  _updateMidpointGraphicLocations(e) {\n    for (const t of this.midpointGraphics) {\n      const {\n          pathIndex: i,\n          pointIndexStart: s,\n          pointIndexEnd: o\n        } = t.attributes,\n        r = e[i];\n      t.geometry = this._getMidpoint(r[s], r[o]);\n    }\n  }\n  _getMidpoint(e, t) {\n    const {\n        _coordinateHelper: i\n      } = this,\n      s = i.arrayToVector(e),\n      o = i.arrayToVector(t),\n      r = i.toXYZ(s),\n      n = i.toXYZ(o),\n      [h, p, a] = _(r, n),\n      c = i.hasM() ? 0 : void 0;\n    return new D({\n      x: h,\n      y: p,\n      z: a,\n      m: c,\n      spatialReference: i.spatialReference\n    });\n  }\n  _getVertexFromEditGeometry(e) {\n    const [t, i] = te(e);\n    return p(this._editGeometryOperations), this._editGeometryOperations.data.components[t].vertices[i];\n  }\n  _onHandleMove(e, t, s, o, r) {\n    a(this._snappingTask);\n    const n = this._snappingContext;\n    if (!n) return;\n    const h = e.geometry,\n      p = \"graphic-move-stop\" === o.type;\n    if (null != this.snappingManager && this.selectedVertices.length < 2 && !p) {\n      const o = this.snappingManager;\n      this._stagedVertex = o.update({\n        point: h,\n        context: n\n      }), this._syncGeometryAfterVertexMove(e, new D(this._stagedVertex), t, s, p), r(), this._snappingTask = i(async i => {\n        const a = await o.snap({\n          point: h,\n          context: n,\n          signal: i\n        });\n        a.valid && (this._stagedVertex = a.apply(), this._syncGeometryAfterVertexMove(e, new D(this._stagedVertex), t, s, p), r());\n      });\n    } else {\n      const i = null != this._stagedVertex ? new D(this._stagedVertex) : h;\n      this._syncGeometryAfterVertexMove(e, i, t, s, p), r();\n    }\n  }\n  _syncGeometryAfterVertexMove(e, t, i, s, o = !1) {\n    const r = this._editGeometryOperations?.data.geometry;\n    if (r) if (\"point\" === r.type) e.geometry = t;else if (\"mesh\" === r.type) e.geometry = r.centerAt(t);else {\n      const {\n          _coordinateHelper: n\n        } = this,\n        [h, p] = te(e);\n      let a = g(r);\n      const c = a[h].length - 1,\n        l = n.pointToArray(t);\n      a[h][p] = l, \"polygon\" === r.type && (0 === p ? a[h][c] = l : p === c && (a[h][0] = l)), this._isVertex(e) && (a = this._moveRelatedCoordinates(a, e, l), a = this._moveSelectedHandleCoordinates(a, e, i, s, \"polygon\" === r.type), this._updateMidpointGraphicLocations(a)), this.graphic.geometry = r.clone();\n      const d = n.pointToVector(t),\n        m = this._getVertexFromEditGeometry(e),\n        v = n.getZ(d),\n        y = d[0] - m.pos[0],\n        _ = d[1] - m.pos[1],\n        u = null != v ? v - m.pos[2] : 0;\n      this._editGeometryOperations?.moveVertices([m], y, _, u), o && (this._mover ? this._mover.updateGeometry(this._mover.graphics.indexOf(e), t) : e.geometry = t);\n    }\n  }\n  _moveRelatedCoordinates(e, t, i) {\n    const {\n      relatedGraphicIndices: s\n    } = t.attributes;\n    for (const o of s) {\n      const s = this.vertexGraphics.at(o),\n        {\n          pathIndex: r,\n          pointIndex: n\n        } = s.attributes;\n      e[r][n] = i, s.geometry = t.geometry;\n    }\n    return e;\n  }\n  _moveSelectedHandleCoordinates(e, t, i, s, o) {\n    for (const r of this.selectedVertices) if (r !== t) {\n      const {\n          pathIndex: t,\n          pointIndex: n,\n          relatedGraphicIndices: h\n        } = r.attributes,\n        p = b(r.geometry, i, s, this.view),\n        a = g(p),\n        c = e[t].length - 1;\n      e[t][n] = a, r.geometry = p, o && (0 === n ? e[t][c] = a : n === c && (e[t][0] = a));\n      for (const i of h) {\n        const t = this.vertexGraphics.at(i),\n          {\n            pathIndex: s,\n            pointIndex: o\n          } = t.attributes;\n        e[s][o] = a, t.geometry = p;\n      }\n    }\n    return e;\n  }\n  _onGraphicPointerOverCallback(e) {\n    const t = e.graphic;\n    this._hoverGraphic = t;\n    const i = this._isVertex(t);\n    i && !this._isSelected(t) && (t.symbol = this.symbols.vertices.hover), this._updateTooltip(i ? t : null), this._updateHoverCursor(t);\n  }\n  _onGraphicPointerOutCallback(e) {\n    const t = e.graphic;\n    this._hoverGraphic = null, this._isVertex(t) && !this._isSelected(t) && (t.symbol = this.symbols.vertices.default), this.view.cursor = \"default\", this._updateTooltip();\n  }\n  _createVertexFromMidpoint(e) {\n    const {\n        _graphicAttributes: t,\n        graphic: i\n      } = this,\n      s = i.geometry;\n    if (null == s || \"polygon\" !== s.type && \"polyline\" !== s.type) return [];\n    const o = s.clone(),\n      r = [],\n      {\n        pathIndex: n,\n        pointIndexStart: h,\n        pointIndexEnd: p\n      } = e.attributes,\n      a = g(e.geometry),\n      c = 0 === p ? h + 1 : p,\n      l = g(o);\n    return l[n].splice(c, 0, a), e.attributes = {\n      ...t,\n      pathIndex: n,\n      pointIndex: c,\n      relatedGraphicIndices: []\n    }, r.push({\n      coordinates: l[n][c],\n      componentIndex: n,\n      vertexIndex: c\n    }), this.graphic.geometry = o, r;\n  }\n  _addToSelection(e) {\n    e.symbol = this.symbols.vertices.selected, this.selectedVertices.add(e), this._emitSelectEvent([e]), this._updateTooltip(e);\n  }\n  _removeFromSelection(e, t) {\n    const {\n        vertices: i\n      } = this.symbols,\n      s = t ? i.hover : i.default;\n    this.selectedVertices.remove(e), e.symbol = s, this._emitDeselectEvent([e]), this._updateTooltip();\n  }\n  _clearSelection() {\n    const e = this.selectedVertices.toArray();\n    if (e.length > 0) {\n      for (const t of e) t.set(\"symbol\", this.symbols.vertices.default);\n      this.selectedVertices.removeAll(), this._emitDeselectEvent(e), this._updateTooltip();\n    }\n  }\n  _keyDownHandler(e) {\n    null == this._activeOperationInfo && L(e, this.tooltip) || H.delete.includes(e.key) && !e.repeat && this.selectedVertices.length && this._removeVertices(this.selectedVertices);\n  }\n  _removeVertices(e) {\n    const t = this.graphic.geometry;\n    if (null == t || \"polygon\" !== t.type && \"polyline\" !== t.type) return;\n    if (\"polygon\" === t.type && this.vertexGraphics.length < 4 || this.vertexGraphics.length < 3) return;\n    const i = this.graphic.clone(),\n      s = t.clone();\n    let o = g(s);\n    const r = [],\n      n = ie(e);\n    for (const h of n) {\n      const {\n        x: e,\n        y: t\n      } = h.geometry;\n      for (let i = 0; i < o.length; i++) {\n        const s = o[i];\n        for (let n = 0; n < s.length; n++) {\n          const [h, p] = s[n];\n          e === h && t === p && (r.push({\n            coordinates: o[i][n],\n            componentIndex: i,\n            vertexIndex: n\n          }), o[i].splice(Number(n), 1));\n        }\n      }\n    }\n    if (\"polygon\" === s.type) o = o.filter(e => {\n      if (e.length < 2) return !1;\n      const [t, i] = e[0],\n        [s, o] = e[e.length - 1];\n      return (2 !== e.length || t !== s || i !== o) && (t === s && i === o || e.push(e[0]), !0);\n    }), s.rings = o;else {\n      for (const e of o) 1 === e.length && o.splice(o.indexOf(e), 1);\n      s.paths = o;\n    }\n    this.graphic.geometry = s, this.refresh(), this._emitVertexRemoveEvent(n, i, r);\n  }\n  _isVertex(e) {\n    return this.vertexGraphics.includes(e);\n  }\n  _isSelected(e) {\n    return this._isVertex(e) && this.selectedVertices.includes(e);\n  }\n  _isMidpoint(e) {\n    return this.midpointGraphics.includes(e);\n  }\n  _updateHoverCursor(e) {\n    this.view.cursor = this._isMidpoint(e) ? \"copy\" : \"move\";\n  }\n  _updateTooltip(e, t) {\n    let i = null;\n    const {\n        graphic: s,\n        view: o,\n        tooltipInfos: r\n      } = this,\n      n = s?.geometry;\n    \"point\" === n?.type ? i = r.movePoint : this._selectedVertex ? i = r.selectedVertex : e === this.graphic ? (i = r.translateGraphic, k(i, o, t)) : e && this.selectedVertices.length > 1 && (i = r.translateVertices, I(i, o, n, t)), this.activeTooltipInfo = i;\n  }\n  _emitMoveStartEvent(e, t) {\n    const i = new X(this.graphic, e, t);\n    this.emit(\"move-start\", i), this.callbacks.onMoveStart?.(i);\n  }\n  _emitMoveEvent(e, t) {\n    const i = new Y(this.graphic, e, t);\n    this.emit(\"move\", i), this.callbacks.onMove?.(i);\n  }\n  _emitMoveStopEvent(e, t) {\n    if (null == e || null == t) {\n      const i = this._activeOperationInfo;\n      if (!i) return;\n      e = i.totalDx, t = i.totalDy;\n    }\n    const i = new K(this.graphic, e, t);\n    this.emit(\"move-stop\", i), this.callbacks.onMoveStop?.(i);\n  }\n  _emitReshapeStartEvent(e) {\n    const t = new F(this.graphic, e, this.selectedVertices.toArray());\n    this.emit(\"reshape-start\", t), this.callbacks.onReshapeStart?.(t);\n  }\n  _emitReshapeEvent(e) {\n    const t = new P(this.graphic, e, this.selectedVertices.toArray());\n    this.emit(\"reshape\", t), this.callbacks.onReshape?.(t);\n  }\n  _emitReshapeStopEvent(e) {\n    const t = new Z(this.graphic, e, this.selectedVertices.toArray());\n    this.emit(\"reshape-stop\", t), this.callbacks.onReshapeStop?.(t);\n  }\n  _emitSelectEvent(e) {\n    const t = new N(e);\n    this.emit(\"select\", t), this.callbacks.onVertexSelect?.(t);\n  }\n  _emitDeselectEvent(e) {\n    const t = new q(e);\n    this.emit(\"deselect\", t), this.callbacks.onVertexDeselect?.(t);\n  }\n  _emitVertexAddEvent(e, t, i) {\n    const s = new B(e, this.graphic, t, i);\n    this.emit(\"vertex-add\", s), this.callbacks.onVertexAdd?.(s);\n  }\n  _emitVertexRemoveEvent(e, t, i) {\n    const s = new J(e, this.graphic, t, i);\n    this.emit(\"vertex-remove\", s), this.callbacks.onVertexRemove?.(s);\n  }\n  _logGeometryTypeError() {\n    n.getLogger(this).error(new o(\"reshape:invalid-geometry\", \"Reshape operation not supported for the provided graphic. The geometry type is not supported.\"));\n  }\n};\nfunction ee(e) {\n  const t = g(e.clone());\n  if (\"polygon\" === e.type) for (const i of t) {\n    const e = i[i.length - 1];\n    i[0][0] === e[0] && i[0][1] === e[1] && i.length > 2 && i.pop();\n  }\n  return t;\n}\nfunction te({\n  attributes: e\n}) {\n  return [e?.pathIndex || 0, e?.pointIndex || 0];\n}\nfunction ie(e) {\n  return e instanceof t ? [e] : [...e];\n}\ne([m()], $.prototype, \"_activeOperationInfo\", void 0), e([m()], $.prototype, \"_coordinateHelper\", null), e([m()], $.prototype, \"_editGeometryOperations\", void 0), e([m()], $.prototype, \"tooltip\", void 0), e([m()], $.prototype, \"tooltipInfos\", void 0), e([m()], $.prototype, \"activeTooltipInfo\", void 0), e([m()], $.prototype, \"_selectedVertex\", null), e([m()], $.prototype, \"_tooltipsContext\", null), e([m()], $.prototype, \"callbacks\", void 0), e([m()], $.prototype, \"enableMidpoints\", void 0), e([m()], $.prototype, \"enableMovement\", void 0), e([m()], $.prototype, \"enableVertices\", void 0), e([m()], $.prototype, \"graphic\", void 0), e([m({\n  value: !0\n})], $.prototype, \"highlightsEnabled\", null), e([m()], $.prototype, \"layer\", void 0), e([m({\n  readOnly: !0\n})], $.prototype, \"midpointGraphics\", void 0), e([m()], $.prototype, \"midpointSymbol\", void 0), e([m({\n  readOnly: !0\n})], $.prototype, \"selectedVertices\", void 0), e([m()], $.prototype, \"snappingManager\", void 0), e([m({\n  readOnly: !0\n})], $.prototype, \"state\", null), e([m()], $.prototype, \"symbols\", void 0), e([m({\n  type: R\n})], $.prototype, \"sketchOptions\", void 0), e([m({\n  readOnly: !0\n})], $.prototype, \"type\", void 0), e([m({\n  readOnly: !0\n})], $.prototype, \"vertexGraphics\", void 0), e([m()], $.prototype, \"view\", void 0), $ = e([v(\"esri.views.draw.support.Reshape\")], $);\nconst se = $;\nexport { se as default };"],
  "mappings": "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",
  "names": ["i", "h", "e", "h", "e", "p", "i", "d", "r", "c", "a", "T", "o", "n", "u", "s", "V", "l", "m", "f", "y", "U", "e", "i", "P", "s", "h", "y", "o", "l", "_", "d", "r", "n", "m", "p", "a", "c", "t", "u", "U"]
}
