{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/segmentUtils.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/labels/LabelMeshWriter.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/features/support/DictionaryValue.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/MeshWriterInputEvaluator.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/MeshWriterRegistry.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { maxTileCoordValue as t } from \"../../../../../../symbols/cim/constants.js\";\nfunction e(t, e, n) {\n  return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t;\n}\nfunction n(t, e) {\n  return Math.sqrt(t * t + e * e);\n}\nfunction s(t) {\n  const e = n(t[0], t[1]);\n  t[0] /= e, t[1] /= e;\n}\nfunction i(t, e) {\n  return n(t[0] - e[0], t[1] - e[1]);\n}\nfunction r(t, e) {\n  return t[e + 1];\n}\nfunction h(t) {\n  return t.length - 1;\n}\nfunction a(t) {\n  let e = 0;\n  for (let n = 0; n < h(t); n++) e += c(t, n);\n  return e;\n}\nfunction c(t, e, n = 1) {\n  let [s, i] = r(t, e);\n  return [s, i] = [Math.round(s), Math.round(i)], Math.sqrt(s * s + i * i) * n;\n}\nclass u {\n  constructor(t, e, n, s, i) {\n    this._segments = t, this._index = e, this._distance = n, this._xStart = s, this._yStart = i, this._done = !1;\n  }\n  static create(t) {\n    return new u(t, 0, 0, t[0][0], t[0][1]);\n  }\n  clone() {\n    return new u(this._segments, this._index, this._distance, this.xStart, this.yStart);\n  }\n  equals(t) {\n    return this._index === t._index || t._index === this._index - 1 && (0 === this._distance || 1 === t._distance) || t._index === this._index + 1 && (1 === this._distance || 0 === t._distance);\n  }\n  leq(t) {\n    return this._index < t._index || this._index === t._index && this._distance <= t._distance;\n  }\n  geq(t) {\n    return this._index > t._index || this._index === t._index && this._distance >= t._distance;\n  }\n  get _segment() {\n    return this._segments[this._index + 1];\n  }\n  get angle() {\n    const t = this.dy,\n      e = (0 * t + -1 * -this.dx) / (1 * this.length);\n    let n = Math.acos(e);\n    return t > 0 && (n = 2 * Math.PI - n), n;\n  }\n  get xStart() {\n    return this._xStart;\n  }\n  get yStart() {\n    return this._yStart;\n  }\n  get x() {\n    return this.xStart + this.distance * this.dx;\n  }\n  get y() {\n    return this.yStart + this.distance * this.dy;\n  }\n  get dx() {\n    return this._segment[0];\n  }\n  get dy() {\n    return this._segment[1];\n  }\n  get xMidpoint() {\n    return this.xStart + .5 * this.dx;\n  }\n  get yMidpoint() {\n    return this.yStart + .5 * this.dy;\n  }\n  get xEnd() {\n    return this.xStart + this.dx;\n  }\n  get yEnd() {\n    return this.yStart + this.dy;\n  }\n  get length() {\n    const {\n      dx: t,\n      dy: e\n    } = this;\n    return Math.sqrt(t * t + e * e);\n  }\n  get remainingLength() {\n    return this.length * (1 - this._distance);\n  }\n  get backwardLength() {\n    return this.length * this._distance;\n  }\n  get distance() {\n    return this._distance;\n  }\n  get done() {\n    return this._done;\n  }\n  hasPrev() {\n    return this._index - 1 >= 0;\n  }\n  hasNext() {\n    return this._index + 1 < h(this._segments);\n  }\n  next() {\n    return this.hasNext() ? (this._xStart += this.dx, this._yStart += this.dy, this._distance = 0, this._index += 1, this) : null;\n  }\n  prev() {\n    return this.hasPrev() ? (this._index -= 1, this._xStart -= this.dx, this._yStart -= this.dy, this._distance = 1, this) : (this._done = !0, null);\n  }\n  _seekBackwards(t, e) {\n    const n = this.backwardLength;\n    if (t <= n) return this._distance = (n - t) / this.length, this;\n    let s = this.backwardLength;\n    for (; this.prev();) {\n      if (s + this.length > t) return this._seekBackwards(t - s);\n      s += this.length;\n    }\n    return this._distance = 0, e ? this : null;\n  }\n  seek(t, e = !1) {\n    if (t < 0) return this._seekBackwards(Math.abs(t), e);\n    if (t <= this.remainingLength) return this._distance = (this.backwardLength + t) / this.length, this;\n    let n = this.remainingLength;\n    for (; this.next();) {\n      if (n + this.length > t) return this.seek(t - n, e);\n      n += this.length;\n    }\n    return this._distance = 1, e ? this : null;\n  }\n}\nfunction d(e, n, s, i = !0) {\n  const r = a(e),\n    h = u.create(e),\n    c = r / 2;\n  if (!i) return h.seek(c), void (Math.abs(h.x) < t && Math.abs(h.y) < t && s(h.clone(), 0, c + 0 * n, r));\n  const d = Math.max((r - n) / 2, 0),\n    o = Math.floor(d / n),\n    _ = c - o * n;\n  h.seek(_);\n  for (let a = -o; a <= o; a++) Math.abs(h.x) < t && Math.abs(h.y) < t && s(h.clone(), a, c + a * n, r), h.seek(n);\n}\nfunction o(t, e, n) {\n  _(n, e, a(t), u.create(t), 0);\n}\nfunction _(t, e, n, s, i) {\n  if (n < e) return;\n  const r = s.clone().seek(n / 2);\n  if (null == r) return;\n  t(r.clone(), n, i), n = (n - e) / 2;\n  const h = r.seek(e / 2);\n  _(t, e, n, s, i + 1), _(t, e, n, h, i + 1);\n}\nfunction l(t, e) {\n  const n = e;\n  for (let s = 0; s < t.length; s++) {\n    let e = t[s];\n    g(e, n);\n    const i = [];\n    i.push(e[0]);\n    for (let t = 1; t < e.length; t++) {\n      const [n, s] = e[t - 1],\n        [r, h] = e[t],\n        a = r - n,\n        c = h - s;\n      i.push([a, c]);\n    }\n    t[s] = i, e = i;\n  }\n  return t;\n}\nfunction g(t, n) {\n  const r = 1e-6;\n  if (n <= 0) return;\n  const h = t.length;\n  if (h < 3) return;\n  const a = [];\n  let c = 0;\n  a.push(0);\n  for (let e = 1; e < h; e++) c += i(t[e], t[e - 1]), a.push(c);\n  n = Math.min(n, .2 * c);\n  const u = [];\n  u.push(t[0][0]), u.push(t[0][1]);\n  const d = t[h - 1][0],\n    o = t[h - 1][1],\n    _ = e([0, 0], t[0], t[1]);\n  s(_), t[0][0] += n * _[0], t[0][1] += n * _[1], e(_, t[h - 1], t[h - 2]), s(_), t[h - 1][0] += n * _[0], t[h - 1][1] += n * _[1];\n  for (let e = 1; e < h; e++) a[e] += n;\n  a[h - 1] += n;\n  const l = .5 * n;\n  for (let e = 1; e < h - 1; e++) {\n    let s = 0,\n      i = 0,\n      c = 0;\n    for (let h = e - 1; h >= 0 && !(a[h + 1] < a[e] - l); h--) {\n      const u = l + a[h + 1] - a[e],\n        d = a[h + 1] - a[h],\n        o = a[e] - a[h] < l ? 1 : u / d;\n      if (Math.abs(o) < r) break;\n      const _ = o * o,\n        g = o * u - .5 * _ * d,\n        x = o * d / n,\n        f = t[h + 1],\n        y = t[h][0] - f[0],\n        k = t[h][1] - f[1];\n      s += x / g * (f[0] * o * u + .5 * _ * (u * y - d * f[0]) - _ * o * d * y / 3), i += x / g * (f[1] * o * u + .5 * _ * (u * k - d * f[1]) - _ * o * d * k / 3), c += x;\n    }\n    for (let u = e + 1; u < h && !(a[u - 1] > a[e] + l); u++) {\n      const h = l - a[u - 1] + a[e],\n        d = a[u] - a[u - 1],\n        o = a[u] - a[e] < l ? 1 : h / d;\n      if (Math.abs(o) < r) break;\n      const _ = o * o,\n        g = o * h - .5 * _ * d,\n        x = o * d / n,\n        f = t[u - 1],\n        y = t[u][0] - f[0],\n        k = t[u][1] - f[1];\n      s += x / g * (f[0] * o * h + .5 * _ * (h * y - d * f[0]) - _ * o * d * y / 3), i += x / g * (f[1] * o * h + .5 * _ * (h * k - d * f[1]) - _ * o * d * k / 3), c += x;\n    }\n    u.push(s / c), u.push(i / c);\n  }\n  u.push(d), u.push(o);\n  for (let e = 0, s = 0; e < h; e++) t[e][0] = u[s++], t[e][1] = u[s++];\n}\nexport { u as SegmentCursor, d as pathDivide, a as pathLength, o as pathSubdivide, r as segmentAt, h as segmentCount, c as segmentLength, l as smoothPaths };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { memoize as e } from \"../../../../../../../core/MapUtils.js\";\nimport { pt2px as t } from \"../../../../../../../core/screenUtils.js\";\nimport { fromRotation as i, translate as s } from \"../../../../../../../core/libs/gl-matrix-2/math/mat2d.js\";\nimport { create as r } from \"../../../../../../../core/libs/gl-matrix-2/factories/mat2df32.js\";\nimport { set as o, sub as n, normalize as a, add as l, scale as h } from \"../../../../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { fromValues as c } from \"../../../../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";\nimport { create as m } from \"../../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { generalizeOptimizedGeometry as d, convertToGeometry as u } from \"../../../../../../../layers/graphics/featureConversionUtils.js\";\nimport f from \"../../../../../../../layers/graphics/OptimizedGeometry.js\";\nimport { getXAnchorDirection as g, getYAnchorDirection as p } from \"../../../alignmentUtils.js\";\nimport { getDisplayIdTexel as _ } from \"../../../DisplayId.js\";\nimport x from \"../../../collisions/BoundingBox.js\";\nimport { LabelMetric as y } from \"../../../collisions/LabelMetric.js\";\nimport { smoothPaths as v, pathDivide as M } from \"../../../mesh/templates/segmentUtils.js\";\nimport { getMinMaxZoom as P, processColorInput as b } from \"../fill/meshWriterUtils.js\";\nimport { TextMeshWriter as w, maxLabelZoom as B } from \"../text/TextMeshWriter.js\";\nconst L = 1,\n  S = 0,\n  I = 128,\n  A = e(e => {\n    let t = 0;\n    if (0 === e) return 1 / 0;\n    for (; !(e % 2);) t++, e /= 2;\n    return t;\n  });\nclass z extends w {\n  constructor() {\n    super(...arguments), this._zoomLevel = 0;\n  }\n  _write(e, t, i, s) {\n    if (this._zoomLevel = s || 0, null != i) throw new Error(\"InternalError: EffectGeometry not support for LabelMeshWriter\");\n    switch (t.geometryType) {\n      case \"esriGeometryPoint\":\n        {\n          const i = t.readXForDisplay(),\n            s = t.readYForDisplay();\n          return this._writePoint(e, i, s, t);\n        }\n      case \"esriGeometryEnvelope\":\n      case \"esriGeometryPolygon\":\n      case \"esriGeometryMultipoint\":\n        {\n          const i = t.readCentroidForDisplay();\n          if (!i) return;\n          const [s, r] = i.coords;\n          return this._writePoint(e, s, r, t);\n        }\n      case \"esriGeometryPolyline\":\n        this._writeLines(e, t);\n    }\n  }\n  _writePoint(e, t, i, s) {\n    const r = this._getShaping();\n    if (!r) return;\n    let o = this._getPointReferenceBounds();\n    o || (o = {\n      offsetX: 0,\n      offsetY: 0,\n      size: 0\n    });\n    const n = r.boundsT,\n      a = g(this.evaluatedMeshParams.horizontalAlignment),\n      l = p(this.evaluatedMeshParams.verticalAlignment),\n      h = this.evaluatedMeshParams.scaleInfo?.maxScale ?? 0,\n      c = this.evaluatedMeshParams.scaleInfo?.minScale ?? 0,\n      m = _(s.getDisplayId());\n    e.metricStart(new y(m, t, i, a, l, h, c, o)), e.metricBoxWrite(n), this._writeGlyphs(e, s.getDisplayId(), t, i, r, 0, o), e.metricEnd();\n  }\n  _getPointReferenceBounds() {\n    if (!this._references) return null;\n    for (const e of this._references) {\n      const t = e.getBoundsInfo();\n      if (t) return t;\n    }\n    return null;\n  }\n  _writeLines(e, t) {\n    const {\n        scaleInfo: i,\n        verticalAlignment: s\n      } = this.evaluatedMeshParams,\n      r = this.evaluatedMeshParams.repeatLabelDistance || 128,\n      o = this._getShaping(\"middle\");\n    if (!o) return;\n    const n = (e, t, i, s) => this._placeSubdivGlyphs(e, t, i, s),\n      a = (o.bounds.width + r) / (1 << L);\n    this._current = {\n      out: e,\n      id: t.getDisplayId(),\n      shaping: o,\n      zoomRange: P(i, this.getTileInfo()),\n      referenceBounds: this._getPointReferenceBounds() || {\n        offsetX: 0,\n        offsetY: 0,\n        size: 0\n      },\n      offsetDirection: null\n    }, this._verticalPlacement = \"bottom\" === s ? \"above\" : \"top\" === s ? \"below\" : null, this._verticalPlacement ? this._writeAboveAndBelowAlong(t, n, a) : this._writeCenterAlong(t, n, a);\n  }\n  _writeAboveAndBelowAlong(e, i, s) {\n    const {\n        repeatLabel: r,\n        fontSize: o\n      } = this.evaluatedMeshParams,\n      {\n        shaping: n\n      } = this._current,\n      a = t(o),\n      l = e.readGeometryForDisplay();\n    if (!l) return;\n    const h = new f();\n    d(h, l, !1, !1, \"esriGeometryPolyline\", 1);\n    const c = D(new f(), h, a),\n      m = D(new f(), h, -a),\n      g = u(m, \"esriGeometryPolyline\", !1, !1),\n      p = u(c, \"esriGeometryPolyline\", !1, !1),\n      _ = v(p.paths, n.bounds.width),\n      x = v(g.paths, n.bounds.width);\n    this._current.offsetDirection = \"above\";\n    for (const t of _) M(t, s, i, !!r);\n    this._current.offsetDirection = \"below\";\n    for (const t of x) M(t, s, i, !!r);\n  }\n  _writeCenterAlong(e, t, i) {\n    const {\n        repeatLabel: s\n      } = this.evaluatedMeshParams,\n      {\n        shaping: r\n      } = this._current,\n      o = v(e.readLegacyGeometryForDisplay().paths, r.bounds.width);\n    for (const n of o) M(n, i, t, !!s);\n  }\n  _placeSubdivGlyphs(e, t, i, s) {\n    const {\n        allowOverrun: r,\n        labelPosition: o,\n        repeatLabelDistance: n\n      } = this.evaluatedMeshParams,\n      a = this._current.zoomRange[0],\n      l = A(t),\n      h = this._current.shaping.bounds.width / (1 << L),\n      c = Math.sqrt(n || I) / (1 << L),\n      m = Math.min(i, s - i),\n      d = this._current.shaping.isMultiline ? B : Math.log2(m / (c + h / 2)),\n      u = 0 === t ? d : Math.min(l, d),\n      f = Math.max(a, this._zoomLevel + L - u),\n      g = this._zoomLevel - f,\n      p = this._current.shaping.bounds.width / 2 * 2 ** g;\n    this._current.shaping.isMultiline ? 0 === t && this._placeStraight(e, f) : r && g < 0 ? this._placeStraightAlong(e, a) : \"parallel\" === o ? this._placeStraightAlong(e, f) : \"curved\" === o && this._placeCurved(e, f, p);\n  }\n  _placeStraight(e, t) {\n    const {\n        out: i,\n        id: s,\n        shaping: r,\n        referenceBounds: o\n      } = this._current,\n      {\n        x: n,\n        y: a\n      } = e,\n      l = _(s),\n      h = this.evaluatedMeshParams.scaleInfo?.maxScale ?? 0,\n      c = this.evaluatedMeshParams.scaleInfo?.minScale ?? 0;\n    i.metricStart(new y(l, e.x, e.y, 0, 0, h, c, null)), i.metricBoxWrite(r.boundsT);\n    const m = e.angle * (180 / Math.PI) % 360,\n      d = (e.angle * (180 / Math.PI) + 180) % 360;\n    this._writeGlyphs(i, s, n, a, r, 0, o, {\n      clipAngle: m,\n      mapAligned: !0,\n      isLineLabel: !0,\n      minZoom: t\n    }), this._writeGlyphs(i, s, n, a, r, 0, o, {\n      clipAngle: d,\n      mapAligned: !0,\n      isLineLabel: !0,\n      minZoom: t\n    }), i.metricEnd();\n  }\n  _placeCurved(e, t, i) {\n    const {\n        out: s,\n        id: r\n      } = this._current,\n      o = e.clone(),\n      n = e.angle * (180 / Math.PI) % 360,\n      a = (e.angle * (180 / Math.PI) + 180) % 360,\n      l = _(r),\n      h = this.evaluatedMeshParams.scaleInfo?.maxScale ?? 0,\n      c = this.evaluatedMeshParams.scaleInfo?.minScale ?? 0;\n    s.metricStart(new y(l, e.x, e.y, 0, 0, h, c, null)), this._verticalPlacement && this._verticalPlacement !== this._current.offsetDirection || (this._placeFirst(o, t, 1, n), this._placeBack(e, o, t, i, 1, n), this._placeForward(e, o, t, i, 1, n)), this._verticalPlacement && this._verticalPlacement === this._current.offsetDirection || (this._placeFirst(o, t, 0, a), this._placeBack(e, o, t, i, 0, a), this._placeForward(e, o, t, i, 0, a)), s.metricEnd();\n  }\n  _placeStraightAlong(e, o) {\n    const {\n        out: n,\n        id: a,\n        shaping: l,\n        zoomRange: h,\n        referenceBounds: m\n      } = this._current,\n      {\n        boxBorderLineColor: d,\n        boxBackgroundColor: u\n      } = this.evaluatedMeshParams,\n      f = e.clone(),\n      g = e.angle * (180 / Math.PI) % 360,\n      p = (e.angle * (180 / Math.PI) + 180) % 360;\n    if (l.glyphs.length > 0 && !(!d && !u)) {\n      const d = Math.max(o, h[0], 0),\n        u = Math.min(B, h[1]),\n        f = i(r(), -e.angle),\n        _ = {\n          minZoom: d,\n          maxZoom: u,\n          clipAngle: g,\n          mapAligned: !0,\n          isLineLabel: !0\n        },\n        x = t(this.evaluatedMeshParams.offsetX),\n        y = t(this.evaluatedMeshParams.offsetY);\n      if (!this._verticalPlacement || this._verticalPlacement === this._current.offsetDirection) {\n        const t = c(x, -1 * y),\n          [i, o] = l.shapeBackground(s(r(), f, t));\n        n.recordStart(this.instanceId, this.attributeLayout, l.glyphs[0].textureBinding);\n        const h = 2 * Math.max(i.width, i.height);\n        n.recordBounds(e.x + i.x, e.y + i.y, h, h), this._writeTextBox(n, a, e.x, e.y, o, m, _), n.recordEnd();\n      }\n      if (!this._verticalPlacement || this._verticalPlacement !== this._current.offsetDirection) {\n        const t = c(x, y),\n          [i, o] = l.shapeBackground(s(r(), f, t));\n        _.clipAngle = p, n.recordStart(this.instanceId, this.attributeLayout, l.glyphs[0].textureBinding);\n        const h = 2 * Math.max(i.width, i.height);\n        n.recordBounds(e.x + i.x, e.y + i.y, h, h), this._writeTextBox(n, a, e.x, e.y, o, m, _), n.recordEnd();\n      }\n    }\n    const x = _(a),\n      v = this.evaluatedMeshParams.scaleInfo?.maxScale ?? 0,\n      M = this.evaluatedMeshParams.scaleInfo?.minScale ?? 0;\n    n.metricStart(new y(x, e.x, e.y, 0, 0, v, M, null)), this._verticalPlacement && this._verticalPlacement !== this._current.offsetDirection || this._placeFirst(f, o, 1, g, !0), this._verticalPlacement && this._verticalPlacement === this._current.offsetDirection || this._placeFirst(f, o, 0, p, !0), n.metricEnd();\n  }\n  _placeBack(e, t, i, s, r, o) {\n    const n = e.clone();\n    let a = e.backwardLength + S;\n    for (; n.prev() && !(a >= s);) this._placeOnSegment(n, t, a, i, -1, r, o), a += n.length + S;\n  }\n  _placeForward(e, t, i, s, r, o) {\n    const n = e.clone();\n    let a = e.remainingLength + S;\n    for (; n.next() && !(a >= s);) this._placeOnSegment(n, t, a, i, 1, r, o), a += n.length + S;\n  }\n  _placeFirst(e, t, i, s, r = !1) {\n    const {\n        out: o,\n        id: n,\n        shaping: a,\n        zoomRange: l,\n        referenceBounds: h\n      } = this._current,\n      c = a.glyphs;\n    for (const m of c) {\n      const c = m.x > a.bounds.x ? i : 1 - i,\n        d = c * e.remainingLength + (1 - c) * e.backwardLength,\n        u = Math.abs(m.x + m.width / 2 - a.bounds.x),\n        f = Math.max(0, this._zoomLevel + Math.log2(u / (d + S))),\n        g = Math.max(t, r ? 0 : f);\n      m.maxZoom = Math.min(l[1], B), m.angle = e.angle + (1 - i) * Math.PI, m.minZoom = Math.max(l[0], g), this._writeLineGlyph(o, n, e.x, e.y, a.bounds, m, s, h, !0), i && this._isVisible(m.minZoom, m.maxZoom) && o.metricBoxWrite(m.bounds);\n    }\n  }\n  _placeOnSegment(e, t, i, s, r, o, n) {\n    const {\n        out: a,\n        id: l,\n        shaping: h,\n        referenceBounds: c\n      } = this._current,\n      m = h.glyphs,\n      d = e.dx / e.length,\n      u = e.dy / e.length,\n      f = {\n        x: e.x + i * -r * d,\n        y: e.y + i * -r * u\n      };\n    for (const g of m) {\n      const m = g.x > h.bounds.x ? o : 1 - o;\n      if (!(m && 1 === r || !m && -1 === r)) continue;\n      const d = Math.abs(g.x + g.width / 2 - h.bounds.x),\n        u = Math.max(0, this._zoomLevel + Math.log2(d / i) - .1),\n        p = Math.max(s, this._zoomLevel + Math.log2(d / (i + e.length + S)));\n      if (0 !== u && (g.angle = e.angle + (1 - o) * Math.PI, g.minZoom = p, g.maxZoom = u, this._writeLineGlyph(a, l, f.x, f.y, h.bounds, g, n, c, !0), o && this._isVisible(g.minZoom, g.maxZoom))) {\n        const i = g.bounds,\n          s = e.x - t.x,\n          r = e.y - t.y,\n          o = new x(i.center[0] + s, i.center[1] + r, i.width, i.height);\n        a.metricBoxWrite(o);\n      }\n    }\n  }\n  _writeLineGlyph(e, t, i, s, r, o, n, a, l) {\n    const h = i + r.x,\n      c = s + r.y,\n      m = 2 * (this.evaluatedMeshParams.minPixelBuffer ? this.evaluatedMeshParams.minPixelBuffer / this._textMeshTransformProps.fontSize : 1),\n      d = Math.max(r.width, r.height) * m;\n    e.recordStart(this.instanceId, this.attributeLayout, o.textureBinding), e.recordBounds(h, c, d, d);\n    const {\n        texcoords: u,\n        offsets: f\n      } = o,\n      g = this._textMeshTransformProps.fontSize;\n    this._writeQuad(e, t, i, s, {\n      texcoords: u,\n      offsets: f,\n      fontSize: g,\n      color: b(this.evaluatedMeshParams.color),\n      isBackground: !1,\n      referenceBounds: a,\n      minZoom: Math.max(this._current.zoomRange[0], o.minZoom),\n      maxZoom: Math.min(this._current.zoomRange[1], o.maxZoom),\n      clipAngle: n,\n      mapAligned: l,\n      isLineLabel: !0\n    }), e.recordEnd();\n  }\n  _isVisible(e, t) {\n    const i = this._zoomLevel;\n    return e <= i && i <= t;\n  }\n}\nfunction D(e, t, i) {\n  const {\n      coords: s,\n      lengths: r\n    } = t,\n    c = m(),\n    d = m(),\n    u = m(),\n    f = m(),\n    g = m(),\n    p = m(),\n    _ = 2;\n  let x = 0;\n  for (let m = 0; m < r.length; m++) {\n    const t = r[m];\n    for (let r = 0; r < t; r++) {\n      const m = _ * (r + x - 1),\n        y = _ * (r + x),\n        v = _ * (r + x + 1);\n      r > 0 ? o(c, s[m], s[m + 1]) : o(c, 0, 0), o(d, s[y], s[y + 1]), r < t - 1 ? o(u, s[v], s[v + 1]) : o(u, 0, 0), 0 === r ? o(f, 0, 0) : (n(f, d, c), a(f, f), o(f, f[1], -f[0])), r === t - 1 ? o(g, 0, 0) : (n(g, u, d), a(g, g), o(g, g[1], -g[0])), l(p, f, g), a(p, p);\n      const M = p[0] * g[0] + p[1] * g[1];\n      0 !== M && h(p, p, M), h(p, p, i), e.coords.push(d[0] + p[0], d[1] + p[1]);\n    }\n    e.lengths.push(t), x += t;\n  }\n  return e;\n}\nexport { z as LabelMeshWriter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { AComputedField as e } from \"./AComputedField.js\";\nclass r extends e {\n  constructor(e) {\n    super(), this._value = e;\n  }\n  resize(e) {}\n  read(e, r) {\n    return this._value;\n  }\n  readWithDefault(e, r, t) {\n    return this._value;\n  }\n  referencesScale() {\n    return !1;\n  }\n  referencesGeometry() {\n    return !1;\n  }\n}\nexport { r as DictionaryValue };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../../../../../../core/arrayUtils.js\";\nimport r from \"../../../../../../../core/Error.js\";\nimport { clone as t } from \"../../../../../../../core/lang.js\";\nimport s from \"../../../../../../../core/Logger.js\";\nimport { getStartGroup as a } from \"../../../grouping.js\";\nimport { applyComputedValue as o } from \"./utils.js\";\nimport { DictionaryValue as i } from \"../../../../../layers/features/support/DictionaryValue.js\";\nconst n = () => s.getLogger(\"esri.views.2d.engine.webgl.shaderGraph.techniques.mesh.MeshWriterInputEvaluator\");\nasync function c(e, r, t = !1) {\n  const {\n    defaultValue: s,\n    valueExpressionInfo: a,\n    value: o\n  } = r;\n  if (a) {\n    const {\n        expression: o\n      } = a,\n      i = await e.createComputedField({\n        expression: o\n      }, t);\n    return i ? {\n      ...r,\n      computed: i,\n      defaultValue: s\n    } : null;\n  }\n  return {\n    ...r,\n    computed: new i(o),\n    defaultValue: s\n  };\n}\nasync function m(e, r) {\n  const {\n      defaultValue: t,\n      valueExpressionInfo: s\n    } = r,\n    {\n      expression: a\n    } = s,\n    o = await e.createComputedField({\n      expression: a\n    });\n  return o ? {\n    ...r,\n    computed: o,\n    defaultValue: t\n  } : null;\n}\nconst p = e => \"boolean\" != typeof e && \"number\" != typeof e && \"valueExpressionInfo\" in e,\n  f = e => e.some(e => {\n    for (const r in e) {\n      const t = e[r];\n      if (p(t)) return !0;\n    }\n    return !1;\n  });\nclass l {\n  static async create(r, t, s) {\n    const a = {},\n      o = new Map(),\n      i = new Map(),\n      n = new Map(),\n      u = new Map(),\n      d = new Map();\n    for (const l in s) {\n      const h = s[l];\n      if (null != h && \"object\" == typeof h) {\n        if (Array.isArray(h)) {\n          if (\"object\" == typeof h[0]) throw new Error(`InternalError: Cannot handle ${l}. Nested array params are not supported`);\n          a[l] = h;\n        } else if (\"valueExpressionInfo\" in h) {\n          if (h.value) {\n            a[l] = h.value;\n            continue;\n          }\n          const e = await m(r, h);\n          if (!e) {\n            a[l] = h.defaultValue;\n            continue;\n          }\n          o.set(l, e), a[l] = null;\n        } else switch (h.type) {\n          case \"cim-effect-infos\":\n            if (h.effectInfos.some(e => e.overrides.length)) {\n              i.set(l, {\n                effects: await Promise.all(h.effectInfos.map(async t => {\n                  const s = t.overrides.map(e => c(r, e));\n                  return {\n                    effect: t.effect,\n                    compiledOverrides: (await Promise.all(s)).filter(e)\n                  };\n                }))\n              });\n              break;\n            }\n            a[l] = h.effectInfos.map(e => e.effect);\n            break;\n          case \"cim-marker-placement-param\":\n            h.overrides.length && n.set(l, {\n              placementInfo: h,\n              compiledOverrides: (await Promise.all(h.overrides.map(e => c(r, e)))).filter(e)\n            }), a[l] = h.placement;\n            break;\n          case \"text-rasterization-param\":\n            {\n              if (h.overrides.length) {\n                const t = h.overrides.map(e => c(r, e, h.useLegacyLabelEvaluationRules));\n                u.set(l, {\n                  compiledOverrides: (await Promise.all(t)).filter(e),\n                  rasterizationParam: h,\n                  objectIdToResourceId: new Map()\n                });\n                continue;\n              }\n              const s = {\n                type: \"cim-rasterization-info\",\n                resource: h.resource\n              };\n              a[l] = (await t.fetchResourceImmediate(s)) ?? null;\n              break;\n            }\n          case \"sprite-rasterization-param\":\n            {\n              if (h.overrides.length) {\n                const t = h.overrides.map(e => c(r, e));\n                u.set(l, {\n                  compiledOverrides: (await Promise.all(t)).filter(e),\n                  rasterizationParam: h,\n                  objectIdToResourceId: new Map()\n                });\n                continue;\n              }\n              if (\"animated\" === h.resource.type) {\n                u.set(l, {\n                  compiledOverrides: [],\n                  rasterizationParam: h,\n                  objectIdToResourceId: new Map()\n                });\n                continue;\n              }\n              const s = {\n                type: \"cim-rasterization-info\",\n                resource: h.resource\n              };\n              a[l] = (await t.fetchResourceImmediate(s)) ?? null;\n              break;\n            }\n          case \"cim-marker-transform-param\":\n            {\n              const {\n                params: e\n              } = h;\n              if (f(e)) {\n                const t = {\n                  compiledMarkerInfos: []\n                };\n                await Promise.all(e.map(async e => {\n                  const s = {\n                    props: {}\n                  };\n                  for (const t in e) if (p(e[t])) {\n                    const a = await m(r, e[t]);\n                    s.compiledExpressionMap || (s.compiledExpressionMap = new Map());\n                    const o = s.compiledExpressionMap;\n                    a && o.set(t, a);\n                  } else s.props[t] = e[t];\n                  t.compiledMarkerInfos.push(s);\n                })), d.set(l, t);\n              } else a[l] = {\n                type: \"cim-marker-transform-info\",\n                infos: e\n              };\n              break;\n            }\n          default:\n            a[l] = h;\n        }\n      } else a[l] = h;\n    }\n    return new l(s, a, o, i, n, u, d);\n  }\n  constructor(e, r, t, s, a, o, i) {\n    this.inputMeshParams = e, this._resolvedMeshParams = r, this._dynamicProperties = t, this._dynamicEffectProperties = s, this._dynamicPlacementProperties = a, this._dynamicAsyncProperties = o, this._dynamicTransformProperties = i, this.evaluator = e => e;\n  }\n  get hasDynamicProperties() {\n    return !!(this._dynamicProperties.size || this._dynamicAsyncProperties.size || this._dynamicEffectProperties.size || this._dynamicTransformProperties.size || this._dynamicPlacementProperties.size);\n  }\n  get evaluatedMeshParams() {\n    return this._evaluatedMeshParams || (this._evaluatedMeshParams = this.evaluator(this._resolvedMeshParams)), this._evaluatedMeshParams;\n  }\n  enqueueRequest(e, s, i) {\n    for (const m of this._dynamicAsyncProperties.values()) {\n      const p = t(m.rasterizationParam.resource);\n      \"animated\" === m.rasterizationParam.resource.type && m.rasterizationParam.resource.randomizeStartTime && (p.primitiveName = \"__RESERVED__PRIMITIVE__NAME__\", p.startGroup = a(s.getObjectId() || 0));\n      for (const {\n        primitiveName: e,\n        propertyName: t,\n        computed: a,\n        defaultValue: l,\n        valueExpressionInfo: u\n      } of m.compiledOverrides) try {\n        const r = \"animated\" === m.rasterizationParam.resource.type ? p.primitiveName : e;\n        o(p, r, t, a, s, i, l);\n      } catch (c) {\n        n().errorOnce(new r(\"invalid-arcade-expression\", `Encountered an error when evaluating the arcade expression '${u?.expression}' (primitive: '${e}', property: '${t}')`, c));\n      }\n      const f = e.enqueueRequest({\n        type: \"cim-rasterization-info\",\n        resource: p\n      });\n      m.objectIdToResourceId.set(s.getObjectId(), f);\n    }\n  }\n  evaluateMeshParams(e, r, t) {\n    for (const [s, a] of this._dynamicProperties.entries()) this._resolvedMeshParams[s] = a.computed.readWithDefault(r, t, a.defaultValue);\n    for (const [s, a] of this._dynamicPlacementProperties.entries()) for (const {\n      computed: e,\n      defaultValue: o,\n      propertyName: i\n    } of a.compiledOverrides) {\n      const n = e.readWithDefault(r, t, o);\n      a.placementInfo.placement[i] = n, this._resolvedMeshParams[s] = a.placementInfo.placement;\n    }\n    for (const [s, a] of this._dynamicEffectProperties.entries()) for (const e of a.effects) {\n      for (const {\n        computed: s,\n        defaultValue: a,\n        propertyName: o\n      } of e.compiledOverrides) {\n        const i = s.readWithDefault(r, t, a);\n        e.effect[o] = i;\n      }\n      this._resolvedMeshParams[s] = a.effects.map(e => e.effect);\n    }\n    for (const [s, a] of this._dynamicTransformProperties.entries()) {\n      const e = {\n        type: \"cim-marker-transform-info\",\n        infos: []\n      };\n      for (const s of a.compiledMarkerInfos) {\n        const a = {\n          ...s.props\n        };\n        if (s.compiledExpressionMap) for (const [e, o] of s.compiledExpressionMap) {\n          const s = o.computed.readWithDefault(r, t, o.defaultValue);\n          a[e] = \"number\" == typeof s || \"boolean\" == typeof s ? s : o.defaultValue;\n        }\n        e.infos.push(a);\n      }\n      this._resolvedMeshParams[s] = e;\n    }\n    for (const [s, a] of this._dynamicAsyncProperties.entries()) {\n      const t = a.objectIdToResourceId.get(r.getObjectId());\n      if (null == t) continue;\n      const o = e.getResource(t);\n      this._resolvedMeshParams[s] = o;\n    }\n    return this._evaluatedMeshParams = this.evaluator(this._resolvedMeshParams), this.evaluatedMeshParams;\n  }\n}\nexport { l as MeshWriterInputEvaluator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { TechniqueType as e } from \"../TechniqueType.js\";\nimport { DotDensityMeshWriter as r } from \"../dotDensity/DotDensityMeshWriter.js\";\nimport { ComplexFillMeshWriter as t } from \"../fill/ComplexFillMeshWriter.js\";\nimport { ComplexOutlineFillMeshWriter as i } from \"../fill/ComplexOutlineFillMeshWriter.js\";\nimport { FillMeshWriter as s } from \"../fill/FillMeshWriter.js\";\nimport { OutlineFillMeshWriter as l } from \"../fill/OutlineFillMeshWriter.js\";\nimport { PatternFillMeshWriter as a } from \"../fill/PatternFillMeshWriter.js\";\nimport { PatternOutlineFillMeshWriter as n } from \"../fill/PatternOutlineFillMeshWriter.js\";\nimport { HeatmapMeshWriter as o } from \"../heatmap/HeatmapMeshWriter.js\";\nimport { LabelMeshWriter as m } from \"../labels/LabelMeshWriter.js\";\nimport { LineMeshWriter as p } from \"../line/LineMeshWriter.js\";\nimport { TexturedLineMeshWriter as u } from \"../line/TexturedLineMeshWriter.js\";\nimport { MarkerMeshWriter as h } from \"../markers/MarkerMeshWriter.js\";\nimport { MeshWriterInputEvaluator as c } from \"./MeshWriterInputEvaluator.js\";\nimport { PieChartMeshWriter as f } from \"../pieChart/PieChartMeshWriter.js\";\nimport { TextMeshWriter as M } from \"../text/TextMeshWriter.js\";\nclass W {\n  async createMeshWriter(e, r, t, i) {\n    const s = this._getMeshWriter(i.techniqueType),\n      l = await c.create(e, r, i.inputParams),\n      a = new s(i.id, l, i.optionalAttributes, t);\n    return await a.loadDependencies(), a;\n  }\n  _getMeshWriter(c) {\n    switch (c) {\n      case e.Fill:\n        return s;\n      case e.DotDensity:\n        return r;\n      case e.ComplexFill:\n        return t;\n      case e.PatternFill:\n        return a;\n      case e.OutlineFill:\n        return l;\n      case e.PatternOutlineFill:\n        return n;\n      case e.ComplexOutlineFill:\n        return i;\n      case e.Marker:\n        return h;\n      case e.PieChart:\n        return f;\n      case e.Text:\n        return M;\n      case e.Line:\n        return p;\n      case e.TexturedLine:\n        return u;\n      case e.Heatmap:\n        return o;\n      case e.Label:\n        return m;\n      case e.Test:\n        throw new Error(\"Internal Error: Found invalid mesh writer\");\n    }\n  }\n}\nexport { W as MeshWriterRegistry };"],
  "mappings": "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",
  "names": ["e", "t", "n", "s", "i", "r", "h", "a", "c", "u", "d", "o", "_", "l", "t", "e", "n", "s", "g", "i", "r", "h", "a", "c", "u", "d", "o", "_", "f", "S", "e", "t", "i", "s", "r", "o", "n", "a", "l", "h", "c", "m", "g", "p", "_", "d", "u", "f", "x", "v", "M", "r", "s", "e", "t", "n", "c", "e", "r", "t", "s", "a", "o", "i", "m", "f", "l", "u", "d", "h", "p", "e", "r", "t", "i", "s", "l", "a", "c", "o", "h", "v", "m"]
}
