{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingSourceInfo.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/snappingFactory.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js", "../../../../../../node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../core/Accessor.js\";\nimport e from \"../../../core/Collection.js\";\nimport { property as t } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nlet i = class extends r {\n  constructor(o) {\n    super(o), this.layer = null, this.enabled = !0, this.updating = !1, this.availability = 1, this.sublayerSources = new e();\n  }\n};\no([t({\n  constructOnly: !0\n})], i.prototype, \"layer\", void 0), o([t()], i.prototype, \"enabled\", void 0), o([t()], i.prototype, \"updating\", void 0), o([t()], i.prototype, \"availability\", void 0), o([t()], i.prototype, \"sublayerSources\", void 0), i = o([s(\"esri.views.interactive.snapping.FeatureSnappingLayerSource\")], i);\nconst p = i;\nexport { p as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { difference as r } from \"../../../core/arrayUtils.js\";\nimport o from \"../../../core/Collection.js\";\nimport s from \"../../../core/Logger.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"./FeatureSnappingLayerSource.js\";\nimport { defaults as l } from \"./Settings.js\";\nlet u = class extends t {\n  constructor(e) {\n    super(e), this.enabled = !1, this.enabledToggled = !1, this.forceDisabled = !1, this.selfEnabled = !0, this.featureEnabled = !0, this.attributeRulesEnabled = !1, this.featureSources = new o(), this.distance = l.distance, this.touchSensitivityMultiplier = l.touchSensitivityMultiplier;\n  }\n  get effectiveEnabled() {\n    return !this.forceDisabled && (this.enabledToggled ? !this.enabled : this.enabled);\n  }\n  get effectiveSelfEnabled() {\n    return this.effectiveEnabled && this.selfEnabled;\n  }\n  get effectiveFeatureEnabled() {\n    return this.effectiveEnabled && this.featureEnabled;\n  }\n  get _effectiveFeatureSources() {\n    const e = this.featureSources;\n    e.some(p) && s.getLogger(this).warnOnce(\"Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.\");\n    const t = e.filter(d),\n      i = this._get(\"_effectiveFeatureSources\")?.filter(p) ?? new o();\n    for (const r of t) {\n      const e = i.find(e => e.layer === r.layer.parent);\n      if (e) e.sublayerSources.includes(r) || e.sublayerSources.add(r);else if (r.layer.parent) {\n        const e = new n({\n          layer: r.layer.parent\n        });\n        e.sublayerSources.add(r), i.add(e);\n      }\n    }\n    for (const r of i) {\n      const e = r.sublayerSources.filter(e => !t.includes(e));\n      r.sublayerSources.removeMany(e);\n    }\n    i.removeMany(i.filter(e => 0 === e.sublayerSources.length));\n    const a = e.filter(f),\n      l = this._get(\"_effectiveFeatureSources\") ?? new o(),\n      {\n        added: u,\n        removed: c\n      } = r(l.toArray(), [...a, ...i]);\n    return l.removeMany(c), l.addMany(u), l;\n  }\n};\ne([i()], u.prototype, \"enabled\", void 0), e([i()], u.prototype, \"enabledToggled\", void 0), e([i()], u.prototype, \"forceDisabled\", void 0), e([i()], u.prototype, \"selfEnabled\", void 0), e([i()], u.prototype, \"featureEnabled\", void 0), e([i()], u.prototype, \"attributeRulesEnabled\", void 0), e([i({\n  type: o.ofType(n)\n})], u.prototype, \"featureSources\", void 0), e([i()], u.prototype, \"distance\", void 0), e([i()], u.prototype, \"touchSensitivityMultiplier\", void 0), e([i({\n  readOnly: !0\n})], u.prototype, \"effectiveEnabled\", null), e([i({\n  readOnly: !0\n})], u.prototype, \"effectiveSelfEnabled\", null), e([i({\n  readOnly: !0\n})], u.prototype, \"effectiveFeatureEnabled\", null), e([i({\n  readOnly: !0\n})], u.prototype, \"_effectiveFeatureSources\", null), u = e([a(\"esri.views.interactive.snapping.SnappingOptions\")], u);\nconst c = u;\nfunction p(e) {\n  return \"subtype-group\" === e.layer.type;\n}\nfunction f(e) {\n  return \"subtype-group\" !== e.layer.type;\n}\nfunction d(e) {\n  return \"subtype-sublayer\" === e.layer.type;\n}\nexport { c as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport r from \"../../../core/Logger.js\";\nimport { watch as i, syncAndInitial as l } from \"../../../core/reactiveUtils.js\";\nimport { sqlAnd as s } from \"../../../core/sql.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../../../layers/support/FeatureFilter.js\";\nimport { getFloorFilterClause as u } from \"../../../layers/support/floorFilterUtils.js\";\nimport { isSubtypeGroupLayer as p, isFeatureLayer as d } from \"../../../layers/support/layerUtils.js\";\nimport { isUtilityNetworkWebMap as c } from \"./snappingUtils.js\";\nimport { scaleBoundsPredicate as y } from \"../../support/layerViewUtils.js\";\nlet f = class extends t {\n  set attributeRulesEnabled(e) {\n    this._set(\"attributeRulesEnabled\", e), e && this.loadRules();\n  }\n  get layerView() {\n    return this.view?.allLayerViews?.find(e => e.layer === this.layer);\n  }\n  get valid() {\n    const {\n      _valid: e,\n      snappingSource: t,\n      layer: r\n    } = this;\n    return !(!t || !r) && e;\n  }\n  get subtypeFilter() {\n    const {\n      layer: e,\n      snappingSource: t\n    } = this;\n    if (!p(e) || !e.subtypes?.length || !t) return {\n      mode: \"not-in-use\",\n      filter: null\n    };\n    const r = t.layerSource.sublayerSources.filter(e => e.enabled && e.layer.visible && y(this.view?.scale, e.layer.effectiveScaleRange.minScale, e.layer.effectiveScaleRange.maxScale)).map(e => e.layer.subtypeCode);\n    if (!r.length) return {\n      mode: \"none-visible\",\n      filter: null\n    };\n    if (r.length === e.subtypes.length) return {\n      mode: \"all-visible\",\n      filter: null\n    };\n    const i = e.fieldsIndex.get(e.subtypeField)?.name ?? e.subtypeField;\n    return 1 === r.length ? {\n      mode: \"in-use\",\n      filter: `${i} = ${r.getItemAt(0)}`\n    } : {\n      mode: \"in-use\",\n      filter: `${i} IN (${r.join(\", \")})`\n    };\n  }\n  get floorFilter() {\n    const {\n      view: e,\n      layer: t\n    } = this;\n    return e && t ? u({\n      view: e,\n      layer: t\n    }) : null;\n  }\n  constructor(e) {\n    super(e), this.layer = null, this.snappingSource = null, this.rulesTable = null, this._valid = null;\n  }\n  initialize() {\n    if (!this.snappingSource || !this.layer) return void (this._valid = !1);\n    const {\n      layer: e,\n      snappingSource: t\n    } = this;\n    if (\"refresh\" in e) {\n      const r = e;\n      this.addHandles(r.on(\"refresh\", () => t.refresh()));\n    }\n    this.loadRules(), this.addHandles([i(() => t.updating, e => t.layerSource.updating = e, l), i(() => t.availability, e => t.layerSource.availability = e, l)]);\n  }\n  getFetchCandidatesParameters(e, t, r) {\n    if (!this.valid) return [];\n    const {\n        layer: i,\n        layerView: l,\n        floorFilter: o,\n        rulesTable: a,\n        subtypeFilter: u\n      } = this,\n      y = {\n        distance: r,\n        mode: this.view?.type ?? \"2d\",\n        point: e,\n        coordinateHelper: t.coordinateHelper,\n        ...h(),\n        filter: l && \"filter\" in l ? l.filter : null\n      };\n    if (o && (y.filter = m(y.filter, o)), \"not-in-use\" !== u.mode && \"all-visible\" !== u.mode) {\n      if (\"none-visible\" === u.mode) return [];\n      y.filter ? y.filter.where = s(y.filter.where, u.mode) : y.filter = new n({\n        where: u.filter\n      });\n    }\n    if (!this.attributeRulesEnabled) return [y];\n    const f = t.feature,\n      v = \"subtype-sublayer\" === f?.sourceLayer?.type ? f.sourceLayer.parent : f?.sourceLayer;\n    if (a && f && c(this.view?.map) && (d(i) || p(i)) && i.layerId && (d(v) || p(v)) && this.view.map.utilityNetworks?.find(e => e.isUtilityLayer(v))) {\n      if (\"loaded\" !== a.loadStatus) return [];\n      const e = [],\n        t = i.layerId,\n        r = a.getFeatureSQL(v, f)?.[t];\n      if (!r) return [];\n      const l = r.anyVertex;\n      let s = r.endVertex;\n      return s && l && s === l && (s = \"\"), s && e.push({\n        ...y,\n        returnEdge: !1,\n        vertexMode: \"ends\",\n        filter: m(y.filter, s)\n      }), l && e.push({\n        ...y,\n        returnEdge: !1,\n        vertexMode: \"all\",\n        filter: m(y.filter, l)\n      }), e;\n    }\n    return [y];\n  }\n  async loadRules() {\n    this._valid = null;\n    const {\n      layer: e,\n      view: t,\n      attributeRulesEnabled: i\n    } = this;\n    if (i && e && t && c(t?.map) && (d(e) || p(e))) try {\n      await Promise.allSettled(t.map.utilityNetworks?.map(e => e.load()) ?? []);\n      const r = t.map.utilityNetworks?.find(t => t.isUtilityLayer(e));\n      r && (this.rulesTable = await r.getRulesTable(), await this.rulesTable?.load());\n    } catch (l) {\n      return this._valid = !1, void r.getLogger(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\").error(\"Failed to load rules table for snapping source\", e.title);\n    }\n    this._valid = !0;\n  }\n  remove() {\n    this.destroy();\n  }\n  destroy() {\n    this.snappingSource?.destroy();\n  }\n};\nfunction h() {\n  return {\n    returnEdge: !0,\n    vertexMode: \"all\"\n  };\n}\nfunction m(e, t) {\n  return null == e ? new n({\n    where: t\n  }) : e.where ? new n({\n    where: s(e.where, t)\n  }) : new n({\n    where: t\n  });\n}\ne([o({\n  constructOnly: !0\n})], f.prototype, \"layer\", void 0), e([o({\n  constructOnly: !0\n})], f.prototype, \"snappingSource\", void 0), e([o({\n  constructOnly: !0\n})], f.prototype, \"view\", void 0), e([o({\n  value: !1\n})], f.prototype, \"attributeRulesEnabled\", null), e([o()], f.prototype, \"layerView\", null), e([o()], f.prototype, \"rulesTable\", void 0), e([o()], f.prototype, \"valid\", null), e([o()], f.prototype, \"subtypeFilter\", null), e([o()], f.prototype, \"floorFilter\", null), e([o()], f.prototype, \"_valid\", void 0), f = e([a(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\")], f);\nexport { f as FeatureSnappingSourceInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { SnappingDomain as t } from \"../SnappingDomain.js\";\nimport { LineSegmentHintType as e } from \"../snappingUtils.js\";\nimport { SnappingCandidate as i } from \"./SnappingCandidate.js\";\nimport { LineSnappingHint as r } from \"../hints/LineSnappingHint.js\";\nimport { RightAngleSnappingHint as s } from \"../hints/RightAngleSnappingHint.js\";\nclass n extends i {\n  constructor({\n    targetPoint: e,\n    constraint: i,\n    previousVertex: r,\n    otherVertex: s,\n    otherVertexType: n,\n    isDraped: o,\n    selfSnappingType: h,\n    objectId: a,\n    domain: x\n  }) {\n    super(e, i, o, x ?? t.SELF), this.previousVertex = r, this.otherVertex = s, this.otherVertexType = n, this.selfSnappingType = h ?? p.None, this.objectId = a ?? null;\n  }\n  get hints() {\n    const t = this.previousVertex,\n      i = this.otherVertexType === o.CENTER ? this.otherVertex : this.targetPoint,\n      n = this.otherVertexType === o.CENTER ? this.targetPoint : this.otherVertex;\n    return [new r(e.TARGET, i, n, this.isDraped, this.domain), new r(e.REFERENCE, t, i, this.isDraped, this.domain), new s(this.previousVertex, i, n, this.isDraped, this.domain)];\n  }\n}\nvar o, p;\n!function (t) {\n  t[t.NEXT = 0] = \"NEXT\", t[t.CENTER = 1] = \"CENTER\";\n}(o || (o = {})), function (t) {\n  t[t.None = 0] = \"None\", t[t.LastVertex = 1] = \"LastVertex\", t[t.FirstVertex = 2] = \"FirstVertex\", t[t.ExistingEdge = 3] = \"ExistingEdge\";\n}(p || (p = {}));\nexport { o as OtherVertexType, n as RightAngleSnappingCandidate, p as SelfSnappingRightAngleType };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { isSome as r } from \"../../../core/arrayUtils.js\";\nimport { destroyHandle as a } from \"../../../core/handleUtils.js\";\nimport \"../../../core/has.js\";\nimport { allSettledValues as n, throwIfAborted as s } from \"../../../core/promiseUtils.js\";\nimport { mapCollectionAsync as i, watch as o, sync as c } from \"../../../core/reactiveUtils.js\";\nimport { getMetersPerUnitForSR as u, getMetersPerVerticalUnitForSR as l } from \"../../../core/unitUtils.js\";\nimport { property as p } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as d } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { squaredDistance as m } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { a as g, c as h } from \"../../../chunks/vec32.js\";\nimport { create as S } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getEpsilon as f } from \"../../../core/libs/gl-matrix-2/math/common.js\";\nimport { UpdatingHandles as y } from \"../../../core/support/UpdatingHandles.js\";\nimport { absoluteHeightElevationInfo as _ } from \"../../../support/elevationInfoUtils.js\";\nimport { VerticalHalfPlaneConstraint as v } from \"../sketch/constraints.js\";\nimport { fromAnyMapPoint as w, asVec2 as j, markAsTarget as F } from \"../sketch/normalizedPoint.js\";\nimport { FeatureSnappingSourceInfo as b } from \"./FeatureSnappingSourceInfo.js\";\nimport { SnappingDomain as x } from \"./SnappingDomain.js\";\nimport { sortCandidatesInPlace as C, screenDistance as R } from \"./snappingUtils.js\";\nimport { DrapedEdgeSnappingCandidate as E } from \"./candidates/DrapedEdgeSnappingCandidate.js\";\nimport { EdgeSnappingCandidate as M } from \"./candidates/EdgeSnappingCandidate.js\";\nimport { FeatureSnappingCandidate as L } from \"./candidates/FeatureSnappingCandidate.js\";\nimport { RightAngleSnappingCandidate as I, OtherVertexType as G } from \"./candidates/RightAngleSnappingCandidate.js\";\nimport { vectorToScreenPoint as H } from \"../support/viewUtils.js\";\nlet P = class extends t {\n  get updating() {\n    return this._snappingSources.some(e => null == e?.valid || !0 === e.valid && !0 === e.snappingSource?.updating) || this._updatingHandles.updating;\n  }\n  constructor(e) {\n    super(e), this.options = null, this._domain = x.FEATURE, this._updatingHandles = new y(), this._sourceModules = {\n      featureService: {\n        module: null,\n        loader: null\n      },\n      featureCollection: {\n        module: null,\n        loader: null\n      },\n      graphics: {\n        module: null,\n        loader: null\n      },\n      notes: {\n        module: null,\n        loader: null\n      },\n      scene: {\n        module: null,\n        loader: null\n      }\n    };\n  }\n  initialize() {\n    const e = i(() => this.options?._effectiveFeatureSources, (e, t) => this._createSourceInfo(e, t));\n    this._snappingSources = e, this.addHandles([a(e), o(() => ({\n      rulesEnabled: !!this.options?.attributeRulesEnabled,\n      sources: this._snappingSources.filter(r)\n    }), ({\n      rulesEnabled: e,\n      sources: t\n    }) => {\n      for (const r of t) r.attributeRulesEnabled = e;\n    }, c)]);\n  }\n  destroy() {\n    this._set(\"options\", null), this._updatingHandles.destroy();\n  }\n  async fetchCandidates(e, t, r, a) {\n    if (!(t & this._domain && null != this.options && this.options.effectiveFeatureEnabled)) return [];\n    const i = [],\n      o = this._computeScreenSizeDistanceParameters(e, r);\n    for (const n of this._snappingSources) {\n      if (!n?.valid || !n.snappingSource?.layerSource?.enabled || n.layerView?.suspended) continue;\n      const t = n.getFetchCandidatesParameters(e, r, o);\n      for (const e of t) i.push(n.snappingSource.fetchCandidates(e, a).then(e => e.filter(e => !this._candidateIsExcluded(n.snappingSource, e, r.excludeFeature))));\n    }\n    const c = (await n(i)).flat();\n    return this._addRightAngleCandidates(c, e, o, r), s(a), C(e, c), c;\n  }\n  _addRightAngleCandidates(e, t, r, a) {\n    const n = null != a.vertexHandle ? a.vertexHandle.rightEdge?.rightVertex?.pos : null != a.editGeometryOperations && \"polygon\" === a.editGeometryOperations.data.type ? a.editGeometryOperations.data.components[0]?.getFirstVertex()?.pos : null,\n      s = null != a.vertexHandle ? a.vertexHandle.leftEdge?.leftVertex?.pos : null != a.editGeometryOperations ? a.editGeometryOperations.data.components[0]?.getLastVertex()?.pos : null,\n      {\n        view: i\n      } = this,\n      o = w(n, i, a),\n      c = w(s, i, a),\n      u = e.length;\n    for (let l = 0; l < u; l++) this._addRightAngleCandidate(e[l], c, t, r, e), this._addRightAngleCandidate(e[l], o, t, r, e);\n  }\n  _addRightAngleCandidate(e, t, r, a, n) {\n    if (null == t || !A(e)) return;\n    const s = e.constraint.closestTo(t),\n      i = (s[0] - r[0]) / a.x,\n      o = (s[1] - r[1]) / a.y,\n      {\n        start: c,\n        end: u\n      } = e.constraint;\n    if (i * i + o * o <= 1) {\n      const r = m(j(s), j(c)) > m(j(s), j(u)) ? c : u,\n        a = new I({\n          targetPoint: F(s),\n          otherVertex: t,\n          otherVertexType: G.NEXT,\n          previousVertex: r,\n          constraint: new v(t, s),\n          objectId: e.objectId,\n          isDraped: e.isDraped,\n          domain: x.FEATURE\n        });\n      n.push(a);\n    }\n  }\n  _computeScreenSizeDistanceParameters(e, t) {\n    let r = null != this.options ? this.options.distance * (\"touch\" === t.pointer ? this.options.touchSensitivityMultiplier : 1) : 0;\n    return null == this.view ? {\n      x: r,\n      y: r,\n      z: r,\n      distance: r\n    } : \"2d\" === this.view.type ? (r *= this.view.resolution, {\n      x: r,\n      y: r,\n      z: r,\n      distance: r\n    }) : this._computeScreenSizeDistanceParameters3D(e, r, this.view, t);\n  }\n  _computeScreenSizeDistanceParameters3D(e, t, r, a) {\n    const {\n      spatialReference: n\n    } = a;\n    r.renderCoordsHelper.toRenderCoords(e, n, D);\n    const s = r.state.camera.computeScreenPixelSizeAt(D),\n      i = s * r.renderCoordsHelper.unitInMeters,\n      o = i / u(n),\n      c = i / l(n),\n      p = t * o,\n      d = t * c,\n      m = H(e, n, _, r),\n      g = m ? z(m, e, o, 0, 0, r, a) : 0,\n      h = m ? z(m, e, 0, o, 0, r, a) : 0,\n      S = m ? z(m, e, 0, 0, c, r, a) : 0;\n    return {\n      x: 0 === g ? 0 : p / g,\n      y: 0 === h ? 0 : p / h,\n      z: 0 === S ? 0 : d / S,\n      distance: s * t\n    };\n  }\n  _candidateIsExcluded(e, t, r) {\n    if (null == r) return !1;\n    const a = this._getCandidateObjectId(t);\n    if (null == a) return !1;\n    const n = e.layerSource.layer;\n    return \"graphics\" === n.type ? r.uid === a : r.sourceLayer === n && !(!r.attributes || !(\"objectIdField\" in n)) && r.attributes[n.objectIdField] === a;\n  }\n  _getCandidateObjectId(e) {\n    return e instanceof L ? e.objectId : null;\n  }\n  async _createSourceInfo(e, t) {\n    const r = e.layer;\n    r.loaded || (await r.load(), s(t));\n    const {\n        view: a\n      } = this,\n      n = await this._createFeatureSnappingSourceType(e);\n    return s(t), new b(null == n ? {} : {\n      snappingSource: n,\n      view: a,\n      layer: r\n    });\n  }\n  async _createFeatureSnappingSourceType(e) {\n    switch (e.layer.type) {\n      case \"feature\":\n      case \"geojson\":\n      case \"csv\":\n      case \"oriented-imagery\":\n      case \"subtype-group\":\n      case \"wfs\":\n        return this._createFeatureSnappingSourceFeatureLayer(e);\n      case \"graphics\":\n        return this._createFeatureSnappingSourceGraphicsLayer(e);\n      case \"map-notes\":\n        return this._createFeatureSnappingSourceMapNotesLayer(e);\n      case \"scene\":\n      case \"building-scene\":\n        return this._createFeatureSnappingSourceSceneLayer(e);\n    }\n    return null;\n  }\n  async _createFeatureSnappingSourceSceneLayer(e) {\n    const {\n      view: t\n    } = this;\n    if (null == t || \"3d\" !== t.type) return null;\n    return new (await this._getSourceModule(\"scene\")).SceneLayerSnappingSource({\n      layerSource: e,\n      view: t\n    });\n  }\n  async _createFeatureSnappingSourceFeatureLayer(e) {\n    switch (e.layer.source?.type) {\n      case \"feature-layer\":\n      case \"oriented-imagery\":\n        return new (await this._getSourceModule(\"featureService\")).FeatureServiceSnappingSource({\n          spatialReference: this.spatialReference,\n          view: this.view,\n          layerSource: e\n        });\n      case \"memory\":\n      case \"csv\":\n      case \"geojson\":\n      case \"wfs\":\n        if (\"mesh\" === e.layer.geometryType) return null;\n        return new (await this._getSourceModule(\"featureCollection\")).FeatureCollectionSnappingSource({\n          layerSource: e,\n          view: this.view\n        });\n    }\n    return null;\n  }\n  async _createFeatureSnappingSourceGraphicsLayer(e) {\n    return new (await this._getSourceModule(\"graphics\")).GraphicsSnappingSource({\n      getGraphicsLayers: () => [e.layer],\n      spatialReference: this.spatialReference,\n      view: this.view,\n      layerSource: e\n    });\n  }\n  async _createFeatureSnappingSourceMapNotesLayer(e) {\n    return new (await this._getSourceModule(\"notes\")).GraphicsSnappingSource({\n      getGraphicsLayers: () => e.layer.sublayers?.toArray() ?? [],\n      spatialReference: this.spatialReference,\n      view: this.view,\n      layerSource: e\n    });\n  }\n  async _getSourceModule(e) {\n    const t = this._sourceModules[e];\n    if (null == t.loader) {\n      const t = this._loadSourceModule(e),\n        r = {\n          module: null,\n          loader: t\n        };\n      this._sourceModules[e] = r;\n      const a = await t,\n        n = {\n          module: a,\n          loader: t\n        };\n      return this._sourceModules[e] = n, a;\n    }\n    return null == t.module ? t.loader : t.module;\n  }\n  _loadSourceModule(e) {\n    const t = this._updatingHandles;\n    switch (e) {\n      case \"featureService\":\n        return t.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));\n      case \"featureCollection\":\n        return t.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));\n      case \"graphics\":\n      case \"notes\":\n        return t.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));\n      case \"scene\":\n        return t.addPromise(import(\"./featureSources/SceneLayerSnappingSource.js\"));\n    }\n  }\n  get test() {}\n};\nfunction A(e) {\n  return (e instanceof M || e instanceof E) && !U(e);\n}\nfunction U({\n  constraint: {\n    start: e,\n    end: t\n  }\n}) {\n  const r = g(e, t),\n    a = m(j(e), j(t));\n  return r < f() || a / r < T;\n}\nfunction z(e, t, r, a, n, s, {\n  spatialReference: i\n}) {\n  const o = h(O, t);\n  o[0] += r, o[1] += a, o[2] += n;\n  const c = H(o, i, _, s);\n  return c ? R(c, e) : 1 / 0;\n}\ne([p({\n  constructOnly: !0\n})], P.prototype, \"spatialReference\", void 0), e([p({\n  constructOnly: !0\n})], P.prototype, \"view\", void 0), e([p()], P.prototype, \"options\", void 0), e([p({\n  readOnly: !0\n})], P.prototype, \"updating\", null), e([p()], P.prototype, \"_snappingSources\", void 0), P = e([d(\"esri.views.interactive.snapping.FeatureSnappingEngine\")], P);\nconst D = S(),\n  O = S(),\n  T = 1e-4;\nexport { P as FeatureSnappingEngine };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { getMetersPerUnitForSR as e } from \"../../../core/unitUtils.js\";\nimport { distance as t } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { absoluteHeightElevationInfo as r } from \"../../../support/elevationInfoUtils.js\";\nimport { fromAnyMapPoint as s, asVec2 as i } from \"../sketch/normalizedPoint.js\";\nimport { defaults as o } from \"./Settings.js\";\nimport { squaredScreenDistance as h } from \"./snappingUtils.js\";\nimport { vectorToScreenPoint as n } from \"../support/viewUtils.js\";\nclass l {\n  constructor(e, t) {\n    this.view = e, this.options = t, this.squaredShortLineThreshold = o.shortLineThreshold * o.shortLineThreshold;\n  }\n  snap(e, t) {\n    return null != t.vertexHandle ? \"vertex\" !== t.vertexHandle.type ? [] : this.snapExistingVertex(e, t) : this.snapNewVertex(e, t);\n  }\n  edgeExceedsShortLineThreshold(e, t) {\n    return this.exceedsShortLineThreshold(s(e.leftVertex.pos, this.view, t), s(e.rightVertex.pos, this.view, t), t);\n  }\n  exceedsShortLineThreshold(e, t, {\n    spatialReference: s\n  }) {\n    return 0 === this.squaredShortLineThreshold || h(n(t, s, r, this.view), n(e, s, r, this.view)) > this.squaredShortLineThreshold;\n  }\n  isVertical(r, s, {\n    spatialReference: h\n  }) {\n    const n = e(h);\n    return t(i(r), i(s)) * n < o.verticalLineThresholdMeters;\n  }\n  squaredProximityThreshold(e) {\n    return \"touch\" === e ? this._squaredTouchProximityThreshold : this._squaredMouseProximityThreshold;\n  }\n  get _squaredMouseProximityThreshold() {\n    return this.options.distance * this.options.distance;\n  }\n  get _squaredTouchProximityThreshold() {\n    const {\n        distance: e,\n        touchSensitivityMultiplier: t\n      } = this.options,\n      r = e * t;\n    return r * r;\n  }\n}\nexport { l as SnappingAlgorithm };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { VerticalPlaneConstraint as t } from \"../../sketch/constraints.js\";\nimport { SnappingDomain as n } from \"../SnappingDomain.js\";\nimport { LineSegmentHintType as i } from \"../snappingUtils.js\";\nimport { SnappingCandidate as e } from \"./SnappingCandidate.js\";\nimport { LineSnappingHint as s } from \"../hints/LineSnappingHint.js\";\nclass r extends e {\n  constructor({\n    lineStart: e,\n    lineEnd: r,\n    targetPoint: o,\n    isDraped: a\n  }) {\n    super(o, new t(e, r), a, n.SELF), this._referenceLineHint = new s(i.REFERENCE_EXTENSION, e, r, a, this.domain);\n  }\n  get hints() {\n    return [this._referenceLineHint, new s(i.TARGET, this._lineEndClosestToTarget(), this.targetPoint, this.isDraped, this.domain)];\n  }\n  _lineEndClosestToTarget() {\n    return this.constraint.closestEndTo(this.targetPoint);\n  }\n}\nexport { r as LineSnappingCandidate };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { cyclicalPI as e, cyclical2PI as t } from \"../../../core/Cyclical.js\";\nimport { valueInUnit as r, createAngle as s } from \"../../../core/quantityUtils.js\";\nimport { create as o } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { absoluteHeightElevationInfo as i } from \"../../../support/elevationInfoUtils.js\";\nimport { fromAnyMapPoint as n, markAsTarget as a, fromVec3 as p } from \"../sketch/normalizedPoint.js\";\nimport { SnappingAlgorithm as d } from \"./SnappingAlgorithm.js\";\nimport { editEdgeToSnappingEdge as l, squaredScreenDistance as h } from \"./snappingUtils.js\";\nimport { LineSnappingCandidate as c } from \"./candidates/LineSnappingCandidate.js\";\nimport { vectorToScreenPoint as f } from \"../support/viewUtils.js\";\nimport { radiansGeographicBetweenVec as g, pointFromDistanceAlongAzimuth as m } from \"../../support/angularMeasurementUtils.js\";\nimport { geodesicDistance as u } from \"../../support/geodesicLengthMeasurementUtils.js\";\nimport { projectPointToLineLike as x } from \"../../support/geometry3dUtils.js\";\nimport { LineType as j } from \"../../support/geometry2dUtils.js\";\nclass E extends d {\n  snapNewVertex(e, t) {\n    const r = t.editGeometryOperations.data.components[0],\n      s = r.edges.length,\n      o = [];\n    if (s < 1) return o;\n    const {\n        spatialReference: n\n      } = t,\n      a = f(e, n, i, this.view),\n      {\n        view: p\n      } = this,\n      d = r.edges[s - 1];\n    let h = d;\n    do {\n      if (this.edgeExceedsShortLineThreshold(h, t)) {\n        const r = l(h, p, t);\n        this._processCandidateProposal(r.left, r.right, e, a, t, o);\n      }\n      h = h.leftVertex.leftEdge;\n    } while (h && h !== d);\n    return o;\n  }\n  snapExistingVertex(e, t) {\n    const r = [],\n      s = t.vertexHandle,\n      o = s.component;\n    if (o.edges.length < 2) return r;\n    const {\n        view: a\n      } = this,\n      {\n        spatialReference: p\n      } = t,\n      d = f(e, p, i, a),\n      h = s.leftEdge,\n      c = s.rightEdge;\n    h && c && this.edgeExceedsShortLineThreshold(h, t) && this.edgeExceedsShortLineThreshold(c, t) && this._processCandidateProposal(n(h.leftVertex.pos, a, t), n(c.rightVertex.pos, a, t), e, d, t, r);\n    const g = o.edges[0];\n    let m = g;\n    do {\n      if (m !== s.leftEdge && m !== s.rightEdge && this.edgeExceedsShortLineThreshold(m, t)) {\n        const s = l(m, a, t);\n        this._processCandidateProposal(s.left, s.right, e, d, t, r);\n      }\n      m = m.rightVertex.rightEdge;\n    } while (m && m !== g);\n    return r;\n  }\n  _processCandidateProposal(e, t, r, s, n, d) {\n    const {\n        spatialReference: l,\n        pointer: g\n      } = n,\n      m = o();\n    v(m, e, t, r, n);\n    const u = a(p(m));\n    h(s, f(u, l, i, this.view)) < this.squaredProximityThreshold(g) && d.push(new c({\n      lineStart: e,\n      lineEnd: t,\n      targetPoint: u,\n      isDraped: \"on-the-ground\" === n.elevationInfo?.mode\n    }));\n  }\n}\nfunction v(e, t, r, s, o) {\n  w(e, t, r, s, o) || P(e, s, t, r);\n}\nfunction w(o, i, n, a, {\n  spatialReference: p\n}) {\n  const d = g(i, n, p, p);\n  if (null == d) return !1;\n  const l = g(n, a, p, p);\n  if (null == l) return !1;\n  const h = u(n, a, p);\n  if (null == h) return !1;\n  const c = Math.abs(e.shortestSignedDiff(d, l)) > Math.PI / 2 ? t.normalize(d + Math.PI) : d;\n  return m(o, n, p, r(h, \"meters\"), s(c, \"radians\", \"geographic\"), \"geodesic\"), o[2] = a[2], !0;\n}\nfunction P(e, t, r, s) {\n  x(t, {\n    start: r,\n    end: s,\n    type: j.LINE\n  }, e), e[2] = t[2];\n}\nexport { E as LineSnapper };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { f as e, g as t, e as i } from \"../../../../chunks/vec32.js\";\nimport { clone as r } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { VerticalPlaneConstraint as s } from \"../../sketch/constraints.js\";\nimport { fromVec3 as n } from \"../../sketch/normalizedPoint.js\";\nimport { SnappingDomain as a } from \"../SnappingDomain.js\";\nimport { LineSegmentHintType as f } from \"../snappingUtils.js\";\nimport { SnappingCandidate as o } from \"./SnappingCandidate.js\";\nimport { LineSnappingHint as d } from \"../hints/LineSnappingHint.js\";\nimport { ParallelSnappingHint as h } from \"../hints/ParallelSnappingHint.js\";\nclass g extends o {\n  constructor({\n    referenceLine: i,\n    lineStart: f,\n    targetPoint: o,\n    isDraped: d\n  }) {\n    const h = r(f),\n      {\n        left: g,\n        right: p\n      } = i;\n    e(h, t(h, h, p), g), super(o, new s(f, n(h)), d, a.SELF), this._referenceLines = [{\n      edge: i,\n      fadeLeft: !0,\n      fadeRight: !0\n    }];\n  }\n  get hints() {\n    return [new d(f.TARGET, this.constraint.start, this.targetPoint, this.isDraped, this.domain), new h(this.constraint.start, this.targetPoint, this.isDraped, this.domain), ...this._referenceLines.map(e => new d(f.REFERENCE, e.edge.left, e.edge.right, this.isDraped, this.domain, e.fadeLeft, e.fadeRight))];\n  }\n  addReferenceLine(e) {\n    const t = {\n      edge: e,\n      fadeLeft: !0,\n      fadeRight: !0\n    };\n    this._referenceLines.forEach(r => {\n      i(e.right, r.edge.left) && (r.fadeLeft = !1, t.fadeRight = !1), i(e.right, r.edge.right) && (r.fadeRight = !1, t.fadeRight = !1), i(e.left, r.edge.right) && (r.fadeRight = !1, t.fadeLeft = !1), i(e.left, r.edge.left) && (r.fadeLeft = !1, t.fadeLeft = !1);\n    }), this._referenceLines.push(t);\n  }\n}\nexport { g as ParallelLineSnappingCandidate };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { squaredDistance as e } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as t } from \"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { absoluteHeightElevationInfo as r } from \"../../../support/elevationInfoUtils.js\";\nimport { fromAnyMapPoint as i, asVec2 as s, markAsTarget as o, fromValues as n } from \"../sketch/normalizedPoint.js\";\nimport { defaults as l } from \"./Settings.js\";\nimport { SnappingAlgorithm as a } from \"./SnappingAlgorithm.js\";\nimport { editEdgeToSnappingEdge as c, squaredScreenDistance as h } from \"./snappingUtils.js\";\nimport { ParallelLineSnappingCandidate as d } from \"./candidates/ParallelLineSnappingCandidate.js\";\nimport { vectorToScreenPoint as p } from \"../support/viewUtils.js\";\nimport { projectPointToLine as g } from \"../../support/geometry2dUtils.js\";\nclass f extends a {\n  snapNewVertex(e, t) {\n    const s = t.editGeometryOperations.data.components[0],\n      o = s.edges.length,\n      n = s.vertices.length,\n      l = [];\n    if (o < 2) return l;\n    const {\n        view: a\n      } = this,\n      h = p(e, t.spatialReference, r, a),\n      d = i(s.vertices[n - 1].pos, a, t),\n      g = i(s.vertices[0].pos, a, t),\n      f = s.edges[o - 1];\n    let m = f;\n    do {\n      if (this.edgeExceedsShortLineThreshold(m, t)) {\n        const r = c(m, a, t);\n        this._checkEdgeForParallelLines(r, d, e, h, t, l), this._checkEdgeForParallelLines(r, g, e, h, t, l);\n      }\n      m = m.leftVertex.leftEdge;\n    } while (m && m !== f);\n    return l;\n  }\n  snapExistingVertex(e, t) {\n    const s = [],\n      o = t.vertexHandle,\n      n = o.component;\n    if (n.edges.length < 3) return s;\n    const {\n        view: l\n      } = this,\n      a = p(e, t.spatialReference, r, l),\n      h = o.leftEdge,\n      d = o.rightEdge,\n      g = n.vertices[0],\n      f = i(g.pos, l, t),\n      m = n.vertices.length,\n      u = n.vertices[m - 1],\n      v = i(u.pos, l, t),\n      x = n.edges[0];\n    let E = x;\n    do {\n      if (E !== h && E !== d && this.edgeExceedsShortLineThreshold(E, t)) {\n        const r = c(E, l, t);\n        h && this._checkEdgeForParallelLines(r, i(h.leftVertex.pos, l, t), e, a, t, s), d && this._checkEdgeForParallelLines(r, i(d.rightVertex.pos, l, t), e, a, t, s), o === g ? this._checkEdgeForParallelLines(r, v, e, a, t, s) : o === u && this._checkEdgeForParallelLines(r, f, e, a, t, s);\n      }\n      E = E.rightVertex.rightEdge;\n    } while (E && E !== x);\n    return s;\n  }\n  _checkEdgeForParallelLines(t, i, a, c, f, v) {\n    const x = t.left,\n      E = t.right;\n    if (g(u, s(i), s(x), s(E)), e(u, s(i)) < l.parallelLineThreshold) return;\n    g(u, s(a), s(x), s(E), s(i));\n    const {\n        spatialReference: L,\n        pointer: P\n      } = f,\n      j = o(n(u[0], u[1], a[2]));\n    if (h(c, p(j, L, r, this.view)) < this.squaredProximityThreshold(P)) {\n      if (this.isVertical(j, i, f) || this.isVertical(x, E, f)) return;\n      if (m(t, v)) return;\n      v.push(new d({\n        referenceLine: t,\n        lineStart: i,\n        targetPoint: j,\n        isDraped: \"on-the-ground\" === f.elevationInfo?.mode\n      }));\n    }\n  }\n}\nfunction m(t, r) {\n  const i = t.left,\n    o = t.right;\n  for (const n of r) if (g(u, s(o), s(n.constraint.start), s(n.constraint.end), s(i)), e(u, s(o)) < l.parallelLineThreshold) return n.addReferenceLine(t), !0;\n  return !1;\n}\nconst u = t();\nexport { f as ParallelLineSnapper };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { cyclical2PI as e } from \"../../../core/Cyclical.js\";\nimport { createAngle as t, valueInUnit as r } from \"../../../core/quantityUtils.js\";\nimport { subtract as i, dot as s, squaredLength as n, scaleAndAdd as o } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as a } from \"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { r as c, f as p, s as g } from \"../../../chunks/vec32.js\";\nimport { create as h } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { absoluteHeightElevationInfo as l } from \"../../../support/elevationInfoUtils.js\";\nimport { VerticalHalfPlaneConstraint as f } from \"../sketch/constraints.js\";\nimport { fromAnyMapPoint as d, asVec2 as m, markAsTarget as u, fromValues as x, fromVec3 as V } from \"../sketch/normalizedPoint.js\";\nimport { SnappingAlgorithm as E } from \"./SnappingAlgorithm.js\";\nimport { squaredScreenDistance as j } from \"./snappingUtils.js\";\nimport { SelfSnappingRightAngleType as v, RightAngleSnappingCandidate as S, OtherVertexType as k } from \"./candidates/RightAngleSnappingCandidate.js\";\nimport { vectorToScreenPoint as C } from \"../support/viewUtils.js\";\nimport { radiansGeographicBetweenVec as w, pointFromDistanceAlongAzimuth as y } from \"../../support/angularMeasurementUtils.js\";\nimport { geodesicDistance as F } from \"../../support/geodesicLengthMeasurementUtils.js\";\nclass R extends E {\n  snapNewVertex(e, t) {\n    const r = t.editGeometryOperations.data.components[0],\n      i = [];\n    if (r.vertices.length < 2) return i;\n    const {\n        view: s\n      } = this,\n      n = C(e, t.spatialReference, l, s),\n      o = r.vertices.at(-1);\n    this._checkForSnappingCandidate(v.LastVertex, i, o.leftEdge, o, o.leftEdge.leftVertex, e, n, t);\n    const a = r.vertices[0];\n    return this._checkForSnappingCandidate(v.FirstVertex, i, a.rightEdge, a, a.rightEdge.rightVertex, e, n, t), i;\n  }\n  snapExistingVertex(e, t) {\n    const r = [],\n      i = t.vertexHandle;\n    if (i.component.vertices.length < 3) return r;\n    const {\n        view: s\n      } = this,\n      n = C(e, t.spatialReference, l, s),\n      o = i.leftEdge,\n      a = i.rightEdge;\n    if (o?.leftVertex.leftEdge) {\n      const i = o.leftVertex.leftEdge;\n      this._checkForSnappingCandidate(v.ExistingEdge, r, i, i.rightVertex, i.leftVertex, e, n, t);\n    }\n    if (a?.rightVertex.rightEdge) {\n      const i = a.rightVertex.rightEdge;\n      this._checkForSnappingCandidate(v.ExistingEdge, r, i, i.leftVertex, i.rightVertex, e, n, t);\n    }\n    return r;\n  }\n  _checkForSnappingCandidate(e, t, r, i, s, n, o, a) {\n    if (!this.edgeExceedsShortLineThreshold(r, a)) return;\n    const c = this.view,\n      p = d(i.pos, c, a),\n      g = d(s.pos, c, a);\n    _(T, g, p, n, a), this._checkForSnappingCandidateAlongProjectedRay(e, t, g, p, T, n, o, a);\n  }\n  _checkForSnappingCandidateAlongProjectedRay(e, t, r, a, p, g, d, E) {\n    const {\n        spatialReference: v,\n        pointer: w\n      } = E,\n      y = i(M, m(g), m(a)),\n      F = s(p, y) / n(p),\n      R = o(M, m(a), p, F),\n      _ = u(x(R[0], R[1], g[2]));\n    if (j(d, C(_, v, l, this.view)) > this.squaredProximityThreshold(w) || this.isVertical(_, a, E) || this.isVertical(a, r, E)) return;\n    const P = c(h(), a, p, Math.sign(F));\n    t.push(new S({\n      targetPoint: _,\n      constraint: new f(a, V(P)),\n      previousVertex: r,\n      otherVertex: a,\n      otherVertexType: k.CENTER,\n      selfSnappingType: e,\n      isDraped: \"on-the-ground\" === E.elevationInfo?.mode\n    }));\n  }\n}\nfunction _(e, t, r, i, s) {\n  P(e, t, r, i, s) || U(e, t, r);\n}\nfunction P(i, s, n, o, {\n  spatialReference: a\n}) {\n  const c = w(s, n, a, a);\n  if (null == c) return !1;\n  const g = w(n, o, a, a);\n  if (null == g) return !1;\n  const l = Math.sign(e.shortestSignedDiff(c, g)) * Math.PI * .5,\n    f = t(c + l, \"radians\", \"geographic\"),\n    d = h(),\n    m = F(n, o, a);\n  return null != m && (y(d, n, a, r(m, \"meters\"), f, \"geodesic\"), p(i, d, n), !0);\n}\nfunction U(e, t, r) {\n  const s = i(M, m(r), m(t));\n  g(e, s[1], -s[0], 0);\n}\nconst M = a(),\n  T = h();\nexport { R as RightAngleSnapper };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { distance as t } from \"../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { o as i } from \"../../../../chunks/vec32.js\";\nimport { create as s } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { VerticalCylinderConstraint as r } from \"../../sketch/constraints.js\";\nimport { fromVec3 as n, asVec2 as o } from \"../../sketch/normalizedPoint.js\";\nimport { SnappingDomain as p } from \"../SnappingDomain.js\";\nimport { LineSegmentHintType as e } from \"../snappingUtils.js\";\nimport { SnappingCandidate as m } from \"./SnappingCandidate.js\";\nimport { LineSnappingHint as a } from \"../hints/LineSnappingHint.js\";\nimport { RightAngleSnappingHint as h } from \"../hints/RightAngleSnappingHint.js\";\nclass g extends m {\n  constructor({\n    targetPoint: e,\n    point1: m,\n    point2: a,\n    isDraped: h\n  }) {\n    super(e, new r(n(i(s(), m, a, .5)), .5 * t(o(m), o(a))), h, p.SELF), this._p1 = m, this._p2 = a;\n  }\n  get hints() {\n    return [new a(e.REFERENCE, this.targetPoint, this._p1, this.isDraped, this.domain), new a(e.REFERENCE, this.targetPoint, this._p2, this.isDraped, this.domain), new h(this._p1, this.targetPoint, this._p2, this.isDraped, this.domain)];\n  }\n}\nexport { g as RightAngleTriangleSnappingCandidate };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { lerp as e, distance as t } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as i } from \"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { absoluteHeightElevationInfo as r } from \"../../../support/elevationInfoUtils.js\";\nimport { fromAnyMapPoint as o, asVec2 as s, markAsTarget as n, fromValues as p } from \"../sketch/normalizedPoint.js\";\nimport { SnappingAlgorithm as a } from \"./SnappingAlgorithm.js\";\nimport { squaredScreenDistance as d } from \"./snappingUtils.js\";\nimport { RightAngleTriangleSnappingCandidate as l } from \"./candidates/RightAngleTriangleSnappingCandidate.js\";\nimport { vectorToScreenPoint as m } from \"../support/viewUtils.js\";\nimport { projectPointToCircle as c } from \"../../support/geometry2dUtils.js\";\nclass h extends a {\n  snapNewVertex(e, t) {\n    const i = t.editGeometryOperations.data.components[0],\n      r = [],\n      s = i.vertices.length;\n    if (\"polygon\" !== t.editGeometryOperations.data.type || s < 2) return r;\n    const {\n        view: n\n      } = this,\n      p = i.vertices[0],\n      a = i.vertices[s - 1],\n      d = o(p.pos, n, t),\n      l = o(a.pos, n, t);\n    return this._processCandidateProposal(d, l, e, t, r), r;\n  }\n  snapExistingVertex(e, t) {\n    const i = [],\n      r = t.vertexHandle,\n      s = r.component;\n    if (s.edges.length < 2) return i;\n    if (\"polyline\" === t.editGeometryOperations.data.type && (0 === r.index || r.index === s.vertices.length - 1)) return i;\n    const {\n        view: n\n      } = this,\n      p = o(r.leftEdge.leftVertex.pos, n, t),\n      a = o(r.rightEdge.rightVertex.pos, n, t);\n    return this._processCandidateProposal(p, a, e, t, i), i;\n  }\n  _processCandidateProposal(i, o, a, h, g) {\n    if (!this.exceedsShortLineThreshold(i, o, h)) return;\n    const v = e(f, s(i), s(o), .5),\n      x = .5 * t(s(i), s(o)),\n      u = c(f, s(a), v, x),\n      j = n(p(u[0], u[1], a[2])),\n      {\n        spatialReference: y,\n        pointer: w\n      } = h,\n      P = m(a, y, r, this.view);\n    if (d(P, m(j, y, r, this.view)) < this.squaredProximityThreshold(w)) {\n      if (this.isVertical(i, j, h) || this.isVertical(j, o, h)) return;\n      g.push(new l({\n        targetPoint: j,\n        point1: i,\n        point2: o,\n        isDraped: \"on-the-ground\" === h.elevationInfo?.mode\n      }));\n    }\n  }\n}\nconst f = i();\nexport { h as RightAngleTriangleSnapper };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport s from \"../../../core/Accessor.js\";\nimport t from \"../../../core/Collection.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { LineSnapper as e } from \"./LineSnapper.js\";\nimport { ParallelLineSnapper as p } from \"./ParallelLineSnapper.js\";\nimport { RightAngleSnapper as n } from \"./RightAngleSnapper.js\";\nimport { RightAngleTriangleSnapper as a } from \"./RightAngleTriangleSnapper.js\";\nimport { SnappingDomain as c } from \"./SnappingDomain.js\";\nimport { sortCandidatesInPlace as m } from \"./snappingUtils.js\";\nlet h = class extends s {\n  constructor(o) {\n    super(o), this.updating = !1, this._snappers = new t(), this._domain = c.SELF;\n  }\n  initialize() {\n    this._snappers.push(new p(this.view, this.options), new e(this.view, this.options), new n(this.view, this.options), new a(this.view, this.options));\n  }\n  set options(o) {\n    this._set(\"options\", o);\n    for (const s of this._snappers) s.options = o;\n  }\n  async fetchCandidates(o, s, t) {\n    if (!(s & this._domain && this.options.effectiveSelfEnabled)) return [];\n    const i = [];\n    for (const r of this._snappers.items) for (const s of r.snap(o, t)) i.push(s);\n    return m(o, i), i;\n  }\n};\no([i({\n  readOnly: !0\n})], h.prototype, \"updating\", void 0), o([i({\n  constructOnly: !0\n})], h.prototype, \"view\", void 0), o([i()], h.prototype, \"options\", null), h = o([r(\"esri.views.interactive.snapping.SelfSnappingEngine\")], h);\nexport { h as SelfSnappingEngine };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { FeatureSnappingEngine as e } from \"./FeatureSnappingEngine.js\";\nimport { SelfSnappingEngine as n } from \"./SelfSnappingEngine.js\";\nfunction i(i, p) {\n  return [new n({\n    view: i,\n    options: p\n  }), new e({\n    view: i,\n    options: p,\n    spatialReference: i.spatialReference\n  })];\n}\nexport { i as defaultSnappingEnginesFactory };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { PointConstraint as t } from \"../../sketch/constraints.js\";\nimport { SnappingDomain as i } from \"../SnappingDomain.js\";\nimport { SnappingCandidate as s } from \"./SnappingCandidate.js\";\nimport { IntersectionSnappingHint as n } from \"../hints/IntersectionSnappingHint.js\";\nclass r extends s {\n  constructor(s, n, r, o) {\n    super(s, new t(s), o, i.ALL), this.first = n, this.second = r;\n  }\n  get hints() {\n    return this.first.targetPoint = this.targetPoint, this.second.targetPoint = this.targetPoint, [...this.first.hints, ...this.second.hints, new n(this.targetPoint, this.isDraped, this.domain)];\n  }\n}\nexport { r as IntersectionSnappingCandidate };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport e from \"../../../core/Accessor.js\";\nimport n from \"../../../core/Evented.js\";\nimport \"../../../core/has.js\";\nimport { isAborted as i } from \"../../../core/promiseUtils.js\";\nimport { watch as s, sync as r, syncAndInitial as a } from \"../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as p } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { project as c, initializeProjection as d } from \"../../../geometry/projection.js\";\nimport { absoluteHeightElevationInfo as h } from \"../../../support/elevationInfoUtils.js\";\nimport { fromPoint as l, markAsTarget as u, toElevationAlignedDehydratedPoint as f } from \"../sketch/normalizedPoint.js\";\nimport { defaults as g } from \"./Settings.js\";\nimport { SnappingDomain as _ } from \"./SnappingDomain.js\";\nimport { defaultSnappingEnginesFactory as m } from \"./snappingFactory.js\";\nimport S from \"./SnappingOptions.js\";\nimport { sortCandidatesInPlace as v, squaredScreenDistance as y } from \"./snappingUtils.js\";\nimport { DrapedEdgeSnappingCandidate as C } from \"./candidates/DrapedEdgeSnappingCandidate.js\";\nimport { EdgeSnappingCandidate as P } from \"./candidates/EdgeSnappingCandidate.js\";\nimport { IntersectionSnappingCandidate as E } from \"./candidates/IntersectionSnappingCandidate.js\";\nimport { LineSnappingCandidate as w } from \"./candidates/LineSnappingCandidate.js\";\nimport { ParallelLineSnappingCandidate as j } from \"./candidates/ParallelLineSnappingCandidate.js\";\nimport { RightAngleSnappingCandidate as T, SelfSnappingRightAngleType as M } from \"./candidates/RightAngleSnappingCandidate.js\";\nimport { RightAngleTriangleSnappingCandidate as R } from \"./candidates/RightAngleTriangleSnappingCandidate.js\";\nimport { vectorToScreenPoint as q } from \"../support/viewUtils.js\";\nlet I = class extends n.EventedMixin(e) {\n  constructor(t) {\n    super(t), this.options = new S(), this.snappingEnginesFactory = m, this._engines = [], this._currentMainCandidate = null, this._currentOtherActiveCandidates = [], this._currentSnappedType = x.MAIN;\n  }\n  initialize() {\n    this.addHandles([s(() => {\n      const {\n        effectiveFeatureEnabled: t,\n        effectiveSelfEnabled: e,\n        touchSensitivityMultiplier: n,\n        distance: i\n      } = this.options;\n      return {\n        effectiveFeatureEnabled: t,\n        effectiveSelfEnabled: e,\n        touchSensitivityMultiplier: n,\n        distance: i\n      };\n    }, () => {\n      this.doneSnapping(), this.emit(\"changed\");\n    }, r), s(() => this.options, t => {\n      for (const e of this._engines) e.options = t;\n    }, r), s(() => ({\n      viewReady: this.view.ready,\n      viewSpatialReference: this.view.spatialReference,\n      snappingEnginesFactory: this.snappingEnginesFactory\n    }), ({\n      viewReady: t,\n      snappingEnginesFactory: e\n    }) => this._recreateEngines(t, e), a)]);\n  }\n  destroy() {\n    this._destroyEngines();\n  }\n  get updating() {\n    return this._engines.some(t => t.updating);\n  }\n  _recreateEngines(t, e) {\n    if (this._destroyEngines(), !t) return;\n    const {\n      view: n,\n      options: i\n    } = this;\n    this._engines = e(n, i);\n  }\n  _destroyEngines() {\n    for (const t of this._engines) t.destroy();\n    this._engines = [];\n  }\n  get _squaredMouseProximityThreshold() {\n    return this.options.distance * this.options.distance;\n  }\n  get _squaredTouchProximityThreshold() {\n    const {\n        distance: t,\n        touchSensitivityMultiplier: e\n      } = this.options,\n      n = t * e;\n    return n * n;\n  }\n  snap(t) {\n    return H(t) ? this._snapMultiPoint(t) : this._snapSinglePoint(t);\n  }\n  update(t) {\n    const {\n      point: e,\n      context: n\n    } = t;\n    this._removeVisualization();\n    const i = this._currentMainCandidate;\n    if (null == i) return e;\n    const s = this._selectUpdateInput(t);\n    if (null == s) return e;\n    const {\n        spatialReference: r\n      } = n,\n      a = c(s, r);\n    if (null == a) return e;\n    const {\n        view: o\n      } = this,\n      {\n        elevationInfo: p,\n        visualizer: d\n      } = n,\n      h = [],\n      g = l(a, o, p),\n      _ = i.constraint.closestTo(g);\n    if (!this._arePointsWithinScreenThreshold(g, _, n) || !F(i, n.drawConstraints)) return this._resetSnappingState(), e;\n    i.targetPoint = u(_), h.push(...i.hints);\n    for (const c of this._currentOtherActiveCandidates) F(c, n.drawConstraints) && (c.targetPoint = u(_), h.push(...c.hints));\n    return null != d && this.addHandles(d.draw(h, {\n      spatialReference: r,\n      elevationInfo: L(n),\n      view: o,\n      selfSnappingZ: n.selfSnappingZ\n    }), A), f(_, o, e, n);\n  }\n  doneSnapping() {\n    this._removeVisualization(), this._resetSnappingState();\n  }\n  _selectUpdateInput({\n    point: t,\n    scenePoint: e\n  }) {\n    switch (this._currentSnappedType) {\n      case x.MAIN:\n        return t;\n      case x.SCENE:\n        return e;\n    }\n  }\n  _resetSnappingState() {\n    this._currentMainCandidate = null, this._currentOtherActiveCandidates = [], this._currentSnappedType = x.MAIN;\n  }\n  _removeVisualization() {\n    this.removeHandles(A);\n  }\n  async _snapSinglePoint({\n    point: t,\n    context: e,\n    signal: n\n  }) {\n    const {\n        view: i\n      } = this,\n      {\n        elevationInfo: s\n      } = e,\n      r = l(t, i, s),\n      a = await this._fetchCandidates(r, _.ALL, e, n);\n    return this._createSnapResult(r, x.MAIN, a, i, t, e, n);\n  }\n  async _snapMultiPoint({\n    point: t,\n    scenePoint: e,\n    context: n,\n    signal: i\n  }) {\n    const {\n        view: s\n      } = this,\n      {\n        coordinateHelper: r,\n        elevationInfo: a,\n        spatialReference: o\n      } = n;\n    await d(e.spatialReference, o);\n    const p = c(e, o),\n      h = l(p, s, a),\n      u = await this._fetchCandidates(h, _.FEATURE, n, i);\n    if (u.length > 0) {\n      const t = await this._fetchCandidates(h, _.SELF, n, i);\n      return this._createSnapResult(h, x.SCENE, [...u, ...t], s, p, n, i);\n    }\n    const f = l(t, s, a),\n      g = await this._fetchCandidates(f, _.SELF, n, i);\n    return this._createSnapResult(f, x.MAIN, g, s, {\n      z: r.hasZ() && t.hasZ ? t.z ?? 0 : void 0,\n      m: r.hasM() && t.hasM ? t.m ?? 0 : void 0\n    }, n, i);\n  }\n  async _fetchCandidates(t, e, n, i) {\n    return (await Promise.all(this._engines.map(s => s.fetchCandidates(t, e, n, i)))).flat();\n  }\n  _createSnapResult(t, e, n, s, r, a, o) {\n    return {\n      get valid() {\n        return !i(o);\n      },\n      apply: () => {\n        const {\n            spatialReference: i\n          } = a,\n          {\n            snappedPoint: o,\n            hints: p\n          } = this._processCandidates(t, e, n, a);\n        return this._removeVisualization(), null != a.visualizer && this.addHandles(a.visualizer.draw(p, {\n          spatialReference: i,\n          elevationInfo: h,\n          view: s,\n          selfSnappingZ: a.selfSnappingZ\n        }), A), f(o, s, r, a);\n      }\n    };\n  }\n  _processCandidates(t, e, n, i) {\n    if (n.length < 1) return this.doneSnapping(), {\n      snappedPoint: t,\n      hints: []\n    };\n    this._currentSnappedType !== e && this._resetSnappingState(), v(t, n);\n    const s = this._currentMainCandidate;\n    if (null != s) {\n      const r = N(s, n);\n      if (r >= 0) {\n        if (!(n[r] instanceof E)) return this._intersectWithOtherCandidates(r, n, t, e, i);\n        if (this._arePointsWithinScreenThreshold(t, s.targetPoint, i)) return this._updateSnappingCandidate(s, e, n, i);\n      }\n    }\n    return this._intersectWithOtherCandidates(0, n, t, e, i);\n  }\n  _intersectWithOtherCandidates(t, e, n, i, s) {\n    const {\n        coordinateHelper: r\n      } = s,\n      a = e[t],\n      o = [];\n    for (let p = 0; p < e.length; ++p) {\n      if (p === t) continue;\n      const i = e[p],\n        s = a.constraint.intersect(i.constraint);\n      if (s) for (const t of s.closestPoints(a.targetPoint)) o.push([new E(u(t), a, i, i.isDraped), this._squaredScreenDistance(n, t, r)]);\n    }\n    return o.length > 0 && (o.sort((t, e) => t[1] - e[1]), o[0][1] < this._squaredPointProximityThreshold(s.pointer)) ? this._updateSnappingCandidate(o[0][0], i, e, s) : F(a, s.drawConstraints) ? this._updateSnappingCandidate(a, i, e, s) : {\n      snappedPoint: n,\n      hints: []\n    };\n  }\n  _updateSnappingCandidate(t, e, n, i) {\n    this.doneSnapping(), this._currentMainCandidate = t, this._currentSnappedType = e;\n    const s = this._currentMainCandidate.targetPoint,\n      r = [];\n    r.push(...t.hints);\n    for (const a of n) {\n      if (t instanceof E) {\n        if (a.constraint.equals(t.first.constraint) || a.constraint.equals(t.second.constraint)) continue;\n      } else if (a.constraint.equals(t.constraint)) continue;\n      const e = a.constraint.closestTo(s);\n      this._squaredScreenDistance(e, s, i.coordinateHelper) < z() && (a.targetPoint = s, this._currentOtherActiveCandidates.push(a), r.push(...a.hints));\n    }\n    return {\n      snappedPoint: s,\n      hints: r\n    };\n  }\n  _squaredPointProximityThreshold(t) {\n    return \"touch\" === t ? this._squaredTouchProximityThreshold : this._squaredMouseProximityThreshold;\n  }\n  _arePointsWithinScreenThreshold(t, e, n) {\n    return this._squaredScreenDistance(t, e, n.coordinateHelper) < this._squaredPointProximityThreshold(n.pointer);\n  }\n  _squaredScreenDistance(t, e, n) {\n    return y(this._toScreen(t, n), this._toScreen(e, n));\n  }\n  _toScreen(t, e) {\n    return q(t, e.spatialReference, h, this.view);\n  }\n  get test() {}\n};\nvar x;\nt([o({\n  constructOnly: !0\n})], I.prototype, \"view\", void 0), t([o()], I.prototype, \"options\", void 0), t([o({\n  readOnly: !0\n})], I.prototype, \"updating\", null), t([o()], I.prototype, \"snappingEnginesFactory\", void 0), t([o()], I.prototype, \"_engines\", void 0), t([o()], I.prototype, \"_squaredMouseProximityThreshold\", null), t([o()], I.prototype, \"_squaredTouchProximityThreshold\", null), I = t([p(\"esri.views.interactive.snapping.SnappingManager\")], I), function (t) {\n  t[t.MAIN = 0] = \"MAIN\", t[t.SCENE = 1] = \"SCENE\";\n}(x || (x = {}));\nconst A = \"visualization-handle\";\nfunction z() {\n  return g.satisfiesConstraintScreenThreshold * g.satisfiesConstraintScreenThreshold;\n}\nfunction F(t, e) {\n  return !e || null == e.direction && null == e.distance || !(t instanceof C || t instanceof P || t instanceof w || t instanceof j || t instanceof R) && (!(t instanceof T) || null == e.direction && t.selfSnappingType === M.LastVertex);\n}\nfunction N(t, e) {\n  return t instanceof E ? O(e, t.first) >= 0 && O(e, t.second) >= 0 ? 0 : -1 : O(e, t);\n}\nfunction O(t, e) {\n  let n = -1;\n  for (let i = 0; i < t.length; ++i) if (e.constraint.equals(t[i].constraint)) {\n    n = i;\n    break;\n  }\n  return n;\n}\nfunction H(t) {\n  return null != t.scenePoint;\n}\nfunction L({\n  coordinateHelper: t,\n  elevationInfo: e\n}) {\n  return t.hasZ() ? h : e;\n}\nexport { I as SnappingManager };"],
  "mappings": "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",
  "names": ["o", "p", "u", "e", "p", "t", "d", "i", "r", "a", "f", "l", "c", "f", "e", "t", "r", "c", "i", "o", "l", "a", "u", "y", "h", "m", "n", "d", "v", "s", "n", "t", "e", "i", "r", "s", "o", "h", "a", "x", "E", "p", "e", "E", "t", "r", "a", "i", "o", "n", "c", "g", "f", "s", "N", "u", "l", "A", "p", "d", "m", "h", "S", "O", "l", "e", "t", "p", "N", "s", "d", "r", "h", "n", "r", "t", "e", "o", "a", "E", "n", "E", "l", "e", "t", "r", "s", "o", "n", "a", "d", "p", "h", "c", "N", "g", "m", "v", "u", "w", "P", "i", "y", "j", "g", "t", "i", "f", "o", "d", "h", "p", "e", "a", "E", "n", "r", "f", "l", "e", "t", "s", "o", "n", "a", "h", "d", "N", "g", "m", "r", "u", "v", "x", "E", "i", "c", "p", "L", "P", "j", "l", "e", "t", "r", "i", "s", "n", "d", "o", "p", "a", "c", "N", "g", "_", "T", "E", "v", "w", "y", "M", "F", "j", "R", "P", "U", "f", "m", "u", "g", "t", "e", "m", "a", "h", "A", "n", "s", "E", "h", "l", "e", "t", "i", "r", "s", "n", "p", "a", "d", "N", "o", "g", "v", "f", "x", "u", "j", "y", "w", "P", "h", "o", "E", "f", "s", "t", "i", "r", "i", "p", "h", "r", "t", "s", "n", "o", "E", "I", "t", "c", "i", "x", "e", "n", "s", "r", "a", "o", "p", "d", "h", "g", "_", "L", "A", "E", "u", "f", "N", "z", "O"]
}
