{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/renderers/support/numberUtils.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend/support/utils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../intl.js\";\nimport { formatNumber as t } from \"../../intl/number.js\";\nconst n = /^-?(\\d+)(\\.(\\d+))?$/i;\nfunction e(t, n) {\n  return t - n;\n}\nfunction r(t, n) {\n  let e, r;\n  return e = Number(t.toFixed(n)), e < t ? r = e + 1 / 10 ** n : (r = e, e -= 1 / 10 ** n), e = Number(e.toFixed(n)), r = Number(r.toFixed(n)), [e, r];\n}\nfunction o(t, n, e, r, o) {\n  const i = l(t, n, e, r),\n    u = null == i.previous || i.previous <= o,\n    s = null == i.next || i.next <= o;\n  return u && s || i.previous + i.next <= 2 * o;\n}\nfunction i(t) {\n  const e = String(t),\n    r = e.match(n);\n  if (r?.[1]) return {\n    integer: r[1].split(\"\").length,\n    fractional: r[3] ? r[3].split(\"\").length : 0\n  };\n  if (e.toLowerCase().includes(\"e\")) {\n    const t = e.split(\"e\"),\n      n = t[0],\n      r = t[1];\n    if (n && r) {\n      const t = Number(n);\n      let e = Number(r);\n      const o = e > 0;\n      o || (e = Math.abs(e));\n      const l = i(t);\n      return o ? (l.integer += e, e > l.fractional ? l.fractional = 0 : l.fractional -= e) : (l.fractional += e, e > l.integer ? l.integer = 1 : l.integer -= e), l;\n    }\n  }\n  return {\n    integer: 0,\n    fractional: 0\n  };\n}\nfunction l(t, n, e, r) {\n  const o = {\n    previous: null,\n    next: null\n  };\n  if (null != e) {\n    const r = t - e,\n      i = n - e - r;\n    o.previous = Math.floor(Math.abs(100 * i / r));\n  }\n  if (null != r) {\n    const e = r - t,\n      i = r - n - e;\n    o.next = Math.floor(Math.abs(100 * i / e));\n  }\n  return o;\n}\nfunction u(t, n = {}) {\n  const l = t.slice(0),\n    {\n      tolerance: u = 2,\n      strictBounds: s = !1,\n      indexes: c = l.map((t, n) => n)\n    } = n;\n  c.sort(e);\n  for (let e = 0; e < c.length; e++) {\n    const t = c[e],\n      n = l[t],\n      a = 0 === t ? null : l[t - 1],\n      f = t === l.length - 1 ? null : l[t + 1],\n      m = i(n).fractional;\n    if (m) {\n      let i,\n        c = 0,\n        g = !1;\n      for (; c <= m && !g;) {\n        const t = r(n, c);\n        i = s && 0 === e ? t[1] : t[0], g = o(n, i, a, f, u), c++;\n      }\n      g && (l[t] = i);\n    }\n  }\n  return l;\n}\nconst s = {\n  maximumFractionDigits: 20\n};\nfunction c(n) {\n  return t(n, s);\n}\nexport { c as format, i as numDigits, l as percentChange, u as round };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../symbols.js\";\nimport { millisecondsPerTimeUnit as e } from \"../../../core/timeUtils.js\";\nimport { isTimeOnlyField as A } from \"../../../layers/support/fieldUtils.js\";\nimport { format as t } from \"../../../renderers/support/numberUtils.js\";\nimport { formatAnyDate as n, isAnyDateField as i } from \"../../../smartMapping/support/utils.js\";\nimport o from \"../../../symbols/SimpleLineSymbol.js\";\nconst a = \"<\",\n  l = \">\";\nfunction r(e, A, i, o) {\n  let r = \"\";\n  0 === A ? r = `${a} ` : A === i && (r = `${l} `);\n  return r + (o ? n(e, o) : t(e));\n}\nconst s = [\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];\nasync function u(e) {\n  if (!(\"visualVariables\" in e) || !e.visualVariables) return null;\n  const A = e.visualVariables.find(e => \"color\" === e.type);\n  if (!A) return null;\n  let t = null,\n    n = null;\n  if (A.stops) {\n    if (1 === A.stops.length) return A.stops[0].color;\n    t = A.stops[0].value, n = A.stops[A.stops.length - 1].value;\n  }\n  const i = null != t && null != n ? t + (n - t) / 2 : 0,\n    {\n      getColor: o\n    } = await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");\n  return o(A, i) ?? null;\n}\nasync function p(e, A) {\n  const t = e.trailCap,\n    n = e.trailWidth || 1,\n    i = A || (await u(e)) || e.color;\n  return new o({\n    cap: t,\n    color: i,\n    width: n\n  });\n}\nfunction f(e) {\n  return null != e && \"object\" == typeof e && \"min\" in e && \"max\" in e;\n}\nfunction m(e, A) {\n  if (!A.field) return null;\n  if (\"featureReduction\" in e) switch (e.featureReduction?.type) {\n    case \"cluster\":\n    case \"binning\":\n      {\n        const t = e.featureReduction.fields.find(({\n          name: e\n        }) => e.toLowerCase() === A.field.toLowerCase());\n        return t && \"getField\" in e ? e.getField(t.onStatisticField) : null;\n      }\n  }\n  return \"getField\" in e ? e.getField?.(A.field) : null;\n}\nfunction d(e, A) {\n  const t = \"popupTemplate\" in e ? e.popupTemplate?.fieldInfos : null;\n  if (t?.length && A) return t.find(e => e.fieldName?.toLowerCase() === A.toLowerCase())?.format?.dateFormat;\n}\nfunction c(t, n, o) {\n  const a = m(t, n);\n  if (!a || !i(a) && !A(a)) return null;\n  let l = d(t, a.name);\n  if (!l && \"date\" === a.type) {\n    let A = 0,\n      t = 0;\n    n.stops ? (A = n.stops?.at(0)?.value ?? A, t = n.stops?.at(-1)?.value ?? t) : \"minDataValue\" in n && \"maxDataValue\" in n && (A = n.minDataValue ?? A, t = n.maxDataValue ?? t), l = t - A > 2 * e.days ? \"short-date\" : \"short-date-short-time\";\n  }\n  return {\n    fieldType: a.type,\n    format: l,\n    timeZoneOptions: {\n      layerTimeZone: \"preferredTimeZone\" in t ? t.preferredTimeZone : null,\n      viewTimeZone: o,\n      datesInUnknownTimezone: \"datesInUnknownTimezone\" in t && t.datesInUnknownTimezone\n    }\n  };\n}\nfunction w(e) {\n  if (\"authoringInfo\" in e) return e.authoringInfo?.visualVariables?.find(({\n    theme: e\n  }) => \"reference-size\" === e);\n}\nexport { r as createStopLabel, c as getDateFormatOptions, u as getMedianColor, w as getReferenceSizeAuthoringInfoVisualVariable, p as getSymbolForFlowRenderer, f as isRasterBandStatistics, s as rgbImgSource, l as specialCharsGreaterThan, a as specialCharsLessThan };"],
  "mappings": "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",
  "names": ["n", "r", "e", "o", "i", "l", "u", "s", "t", "c", "a", "f", "m", "l", "r", "e", "i", "o", "s", "u", "n", "d", "c", "a", "t"]
}
