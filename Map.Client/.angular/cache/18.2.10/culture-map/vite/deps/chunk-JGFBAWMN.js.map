{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/analysis/Slice/settings.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/visualElements/SlicePlaneVisualElement.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Slice/ShiftManipulator.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Slice/RotateManipulator.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Slice/ResizeManipulator.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { multiplyOpacityToUnitRGBA as o } from \"../../../../core/colorUtils.js\";\nimport { fromValues as r } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nconst t = r(0, 0, 0, .04);\nfunction c({\n  accentColor: r\n}) {\n  return o(r, .5);\n}\nfunction e({\n  accentColor: r\n}) {\n  return o(r, .7);\n}\nexport { c as getGridColor, e as getOutlineColor, t as planeColor };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromValues as e } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { NoParameters as r } from \"../core/shaderModules/interfaces.js\";\nimport { ReloadableShaderModule as i } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as o } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as t } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as s } from \"../lib/Program.js\";\nimport { S as l } from \"../../../../chunks/SlicePlaneMaterial.glsl.js\";\nimport { BlendFactor as a, CompareFunction as n } from \"../../../webgl/enums.js\";\nimport { makePipelineState as c, separateBlendingParams as m, defaultColorWriteParams as d } from \"../../../webgl/renderState.js\";\nclass h extends r {\n  constructor() {\n    super(...arguments), this.backgroundColor = e(1, 0, 0, .5), this.gridColor = e(0, 1, 0, .5), this.gridWidth = 4;\n  }\n}\nclass u extends o {\n  initializeProgram(e) {\n    return new s(e.rctx, u.shader.get().build(this.configuration), t);\n  }\n  initializePipeline() {\n    return c({\n      blending: m(a.ONE, a.ONE, a.ONE_MINUS_SRC_ALPHA, a.ONE_MINUS_SRC_ALPHA),\n      depthTest: {\n        func: n.LESS\n      },\n      colorWrite: d\n    });\n  }\n}\nu.shader = new i(l, () => import(\"./SlicePlaneMaterial.glsl.js\"));\nexport { h as SlicePlaneMaterialPassParameters, u as SlicePlaneMaterialTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ShaderOutput as r } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { ShaderTechniqueConfiguration as e } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport t from \"../lib/GLMaterial.js\";\nimport { RenderOccludedFlag as i } from \"../lib/Material.js\";\nimport { RenderSlot as o } from \"../lib/RenderSlot.js\";\nimport { DefaultBufferWriter as s } from \"./DefaultBufferWriter.js\";\nimport { PositionUVLayout as n } from \"./DefaultLayouts.js\";\nimport { TriangleMaterial as a } from \"./TriangleMaterial.js\";\nimport { SlicePlaneMaterialTechnique as u, SlicePlaneMaterialPassParameters as c } from \"../shaders/SlicePlaneMaterialTechnique.js\";\nclass l extends a {\n  constructor(t) {\n    super(t, new m()), this.produces = new Map([[o.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL, e => e === r.Color]]), this._configuration = new e();\n  }\n  createBufferWriter() {\n    return new s(n);\n  }\n  createGLMaterial(r) {\n    return new f(r);\n  }\n  getConfiguration() {\n    return this._configuration;\n  }\n}\nclass f extends t {\n  constructor(r) {\n    super(r), this.ensureTechnique(u, null);\n  }\n  beginSlot() {\n    return this.technique;\n  }\n}\nclass m extends c {\n  constructor() {\n    super(...arguments), this.renderOccluded = i.Occlude, this.isDecoration = !1;\n  }\n}\nexport { m as Parameters, l as SlicePlaneMaterial };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { c as r } from \"../../../../chunks/vec42.js\";\nimport { fromValues as e } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { Object3DVisualElement as t } from \"./Object3DVisualElement.js\";\nimport { createSquareGeometry as i } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as a } from \"../../webgl-engine/lib/Material.js\";\nimport { SlicePlaneMaterial as s } from \"../../webgl-engine/materials/SlicePlaneMaterial.js\";\nclass l extends t {\n  constructor(r) {\n    super(r), this._material = null, this._renderOccluded = a.OccludeAndTransparent, this._gridWidth = 1, this._gridColor = e(1, 0, 0, 1), this._backgroundColor = e(1, 0, 0, 1), this.applyProperties(r);\n  }\n  get renderOccluded() {\n    return this._renderOccluded;\n  }\n  set renderOccluded(r) {\n    r !== this._renderOccluded && (this._renderOccluded = r, this._updateMaterial());\n  }\n  get gridWidth() {\n    return this._gridWidth;\n  }\n  set gridWidth(r) {\n    this._gridWidth !== r && (this._gridWidth = r, this._updateMaterial());\n  }\n  get gridColor() {\n    return this._gridColor;\n  }\n  set gridColor(e) {\n    r(this._gridColor, e), this._updateMaterial();\n  }\n  get backgroundColor() {\n    return this._backgroundColor;\n  }\n  set backgroundColor(e) {\n    r(this._backgroundColor, e), this._updateMaterial();\n  }\n  createExternalResources() {\n    this._material = new s(this._materialParameters);\n  }\n  destroyExternalResources() {\n    this._material = null;\n  }\n  forEachExternalMaterial(r) {\n    null != this._material && r(this._material);\n  }\n  createGeometries(r) {\n    if (null != this._material) {\n      const e = i(this._material);\n      r.addGeometry(e);\n    }\n  }\n  get _materialParameters() {\n    return {\n      backgroundColor: this._backgroundColor,\n      gridWidth: this._gridWidth,\n      gridColor: this._gridColor,\n      renderOccluded: this._renderOccluded,\n      isDecoration: this.isDecoration\n    };\n  }\n  _updateMaterial() {\n    null != this._material && this._material.setParameters(this._materialParameters);\n  }\n}\nexport { l as SlicePlaneVisualElement };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../geometry.js\";\nimport i from \"../../../../analysis/SlicePlane.js\";\nimport \"../../../../core/has.js\";\nimport t from \"../../../../core/Logger.js\";\nimport { rad2deg as e, deg2rad as n } from \"../../../../core/mathUtils.js\";\nimport { castRenderScreenPointArray3 as o } from \"../../../../core/screenUtils.js\";\nimport { rotateZ as r, fromZRotation as s, scale as a, multiply as c, rotateX as l } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { j as u, c as d, m as g, b as m, n as p, g as f, l as b, f as T, s as I, q as h, z as E } from \"../../../../chunks/vec32.js\";\nimport { clone as A } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { tryProjectWithZConversion as j } from \"../../../../geometry/projection.js\";\nimport { Axis as R } from \"../../../../geometry/support/Axis.js\";\nimport { r as w, f as O, i as P, a as L, n as v, u as V } from \"../../../../chunks/boundedPlane.js\";\nimport { fromVectorsAndPoint as C, fromPositionAndNormal as _ } from \"../../../../geometry/support/plane.js\";\nimport { create as M } from \"../../../../geometry/support/ray.js\";\nimport { angleAroundAxis as S } from \"../../../../geometry/support/vector.js\";\nimport { sv3d as y, sm4d as N } from \"../../../../geometry/support/vectorStacks.js\";\nimport { getOutlineColor as H, planeColor as U, getGridColor as x } from \"./settings.js\";\nimport { verticalDotThreshold as G, smallAngleDotThreshold as k, planeMinBasisScreenLen2 as X, initialPlaneHalfSizeViewProportion as D, shiftRestartOffsetDistance as Y, resizeHandleEdgePaddingFrac as Z, planeOutlineWidth as z } from \"./sliceToolConfig.js\";\nimport { applyProjectionAndElevationAlignment as F } from \"../support/projectionUtils.js\";\nimport { calculateTranslateRotateFromBases as W } from \"../../interactive/manipulatorUtils.js\";\nimport { LineVisualElement as B } from \"../../interactive/visualElements/LineVisualElement.js\";\nimport { SlicePlaneVisualElement as q } from \"../../interactive/visualElements/SlicePlaneVisualElement.js\";\nimport { RenderCoordsHelper as $ } from \"../../support/RenderCoordsHelper.js\";\nimport { fromRender as J } from \"../../support/geometryUtils/ray.js\";\nimport { RenderOccludedFlag as K } from \"../../webgl-engine/lib/Material.js\";\nimport { ManipulatorStateCustomFlags as Q } from \"../../../interactive/interfaces.js\";\nimport ii from \"../../../../geometry/Point.js\";\nimport ti from \"../../../../geometry/Extent.js\";\nfunction ei(i, t, e, n, o, r, s, a) {\n  return ni(t, s.worldUpAtPosition(i, y.get()), o, r, a.basis1, a.basis2), u(a.basis1, a.basis1, e), u(a.basis2, a.basis2, n), d(a.origin, i), C(a.basis2, a.basis1, a.origin, a.plane), a;\n}\nfunction ni(i, t, e, n, o, r) {\n  const s = g(i, t),\n    a = y.get(),\n    c = y.get();\n  switch (n === Mi.HORIZONTAL_OR_VERTICAL ? Math.abs(s) > G ? Mi.HORIZONTAL : Mi.VERTICAL : n) {\n    case Mi.VERTICAL:\n      {\n        const n = Math.abs(s) <= k ? i : e.viewUp;\n        m(a, n, t), d(c, t);\n        break;\n      }\n    case Mi.HORIZONTAL:\n      m(a, e.viewUp, t), m(c, t, a);\n      break;\n    case Mi.TILTED:\n      {\n        const n = Math.abs(s) <= k ? t : e.viewUp;\n        m(a, n, i), m(c, i, a);\n        break;\n      }\n  }\n  const l = m(y.get(), a, c);\n  g(l, e.viewForward) > 0 && u(c, c, -1), p(o, a), p(r, c);\n}\nfunction oi(i, t, e) {\n  const n = t.worldUpAtPosition(i.origin, y.get()),\n    o = i.basis1,\n    r = Oi(i, n),\n    s = Math.round(r / Ni) * Ni;\n  return w(i, s - r, o, e);\n}\nfunction ri(i, t, e, n, o, r) {\n  const s = d(y.get(), o.origin);\n  f(s, s, u(y.get(), o.basis1, i.direction[0] < 0 ? 1 : -1)), f(s, s, u(y.get(), o.basis2, i.direction[1] < 0 ? 1 : -1));\n  const a = b(o.basis1),\n    c = b(o.basis2),\n    l = T(y.get(), e, s),\n    m = T(y.get(), t, s);\n  let p = 0,\n    I = 0;\n  if (Ei(i)) {\n    const t = hi(o),\n      e = hi(r);\n    p = a - .5 * i.direction[0] * g(o.basis1, m) / a, I = c - .5 * i.direction[1] * g(o.basis2, m) / c;\n    const n = e / t;\n    p *= n, I *= n;\n  }\n  const h = p + .5 * i.direction[0] * g(o.basis1, l) / a,\n    E = I + .5 * i.direction[1] * g(o.basis2, l) / c,\n    A = u(y.get(), o.basis1, h / a),\n    j = u(y.get(), o.basis2, E / c);\n  (h <= 0 || Ti(r.origin, A, n) <= X) && d(A, r.basis1), (E <= 0 || Ti(r.origin, j, n) <= X) && d(j, r.basis2);\n  const R = d(y.get(), s);\n  return f(R, R, u(y.get(), A, i.direction[0] < 0 ? -1 : 1)), f(R, R, u(y.get(), j, i.direction[1] < 0 ? -1 : 1)), O(R, A, j, r);\n}\nfunction si(i, t) {\n  return D * Math.min(t.width, t.height) * t.computeRenderPixelSizeAt(i);\n}\nfunction ai(i, t, e, n) {\n  const o = m(y.get(), t, e);\n  return m(o, o, t), _(i, o, n);\n}\nfunction ci(i, t) {\n  return W(i.basis1, i.basis2, i.origin, t);\n}\nfunction li(i, t, e, n) {\n  const o = t.worldUpAtPosition(i.origin, y.get()),\n    r = y.get();\n  switch (e) {\n    case _i.HEADING:\n      d(r, o);\n      break;\n    case _i.TILT:\n      d(r, i.basis1);\n  }\n  return _(i.origin, r, n);\n}\nfunction ui(i, t, e, n) {\n  const s = bi(e, fi.NEGATIVE_X),\n    a = N.get();\n  r(a, t, s.edge * Math.PI / 2);\n  const c = p(y.get(), s.basis);\n  let l = u(y.get(), c, s.direction * n.computeScreenPixelSizeAt(s.position) * Y);\n  f(l, l, s.position);\n  const d = n.projectToRenderScreen(l, o(y.get())),\n    g = di(n, d);\n  J(n, d, yi), p(yi.direction, yi.direction);\n  const m = y.get();\n  !g && P(e, yi, m) && (l = m), a[12] = 0, a[13] = 0, a[14] = 0, i.modelTransform = a, i.renderLocation = A(l), g ? i.state |= Si : i.state &= ~Si;\n}\nfunction di(i, t) {\n  const [e, n, o, r] = i.viewport,\n    s = Math.min(o, r) / 16;\n  let a = !0;\n  return t[0] < e + s ? (t[0] = e + s, a = !1) : t[0] > e + o - s && (t[0] = e + o - s, a = !1), t[1] < n + s ? (t[1] = n + s, a = !1) : t[1] > n + r - s && (t[1] = n + r - s, a = !1), a;\n}\nfunction gi(i, t, e, n) {\n  const o = b(n.basis1),\n    r = b(n.basis2),\n    l = Ii(n),\n    d = hi(n),\n    g = I(y.get(), 0, 0, 0);\n  f(g, u(y.get(), n.basis1, t.direction[0]), u(y.get(), n.basis2, t.direction[1])), f(g, n.origin, g);\n  let m = 0,\n    p = 1;\n  if (Ei(t)) 1 === t.direction[0] && -1 === t.direction[1] ? m = Ni : 1 === t.direction[0] && 1 === t.direction[1] ? m = Math.PI : -1 === t.direction[0] && 1 === t.direction[1] && (m = 3 * Math.PI / 2), p = d;else {\n    const i = 0 !== t.direction[0] ? 1 : 2;\n    m = 1 === i ? Ni : 0, p = (1 === i ? r : o) - l;\n  }\n  const T = s(N.get(), m);\n  a(T, T, I(y.get(), p, p, p)), c(T, e, T), T[12] = 0, T[13] = 0, T[14] = 0, i.modelTransform = T, i.renderLocation = g;\n}\nfunction mi(i, t, e, n) {\n  const o = n.worldUpAtPosition(e.origin, y.get()),\n    r = bi(e, fi.POSITIVE_X),\n    a = s(N.get(), r.edge * Math.PI / 2);\n  l(a, a, -Oi(e, o)), c(a, t, a), a[12] = 0, a[13] = 0, a[14] = 0, i.modelTransform = a, i.renderLocation = r.position;\n}\nfunction pi(i, t, e) {\n  const n = bi(e, fi.POSITIVE_Y),\n    o = s(N.get(), n.edge * Math.PI / 2);\n  l(o, o, Ni), c(o, t, o), o[12] = 0, o[13] = 0, o[14] = 0, i.modelTransform = o, i.renderLocation = n.position;\n}\nvar fi;\nfunction bi(i, t) {\n  switch (t) {\n    case fi.POSITIVE_X:\n      return {\n        basis: i.basis1,\n        direction: 1,\n        position: f(y.get(), i.origin, i.basis1),\n        edge: t\n      };\n    case fi.POSITIVE_Y:\n      return {\n        basis: i.basis2,\n        direction: 1,\n        position: f(y.get(), i.origin, i.basis2),\n        edge: t\n      };\n    case fi.NEGATIVE_X:\n      return {\n        basis: i.basis1,\n        direction: -1,\n        position: T(y.get(), i.origin, i.basis1),\n        edge: t\n      };\n    case fi.NEGATIVE_Y:\n      return {\n        basis: i.basis2,\n        direction: -1,\n        position: T(y.get(), i.origin, i.basis2),\n        edge: t\n      };\n  }\n}\nfunction Ti(i, t, e) {\n  const n = e.projectToRenderScreen(f(y.get(), i, t), o(y.get())),\n    r = e.projectToRenderScreen(T(y.get(), i, t), o(y.get()));\n  return h(T(n, n, r));\n}\nfunction Ii(i) {\n  const t = b(i.basis1),\n    e = b(i.basis2);\n  return Z * Math.min(t, e);\n}\nfunction hi(i) {\n  return Ii(i);\n}\nfunction Ei(i) {\n  return 0 !== i.direction[0] && 0 !== i.direction[1];\n}\nfunction Ai(i) {\n  const t = [[-1, -1, 0], [1, -1, 0], [1, 1, 0], [-1, 1, 0], [-1, -1, 0]];\n  return new B({\n    view: i,\n    attached: !1,\n    color: H(i.effectiveTheme),\n    width: z,\n    renderOccluded: K.OccludeAndTransparent,\n    geometry: [t],\n    isDecoration: !0\n  });\n}\nfunction ji(i) {\n  return new q({\n    view: i,\n    attached: !1,\n    backgroundColor: U,\n    gridColor: x(i.effectiveTheme),\n    gridWidth: 4,\n    renderOccluded: K.OccludeAndTransparent,\n    isDecoration: !0\n  });\n}\nfunction Ri(t, n, o, r = new i()) {\n  if (null == t) return null;\n  const {\n      renderCoordsHelper: s\n    } = n,\n    a = s.fromRenderCoords(t.origin, new ii({\n      spatialReference: n.spatialReference\n    }));\n  if (null == a) return null;\n  const c = j(a, o);\n  if (null == c) return null;\n  r.position = c;\n  const l = 2 * b(t.basis1),\n    u = 2 * b(t.basis2),\n    d = $.renderUnitScaleFactor(n.spatialReference, o);\n  r.width = l * d, r.height = u * d;\n  const g = s.worldUpAtPosition(t.origin, y.get());\n  return r.tilt = e(Oi(t, g)), r.heading = s.headingAtPosition(t.origin, t.basis1) - 90, r;\n}\nfunction wi(i, t, e) {\n  if (null == i) return null;\n  const n = i.origin,\n    o = y.get(),\n    r = y.get(),\n    s = y.get(),\n    a = y.get();\n  let c, l, u, d, g, m;\n  f(o, n, i.basis1), f(o, o, i.basis2), f(r, n, i.basis1), E(r, r, i.basis2), E(s, n, i.basis1), E(s, s, i.basis2), E(a, n, i.basis1), f(a, a, i.basis2);\n  for (const p of [o, r, s, a]) {\n    const i = t.fromRenderCoords(p, p, e);\n    if (null == i) return null;\n    c = null == c ? i[0] : Math.min(c, i[0]), l = null == l ? i[0] : Math.max(l, i[0]), u = null == u ? i[1] : Math.min(u, i[1]), d = null == d ? i[1] : Math.max(d, i[1]), g = null == g ? i[2] : Math.min(g, i[2]), m = null == m ? i[2] : Math.max(m, i[2]);\n  }\n  return new ti({\n    xmin: c,\n    xmax: l,\n    ymin: u,\n    ymax: d,\n    zmin: g,\n    zmax: m,\n    spatialReference: e\n  });\n}\nfunction Oi(i, t) {\n  return S(t, i.basis2, i.basis1) + Ni;\n}\nfunction Pi(i, e, o, r, s, a, c = L()) {\n  return a.toRenderCoords(i, c.origin) ? (a.worldBasisAtPosition(c.origin, R.X, c.basis1), a.worldBasisAtPosition(c.origin, R.Y, c.basis2), C(c.basis2, c.basis1, c.origin, c.plane), w(c, -n(e), v(c), c), w(c, n(o), c.basis1, c), u(c.basis1, c.basis1, r / 2), u(c.basis2, c.basis2, s / 2), V(c), c) : (t.getLogger(\"esri.views.3d.analysis.Slice.sliceToolUtils\").error(`Failed to project slice plane position, projection from ${i.spatialReference.wkid} is not supported`), null);\n}\nfunction Li(i, t) {\n  if (null == i?.position) return null;\n  const e = F(i.position, t.spatialReference, t.elevationProvider);\n  if (null == e) return null;\n  const n = $.renderUnitScaleFactor(i.position.spatialReference, t.spatialReference),\n    o = i.width * n,\n    r = i.height * n;\n  return {\n    position: e,\n    heading: i.heading,\n    tilt: i.tilt,\n    renderWidth: o,\n    renderHeight: r\n  };\n}\nfunction vi(i, t, e, n = L()) {\n  const o = Li(i, t);\n  return null == o ? null : Vi(o, t, e, n);\n}\nfunction Vi(i, t, e, n = L()) {\n  if (null == i) return null;\n  const o = Pi(i.position, i.heading, i.tilt, i.renderWidth, i.renderHeight, t.renderCoordsHelper, n);\n  return e.tiltEnabled || null == o || oi(o, t.renderCoordsHelper, o), o;\n}\n!function (i) {\n  i[i.POSITIVE_X = 0] = \"POSITIVE_X\", i[i.POSITIVE_Y = 1] = \"POSITIVE_Y\", i[i.NEGATIVE_X = 2] = \"NEGATIVE_X\", i[i.NEGATIVE_Y = 3] = \"NEGATIVE_Y\";\n}(fi || (fi = {}));\nconst Ci = Q.Custom1;\nvar _i, Mi;\n!function (i) {\n  i[i.HEADING = 1] = \"HEADING\", i[i.TILT = 2] = \"TILT\";\n}(_i || (_i = {})), function (i) {\n  i[i.HORIZONTAL_OR_VERTICAL = 0] = \"HORIZONTAL_OR_VERTICAL\", i[i.HORIZONTAL = 1] = \"HORIZONTAL\", i[i.VERTICAL = 2] = \"VERTICAL\", i[i.TILTED = 3] = \"TILTED\";\n}(Mi || (Mi = {}));\nconst Si = Q.Custom2,\n  yi = M(),\n  Ni = Math.PI / 2,\n  Hi = Q.Custom1,\n  Ui = Q.Custom2;\nfunction xi(i) {\n  return null != (\"building-scene-3d\" === i.type ? i : null);\n}\nexport { Ci as DidPointerMoveRecentlyFlag, Si as IsShiftEdgeOnScreenFlag, _i as RotationAxis, Mi as SliceOrientation, ci as calculateBoundedPlaneTranslateRotate, hi as calculateDiagonalResizeHandleScale, si as calculatePlaneHalfSize, ji as createGridVisualElement, Ai as createOutlineVisualElement, ei as createPlane, li as createRotatePlane, ai as createShiftPlane, oi as forceHorizontalOrVertical, Ei as isDiagonalResizeHandle, xi as isIBuildingSceneLayerView3D, ni as normalToBases, wi as planeToExtent, Ri as planeToShape, Li as projectAndElevationAlignShape, Vi as projectedShapeToPlane, Hi as resizeNormal, Ui as resizeOutlineOnly, ri as resizePlane, vi as shapeToPlane, gi as updateResizeHandle, mi as updateRotateHeadingHandle, pi as updateRotateTiltHandle, ui as updateShiftRestartHandle };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport { getContrast as t } from \"../../../../core/colorUtils.js\";\nimport { watch as r, initial as o } from \"../../../../core/reactiveUtils.js\";\nimport { identity as a, translate as n, scale as s, fromQuat as i, multiply as c } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as l } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { rotationTo as m } from \"../../../../core/libs/gl-matrix-2/math/quat.js\";\nimport { f as p, n as u, j as f, g as d, s as g } from \"../../../../chunks/vec32.js\";\nimport { create as h, fromValues as b } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { sv3d as j, sm4d as O, sq4d as w } from \"../../../../geometry/support/vectorStacks.js\";\nimport { shiftRestartOffsetDistance as M, shiftRestartTipRadius as R, shiftRestartTipLength as v, shiftRestartArrowOutlineWidth as C, shiftRestartArrowLength as T, shiftRestartTubeRadius as U, shiftRestartTubeFocusMultiplier as _, shiftRestartTipFocusMultiplier as A } from \"./sliceToolConfig.js\";\nimport { DidPointerMoveRecentlyFlag as E, IsShiftEdgeOnScreenFlag as N } from \"./sliceToolUtils.js\";\nimport { Manipulator3D as F } from \"../../interactive/Manipulator3D.js\";\nimport { RenderObject as y } from \"../../interactive/RenderObject.js\";\nimport { CullFaceOptions as B } from \"../../webgl-engine/lib/basicInterfaces.js\";\nimport { createPolylineGeometry as D, createConeGeometry as L, createPathExtrusionGeometry as P } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as x } from \"../../webgl-engine/lib/Material.js\";\nimport { ColorMaterial as k } from \"../../webgl-engine/materials/ColorMaterial.js\";\nimport { RibbonLineMaterial as G } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nimport { ManipulatorStateFlags as q } from \"../../../interactive/interfaces.js\";\nvar H;\n!function (e) {\n  e[e.CENTER_ON_CALLOUT = 0] = \"CENTER_ON_CALLOUT\", e[e.CENTER_ON_ARROW = 1] = \"CENTER_ON_ARROW\";\n}(H || (H = {}));\nclass I extends F {\n  constructor(a, n) {\n    const s = new G({\n        width: 1,\n        renderOccluded: x.OccludeAndTransparent,\n        isDecoration: !0\n      }),\n      i = new k({\n        cullFace: B.Back,\n        renderOccluded: x.Opaque,\n        isDecoration: !0\n      }),\n      c = new k({\n        cullFace: B.Back,\n        renderOccluded: x.Opaque,\n        isDecoration: !0\n      }),\n      l = new k({\n        cullFace: B.Back,\n        renderOccluded: x.Opaque,\n        isDecoration: !0\n      }),\n      m = new k({\n        writeDepth: !1,\n        cullFace: B.Front,\n        renderOccluded: x.Transparent,\n        isDecoration: !0\n      });\n    super({\n      view: a,\n      ...S({\n        offsetMode: n,\n        tubeMaterial: i,\n        tipMaterial: c,\n        capMaterial: l,\n        outlineMaterial: m,\n        calloutMaterial: s\n      })\n    }), this._themeHandle = r(() => a.effectiveTheme.accentColor, r => {\n      const o = t(r),\n        a = e.toUnitRGBA(r),\n        n = e.toUnitRGBA(o),\n        p = e.toUnitRGBA(e.blendColors(o, r, .4)),\n        u = e.toUnitRGBA(e.blendColors(o, r, .14));\n      s.setParameters({\n        color: a\n      }), i.setParameters({\n        color: u\n      }), c.setParameters({\n        color: n\n      }), l.setParameters({\n        color: p\n      }), m.setParameters({\n        color: a\n      });\n    }, o);\n  }\n  destroy() {\n    this._themeHandle.remove(), super.destroy();\n  }\n}\nfunction S({\n  offsetMode: e,\n  tubeMaterial: t,\n  tipMaterial: r,\n  capMaterial: o,\n  outlineMaterial: a,\n  calloutMaterial: n\n}) {\n  const s = e === H.CENTER_ON_CALLOUT ? M : 0,\n    i = [b(s, 0, -T / 2), b(s, 0, T / 2)],\n    c = J(i),\n    l = W({\n      vertices: i,\n      padding: 0,\n      materials: {\n        tube: t,\n        tip: r,\n        cap: o\n      }\n    }),\n    m = W({\n      vertices: i,\n      padding: C,\n      materials: {\n        tube: a,\n        tip: a,\n        cap: a\n      }\n    }),\n    p = D(n, [[s, 0, 0], [s - M, 0, 0]]),\n    u = D(n, [[s, 0, 0], [s - M, 0, 0]]);\n  return {\n    renderObjects: [...l.normal.map(e => new y(e, q.Unfocused | E)), ...m.normal.map(e => new y(e, q.Unfocused | E)), new y(p, q.Unfocused | E | N), ...l.focused.map(e => new y(e, q.Focused | E)), ...m.focused.map(e => new y(e, q.Focused | E)), new y(u, q.Focused | E | N)],\n    autoScaleRenderObjects: !1,\n    collisionType: {\n      type: \"line\",\n      paths: [c]\n    },\n    collisionPriority: 1,\n    radius: R,\n    state: E\n  };\n}\nfunction W({\n  vertices: e,\n  padding: t,\n  materials: r\n}) {\n  const o = o => {\n    const M = e.slice(0),\n      C = p(j.get(), M[0], M[1]);\n    u(C, C);\n    const T = p(j.get(), M[M.length - 1], M[M.length - 2]);\n    if (u(T, T), t > 0) {\n      const e = f(h(), T, -t);\n      M[M.length - 1] = d(e, e, M[M.length - 1]);\n      const r = f(h(), C, -t);\n      M[0] = d(r, r, M[0]);\n    }\n    const E = o ? A : 1,\n      N = v * E,\n      F = R * E,\n      y = a(O.get());\n    if (t > 0) {\n      const e = N / 4,\n        r = g(j.get(), 0, e, 0),\n        o = 1 + t / e;\n      n(y, y, r), s(y, y, g(j.get(), o, o, o)), n(y, y, f(r, r, -1 / o));\n    }\n    const B = a(l()),\n      D = b(0, 1, 0),\n      P = i(l(), m(w.get(), D, T));\n    P[12] = M[M.length - 1][0], P[13] = M[M.length - 1][1], P[14] = M[M.length - 1][2], c(P, P, y);\n    const x = r.tube,\n      k = z(U * (o ? _ : 1) + t, M, x);\n    k.transformation = B;\n    const G = [k],\n      q = r.tip,\n      H = L(q, N, F, 24, !1, !1, !0);\n    H.transformation = P, G.push(H);\n    const I = r.cap,\n      S = L(I, N, F, 24, !1, !0, !1);\n    S.transformation = P, G.push(S);\n    const W = i(l(), m(w.get(), D, C));\n    return W[12] = M[0][0], W[13] = M[0][1], W[14] = M[0][2], c(W, W, y), G.push(H.instantiate({\n      transformation: W\n    })), G.push(S.instantiate({\n      transformation: W\n    })), G;\n  };\n  return {\n    normal: o(!1),\n    focused: o(!0)\n  };\n}\nfunction z(e, t, r) {\n  const o = [],\n    a = 12;\n  for (let n = 0; n < a; n++) {\n    const t = n / a * 2 * Math.PI;\n    o.push([Math.cos(t) * e, Math.sin(t) * e]);\n  }\n  return P(r, o, t, [], [], !1);\n}\nfunction J(e, t) {\n  const r = p(h(), e[e.length - 1], e[e.length - 2]);\n  u(r, r), f(r, r, v), d(r, r, e[e.length - 1]);\n  {\n    const t = p(h(), e[0], e[1]);\n    return u(t, t), f(t, t, v), d(t, t, e[0]), [t, ...e, r];\n  }\n}\nexport { H as OffsetMode, I as ShiftManipulator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport { multiplyOpacity as t, getContrast as r } from \"../../../../core/colorUtils.js\";\nimport { watch as i, initial as o } from \"../../../../core/reactiveUtils.js\";\nimport { DidPointerMoveRecentlyFlag as n } from \"./sliceToolUtils.js\";\nimport { Manipulator3D as s } from \"../../interactive/Manipulator3D.js\";\nimport { rotateManipulatorDefaults as l } from \"../../interactive/manipulatorUtils.js\";\nimport { RenderObject as a } from \"../../interactive/RenderObject.js\";\nimport { Attribute as c } from \"../../webgl-engine/lib/Attribute.js\";\nimport { Geometry as m } from \"../../webgl-engine/lib/Geometry.js\";\nimport { createPolylineGeometry as u } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as d } from \"../../webgl-engine/lib/Material.js\";\nimport { VertexAttribute as p } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { ImageMaterial as f } from \"../../webgl-engine/materials/ImageMaterial.js\";\nimport { RibbonLineMaterial as b } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nimport { ManipulatorStateFlags as w } from \"../../../interactive/interfaces.js\";\nclass g extends s {\n  constructor(n, s) {\n    const a = new f({\n        transparent: !0,\n        writeDepth: !1,\n        renderOccluded: d.Opaque,\n        isDecoration: !0\n      }),\n      c = l.calloutWidth,\n      m = new b({\n        width: c,\n        renderOccluded: d.OccludeAndTransparent,\n        isDecoration: !0\n      });\n    super({\n      view: n,\n      ...j({\n        imageMaterial: a,\n        calloutMaterial: m\n      })\n    }), this._currentTexture = null, this._themeHandle = i(() => n.effectiveTheme.accentColor, i => {\n      const o = t(i, .5),\n        n = r(i),\n        l = this._currentTexture,\n        c = s(o, n);\n      a.setParameters({\n        textureId: c.texture.id\n      }), m.setParameters({\n        color: e.toUnitRGBA(i)\n      }), this._currentTexture = c, l?.release();\n    }, o);\n  }\n  destroy() {\n    this._themeHandle.remove(), this._currentTexture?.release(), super.destroy();\n  }\n}\nfunction j({\n  imageMaterial: e,\n  calloutMaterial: t\n}) {\n  const {\n      focusMultiplier: r,\n      calloutLength: i,\n      discRadius: o\n    } = l,\n    s = o * r,\n    d = (e, t) => {\n      const r = [0, 1, 2, 2, 3, 0];\n      return new m(t, [[p.POSITION, new c([i - e, -e, 0, i + e, -e, 0, i + e, e, 0, i - e, e, 0], r, 3, !0)], [p.UV0, new c([0, 0, 1, 0, 1, 1, 0, 1], r, 2, !0)]]);\n    },\n    f = u(t, [[0, 0, 0], [i - o, 0, 0]]),\n    b = u(t, [[0, 0, 0], [i - s, 0, 0]]),\n    g = n;\n  return {\n    autoScaleRenderObjects: !1,\n    collisionPriority: 1,\n    collisionType: {\n      type: \"disc\",\n      direction: [0, 0, 1],\n      offset: [i, 0, 0]\n    },\n    focusMultiplier: r,\n    radius: o,\n    renderObjects: [new a(d(o, e), w.Unfocused | g), new a(f, w.Unfocused | g), new a(d(s, e), w.Focused | g), new a(b, w.Focused | g)],\n    state: g\n  };\n}\nexport { g as RotateManipulator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport { watch as r, initial as t } from \"../../../../core/reactiveUtils.js\";\nimport { fromValues as o } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { resizeHandleCornerInputRadius as i, resizeHandleEdgeInputRadius as s, resizeHandleCornerWidth as n, resizeHandleEdgeWidth as a, displayFocusMultiplier as l } from \"./sliceToolConfig.js\";\nimport { isDiagonalResizeHandle as c, resizeNormal as m, resizeOutlineOnly as f } from \"./sliceToolUtils.js\";\nimport { Manipulator3D as d } from \"../../interactive/Manipulator3D.js\";\nimport { worldScaledManipulatorSettings as p } from \"../../interactive/manipulatorUtils.js\";\nimport { RenderObject as u } from \"../../interactive/RenderObject.js\";\nimport { createPolylineGeometry as j } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as w } from \"../../webgl-engine/lib/Material.js\";\nimport { RibbonLineMaterial as b } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nimport { ManipulatorStateFlags as h } from \"../../../interactive/interfaces.js\";\nclass v extends d {\n  constructor(o, i) {\n    const s = c(i),\n      m = s ? n : a,\n      f = m * l,\n      d = a,\n      u = {\n        renderOccluded: w.OccludeAndTransparent,\n        isDecoration: !0\n      },\n      j = new b({\n        ...u,\n        width: m\n      }),\n      h = new b({\n        ...u,\n        width: f\n      }),\n      v = new b({\n        ...u,\n        width: d\n      });\n    super({\n      view: o,\n      ...p,\n      ...M({\n        isCorner: s,\n        unfocusedMaterial: j,\n        focusedMaterial: h,\n        outlineMaterial: v\n      })\n    }), this._themeHandle = r(() => o.effectiveTheme.accentColor, r => {\n      const t = e.toUnitRGBA(r);\n      j.setParameters({\n        color: t\n      }), h.setParameters({\n        color: t\n      }), v.setParameters({\n        color: t\n      });\n    }, t);\n  }\n  destroy() {\n    this._themeHandle.remove(), super.destroy();\n  }\n}\nfunction M({\n  isCorner: e,\n  unfocusedMaterial: r,\n  focusedMaterial: t,\n  outlineMaterial: n\n}) {\n  const a = e ? [o(1, 0, 0), o(0, 0, 0), o(0, 1, 0)] : [o(1, 0, 0), o(-1, 0, 0)];\n  return {\n    renderObjects: [new u(j(r, a), h.Unfocused | m), new u(j(t, a), h.Focused | m), new u(j(n, a), f)],\n    collisionType: {\n      type: \"line\",\n      paths: [a]\n    },\n    radius: e ? i : s,\n    state: m\n  };\n}\nexport { v as ResizeManipulator };"],
  "mappings": "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",
  "names": ["t", "r", "c", "e", "h", "n", "r", "u", "e", "O", "l", "R", "_", "t", "g", "l", "e", "t", "m", "o", "r", "f", "u", "h", "l", "a", "r", "h", "e", "i", "t", "e", "n", "o", "r", "s", "a", "c", "P", "_", "l", "m", "p", "I", "h", "E", "j", "u", "R", "H", "v", "O", "f", "d", "g", "i", "t", "m", "e", "o", "r", "s", "a", "c", "n", "v", "i", "t", "e", "n", "o", "u", "H", "e", "I", "a", "n", "s", "z", "h", "i", "d", "c", "l", "m", "S", "r", "o", "u", "p", "t", "J", "W", "U", "M", "C", "E", "x", "F", "f", "P", "_", "R", "k", "G", "q", "g", "n", "s", "a", "h", "c", "j", "m", "z", "i", "o", "R", "l", "u", "e", "t", "r", "d", "f", "b", "v", "o", "i", "s", "m", "b", "d", "f", "u", "h", "j", "z", "M", "r", "t", "e", "n", "a"]
}
