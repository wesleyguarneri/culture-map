{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/support/groundUtils.js", "../../../../../../node_modules/@arcgis/core/Map.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../Ground.js\";\nimport r from \"../core/Logger.js\";\nimport { ensureType as o } from \"../core/accessorSupport/ensureType.js\";\nconst i = {\n  \"world-elevation\": {\n    id: \"worldElevation\",\n    url: \"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\",\n    layerType: \"ArcGISTiledElevationServiceLayer\"\n  },\n  \"world-topobathymetry\": {\n    id: \"worldTopoBathymetry\",\n    url: \"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer\",\n    layerType: \"ArcGISTiledElevationServiceLayer\"\n  }\n};\nfunction t(t) {\n  let a = null;\n  if (\"string\" == typeof t) {\n    if (t in i) {\n      const r = i[t];\n      a = new e({\n        resourceInfo: {\n          data: {\n            layers: [r]\n          }\n        }\n      });\n    } else r.getLogger(\"esri.support.groundUtils\").warn(`Unable to find ground definition for: ${t}. Try \"world-elevation\"`);\n  } else a = o(e, t);\n  return a;\n}\nexport { t as ensureType, i as groundElevationLayers };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"./chunks/tslib.es6.js\";\nimport s from \"./Basemap.js\";\nimport r from \"./Ground.js\";\nimport t from \"./core/Accessor.js\";\nimport o from \"./core/CollectionFlattener.js\";\nimport a from \"./core/Evented.js\";\nimport { destroyMaybe as i } from \"./core/maybe.js\";\nimport { property as p } from \"./core/accessorSupport/decorators/property.js\";\nimport { cast as l } from \"./core/accessorSupport/decorators/cast.js\";\nimport \"./core/RandomLCG.js\";\nimport \"./core/has.js\";\nimport { subclass as n } from \"./core/accessorSupport/decorators/subclass.js\";\nimport { isEditableLayer as m } from \"./layers/support/editableLayers.js\";\nimport { createCache as d, destroyCache as c, ensureType as u } from \"./support/basemapUtils.js\";\nimport { createFlattenedTablesCollection as y } from \"./support/collectionUtils.js\";\nimport { ensureType as h } from \"./support/groundUtils.js\";\nimport { LayersMixin as b } from \"./support/LayersMixin.js\";\nimport { TablesMixin as f } from \"./support/TablesMixin.js\";\nlet j = class extends f(b(a.EventedMixin(t))) {\n  constructor(e) {\n    super(e), this.allLayers = new o({\n      getCollections: () => [this.basemap?.baseLayers, this.ground?.layers, this.layers, this.basemap?.referenceLayers],\n      getChildrenFunction: e => \"layers\" in e ? e.layers : null\n    }), this.allTables = y(this), this.basemap = null, this.editableLayers = new o({\n      getCollections: () => [this.allLayers],\n      itemFilterFunction: m\n    }), this.ground = new r(), this._basemapCache = d();\n  }\n  destroy() {\n    c(this._basemapCache), this._basemapCache = null, this.allLayers.destroy(), this.allTables.destroy(), this.editableLayers.destroy(), this.basemap = i(this.basemap), i(this.ground), this._set(\"ground\", null);\n  }\n  castBasemap(e) {\n    return u(e, this._basemapCache);\n  }\n  castGround(e) {\n    const s = h(e);\n    return s ?? this._get(\"ground\");\n  }\n  findLayerById(e) {\n    return this.allLayers.find(s => s.id === e);\n  }\n  findTableById(e) {\n    return this.allTables.find(s => s.id === e);\n  }\n};\ne([p({\n  readOnly: !0,\n  dependsOn: []\n})], j.prototype, \"allLayers\", void 0), e([p({\n  readOnly: !0\n})], j.prototype, \"allTables\", void 0), e([p({\n  type: s,\n  json: {\n    read: {\n      source: \"baseMap\"\n    },\n    write: {\n      target: \"baseMap\"\n    }\n  }\n})], j.prototype, \"basemap\", void 0), e([l(\"basemap\")], j.prototype, \"castBasemap\", null), e([p({\n  readOnly: !0\n})], j.prototype, \"editableLayers\", void 0), e([p({\n  type: r,\n  nonNullable: !0\n})], j.prototype, \"ground\", void 0), e([l(\"ground\")], j.prototype, \"castGround\", null), e([p()], j.prototype, \"undoRedo\", void 0), j = e([n(\"esri.Map\")], j);\nconst L = j;\nexport { L as default };"],
  "mappings": "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",
  "names": ["t", "a", "b", "n", "l", "e", "b", "y", "s", "t"]
}
