{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/core/accessorSupport/overrideDefaultsFrom.js", "../../../../../../node_modules/@arcgis/core/views/support/GroundViewElevationSampler.js", "../../../../../../node_modules/@arcgis/core/views/GroundView.js", "../../../../../../node_modules/@arcgis/core/views/3d/layerViewModuleImportUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/AnalysisViewManager3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/Constraints.js", "../../../../../../node_modules/@arcgis/core/views/3d/constraints/AltitudeConstraint.js", "../../../../../../node_modules/@arcgis/core/views/3d/constraints/ClipDistanceConstraint.js", "../../../../../../node_modules/@arcgis/core/views/3d/constraints/TiltConstraint.js", "../../../../../../node_modules/@arcgis/core/views/3d/constraints/Constraints.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/SunLighting.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/VirtualLighting.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/lightingUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/SceneViewAtmosphere.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/SceneViewEnvironment.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/AtmosphereType.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/ChapmanAtmosphereTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/ChapmanAtmosphereTechniqueConfiguration.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/AtmosphereCompositingTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/ChapmanAtmosphere.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/CloudsCompositionTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/CloudsComposition.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/CloudsTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/NoiseTextureAtlasTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/NoiseTextureAtlas.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/CloudsGenerator.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/FogTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/Fog.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/SimpleAtmosphereTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/resources/SimpleAtmosphereTexture.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/LocalAtmosphere.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/resources/MarsAtmosphereTexture.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/MarsAtmosphere.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/PrecipitationTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/Precipitation.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/StarsTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/Stars.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/EnvironmentRenderer.js", "../../../../../../node_modules/@arcgis/core/views/3d/environment/SceneViewEnvironmentManager.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils/ConstraintTypes.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils/InteractionType.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils/TiltMode.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils/ConstraintOptions.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils/common.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils/altitude.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils/distance.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils/surfaceCollision.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/utils/viewUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils/tilt.js", "../../../../../../node_modules/@arcgis/core/views/3d/camera/constraintUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/animation/pointToPoint/Camera.js", "../../../../../../node_modules/@arcgis/core/views/3d/animation/pointToPoint/Animation.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/CameraController.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/AnimationController.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/PointToPointAnimationController.js", "../../../../../../node_modules/@arcgis/core/geometry/support/axisAngle.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/geometryUtils/sphere.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/utils/navigationUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/ZoomStepControllerGlobal.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/ZoomStepControllerLocal.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/DoubleClickZoom.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/NearFarHeuristic.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/SurfaceCollisionConstraint.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/ConstraintsManager.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/SurfaceCollisionCorrectionController.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/GoToOperation.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/ViewStateManager.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/InteractiveController.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/RotateController.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/DragRotate.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/ZoomControllerGlobal.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/ZoomControllerLocal.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/DragZoom.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/GamepadKeyboardController.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/GamepadNavigation.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/KeyboardNavigation.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/MouseWheelZoom.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/util.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/momentum/MomentumController.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/momentum/PanPlanarMomentumController.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/momentum/PanSphericalMomentumController.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/momentum/RotationMomentumController.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/momentum/ZoomPlanarMomentumController.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/momentum/ZoomSphericalMomentumController.js", "../../../../../../node_modules/@arcgis/core/views/navigation/FilteredValue.js", "../../../../../../node_modules/@arcgis/core/views/navigation/PanSphericalMomentumEstimator.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/PinchAndPanControllerGlobal.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/controllers/PinchAndPanControllerLocal.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/PinchAndPanNavigation.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/PointerDownCancelAnimation.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/SingleKey.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/SingleKeyResetHeading.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/SingleKeyResetTilt.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/handlers/TwoFingerTilt.js", "../../../../../../node_modules/@arcgis/core/views/input/recognizers/VerticalTwoFingerDrag.js", "../../../../../../node_modules/@arcgis/core/views/3d/input/SceneInputManager.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/deconflictorDebug.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Deconflictor.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/LabelDeconflictor.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsDeconflictor.js", "../../../../../../node_modules/@arcgis/core/geometry/projection/projectVec3Array.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileVisibility3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileMeasurements3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileTree3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/ViewState.js", "../../../../../../node_modules/@arcgis/core/views/3d/state/helpers/SceneIntersectionHelper.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/CombinedElevationProvider.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/DisplayQualityProfile.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDefaults.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/HighlightOptions.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/MapCoordsHelper.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/LayerClass.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/popupHitTest.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/QualitySettings.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/AsyncWorkerQueue.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/ImageWithType.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/StreamDataLoader.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/ResourceController.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/LayerPerformanceInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/SceneViewPerformanceInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/ObjectResourceCache.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/TextureCollection.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/StreamTextureCollection.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/SharedSymbolResources.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/debugUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/pointsOfInterest/PointOfInterest.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/pointsOfInterest/CameraOnSurface.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/pointsOfInterest/CenterOnSurface.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/pointsOfInterest/ContentGeometryUpdates.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/pointsOfInterest/Focus.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/pointsOfInterest/StableSurfaceCenter.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/pointsOfInterest/SurfaceGeometryUpdates.js", "../../../../../../node_modules/@arcgis/core/views/3d/support/pointsOfInterest/PointsOfInterest.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/ElevationBounds.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/ElevationData.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/ExtentHelper.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/parts/requireUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/OverlayManager.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/PatchGeometry.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/PatchGeometryLUT.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/GeometryState.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TextureFader.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TileAgent.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/ElevationTileAgent.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/MapTileAgent.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TileFrustumVisibility.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TilePerLayerInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TileUpdate.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/Tile.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TileOverlayData.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/TerrainTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/PatchRenderData.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/PatchGeometryFactory.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/PlanarPatch.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/ScaleRangeQueries.js", "../../../../../../node_modules/@arcgis/core/geometry/projection/lonLatToSphericalPCPF.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/SphericalPatch.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/SplitLimits.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TerrainAttributes.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TerrainAttributesCache.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/BlendModeTechniqueConfiguration.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TileBlendTechniqueConfiguration.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/BlendLayersTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TextureReference.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobsUtil.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileRendererHelper3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/RasterColorizerTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/support/MultiSizeFramebuffer.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TileCompositor.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TileRenderInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TileTexture.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TileRenderer.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentIntersectionData.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/TerrainTechniqueConfiguration.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TerrainRenderer.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TerrainSurfacePerformanceInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TilingSchemeLogic.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/UpsampleInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/TerrainSurface.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtySet.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/parts/Model.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/IndexRange/ComponentRangeRunLengthEncoded.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentData.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentObject.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/triangleIntersectionUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ElevationAgnosticBVH.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentObjectElevationAgnosticComponentGeometryBVH.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ComponentUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentObjectElevationAgnosticComponentBVH.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/IntersectionGeometry.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Renderable.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/RenderGeometry.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/depthRange.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/DepthRange.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/RenderSubmitSystem.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/UniformComponentParameters.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentObjectCollection.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightBlurTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadowConfiguration.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/ShadowHighlightTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/ShadowHighlight.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/magnifier/MagnifierTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/magnifier/MagnifierRenderNode.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAABlendWeightsTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAABlurTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAAEdgeDetectTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAAPassParameters.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/smaa/SMAA.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/CompositingTechniqueConfiguration.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/CompositingTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDCompositingTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OITCompositingTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/CompositingHelper.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/depthRangeUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ObjectAndLayerIdRenderHelper.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl/ManagedFBObject.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl/ManagedFBOAttachment.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl/ManagedColorAttachment.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl/ManagedDepthAttachment.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl/ManagedDepthTexture.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl/ManagedFBO.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/FBOPool.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/FBOCache.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPass.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassManager.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl/utils.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderNodes.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPluginManager.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/blit/Blit.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/AnimationTimeStep.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/OffscreenRendering.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderPluginInput.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadowCastVisualizeTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowCastRenderer.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadowCastAccumulateTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowAccumulator.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SliceHelper.js", "../../../../../../node_modules/@arcgis/core/views/webgl/TimerPool.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Renderer.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ScreenSpaceGeometry.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderingContext.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ITexture.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureRepository.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/markerTextureRepository.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/WaterTextureRepository.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/parts/contextCache.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/parts/ScreenshotManager.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/parts/testUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/parts/RenderView.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/Stage.js", "../../../../../../node_modules/@arcgis/core/views/ui/3d/DefaultUI3D.js", "../../../../../../node_modules/@arcgis/core/views/SceneView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from \"../Accessor.js\";\nimport { OriginId as t } from \"./PropertyOrigin.js\";\nimport { getProperties as r } from \"./utils.js\";\nfunction n(s, i) {\n  const e = r(s),\n    c = r(i),\n    f = e.store,\n    a = c.store,\n    m = c.metadata;\n  for (const r in m) {\n    const i = m[r],\n      e = f.originOf(r),\n      c = a.originOf(r);\n    if (!i.readOnly && c !== t.DEFAULTS) if (e === t.DEFAULTS) s.set(r, a.get(r));else {\n      const t = f.get(r),\n        s = a.get(r);\n      t && s && s instanceof o && t instanceof o && t instanceof s.constructor && n(t, s);\n    }\n  }\n}\nexport { n as overrideDefaultsFrom };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Evented.js\";\nimport o from \"../../core/Logger.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../../geometry/SpatialReference.js\";\nimport { toExtent as s } from \"../../geometry/support/aaBoundingRect.js\";\nimport { extentContainsXYZ as a } from \"../../geometry/support/contains.js\";\nimport { updateGeometryElevation as l } from \"../../layers/support/ElevationSampler.js\";\nimport { elevationNoDataValue as p } from \"../3d/terrain/TerrainConst.js\";\nlet m = class extends t.EventedAccessor {\n  constructor(e) {\n    super(e), this.demResolution = {\n      min: -1,\n      max: -1\n    }, this.noDataValue = p;\n  }\n  initialize() {\n    this.view.basemapTerrain.on(\"elevation-change\", () => this.emit(\"changed\", {}));\n  }\n  get extent() {\n    const e = this.view.basemapTerrain;\n    if (null == e?.extent || null == e.spatialReference) return null;\n    const t = s(e.extent, e.spatialReference);\n    return t.zmin = e.visibleElevationBounds.min, t.zmax = e.visibleElevationBounds.max, t;\n  }\n  get spatialReference() {\n    return this.view.basemapTerrain?.spatialReference ?? i.WGS84;\n  }\n  elevationAt(e, t) {\n    if (null == this.extent || !a(this.extent, e, t)) {\n      const r = null != this.extent ? `${this.extent.xmin}, ${this.extent.ymin}, ${this.extent.xmax}, ${this.extent.ymax}` : null;\n      return o.getLogger(this).warn(\"#elevationAt()\", `Point used to sample elevation (${e}, ${t}) is outside of the sampler extent (${r})`), this.noDataValue;\n    }\n    return this.view.elevationProvider?.getElevation(e, t, 0, this.spatialReference, \"ground\") ?? this.noDataValue;\n  }\n  queryElevation(e) {\n    return l(e.clone(), this);\n  }\n};\ne([r({\n  readOnly: !0\n})], m.prototype, \"demResolution\", void 0), e([r({\n  readOnly: !0\n})], m.prototype, \"extent\", null), e([r({\n  readOnly: !0\n})], m.prototype, \"noDataValue\", void 0), e([r()], m.prototype, \"spatialReference\", null), e([r({\n  constructOnly: !0\n})], m.prototype, \"view\", void 0), m = e([n(\"esri.views.support.GroundViewElevationSampler\")], m);\nconst u = m;\nexport { u as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../core/Accessor.js\";\nimport r from \"../core/Collection.js\";\nimport { when as s, watch as i, sync as o } from \"../core/reactiveUtils.js\";\nimport { property as a } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as n } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { toExtent as p } from \"./3d/support/cameraUtils.js\";\nimport l from \"./support/GroundViewElevationSampler.js\";\nlet d = class extends t {\n  constructor(e) {\n    super(e), this.view = null, this.layerViews = new r();\n  }\n  initialize() {\n    this.addHandles(s(() => this.view?.map?.ground, e => e.load())), this.addHandles(this.layerViews.on(\"after-changes\", () => this._layerViewsAfterChangesHandler()));\n  }\n  destroy() {\n    this._set(\"view\", null);\n    for (const e of this.layerViews) e.destroy();\n    this.layerViews.length = 0;\n  }\n  get elevationSampler() {\n    return this.view ? \"2d\" === this.view.type ? null : this.view.ready && this.view.basemapTerrain && this.view.basemapTerrain.ready ? new l({\n      view: this.view\n    }) : null : null;\n  }\n  get extent() {\n    const e = this.view;\n    return e && \"2d\" !== e.type && e.ready ? p(e, e.state.camera, e.pointsOfInterest.centerOnSurfaceFrequent.renderLocation) : null;\n  }\n  get updating() {\n    return !this.suspended && this.layerViews.some(e => e.updating);\n  }\n  get suspended() {\n    return !this.view || this.view.suspended;\n  }\n  _layerViewsAfterChangesHandler() {\n    this.removeHandles(\"updating\"), this.addHandles(this.layerViews.map(e => i(() => e.updating, () => this._updateUpdating(), o)).toArray(), \"updating\"), this._updateUpdating();\n  }\n  _updateUpdating() {\n    this.notifyChange(\"updating\");\n  }\n};\ne([a({\n  readOnly: !0\n})], d.prototype, \"elevationSampler\", null), e([a({\n  readOnly: !0\n})], d.prototype, \"extent\", null), e([a({\n  type: Boolean,\n  readOnly: !0\n})], d.prototype, \"updating\", null), e([a({\n  constructOnly: !0\n})], d.prototype, \"view\", void 0), e([a({\n  type: r,\n  readOnly: !0\n})], d.prototype, \"layerViews\", void 0), e([a({\n  readOnly: !0\n})], d.prototype, \"suspended\", null), d = e([n(\"esri.views.GroundView\")], d);\nconst u = d;\nexport { u as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nconst r = () => import(\"./layers/TileLayerView3D.js\"),\n  a = () => import(\"./layers/ElevationLayerView3D.js\"),\n  i = {\n    \"base-dynamic\": () => import(\"./layers/BaseDynamicLayerView3D.js\"),\n    \"base-elevation\": a,\n    \"base-tile\": r,\n    \"bing-maps\": r,\n    \"building-scene\": () => import(\"./layers/BuildingSceneLayerView3D.js\"),\n    catalog: () => import(\"./layers/CatalogLayerView3D.js\"),\n    \"catalog-dynamic-group\": () => import(\"./layers/CatalogDynamicGroupLayerView3D.js\"),\n    \"catalog-footprint\": () => import(\"./layers/CatalogFootprintLayerView3D.js\"),\n    csv: () => import(\"./layers/CSVLayerView3D.js\"),\n    dimension: () => import(\"./layers/DimensionLayerView3D.js\"),\n    elevation: a,\n    feature: () => import(\"./layers/FeatureLayerView3D.js\"),\n    geojson: () => import(\"./layers/GeoJSONLayerView3D.js\"),\n    graphics: () => import(\"./layers/GraphicsLayerView3D.js\"),\n    group: () => import(\"../layers/GroupLayerView.js\"),\n    imagery: () => import(\"./layers/ImageryLayerView3D.js\"),\n    \"integrated-mesh\": () => import(\"./layers/IntegratedMeshLayerView3D.js\"),\n    \"integrated-mesh-3dtiles\": () => import(\"./layers/IntegratedMesh3DTilesLayerView3D.js\"),\n    \"line-of-sight\": () => import(\"./layers/LineOfSightLayerView3D.js\"),\n    \"map-image\": () => import(\"./layers/MapImageLayerView3D.js\"),\n    media: () => import(\"./layers/MediaLayerView3D.js\"),\n    \"ogc-feature\": () => import(\"./layers/OGCFeatureLayerView3D.js\"),\n    \"open-street-map\": r,\n    \"oriented-imagery\": () => import(\"./layers/FeatureLayerView3D.js\"),\n    \"point-cloud\": () => import(\"./layers/PointCloudLayerView3D.js\"),\n    voxel: () => import(\"./layers/VoxelLayerView3D.js\"),\n    route: () => import(\"./layers/RouteLayerView3D.js\"),\n    scene: e => null == e.profile || \"mesh-pyramids\" === e.profile ? import(\"./layers/SceneLayerView3D.js\") : import(\"./layers/SceneLayerGraphicsView3D.js\"),\n    stream: () => import(\"./layers/StreamLayerView3D.js\"),\n    tile: r,\n    \"imagery-tile\": () => import(\"./layers/ImageryTileLayerView3D.js\"),\n    \"vector-tile\": () => import(\"./layers/VectorTileLayerView3D.js\"),\n    wcs: () => import(\"./layers/ImageryTileLayerView3D.js\"),\n    \"web-tile\": r,\n    wfs: () => import(\"./layers/WFSLayerView3D.js\"),\n    wms: () => import(\"./layers/WMSLayerView3D.js\"),\n    wmts: () => import(\"./layers/WMTSLayerView3D.js\"),\n    \"geo-rss\": null,\n    kml: null,\n    \"knowledge-graph\": null,\n    \"link-chart\": null,\n    \"knowledge-graph-sublayer\": null,\n    \"map-notes\": null,\n    \"subtype-group\": null,\n    unknown: null,\n    unsupported: null,\n    video: null\n  };\nfunction s(r) {\n  const a = r.declaredClass ? r.declaredClass.slice(r.declaredClass.lastIndexOf(\".\") + 1) : \"Unknown\",\n    i = a.replaceAll(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n  return new e(`${i}:view-not-supported`, `${a} is not supported in 3D`);\n}\nconst l = {\n  hasLayerViewModule: e => null != i[e.type],\n  importLayerView: e => {\n    const r = i[e.type];\n    if (null == r) throw s(e);\n    return r(e);\n  }\n};\nexport { l as layerView3DImporter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport s from \"../../../core/Accessor.js\";\nimport { createTask as t } from \"../../../core/asyncUtils.js\";\nimport i from \"../../../core/Collection.js\";\nimport a from \"../../../core/Error.js\";\nimport { makeHandle as n } from \"../../../core/handleUtils.js\";\nimport \"../../../core/has.js\";\nimport o from \"../../../core/Logger.js\";\nimport { removeMaybe as r, destroyMaybe as l, abortMaybe as c } from \"../../../core/maybe.js\";\nimport { createAbortError as d, isAborted as h, createResolver as w } from \"../../../core/promiseUtils.js\";\nimport { schedule as u } from \"../../../core/scheduling.js\";\nimport { property as m } from \"../../../core/accessorSupport/decorators/property.js\";\nimport { subclass as y } from \"../../../core/accessorSupport/decorators/subclass.js\";\nconst _ = \"analyses-owner-handles\";\nvar p, V;\n!function (e) {\n  e[e.PENDING = 0] = \"PENDING\", e[e.CREATED = 1] = \"CREATED\";\n}(p || (p = {})), function (e) {\n  e[e.ADDED = 0] = \"ADDED\", e[e.REMOVED = 1] = \"REMOVED\";\n}(V || (V = {}));\nlet A = class extends s {\n  constructor(e) {\n    super(e), this._allAnalysisViews = new i(), this._creatingViewCount = 0, this._items = new Map(), this._scheduledUpdateHandle = null, this._attachedToViewResolver = v(), this._analysisModules = {\n      \"area-measurement\": {\n        module: null\n      },\n      dimension: {\n        module: null\n      },\n      \"direct-line-measurement\": {\n        module: null\n      },\n      \"line-of-sight\": {\n        module: null\n      },\n      slice: {\n        module: null\n      },\n      viewshed: {\n        module: null\n      }\n    };\n  }\n  destroy() {\n    this._disconnectOwners(), this._attachedToViewResolver.reject(d(\"AnalysisViewManager was destroyed\"));\n  }\n  attach() {\n    this._connectOwners(), this._attachedToViewResolver.resolve();\n  }\n  detach() {\n    this._disconnectOwners(), this._attachedToViewResolver.reject(d()), this._attachedToViewResolver = v();\n  }\n  get updating() {\n    return !this.view.ready || 0 !== this._creatingViewCount || this._allAnalysisViews.some(e => e.updating);\n  }\n  get testInfo() {}\n  async whenAnalysisView(e) {\n    await this._attachedToViewResolver.promise;\n    const s = this._items.get(e);\n    if (null == s || s.state.list === V.REMOVED) {\n      throw new a(\"AnalysisViewManager:no-analysisview-for-analysis\", \"The analysis has not been added to view.analyses\", {\n        analysis: e\n      });\n    }\n    return s.createAnalysisViewTask.promise;\n  }\n  _connectOwners() {\n    this.addHandles(this._connectAnalysesCollection(this.view.analyses), _);\n  }\n  _disconnectOwners() {\n    this.removeHandles(_), this._update(), this._creatingViewCount = 0;\n  }\n  _connectAnalysesCollection(e) {\n    for (const i of e) this._addAnalysis(i);\n    const s = e.on(\"after-add\", e => this._addAnalysis(e.item)),\n      t = e.on(\"after-remove\", e => this._removeAnalysis(e.item));\n    return n(() => {\n      s.remove(), t.remove();\n      for (const s of e) this._removeAnalysis(s);\n    });\n  }\n  _addAnalysis(e) {\n    const s = this._items.get(e);\n    if (null == s) {\n      const s = {\n        state: {\n          view: p.PENDING,\n          list: V.ADDED\n        },\n        analysis: e,\n        view: null,\n        createAnalysisViewTask: null\n      };\n      this._items.set(e, s), s.createAnalysisViewTask = t(e => this._createAnalysisViewPromise(s, e));\n    } else s.state.list = V.ADDED;\n  }\n  _removeAnalysis(e) {\n    const s = this._items.get(e);\n    null != s ? (s.state.list = V.REMOVED, this._scheduleUpdate()) : o.getLogger(this).error(\"Trying to remove analysis which was not added\");\n  }\n  _scheduleUpdate() {\n    null == this._scheduledUpdateHandle && (this._scheduledUpdateHandle = u(() => this._update()));\n  }\n  _update() {\n    this._scheduledUpdateHandle = r(this._scheduledUpdateHandle), this._items.forEach(e => {\n      if (e.state.list === V.REMOVED) switch (this._items.delete(e.analysis), e.state.view) {\n        case p.PENDING:\n          e.createAnalysisViewTask = c(e.createAnalysisViewTask);\n          break;\n        case p.CREATED:\n          null != e.view && (this._allAnalysisViews.remove(e.view), e.view = l(e.view), e.createAnalysisViewTask = null);\n      }\n    });\n  }\n  async _createAnalysisViewPromise(e, s) {\n    const t = e.analysis,\n      i = t.type,\n      a = this._analysisModules[i];\n    if (this._creatingViewCount += 1, null == a.module) try {\n      a.module = await this._loadAnalysisModule(i);\n    } catch (o) {\n      throw this._creatingViewCount -= 1, o;\n    }\n    if (h(s)) throw this._creatingViewCount -= 1, d(\"AnalysisView creation aborted\");\n    const n = new a.module.default({\n      analysis: t,\n      view: this.view\n    });\n    try {\n      await n.when();\n    } catch (o) {\n      throw this._creatingViewCount -= 1, o;\n    }\n    if (h(s)) throw this._creatingViewCount -= 1, n.destroy(), d(\"AnalysisView creation aborted\");\n    return e.view = n, e.state.view = p.CREATED, this._allAnalysisViews.add(n), this._creatingViewCount -= 1, n;\n  }\n  _loadAnalysisModule(e) {\n    switch (e) {\n      case \"area-measurement\":\n        return import(\"./AreaMeasurementAnalysisView3D.js\");\n      case \"dimension\":\n        return import(\"./DimensionAnalysisView3D.js\");\n      case \"direct-line-measurement\":\n        return import(\"./DirectLineMeasurementAnalysisView3D.js\");\n      case \"line-of-sight\":\n        return import(\"./LineOfSightAnalysisView3D.js\");\n      case \"slice\":\n        return import(\"./SliceAnalysisView3D.js\");\n      case \"viewshed\":\n        return import(\"./ViewshedAnalysisView3D.js\");\n    }\n  }\n};\nfunction v() {\n  const e = w();\n  return e.promise.catch(() => {}), e;\n}\ne([m()], A.prototype, \"updating\", null), e([m({\n  constructOnly: !0\n})], A.prototype, \"view\", void 0), e([m()], A.prototype, \"_allAnalysisViews\", void 0), e([m()], A.prototype, \"_creatingViewCount\", void 0), A = e([y(\"esri.views.3d.analysis.AnalysisViewManager3D\")], A);\nconst f = A;\nexport { f as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport e from \"../../../core/Accessor.js\";\nimport i from \"../../../core/Logger.js\";\nimport { clamp as o, deg2rad as r } from \"../../../core/mathUtils.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { earth as n } from \"../../../geometry/support/Ellipsoid.js\";\nimport { ViewingMode as l } from \"../../ViewingMode.js\";\nimport { makePiecewiseLinearFunction as m } from \"../support/mathUtils.js\";\nlet c = class extends e {\n  constructor(t) {\n    super(t), this.collision = new f(), this.distance = 1 / 0, this.minimumPoiDistance = 4, this.tilt = null;\n  }\n  get altitude() {\n    return this.mode === l.Local ? null : this._get(\"altitude\") || null;\n  }\n  set altitude(t) {\n    this.mode !== l.Local ? this._set(\"altitude\", t) : i.getLogger(this).warn(\"Altitude constraint is ignored in local scenes\");\n  }\n  clampAltitude(t) {\n    return this.altitude ? o(t, this.altitude.min, this.altitude.max) : t;\n  }\n  clampTilt(t, e) {\n    if (!this.tilt) return e;\n    const i = this.tilt(t);\n    return o(e, i.min, i.max);\n  }\n  clampDistance(t) {\n    return Math.min(t, this.distance);\n  }\n  createDefaultTilt() {\n    return this.mode === l.Local ? this._createDefaultTiltLocal() : this._createDefaultTiltGlobal();\n  }\n  createConstantMaxTilt(t) {\n    return (e, i = h) => (i.min = d.min, i.max = t, i);\n  }\n  _createDefaultTiltLocal() {\n    const t = this.collision.enabled ? m([[4e3, d.max], [1e4, r(88)], [6e6, r(88)]]) : () => d.max;\n    return (e, i = h) => (i.min = d.min, i.max = t(e), i);\n  }\n  _createDefaultTiltGlobal() {\n    const t = this.collision.enabled ? m([[4e3, d.max], [5e4, r(88)], [6e6, r(88)], [2e7, d.min]]) : m([[3e5, d.max], [3e6, r(88)], [6e6, r(88)], [2e7, d.min]]);\n    return (e, i = h) => (i.min = d.min, i.max = t(e), i);\n  }\n};\nfunction p(t) {\n  return {\n    min: -2e5,\n    max: 4 * t.radius\n  };\n}\nt([s()], c.prototype, \"altitude\", null), t([s({\n  readOnly: !0\n})], c.prototype, \"collision\", void 0), t([s()], c.prototype, \"distance\", void 0), t([s({\n  readOnly: !0\n})], c.prototype, \"minimumPoiDistance\", void 0), t([s()], c.prototype, \"tilt\", void 0), t([s({\n  constructOnly: !0\n})], c.prototype, \"mode\", void 0), c = t([a(\"esri.views.3d.state.Constraints\")], c);\nconst u = p(n),\n  d = {\n    min: r(.5),\n    max: r(179.5)\n  },\n  h = {\n    min: 0,\n    max: 0\n  };\nlet f = class extends e {\n  constructor() {\n    super(...arguments), this.enabled = !0, this.elevationMargin = 5;\n  }\n};\nt([s({\n  type: Boolean\n})], f.prototype, \"enabled\", void 0), t([s({\n  type: Number\n})], f.prototype, \"elevationMargin\", void 0), f = t([a(\"esri.views.3d.state.Constraints.CollisionConstraint\")], f);\nexport { c as Constraints, d as TiltRange, u as earthAltitudeConstraint };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport { Clonable as r } from \"../../../core/Clonable.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as t } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { earthAltitudeConstraint as e } from \"../state/Constraints.js\";\nlet i = class extends r {\n  constructor() {\n    super(...arguments), this.min = e.min, this.max = e.max;\n  }\n};\no([s({\n  type: Number\n})], i.prototype, \"min\", void 0), o([s({\n  type: Number\n})], i.prototype, \"max\", void 0), i = o([t(\"esri.views.3d.constraints.AltitudeConstraint\")], i);\nexport { i as AltitudeConstraint };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { Clonable as r } from \"../../../core/Clonable.js\";\nimport { property as e } from \"../../../core/accessorSupport/decorators/property.js\";\nimport { cast as s } from \"../../../core/accessorSupport/decorators/cast.js\";\nimport \"../../../core/RandomLCG.js\";\nimport \"../../../core/has.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nlet o = class extends r {\n  constructor() {\n    super(...arguments), this.mode = \"auto\";\n  }\n  get near() {\n    return this._get(\"near\");\n  }\n  set near(t) {\n    this._set(\"near\", t), t >= this._get(\"far\") && (this.far = t + 1e-9), this.mode = \"manual\";\n  }\n  castNear(t) {\n    return Math.max(1e-8, t);\n  }\n  get far() {\n    return this._get(\"far\");\n  }\n  set far(t) {\n    this._set(\"far\", t), t <= this._get(\"near\") && (this.near = t - 1e-9), this.mode = \"manual\";\n  }\n  castFar(t) {\n    return Math.max(1e-8, t);\n  }\n  autoUpdate(t, r) {\n    \"auto\" === this.mode && (this._get(\"near\") !== t && this._set(\"near\", t), this._get(\"far\") !== r && this._set(\"far\", r));\n  }\n};\nt([e({\n  type: Number,\n  value: 1e-8\n})], o.prototype, \"near\", null), t([s(\"near\")], o.prototype, \"castNear\", null), t([e({\n  type: Number,\n  value: 1e-8\n})], o.prototype, \"far\", null), t([s(\"far\")], o.prototype, \"castFar\", null), t([e({\n  type: [\"auto\", \"manual\"]\n})], o.prototype, \"mode\", void 0), o = t([a(\"esri.views.3d.constraints.ClipDistanceConstraint\")], o);\nexport { o as ClipDistanceConstraint };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { Clonable as o } from \"../../../core/Clonable.js\";\nimport { rad2deg as s, clamp as r } from \"../../../core/mathUtils.js\";\nimport { property as a } from \"../../../core/accessorSupport/decorators/property.js\";\nimport { cast as e } from \"../../../core/accessorSupport/decorators/cast.js\";\nimport \"../../../core/RandomLCG.js\";\nimport \"../../../core/has.js\";\nimport { subclass as m } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { TiltRange as i } from \"../state/Constraints.js\";\nconst p = {\n  min: s(i.min),\n  max: s(i.max)\n};\nlet c = class extends o {\n  constructor(t) {\n    super(t), this.mode = \"auto\";\n  }\n  get max() {\n    return this._get(\"max\");\n  }\n  set max(t) {\n    this._set(\"max\", t), this.mode = \"manual\";\n  }\n  castMax(t) {\n    return r(t, p.min, p.max);\n  }\n  autoUpdate(t) {\n    \"auto\" === this.mode && this._get(\"max\") !== t && this._set(\"max\", t);\n  }\n};\nt([a({\n  type: [\"auto\", \"manual\"]\n})], c.prototype, \"mode\", void 0), t([a({\n  type: Number,\n  value: p.max\n})], c.prototype, \"max\", null), t([e(\"max\")], c.prototype, \"castMax\", null), c = t([m(\"esri.views.3d.constraints.TiltConstraint\")], c);\nexport { c as TiltConstraint };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { Clonable as o } from \"../../../core/Clonable.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { AltitudeConstraint as e } from \"./AltitudeConstraint.js\";\nimport { ClipDistanceConstraint as i } from \"./ClipDistanceConstraint.js\";\nimport { TiltConstraint as p } from \"./TiltConstraint.js\";\nlet c = class extends o {\n  constructor() {\n    super(...arguments), this.tilt = new p(), this.altitude = new e(), this.clipDistance = new i();\n  }\n};\nt([r({\n  type: p\n})], c.prototype, \"tilt\", void 0), t([r({\n  type: e\n})], c.prototype, \"altitude\", void 0), t([r({\n  type: i\n})], c.prototype, \"clipDistance\", void 0), c = t([s(\"esri.views.3d.constraints.Constraints\")], c);\nexport { c as Constraints };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Evented.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../../../webscene/SunLighting.js\";\nvar s;\nlet a = s = class extends t.EventedMixin(n) {\n  constructor(e) {\n    super(e), this.cameraTrackingEnabled = !0, this.positionTimezoneInfo = {\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n      autoUpdated: !0\n    };\n    const t = new Date().getFullYear(),\n      o = new Date(\"March 15, \" + t + \" 12:00:00 UTC\");\n    this._set(\"defaultDate\", o), this._set(\"date\", o);\n  }\n  get defaultDate() {\n    return new Date(this._get(\"defaultDate\").getTime());\n  }\n  static fromWebsceneLighting(e) {\n    return new s(e.cloneConstructProperties());\n  }\n  set defaultDate(e) {\n    const t = this._get(\"date\") === this._get(\"defaultDate\");\n    e = new Date(e.getTime()), this._set(\"defaultDate\", e), t && this._set(\"date\", e);\n  }\n  set date(e) {\n    null != e && (this.positionTimezoneInfo.autoUpdated = !1, this._set(\"date\", new Date(e.getTime())));\n  }\n  autoUpdate(e, t) {\n    const o = s.calculateTimezoneOffset(this.positionTimezoneInfo);\n    this.positionTimezoneInfo.hours = t.hours, this.positionTimezoneInfo.minutes = t.minutes, this.positionTimezoneInfo.seconds = t.seconds;\n    let i = null;\n    null != e && (this.positionTimezoneInfo.autoUpdated = !0, isNaN(e.getTime()) ? (i = this.defaultDate.getTime(), this._set(\"date\", this.defaultDate)) : (i = this.date && this.date.getTime(), this._set(\"date\", new Date(e.getTime()))));\n    const n = s.calculateTimezoneOffset(this.positionTimezoneInfo);\n    if (o !== n && (r.target = this, r.timezoneOffset = n, this.emit(\"timezone-will-change\", r), r.target = null), null != e) return isNaN(e.getTime()) || i !== e.getTime();\n  }\n  clone() {\n    const e = this._get(\"date\") === this._get(\"defaultDate\"),\n      t = new s({\n        ...this.cloneConstructProperties(),\n        defaultDate: this.defaultDate,\n        cameraTrackingEnabled: this.cameraTrackingEnabled\n      });\n    return e && t._set(\"date\", t._get(\"defaultDate\")), t.positionTimezoneInfo.autoUpdated = this.positionTimezoneInfo.autoUpdated, t.positionTimezoneInfo.hours = this.positionTimezoneInfo.hours, t.positionTimezoneInfo.minutes = this.positionTimezoneInfo.minutes, t.positionTimezoneInfo.seconds = this.positionTimezoneInfo.seconds, t;\n  }\n  cloneWithWebsceneLighting(e) {\n    const t = this.clone();\n    return null != e.date && (t.date = e.date), t.directShadowsEnabled = e.directShadowsEnabled, t.displayUTCOffset = e.displayUTCOffset, t;\n  }\n  cloneNonPersistentConstructProperties() {\n    return {\n      cameraTrackingEnabled: this.cameraTrackingEnabled\n    };\n  }\n};\ne([o({\n  type: Boolean\n})], a.prototype, \"cameraTrackingEnabled\", void 0), e([o({\n  type: Date\n})], a.prototype, \"defaultDate\", null), e([o({\n  type: Date\n})], a.prototype, \"date\", null), a = s = e([i(\"esri.views.3d.environment.SunLighting\")], a), function (e) {\n  function t({\n    hours: e,\n    minutes: t,\n    seconds: o\n  }) {\n    return Math.round(e + t / 60 + o / 3600);\n  }\n  e.calculateTimezoneOffset = t;\n}(a || (a = {}));\nconst r = {\n    target: null,\n    timezoneOffset: 0\n  },\n  d = a;\nexport { d as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../core/Evented.js\";\nimport { property as t } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../../../webscene/VirtualLighting.js\";\nvar s;\nlet c = s = class extends r.EventedMixin(n) {\n  constructor(e) {\n    super(e), this.cameraTrackingEnabled = !0;\n  }\n  clone() {\n    return new s({\n      ...this.cloneConstructProperties(),\n      cameraTrackingEnabled: this.cameraTrackingEnabled\n    });\n  }\n  static fromWebsceneLighting(e) {\n    return new s(e.cloneConstructProperties());\n  }\n  cloneWithWebsceneLighting(e) {\n    const r = this.clone();\n    return r.directShadowsEnabled = e.directShadowsEnabled, r;\n  }\n  cloneNonPersistentConstructProperties() {\n    return {\n      cameraTrackingEnabled: this.cameraTrackingEnabled\n    };\n  }\n};\ne([t({\n  type: Boolean\n})], c.prototype, \"cameraTrackingEnabled\", void 0), c = s = e([o(\"esri.views.3d.environment.VirtualLighting\")], c);\nconst a = c;\nexport { a as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from \"./SunLighting.js\";\nimport e from \"./VirtualLighting.js\";\nconst i = {\n  key: \"type\",\n  defaultKeyValue: \"sun\",\n  base: null,\n  typeMap: {\n    sun: t,\n    virtual: e\n  }\n};\nexport { i as lightingTypes };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../core/Accessor.js\";\nimport { property as e } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nvar t;\nlet i = t = class extends r {\n  set quality(o) {\n    [\"low\", \"high\"].includes(o) && this._set(\"quality\", o);\n  }\n  clone() {\n    return new t({\n      quality: this.quality\n    });\n  }\n};\no([e({\n  type: [\"low\", \"high\"],\n  value: \"low\"\n})], i.prototype, \"quality\", null), i = t = o([s(\"esri.views.3d.environment.SceneViewAtmosphere\")], i);\nexport { i as SceneViewAtmosphere };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { neverReached as i } from \"../../../core/compilerUtils.js\";\nimport { destroyHandle as e } from \"../../../core/handleUtils.js\";\nimport { clone as n } from \"../../../core/lang.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport { cast as s } from \"../../../core/accessorSupport/decorators/cast.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { ensureOneOfType as g } from \"../../../core/accessorSupport/ensureType.js\";\nimport { lightingTypes as h } from \"./lightingUtils.js\";\nimport { SceneViewAtmosphere as l } from \"./SceneViewAtmosphere.js\";\nimport c from \"./SunLighting.js\";\nimport a from \"./VirtualLighting.js\";\nimport p from \"../../../webscene/Environment.js\";\nimport m from \"../../../webscene/SunLighting.js\";\nimport u from \"../../../webscene/VirtualLighting.js\";\nvar b;\nlet d = b = class extends p {\n  constructor(t) {\n    super(t), this.atmosphere = new l(), this.lighting = this.castLighting(), this.cachedCameraTrackingEnabled = null;\n  }\n  destroy() {\n    this.atmosphere.destroy();\n  }\n  static fromWebsceneEnvironment(t) {\n    const i = t.cloneConstructProperties();\n    return new b({\n      ...i,\n      lighting: i.lighting ? \"virtual\" === i.lighting.type ? a.fromWebsceneLighting(i.lighting) : c.fromWebsceneLighting(i.lighting) : void 0\n    });\n  }\n  castLighting(t) {\n    return this._convertLightingWithDestroy(t);\n  }\n  applyLighting(t) {\n    this.lighting = this._convertLightingWithDestroy(t);\n  }\n  _convertLightingWithDestroy(t) {\n    const i = this._convertLighting(t);\n    return i !== t && this.addHandles(e(i)), i;\n  }\n  _convertLighting(t) {\n    return t ? t instanceof c || t instanceof a ? t : t instanceof m ? this.lighting && \"virtual\" !== this.lighting.type ? this.lighting.cloneWithWebsceneLighting(t) : new c({\n      ...t.cloneConstructProperties(),\n      ...this.lighting?.cloneNonPersistentConstructProperties()\n    }) : t instanceof u ? this.lighting && \"virtual\" === this.lighting.type ? this.lighting.cloneWithWebsceneLighting(t) : new a({\n      ...t.cloneConstructProperties(),\n      ...this.lighting?.cloneNonPersistentConstructProperties()\n    }) : g(h, t) : new c();\n  }\n  clone() {\n    return new b({\n      lighting: this.lighting.clone(),\n      atmosphere: this.atmosphere.clone(),\n      weather: this.weather.clone(),\n      atmosphereEnabled: this.atmosphereEnabled,\n      starsEnabled: this.starsEnabled,\n      background: n(this.background)\n    });\n  }\n  cloneWithWebsceneEnvironment(t) {\n    return new b({\n      atmosphere: this.atmosphere.clone(),\n      weather: this.weather.clone(),\n      atmosphereEnabled: this.atmosphereEnabled,\n      starsEnabled: this.starsEnabled,\n      background: n(this.background),\n      ...t.cloneConstructProperties(),\n      lighting: this._getLighting(t)\n    });\n  }\n  _getLighting(t) {\n    switch (t.lighting.type) {\n      case \"sun\":\n        return this.lighting && \"sun\" === this.lighting.type ? this.lighting.cloneWithWebsceneLighting(t.lighting) : c.fromWebsceneLighting(t.lighting);\n      case \"virtual\":\n        return this.lighting && \"virtual\" === this.lighting.type ? this.lighting.cloneWithWebsceneLighting(t.lighting) : a.fromWebsceneLighting(t.lighting);\n      default:\n        return i(t.lighting), c.fromWebsceneLighting(t.lighting);\n    }\n  }\n};\nt([r({\n  type: l,\n  json: {\n    read: !1\n  },\n  nonNullable: !0\n})], d.prototype, \"atmosphere\", void 0), t([r({\n  nonNullable: !0\n})], d.prototype, \"lighting\", void 0), t([s(\"lighting\")], d.prototype, \"castLighting\", null), d = b = t([o(\"esri.views.3d.environment.SceneViewEnvironment\")], d);\nconst f = d;\nexport { f as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar a;\n!function (a) {\n  a[a.Realistic = 0] = \"Realistic\", a[a.Local = 1] = \"Local\", a[a.Mars = 2] = \"Mars\", a[a.None = 3] = \"None\";\n}(a || (a = {}));\nexport { a as AtmosphereType };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as e } from \"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { create as r } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as i } from \"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { C as t } from \"../../../chunks/ChapmanAtmosphere.glsl.js\";\nimport { NoParameters as o } from \"../webgl-engine/core/shaderModules/interfaces.js\";\nimport { ReloadableShaderModule as s } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as n } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as a } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as l } from \"../webgl-engine/lib/Program.js\";\nimport { BlendFactor as c, CompareFunction as m } from \"../../webgl/enums.js\";\nimport { makePipelineState as h, simpleBlendingParams as g, defaultColorWriteParams as d, separateBlendingParams as f } from \"../../webgl/renderState.js\";\nclass u extends o {\n  constructor() {\n    super(...arguments), this.heightParameters = i(), this.radii = e(), this.innerFadeDistance = 0, this.altitudeFade = 0, this.hazeStrength = 1, this.renderScale = e(), this.backgroundColor = r();\n  }\n}\nclass p extends n {\n  initializeProgram(e) {\n    return new l(e.rctx, p.shader.get().build(this.configuration), a);\n  }\n  initializePipeline() {\n    return this.configuration.reduced ? h({\n      blending: g(c.ONE, c.ZERO),\n      depthTest: {\n        func: m.ALWAYS\n      },\n      colorWrite: d\n    }) : this.configuration.haze ? h({\n      blending: f(c.ONE, c.ZERO, c.ONE_MINUS_SRC_COLOR, c.ONE),\n      colorWrite: d\n    }) : h({\n      blending: g(c.SRC_ALPHA, c.ONE_MINUS_SRC_ALPHA),\n      depthTest: {\n        func: m.LEQUAL\n      },\n      colorWrite: d\n    });\n  }\n}\np.shader = new s(t, () => import(\"./ChapmanAtmosphere.glsl.js\"));\nexport { u as ChapmanAtmospherePassParameters, p as ChapmanAtmosphereTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { ShaderTechniqueConfiguration as r, parameter as s } from \"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nclass o extends r {\n  constructor() {\n    super(...arguments), this.haze = !1;\n  }\n}\ne([s()], o.prototype, \"haze\", void 0);\nclass t extends o {\n  constructor() {\n    super(...arguments), this.reduced = !1;\n  }\n}\ne([s()], t.prototype, \"reduced\", void 0);\nexport { o as AtmosphereCompositingTechniqueConfiguration, t as ChapmanAtmosphereTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as o } from \"../lib/Program.js\";\nimport { a as t } from \"../../../../chunks/AtmosphereCompositing.glsl.js\";\nimport { BlendFactor as s, CompareFunction as n } from \"../../../webgl/enums.js\";\nimport { makePipelineState as m, separateBlendingParams as a, defaultColorWriteParams as l, simpleBlendingParams as h } from \"../../../webgl/renderState.js\";\nclass p extends r {\n  initializeProgram(e) {\n    return new o(e.rctx, p.shader.get().build(this.configuration), i);\n  }\n  initializePipeline() {\n    return this.configuration.haze ? m({\n      blending: a(s.ONE, s.ZERO, s.ONE_MINUS_SRC_COLOR, s.ONE),\n      depthTest: {\n        func: n.ALWAYS\n      },\n      colorWrite: l\n    }) : m({\n      blending: h(s.SRC_ALPHA, s.ONE_MINUS_SRC_ALPHA),\n      depthTest: {\n        func: n.ALWAYS\n      },\n      colorWrite: l\n    });\n  }\n}\np.shader = new e(t, () => import(\"./AtmosphereCompositing.glsl.js\"));\nexport { p as AtmosphereCompositingTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { unitRGBAFromColor as e } from \"../../../core/colorUtils.js\";\nimport t from \"../../../core/Handles.js\";\nimport { clamp as s, lerp as i, smoothstep as r } from \"../../../core/mathUtils.js\";\nimport { watch as a, syncAndInitial as o } from \"../../../core/reactiveUtils.js\";\nimport { set as n } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { s as h, l as m, q as c } from \"../../../chunks/vec32.js\";\nimport { s as u } from \"../../../chunks/vec42.js\";\nimport { ZEROS as d } from \"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { earth as p } from \"../../../geometry/support/Ellipsoid.js\";\nimport { AtmosphereType as l } from \"./AtmosphereType.js\";\nimport { atmosphereHeight as _, innerAtmosphereDepth as T, computeInnerAltitudeFade as f } from \"./atmosphereUtils.js\";\nimport { ChapmanAtmospherePassParameters as b, ChapmanAtmosphereTechnique as g } from \"./ChapmanAtmosphereTechnique.js\";\nimport { ChapmanAtmosphereTechniqueConfiguration as q } from \"./ChapmanAtmosphereTechniqueConfiguration.js\";\nimport { ColorFormat as v } from \"../webgl/formats.js\";\nimport { Pos2Tex as w } from \"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";\nimport { createQuadVAO as P } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { applyTextureResizeModulo as x } from \"../webgl-engine/lib/textureUtils.js\";\nimport { A as R } from \"../../../chunks/AtmosphereCompositing.glsl.js\";\nimport { AtmosphereCompositingTechnique as j } from \"../webgl-engine/shaders/AtmosphereCompositingTechnique.js\";\nimport { PrimitiveType as E } from \"../../webgl/enums.js\";\nimport z from \"../../../webscene/background/ColorBackground.js\";\nclass B {\n  constructor(s, i) {\n    this._view = s, this._context = i, this.type = l.Realistic, this._handles = new t(), this._compositingPassParameters = new R(), this._passParameters = new b(), this._rootTileElevationMin = NaN, this._lowerBoundEarthRadius = p.radius, this._fadeHaze = 0, this._updateRadius(p.radius);\n    const r = this._context.renderContext.rctx;\n    this._updateRootTileElevationBounds(), this._handles.add([a(() => this._view?.basemapTerrain?.rootTileElevationBounds, () => this._view?.basemapTerrain ? this._updateRootTileElevationBounds() : null), a(() => this._view?.basemapTerrain?.visibleElevationBounds, () => this._view?.basemapTerrain ? this._updateVisibleElevationBounds() : null), a(() => this._view?.environment.background, t => {\n      const s = t instanceof z ? e(t.color) : d;\n      h(this._passParameters.backgroundColor, s[0] * s[3], s[1] * s[3], s[2] * s[3]);\n    }, o)]);\n    const n = new q();\n    n.haze = !1, this._atmosphereTechnique = this._context.techniques.acquire(g, n), this._compositingTechnique = this._context.techniques.acquire(j, n), n.haze = !0, this._atmosphereHazeTechnique = this._context.techniques.acquire(g, n), this._compositingHazeTechnique = this._context.techniques.acquire(j, n), n.reduced = !0, n.haze = !1, this._atmosphereReducedTechnique = this._context.techniques.acquire(g, n), n.haze = !0, this._atmosphereHazeReducedTechnique = this._context.techniques.acquire(g, n), this._vao = P(r, w);\n  }\n  destroy() {\n    this._handles.destroy(), this._compositingTechnique.release(), this._compositingHazeTechnique.release(), this._atmosphereTechnique.release(), this._atmosphereHazeTechnique.release(), this._atmosphereReducedTechnique.release(), this._atmosphereHazeReducedTechnique.release(), this._vao.dispose();\n  }\n  render(e, t) {\n    this._render(e, t ? this._atmosphereTechnique : this._atmosphereReducedTechnique, t, !1);\n  }\n  renderHaze(e, t, s) {\n    this._fadeHaze = t, this._render(e, s ? this._atmosphereHazeTechnique : this._atmosphereHazeReducedTechnique, s, !0);\n  }\n  _render(e, t, s, r) {\n    const a = e.bindParameters.mainDepth;\n    if (!a) return;\n    this._update(e.bindParameters.camera), this._passParameters.depthTexture = a;\n    const o = e.rctx.bindTechnique(t, e.bindParameters, this._passParameters),\n      n = e.offscreenRenderingHelper;\n    if (s) n.renderDepthDetached(() => this._renderCommon(o, e));else {\n      const t = e.rctx.getViewport(),\n        s = m(e.bindParameters.camera.eye) - p.radius;\n      let h;\n      if (s < _) {\n        const e = Math.min(1, Math.max(0, s / _));\n        h = r ? i(.4, .5, e) : i(.2, .3, e);\n      } else {\n        const e = Math.min(1, Math.max(0, (s - _) / (15 * _)));\n        h = r ? i(.5, 1, e) : i(.3, .6, e);\n      }\n      const c = x(Math.round(h * e.bindParameters.camera.fullViewport[2])),\n        u = x(Math.round(h * e.bindParameters.camera.fullViewport[3]));\n      e.rctx.setViewport(0, 0, c, u);\n      const d = n.renderToCachedFBO(null, r ? \"chapman haze\" : \"chapman\", () => this._renderCommon(o, e), [0, 0, 0, 1], v.RGBA, null, c, u);\n      e.rctx.setViewport(t.x, t.y, t.width, t.height), this._compositingPassParameters.color = d.getTexture(), this._compositingPassParameters.depth = a;\n      const l = r ? this._compositingHazeTechnique : this._compositingTechnique;\n      e.rctx.bindTechnique(l, e.bindParameters, this._compositingPassParameters), n.renderDepthDetached(() => e.rctx.screen.draw()), d.release();\n    }\n  }\n  _renderCommon(e, t) {\n    null != this._vao && (t.rctx.bindVAO(this._vao), e.assertCompatibleVertexAttributeLocations(this._vao), t.rctx.drawArrays(E.TRIANGLE_STRIP, 0, 4));\n  }\n  _updateRootTileElevationBounds() {\n    const e = this._view.basemapTerrain.rootTileElevationBounds.min;\n    e !== this._rootTileElevationMin && (this._rootTileElevationMin = e, this._lowerBoundEarthRadius = p.radius, this._updateVisibleElevationBounds());\n  }\n  _updateVisibleElevationBounds() {\n    const e = H(p.radius + this._view.basemapTerrain.visibleElevationBounds.min);\n    e < this._lowerBoundEarthRadius && this._updateRadius(e);\n  }\n  _updateRadius(e) {\n    this._lowerBoundEarthRadius = e, n(this._passParameters.radii, e, e + _), this._passParameters.innerFadeDistance = 2 * Math.sqrt((2 * e - T) * T);\n  }\n  _update(e) {\n    if (!e) return;\n    const t = c(e.eye),\n      a = Math.sqrt(t),\n      o = t - this._passParameters.radii[1] * this._passParameters.radii[1],\n      n = s((a - this._passParameters.radii[0]) / _, 0, 1);\n    u(this._passParameters.heightParameters, a, t, o, n), this._passParameters.altitudeFade = f(a - this._lowerBoundEarthRadius), this._passParameters.hazeStrength = i(i(.6, 1, r(9500, 10500, a - p.radius)), 1, this._fadeHaze);\n  }\n}\nfunction H(e) {\n  return e * Math.cos(Math.PI / 16 / 16);\n}\nexport { B as ChapmanAtmosphere };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { C as e } from \"../../../chunks/CloudsComposition.glsl.js\";\nimport { ReloadableShaderModule as r } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as i } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { ShaderTechniqueConfiguration as o } from \"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as n } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as t } from \"../webgl-engine/lib/Program.js\";\nimport { BlendFactor as s, CompareFunction as l } from \"../../webgl/enums.js\";\nimport { makePipelineState as m, separateBlendingParams as a, defaultColorWriteParams as g } from \"../../webgl/renderState.js\";\nclass u extends i {\n  constructor(e) {\n    super(e, new o(), () => this.destroy());\n  }\n  initializeProgram(e) {\n    return new t(e.rctx, u.shader.get().build(), n);\n  }\n  initializePipeline() {\n    return m({\n      blending: a(s.ONE, s.ZERO, s.SRC_ALPHA, s.ONE),\n      depthTest: {\n        func: l.LEQUAL\n      },\n      colorWrite: g\n    });\n  }\n}\nu.shader = new r(e, () => import(\"./CloudsComposition.glsl.js\"));\nexport { u as CloudsCompositionTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport e from \"../../../core/Accessor.js\";\nimport { releaseMaybe as t, disposeMaybe as r } from \"../../../core/maybe.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { CloudsCompositionTechnique as n } from \"./CloudsCompositionTechnique.js\";\nimport { NoParameters as c } from \"../webgl-engine/core/shaderModules/interfaces.js\";\nimport { createQuadVAO as p } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { PrimitiveType as a } from \"../../webgl/enums.js\";\nlet m = class extends e {\n  constructor(o) {\n    super(o), this._technique = new n(o), this._vao = p(o.rctx);\n  }\n  destroy() {\n    this._technique = t(this._technique), this._vao = r(this._vao);\n  }\n  render(o) {\n    if (!this._technique.compiled) return void this.requestRender();\n    const e = o.bindParameters.cloudsFade;\n    if (null == this._vao || null == e.data) return;\n    const t = o.rctx.bindTechnique(this._technique, o.bindParameters, u);\n    o.rctx.bindVAO(this._vao), t.assertCompatibleVertexAttributeLocations(this._vao), o.rctx.drawArrays(a.TRIANGLE_STRIP, 0, 4);\n  }\n};\no([s({\n  constructOnly: !0\n})], m.prototype, \"rctx\", void 0), o([s({\n  constructOnly: !0\n})], m.prototype, \"viewingMode\", void 0), o([s({\n  constructOnly: !0\n})], m.prototype, \"planetRadius\", void 0), o([s({\n  constructOnly: !0\n})], m.prototype, \"requestRender\", void 0), m = o([i(\"esri.views.3d.environment.CloudsComposition\")], m);\nconst u = new c();\nexport { m as CloudsComposition };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { a as e } from \"../../../chunks/Clouds.glsl.js\";\nimport { CloudsTextureChannels as r } from \"./CloudsData.js\";\nimport { ReloadableShaderModule as i } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as t } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as o } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as n } from \"../webgl-engine/lib/Program.js\";\nimport { BlendOperation as s, BlendFactor as l, CompareFunction as a } from \"../../webgl/enums.js\";\nimport { makePipelineState as m, simpleBlendingParams as u, defaultColorWriteParams as g } from \"../../webgl/renderState.js\";\nclass d extends t {\n  constructor(e, r) {\n    super(e, r, () => this.destroy());\n  }\n  initializeProgram(e) {\n    return new n(e.rctx, d.shader.get().build(this.configuration), o);\n  }\n  initializePipeline() {\n    return m({\n      blending: u(l.CONSTANT_COLOR, l.ONE_MINUS_CONSTANT_COLOR, s.ADD, this.configuration.writeTextureChannels === r.RG ? [1, 1, 0, 0] : [0, 0, 1, 1]),\n      depthTest: {\n        func: a.LEQUAL\n      },\n      colorWrite: g\n    });\n  }\n}\nd.shader = new i(e, () => import(\"./Clouds.glsl.js\"));\nexport { d as CloudsTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { a as e } from \"../../../chunks/NoiseTextureAtlas.glsl.js\";\nimport { NoiseTextureRenderMode as r } from \"./NoiseTextureAtlasConfiguration.js\";\nimport { ReloadableShaderModule as i } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as t } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as o } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as n } from \"../webgl-engine/lib/Program.js\";\nimport { BlendFactor as s, CompareFunction as l } from \"../../webgl/enums.js\";\nimport { makePipelineState as a, simpleBlendingParams as m, separateBlendingParams as g, defaultColorWriteParams as u } from \"../../webgl/renderState.js\";\nclass d extends t {\n  initializeProgram(e) {\n    return new n(e.rctx, d.shader.get().build(this.configuration), o);\n  }\n  initializePipeline() {\n    return a({\n      blending: this.configuration.mode === r.Full ? m(s.ONE, s.ZERO) : g(s.ZERO, s.ONE, s.ONE, s.ZERO),\n      depthTest: {\n        func: l.ALWAYS\n      },\n      colorWrite: u\n    });\n  }\n}\nd.shader = new i(e, () => import(\"./NoiseTextureAtlas.glsl.js\"));\nexport { d as NoiseTextureAtlasTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { releaseMaybe as r, disposeMaybe as s } from \"../../../core/maybe.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { copy as o } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { N as n } from \"../../../chunks/NoiseTextureAtlas.glsl.js\";\nimport { NoiseTextureRenderMode as a, NoiseTextureAtlasTechniqueConfiguration as c } from \"./NoiseTextureAtlasConfiguration.js\";\nimport { atlasSize as u } from \"./NoiseTextureAtlasDimensions.js\";\nimport { NoiseTextureAtlasTechnique as l } from \"./NoiseTextureAtlasTechnique.js\";\nimport { createQuadVAO as _ } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { FramebufferObject as p } from \"../../webgl/FramebufferObject.js\";\nimport { TextureDescriptor as m } from \"../../webgl/TextureDescriptor.js\";\nlet d = class extends t {\n  constructor(e) {\n    super(e), this._needsRender = !0, this._passParameters = new n(), this._fbo = new p(e.context.renderContext.rctx, new m(u)), this._vao = _(e.context.renderContext.rctx);\n  }\n  get _techniques() {\n    return this.context.techniques;\n  }\n  get textureAtlas() {\n    return null != this._texture ? null != this._weatherMapTechnique && this._weatherMapTechnique.compiled && this._needsRender && (this._texture = this._render(a.WeatherMap)) : null != this._fullTechnique && this._fullTechnique.compiled && (this._texture = this._render(a.Full)), this._texture;\n  }\n  _setDirty() {\n    this._needsRender = !0;\n  }\n  updateWeatherMap(e) {\n    this._passParameters.weatherTile[0] === e[0] && this._passParameters.weatherTile[1] === e[1] || (o(this._passParameters.weatherTile, e), this._setDirty());\n  }\n  destroy() {\n    this._fullTechniqueCached = r(this._fullTechniqueCached), this._weatherMapTechniqueCached = r(this._weatherMapTechniqueCached), this._fbo = s(this._fbo), this._vao = s(this._vao);\n  }\n  get _fullTechnique() {\n    if (null == this._fullTechniqueCached) {\n      const e = new c();\n      e.mode = a.Full, this._fullTechniqueCached = this._techniques.acquire(l, e);\n    }\n    return this._fullTechniqueCached;\n  }\n  get _weatherMapTechnique() {\n    if (null == this._weatherMapTechniqueCached) {\n      const e = new c();\n      e.mode = a.WeatherMap, this._weatherMapTechniqueCached = this._techniques.acquire(l, e);\n    }\n    return this._weatherMapTechniqueCached;\n  }\n  _render(e) {\n    if (null == this._vao || null == this._fbo) return null;\n    const t = e === a.Full ? this._fullTechnique : this._weatherMapTechnique,\n      r = this.context.renderContext.rctx,\n      s = r.getViewport();\n    r.setViewport(0, 0, u, u), r.bindFramebuffer(this._fbo);\n    const i = r.bindTechnique(t, null, this._passParameters);\n    return r.bindVAO(this._vao), i.assertCompatibleVertexAttributeLocations(this._vao), r.gl.drawArrays(r.gl.TRIANGLE_STRIP, 0, 4), r.setViewport(s.x, s.y, s.width, s.height), this._needsRender = !1, this._fbo.colorTexture;\n  }\n};\ne([i({\n  constructOnly: !0\n})], d.prototype, \"context\", void 0), e([i({\n  readOnly: !0\n})], d.prototype, \"_techniques\", null), d = e([h(\"esri.views.3d.environment.NoiseTextureAtlas\")], d);\nexport { d as NoiseTextureAtlas };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { lerp as i } from \"../../../core/mathUtils.js\";\nimport { releaseMaybe as s, disposeMaybe as r, destroyMaybe as o } from \"../../../core/maybe.js\";\nimport { watch as a, initial as n } from \"../../../core/reactiveUtils.js\";\nimport { property as h } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as u } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { fromMat4 as l } from \"../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { targetTo as d } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as c } from \"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { set as m, equals as p, copy as f } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as _ } from \"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { fromValues as g, zeros as x } from \"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";\nimport { getReferenceEllipsoid as w } from \"../../../geometry/ellipsoidUtils.js\";\nimport { C as T } from \"../../../chunks/Clouds.glsl.js\";\nimport { CloudsTextureChannels as C, CloudsRenderingStages as v } from \"./CloudsData.js\";\nimport { FadeMode as y } from \"./CloudsParameters.js\";\nimport { cloudPresets as b } from \"./CloudsPresets.js\";\nimport { CloudsTechnique as P } from \"./CloudsTechnique.js\";\nimport { CloudsTechniqueConfiguration as S, RayMarchingSteps as j } from \"./CloudsTechniqueConfiguration.js\";\nimport { NoiseTextureAtlas as I } from \"./NoiseTextureAtlas.js\";\nimport { BindParameters as M } from \"../webgl-engine/lib/BindParameters.js\";\nimport { createQuadVAO as z } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { TaskPriority as E } from \"../../support/Scheduler.js\";\nimport { Yield as q } from \"../../support/Yield.js\";\nimport { TextureType as D, TextureWrapMode as U } from \"../../webgl/enums.js\";\nimport { FramebufferObject as R } from \"../../webgl/FramebufferObject.js\";\nimport { TextureDescriptor as F } from \"../../webgl/TextureDescriptor.js\";\nlet A = class extends t {\n  constructor(e) {\n    super(e), this._techniques = new Array(), this._techniqueConfiguration = new S(), this._bindParameters = new M(null, null), this._passParameters = new T(), this._weatherTile = _(), this._weatherTileCount = 128, this._faceIndex = 0, this._tileIndex = 0, this.coverage = i(b.default.coverage[0], b.default.coverage[1], .5), this.density = i(b.default.density[0], b.default.density[1], .5), this.absorption = i(b.default.absorption[0], b.default.absorption[1], .5), this.cloudSize = i(b.default.cloudSize[0], b.default.cloudSize[1], .5), this.detailSize = i(b.default.detailSize[0], b.default.detailSize[1], .5), this.smoothness = i(b.default.smoothness[0], b.default.smoothness[1], .5), this.cloudHeight = i(b.default.cloudHeight[0], b.default.cloudHeight[1], .5), this.raymarchingSteps = b.default.raymarchingSteps, this._viewMatrix = c(), this._dirty = !1, this.running = !1, this._vao = z(e.context.renderContext.rctx);\n  }\n  _getTechnique(e) {\n    const t = 1 - this.context.renderContext.bindParameters.cloudsFade.readChannels,\n      i = t === C.RG ? 2 * e : 2 * e + 1,\n      s = this._techniques[i];\n    return s || (this._techniqueConfiguration.writeTextureChannels = t, this._techniqueConfiguration.steps = e, this._techniques[i] = new P({\n      rctx: this.context.renderContext.rctx,\n      viewingMode: this.view.state.viewingMode\n    }, this._techniqueConfiguration), this._techniques[i]);\n  }\n  updateWeatherTile() {\n    const e = this.view.camera.position.latitude,\n      t = this.view.camera.position.longitude;\n    if (null == e || null == t) return;\n    m(this._weatherTile, (e + 90) / 180, (t + 180) / 360);\n    const i = Math.floor(this._weatherTileCount * Math.abs(2 * this._weatherTile[0] - 1));\n    this._weatherTile[0] = Math.floor(2 * this._weatherTileCount * this._weatherTile[0]), this._weatherTile[1] = Math.floor(4 * (this._weatherTileCount - i) * this._weatherTile[1]);\n    let s = 0,\n      r = 0;\n    if (null != this.view.environment && \"virtual\" !== this.view.environment.lighting.type && null != this.view.environment.lighting.date) {\n      const e = new Date(this.view.environment.lighting.date);\n      e.setUTCHours(this.view.environment.lighting.date.getUTCHours() + (this.view.environment.lighting.displayUTCOffset ?? 0)), s = 31 * e.getUTCMonth() + e.getUTCDate(), r = e.getUTCFullYear();\n    }\n    this._weatherTile[0] = (this._weatherTile[0] + s) % (2 * this._weatherTileCount), this._weatherTile[1] = (this._weatherTile[1] + r % 100) % (4 * this._weatherTileCount), p(this._passParameters.weatherTile, this._weatherTile) || this.setDirty();\n  }\n  initialize() {\n    const e = w(this.view.spatialReference);\n    this._passParameters.cloudRadius = .5 * e.radius, this.setDirty(), this.updateWeatherTile(), this.addHandles([this.view.resourceController.scheduler.registerTask(E.CLOUDS_GENERATOR, this), a(() => [this.coverage, this.density, this.absorption, this.cloudSize, this.detailSize, this.smoothness, this.cloudHeight, this.raymarchingSteps], () => this.setDirty(), n)]);\n  }\n  destroy() {\n    this._techniques.forEach(e => s(e)), this._frameBufferCube = r(this._frameBufferCube), this._techniques.length = 0, this._vao.dispose(), this._passParameters.noiseTexture = o(this._passParameters.noiseTexture);\n  }\n  get _tilesPerFace() {\n    switch (this._techniqueConfiguration.steps) {\n      case j.SIXTEEN:\n        return 1;\n      case j.HUNDRED:\n        return 4;\n      case j.COUNT:\n      case j.TWOHUNDRED:\n        return 8;\n    }\n  }\n  get usedMemory() {\n    return (this._frameBufferCube?.usedMemory ?? 0) + (this._passParameters.noiseTexture?.textureAtlas?.usedMemory ?? 0);\n  }\n  _ensureNoiseTexture() {\n    return this._passParameters.noiseTexture ??= new I({\n      context: this.context\n    }), this._passParameters.noiseTexture.updateWeatherMap(this._passParameters.weatherTile), null != this._passParameters.noiseTexture.textureAtlas;\n  }\n  _ensureFrameBufferCube(e) {\n    if (null == this._frameBufferCube) {\n      const t = new F(e);\n      t.target = D.TEXTURE_CUBE_MAP, t.wrapMode = U.CLAMP_TO_EDGE, this._frameBufferCube = new R(this.context.renderContext.rctx, t);\n    }\n    return this._frameBufferCube;\n  }\n  get cubeMap() {\n    return this._frameBufferCube;\n  }\n  destroyFrameBufferCube() {\n    this._frameBufferCube = r(this._frameBufferCube);\n  }\n  applyPreset(e, t) {\n    const s = e.median,\n      r = e => {\n        const r = i(e[0], e[1], s);\n        return t < .5 ? i(e[0], r, 2 * t) : i(r, e[1], 2 * (t - .5));\n      };\n    this.coverage = r(e.coverage), this.density = r(e.density), this.absorption = r(e.absorption), this.cloudSize = r(e.cloudSize), this.detailSize = r(e.detailSize), this.smoothness = r(e.smoothness), this.cloudHeight = r(e.cloudHeight), this.raymarchingSteps = e.raymarchingSteps;\n  }\n  setDirty() {\n    this._dirty = this.running = !0;\n  }\n  runTask(e) {\n    0 === this._faceIndex && 0 === this._tileIndex && (this._passParameters.raymarchingSteps = this.raymarchingSteps, this.updateWeatherTile(), f(this._passParameters.weatherTile, this._weatherTile));\n    const t = this._getTechnique(this._passParameters.raymarchingSteps);\n    if (!t.compiled) return q;\n    if (this.context.renderContext.bindParameters.cloudsFade.fadeMode === y.CROSS_FADE || !this._ensureNoiseTexture()) return q;\n    0 === this._faceIndex && 0 === this._tileIndex && (this.context.renderContext.bindParameters.cloudsFade.renderingStage = v.RENDERING, this._passParameters.absorption = this.absorption, this._passParameters.density = this.density, this._passParameters.cloudSize = this.cloudSize, this._passParameters.detailSize = this.detailSize, this._passParameters.smoothness = this.smoothness, this._passParameters.cloudHeight = this.cloudHeight, this._passParameters.coverage = this.coverage, this._dirty = !1);\n    const i = B[this._faceIndex],\n      s = H[this._faceIndex];\n    d(this._viewMatrix, O, i, s), l(this._passParameters.viewMatrix, this._viewMatrix);\n    const r = this.context.renderContext.rctx,\n      o = r.bindTechnique(t, this._bindParameters, this._passParameters);\n    r.bindVAO(this._vao), o.assertCompatibleVertexAttributeLocations(this._vao);\n    const a = r.getViewport(),\n      n = t.configuration.cubeMapSize,\n      h = n / this._tilesPerFace,\n      u = this._tileIndex * h;\n    r.setViewport(0, u, n, h);\n    const c = this._ensureFrameBufferCube(n);\n    r.bindFramebuffer(c);\n    const m = D.TEXTURE_CUBE_MAP_POSITIVE_X + this._faceIndex;\n    return c.setColorTextureTarget(m), r.gl.drawArrays(r.gl.TRIANGLE_STRIP, 0, 4), r.gl.flush(), r.setViewport(a.x, a.y, a.width, a.height), this.requestRender(), ++this._tileIndex, 4 === this._faceIndex && this._tileIndex === this._tilesPerFace ? (this.running = this._dirty, this._faceIndex = 0, this._tileIndex = 0, this.running || (this.context.renderContext.bindParameters.cloudsFade.renderingStage = v.FADING)) : this._tileIndex === this._tilesPerFace && (++this._faceIndex, this._tileIndex = 0), e.madeProgress(), q;\n  }\n};\ne([h({\n  constructOnly: !0\n})], A.prototype, \"context\", void 0), e([h({\n  constructOnly: !0\n})], A.prototype, \"view\", void 0), e([h({\n  constructOnly: !0\n})], A.prototype, \"requestRender\", void 0), e([h()], A.prototype, \"coverage\", void 0), e([h()], A.prototype, \"density\", void 0), e([h()], A.prototype, \"absorption\", void 0), e([h()], A.prototype, \"cloudSize\", void 0), e([h()], A.prototype, \"detailSize\", void 0), e([h()], A.prototype, \"smoothness\", void 0), e([h()], A.prototype, \"cloudHeight\", void 0), e([h()], A.prototype, \"raymarchingSteps\", void 0), e([h()], A.prototype, \"running\", void 0), A = e([u(\"esri.views.3d.environment.CloudsGenerator\")], A);\nconst B = [g(1, 0, 0), g(-1, 0, 0), g(0, 1, 0), g(0, -1, 0), g(0, 0, 1)],\n  H = [g(0, 1, 0), g(0, 1, 0), g(0, 0, -1), g(0, 0, 1), g(0, 1, 0)],\n  O = x();\nexport { A as CloudsGenerator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { a as e } from \"../../../chunks/Fog.glsl.js\";\nimport { ReloadableShaderModule as r } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as i } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { ShaderTechniqueConfiguration as o } from \"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as n } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as t } from \"../webgl-engine/lib/Program.js\";\nimport { BlendFactor as s } from \"../../webgl/enums.js\";\nimport { makePipelineState as l, separateBlendingParams as a, defaultColorWriteParams as g } from \"../../webgl/renderState.js\";\nclass m extends i {\n  constructor(e) {\n    super(e, new o(), () => this.destroy());\n  }\n  initializeProgram(e) {\n    return new t(e.rctx, m.shader.get().build(), n);\n  }\n  initializePipeline() {\n    return l({\n      blending: a(s.SRC_ALPHA, s.ZERO, s.ONE_MINUS_SRC_ALPHA, s.ONE),\n      colorWrite: g\n    });\n  }\n}\nm.shader = new r(e, () => import(\"./Fog.glsl.js\"));\nexport { m as FogTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport e from \"../../../core/Accessor.js\";\nimport { smoothstep as s } from \"../../../core/mathUtils.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { n as i, m as a, j as n, o as c, l as m } from \"../../../chunks/vec32.js\";\nimport { create as p } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as h } from \"../../../geometry/ellipsoidUtils.js\";\nimport { atmosphereHeight as u } from \"./atmosphereUtils.js\";\nimport { F as d } from \"../../../chunks/Fog.glsl.js\";\nimport { FogTechnique as l } from \"./FogTechnique.js\";\nimport { weatherHeightLimit as g } from \"./weather.js\";\nimport { Pos2Tex as f } from \"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";\nimport { createQuadVAO as _ } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { PrimitiveType as j } from \"../../webgl/enums.js\";\nconst b = .95,\n  v = 1;\nlet x = class extends e {\n  constructor(t) {\n    super(t), this._passParameters = new d();\n    const e = t.context.renderContext.rctx;\n    this._vao = _(e, f), this._technique = new l(t);\n    const s = h(t.view.spatialReference);\n    this._planetRadius = s.radius, this._atmosphereRadius = s.radius + u;\n  }\n  destroy() {\n    this._technique.release(), this._vao.dispose();\n  }\n  set strength(t) {\n    this._passParameters.fogStrength = t;\n  }\n  get strength() {\n    return this._passParameters.fogStrength;\n  }\n  render(t, e) {\n    if (this._update(t, e), this._passParameters.fogAmount <= 0) return;\n    const s = this._technique;\n    if (!s.compiled) return void this.context.requestRender();\n    const r = t.offscreenRenderingHelper;\n    r.renderDepthDetached(() => {\n      this._passParameters.depthTexture = r.depthTexture;\n      const e = t.rctx.bindTechnique(s, t.bindParameters, this._passParameters);\n      this._renderFog(e, t);\n    });\n  }\n  _renderFog(t, e) {\n    const s = e.rctx;\n    s.bindVAO(this._vao), t.assertCompatibleVertexAttributeLocations(this._vao), s.drawArrays(j.TRIANGLE_STRIP, 0, 4);\n  }\n  _update(t, e) {\n    const r = t.bindParameters.camera;\n    i(P, r.eye);\n    const o = Math.max(0, a(P, t.bindParameters.lighting.mainLight.direction)),\n      p = e.color;\n    n(w, p, .1), c(this._passParameters.fogColor, w, p, o);\n    const h = m(r.eye),\n      u = h * h;\n    this._passParameters.atmosphereC = u - this._atmosphereRadius * this._atmosphereRadius, this._passParameters.fogAmount = (1 - s(b * g, v * g, Math.abs(h - this._planetRadius))) * e.amount, this._passParameters.fogStrength = e.strength;\n  }\n};\nt([r({\n  constructOnly: !0\n})], x.prototype, \"context\", void 0), t([r({\n  constructOnly: !0\n})], x.prototype, \"view\", void 0), t([r({\n  constructOnly: !0\n})], x.prototype, \"rctx\", void 0), t([r({\n  constructOnly: !0\n})], x.prototype, \"viewingMode\", void 0), x = t([o(\"esri.views.3d.environment.Fog\")], x);\nclass y {\n  constructor() {\n    this.color = p(), this.strength = 0, this.amount = 0;\n  }\n}\nconst P = p(),\n  w = p();\nexport { x as Fog, y as FogParameters };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { a as e } from \"../../../chunks/SimpleAtmosphere.glsl.js\";\nimport { SimpleAtmosphereGeometry as r } from \"./SimpleAtmosphereTechniqueConfiguration.js\";\nimport { ReloadableShaderModule as i } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as o } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as t } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as n } from \"../webgl-engine/lib/Program.js\";\nimport { BlendFactor as l, CompareFunction as s } from \"../../webgl/enums.js\";\nimport { makePipelineState as m, separateBlendingParams as g, backFaceCullingParams as a, defaultColorWriteParams as p } from \"../../webgl/renderState.js\";\nclass h extends o {\n  initializeProgram(e) {\n    return new n(e.rctx, h.shader.get().build(this.configuration), t);\n  }\n  initializePipeline() {\n    return this.configuration.geometry === r.Cylinder ? m({\n      blending: g(l.SRC_ALPHA, l.ONE, l.ONE_MINUS_SRC_ALPHA, l.ONE_MINUS_SRC_ALPHA),\n      culling: a,\n      depthTest: {\n        func: s.LEQUAL\n      },\n      colorWrite: p\n    }) : m({\n      blending: g(l.SRC_ALPHA, l.ONE, l.ONE_MINUS_SRC_ALPHA, l.ONE_MINUS_SRC_ALPHA),\n      depthTest: {\n        func: s.LEQUAL\n      },\n      colorWrite: p\n    });\n  }\n}\nh.shader = new i(e, () => import(\"./SimpleAtmosphere.glsl.js\"));\nexport { h as SimpleAtmosphereTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e = new Uint8ClampedArray([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 6, 0, 0, 0, 6, 0, 0, 0, 6, 0, 0, 0, 6, 0, 0, 0, 6, 0, 0, 0, 7, 0, 0, 0, 7, 0, 0, 0, 7, 0, 0, 0, 7, 0, 0, 0, 7, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0, 9, 0, 0, 0, 9, 0, 0, 0, 9, 0, 0, 0, 9, 0, 0, 0, 9, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0, 0, 11, 0, 0, 0, 11, 0, 0, 0, 11, 0, 0, 0, 11, 0, 0, 0, 11, 0, 0, 0, 12, 0, 0, 0, 12, 0, 0, 0, 12, 0, 0, 0, 12, 0, 0, 0, 13, 0, 0, 0, 13, 0, 0, 0, 13, 0, 0, 0, 13, 0, 0, 0, 14, 0, 0, 0, 14, 0, 0, 0, 14, 0, 0, 0, 14, 0, 0, 0, 15, 0, 0, 0, 15, 0, 0, 0, 15, 0, 0, 0, 15, 0, 0, 0, 15, 16, 0, 0, 16, 16, 0, 0, 16, 16, 0, 0, 16, 16, 0, 0, 16, 15, 0, 0, 17, 15, 0, 0, 17, 15, 0, 0, 17, 15, 0, 0, 17, 14, 0, 0, 18, 14, 0, 0, 18, 14, 0, 0, 18, 13, 0, 0, 19, 13, 0, 0, 19, 13, 0, 0, 19, 13, 0, 0, 19, 13, 0, 0, 20, 13, 0, 0, 20, 13, 0, 0, 20, 13, 0, 0, 20, 12, 0, 0, 21, 12, 0, 0, 21, 12, 0, 0, 21, 12, 0, 0, 21, 12, 0, 0, 22, 12, 0, 0, 22, 12, 0, 0, 22, 12, 0, 0, 22, 11, 0, 0, 23, 11, 0, 0, 23, 11, 0, 0, 23, 11, 0, 0, 24, 11, 0, 0, 24, 11, 0, 0, 24, 11, 0, 0, 24, 10, 0, 0, 25, 10, 0, 0, 25, 10, 0, 0, 25, 10, 0, 0, 26, 10, 0, 0, 26, 10, 0, 0, 26, 10, 0, 0, 26, 9, 0, 0, 27, 9, 0, 0, 27, 9, 0, 0, 27, 18, 0, 0, 28, 18, 0, 0, 28, 18, 0, 0, 28, 18, 0, 0, 28, 18, 0, 0, 29, 18, 0, 0, 29, 18, 0, 0, 29, 17, 0, 0, 30, 17, 0, 0, 30, 17, 0, 0, 30, 17, 0, 0, 30, 16, 0, 0, 31, 16, 0, 0, 31, 16, 0, 0, 31, 16, 0, 0, 32, 16, 0, 0, 32, 16, 0, 0, 32, 15, 0, 0, 33, 15, 0, 0, 33, 15, 0, 0, 33, 15, 0, 0, 34, 15, 8, 0, 34, 15, 8, 0, 34, 15, 8, 0, 34, 15, 7, 0, 35, 15, 7, 0, 35, 15, 7, 0, 35, 21, 7, 0, 36, 21, 7, 0, 36, 21, 7, 0, 36, 21, 7, 0, 37, 21, 7, 0, 37, 21, 7, 0, 37, 20, 7, 0, 38, 20, 7, 0, 38, 20, 7, 0, 38, 20, 7, 0, 39, 20, 7, 0, 39, 20, 7, 0, 39, 20, 7, 0, 39, 19, 6, 0, 40, 19, 6, 0, 40, 19, 6, 0, 40, 19, 6, 0, 41, 19, 6, 0, 41, 19, 6, 0, 41, 18, 6, 0, 42, 18, 6, 0, 42, 18, 6, 0, 42, 24, 6, 0, 43, 24, 6, 0, 43, 24, 6, 0, 43, 23, 6, 0, 44, 23, 6, 0, 44, 23, 6, 0, 44, 23, 6, 0, 45, 23, 6, 0, 45, 23, 6, 0, 45, 22, 6, 0, 46, 22, 6, 0, 46, 22, 6, 0, 46, 22, 5, 0, 47, 22, 5, 0, 47, 22, 5, 0, 47, 21, 5, 0, 48, 21, 5, 0, 48, 21, 5, 0, 48, 21, 5, 0, 49, 21, 5, 0, 49, 26, 5, 0, 49, 25, 5, 0, 50, 25, 5, 0, 50, 25, 5, 0, 50, 25, 5, 0, 51, 25, 5, 0, 51, 25, 5, 0, 51, 25, 5, 0, 52, 25, 5, 0, 52, 25, 5, 0, 52, 24, 5, 0, 53, 24, 5, 0, 53, 24, 5, 0, 53, 24, 9, 0, 54, 28, 9, 0, 54, 28, 9, 0, 54, 28, 9, 0, 55, 28, 9, 0, 55, 27, 9, 0, 56, 27, 9, 0, 56, 27, 9, 0, 56, 27, 9, 4, 57, 27, 9, 4, 57, 27, 9, 4, 57, 26, 9, 4, 58, 26, 9, 4, 58, 26, 9, 4, 58, 26, 9, 4, 59, 26, 9, 4, 59, 26, 9, 4, 59, 26, 8, 4, 60, 30, 8, 4, 60, 30, 8, 4, 60, 29, 8, 4, 61, 29, 8, 4, 61, 29, 8, 4, 62, 29, 8, 4, 62, 29, 8, 4, 62, 28, 8, 4, 63, 28, 8, 4, 63, 28, 8, 4, 63, 28, 12, 4, 64, 28, 12, 4, 64, 28, 12, 4, 64, 27, 12, 4, 65, 27, 12, 8, 65, 27, 12, 8, 65, 31, 12, 8, 66, 31, 12, 8, 66, 30, 11, 8, 67, 30, 11, 8, 67, 30, 11, 8, 67, 30, 11, 8, 68, 30, 11, 8, 68, 30, 11, 8, 68, 30, 15, 7, 69, 30, 15, 7, 69, 30, 15, 7, 69, 33, 15, 11, 70, 33, 15, 11, 70, 32, 14, 11, 71, 32, 14, 11, 71, 32, 14, 11, 71, 32, 18, 14, 72, 32, 18, 14, 72, 32, 18, 14, 72, 31, 17, 14, 73, 35, 17, 14, 73, 34, 17, 17, 74, 34, 21, 17, 74, 34, 21, 17, 74, 34, 20, 17, 75, 34, 20, 20, 75, 34, 20, 20, 75, 34, 23, 20, 76, 34, 23, 20, 76, 36, 23, 23, 77, 36, 23, 23, 77, 36, 23, 23, 77, 36, 23, 23, 78, 36, 26, 26, 78, 36, 26, 26, 78, 36, 26, 26, 79, 36, 26, 29, 79, 38, 26, 29, 80, 38, 29, 29, 80, 38, 29, 29, 80, 38, 28, 31, 81, 38, 28, 31, 81, 38, 31, 31, 81, 37, 31, 34, 82, 37, 31, 34, 82, 37, 31, 37, 83, 40, 34, 37, 83, 40, 34, 37, 83, 39, 33, 39, 84, 39, 33, 39, 84, 39, 36, 42, 84, 39, 36, 42, 85, 39, 36, 42, 85, 39, 36, 42, 85, 39, 39, 44, 86, 39, 39, 44, 86, 41, 38, 47, 87, 41, 41, 47, 87, 41, 41, 50, 87, 41, 41, 49, 88, 41, 41, 52, 88, 40, 43, 52, 89, 43, 43, 52, 89, 43, 43, 54, 89, 42, 45, 54, 90, 42, 45, 57, 90, 42, 45, 57, 90, 42, 45, 59, 91, 42, 48, 59, 91, 44, 47, 61, 92, 44, 47, 61, 92, 44, 50, 61, 92, 44, 49, 63, 93, 44, 49, 63, 93, 44, 52, 66, 93, 43, 52, 65, 94, 46, 54, 68, 94, 46, 54, 70, 95, 46, 54, 70, 95, 46, 54, 70, 95, 45, 56, 72, 96, 45, 56, 72, 96, 45, 58, 74, 97, 47, 58, 76, 97, 47, 58, 76, 97, 47, 60, 78, 98, 47, 60, 78, 98, 47, 60, 81, 98, 49, 62, 80, 99, 49, 62, 82, 99, 48, 61, 84, 100, 48, 64, 84, 100, 48, 64, 84, 100, 50, 63, 86, 101, 50, 66, 86, 101, 50, 66, 88, 101, 50, 65, 90, 102, 52, 67, 89, 103, 51, 69, 91, 104, 51, 68, 92, 105, 52, 69, 93, 107, 52, 71, 94, 108, 54, 70, 96, 109, 53, 71, 96, 111, 52, 73, 98, 112, 54, 72, 98, 114, 53, 73, 100, 115, 54, 72, 100, 117, 54, 73, 102, 118, 55, 74, 104, 120, 55, 76, 105, 121, 56, 77, 106, 123, 56, 76, 107, 124, 57, 79, 107, 126, 58, 78, 110, 128, 57, 79, 111, 129, 56, 80, 113, 131, 58, 79, 112, 132, 57, 82, 114, 134, 58, 81, 116, 136, 60, 82, 117, 137, 59, 83, 117, 139, 60, 83, 119, 141, 59, 84, 120, 142, 60, 85, 122, 144, 59, 86, 122, 146, 60, 86, 126, 148, 62, 87, 127, 149, 61, 88, 127, 151, 62, 88, 128, 153, 63, 89, 130, 155, 62, 90, 131, 156, 63, 90, 132, 158, 64, 91, 134, 160, 65, 91, 135, 162, 64, 92, 136, 163, 63, 93, 138, 165, 66, 95, 139, 167, 65, 95, 140, 169, 66, 95, 142, 171, 67, 96, 142, 172, 66, 97, 144, 174, 67, 99, 145, 176, 67, 97, 148, 178, 67, 99, 147, 180, 68, 100, 149, 181, 68, 100, 150, 183, 69, 101, 152, 185, 70, 102, 153, 187, 71, 103, 155, 188, 70, 103, 156, 190, 70, 104, 157, 192, 71, 105, 158, 194, 71, 106, 160, 195, 72, 106, 161, 197, 72, 108, 161, 199, 73, 108, 163, 200, 73, 109, 164, 202, 74, 109, 165, 204, 74, 110, 167, 206, 75, 111, 168, 207, 74, 112, 170, 209, 75, 112, 170, 210, 76, 113, 171, 212, 76, 114, 173, 214, 77, 115, 174, 215, 78, 115, 175, 217, 78, 116, 175, 218, 78, 117, 177, 220, 78, 118, 178, 221, 79, 118, 180, 223, 80, 120, 180, 224, 81, 120, 181, 226, 81, 120, 182, 227, 82, 121, 184, 229, 82, 122, 185, 230, 84, 123, 186, 232, 83, 123, 187, 233, 84, 124, 189, 234, 84, 125, 188, 235, 85, 126, 189, 237, 86, 126, 190, 238, 86, 127, 191, 239, 87, 127, 192, 240, 87, 129, 193, 242, 88, 129, 194, 243, 89, 130, 195, 244, 90, 131, 196, 245, 90, 132, 197, 246, 91, 132, 197, 247, 92, 133, 198, 248, 92, 134, 199, 249, 93, 135, 200, 250, 94, 136, 201, 251, 95, 137, 202, 252, 96, 138, 203, 253, 97, 140, 204, 254, 98, 141, 205, 254, 99, 142, 206, 255, 101, 143, 207, 255, 102, 144, 208, 255, 103, 146, 209, 255, 104, 147, 209, 255, 106, 148, 210, 255, 107, 149, 211, 255, 108, 151, 212, 255, 110, 152, 213, 255, 111, 153, 213, 255, 112, 154, 214, 255, 114, 156, 215, 255, 115, 157, 215, 255, 117, 158, 216, 255, 118, 160, 217, 255, 120, 161, 217, 255, 121, 162, 218, 255, 123, 164, 218, 255, 124, 165, 219, 255, 125, 166, 219, 255, 127, 167, 220, 255, 129, 169, 220, 255, 130, 170, 221, 255, 132, 171, 221, 255, 133, 173, 222, 255, 134, 174, 222, 255, 136, 175, 223, 255, 139, 178, 224, 255, 142, 180, 224, 255, 144, 182, 225, 255, 147, 185, 226, 255, 150, 187, 226, 255, 153, 189, 227, 255, 155, 191, 228, 255, 158, 194, 228, 255, 160, 196, 229, 255, 163, 198, 229, 255, 165, 200, 230, 255, 168, 202, 231, 255, 170, 203, 231, 255, 172, 205, 232, 255, 174, 207, 232, 255, 176, 209, 233, 255, 178, 210, 234, 255, 180, 212, 234, 255, 182, 214, 235, 255, 184, 215, 236, 255, 186, 217, 237, 255, 188, 219, 238, 255, 190, 220, 238, 255, 192, 221, 239, 255, 193, 222, 240, 255, 194, 224, 240, 255, 196, 225, 241, 255, 197, 226, 241, 255, 198, 226, 242, 255, 199, 227, 242, 255, 200, 228, 242, 255, 201, 228, 243, 255, 202, 229, 243, 255, 203, 230, 243, 255, 204, 230, 244, 255, 205, 231, 244, 255, 207, 232, 244, 255, 208, 233, 245, 255, 209, 233, 245, 255, 211, 234, 246, 255, 213, 235, 246, 255, 217, 238, 247, 255, 222, 240, 248, 255, 226, 242, 249, 255, 231, 245, 250, 255, 236, 247, 251, 255, 241, 249, 252, 255, 245, 251, 253, 255, 249, 252, 254, 255, 255, 255, 255, 255]);\nexport { e as earthAtmosphereTextureSimple };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e } from \"../../../core/maybe.js\";\nimport { copy as t } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as r } from \"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { AtmosphereType as i } from \"./AtmosphereType.js\";\nimport { S as o } from \"../../../chunks/SimpleAtmosphere.glsl.js\";\nimport { SimpleAtmosphereTechnique as s } from \"./SimpleAtmosphereTechnique.js\";\nimport { SimpleAtmosphereTechniqueConfiguration as m, SimpleAtmosphereGeometry as a } from \"./SimpleAtmosphereTechniqueConfiguration.js\";\nimport { earthAtmosphereTextureSimple as n } from \"./resources/SimpleAtmosphereTexture.js\";\nimport { glLayout as p } from \"../support/buffer/glUtil.js\";\nimport { newLayout as f } from \"../support/buffer/InterleavedLayout.js\";\nimport { Default3D as c } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { createPolySphereData as u } from \"../webgl-engine/lib/GeometryUtil.js\";\nimport { VertexArrayObject as h } from \"../webgl-engine/lib/VertexArrayObject.js\";\nimport { VertexAttribute as l } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { BufferObject as b } from \"../../webgl/BufferObject.js\";\nimport { TextureWrapMode as g, PrimitiveType as j, Usage as _ } from \"../../webgl/enums.js\";\nimport { Texture as x } from \"../../webgl/Texture.js\";\nimport { TextureDescriptor as w } from \"../../webgl/TextureDescriptor.js\";\nimport { vertexCount as d } from \"../../webgl/Util.js\";\nclass A {\n  constructor(e, t) {\n    this.type = i.Local, this._configuration = new m(), this._passParameters = new o(), this._configuration.geometry = a.Cylinder, this._technique = t.techniques.acquire(s, this._configuration);\n    const r = t.renderContext.rctx;\n    this._vao = y(r), this._vaoCount = d(this._vao, \"geometry\");\n    const p = new w();\n    p.wrapMode = g.CLAMP_TO_EDGE, p.flipped = !0, p.width = 1, p.height = 512, this._passParameters.texture = new x(r, p, n);\n  }\n  destroy() {\n    this._passParameters.texture = e(this._passParameters.texture), this._vao.dispose(), this._technique.release();\n  }\n  render(e) {\n    const t = e.rctx,\n      r = t.bindTechnique(this._technique, e.bindParameters, this._passParameters);\n    T(v, e.bindParameters.camera.viewMatrix), r.setUniformMatrix4fv(\"view\", v), t.bindVAO(this._vao), r.assertCompatibleVertexAttributeLocations(this._vao), t.drawArrays(j.TRIANGLES, 0, this._vaoCount);\n  }\n  renderHaze() {\n    return !1;\n  }\n}\nfunction y(e) {\n  const t = u(1, 2, !1),\n    {\n      data: r,\n      indices: i\n    } = t[0][1],\n    o = P.createBuffer(i.length),\n    s = o.position;\n  for (let m = 0; m < i.length; ++m) {\n    const e = 3 * i[m % 3 == 0 ? m + 2 : m % 3 == 2 ? m - 2 : m];\n    s.set(m, 0, r[e]), s.set(m, 1, r[e + 1]), s.set(m, 2, r[e + 2]);\n  }\n  return new h(e, c, {\n    geometry: p(P)\n  }, {\n    geometry: b.createVertex(e, _.STATIC_DRAW, o.buffer)\n  });\n}\nfunction T(e, r) {\n  t(e, r), e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1;\n}\nconst v = r(),\n  P = f().vec3f(l.POSITION);\nexport { A as LocalAtmosphere };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e = new Uint8ClampedArray([0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0, 6, 0, 0, 0, 6, 0, 0, 0, 7, 0, 0, 0, 7, 0, 0, 0, 7, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0, 9, 0, 0, 0, 9, 0, 0, 0, 9, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0, 0, 11, 0, 0, 0, 11, 0, 0, 0, 11, 0, 0, 0, 12, 0, 0, 0, 12, 0, 0, 0, 12, 0, 0, 0, 13, 0, 0, 0, 13, 0, 0, 0, 14, 0, 0, 0, 14, 0, 0, 0, 14, 0, 0, 0, 14, 0, 0, 0, 14, 0, 0, 0, 15, 0, 0, 0, 15, 0, 0, 0, 16, 0, 0, 0, 16, 0, 0, 0, 16, 0, 0, 0, 17, 0, 0, 0, 17, 0, 0, 0, 18, 0, 0, 0, 18, 0, 0, 0, 19, 0, 0, 0, 19, 0, 0, 0, 19, 0, 0, 0, 20, 0, 0, 0, 20, 0, 0, 0, 21, 0, 0, 0, 21, 0, 0, 0, 22, 0, 0, 0, 22, 11, 0, 0, 23, 11, 0, 0, 23, 11, 0, 0, 23, 11, 0, 0, 23, 11, 0, 0, 24, 11, 0, 0, 24, 11, 0, 0, 24, 10, 0, 0, 25, 10, 0, 0, 25, 10, 0, 0, 26, 10, 0, 0, 26, 9, 0, 0, 27, 9, 0, 0, 27, 9, 0, 0, 28, 9, 0, 0, 28, 9, 0, 0, 29, 9, 0, 0, 29, 8, 0, 0, 30, 8, 0, 0, 30, 8, 0, 0, 31, 8, 0, 0, 31, 8, 0, 0, 32, 8, 0, 0, 32, 8, 0, 0, 32, 8, 0, 0, 32, 8, 0, 0, 33, 8, 0, 0, 33, 8, 0, 0, 34, 7, 0, 0, 35, 7, 0, 0, 35, 7, 0, 0, 36, 7, 0, 0, 36, 7, 7, 0, 37, 7, 7, 0, 37, 7, 7, 0, 38, 7, 7, 0, 38, 13, 7, 0, 39, 13, 7, 0, 39, 13, 6, 0, 40, 13, 6, 0, 40, 12, 6, 0, 41, 12, 6, 0, 41, 12, 6, 0, 41, 12, 6, 0, 42, 12, 6, 0, 42, 12, 6, 0, 43, 12, 6, 0, 43, 12, 6, 0, 44, 12, 6, 0, 44, 11, 6, 0, 45, 11, 6, 6, 45, 11, 6, 6, 46, 11, 5, 5, 47, 11, 5, 5, 47, 11, 5, 5, 48, 11, 5, 5, 48, 10, 5, 5, 49, 10, 5, 5, 49, 10, 5, 5, 50, 15, 5, 5, 51, 15, 5, 5, 51, 15, 5, 5, 51, 15, 5, 5, 51, 15, 5, 5, 52, 15, 5, 5, 52, 14, 5, 5, 53, 14, 5, 5, 54, 14, 5, 5, 54, 14, 5, 5, 55, 14, 5, 5, 55, 14, 5, 5, 56, 13, 4, 4, 57, 13, 4, 4, 57, 13, 4, 4, 58, 13, 4, 4, 58, 13, 4, 4, 59, 13, 4, 4, 59, 17, 4, 4, 60, 17, 4, 4, 60, 17, 4, 4, 60, 17, 4, 4, 61, 17, 4, 4, 61, 16, 4, 4, 62, 16, 4, 4, 63, 16, 4, 4, 63, 16, 8, 4, 64, 16, 8, 4, 64, 16, 8, 4, 65, 15, 8, 4, 66, 15, 8, 4, 66, 15, 8, 4, 67, 19, 8, 4, 68, 19, 8, 4, 68, 18, 7, 4, 69, 18, 7, 4, 69, 18, 7, 4, 69, 18, 7, 4, 70, 18, 7, 4, 70, 18, 7, 4, 71, 18, 7, 4, 71, 18, 7, 4, 72, 17, 7, 3, 73, 17, 7, 3, 73, 21, 7, 3, 74, 21, 7, 3, 74, 20, 7, 3, 75, 20, 7, 3, 76, 20, 7, 3, 76, 20, 7, 3, 77, 20, 7, 3, 77, 20, 7, 3, 78, 20, 7, 3, 78, 20, 7, 7, 78, 19, 6, 6, 79, 19, 10, 6, 80, 19, 10, 6, 80, 22, 9, 6, 81, 22, 9, 6, 81, 22, 9, 6, 82, 22, 9, 6, 83, 22, 9, 6, 83, 21, 9, 6, 84, 21, 9, 6, 84, 21, 9, 6, 85, 21, 9, 6, 86, 21, 9, 6, 86, 23, 9, 6, 87, 23, 9, 6, 87, 23, 9, 6, 87, 23, 9, 6, 88, 23, 9, 6, 88, 23, 9, 6, 89, 23, 8, 6, 90, 23, 8, 6, 90, 22, 8, 6, 91, 22, 8, 6, 91, 25, 8, 6, 92, 25, 8, 5, 93, 25, 8, 5, 93, 24, 8, 5, 94, 24, 8, 5, 94, 24, 11, 5, 95, 24, 11, 5, 96, 24, 11, 5, 96, 26, 11, 5, 97, 26, 11, 5, 97, 26, 11, 5, 97, 26, 10, 5, 98, 26, 10, 5, 98, 26, 10, 5, 99, 25, 10, 5, 100, 25, 10, 5, 100, 25, 10, 5, 101, 25, 10, 5, 101, 25, 10, 5, 102, 27, 10, 5, 103, 27, 10, 5, 103, 27, 10, 5, 104, 27, 10, 5, 104, 27, 12, 5, 105, 26, 12, 5, 106, 26, 12, 5, 106, 29, 12, 5, 106, 29, 12, 5, 106, 29, 12, 7, 107, 28, 12, 7, 108, 28, 12, 7, 108, 28, 12, 7, 109, 28, 12, 7, 109, 30, 12, 7, 110, 30, 11, 7, 111, 30, 11, 7, 111, 30, 11, 7, 112, 30, 11, 7, 112, 29, 11, 7, 113, 29, 11, 7, 114, 29, 11, 7, 114, 31, 11, 7, 115, 31, 11, 7, 115, 31, 11, 7, 115, 31, 11, 7, 116, 31, 11, 7, 116, 33, 13, 7, 117, 33, 13, 9, 117, 32, 13, 9, 118, 32, 13, 9, 118, 32, 13, 9, 119, 34, 15, 8, 120, 34, 15, 8, 120, 34, 15, 8, 121, 36, 15, 8, 121, 36, 15, 8, 122, 36, 15, 8, 122, 35, 15, 8, 123, 37, 14, 8, 124, 37, 14, 8, 124, 37, 14, 8, 124, 37, 14, 8, 124, 39, 14, 8, 125, 39, 16, 8, 125, 38, 16, 8, 126, 38, 16, 8, 127, 38, 16, 8, 127, 40, 16, 10, 128, 40, 16, 10, 128, 40, 16, 10, 129, 42, 18, 10, 129, 41, 18, 10, 130, 41, 18, 10, 130, 43, 18, 10, 131, 43, 18, 10, 131, 42, 17, 10, 132, 42, 17, 12, 132, 42, 17, 12, 133, 44, 17, 12, 133, 44, 17, 12, 133, 46, 17, 11, 134, 46, 17, 11, 134, 45, 19, 11, 135, 45, 19, 11, 135, 47, 19, 11, 136, 47, 19, 11, 136, 47, 19, 11, 137, 47, 19, 11, 137, 48, 20, 11, 138, 48, 20, 11, 138, 50, 20, 13, 139, 50, 20, 13, 139, 49, 20, 13, 140, 49, 22, 13, 140, 51, 22, 13, 141, 51, 22, 13, 141, 50, 22, 13, 142, 52, 22, 13, 142, 52, 21, 12, 143, 53, 21, 12, 143, 53, 21, 12, 143, 53, 21, 12, 143, 53, 21, 14, 144, 53, 23, 14, 144, 55, 23, 14, 145, 55, 23, 14, 145, 56, 23, 14, 146, 56, 23, 14, 146, 57, 24, 14, 147, 57, 24, 14, 147, 59, 24, 16, 148, 59, 24, 16, 148, 58, 24, 15, 149, 58, 26, 15, 149, 58, 26, 15, 149, 60, 26, 15, 150, 60, 26, 15, 150, 61, 25, 15, 151, 61, 25, 15, 151, 62, 25, 17, 152, 62, 25, 17, 152, 64, 25, 17, 152, 64, 27, 17, 152, 63, 27, 17, 153, 63, 27, 17, 153, 65, 27, 17, 153, 66, 28, 17, 154, 66, 28, 17, 154, 67, 28, 16, 155, 67, 28, 16, 155, 67, 30, 16, 155, 69, 29, 18, 156, 69, 29, 18, 156, 68, 29, 18, 157, 70, 29, 18, 157, 70, 29, 18, 157, 71, 31, 18, 158, 71, 31, 18, 158, 72, 30, 19, 159, 72, 30, 19, 159, 74, 30, 19, 159, 73, 30, 19, 160, 73, 32, 19, 160, 74, 32, 19, 161, 74, 32, 21, 161, 76, 32, 21, 161, 78, 33, 21, 161, 78, 33, 21, 161, 79, 35, 20, 162, 78, 34, 20, 163, 79, 34, 22, 164, 81, 36, 22, 164, 82, 36, 22, 165, 81, 35, 22, 166, 82, 37, 21, 167, 84, 37, 21, 167, 85, 36, 21, 168, 86, 38, 23, 169, 88, 38, 23, 169, 88, 38, 23, 170, 88, 39, 23, 170, 89, 39, 24, 171, 91, 40, 24, 171, 92, 40, 24, 172, 93, 40, 24, 173, 94, 41, 25, 173, 95, 41, 25, 174, 96, 42, 25, 175, 98, 42, 25, 175, 99, 43, 26, 176, 99, 43, 26, 177, 101, 45, 26, 177, 102, 44, 26, 178, 103, 46, 27, 179, 104, 46, 27, 179, 105, 46, 27, 179, 106, 45, 28, 180, 108, 47, 28, 180, 108, 46, 28, 181, 109, 48, 28, 182, 111, 48, 29, 182, 111, 49, 29, 183, 114, 49, 29, 184, 114, 50, 30, 184, 114, 50, 30, 185, 116, 51, 30, 185, 117, 51, 30, 186, 119, 52, 31, 187, 119, 53, 31, 187, 121, 53, 31, 188, 122, 54, 33, 188, 123, 54, 32, 189, 124, 55, 32, 189, 125, 55, 32, 189, 126, 56, 34, 190, 128, 56, 34, 190, 128, 57, 33, 191, 130, 57, 33, 191, 131, 58, 35, 192, 131, 58, 35, 192, 133, 59, 34, 193, 134, 60, 35, 194, 135, 60, 35, 194, 136, 61, 37, 195, 139, 61, 37, 195, 139, 62, 36, 196, 141, 62, 36, 196, 141, 63, 38, 197, 142, 63, 38, 197, 143, 64, 39, 198, 144, 64, 39, 198, 146, 66, 39, 198, 146, 67, 39, 198, 147, 67, 38, 199, 147, 68, 40, 199, 149, 68, 40, 200, 150, 69, 40, 200, 152, 70, 41, 201, 154, 71, 41, 201, 154, 71, 42, 202, 155, 72, 42, 202, 156, 73, 41, 203, 157, 73, 43, 203, 158, 74, 42, 204, 160, 75, 44, 204, 161, 76, 44, 204, 162, 77, 44, 205, 164, 77, 45, 205, 165, 78, 45, 206, 166, 79, 45, 206, 168, 80, 46, 207, 169, 81, 46, 207, 170, 83, 47, 207, 171, 83, 47, 207, 172, 83, 47, 207, 174, 85, 48, 208, 175, 85, 48, 208, 177, 85, 48, 209, 178, 87, 49, 209, 180, 87, 49, 210, 181, 87, 49, 210, 182, 89, 50, 210, 182, 89, 50, 211, 185, 91, 50, 211, 186, 91, 51, 212, 186, 93, 51, 212, 189, 94, 52, 212, 190, 95, 51, 213, 192, 96, 51, 213, 193, 96, 53, 213, 194, 97, 52, 214, 195, 98, 54, 214, 197, 98, 55, 215, 198, 100, 55, 215, 199, 101, 55, 215, 200, 102, 55, 216, 202, 103, 55, 216, 203, 104, 55, 216, 204, 105, 57, 216, 205, 106, 57, 216, 207, 107, 58, 216, 208, 108, 58, 217, 209, 109, 59, 217, 210, 110, 60, 217, 211, 111, 60, 218, 212, 112, 61, 218, 213, 113, 61, 218, 214, 114, 62, 219, 217, 115, 63, 219, 217, 116, 64, 219, 218, 118, 64, 220, 219, 119, 65, 220, 220, 121, 66, 220, 222, 121, 67, 221, 222, 122, 67, 221, 222, 123, 68, 221, 223, 124, 69, 222, 224, 125, 70, 222, 225, 127, 71, 222, 226, 128, 72, 223, 228, 129, 73, 223, 228, 130, 74, 223, 229, 132, 75, 223, 230, 135, 79, 224, 231, 138, 81, 224, 233, 141, 84, 224, 233, 144, 87, 225, 235, 147, 91, 225, 236, 150, 94, 225, 237, 154, 97, 225, 238, 158, 102, 225, 239, 161, 107, 225, 239, 165, 110, 225, 240, 168, 114, 226, 241, 172, 118, 226, 241, 176, 122, 226, 241, 181, 126, 226, 242, 183, 130, 227, 243, 186, 135, 227, 243, 190, 139, 227, 244, 194, 143, 227, 244, 197, 147, 228, 244, 200, 150, 228, 245, 204, 154, 228, 245, 207, 157, 228, 245, 210, 161, 229, 246, 212, 164, 229, 246, 215, 167, 229, 246, 217, 169, 229, 246, 220, 172, 230, 247, 221, 174, 230]);\nexport { e as marsAtmosphereTextureSimple };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { lerp as e, clamp as t } from \"../../../core/mathUtils.js\";\nimport { disposeMaybe as s } from \"../../../core/maybe.js\";\nimport { watch as r, syncAndInitial as i } from \"../../../core/reactiveUtils.js\";\nimport { lookAt as a } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as o } from \"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { set as n } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { l as h, j as m, g as c, p, b as u, q as l } from \"../../../chunks/vec32.js\";\nimport { create as _ } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as d } from \"../../../geometry/ellipsoidUtils.js\";\nimport { newFloatArray as f } from \"../../../geometry/support/FloatArray.js\";\nimport { AtmosphereType as g } from \"./AtmosphereType.js\";\nimport { computeInnerAltitudeFade as b, innerAtmosphereDepth as x } from \"./atmosphereUtils.js\";\nimport { S as j } from \"../../../chunks/SimpleAtmosphere.glsl.js\";\nimport { SimpleAtmosphereTechnique as R } from \"./SimpleAtmosphereTechnique.js\";\nimport { SimpleAtmosphereTechniqueConfiguration as V, SimpleAtmosphereGeometry as w } from \"./SimpleAtmosphereTechniqueConfiguration.js\";\nimport { marsAtmosphereTextureSimple as A } from \"./resources/MarsAtmosphereTexture.js\";\nimport { makePiecewiseLinearFunction as P } from \"../support/mathUtils.js\";\nimport { glLayout as q } from \"../support/buffer/glUtil.js\";\nimport { newLayout as y } from \"../support/buffer/InterleavedLayout.js\";\nimport { Default3D as T } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { createQuadVAO as v } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { project as S } from \"../webgl-engine/lib/Util.js\";\nimport { VertexArrayObject as F } from \"../webgl-engine/lib/VertexArrayObject.js\";\nimport { VertexAttribute as C } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { BufferObject as M } from \"../../webgl/BufferObject.js\";\nimport { TextureWrapMode as U, PrimitiveType as W, Usage as I } from \"../../webgl/enums.js\";\nimport { Texture as O } from \"../../webgl/Texture.js\";\nimport { TextureDescriptor as D } from \"../../webgl/TextureDescriptor.js\";\nimport { vertexCount as L } from \"../../webgl/Util.js\";\nconst E = 128,\n  G = -x,\n  H = 0,\n  N = 50,\n  k = () => 1 - 511 / 512,\n  B = P([[50, .1015625], [500, .21875], [5e3, 1 - 250 / 512], [5e4, .4140625]]);\nclass z {\n  constructor(e, t) {\n    this.view = e, this.type = g.Mars, this._passParameters = new j(), this._vaoCount = 0, this._texV1 = 1;\n    const s = d(e.spatialReference);\n    this._planetRadius = s.radius, this._outerRimWidth = s.outerAtmosphereRimWidth, this._innerRimFactor = (this._planetRadius + G) / this._planetRadius, this._middleRimFactor = (this._planetRadius + H) / this._planetRadius, this._outerRimFactor = (this._planetRadius + this._outerRimWidth) / this._planetRadius, this._texV0 = H / this._outerRimWidth, this._texVScale = this._texV1 - this._texV0, this._techniques = t.techniques;\n    const a = t.renderContext.rctx;\n    this._cameraChangeHandle = r(() => this.view.state?.camera, () => t.requestRender(), i), this._vao = this._createRibbon(a), this._vaoCount = L(this._vao, \"geometry\"), this._fadeVao = v(a), this._fadeVaoCount = L(this._fadeVao, \"geometry\");\n    const o = new D();\n    o.wrapMode = U.CLAMP_TO_EDGE, o.flipped = !0, o.width = 1, o.height = 512, this._passParameters.texture = new O(a, o, A);\n    const n = new V();\n    n.geometry = w.Cone, this._coneTechnique = this._techniques.acquire(R, n), n.geometry = w.Underground, this._undergroundTechnique = this._techniques.acquire(R, n);\n  }\n  destroy() {\n    this._coneTechnique.release(), this._undergroundTechnique.release(), this._cameraChangeHandle.remove(), this._passParameters.texture = s(this._passParameters.texture), this._fadeVao.dispose(), this._vao.dispose();\n  }\n  render(e) {\n    const t = e.bindParameters.camera;\n    this._update(t);\n    const s = e.rctx;\n    this._passParameters.undergroundFadeAlpha < 1 && (s.bindTechnique(this._coneTechnique, e.bindParameters, this._passParameters), s.bindVAO(this._vao), s.drawArrays(W.TRIANGLES, 0, this._vaoCount)), this._passParameters.undergroundFadeAlpha > 0 && (s.bindTechnique(this._undergroundTechnique, e.bindParameters, this._passParameters), s.bindVAO(this._fadeVao), s.drawArrays(W.TRIANGLE_STRIP, 0, this._fadeVaoCount));\n  }\n  renderHaze() {}\n  _update(s) {\n    const r = _(),\n      i = this._planetRadius,\n      a = h(s.eye),\n      o = a - i;\n    if (o < 0) {\n      const e = Math.min(-o / 5e3, 1);\n      this._passParameters.undergroundFadeAlpha = e;\n    } else this._passParameters.undergroundFadeAlpha = 0;\n    const c = Math.max(N, o),\n      p = i + G;\n    this._passParameters.innerScale = Y(i + c, i, p) - 1, this._passParameters.altitudeFade = b(o), m(r, s.eye, (i + N) / a), J(r, s.center, s.up, i, this._passParameters.silhouette);\n    const u = this._computeScreenRimWidth(s, r, s.up, this._passParameters.silhouette),\n      l = k(),\n      d = B(o);\n    let f = this._texV0 + l * this._texVScale,\n      g = this._texV0 + u * d * this._texVScale;\n    if (o > N) {\n      J(s.eye, s.center, s.up, i, this._passParameters.silhouette);\n      const r = this._computeScreenRimWidth(s, s.eye, s.up, this._passParameters.silhouette),\n        a = t((r - 1.5) / (u - 1.5), 0, 1);\n      f = this._texV0 + a * l * this._texVScale, g = this._texV0 + e(this._texV1, u * d, a) * this._texVScale;\n    }\n    n(this._passParameters.texV, f, g);\n  }\n  _createRibbon(e) {\n    const t = f(3 + 3 * E * 3),\n      s = new Uint32Array(3 * E * 5);\n    t[0] = 0, t[1] = 0, t[2] = -1;\n    for (let a = 0; a < E; a++) {\n      const e = 9 * a + 3;\n      t[e] = a, t[e + 1] = this._innerRimFactor, t[e + 2] = -1, t[e + 3] = a, t[e + 4] = this._middleRimFactor, t[e + 5] = 0, t[e + 6] = a, t[e + 7] = this._outerRimFactor, t[e + 8] = 1;\n      const r = 3 * a + 1,\n        i = a === E - 1 ? 1 : r + 3,\n        o = 15 * a;\n      s[o] = r, s[o + 1] = r + 1, s[o + 2] = i + 1, s[o + 3] = i + 1, s[o + 4] = i, s[o + 5] = r, s[o + 6] = r + 1, s[o + 7] = r + 2, s[o + 8] = i + 2, s[o + 9] = i + 2, s[o + 10] = i + 1, s[o + 11] = r + 1, s[o + 12] = r, s[o + 13] = i, s[o + 14] = 0;\n    }\n    const r = Z.createBuffer(s.length),\n      i = r.position;\n    for (let a = 0; a < s.length; ++a) {\n      const e = 3 * s[a];\n      i.set(a, 0, t[e]), i.set(a, 1, t[e + 1]), i.set(a, 2, t[e + 2]);\n    }\n    return new F(e, T, {\n      geometry: q(Z)\n    }, {\n      geometry: M.createVertex(e, I.STATIC_DRAW, r.buffer)\n    });\n  }\n  _computeScreenRimWidth(e, t, s, r) {\n    return c(Q, r.center, r.v2), m(X, Q, this._outerRimFactor), a(K, t, Q, s), S(Q, K, e.projectionMatrix, e.viewport, Q), S(X, K, e.projectionMatrix, e.viewport, X), p(Q, X) / e.height;\n  }\n}\nfunction J(e, t, s, r, i) {\n  const a = h(e),\n    o = r * Math.sqrt(a * a - r * r) / a,\n    n = Math.sqrt(r * r - o * o),\n    c = i.v1,\n    p = i.v2;\n  return m(i.center, e, n / a), u(c, e, t), l(c) < 1 && u(c, e, s), m(c, c, o / h(c)), u(p, c, e), m(p, p, o / h(p)), o;\n}\nconst K = o(),\n  Q = _(),\n  X = _();\nfunction Y(e, t, s) {\n  return e * e / (Math.sqrt(e * e - t * t) * Math.sqrt(e * e - s * s) + t * s);\n}\nconst Z = y().vec3f(C.POSITION);\nexport { z as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { P as e } from \"../../../chunks/Precipitation.glsl.js\";\nimport { NoParameters as i } from \"../webgl-engine/core/shaderModules/interfaces.js\";\nimport { ReloadableShaderModule as r } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as t } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { Program as s } from \"../webgl-engine/lib/Program.js\";\nimport { VertexAttribute as n } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { BlendFactor as o, CompareFunction as l } from \"../../webgl/enums.js\";\nimport { makePipelineState as a, separateBlendingParams as m, defaultColorWriteParams as c } from \"../../webgl/renderState.js\";\nclass g extends i {\n  constructor() {\n    super(...arguments), this.time = 0, this.radius = 1, this.width = 500, this.opacity = 1;\n  }\n}\nclass d extends t {\n  initializeProgram(e) {\n    return new s(e.rctx, d.shader.get().build(this.configuration), h);\n  }\n  initializePipeline() {\n    return a({\n      blending: m(o.ONE, o.ONE, o.ONE_MINUS_SRC_ALPHA, o.ONE_MINUS_SRC_ALPHA),\n      depthTest: {\n        func: l.LEQUAL\n      },\n      colorWrite: c\n    });\n  }\n}\nd.shader = new r(e, () => import(\"./Precipitation.glsl.js\"));\nconst h = new Map([[n.POSITION, 0], [n.INSTANCEFEATUREATTRIBUTE, 1]]);\nexport { g as PrecipitationPassParameters, d as PrecipitationTechnique, h as attributeLocations };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { lerp as i } from \"../../../core/mathUtils.js\";\nimport { releaseMaybe as s, disposeMaybe as r } from \"../../../core/maybe.js\";\nimport { secondsFromMilliseconds as n } from \"../../../core/time.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { getReferenceEllipsoid as c } from \"../../../geometry/ellipsoidUtils.js\";\nimport { PrecipitationPassParameters as h, PrecipitationTechnique as u, attributeLocations as m } from \"./PrecipitationTechnique.js\";\nimport { PrecipitationTechniqueConfiguration as p, PrecipitationType as _ } from \"./PrecipitationTechniqueConfiguration.js\";\nimport { glLayout as d } from \"../support/buffer/glUtil.js\";\nimport { newLayout as l } from \"../support/buffer/InterleavedLayout.js\";\nimport { AnimationTimer as f } from \"../webgl-engine/lib/AnimationTimer.js\";\nimport { VertexArrayObject as T } from \"../webgl-engine/lib/VertexArrayObject.js\";\nimport { VertexAttribute as w } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { BufferObject as b } from \"../../webgl/BufferObject.js\";\nimport { PrimitiveType as q, Usage as j } from \"../../webgl/enums.js\";\nimport { bindVertexBufferLayout as y, unbindVertexBufferLayout as I } from \"../../webgl/Util.js\";\nlet g = class extends t {\n  constructor(e) {\n    super(e), this._numParticles = 25e4, this._rainSpeed = .1, this._snowSpeed = .01, this._passParameters = new h(), this._animation = new f(), this._passParameters.time = 0, this._passParameters.radius = c(e.view.spatialReference).radius, this._techniques = e.context.techniques;\n  }\n  destroy() {\n    this._numParticles = 0, this._snowTechniqueCached = s(this._snowTechniqueCached), this._rainTechniqueCached = s(this._rainTechniqueCached), this._vao = r(this._vao), this._instanceIdBuffer = r(this._instanceIdBuffer);\n  }\n  get _rainTechnique() {\n    if (null == this._rainTechniqueCached) {\n      const e = new p();\n      e.type = _.Rain, this._rainTechniqueCached = this._techniques.acquire(u, e);\n    }\n    return this._rainTechniqueCached;\n  }\n  get _snowTechnique() {\n    if (null == this._snowTechniqueCached) {\n      const e = new p();\n      e.type = _.Snow, this._snowTechniqueCached = this._techniques.acquire(u, e);\n    }\n    return this._snowTechniqueCached;\n  }\n  update(e) {\n    return this._animation.advance(e);\n  }\n  render(e, t, s) {\n    const r = \"rainy\" === s ? this._rainTechnique : this._snowTechnique;\n    if (!r.compiled) return void this.context.requestRender();\n    const o = e.rctx;\n    if (this._ensureResources(o), null == r || null == this._vao || null == this._instanceIdBuffer) return;\n    if (null != e.bindParameters.cloudsFade.data && (this._passParameters.opacity = e.bindParameters.cloudsFade.opacity), this._passParameters.opacity <= 0) return;\n    const a = .35;\n    t = t < .5 ? i(0, a, 2 * t) : i(a, 1, 2 * (t - .5)), this._passParameters.time = (\"rainy\" === s ? this._rainSpeed : this._snowSpeed) * n(this._animation.time) % 1e5;\n    const c = o.bindTechnique(r, e.bindParameters, this._passParameters);\n    o.bindVAO(this._vao), c.assertCompatibleVertexAttributeLocations(this._vao), y(o, m, this._instanceIdBuffer, A, 0), o.drawArraysInstanced(q.TRIANGLES, 0, 3, this._numParticles * t), I(o, m, this._instanceIdBuffer, A);\n  }\n  _ensureResources(e) {\n    null == this._vao && (this._vao = P(e)), null == this._instanceIdBuffer && (this._instanceIdBuffer = this._createInstanceIndices(e));\n  }\n  _createInstanceIndices(e) {\n    const t = [];\n    for (let i = 0; i < this._numParticles; i++) t.push(i);\n    return b.createVertex(e, j.STATIC_DRAW, new Float32Array(t));\n  }\n};\nfunction P(e) {\n  const t = new Float32Array([-1, 0, 1, 1, 0, -1, 1, 0, 1]);\n  return new T(e, m, {\n    geometry: d(v)\n  }, {\n    geometry: b.createVertex(e, j.STATIC_DRAW, t)\n  });\n}\ne([o({\n  constructOnly: !0\n})], g.prototype, \"context\", void 0), e([o({\n  constructOnly: !0\n})], g.prototype, \"view\", void 0), g = e([a(\"esri.views.3d.environment.Precipitation\")], g);\nconst v = l().vec3f(w.POSITION),\n  A = d(l().f32(w.INSTANCEFEATUREATTRIBUTE), 1);\nexport { g as Precipitation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as e } from \"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { S as r } from \"../../../chunks/Stars.glsl.js\";\nimport { NoParameters as i } from \"../webgl-engine/core/shaderModules/interfaces.js\";\nimport { ReloadableShaderModule as t } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as o } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { ShaderTechniqueConfiguration as s } from \"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as n } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as l } from \"../webgl-engine/lib/Program.js\";\nimport { BlendFactor as a, CompareFunction as m } from \"../../webgl/enums.js\";\nimport { makePipelineState as c, separateBlendingParams as g, defaultColorWriteParams as d } from \"../../webgl/renderState.js\";\nclass u extends i {\n  constructor() {\n    super(...arguments), this.modelMatrix = e();\n  }\n}\nclass h extends o {\n  constructor(e) {\n    super(e, new s(), () => this.destroy());\n  }\n  initializeProgram(e) {\n    return new l(e.rctx, h.shader.get().build(), n);\n  }\n  initializePipeline() {\n    return c({\n      blending: g(a.SRC_ALPHA, a.ONE, a.ONE_MINUS_SRC_ALPHA, a.ONE_MINUS_SRC_ALPHA),\n      depthTest: {\n        func: m.LEQUAL\n      },\n      colorWrite: d\n    });\n  }\n}\nh.shader = new t(r, () => import(\"./Stars.glsl.js\"));\nexport { u as StarPassParameters, h as StarsTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport { fetchAsset as e } from \"../../../assets.js\";\nimport s from \"../../../core/Accessor.js\";\nimport { createTask as r } from \"../../../core/asyncUtils.js\";\nimport i from \"../../../core/Error.js\";\nimport o from \"../../../core/Logger.js\";\nimport { abortMaybe as a, releaseMaybe as n, disposeMaybe as f } from \"../../../core/maybe.js\";\nimport { isAbortError as c } from \"../../../core/promiseUtils.js\";\nimport { initial as u } from \"../../../core/reactiveUtils.js\";\nimport { property as l } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as d } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { copy as m, rotateZ as h, multiply as p } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { fromValues as g } from \"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { UpdatingHandles as b } from \"../../../core/support/UpdatingHandles.js\";\nimport { StarPassParameters as _, StarsTechnique as v } from \"./StarsTechnique.js\";\nimport { glLayout as w } from \"../support/buffer/glUtil.js\";\nimport { newLayout as y } from \"../support/buffer/InterleavedLayout.js\";\nimport { Default3D as j } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { VertexArrayObject as T } from \"../webgl-engine/lib/VertexArrayObject.js\";\nimport { VertexAttribute as P } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { BufferObject as k } from \"../../webgl/BufferObject.js\";\nimport { PrimitiveType as q, Usage as D } from \"../../webgl/enums.js\";\nlet x = class extends s {\n  get updating() {\n    return this._updatingTracking.updating || this.loading;\n  }\n  get loading() {\n    return null != this._loadDataTask && !this._loadDataTask.finished;\n  }\n  constructor(t) {\n    super(t), this._loadDataTask = null, this._numPoints = 0, this._passParameters = new _(), this._updatingTracking = new b();\n  }\n  initialize() {\n    this._loadDataTask = this._createLoadDataTask();\n  }\n  destroy() {\n    this._loadDataTask = a(this._loadDataTask), this._updatingTracking.destroy(), this._numPoints = 0, this._technique = n(this._technique), this._vao = f(this._vao), F = null;\n  }\n  render(t) {\n    const {\n      rctx: e\n    } = t;\n    if (this._ensureResources(e), null == this._technique || null == this._vao) return;\n    if (!this._technique.compiled) return void this.requestRender();\n    const s = e.bindTechnique(this._technique, t.bindParameters, this._passParameters);\n    e.bindVAO(this._vao), s.assertCompatibleVertexAttributeLocations(this._vao), e.drawArrays(q.POINTS, 0, this._numPoints);\n  }\n  _ensureResources(t) {\n    if (null != this._technique || null == F) return;\n    this._technique = new v({\n      rctx: t,\n      viewingMode: this.view.state.viewingMode\n    }), this._numPoints = F.byteLength / V;\n    const e = new Float32Array(F, 0, 2 * this._numPoints),\n      s = new Uint8Array(F, 2 * this._numPoints * 4, this._numPoints);\n    this._vao = A(t, e, s, this._numPoints), this._updatingTracking.add(() => \"virtual\" !== this.view.environment.lighting.type ? this.view.environment.lighting.date : null, t => this._update(t), u);\n  }\n  _update(t) {\n    if (!t) return;\n    const e = (t.getHours() / 12 + t.getMinutes() / 60 * (2 / 24) + t.getSeconds() / 60 * (2 / 1440) - .9972222) % 2,\n      s = 2 * I(t),\n      r = m(this._passParameters.modelMatrix, U);\n    h(r, r, -s * Math.PI), p(r, S, r), h(r, r, -e * Math.PI), this.requestRender();\n  }\n  _createLoadDataTask() {\n    if (null != F) return null;\n    const t = r(async t => {\n      const {\n        data: s\n      } = await e(\"esri/views/3d/environment/resources/stars.wsv\", {\n        responseType: \"array-buffer\",\n        signal: t\n      });\n      L(s), F = s;\n    });\n    return t.promise.catch(t => {\n      c(t) || o.getLogger(this).error(t);\n    }).then(() => {\n      this.destroyed || (this.requestRender(), this.notifyChange(\"updating\"));\n    }), t;\n  }\n};\nfunction A(t, e, s, r) {\n  const i = C.createBuffer(r),\n    o = i.position,\n    a = i.color,\n    n = i.size;\n  for (let f = 0; f < r; f++) {\n    const t = e[2 * f],\n      r = e[2 * f + 1];\n    o.set(f, 0, -Math.cos(t) * Math.sin(r)), o.set(f, 1, -Math.sin(t) * Math.sin(r)), o.set(f, 2, -Math.cos(r));\n    const i = O(s[f]),\n      c = M(R[i[1]]);\n    a.set(f, 0, 255 * c[0]), a.set(f, 1, 255 * c[1]), a.set(f, 2, 255 * c[2]), a.set(f, 3, 255), n.set(f, i[0]);\n  }\n  return new T(t, j, {\n    geometry: w(C)\n  }, {\n    geometry: k.createVertex(t, D.STATIC_DRAW, i.buffer)\n  });\n}\nfunction I(t) {\n  const e = t,\n    s = new Date(t.getFullYear(), 0, 1, 11, 58, 56);\n  return (+e - +s) / (+new Date(t.getFullYear() + 1, 0, 1, 11, 58, 55) - +s);\n}\nfunction L(t) {\n  if (!t) throw new i(\"stars:no-data-received\", \"Failed to create stars because star catalogue is missing\");\n  const e = t.byteLength / V;\n  if (e % 1 != 0 || e > 5e4 || e < 5e3) throw new i(\"stars:invalid-data\", \"Failed to create stars because star catalogue data is invalid\");\n}\nfunction M(t) {\n  return [parseInt(t.substring(0, 2), 16), parseInt(t.substring(2, 4), 16), parseInt(t.substring(4, 6), 16)];\n}\nfunction O(t) {\n  return t >= 192 ? [2.9, t - 192] : t >= 160 ? [2.5, t - 160] : t >= 128 ? [2, t - 128] : t >= 96 ? [1.5, t - 96] : t >= 64 ? [1, t - 64] : t >= 32 ? [.7, t - 32] : [.4, t];\n}\nt([l({\n  constructOnly: !0\n})], x.prototype, \"view\", void 0), t([l({\n  constructOnly: !0\n})], x.prototype, \"requestRender\", void 0), t([l({\n  readOnly: !0\n})], x.prototype, \"updating\", null), t([l()], x.prototype, \"_loadDataTask\", void 0), t([l()], x.prototype, \"_updatingTracking\", void 0), x = t([d(\"esri.views.3d.environment.Stars\")], x);\nconst R = [\"9bb2ff\", \"9eb5ff\", \"aabfff\", \"bbccff\", \"ccd8ff \", \"dae2ff\", \"e4e9ff\", \"eeefff\", \"f8f6ff\", \"fff9fb\", \"fff5ef\", \"fff1e5\", \"ffeddb\", \"ffe9d2\", \"ffe6ca\", \"ffe3c3\", \"ffe0bb\", \"ffddb4\", \"ffdaad\", \"ffd6a5\", \"ffd29c\", \"ffcc8f\", \"ffc178\", \"ffa94b\", \"ff7b00\"],\n  S = g(1, 0, 0, 0, 0, .9174771405229186, .39778850739794974, 0, 0, -.39778850739794974, .9174771405229186, 0, 0, 0, 0, 1),\n  U = g(1, 0, 0, 0, 0, .9174771405229186, -.39778850739794974, 0, 0, .39778850739794974, .9174771405229186, 0, 0, 0, 0, 1),\n  V = 9,\n  C = y().vec3f(P.POSITION).vec4u8(P.COLOR).f32(P.SIZE);\nlet F = null;\nexport { x as Stars };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar e;\n!function (e) {\n  e[e.Immediate = 0] = \"Immediate\", e[e.Faded = 1] = \"Faded\";\n}(e || (e = {}));\nexport { e as Update };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../core/has.js\";\nimport { lerp as t } from \"../../../core/mathUtils.js\";\nimport { destroyMaybe as s } from \"../../../core/maybe.js\";\nimport { watch as r, syncAndInitial as i, initial as a, sync as o } from \"../../../core/reactiveUtils.js\";\nimport { property as n } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { l, c as d, o as u } from \"../../../chunks/vec32.js\";\nimport { fromValues as p } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as m } from \"../../../geometry/ellipsoidUtils.js\";\nimport { isMoon as c, isEarth as _, isMars as g } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { ViewingMode as w } from \"../../ViewingMode.js\";\nimport { AtmosphereType as f } from \"./AtmosphereType.js\";\nimport { ChapmanAtmosphere as y } from \"./ChapmanAtmosphere.js\";\nimport { CloudsComposition as P } from \"./CloudsComposition.js\";\nimport { isReadyCloudsData as v, CloudsRenderingStages as b } from \"./CloudsData.js\";\nimport { CloudsGenerator as R } from \"./CloudsGenerator.js\";\nimport { FadeMode as x } from \"./CloudsParameters.js\";\nimport { cloudPresets as F } from \"./CloudsPresets.js\";\nimport { Fog as A, FogParameters as N } from \"./Fog.js\";\nimport { LocalAtmosphere as W } from \"./LocalAtmosphere.js\";\nimport j from \"./MarsAtmosphere.js\";\nimport { Precipitation as E } from \"./Precipitation.js\";\nimport { Stars as C } from \"./Stars.js\";\nimport { weatherHeightLimit as M } from \"./weather.js\";\nimport { SyncRenderPlugin as O, ConsumesDepth as z, ConsumesNone as L } from \"../webgl-engine/effects/RenderPlugin.js\";\nimport { RenderSlot as S } from \"../webgl-engine/lib/RenderSlot.js\";\nimport { Update as T } from \"../webgl-engine/lib/Update.js\";\nlet U = class extends O {\n  constructor(e) {\n    super(e), this.produces = new Map([[S.OPAQUE_ENVIRONMENT, () => !(null === this._atmosphere && null === this._stars)], [S.TRANSPARENT_ENVIRONMENT, () => !(null === this._atmosphere)]]), this._context = null, this._atmosphere = null, this._oldWeatherParameters = new I(), this._newWeatherParameters = new I(), this._fadedWeatherParameters = new I(), this._weatherParameters = this._newWeatherParameters;\n  }\n  initialize() {\n    this.view._stage.addRenderPlugin(this);\n  }\n  destroy() {\n    this.removeHandles(), this.uninitializeRenderContext(), null != this.view?._stage && this.view._stage.removeRenderPlugin(this), this._set(\"view\", null);\n  }\n  get atmosphere() {\n    return this._atmosphere;\n  }\n  get _atmosphereType() {\n    return null != this.atmosphere ? this.atmosphere.type : f.None;\n  }\n  consumes() {\n    return this._atmosphereType === f.Realistic ? z : L;\n  }\n  updateAnimation(e) {\n    return null != this._precipitation && this._precipitation.update(e);\n  }\n  get updating() {\n    return null != this._stars && this._stars.updating || null != this._clouds && this._clouds.running;\n  }\n  get weatherVisible() {\n    return l(this.view.state.camera.eye) - m(this.view.spatialReference).radius <= M;\n  }\n  get usedMemory() {\n    return this._clouds?.usedMemory ?? 0;\n  }\n  get _stars() {\n    const e = this.view,\n      t = e.environment?.starsEnabled ?? !1,\n      r = this._get(\"_stars\");\n    return t && null != this._context ? null != r ? r : new C({\n      view: e,\n      requestRender: () => this._setNeedsRender()\n    }) : (s(r), null);\n  }\n  get _precipitation() {\n    const e = this._get(\"_precipitation\");\n    if (!this._precipitationEnabled || null == this._context) return s(e), null;\n    const t = this.view,\n      r = this._context;\n    return null != e && e.context === r ? e : (s(e), new E({\n      context: r,\n      view: t\n    }));\n  }\n  get _clouds() {\n    const e = this._get(\"_clouds\");\n    if (!this.weatherEnabled || null == this._context) return s(e), null;\n    if (null != e) return e;\n    const t = this.view,\n      r = this._context;\n    return s(e), new R({\n      context: r,\n      view: t,\n      requestRender: () => this._setNeedsRender()\n    });\n  }\n  get _cloudsComposition() {\n    const e = this._get(\"_cloudsComposition\");\n    if (!this.weatherEnabled || null == this._context) return s(e), null;\n    const t = this.view.state.viewingMode,\n      r = this._context.renderContext.rctx,\n      i = m(this.view.spatialReference).radius;\n    return null != e && e.viewingMode === t && e.planetRadius === i ? e : (s(e), new P({\n      rctx: r,\n      viewingMode: t,\n      planetRadius: i,\n      requestRender: () => this._setNeedsRender()\n    }));\n  }\n  get _fog() {\n    const e = this._get(\"_fog\");\n    if (!this.weatherEnabled || null == this._context) return s(e), null;\n    if (null != e) return e;\n    const t = this.view,\n      r = this._context,\n      i = this._context.renderContext.rctx,\n      a = this.view.state.viewingMode;\n    return new A({\n      context: r,\n      view: t,\n      rctx: i,\n      viewingMode: a\n    });\n  }\n  get weatherEnabled() {\n    return !!this.view?.environmentManager?.weatherEnabled;\n  }\n  get _precipitationEnabled() {\n    return this.weatherEnabled && (\"rainy\" === this.view.environment.weather.type || \"snowy\" === this.view.environment.weather.type);\n  }\n  initializeRenderContext(e = null) {\n    this._context = e;\n    const t = () => this._setNeedsRender();\n    this.addHandles([r(() => ({\n      viewingMode: this.view.state.viewingMode,\n      enabled: this.view.environment.atmosphereEnabled\n    }), e => this._updateAtmosphere(e), i), r(() => this._stars, t), r(() => this._precipitation, t), r(() => this._clouds, () => this._updateWeather(), a), r(() => this._fog, () => this._updateFogHaze(), a), r(() => this.view.state.mode, () => this._setNeedsRender(), o), r(() => this._weatherUpdateParameters, () => {\n      this._updateWeather(), this._updateFogHaze();\n    }, i)]);\n  }\n  uninitializeRenderContext() {\n    this._context = null, this._atmosphere = s(this._atmosphere), this._set(\"_stars\", s(this._stars)), this._set(\"_precipitation\", s(this._precipitation)), this._set(\"_clouds\", s(this._clouds)), this._set(\"_cloudsComposition\", s(this._cloudsComposition)), this._set(\"_fog\", s(this._fog));\n  }\n  prepareRender(e) {\n    e.bindParameters.cloudsFade.data = v(this._clouds) ? this._clouds : null, \"local\" !== this.view.viewingMode && null != e.bindParameters.cloudsFade.data?.cubeMap && (this._updateWeatherFading(e.bindParameters, e.time), e.bindParameters.cloudsFade.renderingStage === b.FINISHED && null != this._clouds && 0 === this._clouds.coverage && !1 === this._clouds.running && (this._clouds.destroyFrameBufferCube(), e.bindParameters.cloudsFade.data = null));\n  }\n  renderNode(e) {\n    switch (e.bindParameters.slot) {\n      case S.OPAQUE_ENVIRONMENT:\n        this._stars?.render(e), null != this.atmosphere && (this.atmosphere.render(e, this.view?._stage?.renderer?.fullResolutionAtmosphere), this._cloudsComposition && null != e.bindParameters.cloudsFade.data && (this.weatherVisible && null != this._clouds && this._clouds.updateWeatherTile(), this._cloudsComposition.render(e)), e.bindParameters.cloudsFade.isFading && this._context && null != e.bindParameters.cloudsFade.data?.cubeMap && this._context.requestRender());\n        break;\n      case S.TRANSPARENT_ENVIRONMENT:\n        if (null != this.atmosphere && (this.atmosphere.renderHaze(e, this._weatherParameters.hazeAmount, this.view?._stage?.renderer?.fullResolutionAtmosphere), this._weatherParameters.fog.amount > 0 && null != this._fog && this._fog.render(e, this._weatherParameters.fog), this._precipitation)) {\n          const t = this.view.environment.weather;\n          \"rainy\" !== t.type && \"snowy\" !== t.type || this._precipitation.render(e, t.precipitation, t.type);\n        }\n    }\n  }\n  updateLightSources(e, t, s, r) {\n    if (null != this._context) {\n      const i = this._context.renderContext;\n      i.bindParameters.oldLighting.copyFrom(i.bindParameters.lighting), i.bindParameters.newLighting.noonFactor = t, i.bindParameters.newLighting.globalFactor = s, i.bindParameters.newLighting.set(e);\n      r === T.Faded || i.bindParameters.weatherFading ? i.bindParameters.fadeLighting(0) : i.bindParameters.fadeLighting(1), this._context.requestRender();\n    }\n  }\n  get _weatherUpdateParameters() {\n    const e = this.weatherEnabled ? this.view.environment.weather : null;\n    return null == e ? null : \"rainy\" === e.type || \"snowy\" === e.type ? {\n      type: e.type,\n      weatherAdjustment: e.cloudCover,\n      effect: e.precipitation\n    } : {\n      type: e.type,\n      weatherAdjustment: \"foggy\" === e.type ? e.fogStrength : e.cloudCover\n    };\n  }\n  _updateWeatherFading(e, t) {\n    e.cloudsFade.updateFading(e.camera, this.view.state.mode, t, this.view.qualitySettings.fadeDuration), e.cloudsFade.updateParallax(e.camera), e.weatherFading && (V(e), this._updateFogAtmoshpere(e));\n  }\n  _updateFogAtmoshpere(e) {\n    e.cloudsFade.fadeMode !== x.CROSS_FADE && e.cloudsFade.fadeMode !== x.FADE_IN ? this._fadeWeather(0) : this._fadeWeather(e.cloudsFade.fadeFactor);\n  }\n  _fadeWeather(e) {\n    const {\n      _newWeatherParameters: t,\n      _oldWeatherParameters: s\n    } = this;\n    e >= 1 ? this._weatherParameters = t : (this._fadedWeatherParameters.lerp(s, t, e), this._weatherParameters = this._fadedWeatherParameters);\n  }\n  _updateWeather() {\n    const e = this._weatherUpdateParameters;\n    null != e && null != this._clouds && (this._clouds.applyPreset(F[e.type], e.weatherAdjustment), this._setNeedsRender());\n  }\n  _setNeedsRender() {\n    null != this._context && this._context.requestRender();\n  }\n  _updateFogHaze() {\n    const e = this._weatherUpdateParameters;\n    if (null == this._fog || null == e || null == this._context) return;\n    const s = this._context.renderContext.bindParameters;\n    switch (this._oldWeatherParameters.copyFrom(this._weatherParameters), e.type) {\n      case \"foggy\":\n        this._newWeatherParameters.fog.strength = t(3e-5, .005, e.weatherAdjustment ** 3), d(this._newWeatherParameters.fog.color, D), this._newWeatherParameters.fog.amount = 1, this._newWeatherParameters.hazeAmount = 1, this._setNeedsRender();\n        break;\n      case \"rainy\":\n        this._newWeatherParameters.fog.strength = t(4e-6, 2e-4, (e.effect ?? 0) ** 3), d(this._newWeatherParameters.fog.color, q), this._newWeatherParameters.fog.amount = 1, this._newWeatherParameters.hazeAmount = 0, this._setNeedsRender();\n        break;\n      case \"snowy\":\n        this._newWeatherParameters.fog.strength = t(4e-6, 2e-4, (e.effect ?? 0) ** 3), d(this._newWeatherParameters.fog.color, D), this._newWeatherParameters.fog.amount = 1, this._newWeatherParameters.hazeAmount = 1, this._setNeedsRender();\n        break;\n      default:\n        this._newWeatherParameters.fog.strength = 0, this._newWeatherParameters.fog.amount = 0, this._newWeatherParameters.hazeAmount = 1, this._setNeedsRender();\n    }\n    s.weatherFading ? this._fadeWeather(0) : this._fadeWeather(1);\n  }\n  _updateAtmosphere(e) {\n    const t = this._selectAtmosphereType(e);\n    if (t !== f.None && this._context) {\n      if (!this._atmosphere || this._atmosphere.type !== t) {\n        this._atmosphere = s(this._atmosphere);\n        const e = this._getAtmosphereClass(t);\n        e && (this._atmosphere = new e(this.view, this._context));\n      }\n    } else this._atmosphere = s(this._atmosphere);\n    this._setNeedsRender();\n  }\n  _getAtmosphereClass(e) {\n    switch (e) {\n      case f.Realistic:\n        return y;\n      case f.Local:\n        return W;\n      case f.Mars:\n        return j;\n      default:\n      case f.None:\n        return null;\n    }\n  }\n  _selectAtmosphereType(e) {\n    const {\n      enabled: t,\n      viewingMode: s\n    } = e;\n    return !t || c(this.view.spatialReference) ? f.None : s === w.Local ? f.Local : null != this._context && _(this.view.spatialReference) ? f.Realistic : g(this.view.spatialReference) ? f.Mars : f.None;\n  }\n  get test() {}\n};\ne([n({\n  constructOnly: !0\n})], U.prototype, \"view\", void 0), e([n({\n  readOnly: !0\n})], U.prototype, \"atmosphere\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"_atmosphereType\", null), e([n({\n  type: Boolean,\n  readOnly: !0\n})], U.prototype, \"updating\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"weatherVisible\", null), e([n()], U.prototype, \"_context\", void 0), e([n()], U.prototype, \"_atmosphere\", void 0), e([n({\n  readOnly: !0\n})], U.prototype, \"_stars\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"_precipitation\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"_clouds\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"_cloudsComposition\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"_fog\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"weatherEnabled\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"_precipitationEnabled\", null), e([n({\n  readOnly: !0\n})], U.prototype, \"_weatherUpdateParameters\", null), U = e([h(\"esri.views.3d.environment.EnvironmentRenderer\")], U);\nclass I {\n  constructor() {\n    this.fog = new N(), this.hazeAmount = 1;\n  }\n  copyFrom(e) {\n    this.fog.amount = e.fog.amount, this.hazeAmount = e.hazeAmount, this.fog.strength = e.fog.strength, d(this.fog.color, e.fog.color);\n  }\n  lerp(e, s, r) {\n    this.fog.amount = t(e.fog.amount, s.fog.amount, r), this.hazeAmount = t(e.hazeAmount, s.hazeAmount, r), this.fog.strength = t(e.fog.strength, s.fog.strength, r), u(this.fog.color, e.fog.color, s.fog.color, r);\n  }\n}\nfunction V(e) {\n  e.cloudsFade.fadeMode !== x.CROSS_FADE && e.cloudsFade.fadeMode !== x.FADE_IN ? e.fadeLighting(0) : e.fadeLighting(e.cloudsFade.fadeFactor);\n}\nconst q = p(.5, .5, .5),\n  D = p(1.5, 1.5, 1.5);\nexport { U as EnvironmentRenderer, I as WeatherParameters };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport t from \"../../../core/Evented.js\";\nimport \"../../../core/has.js\";\nimport { destroyMaybe as i } from \"../../../core/maybe.js\";\nimport { after as r } from \"../../../core/promiseUtils.js\";\nimport { toUnit as n } from \"../../../core/quantityUtils.js\";\nimport { watch as s, sync as o, syncAndInitial as a } from \"../../../core/reactiveUtils.js\";\nimport { property as h } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as c } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { s as d, j as l, c as p, o as u } from \"../../../chunks/vec32.js\";\nimport { create as _, fromValues as g } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { canProjectWithoutEngine as m } from \"../../../geometry/projection.js\";\nimport { projectPointToVector as f } from \"../../../geometry/projection/projectPointToVector.js\";\nimport { isEarth as P } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { ViewingMode as v } from \"../../ViewingMode.js\";\nimport { EnvironmentRenderer as y } from \"./EnvironmentRenderer.js\";\nimport { positionToTimezoneInfo as w } from \"../support/earthUtils.js\";\nimport { computeColorAndIntensity as U, computeVirtualLightDirection as b, computeShadowsEnabled as R, ColorAndIntensity as T } from \"../support/sunUtils.js\";\nimport { Update as C } from \"../webgl-engine/lib/Update.js\";\nimport { MainLight as M, AmbientLight as S, FillLight as j } from \"../webgl-engine/lighting/Lightsources.js\";\nimport { euclideanDirectDistanceBetweenPoints as G } from \"../../support/euclideanLengthMeasurementUtils.js\";\nimport H from \"../../../geometry/SpatialReference.js\";\nlet L = class extends t.EventedAccessor {\n  constructor() {\n    super(), this._referencePointUpdateDelay = 200, this._referencePointUpdateInterval = 3e3, this._referencePointUpdateDistThreshold = 1e6, this._referencePosUpdateQuery = null, this._referencePosMapCoordsRequested = null, this._viewHandlesKey = \"viewHandles\", this._preserveAbsoluteDateTime = !1, this._trackingEnabled = !1, this._referencePosResetPreserveAbsoluteTime = !1, this._referencePosUpdateTimer = null, this._referencePosMapCoords = null, this._mainLight = new M(), this._ambientLight = new S(), this._moonLight = new j(), this.disableQueries = !1, this._disableWeather = !1, this._renderer = null, this._referencePositionGeographic = null, this._resetReferencePosition();\n  }\n  destroy() {\n    this.disconnectView();\n  }\n  get _view() {\n    return this._renderer?.view;\n  }\n  get updating() {\n    return !((this.disableQueries || !this._referencePosUpdateQuery && !this._referencePosMapCoordsRequested) && !this._renderer?.updating);\n  }\n  get weatherEnabled() {\n    return this._view?.environment.atmosphereEnabled && !this._disableWeather && this._view?.state?.viewingMode === v.Global && P(this._view.spatialReference);\n  }\n  get weatherVisible() {\n    return this.weatherEnabled && this._renderer?.weatherVisible;\n  }\n  get referencePositionGeographic() {\n    return this._referencePositionGeographic;\n  }\n  connectView(e) {\n    if (this._renderer) return;\n    this._renderer = new y({\n      view: e\n    });\n    const t = () => this._updateRenderParameters(),\n      i = () => this._cameraHandler();\n    this.addHandles([s(() => e.environment.lighting, e => this._updateLightingHandler(e), o), s(() => \"virtual\" !== e.environment.lighting.type ? e.environment.lighting.date : null, e => this._lightingDateHandler(e), o), s(() => e.stationary, () => this._interactingStationaryHandler()), s(() => e.environment.lighting.directShadowsEnabled, t, o), s(() => e.qualitySettings.ambientOcclusion, t, o), s(() => e.qualitySettings.reflections, t, o), s(() => e.spatialReference, () => this._resetReferencePosition(!0), o), s(() => e.environment.weather.type, () => this._updateLighting(null, C.Faded), o), s(() => this.weatherEnabled, () => this._updateLighting(null, C.Faded), o), s(() => e.viewingMode, () => this._resetReferencePosition(!0), a), s(() => \"virtual\" !== e.environment.lighting.type && e.environment.lighting.cameraTrackingEnabled, e => this._updateCameraTracking(e), a), s(() => e.state.camera, i, a), s(() => this.disableQueries, i)], this._viewHandlesKey), this._updateRenderParameters(), this._updateLighting(), this._cameraHandler(), this.notifyChange(\"updating\");\n  }\n  disconnectView() {\n    this.removeHandles(this._viewHandlesKey), this._resetReferencePosition(), this._renderer = i(this._renderer);\n  }\n  _updateLightingHandler(e) {\n    this._updateCameraTracking(\"virtual\" !== e.type && e.cameraTrackingEnabled), this._lightingDateHandler(\"virtual\" !== e.type ? e.date : null), this._updateRenderParameters();\n  }\n  _updateCameraTracking(e) {\n    if (this._trackingEnabled = e, e) this._cameraHandler();else {\n      const e = this._view.environment.lighting;\n      \"virtual\" !== e?.type && (e.positionTimezoneInfo.autoUpdated = !1);\n    }\n  }\n  _lightingDateHandler(e) {\n    const t = this._view.environment.lighting;\n    if (\"virtual\" !== t?.type) {\n      if (e) {\n        if (!t.positionTimezoneInfo.autoUpdated) {\n          this._preserveAbsoluteDateTime = !0;\n          const i = this._view.spatialReference;\n          if (!m(i, H.WGS84)) {\n            const e = this._view.camera.position;\n            if (!this._referencePosMapCoords || !this._referencePosMapCoords.equals(e)) return void this._requestReferencePositionUpdate(e);\n          }\n          if (this._preupdateTracking(e), null != this._referencePositionGeographic) {\n            const e = w(this._referencePositionGeographic, k);\n            null != e && (t.autoUpdate(null, e), this._trackingEnabled && (t.positionTimezoneInfo.autoUpdated = !0));\n          }\n        }\n        this._updateLighting(e);\n      }\n    } else this._updateLighting();\n  }\n  _preupdateTracking(e) {\n    !this._trackingEnabled && \"virtual\" !== this._view.environment.lighting.type && this._view.environment.lighting.cameraTrackingEnabled && this._cameraHandler(e);\n  }\n  _cameraHandler(e = null) {\n    const t = this._view;\n    if (!t.ready) return;\n    const i = t.stateManager.camera;\n    i && (this._cameraHandlerClientSide(i, e) || this._cameraHandlerServerSide(i));\n  }\n  _cameraHandlerClientSide(e, t) {\n    const i = P(this._view.spatialReference);\n    if (i && !m(this._view.spatialReference, H.WGS84)) return \"virtual\" === this._view.environment.lighting.type && this._updateLighting(), !1;\n    const r = e.position;\n    return this._referencePositionGeographic ??= _(), i ? f(r, this._referencePositionGeographic, H.WGS84) : d(this._referencePositionGeographic, r.longitude ?? 0, r.latitude ?? 0, r.z ?? 0), this.notifyChange(\"referencePositionGeographic\"), this._autoUpdateTimezone(this._referencePositionGeographic, t) || this._updateLighting(t), !0;\n  }\n  _cameraHandlerServerSide(e) {\n    const t = e.position;\n    (!this._referencePosMapCoords || this._referencePosMapCoordsRequested || this._exceedsReferencePosDistThreshold(t)) && this._requestReferencePositionUpdate(t, !0), this._view.mapCoordsHelper && this._referencePositionGeographic && (this._referencePositionGeographic[2] = (t.z ?? 0) * this._view.mapCoordsHelper.unitInMeters, this._referencePosChanged());\n  }\n  _interactingStationaryHandler() {\n    this._view.stationary && this._executePendingReferencePositionUpdate();\n  }\n  _updateLighting(e, t = C.Immediate) {\n    const i = this._view;\n    e = e || (\"virtual\" === i.environment.lighting.type ? null : i.environment.lighting.date);\n    const r = this._referencePositionGeographic,\n      n = r ? q : E,\n      s = this.weatherVisible ? i.environment.weather.type : \"disabled\";\n    null != r ? U(e, r, i.state.viewingMode, s, i.state.camera, n) : \"virtual\" === i.environment.lighting.type && b(i.state.camera, i.state.viewingMode, n.direct.directionToLightSource);\n    const o = this._mainLight,\n      a = n.direct;\n    l(o.intensity, a.color, a.intensity * Math.PI), p(o.direction, a.directionToLightSource), o.specularStrength = n.specularStrength, o.environmentStrength = n.environmentStrength;\n    const h = this._ambientLight;\n    l(h.intensity, n.ambient.color, n.ambient.intensity);\n    const c = this._moonLight;\n    u(c.intensity, D, V, n.globalFactor);\n    const d = (1 - .5 * n.globalFactor) * (1 - .4 * n.noonFactor * (1 - n.globalFactor));\n    l(c.intensity, c.intensity, d), p(c.direction, a.directionToLightSource), this._renderer.updateLightSources([o, h, c], n.noonFactor, n.globalFactor, t), this._updateRenderParameters();\n  }\n  _autoUpdateTimezone(e, t = null) {\n    if (\"virtual\" === this._view.environment.lighting.type || !this._view.environment.lighting.cameraTrackingEnabled || null == e) return !1;\n    const i = Q;\n    i.setTime((t || this._view.environment.lighting.date).getTime());\n    const r = w(e, k);\n    if (null == r) return !1;\n    let n = this._view.environment.lighting.positionTimezoneInfo;\n    if (n.autoUpdated) {\n      if (n.hours === r.hours && n.minutes === r.minutes && n.seconds === r.seconds) return !1;\n    } else n = r;\n    const s = i.getUTCHours() - (r.hours - n.hours),\n      o = i.getUTCMinutes() - (r.minutes - n.minutes),\n      a = i.getUTCSeconds() - (r.seconds - n.seconds);\n    return i.setUTCHours(s), i.setUTCMinutes(o), i.setUTCSeconds(a), !t && this._view.environment.lighting.autoUpdate(i, r);\n  }\n  _updateRenderParameters() {\n    const e = this._view._stage;\n    if (!e) return;\n    const t = null == this._referencePositionGeographic || R(this._referencePositionGeographic[2], this._view.state.viewingMode);\n    e.renderer.setParameters({\n      shadowMap: this._view.environment.lighting.directShadowsEnabled && t,\n      environment: this._view.environment,\n      weatherVisible: this._view.environmentManager.weatherVisible,\n      qualitySettings: this._view.qualitySettings\n    });\n  }\n  _resetReferencePosition(e = !1) {\n    this._cancelReferencePosUpdates(), this._referencePosMapCoords = null, this._referencePosMapCoordsRequested = null, this._referencePosResetPreserveAbsoluteTime = null, this._referencePositionGeographic = null, this.notifyChange(\"updating\"), e && this._cameraHandler();\n  }\n  _requestReferencePositionUpdate(e, t = !1) {\n    if (!this.disableQueries && (this._referencePosMapCoordsRequested ? this._referencePosMapCoordsRequested.copy(e) : this._referencePosMapCoordsRequested = e.clone(), this._referencePosResetPreserveAbsoluteTime = !!t, !this._referencePosUpdateQuery && !this._referencePosUpdateTimer && this._view.stationary)) {\n      const e = this._referencePosUpdateQuery = r(this._referencePointUpdateDelay).then(() => {\n          if (this._referencePosUpdateQuery === e) {\n            const t = () => this._referencePosUpdateQuery !== e;\n            return this._doReferencePositionUpdateQuery(t);\n          }\n        }).catch(e => {\n          \"mapcoordshelper:missing-geometry-service\" === e.name && (this.disableQueries = !0);\n        }).then(() => {\n          this._referencePosUpdateQuery === e && (this._referencePosUpdateQuery = null, this._referencePosUpdateTimer || this._executePendingReferencePositionUpdate(), this.notifyChange(\"updating\"));\n        }),\n        t = this._referencePosUpdateTimer = r(this._referencePointUpdateInterval).then(() => {\n          this._referencePosUpdateTimer === t && (this._referencePosUpdateTimer = null, this._referencePosUpdateQuery || this._executePendingReferencePositionUpdate());\n        });\n      this.notifyChange(\"updating\");\n    }\n  }\n  async _doReferencePositionUpdateQuery(e) {\n    this._referencePosResetPreserveAbsoluteTime && (this._preserveAbsoluteDateTime = !1), this._referencePosMapCoords ? this._referencePosMapCoords.copy(this._referencePosMapCoordsRequested) : this._referencePosMapCoords = this._referencePosMapCoordsRequested.clone(), this._referencePosResetPreserveAbsoluteTime = null, this._referencePosMapCoordsRequested = null;\n    const t = await this._view.mapCoordsHelper.toGeographic(this._referencePosMapCoords);\n    if (!e() && !isNaN(t[0]) && !isNaN(t[1])) {\n      const e = (this._referencePosMapCoords.z ?? 0) * this._view.mapCoordsHelper.unitInMeters;\n      this._referencePositionGeographic ? d(this._referencePositionGeographic, t[0], t[1], e) : this._referencePositionGeographic = g(t[0], t[1], e), this._referencePosChanged();\n    }\n  }\n  _executePendingReferencePositionUpdate() {\n    const e = this._referencePosMapCoordsRequested;\n    e && this._requestReferencePositionUpdate(e, this._referencePosResetPreserveAbsoluteTime);\n  }\n  _referencePosChanged() {\n    this._preserveAbsoluteDateTime ? this._updateLighting() : this._autoUpdateTimezone(this._referencePositionGeographic) || this._updateLighting(), this.notifyChange(\"referencePositionGeographic\");\n  }\n  _exceedsReferencePosDistThreshold(e) {\n    const t = this._referencePosMapCoords;\n    if (null == t) return !0;\n    const i = G(t, e);\n    if (null == i) return !0;\n    return n(i, \"meters\").value > this._referencePointUpdateDistThreshold;\n  }\n  _cancelReferencePosUpdates() {\n    const e = !!this._referencePosUpdateQuery;\n    return this._referencePosUpdateQuery = null, this._referencePosUpdateTimer = null, e;\n  }\n  get test() {}\n};\ne([h({\n  type: Boolean,\n  readOnly: !0\n})], L.prototype, \"updating\", null), e([h()], L.prototype, \"disableQueries\", void 0), e([h()], L.prototype, \"_disableWeather\", void 0), e([h()], L.prototype, \"weatherEnabled\", null), e([h()], L.prototype, \"weatherVisible\", null), e([h()], L.prototype, \"referencePositionGeographic\", null), e([h()], L.prototype, \"_renderer\", void 0), e([h()], L.prototype, \"_referencePositionGeographic\", void 0), L = e([c(\"esri.views.3d.environment.SceneViewEnvironmentManager\")], L);\nconst q = new T(),\n  E = new T(),\n  Q = new Date(),\n  k = {\n    hours: 0,\n    minutes: 0,\n    seconds: 0\n  },\n  D = g(.22, .22, .33),\n  V = g(.22, .22, .22);\nexport { L as SceneViewEnvironmentManager };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar L;\n!function (L) {\n  L[L.NONE = 0] = \"NONE\", L[L.TILT = 1] = \"TILT\", L[L.ALTITUDE = 2] = \"ALTITUDE\", L[L.DISTANCE = 4] = \"DISTANCE\", L[L.COLLISION = 8] = \"COLLISION\", L[L.ALL = 15] = \"ALL\", L[L.ALL_EXCEPT_COLLISION = 7] = \"ALL_EXCEPT_COLLISION\";\n}(L || (L = {}));\nexport { L as ConstraintTypes };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar O;\n!function (O) {\n  O[O.NONE = 0] = \"NONE\", O[O.ZOOM = 1] = \"ZOOM\", O[O.TUMBLE = 2] = \"TUMBLE\", O[O.LOOK_AROUND = 3] = \"LOOK_AROUND\", O[O.PAN = 4] = \"PAN\", O[O.ASCEND = 5] = \"ASCEND\";\n}(O || (O = {}));\nexport { O as InteractionType };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar O;\n!function (O) {\n  O[O.TUMBLE = 0] = \"TUMBLE\", O[O.LOOK_AROUND = 1] = \"LOOK_AROUND\";\n}(O || (O = {}));\nexport { O as TiltMode };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ConstraintTypes as t } from \"./ConstraintTypes.js\";\nimport { InteractionType as i } from \"./InteractionType.js\";\nimport { TiltMode as o } from \"./TiltMode.js\";\nclass r {\n  constructor(r = t.ALL, n = i.NONE, e = 0, s = null, a = null, c = o.TUMBLE) {\n    this.selection = r, this.interactionType = n, this.interactionFactor = e, this.interactionStartCamera = s, this.interactionDirection = a, this.tiltMode = c;\n  }\n}\nexport { r as ConstraintOptions };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { c as m, j as n, m as a } from \"../../../../chunks/vec32.js\";\nimport { ConstraintOptions as t } from \"./ConstraintOptions.js\";\nimport { ConstraintTypes as i } from \"./ConstraintTypes.js\";\nfunction o(m, n) {\n  return !!(m & n);\n}\nfunction r(m, n, a, t, i, o) {\n  0 !== m && (a ? (o.min = Math.min(o.min, n), o.max = Math.max(o.max, n)) : null != t ? (o.min -= Math.max(0, (n - o.min) * (1 - t)), o.max += Math.max(0, (n - o.max) * (1 - t))) : i && (o.min -= Math.max(0, n - o.min - i), o.max += Math.max(0, n - o.max - i)));\n}\nconst s = new t(i.NONE);\nfunction x(t, i, o, r) {\n  return i = i || t.viewForward, m(r, i), n(r, r, Math.sign(a(i, o))), r;\n}\nexport { r as adjustRangeForInteraction, s as defaultConstraintOptions, o as hasConstraintType, x as interactionDirectionTowardsConstraintMinimization };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { c as e, j as r } from \"../../../../chunks/vec32.js\";\nimport { create as n } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { wrap as o } from \"../../../../geometry/support/ray.js\";\nimport { interactionDirectionTowardsConstraintMinimization as i, defaultConstraintOptions as s, hasConstraintType as a, adjustRangeForInteraction as c } from \"./common.js\";\nimport { ConstraintTypes as m } from \"./ConstraintTypes.js\";\nimport { InteractionType as u } from \"./InteractionType.js\";\nimport { closestPointOnRay as f } from \"../../support/intersectionUtils.js\";\nfunction l(t, r, n = s) {\n  const a = p(t, r, n);\n  if (0 === a) return !1;\n  const c = t.renderCoordsHelper,\n    m = c.getAltitude(r.eye) + a,\n    u = i(r, n.interactionDirection, j(t, r, Math.sign(a), C), g),\n    l = e(M, r.viewForward),\n    d = c.intersectInfiniteManifold(o(r.eye, u), m, A);\n  return r.eye = null != d ? d : c.setAltitude(A, m, r.eye), r.center = f(A, r.eye, l, r.center), !0;\n}\nfunction p(e, r, n = s) {\n  if (!d(e, n) || !e.state.constraints.altitude) return 0;\n  const o = x(e.state.constraints.altitude, T);\n  y(e, n, o);\n  const i = e.renderCoordsHelper.getAltitude(r.eye),\n    a = t(i, o.min, o.max) - i;\n  return Math.abs(a) <= 1e-6 ? 0 : a;\n}\nfunction d(t, e) {\n  const r = t.state.constraints.altitude;\n  return !(!t.state.isGlobal || !r) && (e.interactionType !== u.TUMBLE || !a(e.selection, m.TILT));\n}\nfunction y(t, e, r) {\n  const n = e.interactionType;\n  if (n === u.NONE) return;\n  const {\n      min: o,\n      max: i\n    } = r,\n    {\n      interactionStartCamera: s,\n      interactionFactor: a\n    } = e;\n  if (!s) return;\n  const m = n === u.TUMBLE || n === u.ZOOM,\n    f = p(t, s),\n    l = 0 === f ? 0 : t.renderCoordsHelper.getAltitude(s.eye);\n  r.min = o, r.max = i;\n  c(f, l, m, a, .05 * l, r);\n}\nfunction j(t, e, n, o) {\n  return t.renderCoordsHelper.worldUpAtPosition(e.eye, o), r(o, o, n), o;\n}\nfunction x(t, e) {\n  return e.min = t.min, e.max = t.max, e;\n}\nconst T = {\n    min: 0,\n    max: 0\n  },\n  g = n(),\n  C = n(),\n  M = n(),\n  A = n();\nexport { l as applyAltitudeConstraint, p as getAltitudeConstraintError };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { c as e, f as r, g as n, p as t, E as o } from \"../../../../chunks/vec32.js\";\nimport { create as i } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { wrap as c } from \"../../../../geometry/support/ray.js\";\nimport { i as s, k as a } from \"../../../../chunks/sphere.js\";\nimport { defaultConstraintOptions as f, interactionDirectionTowardsConstraintMinimization as m, adjustRangeForInteraction as u } from \"./common.js\";\nimport { InteractionType as p } from \"./InteractionType.js\";\nfunction d(e, r, n = f) {\n  if (!e.state.isLocal) return 0;\n  const t = e.state.constraints.distance;\n  if (!e.pointsOfInterest.surfaceOrigin.renderLocation || t === 1 / 0) return 0;\n  x.min = 0, x.max = t, l(e, n, x);\n  const o = O(e, r),\n    i = x.max - o;\n  return i >= -1e-6 ? 0 : i;\n}\nfunction y(t, o, i = f) {\n  const u = d(t, o, i);\n  if (0 === u) return !1;\n  const p = t.pointsOfInterest.surfaceOrigin;\n  if (!p.renderLocation) return !1;\n  const y = O(t, o) + u,\n    l = e(L, o.eye),\n    x = m(o, i.interactionDirection, g(o, p.renderLocation, h), I);\n  if (!s(a(p.renderLocation, y), c(o.eye, x), k)) return !1;\n  o.eye = k;\n  const C = r(j, o.eye, l);\n  o.center = n(k, o.center, C);\n  const N = t.renderCoordsHelper.getAltitude(o.center),\n    v = t.renderCoordsHelper.intersectInfiniteManifold(o.ray, N, k);\n  return null != v && (o.center = v), !0;\n}\nfunction l(e, r, n) {\n  const t = r.interactionType;\n  if (t === p.NONE) return;\n  const {\n      min: o,\n      max: i\n    } = n,\n    {\n      interactionStartCamera: c,\n      interactionFactor: s\n    } = r;\n  if (!c) return;\n  const a = t === p.ZOOM || t === p.PAN,\n    f = d(e, c),\n    m = 0 === f ? 0 : O(e, c);\n  n.min = o, n.max = i;\n  u(f, m, a, s, .05 * m, n);\n}\nfunction O(e, r) {\n  const n = e.pointsOfInterest.surfaceOrigin;\n  return n.renderLocation ? t(r.eye, n.renderLocation) : 0;\n}\nfunction g(e, r, n) {\n  return o(n, e.eye, r);\n}\nconst x = {\n    min: 0,\n    max: 0\n  },\n  L = i(),\n  j = i(),\n  I = i(),\n  h = i(),\n  k = i();\nexport { y as applyDistanceConstraint, d as getDistanceConstraintError };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { l as e, f as t, g as E, j as r } from \"../../../../chunks/vec32.js\";\nimport { create as n } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { surfaceElevationBelowRenderLocation as o } from \"../intersectionUtils.js\";\nfunction s(n, s, _ = i.EYE) {\n  const a = n.state.constraints;\n  if (!a.collision.enabled) return !1;\n  const f = o(n, s.eye),\n    N = n.renderCoordsHelper.getAltitude(s.eye),\n    A = f + a.collision.elevationMargin;\n  if (N >= A) return !1;\n  const C = e(s.eye);\n  if (t(c, s.center, s.eye), s.eye = n.renderCoordsHelper.setAltitude(l, A, s.eye), _ === i.EYE_AND_CENTER) s.center = E(c, s.eye, c);else if (_ === i.EYE_AND_CENTER_SCALE) {\n    const e = (C - N + A) / C;\n    s.center = r(c, s.center, e);\n  }\n  return !0;\n}\nvar i;\n!function (e) {\n  e[e.EYE = 0] = \"EYE\", e[e.EYE_AND_CENTER = 1] = \"EYE_AND_CENTER\", e[e.EYE_AND_CENTER_SCALE = 2] = \"EYE_AND_CENTER_SCALE\";\n}(i || (i = {}));\nconst c = n(),\n  l = n();\nexport { i as Mode, s as applySurfaceCollisionConstraint };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { acosClamped as o } from \"../../../../core/mathUtils.js\";\nimport { f as r, l as t, m as s } from \"../../../../chunks/vec32.js\";\nimport { create as i } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nfunction c(i, c, f) {\n  i.worldUpAtPosition(c, m), r(e, f, c);\n  const n = t(e);\n  return 0 === n ? 0 : o(s(e, m) / n);\n}\nconst m = i(),\n  e = i();\nexport { c as viewAngle };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { neverReached as e } from \"../../../../core/compilerUtils.js\";\nimport { clamp as t, acosClamped as r, asinClamped as n, deg2rad as i } from \"../../../../core/mathUtils.js\";\nimport { fromRotation as s } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as a } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { f as o, h as c, j as u, g as l, p as m, m as f, n as d, l as p, q as y } from \"../../../../chunks/vec32.js\";\nimport { create as h } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as M } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { e as C, h as T, t as I } from \"../../../../chunks/sphere.js\";\nimport { hasConstraintType as O, defaultConstraintOptions as A, adjustRangeForInteraction as D } from \"./common.js\";\nimport { ConstraintTypes as S } from \"./ConstraintTypes.js\";\nimport { InteractionType as x } from \"./InteractionType.js\";\nimport { TiltMode as R } from \"./TiltMode.js\";\nimport { viewAngle as j } from \"../../state/utils/viewUtils.js\";\nfunction w(t, r, n, i = !0) {\n  V.eyeCenterDistance = 0, V.requiresTwoSteps = !1;\n  const a = U(t, r, n, A, V);\n  if (0 === a) return !1;\n  switch (s(_, -a, r.viewRight), n.tiltMode) {\n    case R.LOOK_AROUND:\n      c(K, r.viewForward, _), u(K, K, V.eyeCenterDistance), r.center = l(z, r.eye, K);\n      break;\n    case R.TUMBLE:\n      o(K, r.center, r.eye), c(K, K, _), r.eye = o(z, r.center, K);\n      break;\n    default:\n      e(n.tiltMode);\n  }\n  return r.up = c(z, r.up, _), !V.requiresTwoSteps || !i || w(t, r, n, !1);\n}\nfunction U(e, t, r, n = A, i) {\n  if (!e.state.constraints.tilt) return 0;\n  const s = t.distance,\n    a = e.state.constraints.tilt(s, J);\n  return k(e, r, a), n.interactionType === x.TUMBLE && O(n.selection, S.ALTITUDE) && B(e, n.interactionStartCamera, a), r.tiltMode === R.LOOK_AROUND || n.tiltMode === R.LOOK_AROUND ? L(e, t, a, i) : P(e, t, a);\n}\nfunction P(e, r, n) {\n  const i = j(e.renderCoordsHelper, r.center, r.eye),\n    s = i - t(i, n.min, n.max);\n  return v(s) ? s : 0;\n}\nfunction L(e, t, r, n) {\n  switch (n && (n.requiresTwoSteps = !1), e.viewingMode) {\n    case \"global\":\n      return q(e, t, r, n);\n    case \"local\":\n      return g(e, t, r, n);\n  }\n}\nfunction g(e, r, n, i) {\n  const s = j(e.renderCoordsHelper, r.center, r.eye),\n    a = t(s, n.min, n.max),\n    o = s - a;\n  if (!v(o)) return 0;\n  if (i) {\n    const t = e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,\n      n = e.renderCoordsHelper.getAltitude(r.eye) - t,\n      s = Math.cos(a);\n    Math.abs(s) > 1e-4 ? i.eyeCenterDistance = n / s : i.eyeCenterDistance = r.distance;\n  }\n  return o;\n}\nfunction q(e, r, n, i) {\n  const s = b(e, r, Q),\n    a = t(s.tiltAtCenter, n.min, n.max);\n  if (!v(s.tiltAtCenter - a)) return 0;\n  let o, c;\n  return s.centerIsOnSurface ? (o = H(s), c = F(s, o)) : (o = s.constraints.clampTilt(s.eyeCenterDistance, s.tiltAtCenter), i && o < Math.PI / 2 && (i.requiresTwoSteps = !0, o = Math.PI / 2 - 1e-5), c = N(s, o)), i && (i.eyeCenterDistance = E(s, o)), c;\n}\nfunction b(e, t, n) {\n  const i = e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,\n    s = i + M(e.spatialReference).radius,\n    a = e.renderCoordsHelper.intersectManifold(t.ray, i, z);\n  return n.eyeCenterDistance = t.distance, n.centerIsOnSurface = !1, null != a ? (n.eyeCenterDistance = m(t.eye, a), n.tiltAtCenter = j(e.renderCoordsHelper, a, t.eye), n.centerIsOnSurface = !0) : e.state.isLocal ? n.tiltAtCenter = j(e.renderCoordsHelper, t.center, t.eye) : (C(T(I, s), t.ray, z), n.eyeCenterDistance = m(t.eye, z), n.tiltAtCenter = r(-f(t.viewForward, d(z, z)))), n.radius = s, n.eyeRadius = p(t.eye), n.constraints = e.state.constraints, n;\n}\nfunction v(e) {\n  return Math.abs(e) > 1e-9;\n}\nfunction H(e) {\n  const {\n    constraints: t,\n    eyeCenterDistance: r,\n    tiltAtCenter: n\n  } = e;\n  let i = n,\n    s = t.clampTilt(r, n);\n  const a = E(e, s);\n  if (t.clampTilt(a, n) === s) return s;\n  let o = 0;\n  for (; o < 10 && v(s - i);) {\n    const r = (i + s) / 2,\n      n = E(e, r);\n    v(t.clampTilt(n, r) - r) ? i = r : s = r, o++;\n  }\n  return s;\n}\nfunction E(e, r) {\n  if (!e.centerIsOnSurface) return e.eyeCenterDistance;\n  const i = Math.PI - t(r, 0, Math.PI),\n    s = n(e.radius / e.eyeRadius * Math.sin(i)),\n    a = Math.PI - i - s,\n    o = Math.sin(a) / Math.sin(i);\n  if (e.eyeRadius < e.radius && o > 1) {\n    const t = Math.PI - s,\n      r = Math.PI - i - t;\n    return Math.sin(r) / Math.sin(i) * e.eyeRadius;\n  }\n  return o * e.eyeRadius;\n}\nfunction F(e, t) {\n  const r = n(e.radius / e.eyeRadius * Math.sin(e.tiltAtCenter)),\n    i = n(e.radius / e.eyeRadius * Math.sin(t));\n  return e.eyeRadius > e.radius ? r - i : i - r;\n}\nfunction N(e, t) {\n  return e.tiltAtCenter - Math.PI / 2 - (t - Math.PI / 2);\n}\nfunction k(e, t, r) {\n  if (t.interactionType === x.NONE) return;\n  const {\n    interactionStartCamera: n,\n    interactionFactor: i\n  } = t;\n  if (!n) return;\n  const {\n      min: s,\n      max: a\n    } = r,\n    o = U(e, n, A, t),\n    c = 0 === o ? 0 : j(e.renderCoordsHelper, n.center, n.eye);\n  r.min = s, r.max = a, t.interactionType === x.TUMBLE ? (O(t.selection, S.ALTITUDE) && B(e, n, r), D(o, c, !0, i, G, r)) : D(o, c, !1, i, G, r);\n}\nfunction B(e, t, n) {\n  const i = e.state.constraints;\n  if (e.state.isLocal || !i.altitude || !t) return;\n  const s = y(t.center),\n    a = Math.sqrt(s),\n    o = t.distance,\n    c = M(e.spatialReference).radius,\n    u = i.altitude.min + c,\n    l = i.altitude.max + c,\n    m = (u * u - o * o - s) / (-2 * a * o),\n    f = (l * l - o * o - s) / (-2 * a * o);\n  n.min = Math.max(n.min, Math.min(Math.PI - r(f), n.max)), n.max = Math.min(n.max, Math.PI - r(m));\n}\nconst K = h(),\n  _ = a(),\n  z = h(),\n  G = i(5),\n  J = {\n    min: 0,\n    max: 0\n  },\n  Q = {\n    constraints: null,\n    radius: 0,\n    eyeRadius: 0,\n    centerIsOnSurface: !0,\n    eyeCenterDistance: 0,\n    tiltAtCenter: 0\n  },\n  V = {\n    eyeCenterDistance: 0,\n    requiresTwoSteps: !1\n  };\nexport { w as applyTiltConstraint, U as getTiltConstraintError };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { getAltitudeConstraintError as t, applyAltitudeConstraint as o } from \"./constraintUtils/altitude.js\";\nimport { hasConstraintType as r } from \"./constraintUtils/common.js\";\nimport { ConstraintOptions as n } from \"./constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as i } from \"./constraintUtils/ConstraintTypes.js\";\nimport { getDistanceConstraintError as s, applyDistanceConstraint as e } from \"./constraintUtils/distance.js\";\nimport { InteractionType as a } from \"./constraintUtils/InteractionType.js\";\nimport { applySurfaceCollisionConstraint as c, Mode as p } from \"./constraintUtils/surfaceCollision.js\";\nimport { applyTiltConstraint as m, getTiltConstraintError as l } from \"./constraintUtils/tilt.js\";\nimport { inOutCubic as f } from \"../../animation/easing.js\";\nfunction E(t, o, n = C, s = o) {\n  s !== o && s.copyFrom(o), s.computeUp(t.state.viewingMode);\n  let e = !1;\n  for (let i = 0; i < N; i++) {\n    let o = 0;\n    for (const i of U) if (r(n.selection, i.type)) {\n      const r = Math.abs(i.error(t, s, n));\n      i.apply(t, s, n) && (e = !0, o += r);\n    }\n    if (0 === o) break;\n  }\n  const a = r(n.selection, i.COLLISION),\n    p = u(n.interactionType, t);\n  return a && c(t, s, p) && (e = !0), e && s.computeUp(t.state.viewingMode), e;\n}\nfunction u(t, o) {\n  switch (t) {\n    case a.PAN:\n      return p.EYE_AND_CENTER;\n    case a.ASCEND:\n      return o.state.isGlobal ? p.EYE_AND_CENTER_SCALE : p.EYE_AND_CENTER;\n    default:\n      return p.EYE;\n  }\n}\nfunction y(t) {\n  const o = Math.min(1, t / 150);\n  return f(o);\n}\nfunction T(t, o, r) {\n  return l(t, o, r) * o.distance;\n}\nconst U = [{\n    type: i.TILT,\n    error: T,\n    apply: m\n  }, {\n    type: i.ALTITUDE,\n    error: t,\n    apply: o\n  }, {\n    type: i.DISTANCE,\n    error: s,\n    apply: e\n  }],\n  C = new n(),\n  N = 5;\nexport { E as applyAll, y as pixelDistanceToInteractionFactor };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { lerp as t } from \"../../../../core/mathUtils.js\";\nimport { transpose as i } from \"../../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { create as e } from \"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";\nimport { l as s, p as o, o as a, c as h, f as n, t as c, j as r, b as _, m as p, g as m, n as l } from \"../../../../chunks/vec32.js\";\nimport { create as f, clone as d, UNIT_Z as M, UNIT_Y as v, UNIT_X as g } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { ViewingMode as u } from \"../../../ViewingMode.js\";\nimport { angle as w, slerp as y } from \"../../support/mathUtils.js\";\nclass P {\n  get pitch() {\n    return this._pitch;\n  }\n  get yaw() {\n    return this._yaw;\n  }\n  get distance() {\n    return this._distance;\n  }\n  get fov() {\n    return this._fov;\n  }\n  get size() {\n    return this._size;\n  }\n  constructor(t) {\n    this.viewingMode = t, this.center = f(), this._pitch = 0, this._yaw = 0, this._distance = 0, this.direction = d(V), this._fov = 55, this._size = 1;\n  }\n  pixelsPerPanAtZoom(t) {\n    return this._size / 2 / (this._zoomToPanScale * t);\n  }\n  zoomAtPixelsPerPan(t) {\n    return this._size / 2 / (this._zoomToPanScale * t);\n  }\n  pixelsPerRotateAtZoom() {\n    const t = Math.max(Math.cos(Math.abs(this._pitch)), .5);\n    return this._size / 2 / t;\n  }\n  compareTo(t, i) {\n    if (this.viewingMode === u.Global) {\n      const e = (s(this.center) + s(t.center)) / 2;\n      i.pan = w(this.center, t.center) * e;\n    } else i.pan = o(this.center, t.center);\n    let e = Math.abs(t._yaw - this._yaw);\n    e >= Math.PI && (e = 2 * Math.PI - e);\n    const a = Math.abs(t._pitch - this._pitch);\n    i.rotate = Math.max(e, a), i.fov = t.fov - this.fov, i.sourceZoom = this._distance, i.targetZoom = t._distance;\n  }\n  interpolate(i, e, s) {\n    this.viewingMode === u.Global ? y(i.center, e.center, s.pan, this.center) : a(this.center, i.center, e.center, s.pan), this._distance = isFinite(e.distance) ? t(i.distance, e.distance + s.zoomOffset, s.zoom) : i.distance, this._pitch = t(i.pitch, e.pitch, s.rotate);\n    let o = i._yaw;\n    const h = e._yaw;\n    Math.abs(h - o) >= Math.PI && (o += 2 * (o < h ? 1 : -1) * Math.PI), this._yaw = t(o, h, s.rotate), this._fov = t(i.fov, e.fov, s.fov);\n  }\n  copyFrom(t) {\n    h(this.center, t.center), this._pitch = t.pitch, this._yaw = t.yaw, this._distance = t.distance, h(this.direction, t.direction), this._size = t.size, this._fov = t.fov, this._zoomToPanScale = Math.atan(.5 * this._fov), this.viewingMode = t.viewingMode;\n  }\n  copyFromRenderCamera(t) {\n    const i = this._lookAtOrientation(t.center, S);\n    h(this.center, t.center), n(j, t.center, t.eye), c(j, j, i), c(T, t.up, i), this._distance = s(j), 0 !== this._distance && (j[0] /= this._distance, j[1] /= this._distance, j[2] /= this._distance), this._pitch = this._eyeUpToPitch(j), this._yaw = z(j, T), this._size = Math.sqrt(t.width * t.width + t.height * t.height), this._fov = t.fov, this._zoomToPanScale = Math.atan(.5 * this._fov);\n  }\n  copyToRenderCamera(t) {\n    const e = this._lookAtOrientation(this.center, S);\n    i(e, e), this._axisAngleVec3(O, this._pitch - Math.PI / 2, V, j), this._axisAngleVec3(k, this._yaw, j, j), this._axisAngleVec3(O, this._pitch - Math.PI / 2, k, T), this._axisAngleVec3(k, this._yaw, T, T), r(j, j, this._distance), c(j, j, e), c(T, T, e), t.center = this.center, t.eye = n(j, this.center, j), t.up = T, t.fov = this._fov;\n  }\n  _axisAngleVec3(t, i, e, s) {\n    const o = Math.cos(i),\n      a = Math.sin(i);\n    return r(A, e, o), _(x, t, e), r(x, x, a), r(b, t, (1 - o) * p(t, e)), m(s, m(s, A, x), b);\n  }\n  _lookAtOrientation(t, i = e()) {\n    return this._upAtLookAt(t, b), _(A, this.direction, b), l(A, A), 0 === A[0] && 0 === A[1] && 0 === A[2] && h(A, O), _(x, b, A), l(x, x), i[0] = A[0], i[1] = x[0], i[2] = b[0], i[3] = A[1], i[4] = x[1], i[5] = b[1], i[6] = A[2], i[7] = x[2], i[8] = b[2], i;\n  }\n  _upAtLookAt(t, i) {\n    return this.viewingMode === u.Local ? h(i, k) : l(i, t);\n  }\n  _eyeUpToPitch(t) {\n    return Math.PI - w(k, t);\n  }\n}\nfunction z(t, i) {\n  const e = I;\n  return Math.abs(i[2]) < .5 ? (h(e, i), t[2] > 0 && r(e, e, -1)) : h(e, t), _(x, e, k), l(x, x), w(O, x, k);\n}\nconst A = f(),\n  x = f(),\n  b = f(),\n  j = f(),\n  T = f(),\n  I = f(),\n  k = M,\n  V = v,\n  O = g,\n  S = e();\nexport { P as Camera };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Milliseconds as t, millisecondsFromSeconds as i } from \"../../../../core/time.js\";\nimport { f as e, l as r, c as n } from \"../../../../chunks/vec32.js\";\nimport { create as m } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { Camera as s } from \"./Camera.js\";\nimport a from \"../../webgl/RenderCamera.js\";\nimport { Animation as o } from \"../../../animation/pointToPoint/Animation.js\";\nclass c {\n  get finished() {\n    return this.currentTime >= this._animation.time;\n  }\n  get time() {\n    return this._animation.time;\n  }\n  constructor(i) {\n    this.currentTime = t(0), this._animation = new o(() => new s(i)), this._current = new s(i);\n  }\n  update(i, m, s) {\n    const {\n        source: a,\n        target: o\n      } = this._animation.definition,\n      c = e(h, m.center, i.center),\n      u = r(c);\n    u >= 1e-5 ? (c[0] /= u, c[1] /= u, c[2] /= u) : (c[0] = 0, c[1] = 1, c[0] = 0), n(a.direction, c), n(o.direction, c), a.copyFromRenderCamera(i), o.copyFromRenderCamera(m), this._current.copyFrom(a), this._animation.update(a, o, s), this.currentTime = t(0), i.almostEquals(m) && (this.currentTime = this._animation.time);\n  }\n  cameraAt(t, i) {\n    return this._animation.cameraAt(t, this._current), i = i || new a(), this._current.copyToRenderCamera(i), i;\n  }\n  step(e, r) {\n    return this.finished || (this.currentTime = t(this.currentTime + i(e)), this.currentTime >= this.time && (this.currentTime = this.time)), this.cameraAt(this.currentTime / this.time, r);\n  }\n}\nconst h = m();\nexport { c as Animation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nvar s;\n!function (t) {\n  t[t.Ready = 0] = \"Ready\", t[t.Rejected = 1] = \"Rejected\", t[t.Running = 2] = \"Running\", t[t.Stopped = 3] = \"Stopped\", t[t.Finished = 4] = \"Finished\";\n}(s || (s = {}));\nlet n = class extends e {\n  constructor(t) {\n    super(t), this.state = s.Ready;\n  }\n  get active() {\n    return this.state === s.Running;\n  }\n  get isInteractive() {\n    return !1;\n  }\n  get canStop() {\n    return !1;\n  }\n  stopController() {\n    return !!this.canStop && (this.state = s.Stopped, !0);\n  }\n  finishController() {\n    this.state = s.Finished;\n  }\n  get steppingFinished() {\n    return !1;\n  }\n};\nt([r({\n  constructOnly: !0\n})], n.prototype, \"view\", void 0), t([r({\n  readOnly: !0\n})], n.prototype, \"active\", null), t([r()], n.prototype, \"state\", void 0), t([r({\n  readOnly: !0\n})], n.prototype, \"isInteractive\", null), n = t([o(\"esri.views.3d.state.controllers.CameraController\")], n);\nexport { n as CameraController, s as State };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { assertIsSome as s } from \"../../../../core/maybe.js\";\nimport { createAbortError as i } from \"../../../../core/promiseUtils.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport \"../../../../core/Error.js\";\nimport { subclass as e } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport n from \"../../../ViewAnimation.js\";\nimport { CameraController as o, State as r } from \"./CameraController.js\";\nlet a = class extends o {\n  constructor() {\n    super(...arguments), this._asyncResult = null;\n  }\n  get canStop() {\n    return !0;\n  }\n  set asyncResult(t) {\n    this._asyncResult && (this._asyncResult.reject(i()), this._asyncResult = null), this.state === r.Finished || this.state === r.Stopped ? (s(t), this.state === r.Finished ? t.resolve() : t.reject(i())) : this._asyncResult = t;\n  }\n  get asyncResult() {\n    return this._asyncResult;\n  }\n  onControllerStart() {\n    this.state = r.Running, null != this.viewAnimation && this.viewAnimation.when(() => this.updateStateFromViewAnimation(), () => this.updateStateFromViewAnimation());\n  }\n  updateStateFromViewAnimation() {\n    null == this.viewAnimation || this.state !== r.Ready && this.state !== r.Running || (this.viewAnimation.state === n.State.FINISHED ? this.finish() : this.viewAnimation.state === n.State.STOPPED && (this.state = r.Stopped));\n  }\n  onControllerEnd() {\n    null == this.viewAnimation || this.viewAnimation.done || (this.state === r.Finished ? this.viewAnimation.finish() : this.state === r.Stopped && this.viewAnimation.stop()), this._asyncResult && (this.state === r.Finished ? this._asyncResult.resolve() : this._asyncResult.reject(i()));\n  }\n  finish() {\n    this.finishController();\n  }\n};\na = t([e(\"esri.views.3d.state.controllers.AnimationController\")], a);\nexport { a as AnimationController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../../../chunks/tslib.es6.js\";\nimport { property as t } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as n } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport o from \"../../../ViewAnimation.js\";\nimport { Animation as s } from \"../../animation/pointToPoint/Animation.js\";\nimport { AnimationController as r } from \"./AnimationController.js\";\nimport a from \"../../webgl/RenderCamera.js\";\nimport { newIntersector as m } from \"../../webgl-engine/lib/Intersector.js\";\nimport { EasingFunctions as c } from \"../../../animation/easing.js\";\nlet h = class extends r {\n  get intersectionHelper() {\n    return this.view.sceneIntersectionHelper;\n  }\n  constructor(i) {\n    super(i), this.mode = \"interaction\", this._hasTarget = !1;\n  }\n  initialize() {\n    this.animation = new s(this.view.state.viewingMode), this.viewAnimation = \"interaction\" === this.mode ? null : new o();\n  }\n  get isInteractive() {\n    return \"interaction\" === this.mode;\n  }\n  begin(i, t) {\n    this._hasTarget = !0;\n    const e = this.animationSettings(t);\n    p.copyFrom(this.view.state.camera);\n    const n = m(this.view.state.viewingMode);\n    this.intersectionHelper.intersectRay(p.ray, n, l) && (p.center = l), this.animation.update(p, i, e), this.animation.finished && this.finish();\n  }\n  finish() {\n    this.animation.currentTime = this.animation.time, super.finish();\n  }\n  get steppingFinished() {\n    return this._hasTarget && this.animation.finished;\n  }\n  stepController(i, t) {\n    this._hasTarget && this.animation.step(i, t);\n  }\n  onControllerEnd(i) {\n    this._hasTarget && (this.animation.cameraAt(this.animation.currentTime / this.animation.time, i), this.animation.currentTime = this.animation.time), super.onControllerEnd(i);\n  }\n  animationSettings(i = {}) {\n    return {\n      apex: {\n        maximumDistance: this.view.state.constraints.clampAltitude(1 / 0) / 6,\n        ascensionFactor: void 0,\n        descensionFactor: void 0\n      },\n      ...i,\n      easing: \"string\" == typeof i.easing ? c[i.easing] : i.easing\n    };\n  }\n};\ni([t({\n  constructOnly: !0\n})], h.prototype, \"mode\", void 0), i([t({\n  readOnly: !0\n})], h.prototype, \"isInteractive\", null), h = i([e(\"esri.views.3d.state.controllers.PointToPointAnimationController\")], h);\nconst p = new a(),\n  l = n();\nexport { h as PointToPointAnimationController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { setAxisAngle as t, multiply as r, getAxisAngle as n } from \"../../core/libs/gl-matrix-2/math/quat.js\";\nimport { create as o } from \"../../core/libs/gl-matrix-2/factories/quatf64.js\";\nimport { c as u, b as c, n as e } from \"../../chunks/vec32.js\";\nimport { angle as i } from \"./vector.js\";\nimport { sv4d as f } from \"./vectorStacks.js\";\nfunction s(t = k) {\n  return [t[0], t[1], t[2], t[3]];\n}\nfunction a(t, r, n, o) {\n  return g(t, r, n, o, f.get());\n}\nfunction m(t, r) {\n  return g(t[0], t[1], t[2], r, f.get());\n}\nfunction p(t, r = s()) {\n  return g(t[0], t[1], t[2], t[3], r);\n}\nfunction g(t, r, n, o, u = s()) {\n  return u[0] = t, u[1] = r, u[2] = n, u[3] = o, u;\n}\nfunction j(t, r) {\n  const n = s();\n  return u(v(n), t), n[3] = r, n;\n}\nfunction l(t, r, n) {\n  return c(v(n), t, r), e(v(n), v(n)), n[3] = i(t, r), n;\n}\nfunction b(o, u, c) {\n  return t(q, v(o), x(o)), t(S, v(u), x(u)), r(q, S, q), h(c, n(v(c), q));\n}\nfunction v(t) {\n  return t;\n}\nfunction x(t) {\n  return t[3];\n}\nfunction h(t, r) {\n  return t[3] = r, t;\n}\nconst k = [0, 0, 1, 0],\n  q = o(),\n  S = o();\nexport { x as angle, v as axis, b as compose, p as copy, s as create, j as fromAxisAndAngle, l as fromPoints, g as fromValues, h as setAngle, k as up, a as wrap, m as wrapAxisAngle };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as r } from \"../../../../geometry/support/ray.js\";\nimport { i as o } from \"../../../../chunks/sphere.js\";\nimport { fromScreenAtEye as t } from \"./ray.js\";\nfunction s(r, s, p, e) {\n  const n = t(s, p, m);\n  return o(r, n, e);\n}\nconst m = r();\nexport { s as intersectScreen };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { cyclicalPI as t } from \"../../../../core/Cyclical.js\";\nimport { deg2rad as e, clamp as n, acosClamped as o, asinClamped as r } from \"../../../../core/mathUtils.js\";\nimport { createScreenPointArray as a } from \"../../../../core/screenUtils.js\";\nimport { fromRotation as i, exactEquals as s, multiply as c, rotate as l } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { IDENTITY as m, create as u } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { set as f } from \"../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as p } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { f as h, h as M, g, l as y, j as b, o as d, s as x, m as j, n as v, a as z, c as P, b as w } from \"../../../../chunks/vec32.js\";\nimport { create as I } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as S, axis as A, fromPoints as E, wrapAxisAngle as k } from \"../../../../geometry/support/axisAngle.js\";\nimport { coordinateSystemFromOneAxisAndNormalVector as U, vectorCoordinates as H } from \"../../../../geometry/support/coordinateSystem.js\";\nimport { create as G, intersectRay as R, fromNormalAndOffset as q } from \"../../../../geometry/support/plane.js\";\nimport { e as C, i as F, g as V, c as T } from \"../../../../chunks/sphere.js\";\nimport { sm4d as O, sv3d as W } from \"../../../../geometry/support/vectorStacks.js\";\nimport { fromScreen as B, fromScreenAtEye as D } from \"../../support/geometryUtils/ray.js\";\nimport { intersectScreen as J } from \"../../support/geometryUtils/sphere.js\";\nimport K from \"../../webgl/RenderCamera.js\";\nimport { terrainId as L } from \"../../webgl-engine/lib/verticalOffsetUtils.js\";\nvar N;\n!function (t) {\n  t[t.Ellipsoid = 0] = \"Ellipsoid\", t[t.Silhouette = 1] = \"Silhouette\";\n}(N || (N = {}));\nconst Q = 30,\n  X = [1, 3e8],\n  Y = 80,\n  Z = 8,\n  $ = 200,\n  _ = 1508e5,\n  tt = 5,\n  et = 50,\n  nt = 5,\n  ot = 10,\n  rt = 90,\n  at = {\n    exclude: new Set([L])\n  };\nfunction it(t, e, n) {\n  return n[0] = e[0] / (t.fullWidth / t.pixelRatio), n[1] = e[1] / (t.fullHeight / t.pixelRatio), n;\n}\nfunction st(t) {\n  for (; t > Math.PI;) t -= 2 * Math.PI;\n  for (; t < -Math.PI;) t += 2 * Math.PI;\n  return t;\n}\nfunction ct(t, e, n) {\n  const o = i(O.get(), n[3], A(n));\n  null == o || s(o, m) || (h(oe, t.eye, e), M(oe, oe, o), t.eye = g(oe, oe, e), h(oe, t.center, e), M(oe, oe, o), t.center = g(oe, oe, e), t.up = M(oe, t.up, o));\n}\nfunction lt(t, e, n, o) {\n  return R(t, B(e, n, ce), o);\n}\nfunction mt(t, e, n, o) {\n  return R(t, D(e, n, ce), o);\n}\nfunction ut(t, e, n, o) {\n  const r = W.get();\n  let a = 1 - n;\n  h(r, e, t.eye);\n  const i = y(r);\n  let s = i * (1 - a);\n  a >= 0 && s < o && (s = o, a = -(s - i) / i), Math.abs(i - s) < 1e-6 || (b(r, r, a), t.eye = g(oe, t.eye, r), t.center = d(oe, t.center, e, a));\n}\nfunction ft(t, e, n) {\n  e.getScreenCenter(pt), J(t, e, pt, oe) && (e.center = oe);\n  const o = e.distance,\n    r = o * n;\n  if (Math.abs(o - r) < 1e-6) return;\n  const a = b(W.get(), e.viewForward, r);\n  e.eye = h(oe, e.center, a);\n}\nconst pt = a();\nfunction ht(t, e) {\n  x(e, 0, 0, 0);\n  for (const n of t) g(e, e, n);\n  b(e, e, 1 / t.length);\n}\nfunction Mt(t, e, n, o) {\n  return Math.sin(t / y(e)) * (n + o.radius);\n}\nfunction gt(t, e, n, o) {\n  return Mt(Math.PI / 2, e, n, o) + (t - Math.PI / 2);\n}\nvar yt;\n!function (t) {\n  t[t.Vertical = 0] = \"Vertical\", t[t.Horizontal = 1] = \"Horizontal\";\n}(yt || (yt = {}));\nconst bt = {\n    Elevation: 3e4,\n    Angle: e(16)\n  },\n  dt = {\n    Pole: .95,\n    Angle: e(18),\n    Tilt: 45\n  },\n  xt = e(80);\nfunction jt(t, e, n, o, r, a) {\n  const i = I(),\n    s = T();\n  let c = !0,\n    l = !0;\n  return t.intersectScreen(n, i, a) ? s[3] = y(i) : (l = !1, e.aboveGround && r !== N.Ellipsoid ? s[3] = Math.max(y(e.center), .9 * o.radius) : s[3] = y(e.eye) - e.relativeElevation, r === N.Silhouette ? wt(s, e, n, i) : c = J(s, e, n, i)), {\n    sphere: s,\n    scenePickPoint: c ? i : null,\n    hasGeometryIntersection: l\n  };\n}\nfunction vt(t, e, n, o) {\n  const r = t.relativeElevation;\n  if (r > bt.Elevation && \"global\" === o) return yt.Horizontal;\n  D(t, e, le);\n  const a = Math.sign(r),\n    i = n.worldUpAtPosition(t.eye, oe);\n  return -a * j(i, le.direction) < Math.sin(bt.Angle) * y(le.direction) ? yt.Vertical : yt.Horizontal;\n}\nfunction zt(t, e, n) {\n  h(Pt, n, e), t.eye = h(oe, t.eye, Pt), t.center = h(oe, t.center, Pt);\n}\nconst Pt = I();\nfunction wt(t, e, n, o) {\n  const r = D(e, n, ce);\n  return null != r && (C(t, r, It), F(t, r, o) ? !(z(It, r.origin) < z(o, r.origin)) || (P(o, It), !1) : (h(St, e.eye, e.center), v(St, St), q(St, -j(v(St, St), It), At), R(At, r, o), !1));\n}\nconst It = I(),\n  St = I(),\n  At = G();\nfunction Et(a, i, s, c, l, m) {\n  let u = 0;\n  if (w(ie, a, i), h(re, a, i), y(a) <= l || !c.aboveGround) {\n    w(s, re, c.eye);\n    const f = j(a, i) / (y(a) * y(i));\n    if (f < .9999) u = o(f);else {\n      const t = y(w(I(), a, i)) / (y(a) * y(i));\n      u = r(t);\n    }\n    const p = Math.cos(n(t.normalize(e(m)), 0, xt));\n    u = -u - Math.max(0, y(i) - l) / (p * l);\n  } else h(kt, c.eye, c.center), w(s, re, kt), u = -y(re) / l;\n  return v(s, s), b(s, s, y(ie)), u;\n}\nconst kt = I();\nfunction Ut(r, a, i, s) {\n  let c, l;\n  const m = Math.cos(n(t.normalize(e(s)), 0, xt));\n  return c = a > i ? -(a - i) / (m * i) : a < -i ? Math.PI - (a + i) / (m * i) : o(a / i), l = r > i ? -(r - i) / (m * i) : r < -i ? Math.PI - (r + i) / (m * i) : o(r / i), (l - c) * i;\n}\nfunction Ht(t, e, n, o, r, a, i, s, c, l) {\n  const m = Ut(t[2], e[2], a[3], s),\n    u = c ? Ut(t[0], e[0], a[3], 180) : e[0] - t[0],\n    p = Math.sin(i) * u - Math.cos(i) * m,\n    h = Math.cos(i) * u + Math.sin(i) * m;\n  v(oe, r);\n  const M = c ? p / Math.sqrt(Math.abs(a[3] ** 2 - j(n, oe) ** 2)) : p / a[3],\n    g = h / Math.sqrt(Math.abs(a[3] ** 2 - j(n, o) ** 2));\n  f(l, M, g);\n}\nfunction Gt(t, e, n, o, r, a, i, s, c, l) {\n  w(ie, t, e), U(a.up, a.eye, Lt, Nt, Qt), U([0, 0, 1], a.eye, Dt, Jt, Kt), P(n, Jt), P(o, Dt), v(n, n), b(n, n, y(ie)), H(t, v(Nt, Nt), v(Qt, Qt), v(Lt, Lt), Xt), H(e, Nt, Qt, Lt, Yt), Ht(Xt, Yt, t, Dt, Jt, i, s, c, l, r);\n}\nfunction Rt(t, e, n, o, r, a, s) {\n  i(_t, r, o), i(te, s, a), c(ee, _t, te), h(e, t, n), M(e, e, ee), g(e, e, n);\n}\nfunction qt(t, e, n, o, r, a) {\n  i(_t, o, n), i(te, a, r), c(ee, _t, te), h(oe, t.eye, e), M(oe, oe, ee), t.eye = g(oe, oe, e), h(oe, t.center, e), M(oe, oe, ee), t.center = g(oe, oe, e), h(oe, t.up, e), M(oe, oe, ee), t.up = g(oe, oe, e);\n}\nfunction Ct(t, e, n, o, r, a) {\n  return (Math.abs(o) > Math.PI - dt.Angle || Math.abs(o) < dt.Angle) && (Math.abs(t[2]) < n * dt.Pole || Math.abs(e) > n) && a.aboveGround && r < dt.Tilt;\n}\nfunction Ft(t, e, n, o, r, a) {\n  if (a) E(n, o, $t), ct(e, V(t), $t);else {\n    const a = Et(n, o, se, e, t[3], r);\n    ct(e, V(t), k(se, a));\n  }\n}\nfunction Vt(t, e, n, o, r, a, i) {\n  const s = i ? 20 : 1,\n    c = 1e-12;\n  let l, m;\n  P(ne, o), ae.copyFrom(e);\n  for (let u = 0; u < s && z(n, ne) > c && (l = z(n, ne), Gt(n, ne, Jt, Dt, Zt, ae, t, r, a, i), qt(ae, V(t), Dt, Zt[1], Jt, Zt[0]), Rt(ne, ne, V(t), Dt, Zt[1], Jt, Zt[0]), m = z(n, ne), m < l || 0 === u); u++) e.copyFrom(ae);\n}\nfunction Tt(n, o, r, a, i, s, c) {\n  Ct(r, j(o.up, r), n[3], -t.normalize(e(i)), s, o) ? Vt(n, o, r, a, -t.normalize(e(i)), s, c) : Ft(n, o, r, a, s, c);\n}\nfunction Ot(t, e, n, o, r, a) {\n  const {\n    eye: i\n  } = t;\n  U([0, 0, 1], i, Dt, Jt, Kt);\n  const s = e.translation[0] * n.pan,\n    c = \"zoom\" === r.mode ? 0 : e.translation[1] * n.pan,\n    m = Math.max(Math.sqrt(Math.abs(1 - j(t.center, Dt) ** 2 / y(t.center) ** 2)), .5),\n    u = (Math.sin(a) * c + Math.cos(a) * s) / m,\n    f = -Math.cos(a) * c + Math.sin(a) * s;\n  switch (l(o.pan.matrix, o.pan.matrix, u, Dt), o.pan.enabled = !0, r.mode) {\n    case \"pan\":\n      l(o.pan.matrix, o.pan.matrix, f, Jt), o.pan.enabled = !0;\n      break;\n    case \"zoom\":\n      o.zoom = -e.translation[1] * n.zoom;\n  }\n}\nfunction Wt(t, e, n, o, r) {\n  const {\n      eye: a,\n      viewRight: i\n    } = t,\n    s = w(W.get(), i, a),\n    c = e.translation[0] * n.pan;\n  switch (0 !== c && (l(o.pan.matrix, o.pan.matrix, -c, s), o.pan.enabled = !0), r.mode) {\n    case \"pan\":\n      {\n        const t = e.translation[1] * n.pan;\n        0 !== t && (l(o.pan.matrix, o.pan.matrix, t, i), o.pan.enabled = !0);\n        break;\n      }\n    case \"zoom\":\n      o.zoom = -e.translation[1] * n.zoom;\n  }\n}\nfunction Bt(n, o, r, a, i, s, c, l, m) {\n  Ct(n.center, j(n.up, n.center), y(n.center), -t.normalize(e(s)), c, o) ? Ot(o, r, a, l, m, -t.normalize(e(i))) : Wt(o, r, a, l, m);\n}\nconst Dt = I(),\n  Jt = I(),\n  Kt = I(),\n  Lt = I(),\n  Nt = I(),\n  Qt = I(),\n  Xt = I(),\n  Yt = I(),\n  Zt = p(),\n  $t = S(),\n  _t = u(),\n  te = u(),\n  ee = u(),\n  ne = I(),\n  oe = I(),\n  re = I(),\n  ae = new K(),\n  ie = I(),\n  se = I(),\n  ce = {\n    origin: I(),\n    direction: I()\n  },\n  le = {\n    origin: I(),\n    direction: I()\n  };\nexport { yt as NavigationMode, dt as PreservingHeadingThreshold, N as SpherePickPointFallback, xt as TiltThresholdPanningSpeed, bt as VerticalPanTresholds, zt as applyPanPlanar, Ft as applyPanSphericalDirectRotation, Vt as applyPanSphericalPreserveHeading, ct as applyRotation, qt as applyRotationWithTwoAxes, ft as applyZoomOnSphere, ut as applyZoomToPoint, ht as centroid, at as contentIntersectorOptions, X as distanceClampValues, lt as intersectPlaneFromScreenPoint, mt as intersectPlaneFromScreenPointAtEye, Ut as lengthFromPoints, et as minHeightLimit, vt as navigationMode, it as normalizeCoordinate, st as normalizeRotationDelta, gt as offSurfaceTiltToEyeTiltGlobal, Mt as onSurfaceTiltToEyeTiltGlobal, tt as panDistanceModifier, Bt as panMotionToRotationMatrix, Tt as panToPosition, jt as pickPointAndInitSphere, Q as pivotDistanceModifier, Ct as preserveHeadingThreshold, nt as rotatePivotDistanceModifier, ot as rotatePivotMinDistanceModifier, Rt as rotatePointAroundTwoAxes, rt as rotateScreenPixelArea, Et as rotationAngleAndAxisDirectRotation, Gt as rotationAnglesAndAxesHeadingPreserving, Ht as rotationAnglesHeadingPreserving, Y as screenPixelArea, wt as sphereOrPlanePointFromScreenPoint, Z as zoomDistanceModifier, _ as zoomMaxDistanceModifier, $ as zoomMinDistanceModifier };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { clamp as i } from \"../../../../core/mathUtils.js\";\nimport { Milliseconds as e } from \"../../../../core/time.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport \"../../../../core/Error.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as s, n as o, j as a, m as n, l as m, f as h, g as c, a as p } from \"../../../../chunks/vec32.js\";\nimport { create as _ } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { c as l } from \"../../../../chunks/sphere.js\";\nimport { applyAll as y } from \"../../camera/constraintUtils.js\";\nimport { ConstraintOptions as f } from \"../../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as g } from \"../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as w } from \"../../camera/constraintUtils/InteractionType.js\";\nimport { applySurfaceCollisionConstraint as C } from \"../../camera/constraintUtils/surfaceCollision.js\";\nimport { PointToPointAnimationController as d } from \"./PointToPointAnimationController.js\";\nimport { contentIntersectorOptions as j, navigationMode as u, zoomMaxDistanceModifier as D, zoomMinDistanceModifier as v, zoomDistanceModifier as b, NavigationMode as R, panToPosition as M } from \"../utils/navigationUtils.js\";\nimport { fromScreenAtEye as L } from \"../../support/geometryUtils/ray.js\";\nimport { intersectScreen as z } from \"../../support/geometryUtils/sphere.js\";\nimport O from \"../../webgl/RenderCamera.js\";\nimport { newIntersector as S } from \"../../webgl-engine/lib/Intersector.js\";\nimport { outExpo as U } from \"../../../animation/easing.js\";\nconst V = .6,\n  H = 4,\n  x = 60;\nlet A = class extends d {\n  constructor() {\n    super(...arguments), this._zoomLocation = _(), this._tmpCamera = new O(), this._tmpViewDir = _(), this._tmpRayDir = {\n      origin: _(),\n      direction: _()\n    }, this._targetOnSphere = _(), this._tmpCenter = _(), this._beginCamera = new O(), this._constraintOptions = new f(g.ALL_EXCEPT_COLLISION, w.ZOOM, null, this._beginCamera), this._sphere = l();\n  }\n  initialize() {\n    this._intersector = S(this.view.state.viewingMode);\n  }\n  zoomStep(t, i) {\n    if (!this.active) return;\n    const e = this.view.state;\n    this.animation.finished ? this._beginCamera.copyFrom(e.camera) : this.animation.cameraAt(1, this._beginCamera);\n    let r = !1,\n      o = !1;\n    this.intersectionHelper.intersectScreen(i, this._zoomLocation, 0 === this.view.map.ground.opacity ? j : {}) && (r = t > 0, o = !0), this._tmpCamera.copyFrom(e.camera), r ? this.intersectionHelper.intersectRay(this._tmpCamera.ray, this._intersector, this._tmpCenter) && (this._tmpCamera.center = this._tmpCenter) : this.intersectionHelper.intersectRay(this._tmpCamera.ray, this._intersector, this._zoomLocation) ? this._tmpCamera.center = this._zoomLocation : s(this._zoomLocation, this._tmpCamera.center), this._updateCamera(this._tmpCamera, t, this._zoomLocation, i, o), this.begin(this._tmpCamera);\n  }\n  animationSettings() {\n    return {\n      duration: e(600),\n      easing: U\n    };\n  }\n  _updateCamera(t, e, r, s, _) {\n    const l = u(t, s, this.view.renderCoordsHelper, this.view.viewingMode),\n      f = Math.abs(this.view.camera.position.z);\n    o(I, t.eye), a(I, I, -1), L(t, s, this._tmpRayDir), o(this._tmpRayDir.direction, this._tmpRayDir.direction);\n    const g = i(Math.min(b, 1 / Math.abs(n(I, this._tmpRayDir.direction))) * f, v, D);\n    if (l === R.Horizontal) {\n      let i = V ** e;\n      this._sphere[3] = m(r), h(this._tmpViewDir, t.center, t.eye);\n      const o = Math.min(m(this._tmpViewDir), g);\n      let n = o * i;\n      if (i <= 1 && n < H && (n = H, i = n / o), Math.abs(o - n) < 1e-6) return;\n      const _ = m(t.center);\n      if (this._sphere[3] !== _) {\n        const e = this._sphere[3] + i * (_ - this._sphere[3]);\n        t.center = a(F, t.center, e / _);\n      }\n      a(this._tmpViewDir, this._tmpViewDir, -i), t.eye = c(F, t.center, this._tmpViewDir), y(this.view, t, this._constraintOptions), p(r, t.center) > 1e-12 && z(this._sphere, t, s, this._targetOnSphere) && M(this._sphere, t, r, this._targetOnSphere, this.view.camera.heading, this.view.camera.tilt, !0);\n    } else {\n      let i = V ** Math.abs(e);\n      const o = e > 0 ? 1 : -1;\n      h(this._tmpViewDir, r, t.eye);\n      const n = m(this._tmpViewDir),\n        p = this.view._stage.renderView.getMinimalDepthForArea(null, s[0], s[1], this.view.state.camera, x);\n      let l = null != p ? p : g;\n      l = _ && e > 0 ? Math.min(l, n) : l, a(this._tmpRayDir.direction, this._tmpRayDir.direction, l), c(r, this._tmpRayDir.origin, this._tmpRayDir.direction);\n      let y = l * i;\n      const f = Math.max(H, 1.01 * t.nearFar[0]);\n      if (e > 0 && y < f && (y = f, i = y / l), Math.abs(l - y) < 1e-6) return;\n      a(this._tmpRayDir.direction, this._tmpRayDir.direction, o * (1 - i)), t.eye = c(F, t.eye, this._tmpRayDir.direction), t.center = c(F, t.center, this._tmpRayDir.direction);\n    }\n    C(this.view, t);\n  }\n};\nA = t([r(\"esri.views.3d.state.controllers.ZoomStepControllerGlobal\")], A);\nconst F = _(),\n  I = _();\nexport { A as ZoomStepControllerGlobal };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { clamp as i } from \"../../../../core/mathUtils.js\";\nimport { Milliseconds as e } from \"../../../../core/time.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport \"../../../../core/Error.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as o, f as r, n as a, m, l as n, g as c, j as h, o as p } from \"../../../../chunks/vec32.js\";\nimport { create as _, fromValues as l } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { applyAll as C } from \"../../camera/constraintUtils.js\";\nimport { ConstraintOptions as f } from \"../../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as j } from \"../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as y } from \"../../camera/constraintUtils/InteractionType.js\";\nimport { getVoxelWasm as g } from \"../../layers/VoxelWasm.js\";\nimport { PointToPointAnimationController as w } from \"./PointToPointAnimationController.js\";\nimport { contentIntersectorOptions as b, zoomMaxDistanceModifier as u, zoomMinDistanceModifier as v, zoomDistanceModifier as L } from \"../utils/navigationUtils.js\";\nimport d from \"../../webgl/RenderCamera.js\";\nimport { newIntersector as z } from \"../../webgl-engine/lib/Intersector.js\";\nimport { outExpo as R } from \"../../../animation/easing.js\";\nconst M = .6,\n  D = 4,\n  F = 60;\nlet U = class extends w {\n  constructor() {\n    super(...arguments), this._zoomLocation = _(), this._tmpCamera = new d(), this._tmpRayDir = _(), this._tmpCenter = _(), this._beginCamera = new d(), this._constraintOptions = new f(j.ALL, y.ZOOM, null, this._beginCamera);\n  }\n  zoomStep(t, e) {\n    if (!this.active) return;\n    const s = this.view.state;\n    this.animation.finished ? this._beginCamera.copyFrom(s.camera) : this.animation.cameraAt(1, this._beginCamera), this._tmpCamera.copyFrom(s.camera);\n    const p = z(this.view.state.viewingMode);\n    let l = !1;\n    t > 0 ? (l = this.intersectionHelper.intersectScreenFreePointFallback(e, this._zoomLocation, 0 === this.view.map.ground.opacity ? b : {}), this.intersectionHelper.intersectRay(this._tmpCamera.ray, p, this._tmpCenter) && (this._tmpCamera.center = this._tmpCenter)) : this.intersectionHelper.intersectRay(this._tmpCamera.ray, p, this._zoomLocation) ? this._tmpCamera.center = this._zoomLocation : o(this._zoomLocation, this._tmpCamera.center);\n    const C = M ** t;\n    let f = this.view._stage.renderView.getMinimalDepthForArea(g(this.view), e[0], e[1], this.view.state.camera, F);\n    r(S, this._tmpCamera.eye, this._zoomLocation), a(S, S);\n    const j = i(Math.min(L, 1 / Math.abs(m(O, S))) * Math.abs(this.view.camera.position.z), v, u);\n    if (f = null != f ? f : j, f) {\n      const t = _();\n      r(t, this._zoomLocation, this._tmpCamera.eye), (f < n(t) || !l) && (a(t, t), c(this._zoomLocation, this._tmpCamera.eye, h(t, t, f)));\n    }\n    this._updateCamera(this._tmpCamera, C, this._zoomLocation), this.begin(this._tmpCamera);\n  }\n  animationSettings() {\n    return {\n      duration: e(600),\n      easing: R\n    };\n  }\n  _updateCamera(t, i, e) {\n    r(this._tmpRayDir, e, t.eye);\n    const s = n(this._tmpRayDir);\n    let o = s * i;\n    const a = i <= 1,\n      m = Math.max(D, 1.01 * t.nearFar[0]);\n    0 !== o && (a && o < m && (o = m, i = o / s), Math.abs(s - o) < 1e-6 || (h(this._tmpRayDir, this._tmpRayDir, i), t.eye = r(x, e, this._tmpRayDir), t.center = p(x, t.center, e, 1 - i), C(this.view, t, this._constraintOptions)));\n  }\n};\nU = t([s(\"esri.views.3d.state.controllers.ZoomStepControllerLocal\")], U);\nconst x = _(),\n  O = l(0, 0, 1),\n  S = _();\nexport { U as ZoomStepControllerLocal };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createScreenPointArray as o } from \"../../../../core/screenUtils.js\";\nimport { ZoomStepControllerGlobal as t } from \"../../state/controllers/ZoomStepControllerGlobal.js\";\nimport { ZoomStepControllerLocal as e } from \"../../state/controllers/ZoomStepControllerLocal.js\";\nimport { InputHandler as i } from \"../../../input/InputHandler.js\";\nimport { eventMatchesPointerAction as r } from \"../../../input/handlers/support.js\";\nclass s extends i {\n  constructor(o, t) {\n    super(!0), this._view = o, this.registerIncoming(\"double-click\", t, o => this._handleDoubleClick(o));\n  }\n  _handleDoubleClick(i) {\n    const s = i.data;\n    if (r(s, \"primary\")) {\n      const r = this._view.state.isGlobal ? new t({\n        view: this._view,\n        mode: \"animation\"\n      }) : new e({\n        view: this._view,\n        mode: \"animation\"\n      });\n      this._view.state.switchCameraController(r), r.zoomStep(Math.log(.5) / Math.log(.6), o(s.x, s.y)), i.stopPropagation();\n    }\n  }\n}\nexport { s as DoubleClickZoom };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { lerp as t, clamp as e } from \"../../../core/mathUtils.js\";\nimport { getMetersPerUnitForSR as i } from \"../../../core/unitUtils.js\";\nimport { f as r, n as s, m as n, l as a } from \"../../../chunks/vec32.js\";\nimport { create as m } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as o } from \"../../../geometry/ellipsoidUtils.js\";\nimport h from \"../../../geometry/Extent.js\";\nimport { ViewingMode as l } from \"../../ViewingMode.js\";\nimport { computeInnerAltitudeFade as x } from \"../environment/atmosphereUtils.js\";\nfunction c(t, e, i) {\n  return t === l.Global ? new M(i) : new u(e, i);\n}\nclass u {\n  constructor(t, e) {\n    this._elevationProvider = t, this._referenceEllipsoid = o(e), this._unitInMeters = i(e, this._referenceEllipsoid.metersPerDegree);\n  }\n  compute(i, a, m, o, l) {\n    l || (l = {\n      near: 0,\n      far: 0\n    });\n    let x = i[2] * this._unitInMeters;\n    const c = x,\n      u = x - o,\n      M = this._elevationProvider?.visibleElevationBounds;\n    M && (x = u >= 0 ? c - this._unitInMeters * M.min : this._unitInMeters * M.max - c);\n    const _ = {\n        x: (m = null != m ? m : new h({\n          xmin: 0,\n          ymin: 0,\n          zmin: 0,\n          xmax: 0,\n          ymax: 0,\n          zmax: 0\n        })).xmax - m.xmin,\n        y: m.ymax - m.ymin,\n        z: 4 * Math.max(m.xmax - m.xmin, m.ymax - m.ymin)\n      },\n      I = Math.max(_.x, _.y, _.z);\n    r(E, a, i), v[0] = E[0] > 0 ? m.xmax : m.xmin, v[1] = E[1] > 0 ? m.ymax : m.ymin, v[2] = E[2] > 0 ? I / 2 : -I / 2, r(v, v, i), s(E, E);\n    const j = 1.1 * n(v, E) * this._unitInMeters,\n      g = Math.sqrt(x * (x + 2 * this._referenceEllipsoid.radius)),\n      b = Math.max(m.xmax - m.xmin, m.ymax - m.ymin),\n      w = b * d * this._unitInMeters,\n      z = b * y * this._unitInMeters,\n      U = e((x - z) / (w - z), 0, 1) ** 3,\n      P = Math.min(t(g, j, U), g) * Math.max(Math.log(Math.abs(u)), 1);\n    return f(Math.min(P, Math.max(34064e4, I)) / this._unitInMeters, p, this._unitInMeters, l);\n  }\n}\nclass M {\n  constructor(t) {\n    this._referenceEllipsoid = o(t);\n  }\n  compute(i, r, s, n, m) {\n    m || (m = {\n      near: 0,\n      far: 0\n    });\n    const o = a(i),\n      h = o - this._referenceEllipsoid.radius,\n      l = this._referenceEllipsoid.radius + Math.min(0, n),\n      c = Math.abs(h - n),\n      u = Math.max(c, Math.abs(h)),\n      M = Math.sqrt(u * (u + 2 * l)),\n      p = o + this._referenceEllipsoid.radius;\n    return f(1.2 * t(M, p, x(u)), e(2e4 - (Math.log(u) - 7.983) / 9.011 * 19900, 100, 2e4), 1, m);\n  }\n}\nfunction f(t, e, i, r) {\n  const s = _ / i;\n  return t / e > s ? (r.far = t, r.near = r.far / e) : (r.near = s, r.far = r.near * e), r;\n}\nconst p = 2e4,\n  _ = 2,\n  d = .001,\n  y = 1e-4,\n  v = m(),\n  E = m();\nexport { c as createNearFarHeuristic };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { eyeWithinExtent as o } from \"../camera/intersectionUtils.js\";\nimport { applySurfaceCollisionConstraint as a, Mode as i } from \"../camera/constraintUtils/surfaceCollision.js\";\nlet n = class extends t {\n  constructor(e) {\n    super(e);\n  }\n  initialize() {\n    this.addHandles(this.view.basemapTerrain.on(\"elevation-change\", e => this._handleElevationChangeEvent(e)));\n  }\n  _handleElevationChangeEvent(e) {\n    if (this.view.state.cameraController) return;\n    const t = this.view.state.camera;\n    null != e.spatialReference && o(this.view, t, e.extent, e.spatialReference) && this._applyToCurrentCamera();\n  }\n  _applyToCurrentCamera() {\n    this.view.state.updateCamera(e => a(this.view, e, i.EYE_AND_CENTER));\n  }\n};\ne([r({\n  constructOnly: !0\n})], n.prototype, \"view\", void 0), n = e([s(\"esri.views.3d.state.SurfaceCollisionConstraint\")], n);\nexport { n as SurfaceCollisionConstraint };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport i from \"../../../core/Accessor.js\";\nimport { deg2rad as a, rad2deg as s } from \"../../../core/mathUtils.js\";\nimport { watch as e, sync as n, initial as r } from \"../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as c } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { ViewingMode as l } from \"../../ViewingMode.js\";\nimport { applyAll as u } from \"../camera/constraintUtils.js\";\nimport { surfaceElevationBelowRenderLocation as p } from \"../camera/intersectionUtils.js\";\nimport { ConstraintOptions as h } from \"../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as d } from \"../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as m } from \"../camera/constraintUtils/InteractionType.js\";\nimport { createNearFarHeuristic as v } from \"./NearFarHeuristic.js\";\nimport { SurfaceCollisionConstraint as w } from \"./SurfaceCollisionConstraint.js\";\nlet _ = class extends i {\n  constructor(t) {\n    super(t), this.nearFarHeuristic = v(t.view.state.viewingMode, t.view.basemapTerrain, t.view.renderCoordsHelper.spatialReference);\n  }\n  initialize() {\n    this.addHandles([e(() => [this.view.constraints?.clipDistance?.near, this.view.constraints?.clipDistance?.far], () => this._clipDistanceNearFarChanged()), e(() => this.view.constraints?.clipDistance?.mode, () => this._updateNearFar()), this.view.state.events.on(\"before-camera-change\", t => this._updateCameraNearFar(t)), e(() => this.view.renderDataExtent, () => this._updateNearFar(), n), e(() => [this.view.constraints?.altitude?.min, this.view.constraints?.altitude?.max], () => this._updateAltitude(), n), e(() => this.view.constraints?.tilt?.max, () => this._updateTiltMax(), n), e(() => this.view.constraints?.tilt?.mode, () => this._updateTilt(), n), e(() => this.view.state?.camera, () => this._updateTiltAutoMax(), n), e(() => [this.view.map?.ground?.navigationConstraint?.type, this.view.state?.constraints?.collision?.enabled], () => this._updateCollision(), n)]), this.view.state.isLocal && this.addHandles(e(() => this.view.renderDataExtent, t => this._updateLocalSurfaceDistance(t), r)), this._updateNearFar(), this.view.state.viewingMode !== l.Local && this._updateAltitude(), this._updateTilt(), this._updateCollision(), this._set(\"surfaceCollisionConstraint\", new w({\n      view: this.view\n    }));\n  }\n  destroy() {\n    this.surfaceCollisionConstraint && (this.surfaceCollisionConstraint.destroy(), this._set(\"surfaceCollisionConstraint\", null));\n  }\n  _clipDistanceNearFarChanged() {\n    const t = this.view.constraints?.clipDistance;\n    t && \"auto\" !== t.mode && this.view.state.updateCamera(i => C(i, t));\n  }\n  _updateNearFar() {\n    this.view.state.updateCamera(t => this._updateCameraNearFar(t));\n  }\n  _updateCameraNearFar(t) {\n    const i = this.view.constraints && this.view.constraints.clipDistance;\n    \"manual\" === (i ? i.mode : \"auto\") ? C(t, i) : this._updateCameraNearFarAuto(t, i);\n  }\n  _updateCameraNearFarAuto(t, i) {\n    this.nearFarHeuristic.compute(t.eye, t.center, this.view.renderDataExtent, p(this.view, t.eye), t), i && i.autoUpdate(t.near, t.far);\n  }\n  _updateCollision() {\n    const t = this.view.map?.ground?.navigationConstraint?.type,\n      i = !t || \"stay-above\" === t,\n      a = this.view.state.constraints.collision;\n    if (i !== a.enabled) {\n      a.enabled = i, i && this._reapplyConstraints(d.COLLISION);\n      const t = this.view.constraints && this.view.constraints.tilt;\n      t && \"auto\" !== t.mode || this._updateTiltAuto();\n    }\n  }\n  _updateAltitude() {\n    const t = this.view.constraints && this.view.constraints.altitude;\n    t && this.view.state.viewingMode !== l.Local ? this.view.state.constraints.altitude = {\n      min: t.min,\n      max: t.max\n    } : this.view.state.constraints.altitude = null, this._reapplyConstraints();\n  }\n  _updateTiltMax() {\n    const t = this.view.constraints && this.view.constraints.tilt;\n    t && \"auto\" !== t.mode && (this._updateTiltManual(t), this._reapplyConstraints());\n  }\n  _updateTilt() {\n    const t = this.view.constraints && this.view.constraints.tilt;\n    \"manual\" === (t ? t.mode : \"auto\") ? this._updateTiltManual(t) : this._updateTiltAuto(), this._reapplyConstraints();\n  }\n  _updateTiltManual(t) {\n    const i = this.view.state.constraints;\n    i.tilt = i.createConstantMaxTilt(a(t.max));\n  }\n  _updateTiltAuto() {\n    const t = this.view.state.constraints;\n    t.tilt = t.createDefaultTilt(), this._updateTiltAutoMax();\n  }\n  _updateTiltAutoMax() {\n    const t = this.view.constraints && this.view.constraints.tilt;\n    if (!t || \"auto\" !== t.mode) return;\n    const i = this.view.state.constraints;\n    if (i.tilt) {\n      const a = i.tilt(this.view.state.camera.distance).max;\n      t.autoUpdate(s(a));\n    }\n  }\n  _updateLocalSurfaceDistance(t) {\n    if (null == t) return;\n    let i = Math.max(t.width, t.height);\n    if (i <= 0) return;\n    null != t.zmax && null != t.zmin && (i = Math.max(i, t.zmax - t.zmin));\n    const a = this.view.state,\n      s = 3 * i / Math.atan(a.camera.fov / 2);\n    s !== a.constraints.distance && (a.constraints.distance = s);\n  }\n  _reapplyConstraints(t = d.ALL) {\n    this.view.state.updateCamera(i => u(this.view, i, new h(t, m.NONE, null)));\n  }\n};\nfunction C(t, i) {\n  i && (t.near = i.near, t.far = i.far);\n}\nt([o({\n  constructOnly: !0\n})], _.prototype, \"view\", void 0), t([o({\n  readOnly: !0\n})], _.prototype, \"surfaceCollisionConstraint\", void 0), _ = t([c(\"esri.views.3d.state.ConstraintsManager\")], _);\nexport { _ as ConstraintsManager };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { property as t } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { eyeWithinExtent as o } from \"../../camera/intersectionUtils.js\";\nimport { applySurfaceCollisionConstraint as s, Mode as a } from \"../../camera/constraintUtils/surfaceCollision.js\";\nimport { CameraController as i, State as n } from \"./CameraController.js\";\nlet l = class extends i {\n  set desiredCamera(e) {\n    this._set(\"desiredCamera\", e.clone());\n  }\n  constructor(e) {\n    super(e);\n  }\n  get canStop() {\n    return !0;\n  }\n  get constraintEnabled() {\n    return this.view.state.constraints.collision.enabled;\n  }\n  onControllerStart() {\n    this.state = n.Running, this.addHandles(this.view.basemapTerrain.on(\"elevation-change\", e => this._handleElevationChangeEvent(e))), this._applyCorrection();\n  }\n  onControllerEnd() {\n    this.removeAllHandles();\n  }\n  stepController() {}\n  _handleElevationChangeEvent(e) {\n    (null == e.spatialReference || o(this.view, this.desiredCamera, e.extent, e.spatialReference)) && this._applyCorrection();\n  }\n  _applyCorrection() {\n    this.view.state.updateCamera(e => {\n      e.copyViewFrom(this.desiredCamera), s(this.view, e, a.EYE_AND_CENTER) || this.constraintEnabled || (this.state = n.Stopped);\n    });\n  }\n};\ne([t({\n  constructOnly: !0\n})], l.prototype, \"desiredCamera\", null), l = e([r(\"esri.views.3d.state.controllers.SurfaceCollisionCorrectionController\")], l);\nexport { l as SurfaceCollisionCorrectionController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from \"../../../Camera.js\";\nimport i from \"../../../Viewpoint.js\";\nimport e from \"../../../core/Error.js\";\nimport { onAbort as a, createAbortError as n } from \"../../../core/promiseUtils.js\";\nimport { whenOnce as o } from \"../../../core/reactiveUtils.js\";\nimport { applyAll as r } from \"../camera/constraintUtils.js\";\nimport { applySurfaceCollisionConstraint as s, Mode as l } from \"../camera/constraintUtils/surfaceCollision.js\";\nimport { State as c } from \"./controllers/CameraController.js\";\nimport { PointToPointAnimationController as h } from \"./controllers/PointToPointAnimationController.js\";\nimport { SurfaceCollisionCorrectionController as m } from \"./controllers/SurfaceCollisionCorrectionController.js\";\nimport { externalToInternal as w } from \"../support/cameraUtils.js\";\nimport { create as p } from \"../support/viewpointUtils.js\";\nclass f {\n  constructor(t, i, e) {\n    this._target = t, this._options = i, this.view = e, this.state = \"pending\", this._animationController = null, this.promise = new Promise((t, i) => {\n      this._resolveCallback = t, this._rejectCallback = i;\n      const e = new AbortController();\n      null != this._options.signal && a(this._options.signal, () => {\n        this.abort();\n      }), this._abortController = e, this._waitForReady();\n    });\n  }\n  _resolve(t) {\n    if (\"finished\" !== this.state) return this.state = \"finished\", this._resolveCallback(t);\n  }\n  _reject(t) {\n    if (\"finished\" !== this.state) return this.state = \"finished\", this._rejectCallback(t);\n  }\n  abort(t = !1) {\n    if (this._abortController.abort(), \"wait-for-animation-finish\" === this.state) !t && null != this._animationController && this.view.state.cameraController === this._animationController && this._animationController.active && this._animationController.stopController();\n    this._reject(n());\n  }\n  async _waitForReady() {\n    if (this.state = \"wait-for-ready\", !this.view.ready) try {\n      await o(() => this.view.ready, this._abortController.signal);\n    } catch (t) {\n      return this._reject(t);\n    }\n    this._createViewPoint();\n  }\n  async _createViewPoint() {\n    if (\"finished\" !== this.state) {\n      this.state = \"wait-for-viewpoint\", this._animationController = this._options.animate ? this._getAnimationController() : null;\n      try {\n        const t = await p(this.view, this._target, this._abortController.signal);\n        if (\"finished\" === this.state) return;\n        const i = t ? this._getCameraFromViewpoint(t) : null;\n        if (null == i) return;\n        if (this._options.animate) {\n          if (null == this._animationController) return;\n          this._startAnimation(i, this._animationController);\n        } else this.view.stateManager.setStateCamera(i.camera, {\n          applyConstraints: !i.isFullySpecified,\n          positionAndOrientationOnly: !0,\n          doNotCancelGoToOperation: !0\n        }), this._resolve();\n      } catch (t) {\n        this._reject(t);\n      }\n    }\n  }\n  _getCameraFromViewpoint(a) {\n    const n = !!(this._target instanceof i && this._target.camera || this._target instanceof t),\n      o = a.camera;\n    if (null == o) return null;\n    if (!this.view.stateManager.isCompatible(o)) {\n      const t = o.position,\n        i = t && t.spatialReference,\n        a = i ? i.wkid : \"none\",\n        n = this.view.spatialReference?.wkid;\n      return this._reject(new e(\"GotoAnimation:incompatible-spatialreference\", `Resulting camera has an incompatible spatial reference (camera: ${a}, view: ${n})`, {\n        camera: o\n      })), null;\n    }\n    const r = w(this.view, o);\n    return null == r ? (this._reject(new e(\"GotoAnimation:invalid-camera\", \"Resulting camera is invalid\")), null) : {\n      viewpoint: a,\n      camera: r,\n      isFullySpecified: n\n    };\n  }\n  _startAnimation(t, i) {\n    this.state = \"wait-for-animation-finish\";\n    const a = i.viewAnimation;\n    if (null == a) return void this._reject(new e(\"GotoAnimation:missing-animation\", \"Unreachable code in view.stateManager\"));\n    if (a.update(t.viewpoint, \"running\"), !i.active || null == i.viewAnimation || i.viewAnimation.target !== t.viewpoint || this.view.state.cameraController !== i) return this.abort();\n    let n;\n    t.isFullySpecified ? (n = new m({\n      view: this.view,\n      desiredCamera: t.camera\n    }), s(this.view, t.camera, l.EYE_AND_CENTER)) : r(this.view, t.camera), i.begin(t.camera, this._options);\n    const o = () => {\n        const e = this.view.state.cameraController;\n        n && (e && e.active ? e instanceof h && null != e.viewAnimation && e.viewAnimation.target === t.viewpoint && (this.view.state.cameraController = n) : null != i.viewAnimation && i.viewAnimation.target === t.viewpoint && i.state === c.Finished && (this.view.state.cameraController = n));\n      },\n      w = t => {\n        if (null != this.view.state) switch (i.state) {\n          case c.Finished:\n            switch (this.state) {\n              case \"pending\":\n              case \"wait-for-ready\":\n              case \"wait-for-viewpoint\":\n              case \"wait-for-animation-finish\":\n                this._resolve();\n            }\n            break;\n          case c.Ready:\n          case c.Rejected:\n          case c.Running:\n          case c.Stopped:\n            switch (this.state) {\n              case \"pending\":\n              case \"wait-for-ready\":\n              case \"wait-for-viewpoint\":\n              case \"wait-for-animation-finish\":\n                this._reject(t);\n            }\n        }\n      };\n    a.when(o, t => w(t)), i.asyncResult = {\n      resolve: () => w(),\n      reject: t => w(t)\n    };\n  }\n  _getAnimationController() {\n    let t = null,\n      i = null;\n    const a = this.view.state.cameraController;\n    return a instanceof h && (a.updateStateFromViewAnimation(), a.active && (t = a, i = t.viewAnimation)), null != t || (t = new h({\n      view: this.view,\n      mode: \"animation\"\n    }), i = t.viewAnimation, this.view.state.switchCameraController(t)) ? t : (null != i && i.stop(), this._reject(new e(\"GotoAnimation:goto-cannot-interrupt\", \"Cannot start an animation while interacting\")), null);\n  }\n}\nexport { f as GoToOperation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../Camera.js\";\nimport i from \"../../../Viewpoint.js\";\nimport r from \"../../../core/Accessor.js\";\nimport a from \"../../../core/Logger.js\";\nimport { destroyMaybe as s } from \"../../../core/maybe.js\";\nimport { on as n, watch as o, sync as h, when as l } from \"../../../core/reactiveUtils.js\";\nimport { addFrameTask as c } from \"../../../core/scheduling.js\";\nimport { createScreenPoint as p } from \"../../../core/screenUtils.js\";\nimport { property as m } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as d } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { a as v } from \"../../../chunks/vec32.js\";\nimport { fromArray as u } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { s as w } from \"../../../chunks/vec42.js\";\nimport { create as g } from \"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport _ from \"../../../geometry/Extent.js\";\nimport y from \"../../../geometry/Point.js\";\nimport { isLoadedOrLoadFor as f, requiresLoad as C } from \"../../../geometry/projection.js\";\nimport { ViewingMode as R } from \"../../ViewingMode.js\";\nimport { applyAll as x } from \"../camera/constraintUtils.js\";\nimport { cameraOnContentAlongViewDirection as P, surfaceElevationBelowRenderLocation as S } from \"../camera/intersectionUtils.js\";\nimport { ConstraintsManager as O } from \"./ConstraintsManager.js\";\nimport { Frustum as T } from \"./Frustum.js\";\nimport { GoToOperation as b } from \"./GoToOperation.js\";\nimport { SurfaceCollisionCorrectionController as j } from \"./controllers/SurfaceCollisionCorrectionController.js\";\nimport { internalToExternal as I, externalToInternal as M, toExtent as z, distanceToScale as A, directionToHeadingTilt as E, scaleToZoom as N, fromExtentSync as H, OrientationMode as L, getObserverForPointAtDistanceSync as V, scaleToDistance as B, zoomToScale as D } from \"../support/cameraUtils.js\";\nimport { PropertiesPool as G } from \"../support/PropertiesPool.js\";\nimport { fromCamera as F, toCameraSync as U } from \"../support/viewpointUtils.js\";\nimport k from \"../webgl/RenderCamera.js\";\nimport { PaddingSide as q } from \"../webgl-engine/lib/rendererUtils.js\";\nimport { RenderFeature as W } from \"../webgl-engine/lib/RenderFeature.js\";\nimport { RenderState as J } from \"../../support/RenderState.js\";\nimport { ensureAttachmentMaxSize as K } from \"../../webgl/FramebufferObject.js\";\nlet Q = class extends r {\n  constructor(e) {\n    super(e), this.ready = !1, this._windowDevicePixelRatio = 1, this._devicePixelRatioOverride = null, this._idleTimeout = se, this.test = {\n      viewStateManager: this,\n      contentCameraResetState: new Map(),\n      setDevicePixelRatio: e => this._devicePixelRatioOverride = e,\n      renderState: null,\n      get maximumPixelRatio() {\n        return this.viewStateManager.view.qualitySettings.maximumPixelRatio;\n      },\n      get updatingIgnoreRenderState() {\n        return null != this.renderState;\n      },\n      get idleTimeoutEnabled() {\n        return this.viewStateManager._idleTimeout > 0;\n      },\n      set idleTimeoutEnabled(e) {\n        this.viewStateManager._idleTimeout = e ? se : 0;\n      }\n    }, this._propertiesPool = new G({\n      frustum: T\n    }, this), this._cameraSetByUser = !1, this._gotoOperation = null, this._cameraChangeTime = 0, this._tmpCanvasSize = new X();\n  }\n  initialize() {\n    this._cameraChangeTime = performance.now(), this.addHandles([n(() => this.view.state.events, \"before-camera-change\", e => e && this._updateElevation(e)), o(() => this.view.state?.camera, (e, t) => this._cameraChangedHandler(e, t), h)]), l(() => this.view.state?.camera, e => this._updateElevation(e), {\n      once: !0,\n      sync: !0\n    }), this.addHandles([c({\n      prepare: () => this._prepareFrame()\n    }), o(() => this.view.state.cameraController, () => {\n      this._cameraSetByUser = !0, this.removeHandles(re);\n    }), n(() => this.view.state.events, \"camera-projection-changed\", () => this.notifyChange(\"scale\"))]);\n  }\n  destroy() {\n    this.exit(), this._propertiesPool = s(this._propertiesPool);\n  }\n  get camera() {\n    const e = this._get(\"camera\");\n    if (!this.ready) return e;\n    const t = I(this.view, this.view.state.camera, ee);\n    return t && e && t.equals(e) ? e : t.clone();\n  }\n  set camera(e) {\n    this._updatePropertyBeforeReady(\"camera\", e) || (this.view.elevationProvider?.enableCache(!0), this.setStateCamera(M(this.view, e), {\n      applyConstraints: !1\n    }) || a.getLogger(this).error(\"#camera=\", \"Invalid camera\", e), this.view.elevationProvider?.enableCache(!1));\n  }\n  get contentCamera() {\n    const e = this._get(\"contentCamera\");\n    if (!this.ready) return e;\n    const t = I(this.view, this.view.state.contentCamera, ee);\n    return t && e && t.equals(e) ? e : t.clone();\n  }\n  set contentCamera(e) {\n    if (this._updatePropertyBeforeReady(\"contentCamera\", e)) return;\n    const t = M(this.view, e);\n    null != t ? (this._updateElevation(t), this.view.state.contentCamera = t) : this.view.state.contentCamera = null;\n  }\n  installContentCameraReset(e) {\n    if (this.removeHandles(ae), this.test.contentCameraResetState.clear(), !this.view.state.fixedContentCamera) return !1;\n    const t = this.zoom,\n      i = this.view.state.camera.distance ** 2,\n      r = u(this.view.state.camera.center),\n      a = e.sticky ? this.contentCamera.clone() : null;\n    return this.addHandles([o(() => this.contentCamera, () => {\n      e.sticky || (this.removeHandles(ae), this.test.contentCameraResetState.clear());\n    }), o(() => this.zoom, e => {\n      void 0 !== e && void 0 !== t && (this.test.contentCameraResetState.set(\"view.zoom\", Math.abs(e - t) / 2), Math.abs(e - t) > 2 ? this.contentCamera = null : this.view.state.fixedContentCamera || (this.contentCamera = a));\n    }), o(() => this.view.state.camera, e => {\n      const t = v(r, e.center);\n      this.test.contentCameraResetState.set(\"camera.center\", t / i), t > i ? this.contentCamera = null : this.view.state.fixedContentCamera || (this.contentCamera = a);\n    })], ae), !0;\n  }\n  get center() {\n    return this.ready ? this.view.pointsOfInterest.centerOnContent.location : this._get(\"center\");\n  }\n  set center(e) {\n    this._updatePropertyBeforeReady(\"center\", e) || (e ? this.isCompatible(e) ? this.setStateCamera(this._centerToCamera(e), {\n      applyConstraints: !0\n    }) ? this.view.pointsOfInterest.centerOnContent.runTask() : a.getLogger(this).error(\"#center=\", \"Invalid center\", e) : a.getLogger(this).error(\"#center=\", \"Center has an incompatible spatial reference (center: \" + (e.spatialReference ? e.spatialReference.wkid : \"none\") + \", view: \" + this.view.spatialReference?.wkid + \")\", e) : a.getLogger(this).error(\"#center=\", \"Center may not be null or undefined\"));\n  }\n  get extent() {\n    if (!this.ready) return this._get(\"extent\");\n    const e = this.view,\n      t = z(e, e.state.camera, e.pointsOfInterest.centerOnContent.renderLocation);\n    return null != t ? t : this._get(\"extent\");\n  }\n  set extent(e) {\n    this._updatePropertyBeforeReady(\"extent\", e) || (e ? this.isCompatible(e) ? this.setStateCamera(this._extentToCamera(e), {\n      applyConstraints: !0\n    }) || a.getLogger(this).error(\"#extent=\", \"Invalid extent\", e) : a.getLogger(this).error(\"#extent=\", \"Extent has an incompatible spatial reference (extent: \" + (e.spatialReference ? e.spatialReference.wkid : \"none\") + \", view: \" + this.view.spatialReference?.wkid + \")\", e) : a.getLogger(this).error(\"#extent=\", \"Extent may not be null or undefined\"));\n  }\n  get frustum() {\n    const e = this._propertiesPool.get(\"frustum\");\n    return e.renderCoordsHelper = this.view.renderCoordsHelper, e.update(this.view.state.camera), e;\n  }\n  get constraintsManager() {\n    return this._constraintsManager;\n  }\n  get _initialViewpoint() {\n    const e = this.view.map;\n    return e && \"initialViewProperties\" in e ? e.initialViewProperties?.viewpoint : void 0;\n  }\n  get hasInitialView() {\n    return !!this._initialViewpoint;\n  }\n  get scale() {\n    if (this.ready) {\n      const e = this.view.pointsOfInterest.centerOnContent;\n      return A(this.view, e.distance, e.location.latitude);\n    }\n    return this._get(\"scale\");\n  }\n  set scale(e) {\n    this._updatePropertyBeforeReady(\"scale\", e) || this.setStateCamera(this._scaleToCamera(e), {\n      applyConstraints: !0\n    }) || a.getLogger(this).error(\"#scale=\", \"Invalid scale\", e);\n  }\n  get terrainScale() {\n    if (!this.ready) return this._get(\"scale\");\n    const e = this.view,\n      t = e.basemapTerrain.tilingScheme,\n      i = e.pointsOfInterest.cameraOnSurface.scale;\n    if (!t || !i) return this._get(\"scale\");\n    const r = e.state.contentCamera;\n    let a = E(e, r.eye, r.viewForward, r.up).tilt;\n    a > 90 && (a = 180 - a);\n    const s = 2 * (a / 90) ** 2,\n      n = t.levelAtScale(i) - s;\n    return n < 0 ? this._get(\"scale\") : t.scaleAtLevel(n);\n  }\n  get padding() {\n    if (!this.ready) return this._get(\"padding\");\n    const e = this.view.state.camera,\n      t = e.padding,\n      i = e.pixelRatio,\n      r = this._get(\"padding\"),\n      a = Math.round(t[q.TOP] / i),\n      s = Math.round(t[q.RIGHT] / i),\n      n = Math.round(t[q.BOTTOM] / i),\n      o = Math.round(t[q.LEFT] / i);\n    return null != r && r.top === a && r.right === s && r.bottom === n && r.left === o ? r : {\n      top: a,\n      right: s,\n      bottom: n,\n      left: o\n    };\n  }\n  set padding(e) {\n    this._updatePropertyBeforeReady(\"padding\", e) || (this._paddingToArray(e, this.view.state.camera.pixelRatio, ie), this.view.state.updateCamera(e => e.padding = ie));\n  }\n  _paddingToArray(e, t, i) {\n    e ? w(i, e.top || 0, e.right || 0, e.bottom || 0, e.left || 0) : w(i, 0, 0, 0, 0);\n    for (let r = 0; r < 4; r++) i[r] = Math.round(i[r] * t);\n  }\n  get screenCenter() {\n    const e = this.padding;\n    return p((this.view.width - (e.left + e.right)) / 2 + e.left, (this.view.height - (e.top + e.bottom)) / 2 + e.top);\n  }\n  get viewpoint() {\n    return this.ready ? F(this.view, this.camera) : this._get(\"viewpoint\");\n  }\n  set viewpoint(e) {\n    if (!this._updatePropertyBeforeReady(\"viewpoint\", e)) if (e) {\n      if (this.isCompatible(e)) this.setStateCamera(this._viewpointToCamera(e), {\n        applyConstraints: !e.camera\n      }) || a.getLogger(this).error(\"#viewpoint=\", \"Invalid viewpoint\", e);else {\n        const t = null != e.camera ? e.camera.position : e.targetGeometry,\n          i = null != t && t.spatialReference;\n        a.getLogger(this).error(\"#viewpoint=\", \"Viewpoint has an incompatible spatial reference (viewpoint: \" + (i ? i.wkid : \"none\") + \", view: \" + this.view.spatialReference?.wkid + \")\", e);\n      }\n    } else a.getLogger(this).error(\"#viewpoint=\", \"Viewpoint may not be null or undefined\");\n  }\n  get zoom() {\n    return this.ready ? N(this.view, this.scale) : this._get(\"zoom\");\n  }\n  set zoom(e) {\n    this._updatePropertyBeforeReady(\"zoom\", e) || void 0 === e || this.setStateCamera(this._zoomToCamera(e), {\n      applyConstraints: !0\n    }) || a.getLogger(this).error(\"#zoom=\", \"Invalid zoom\", e);\n  }\n  _computeCanvasSize() {\n    if (this._devicePixelRatioOverride) return this.view.state.contentPixelRatio = this._devicePixelRatioOverride, this._tmpCanvasSize.width = Math.round(this.view.surface.clientWidth * this._devicePixelRatioOverride), this._tmpCanvasSize.height = Math.round(this.view.surface.clientHeight * this._devicePixelRatioOverride), this._tmpCanvasSize.pixelRatio = this._devicePixelRatioOverride, this._tmpCanvasSize;\n    const e = Math.min(this._windowDevicePixelRatio, this.view.qualitySettings.maximumPixelRatio),\n      t = (this._usePhysicalPixelRendering ? this._windowDevicePixelRatio : e) * this.view.resolutionScale;\n    this._tmpCanvasSize.width = Math.round(this.view.surface.clientWidth * t), this._tmpCanvasSize.height = Math.round(this.view.surface.clientHeight * t);\n    const i = this.view._stage.renderView.renderingContext?.parameters.maxTextureSize;\n    return i && K(this._tmpCanvasSize, i), this._tmpCanvasSize.pixelRatio = this._tmpCanvasSize.width > 0 ? this._tmpCanvasSize.width / this.view.surface.clientWidth * .5 + this._tmpCanvasSize.height / this.view.surface.clientHeight * .5 : t, this.view.state && (this.view.state.contentPixelRatio = Math.min(this._windowDevicePixelRatio, this.view.qualitySettings.maximumPixelRatio)), this._tmpCanvasSize;\n  }\n  get _rasterPixelRatio() {\n    return null != this._devicePixelRatioOverride ? this._devicePixelRatioOverride : this._usePhysicalPixelRenderingAny ? this._windowDevicePixelRatio : Math.min(this._windowDevicePixelRatio, this.view.qualitySettings.maximumPixelRatio);\n  }\n  get _usePhysicalPixelRendering() {\n    return this.view?._stage?.renderer.isFeatureEnabled(W.PhysicalPixelRendering) ?? !1;\n  }\n  get _usePhysicalPixelRenderingAny() {\n    const e = this.view?._stage?.renderer;\n    return e && (e.isFeatureEnabled(W.PhysicalPixelRendering, J.IDLE) || e.isFeatureEnabled(W.PhysicalPixelRendering, J.INTERACTING) || e.isFeatureEnabled(W.PhysicalPixelRendering, J.ANIMATING));\n  }\n  preinit(e) {\n    return !(this._isOverridden(\"center\") && !f(this.center.spatialReference, e)) && !(this._isOverridden(\"camera\") && !f(this.camera.position.spatialReference, e)) && !(this._isOverridden(\"extent\") && !f(this.extent.spatialReference, e)) && !!(!this._isOverridden(\"viewpoint\") || f(this.viewpoint.targetGeometry?.spatialReference, e) && f(this.viewpoint.camera?.position?.spatialReference, e));\n  }\n  init() {\n    this._constraintsManager = new O({\n      view: this.view\n    }), this._prepareFrame();\n    const e = this._getInitialProperties();\n    this._cameraSetByUser = !1, this._set(\"ready\", !0);\n    for (const t of e) this.set(t.name, t.value);\n    if (!this._cameraSetByUser) {\n      const e = this._initialViewpoint || this.view.initialExtent;\n      e && this.isCompatible(e) ? this._setInitialView(e) : this.view.state.viewingMode === R.Local && this.addHandles(l(() => this.view.basemapTerrain.ready, () => {\n        this.removeHandles(re), this._setInitialView(this.view.dataExtent);\n      }, {\n        once: !0,\n        initial: !0\n      }), re);\n    }\n  }\n  exit() {\n    this._cancelGoToOperation(), this.ready && (this._override(\"padding\", this.padding), this._set(\"ready\", !1), this._clearOverride(\"hasInitialView\"), this._cameraSetByUser = !1, this.removeHandles(re), this._constraintsManager = s(this._constraintsManager));\n  }\n  async goTo(e, t) {\n    return t = {\n      animate: !0,\n      ...t\n    }, null != this._gotoOperation && this._gotoOperation.abort(t.animate), this._gotoOperation = new b(e, t, this.view), this.view.resourceController.scheduler.stopFrame(), this._gotoOperation.promise;\n  }\n  debugSetCameraOnContent() {\n    this.setStateCamera(P(this.view), {\n      applyConstraints: !1\n    });\n  }\n  step(e) {\n    const t = this.view.state,\n      i = t?.cameraController;\n    i && (t.updateCamera(t => i.stepController(e, t)), i.steppingFinished && i.finishController());\n  }\n  _cancelGoToOperation() {\n    null != this._gotoOperation && (this._gotoOperation.abort(), this._gotoOperation = null);\n  }\n  _getInitialProperties() {\n    const e = new Set(),\n      t = [];\n    for (const {\n      propertyName: i,\n      overrides: r\n    } of Z) {\n      const a = e.has(i),\n        s = this._isOverridden(i);\n      !a && s && t.push({\n        name: i,\n        value: this._get(i)\n      }), this._clearOverride(i), (a || s) && r.forEach(t => e.add(t));\n    }\n    return t;\n  }\n  _setInitialView(e) {\n    if (null == e || this._cameraSetByUser) return;\n    if (e instanceof t) return void this.setStateCamera(M(this.view, e), {\n      applyConstraints: !1\n    });\n    if (e instanceof i) {\n      if (e.targetGeometry instanceof _) {\n        const t = H(this.view, e.targetGeometry, 0, .5, L.LOCKED);\n        return void (null != t && this.setStateCamera(M(this.view, t), {\n          applyConstraints: !0\n        }));\n      }\n      const t = {\n          applyConstraints: !e.camera\n        },\n        i = this._viewpointToCamera(e);\n      return void this.setStateCamera(i, t);\n    }\n    const r = H(this.view, e, 0, .5, L.LOCKED);\n    null != r && this.setStateCamera(M(this.view, r), {\n      applyConstraints: !0\n    });\n  }\n  _updatePropertyBeforeReady(e, t) {\n    return !this.ready && (this._override(e, t), t && Y.has(e) && this._override(\"hasInitialView\", !0), !0);\n  }\n  isCompatible(e) {\n    return null != e && (e instanceof i ? e.camera ? this.isCompatible(e.camera) : this.isCompatible(e.targetGeometry) : e instanceof t ? this.isCompatible(e.position) : e.spatialReference && !C(e.spatialReference, this.view.spatialReference));\n  }\n  _getPreservingHeadingTilt(e = $) {\n    return this._cameraSetByUser ? (e.heading = this.camera.heading, e.tilt = this.camera.tilt) : (e.heading = 0, e.tilt = .5), e;\n  }\n  _centerPointAtDistanceToCamera(e, t, i = te) {\n    const {\n        heading: r,\n        tilt: a\n      } = this._getPreservingHeadingTilt(),\n      s = V(this.view, r, a, e, t, L.ADJUST);\n    return null == s ? null : (i.copyFrom(this.view.state.camera), i.eye = s.eye, i.center = s.center, i.up = s.up, i);\n  }\n  _centerToCamera(e) {\n    const t = this.view.pointsOfInterest.centerOnContent;\n    t.runTask();\n    const i = t.distance;\n    return this._centerPointAtDistanceToCamera(e, i);\n  }\n  _extentToCamera(e) {\n    const {\n        heading: t,\n        tilt: i\n      } = this._getPreservingHeadingTilt(),\n      r = H(this.view, e, t, i, L.ADJUST, ee);\n    return r ? M(this.view, r) : null;\n  }\n  _scaleToCamera(e) {\n    if (null == e) return null;\n    const t = this.view.pointsOfInterest.centerOnContent;\n    t.runTask();\n    const i = t.renderLocation,\n      r = t.location.latitude,\n      a = B(this.view, e, r);\n    return this._centerPointAtDistanceToCamera(i, a);\n  }\n  _zoomToCamera(e) {\n    return this._scaleToCamera(D(this.view, e));\n  }\n  _viewpointToCamera(e) {\n    return M(this.view, U(this.view, e));\n  }\n  setStateCamera(e, t) {\n    return !(null == e || !this.view.state.stopActiveCameraController()) && (this._cameraSetByUser = !0, t.doNotCancelGoToOperation || this._cancelGoToOperation(), this.view.state.updateCamera(i => {\n      t.positionAndOrientationOnly ? (i.eye = e.eye, i.center = e.center, i.up = e.up, i.fov = e.fov) : i.copyFrom(e), t.applyConstraints && x(this.view, i);\n    }), t.applyConstraints || (this.view.state.cameraController = new j({\n      view: this.view,\n      desiredCamera: e\n    })), !0);\n  }\n  _prepareFrame() {\n    const {\n      surface: e,\n      canvas: t\n    } = this.view;\n    if (!e || !t) return;\n    this._windowDevicePixelRatio = window.devicePixelRatio;\n    const i = this._computeCanvasSize();\n    if (0 !== i.width && 0 !== i.height && (t.width === i.width && t.height === i.height || (t.width = i.width, t.height = i.height), this.view.state)) {\n      const e = this.view.state.camera;\n      e.fullWidth === i.width && e.fullHeight === i.height && e.pixelRatio === i.pixelRatio || (te.copyFrom(e), te.pixelRatio !== i.pixelRatio && (this._paddingToArray(this.padding, i.pixelRatio, ie), te.padding = ie), te.fullWidth = i.width, te.fullHeight = i.height, te.pixelRatio = i.pixelRatio, this.view.state.camera = te), this._updateViewState();\n    }\n  }\n  _updateElevation(e) {\n    const t = this.view.basemapTerrain?.spatialReference,\n      i = this.view.renderCoordsHelper?.getAltitude(e.eye) ?? 0,\n      r = t ? S(this.view, e.eye) : 0;\n    e.relativeElevation = i - r;\n  }\n  _updateViewState() {\n    null != this.test.renderState ? this.view.state.mode = this.test.renderState : this.view.animation ? this.view.state.mode = J.ANIMATING : this.view.interacting ? this.view.state.mode = J.INTERACTING : (this.view.state.mode === J.ANIMATING && (this._cameraChangeTime = 0), performance.now() - this._cameraChangeTime < this._idleTimeout ? this.view.state.mode = J.INTERACTING : this.view.state.mode = J.IDLE), this.view.state.rasterPixelRatio = this._rasterPixelRatio;\n  }\n  _cameraChangedHandler(e, t) {\n    e && t && e.almostEquals(t) || (this._cameraChangeTime = performance.now(), this._updateViewState());\n  }\n};\ne([m({\n  type: t,\n  dependsOn: [\"view.state.camera\", \"ready\"]\n})], Q.prototype, \"camera\", null), e([m({\n  type: t,\n  dependsOn: [\"view.state.contentCamera\", \"ready\"]\n})], Q.prototype, \"contentCamera\", null), e([m({\n  type: y\n})], Q.prototype, \"center\", null), e([m({\n  type: _\n})], Q.prototype, \"extent\", null), e([m({\n  readOnly: !0\n})], Q.prototype, \"frustum\", null), e([m()], Q.prototype, \"_constraintsManager\", void 0), e([m({\n  readOnly: !0\n})], Q.prototype, \"constraintsManager\", null), e([m()], Q.prototype, \"_initialViewpoint\", null), e([m({\n  readOnly: !0\n})], Q.prototype, \"hasInitialView\", null), e([m({\n  readOnly: !0,\n  type: Boolean\n})], Q.prototype, \"ready\", void 0), e([m({\n  type: Number\n})], Q.prototype, \"scale\", null), e([m({\n  type: Number\n})], Q.prototype, \"terrainScale\", null), e([m()], Q.prototype, \"padding\", null), e([m({\n  readOnly: !0\n})], Q.prototype, \"screenCenter\", null), e([m({\n  constructOnly: !0\n})], Q.prototype, \"view\", void 0), e([m({\n  type: i\n})], Q.prototype, \"viewpoint\", null), e([m({\n  type: Number\n})], Q.prototype, \"zoom\", null), e([m({\n  readOnly: !0\n})], Q.prototype, \"_rasterPixelRatio\", null), e([m({\n  readOnly: !0\n})], Q.prototype, \"_usePhysicalPixelRendering\", null), e([m({\n  readOnly: !0\n})], Q.prototype, \"_usePhysicalPixelRenderingAny\", null), e([m()], Q.prototype, \"_windowDevicePixelRatio\", void 0), e([m()], Q.prototype, \"_devicePixelRatioOverride\", void 0), Q = e([d(\"esri.views.3d.state.ViewStateManager\")], Q);\nclass X {\n  constructor() {\n    this.width = 0, this.height = 0, this.pixelRatio = 1;\n  }\n}\nconst Y = new Set([\"camera\", \"viewpoint\", \"extent\", \"scale\", \"center\", \"zoom\"]),\n  Z = [{\n    propertyName: \"camera\",\n    overrides: [\"viewpoint\"]\n  }, {\n    propertyName: \"viewpoint\",\n    overrides: [\"extent\"]\n  }, {\n    propertyName: \"extent\",\n    overrides: [\"center\", \"scale\"]\n  }, {\n    propertyName: \"center\",\n    overrides: []\n  }, {\n    propertyName: \"scale\",\n    overrides: [\"zoom\"]\n  }, {\n    propertyName: \"zoom\",\n    overrides: []\n  }, {\n    propertyName: \"padding\",\n    overrides: []\n  }],\n  $ = {\n    heading: 0,\n    tilt: 0\n  },\n  ee = new t(),\n  te = new k(),\n  ie = g(),\n  re = \"pending-initial-view\",\n  ae = \"content-camera-reset\",\n  se = 300,\n  ne = 100;\nexport { Q as ViewStateManager, ne as interactingTimeout };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../../../chunks/tslib.es6.js\";\nimport { property as t } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { interactingTimeout as o } from \"../ViewStateManager.js\";\nimport { CameraController as s, State as a } from \"./CameraController.js\";\nimport i from \"../../webgl/RenderCamera.js\";\nlet n = class extends s {\n  constructor() {\n    super(...arguments), this.startCamera = new i(), this.currentCamera = new i(), this._lastInteraction = 0;\n  }\n  get isInteractive() {\n    return performance.now() - this._lastInteraction < o;\n  }\n  stepController(r, t) {\n    t.copyViewFrom(this.currentCamera), this.currentCamera.copyFrom(t);\n  }\n  onControllerStart(r) {\n    this.state = a.Running, this.startCamera.copyFrom(r), this.currentCamera.copyFrom(r);\n  }\n  onControllerEnd(r) {\n    r.copyViewFrom(this.currentCamera);\n  }\n  commitCamera() {\n    this._lastInteraction = performance.now(), setTimeout(() => this.notifyChange(\"isInteractive\"), o), this.view.state.updateCamera(r => this.stepController(0, r)), this.steppingFinished && this.finishController();\n  }\n};\nr([t({\n  readOnly: !0\n})], n.prototype, \"isInteractive\", null), r([t()], n.prototype, \"_lastInteraction\", void 0), n = r([e(\"esri.views.3d.state.controllers.InteractiveController\")], n);\nexport { n as InteractiveController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { acosClamped as i, clamp as s } from \"../../../../core/mathUtils.js\";\nimport { createScreenPointArray as r } from \"../../../../core/screenUtils.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { fromRotation as a, rotate as n } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as h } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { copy as p } from \"../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as m } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { c, f as l, l as _, m as v, n as f, g as C, j as P, b as u, h as w } from \"../../../../chunks/vec32.js\";\nimport { create as d } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { applyAll as E } from \"../../camera/constraintUtils.js\";\nimport { ConstraintOptions as j } from \"../../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as R } from \"../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as T } from \"../../camera/constraintUtils/InteractionType.js\";\nimport { TiltMode as y } from \"../../camera/constraintUtils/TiltMode.js\";\nimport { getVoxelWasm as g } from \"../../layers/VoxelWasm.js\";\nimport { TiltRange as M } from \"../Constraints.js\";\nimport { InteractiveController as U } from \"./InteractiveController.js\";\nimport { contentIntersectorOptions as x, normalizeCoordinate as O, rotatePivotDistanceModifier as b, rotatePivotMinDistanceModifier as D, navigationMode as A, rotateScreenPixelArea as N, NavigationMode as L } from \"../utils/navigationUtils.js\";\nvar V;\n!function (t) {\n  t[t.CENTER = 0] = \"CENTER\", t[t.EYE = 1] = \"EYE\";\n}(V || (V = {}));\nlet H = class extends U {\n  get _intersectionHelper() {\n    return this.view.sceneIntersectionHelper;\n  }\n  constructor(t) {\n    super(t), this.pivot = V.CENTER, this._rotScale = 0, this._lastPoint = m(), this._tmpWorldUp = d(), this._tmpViewDir = d(), this._tmpRotCurPoint = m(), this._tmpTransf = h(), this._tmpAxis = d(), this._tmpPivotPoint = d(), this._pivotPos = d(), this._constraintOptions = new j(R.ALL, T.TUMBLE, 0, this.startCamera);\n  }\n  initialize() {\n    this._rotScale = this.pivot === V.CENTER ? 3 : 1.5;\n  }\n  begin(t) {\n    if (this.active) {\n      switch (this.pivot) {\n        case V.EYE:\n          c(this._pivotPos, this.startCamera.eye), this._constraintOptions.interactionType = T.LOOK_AROUND, this._constraintOptions.tiltMode = y.LOOK_AROUND, this._constraintOptions.selection = R.NONE;\n          break;\n        case V.CENTER:\n          {\n            const i = this._intersectionHelper.intersectRayFreePointFallback(this.startCamera.ray, this._pivotPos, 0 === this.view.map.ground.opacity ? x : {});\n            i || c(this._pivotPos, this.startCamera.center), this._constrainPivotPoint(t, i), this.startCamera.center = this._pivotPos, this._constraintOptions.interactionType = T.TUMBLE, this._constraintOptions.tiltMode = y.TUMBLE, this._constraintOptions.selection = R.ALL & ~R.DISTANCE;\n            break;\n          }\n      }\n      O(this.startCamera, t, this._lastPoint);\n    }\n  }\n  _constrainPivotPoint(t, i) {\n    const s = this.startCamera,\n      o = d();\n    l(o, this._pivotPos, s.eye);\n    const e = _(o),\n      a = Math.abs(this.view.camera.position.z);\n    this.view.renderCoordsHelper.worldUpAtPosition(s.eye, k);\n    let n = Math.max(Math.min(b, 1 / Math.abs(v(k, s.viewForward))) * a, D);\n    i && (n = Math.min(e, n));\n    const h = r(s.width / s.pixelRatio * .5, s.height / s.pixelRatio * .5),\n      p = A(this.startCamera, h, this.view.renderCoordsHelper, this.view.viewingMode);\n    let m = this.view._stage.renderView.getMinimalDepthForArea(g(this.view), s.fullWidth / s.pixelRatio * .5, s.fullHeight / s.pixelRatio * .5, s, 2.5 * N, N),\n      u = this.view._stage.renderView.getMinimalDepthForArea(g(this.view), t[0], t[1], s, N);\n    null == m && null == u || (m = m ?? u ?? 0, u = null == u || p === L.Horizontal ? m : u, n = m > u ? u : m, n = i ? Math.min(n, e) : n), f(o, o), c(this._pivotPos, C(this._tmpPivotPoint, s.eye, P(this._tmpPivotPoint, o, n)));\n  }\n  update(t) {\n    if (this.active) {\n      switch (this.pivot) {\n        case V.EYE:\n          this.currentCamera.center = this._applyRotation(this.currentCamera, t, this.currentCamera.center, this._pivotPos);\n          break;\n        case V.CENTER:\n          this.currentCamera.center = this._pivotPos, this.currentCamera.eye = this._applyRotation(this.currentCamera, t, this.currentCamera.eye, this._pivotPos);\n      }\n      E(this.view, this.currentCamera, this._constraintOptions), this.commitCamera();\n    }\n  }\n  end() {\n    this.active && this.finishController();\n  }\n  _applyRotation(t, r, o, e) {\n    this.view.renderCoordsHelper.worldUpAtPosition(e, this._tmpWorldUp), O(t, r, this._tmpRotCurPoint);\n    let h = (this._lastPoint[1] - this._tmpRotCurPoint[1]) * this._rotScale,\n      m = (this._tmpRotCurPoint[0] - this._lastPoint[0]) * this._rotScale;\n    l(this._tmpViewDir, o, e);\n    const c = _(this._tmpViewDir),\n      f = i(v(this._tmpViewDir, this._tmpWorldUp) / c);\n    if (this.pivot === V.EYE) {\n      h *= -.5;\n      const t = .5 * Math.PI - f,\n        i = .5 * Math.PI * .99;\n      h = t - Math.max(-i, Math.min(i, t + h));\n    }\n    return h = s(h + f, M.min, M.max) - f, u(this._tmpAxis, t.up, this._tmpViewDir), this.pivot === V.CENTER && (m = -m), a(this._tmpTransf, m, this._tmpWorldUp), n(this._tmpTransf, this._tmpTransf, h, this._tmpAxis), w(this._tmpViewDir, this._tmpViewDir, this._tmpTransf), t.up = w(S, t.up, this._tmpTransf), C(S, e, this._tmpViewDir), p(this._lastPoint, this._tmpRotCurPoint), S;\n  }\n};\nt([o()], H.prototype, \"pivot\", void 0), H = t([e(\"esri.views.3d.state.controllers.RotateController\")], H);\nconst S = d(),\n  k = d();\nexport { V as PivotPoint, H as RotateController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createScreenPointArray as t } from \"../../../../core/screenUtils.js\";\nimport { RotateController as r } from \"../../state/controllers/RotateController.js\";\nexport { PivotPoint } from \"../../state/controllers/RotateController.js\";\nimport { InputHandler as e } from \"../../../input/InputHandler.js\";\nimport { eventMatchesMousePointerAction as o } from \"../../../input/handlers/support.js\";\nclass a extends e {\n  constructor(t, r, e, o) {\n    super(!0), this._view = t, this.pointerAction = r, this._pivot = e, this.registerIncoming(\"drag\", o, t => this._handleDrag(t));\n  }\n  _handleDrag(e) {\n    const a = e.data;\n    if (a.pointers.size > 1) return;\n    if (!o(e.data, this.pointerAction)) return;\n    const i = t(a.center.x, a.center.y);\n    switch (a.action) {\n      case \"start\":\n        this._cameraController && (this._cameraController.end(), this._cameraController = null), this._cameraController = new r({\n          view: this._view,\n          pivot: this._pivot\n        }), this._view.state.switchCameraController(this._cameraController), this._cameraController.begin(i);\n        break;\n      case \"update\":\n        this._cameraController && this._cameraController.update(i);\n        break;\n      case \"end\":\n        this._cameraController && (this._cameraController.end(), this._cameraController = null);\n    }\n    e.stopPropagation();\n  }\n}\nexport { a as DragRotate };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { clamp as i } from \"../../../../core/mathUtils.js\";\nimport { createScreenPointArray as r } from \"../../../../core/screenUtils.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport \"../../../../core/Error.js\";\nimport { subclass as e } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { copy as s, distance as a } from \"../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as n } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { n as o, f as h, l as c, m, j as p, g as l } from \"../../../../chunks/vec32.js\";\nimport { create as _ } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as u } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { create as P, fromPoints as C } from \"../../../../geometry/support/axisAngle.js\";\nimport { c as y, g as d } from \"../../../../chunks/sphere.js\";\nimport { pixelDistanceToInteractionFactor as f, applyAll as g } from \"../../camera/constraintUtils.js\";\nimport { ConstraintOptions as v } from \"../../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as R } from \"../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as j } from \"../../camera/constraintUtils/InteractionType.js\";\nimport { applySurfaceCollisionConstraint as k } from \"../../camera/constraintUtils/surfaceCollision.js\";\nimport { InteractiveController as w } from \"./InteractiveController.js\";\nimport { NavigationMode as D, normalizeCoordinate as A, pickPointAndInitSphere as M, contentIntersectorOptions as b, SpherePickPointFallback as O, navigationMode as U, distanceClampValues as x, pivotDistanceModifier as z, screenPixelArea as H, sphereOrPlanePointFromScreenPoint as L, applyRotation as I } from \"../utils/navigationUtils.js\";\nimport { fromScreenAtEye as S } from \"../../support/geometryUtils/ray.js\";\nlet B = class extends w {\n  constructor() {\n    super(...arguments), this._pickPoint = _(), this._tmpP0 = n(), this._panAxisAngle = P(), this._tmpRayDir = _(), this._tmpRayDirPick = _(), this._targetOnSphere = _(), this._navMode = D.Horizontal, this._tmpRay = {\n      origin: _(),\n      direction: _()\n    }, this.dragBeginPoint = r(), this._normalizedAnchorPoint = n(), this._constraintOptions = new v(R.ALL_EXCEPT_COLLISION, j.ZOOM, 0, this.startCamera), this._sphere = y(), this._hasPickPoint = !1;\n  }\n  get _intersectionHelper() {\n    return this.view.sceneIntersectionHelper;\n  }\n  begin(t) {\n    if (!this.active) return;\n    s(this.dragBeginPoint, t), A(this.startCamera, t, this._normalizedAnchorPoint);\n    const r = u(this.view.spatialReference),\n      e = M(this._intersectionHelper, this.startCamera, t, r, O.Ellipsoid, 0 === this.view.map.ground.opacity ? b : {});\n    if (this._navMode = U(this.startCamera, t, this.view.renderCoordsHelper, this.view.viewingMode), this._navMode === D.Horizontal) this._hasPickPoint = !!e.scenePickPoint, this._pickPoint = e.scenePickPoint ?? this._pickPoint, this._sphere = e.sphere;else {\n      let r;\n      S(this.startCamera, t, this._tmpRay), o(this._tmpRay.direction, this._tmpRay.direction), null != e.scenePickPoint && (h(this._tmpRayDirPick, this.startCamera.eye, e.scenePickPoint), r = c(this._tmpRayDirPick));\n      const s = Math.abs(this.view.camera.position.z);\n      this.view.renderCoordsHelper.worldUpAtPosition(this.startCamera.eye, T);\n      let a = i(Math.min(z, 1 / Math.abs(m(T, this._tmpRay.direction))) * s, x[0], x[1]);\n      const n = this.view._stage.renderView.getMinimalDepthForArea(null, t[0], t[1], this.view.state.camera, H);\n      a = null != n ? n : a, a = null != r ? Math.min(a, r) : a, this._hasPickPoint = !0, p(this._tmpRay.direction, this._tmpRay.direction, a), l(this._pickPoint, this._tmpRay.origin, this._tmpRay.direction);\n    }\n  }\n  update(t) {\n    if (this.active) {\n      if (this.currentCamera.eye = this.startCamera.eye, this.currentCamera.center = this.startCamera.center, this.currentCamera.up = this.startCamera.up, this._navMode === D.Horizontal) {\n        h(this._tmpRayDir, this.currentCamera.center, this.currentCamera.eye);\n        const i = c(this._tmpRayDir);\n        A(this.currentCamera, t, this._tmpP0);\n        const r = 12 * (this._normalizedAnchorPoint[1] - this._tmpP0[1]);\n        let e = i * 2 ** r;\n        const s = this.view.state.constraints.minimumPoiDistance;\n        if (r < 0 && e < s && (e = s), Math.abs(i - e) < 1e-6) return;\n        if (this._hasPickPoint && e < i) {\n          const t = 1 - (1 - e / i) * (1 - this._sphere[3] / c(this.currentCamera.center));\n          this.currentCamera.center = p(E, this.currentCamera.center, t);\n        }\n        p(this._tmpRayDir, this._tmpRayDir, -e / i), this.currentCamera.eye = l(E, this.currentCamera.center, this._tmpRayDir), this._constraintOptions.interactionFactor = f(a(this.dragBeginPoint, t)), g(this.view, this.currentCamera, this._constraintOptions), this._hasPickPoint && (L(this._sphere, this.currentCamera, this.dragBeginPoint, this._targetOnSphere), C(this._pickPoint, this._targetOnSphere, this._panAxisAngle), I(this.currentCamera, d(this._sphere), this._panAxisAngle));\n      } else {\n        const i = c(this._tmpRay.direction);\n        A(this.currentCamera, t, this._tmpP0);\n        const r = 12 * (this._normalizedAnchorPoint[1] - this._tmpP0[1]);\n        let e = i * 2 ** r;\n        const s = this.view.state.constraints.minimumPoiDistance;\n        if (r < 0 && e < s && (e = s), Math.abs(i - e) < 1e-6) return;\n        p(this._tmpRayDir, this._tmpRay.direction, 1 - e / i), this.currentCamera.eye = l(E, this.currentCamera.eye, this._tmpRayDir), this.currentCamera.center = l(E, this.currentCamera.center, this._tmpRayDir);\n      }\n      k(this.view, this.currentCamera), this.commitCamera();\n    }\n  }\n  end() {\n    this.active && this.finishController();\n  }\n};\nB = t([e(\"esri.views.3d.state.controllers.ZoomControllerGlobal\")], B);\nconst E = _(),\n  T = _();\nexport { B as ZoomControllerGlobal };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { clamp as i } from \"../../../../core/mathUtils.js\";\nimport { createScreenPointArray as s } from \"../../../../core/screenUtils.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport \"../../../../core/Error.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { copy as e, distance as a } from \"../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as o } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { f as n, l as m, n as h, m as c, j as p, g as _, k as l, c as C, o as P } from \"../../../../chunks/vec32.js\";\nimport { create as f, fromValues as u } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as g, fromPositionAndNormal as D } from \"../../../../geometry/support/plane.js\";\nimport { pixelDistanceToInteractionFactor as j, applyAll as v } from \"../../camera/constraintUtils.js\";\nimport { ConstraintOptions as y } from \"../../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as d } from \"../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as w } from \"../../camera/constraintUtils/InteractionType.js\";\nimport { getVoxelWasm as b } from \"../../layers/VoxelWasm.js\";\nimport { InteractiveController as M } from \"./InteractiveController.js\";\nimport { normalizeCoordinate as O, contentIntersectorOptions as N, distanceClampValues as R, pivotDistanceModifier as x, screenPixelArea as U, intersectPlaneFromScreenPoint as A } from \"../utils/navigationUtils.js\";\nlet z = class extends M {\n  constructor() {\n    super(...arguments), this._tmpP = f(), this._tmpDir = f(), this._tmpN = f(), this._tmpP0 = o(), this._tmpPoi = f(), this._tmpRayDir = f(), this.dragBeginPoint = s(), this._normalizedAnchorPoint = o(), this._constraintOptions = new y(d.ALL, w.ZOOM, 0, this.startCamera, f()), this._plane = g();\n  }\n  get _intersectionHelper() {\n    return this.view.sceneIntersectionHelper;\n  }\n  begin(t) {\n    if (!this.active) return;\n    e(this.dragBeginPoint, t), O(this.startCamera, t, this._normalizedAnchorPoint);\n    const s = this._intersectionHelper.intersectScreenFreePointFallback(t, this._tmpP, 0 === this.view.map.ground.opacity ? N : {});\n    n(this._tmpDir, this._tmpP, this.startCamera.eye);\n    const r = m(this._tmpDir);\n    h(this._tmpDir, this._tmpDir);\n    const a = Math.abs(this.view.camera.position.z);\n    let o = i(Math.min(x, 1 / Math.abs(c(k, this._tmpDir))) * a, R[0], R[1]);\n    const C = this.view._stage.renderView.getMinimalDepthForArea(b(this.view), t[0], t[1], this.view.state.camera, U);\n    o = null != C ? C : o, o = s ? Math.min(o, r) : o, p(this._tmpDir, this._tmpDir, o), _(this._tmpP, this.startCamera.eye, this._tmpDir), n(this._tmpN, this.startCamera.eye, this.startCamera.center), h(this._tmpN, this._tmpN), this._tmpN[1] < 0 && l(this._tmpN, this._tmpN), D(this._tmpP, this._tmpN, this._plane);\n  }\n  update(t) {\n    if (!this.active) return;\n    A(this._plane, this.currentCamera, this.dragBeginPoint, this._tmpPoi) || C(this._tmpPoi, this.currentCamera.center), O(this.currentCamera, t, this._tmpP0);\n    let i = 4 * (this._tmpP0[1] - this._normalizedAnchorPoint[1]);\n    e(this._normalizedAnchorPoint, this._tmpP0), n(this._tmpRayDir, this._tmpPoi, this.currentCamera.eye);\n    const s = m(this._tmpRayDir);\n    let r = s * (1 - i);\n    this._constraintOptions.interactionDirection && (C(this._constraintOptions.interactionDirection, this._tmpRayDir), p(this._constraintOptions.interactionDirection, this._constraintOptions.interactionDirection, Math.sign(i) / s));\n    const o = this.view.state.constraints.minimumPoiDistance;\n    i >= 0 && r < o && (r = o, i = -(r - s) / s), Math.abs(s - r) < 1e-6 || (p(this._tmpRayDir, this._tmpRayDir, i), this.currentCamera.eye = _(L, this.currentCamera.eye, this._tmpRayDir), P(L, this.currentCamera.center, this._tmpPoi, i), this._tmpPoi[2] > this.startCamera.center[2] ? L[2] = Math.max(this.startCamera.center[2], L[2]) : L[2] = Math.min(this.startCamera.center[2], L[2]), this.currentCamera.center = L, this._constraintOptions.interactionFactor = j(a(this.dragBeginPoint, t)), v(this.view, this.currentCamera, this._constraintOptions), this.commitCamera());\n  }\n  end() {\n    this.active && this.finishController();\n  }\n};\nz = t([r(\"esri.views.3d.state.controllers.ZoomControllerLocal\")], z);\nconst L = f(),\n  k = u(0, 0, 1);\nexport { z as ZoomControllerLocal };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createScreenPointArray as r } from \"../../../../core/screenUtils.js\";\nimport { ZoomControllerGlobal as t } from \"../../state/controllers/ZoomControllerGlobal.js\";\nimport { ZoomControllerLocal as e } from \"../../state/controllers/ZoomControllerLocal.js\";\nimport { InputHandler as o } from \"../../../input/InputHandler.js\";\nimport { eventMatchesMousePointerAction as a } from \"../../../input/handlers/support.js\";\nclass s extends o {\n  constructor(r, t, e) {\n    super(!0), this._view = r, this.pointerAction = t, this.registerIncoming(\"drag\", e, r => this._handleDrag(r));\n  }\n  _handleDrag(o) {\n    const s = o.data;\n    if (s.pointers.size > 1) return;\n    if (!a(o.data, this.pointerAction)) return;\n    const i = r(s.center.x, s.center.y);\n    switch (s.action) {\n      case \"start\":\n        this._cameraController && (this._cameraController.end(), this._cameraController = null), this._view.state.isGlobal ? this._cameraController = new t({\n          view: this._view\n        }) : this._cameraController = new e({\n          view: this._view\n        }), this._view.state.switchCameraController(this._cameraController), this._cameraController.begin(i);\n        break;\n      case \"update\":\n        this._cameraController && this._cameraController.update(i);\n        break;\n      case \"end\":\n        this._cameraController && (this._cameraController.end(), this._cameraController = null);\n    }\n    o.stopPropagation();\n  }\n}\nexport { s as DragZoom };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { neverReached as e } from \"../../../../core/compilerUtils.js\";\nimport { clamp as i, acosClamped as a, deg2rad as r } from \"../../../../core/mathUtils.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { translate as n, rotate as c, identity as m } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as l } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { f as p, h, g as d, j as u, c as _, k as f, l as v, s as C, n as g, b as y, p as w, E as O, m as b } from \"../../../../chunks/vec32.js\";\nimport { create as S } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as x } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { wrap as j } from \"../../../../geometry/support/ray.js\";\nimport { e as L, h as M, t as T } from \"../../../../chunks/sphere.js\";\nimport { angle as A } from \"../../../../geometry/support/vector.js\";\nimport { sv3d as E } from \"../../../../geometry/support/vectorStacks.js\";\nimport { applyAll as z } from \"../../camera/constraintUtils.js\";\nimport { ConstraintOptions as I } from \"../../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as R } from \"../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as U } from \"../../camera/constraintUtils/InteractionType.js\";\nimport { TiltMode as D } from \"../../camera/constraintUtils/TiltMode.js\";\nimport { TiltRange as H } from \"../Constraints.js\";\nimport { InteractiveController as N } from \"./InteractiveController.js\";\nimport { panMotionToRotationMatrix as k, onSurfaceTiltToEyeTiltGlobal as P, offSurfaceTiltToEyeTiltGlobal as G } from \"../utils/navigationUtils.js\";\nimport { viewAngle as F } from \"../utils/viewUtils.js\";\nimport { headingTiltToDirectionUp as V } from \"../../support/cameraUtils.js\";\nimport { createDirectionUp as B } from \"../../support/cameraUtilsInternal.js\";\nimport K from \"../../webgl/RenderCamera.js\";\nimport { extractTransformation as X, isZeroTransformation as Z, extractTransformationKeyboard as q } from \"../../../navigation/gamepadAndKeyboardUtils.js\";\nlet J = class extends N {\n  constructor(t) {\n    super(t), this._filteredSurfaceElevation = 0, this._transformation = {\n      translation: [0, 0, 0],\n      heading: 0,\n      tilt: 0,\n      zoom: 0\n    }, this._keysButtonState = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], this._tmpCamera = new K(), this._headingStart = 0, this._constraintOptions = new I(R.ALL, U.NONE, 0, new K(), null, D.LOOK_AROUND);\n  }\n  handleEventGamepad(t) {\n    const e = X(t, this.view.navigation.gamepad, this._transformation);\n    (\"end\" === t.action || Z(e)) && this.finishController();\n  }\n  activateDirection(t) {\n    this._keysButtonState[t] = 1, q(this._keysButtonState, this._transformation);\n  }\n  deactivateDirection(t) {\n    this._keysButtonState[t] = 0;\n    const e = q(this._keysButtonState, this._transformation);\n    Z(e) && this.finishController();\n  }\n  onControllerStart(t) {\n    this._filteredSurfaceElevation = this.view.pointsOfInterest.cameraOnSurface.location.z, this._headingStart = this.view.camera.heading, super.onControllerStart(t);\n  }\n  _updateFilteredSurfaceElevation(t) {\n    const e = this.view.pointsOfInterest.cameraOnSurface.location.z,\n      i = 1;\n    this._filteredSurfaceElevation += i * (e - this._filteredSurfaceElevation) * t;\n  }\n  stepController(t, e) {\n    this._updateStartHeading(), this._updateFilteredSurfaceElevation(t), this.currentCamera.copyViewFrom(e), this._updateCameraCenter(), this._constraintOptions.interactionStartCamera?.copyFrom(this.currentCamera), this._calculateControlTransformation(t, this.currentCamera, at), this._applyDisabledMovementTypes(at), this._applyPan(at.pan), this._applyRotate(at.rotate), this._applyZoom(at.zoom), this._applyAscend(at.ascend), this._constraintOptions.interactionType = U.NONE, this._constraintOptions.selection = R.COLLISION, z(this.view, this.currentCamera, this._constraintOptions), super.stepController(t, e);\n  }\n  _updateStartHeading() {\n    0 !== this._transformation.heading && (this._headingStart = this.view.camera.heading);\n  }\n  _applyRotate(t) {\n    if (!t.enabled) return;\n    const e = this.currentCamera;\n    p(rt, e.center, e.eye), h(rt, rt, t.matrix), e.center = d(rt, rt, e.eye), e.up = h(rt, e.up, t.matrix), this._constraintOptions.interactionType = U.LOOK_AROUND, this._constraintOptions.selection = R.ALL_EXCEPT_COLLISION, z(this.view, e, this._constraintOptions);\n  }\n  _applyPan(t, e = this.currentCamera) {\n    if (!t.enabled) return;\n    e.eye = h(rt, e.eye, t.matrix), e.center = h(rt, e.center, t.matrix);\n    this.view.state.isGlobal && (e.up = h(rt, e.up, t.matrix)), this._constraintOptions.interactionType = U.PAN, this._constraintOptions.selection = R.ALL, z(this.view, e, this._constraintOptions);\n  }\n  _applyZoom(t) {\n    if (!t) return;\n    const e = this.currentCamera.viewForward;\n    this.currentCamera.eye = d(rt, this.currentCamera.eye, u(E.get(), e, t)), _(ot, e), f(ot, ot), this._constraintOptions.interactionDirection = ot, this._constraintOptions.interactionType = U.ZOOM, this._constraintOptions.selection = R.ALL_EXCEPT_COLLISION, z(this.view, this.currentCamera, this._constraintOptions), this._constraintOptions.interactionDirection = null;\n  }\n  _applyAscend(t) {\n    if (!t) return;\n    const e = this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye, E.get());\n    this._constraintOptions.interactionDirection = _(ot, e);\n    if (this.view.state.isGlobal) {\n      const e = v(this.currentCamera.eye),\n        i = (e + t) / e;\n      this.currentCamera.eye = u(rt, this.currentCamera.eye, i), this.currentCamera.center = u(rt, this.currentCamera.center, i);\n    } else {\n      const i = u(E.get(), e, t);\n      this.currentCamera.eye = d(rt, this.currentCamera.eye, i), this.currentCamera.center = d(rt, this.currentCamera.center, i);\n    }\n    this._updateCameraCenter(), this._constraintOptions.interactionType = U.ASCEND, this._constraintOptions.selection = R.COLLISION, z(this.view, this.currentCamera, this._constraintOptions) && this._updateCameraCenter(), this._constraintOptions.selection = R.ALL_EXCEPT_COLLISION, z(this.view, this.currentCamera, this._constraintOptions), this._constraintOptions.interactionDirection = null;\n  }\n  _calculateControlTransformation(t, e, i) {\n    nt(i);\n    const a = this._computeVelocities(t);\n    this.view.state.isLocal ? this._calculateControlTransformationLocal(a, e, i) : this._calculateControlTransformationGlobal(a, e, i);\n  }\n  _updateCameraCenter() {\n    const t = this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,\n      e = this.view.renderCoordsHelper,\n      i = this.currentCamera.ray;\n    this.currentCamera.center = e.intersectManifoldClosestSilhouette(i, t, rt);\n  }\n  _calculateControlTransformationLocal(t, a, r) {\n    const {\n        viewRight: o,\n        viewForward: s\n      } = a,\n      m = this._transformation,\n      l = this.view.navigation.gamepad,\n      p = C(E.get(), s[0], s[1], 0);\n    g(p, p);\n    const h = m.translation[0] * t.pan;\n    if (0 !== h) {\n      const t = u(E.get(), o, h);\n      n(r.pan.matrix, r.pan.matrix, t), r.pan.enabled = !0;\n    }\n    switch (l.mode) {\n      case \"pan\":\n        {\n          const e = -m.translation[1] * t.pan;\n          if (0 !== e) {\n            const t = u(E.get(), p, e);\n            n(r.pan.matrix, r.pan.matrix, t), r.pan.enabled = !0;\n          }\n          r.zoom = m.zoom * t.zoom;\n          break;\n        }\n      case \"zoom\":\n        r.zoom = (-m.translation[1] + m.zoom) * t.zoom;\n        break;\n      default:\n        e(l.mode);\n    }\n    const d = m.translation[2] * t.ascend;\n    r.ascend = d;\n    const _ = -m.heading * t.rotate;\n    0 !== _ && (c(r.rotate.matrix, r.rotate.matrix, _, this.view.renderCoordsHelper.worldUpAtPosition(a.eye, E.get())), r.rotate.enabled = !0);\n    const f = m.tilt * t.rotate,\n      v = F(this.view.renderCoordsHelper, a.center, a.eye),\n      y = i(v + f, H.min, H.max) - v;\n    y && (c(r.rotate.matrix, r.rotate.matrix, y, o), r.rotate.enabled = !0);\n  }\n  _calculateControlTransformationGlobal(t, e, i) {\n    const {\n        eye: a,\n        viewRight: r\n      } = e,\n      o = this._transformation,\n      s = this.view.navigation.gamepad,\n      n = y(E.get(), r, a);\n    g(n, n), f(n, n), k(this.startCamera, e, o, t, this.view.camera.heading, this._headingStart, this.view.camera.tilt, i, s), this._tmpCamera.copyFrom(this.currentCamera), this._applyPan(at.pan, this._tmpCamera);\n    const m = this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,\n      l = o.translation[2] * t.ascend;\n    i.ascend = l;\n    const p = -o.heading * t.rotate;\n    0 !== p && (c(i.rotate.matrix, i.rotate.matrix, p, this._tmpCamera.eye), i.rotate.enabled = !0);\n    const h = o.tilt * t.rotate,\n      d = this._clampTiltDeltaGlobalToValidRange(h, e.ray, m);\n    0 !== d && (c(i.rotate.matrix, i.rotate.matrix, d, this._tmpCamera.viewRight), i.rotate.enabled = !0), i.zoom += o.zoom * t.zoom;\n  }\n  _clampTiltDeltaGlobalToValidRange(t, e, a) {\n    const r = x(this.view.spatialReference),\n      o = P(H.min, e.origin, a, r);\n    let s = 0,\n      n = 0;\n    const c = E.get();\n    if (this.view.renderCoordsHelper.intersectManifold(e, a, c)) {\n      const t = F(this.view.renderCoordsHelper, c, e.origin);\n      s = P(t, e.origin, a, r), n = P(H.max, e.origin, a, r);\n    } else {\n      L(M(T, a + r.radius), e, c);\n      const t = Math.PI + A(e.direction, c);\n      s = G(t, e.origin, a, r), n = G(H.max, e.origin, a, r);\n    }\n    return i(s + t, o, n) - s;\n  }\n  _getPointAbsoluteSurfaceElevation(t, e, i) {\n    const {\n        renderCoordsHelper: a\n      } = this.view,\n      r = a.getAltitude(t),\n      o = e + Math.abs(r - e);\n    return a.setAltitude(i, o, t), o;\n  }\n  _clampedDistanceToSurface(t, e) {\n    const {\n        renderCoordsHelper: i\n      } = this.view,\n      {\n        camera: a\n      } = this.view.state,\n      {\n        direction: r\n      } = V(this.view, e, 0, W, st),\n      o = i.intersectManifoldClosestSilhouette(j(e, r), t, E.get()),\n      s = w(e, o),\n      n = i.intersectManifoldClosestSilhouette(j(e, O(E.get(), e, a.center)), t, E.get()),\n      c = w(e, n);\n    return Math.min(s, c);\n  }\n  _computeHeadingRotateRadius(t) {\n    const {\n        renderCoordsHelper: e,\n        state: i\n      } = this.view,\n      {\n        camera: r,\n        isGlobal: o\n      } = i,\n      s = e.intersectManifoldClosestSilhouette(r.ray, this._filteredSurfaceElevation, E.get());\n    if (o) {\n      const e = p(E.get(), t, s),\n        i = v(e);\n      u(e, e, 1 / i);\n      const r = g(E.get(), t),\n        o = a(b(r, e));\n      return i * Math.sin(Math.min(Y, o));\n    }\n    {\n      const i = _(E.get(), t);\n      return e.setAltitude(i, this._filteredSurfaceElevation), w(s, i);\n    }\n  }\n  _minimumAscendVelocity() {\n    return this.view.state.constraints.collision.enabled ? 0 : tt;\n  }\n  _computeVelocities(t) {\n    const e = this._filteredSurfaceElevation,\n      a = e + x(this.view.spatialReference).radius,\n      {\n        camera: r,\n        isGlobal: o\n      } = this.view.state,\n      s = E.get(),\n      n = this._getPointAbsoluteSurfaceElevation(r.eye, e, s),\n      c = this._clampedDistanceToSurface(e, s),\n      m = r.width / 2,\n      l = $ * r.width,\n      p = $ * r.width,\n      h = c * Math.tan(.5 * r.fovX) / m,\n      d = h / a,\n      u = h / this._computeHeadingRotateRadius(s),\n      _ = n - e;\n    return {\n      pan: (o ? d : h) * l * t,\n      ascend: Math.max(this._minimumAscendVelocity() * t, 2 ** (l * t / m) * _ - _),\n      zoom: 2 ** (l * t / m) * c - c,\n      rotate: i(u * p, et, it) * t\n    };\n  }\n  _applyDisabledMovementTypes(t) {\n    null == this.disableMovements || void 0 !== this.disableMovements.mode && this.view.state.viewingMode !== this.disableMovements.mode || (t.zoom = this.disableMovements.zoom ? 0 : t.zoom, t.ascend = this.disableMovements.ascend ? 0 : t.ascend, t.pan.enabled = !this.disableMovements.pan, this.disableMovements.pan && m(t.pan.matrix), t.rotate.enabled = !this.disableMovements.rotate, this.disableMovements.rotate && m(t.rotate.matrix));\n  }\n  static activatesFor(t, e) {\n    const i = X(e, t.navigation.gamepad, Q);\n    return !(\"end\" === e.action || Z(i));\n  }\n};\nt([o({\n  constructOnly: !0\n})], J.prototype, \"gamepadDevice\", void 0), t([o({\n  constructOnly: !0\n})], J.prototype, \"disableMovements\", void 0), J = t([s(\"esri.views.3d.state.controllers.GamepadKeyboardController\")], J);\nconst Q = {\n    translation: [0, 0, 0],\n    heading: 0,\n    tilt: 0,\n    zoom: 0\n  },\n  W = 80,\n  Y = r(W),\n  $ = .75,\n  tt = 5,\n  et = r(30),\n  it = r(80),\n  at = {\n    zoom: 0,\n    ascend: 0,\n    pan: {\n      enabled: !1,\n      matrix: l()\n    },\n    rotate: {\n      enabled: !1,\n      matrix: l()\n    }\n  },\n  rt = S(),\n  ot = S(),\n  st = B();\nfunction nt(t) {\n  t.zoom = 0, t.ascend = 0, t.pan.enabled = !1, m(t.pan.matrix), t.rotate.enabled = !1, m(t.rotate.matrix);\n}\nexport { J as GamepadKeyboardController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport a from \"../../../../core/Handles.js\";\nimport { watch as e, initial as t } from \"../../../../core/reactiveUtils.js\";\nimport { GamepadKeyboardController as r } from \"../../state/controllers/GamepadKeyboardController.js\";\nimport { InputHandler as i } from \"../../../input/InputHandler.js\";\nclass n extends i {\n  constructor(e) {\n    super(!0), this._view = e, this._watchHandles = new a(), this._handle = this.registerIncoming(\"gamepad\", a => this._handleEventGamepad(a)), this._handle.pause();\n  }\n  onInstall(a) {\n    super.onInstall(a), this._watchHandles.add([e(() => this._view.navigation.gamepad.enabled, a => {\n      a ? this._handle.resume() : (this._handle.pause(), this._cameraControllerGamepad && (this._cameraControllerGamepad.finishController(), this._cameraControllerGamepad = null));\n    }, t), e(() => this._view.navigation.gamepad.device, a => {\n      this._cameraControllerGamepad && a && this._cameraControllerGamepad.gamepadDevice !== a && (this._cameraControllerGamepad.finishController(), this._cameraControllerGamepad = null);\n    })]);\n  }\n  onUninstall() {\n    this._watchHandles.removeAll(), super.onUninstall();\n  }\n  _handleEventGamepad(a) {\n    const e = this._view.navigation.gamepad.device;\n    if (e && a.data.device !== e) return;\n    const t = this._cameraControllerGamepad?.active;\n    if (t || r.activatesFor(this._view, a.data)) {\n      if (!t) {\n        const e = new r({\n          view: this._view,\n          gamepadDevice: a.data.device\n        });\n        this._view.state.switchCameraController(e) && (this._cameraControllerGamepad = e);\n      }\n      this._cameraControllerGamepad && this._cameraControllerGamepad.active && this._cameraControllerGamepad.gamepadDevice === a.data.device && this._cameraControllerGamepad.handleEventGamepad(a.data);\n    }\n  }\n}\nexport { n as GamepadNavigation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ViewingMode as e } from \"../../../ViewingMode.js\";\nimport { GamepadKeyboardController as t } from \"../../state/controllers/GamepadKeyboardController.js\";\nimport { InputHandler as a } from \"../../../input/InputHandler.js\";\nimport { onVisibilityChange as o } from \"../../../input/VisibilityChange.js\";\nvar r;\n!function (e) {\n  e[e.LEFT = 0] = \"LEFT\", e[e.RIGHT = 1] = \"RIGHT\", e[e.FORWARD = 2] = \"FORWARD\", e[e.BACKWARD = 3] = \"BACKWARD\", e[e.UP = 4] = \"UP\", e[e.DOWN = 5] = \"DOWN\", e[e.HEADINGLEFT = 6] = \"HEADINGLEFT\", e[e.HEADINGRIGHT = 7] = \"HEADINGRIGHT\", e[e.TILTUP = 8] = \"TILTUP\", e[e.TILTDOWN = 9] = \"TILTDOWN\", e[e.ZOOMIN = 10] = \"ZOOMIN\", e[e.ZOOMOUT = 11] = \"ZOOMOUT\";\n}(r || (r = {}));\nclass i extends a {\n  constructor(t, a) {\n    super(!0), this._view = t, this._disableMovements = {\n      pan: !0,\n      zoom: !1,\n      ascend: !0,\n      rotate: !1,\n      mode: e.Local\n    }, this._keyToNumber = {\n      [a.left]: r.LEFT,\n      [a.right]: r.RIGHT,\n      [a.forward]: r.FORWARD,\n      [a.backward]: r.BACKWARD,\n      [a.up]: r.UP,\n      [a.down]: r.DOWN,\n      [a.headingLeft]: r.HEADINGLEFT,\n      [a.headingRight]: r.HEADINGRIGHT,\n      [a.tiltUp]: r.TILTUP,\n      [a.tiltDown]: r.TILTDOWN,\n      [a.zoomIn]: r.ZOOMIN,\n      [a.zoomOut]: r.ZOOMOUT\n    }, this.registerIncoming(\"key-down\", null, e => this._handleKeyDown(e)), this.registerIncoming(\"key-up\", null, e => this._handleKeyUp(e)), this.registerIncoming(\"blur\", null, () => this._handleStop()), this._visibilityHandle = o(e => e ? null : this._handleStop());\n  }\n  onUninstall() {\n    this._visibilityHandle?.remove(), this._handleStop();\n  }\n  _handleKeyDown(e) {\n    if (e.data.native.ctrlKey || e.data.native.metaKey) return;\n    const a = this._keyToNumber[e.data.key];\n    null != a && (this._cameraControllerKeyboard && this._cameraControllerKeyboard.active || (this._cameraControllerKeyboard = new t({\n      view: this._view,\n      disableMovements: this._disableMovements\n    }), this._view.state.switchCameraController(this._cameraControllerKeyboard)), this._cameraControllerKeyboard.active && (this._cameraControllerKeyboard.activateDirection(a), e.stopPropagation()));\n  }\n  _handleStop() {\n    this._cameraControllerKeyboard?.active && (this._cameraControllerKeyboard.finishController(), this._cameraControllerKeyboard = null);\n  }\n  _handleKeyUp(e) {\n    if (e.data.native.ctrlKey || e.data.native.metaKey) return;\n    const t = this._keyToNumber[e.data.key];\n    null != t && this._cameraControllerKeyboard?.active && (this._cameraControllerKeyboard.deactivateDirection(t), e.stopPropagation());\n  }\n}\nexport { i as KeyboardNavigation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createScreenPointArray as e } from \"../../../../core/screenUtils.js\";\nimport { ZoomStepControllerGlobal as t } from \"../../state/controllers/ZoomStepControllerGlobal.js\";\nimport { ZoomStepControllerLocal as o } from \"../../state/controllers/ZoomStepControllerLocal.js\";\nimport { InputHandler as r } from \"../../../input/InputHandler.js\";\nclass i extends r {\n  constructor(e, t) {\n    super(!0), this._view = e, this.registerIncoming(\"mouse-wheel\", t, e => this._handleMouseWheel(e));\n  }\n  _handleMouseWheel(r) {\n    if (!this._view.navigation.mouseWheelZoomEnabled) return;\n    const i = r.data;\n    this._cameraController && this._cameraController.active || (this._cameraController = this._view.state.isGlobal ? new t({\n      view: this._view,\n      mode: \"interaction\"\n    }) : new o({\n      view: this._view,\n      mode: \"interaction\"\n    }), this._view.state.switchCameraController(this._cameraController)), this._cameraController.zoomStep(-1 / 60 * i.deltaY, e(i.x, i.y)), r.preventDefault(), r.stopPropagation();\n  }\n}\nexport { i as MouseWheelZoom };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t) {\n    this._gain = t;\n  }\n  reset(t) {\n    this._value = t;\n  }\n  set gain(t) {\n    this._gain = t;\n  }\n  get value() {\n    return void 0 === this._value ? 0 : this._value;\n  }\n  update(t) {\n    void 0 === this._value ? this._value = t : this._value = this._gain * t + (1 - this._gain) * this._value;\n  }\n}\nexport { t as ExponentialFalloff };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport \"../../../../../core/Error.js\";\nimport { subclass as e } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../../../../ViewAnimation.js\";\nimport { applyAll as r } from \"../../../camera/constraintUtils.js\";\nimport { ConstraintOptions as o } from \"../../../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as s } from \"../../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as n } from \"../../../camera/constraintUtils/InteractionType.js\";\nimport { AnimationController as m } from \"../AnimationController.js\";\nimport a from \"../../../webgl/RenderCamera.js\";\nlet p = class extends m {\n  constructor() {\n    super(...arguments), this._beginCamera = new a(), this._elapsedTimeSec = 0, this.constraintOptions = new o(s.ALL, n.PAN, 0, this._beginCamera);\n  }\n  initialize() {\n    this.constraintOptions.interactionType = this.interactionType, this.viewAnimation = new i();\n  }\n  get steppingFinished() {\n    return this.momentum.isFinished(this._elapsedTimeSec);\n  }\n  onControllerStart(t) {\n    this._beginCamera.copyFrom(t), super.onControllerStart(t);\n  }\n  stepController(t, e) {\n    e.copyViewFrom(this._beginCamera), this._elapsedTimeSec += t, this.momentumStep(this._elapsedTimeSec, e), r(this.view, e, this.constraintOptions);\n  }\n};\np = t([e(\"esri.views.3d.state.controllers.momentum.MomentumController\")], p);\nexport { p as MomentumController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport { property as o } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { j as s, f as e } from \"../../../../../chunks/vec32.js\";\nimport { create as m } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { InteractionType as n } from \"../../../camera/constraintUtils/InteractionType.js\";\nimport { MomentumController as i } from \"./MomentumController.js\";\nlet c = class extends i {\n  constructor(t) {\n    super(t), this.interactionType = n.PAN, this._tmpPan = m();\n  }\n  momentumStep(t, o) {\n    const r = this.momentum.value(t);\n    s(this._tmpPan, this.momentum.direction, r), o.eye = e(a, o.eye, this._tmpPan), o.center = e(a, o.center, this._tmpPan), this.constraintOptions.interactionDirection = this._tmpPan;\n  }\n};\nt([o({\n  constructOnly: !0\n})], c.prototype, \"momentum\", void 0), c = t([r(\"esri.views.3d.state.controllers.momentum.PanPlanarMomentumController\")], c);\nconst a = m();\nexport { c as PanPlanarMomentumController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../../chunks/tslib.es6.js\";\nimport { property as t } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as r, n as m, b as e } from \"../../../../../chunks/vec32.js\";\nimport { create as i } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { InteractionType as n } from \"../../../camera/constraintUtils/InteractionType.js\";\nimport { MomentumController as c } from \"./MomentumController.js\";\nimport { applyRotationWithTwoAxes as a } from \"../../utils/navigationUtils.js\";\nconst p = i(),\n  u = i();\nlet l = class extends c {\n  constructor(o) {\n    super(o), this.interactionType = n.PAN;\n  }\n  momentumStep(o, t) {\n    const s = this.momentum.value1(o),\n      i = this.momentum.value2(o);\n    r(u, t.eye), m(u, u), e(this.momentum.axis2, u, this.momentum.axis1), a(t, p, this.momentum.axis1, s, this.momentum.axis2, i);\n  }\n};\no([t({\n  constructOnly: !0\n})], l.prototype, \"momentum\", void 0), l = o([s(\"esri.views.3d.state.controllers.momentum.PanSphericalMomentumController\")], l);\nexport { l as PanSphericalMomentumController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport { property as o } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { clone as s } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { wrapAxisAngle as e } from \"../../../../../geometry/support/axisAngle.js\";\nimport { InteractionType as i } from \"../../../camera/constraintUtils/InteractionType.js\";\nimport { MomentumController as m } from \"./MomentumController.js\";\nimport { applyRotation as n } from \"../../utils/navigationUtils.js\";\nlet c = class extends m {\n  set center(t) {\n    this._set(\"center\", s(t));\n  }\n  set axis(t) {\n    this._set(\"axis\", s(t));\n  }\n  constructor(t) {\n    super(t), this.interactionType = i.TUMBLE;\n  }\n  momentumStep(t, o) {\n    const r = this.momentum.value(t);\n    n(o, this.center, e(this.axis, r));\n  }\n};\nt([o({\n  constructOnly: !0\n})], c.prototype, \"momentum\", void 0), t([o({\n  constructOnly: !0\n})], c.prototype, \"center\", null), t([o({\n  constructOnly: !0\n})], c.prototype, \"axis\", null), c = t([r(\"esri.views.3d.state.controllers.momentum.RotationMomentumController\")], c);\nexport { c as RotationMomentumController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport { property as o } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as e, E as s } from \"../../../../../chunks/vec32.js\";\nimport { clone as i, create as n } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { InteractionType as m } from \"../../../camera/constraintUtils/InteractionType.js\";\nimport { MomentumController as c } from \"./MomentumController.js\";\nimport { applyZoomToPoint as a } from \"../../utils/navigationUtils.js\";\nlet p = class extends c {\n  set zoomCenter(t) {\n    this._set(\"zoomCenter\", i(t));\n  }\n  constructor(t) {\n    super(t), this.interactionType = m.ZOOM, this.constraintOptions.interactionDirection = n();\n  }\n  momentumStep(t, o) {\n    const {\n      interactionDirection: r\n    } = this.constraintOptions;\n    if (!r) return;\n    e(r, o.eye);\n    const i = this.momentum.valueDelta(0, t);\n    a(o, this.zoomCenter, i, this.view.state.constraints.minimumPoiDistance), s(r, o.eye, r);\n  }\n};\nt([o({\n  constructOnly: !0\n})], p.prototype, \"momentum\", void 0), t([o({\n  constructOnly: !0\n})], p.prototype, \"zoomCenter\", null), p = t([r(\"esri.views.3d.state.controllers.momentum.ZoomPlanarMomentumController\")], p);\nexport { p as ZoomPlanarMomentumController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport { createScreenPointArray as e } from \"../../../../../core/screenUtils.js\";\nimport { property as s } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { clone as o, create as i } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as n, fromPoints as c } from \"../../../../../geometry/support/axisAngle.js\";\nimport { c as m, g as p } from \"../../../../../chunks/sphere.js\";\nimport { applyAll as a } from \"../../../camera/constraintUtils.js\";\nimport { InteractionType as h } from \"../../../camera/constraintUtils/InteractionType.js\";\nimport { MomentumController as l } from \"./MomentumController.js\";\nimport { applyZoomOnSphere as u, sphereOrPlanePointFromScreenPoint as j, applyRotation as y } from \"../../utils/navigationUtils.js\";\nlet C = class extends l {\n  set screenCenter(t) {\n    this._set(\"screenCenter\", e(t[0], t[1]));\n  }\n  set sceneCenter(t) {\n    this._set(\"sceneCenter\", o(t));\n  }\n  constructor(t) {\n    super(t), this.interactionType = h.ZOOM, this.radius = 0, this._tmpSceneCenter = i(), this._tmpZoomAxisAngle = n(), this._sphere = m();\n  }\n  initialize() {\n    this._sphere[3] = this.radius;\n  }\n  momentumStep(t, e) {\n    const s = this.momentum.valueDelta(0, t);\n    u(this._sphere, e, s), this.constraintOptions.interactionType = h.ZOOM, a(this.view, e, this.constraintOptions), j(this._sphere, e, this.screenCenter, this._tmpSceneCenter), c(this.sceneCenter, this._tmpSceneCenter, this._tmpZoomAxisAngle), y(e, p(this._sphere), this._tmpZoomAxisAngle), this.constraintOptions.interactionType = h.PAN;\n  }\n};\nt([s({\n  constructOnly: !0\n})], C.prototype, \"momentum\", void 0), t([s({\n  constructOnly: !0\n})], C.prototype, \"screenCenter\", null), t([s({\n  constructOnly: !0\n})], C.prototype, \"sceneCenter\", null), t([s({\n  constructOnly: !0\n})], C.prototype, \"radius\", void 0), C = t([r(\"esri.views.3d.state.controllers.momentum.ZoomSphericalMomentumController\")], C);\nexport { C as ZoomSphericalMomentumController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e {\n  constructor(e) {\n    this._gain = e;\n  }\n  update(e) {\n    void 0 !== this.filteredValue ? this.filteredValue = (1 - this._gain) * this.filteredValue + this._gain * e : this.filteredValue = e;\n  }\n  reset() {\n    this.filteredValue = void 0;\n  }\n  get hasFilteredValue() {\n    return void 0 !== this.filteredValue;\n  }\n}\nexport { e as FilteredValue };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as t } from \"../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { q as e, n as i, c as s } from \"../../chunks/vec32.js\";\nimport { create as a } from \"../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { rotationAngleAndAxisDirectRotation as l, rotationAnglesAndAxesHeadingPreserving as n } from \"../3d/state/utils/navigationUtils.js\";\nimport { FilteredFiniteDifference as r } from \"./FilteredFiniteDifference.js\";\nimport { FilteredValue as h } from \"./FilteredValue.js\";\nimport { Momentum as _ } from \"./Momentum.js\";\nconst m = 1e-5;\nclass u extends _ {\n  constructor(t, e, i, s, a, l = 0, n) {\n    super(t, e, i), this._angularVelocity1 = s, this.axis1 = a, this.angularVelocity2 = l, this.axis2 = n;\n  }\n  value1(t) {\n    return super.valueFromInitialVelocity(this._angularVelocity1, t);\n  }\n  value2(t) {\n    return super.valueFromInitialVelocity(this.angularVelocity2, t);\n  }\n}\nclass o {\n  constructor(e = 300, i = 12, s = .84) {\n    this._minimumInitialVelocity = e, this._stopVelocity = i, this._friction = s, this.enabled = !0, this._tmpAxis1 = a(), this._tmpAxis2 = a(), this._tmpAngles = t(), this._time = new r(.3), this._screen = [new r(.4), new r(.4)], this._angle1 = new h(.6), this._angle2 = new h(.6), this._axis1 = a(), this._axis2 = a(), this._lastScene = a();\n  }\n  addMomentumDirectRotation(t, a, n, r, h, _) {\n    if (this.enabled) {\n      if (this._time.hasLastValue()) {\n        if (this._time.computeDelta(n) < .01) return;\n        let t = l(this._lastScene, a, this._tmpAxis2, r, h, _);\n        this._angle2.update(0), e(this._tmpAxis2) < m ? t = 0 : i(this._axis1, this._tmpAxis2), this._angle1.update(t), s(this._lastScene, a);\n      }\n      this._screen[0].update(t[0]), this._screen[1].update(t[1]), this._time.update(n);\n    }\n  }\n  addMomentumPreserveHeading(t, a, l, r, h, _, u) {\n    if (this.enabled) {\n      if (this._time.hasLastValue()) {\n        if (this._time.computeDelta(l) < .01) return;\n        n(this._lastScene, a, this._tmpAxis2, this._tmpAxis1, this._tmpAngles, r, h, _, u, !1), e(this._tmpAxis2) < m ? (this._angle1.update(0), this._angle2.update(0)) : (this._angle1.update(this._tmpAngles[1]), this._angle2.update(this._tmpAngles[0]), i(this._axis1, this._tmpAxis1), i(this._axis2, this._tmpAxis2)), s(this._lastScene, a);\n      }\n      this._screen[0].update(t[0]), this._screen[1].update(t[1]), this._time.update(l);\n    }\n  }\n  reset() {\n    this._screen[0].reset(), this._screen[1].reset(), this._angle1.reset(), this._angle2.reset(), this._time.reset();\n  }\n  evaluateMomentum() {\n    if (!this.enabled || !this._screen[0].hasFilteredDelta()) return null;\n    const t = this._screen[0].filteredDelta,\n      e = this._screen[1].filteredDelta,\n      i = null == t || null == e ? null : Math.sqrt(t * t + e * e),\n      s = this._time.filteredDelta,\n      a = null == i || null == s ? 0 : i / s;\n    return Math.abs(a) < this._minimumInitialVelocity ? null : this.createMomentum(a, this._stopVelocity, this._friction);\n  }\n  createMomentum(t, e, i) {\n    const s = this._time.filteredDelta,\n      a = this._angle1.filteredValue,\n      l = this._angle2.filteredValue,\n      n = null == s || null == l ? 0 : l / s;\n    return new u(t, e, i, null == s || null == a ? 0 : a / s, this._axis1, n, this._axis2);\n  }\n}\nexport { u as PanSphericalMomentum, o as PanSphericalMomentumEstimator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { cyclicalPI as i } from \"../../../../core/Cyclical.js\";\nimport { deg2rad as e } from \"../../../../core/mathUtils.js\";\nimport { createScreenPointArray as n, screenPointObjectToArray as s, createRenderScreenPointArray3 as o } from \"../../../../core/screenUtils.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport \"../../../../core/Error.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { copy as a, distance as m } from \"../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { c as h, k as c, l as _, f as p, n as l, g as u, j as d, m as g } from \"../../../../chunks/vec32.js\";\nimport { create as P } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as v } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { wrapAxisAngle as C } from \"../../../../geometry/support/axisAngle.js\";\nimport { create as M, fromPositionAndNormal as w, getNormal as S } from \"../../../../geometry/support/plane.js\";\nimport { c as b, g as f } from \"../../../../chunks/sphere.js\";\nimport { pixelDistanceToInteractionFactor as j, applyAll as E } from \"../../camera/constraintUtils.js\";\nimport { ConstraintOptions as O } from \"../../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as y } from \"../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as A } from \"../../camera/constraintUtils/InteractionType.js\";\nimport { ExponentialFalloff as R } from \"../../input/util.js\";\nimport { InteractiveController as z } from \"./InteractiveController.js\";\nimport { PanPlanarMomentumController as k } from \"./momentum/PanPlanarMomentumController.js\";\nimport { PanSphericalMomentumController as x } from \"./momentum/PanSphericalMomentumController.js\";\nimport { RotationMomentumController as H } from \"./momentum/RotationMomentumController.js\";\nimport { ZoomPlanarMomentumController as F } from \"./momentum/ZoomPlanarMomentumController.js\";\nimport { ZoomSphericalMomentumController as T } from \"./momentum/ZoomSphericalMomentumController.js\";\nimport { NavigationMode as U, pickPointAndInitSphere as D, contentIntersectorOptions as I, SpherePickPointFallback as L, navigationMode as G, sphereOrPlanePointFromScreenPoint as Z, panDistanceModifier as N, minHeightLimit as B, screenPixelArea as V, intersectPlaneFromScreenPointAtEye as q, applyZoomOnSphere as J, preserveHeadingThreshold as K, applyPanSphericalPreserveHeading as Q, applyPanSphericalDirectRotation as W, normalizeRotationDelta as X, applyRotation as Y, applyPanPlanar as $, applyZoomToPoint as tt } from \"../utils/navigationUtils.js\";\nimport it from \"../../webgl/RenderCamera.js\";\nimport { PanPlanarMomentumEstimator as et } from \"../../../navigation/PanPlanarMomentumEstimator.js\";\nimport { PanSphericalMomentumEstimator as nt } from \"../../../navigation/PanSphericalMomentumEstimator.js\";\nimport { RotationMomentumEstimator as st } from \"../../../navigation/RotationMomentumEstimator.js\";\nimport { ZoomMomentumEstimator as ot } from \"../../../navigation/ZoomMomentumEstimator.js\";\nlet rt = class extends z {\n  constructor() {\n    super(...arguments), this._smoothRotation = new R(.05), this._rotationAxis = P(), this._beginAngle = 0, this._beginHeading = 0, this._panningPlane = M(), this._beginRadius = 0, this._smoothScaling = new R(.05), this._zoomCenterScreen = n(), this._zoomMomentumEstimator = new ot(), this._rotationMomentumEstimator = new st(), this._panSphericalMomentumEstimator = new nt(), this._panPlanarMomentumEstimator = new et(), this._adjustedSphere = b(), this._tmp3d = P(), this._tmpScreenPointArray = n(), this._beginScreenPoint = n(), this._beginScenePoint = P(), this._screenPickPoint = n(), this._scenePickPoint = P(), this._navMode = U.Horizontal, this._sphere = b(), this._pointerCount = 0, this._tmpInteractionDirection = P(), this._beginCamera = new it(), this._constraintOptions = new O(y.ALL, A.NONE, 0, this._beginCamera);\n  }\n  get _intersectionHelper() {\n    return this.view.sceneIntersectionHelper;\n  }\n  begin(t) {\n    if (!this.active) return;\n    this._zoomMomentumEstimator.enabled = this._rotationMomentumEstimator.enabled = this._panPlanarMomentumEstimator.enabled = this._panSphericalMomentumEstimator.enabled = this.view.navigation.momentumEnabled, this._beginHeading = -i.normalize(e(this.view.camera.heading)), this._beginRadius = t.radius, this._pointerCount = t.pointers.size, this._beginAngle = t.angle, this._smoothRotation.reset(), s(t.center, this._screenPickPoint), a(this._beginScreenPoint, this._screenPickPoint);\n    const n = v(this.view.spatialReference),\n      o = D(this._intersectionHelper, this.startCamera, this._screenPickPoint, n, L.Silhouette, 0 === this.view.map.ground.opacity ? I : {});\n    null != o.scenePickPoint && (this._scenePickPoint = o.scenePickPoint, this._sphere = o.sphere, h(this._beginScenePoint, this._scenePickPoint), this._navMode = G(this.startCamera, this._screenPickPoint, this.view.renderCoordsHelper, this.view.viewingMode), this._navMode === U.Vertical && this._preparePlanarPanMode(t, o.hasGeometryIntersection), this._beginCamera.copyFrom(this.startCamera));\n  }\n  update(t) {\n    if (!this.active) return;\n    this.currentCamera.copyFrom(this.startCamera);\n    const i = t.pointers.size > 1;\n    this._navMode === U.Horizontal ? (i && this._zoomSpherical(t), this._panningSpherical(t), i && this._rotateSpherical(t)) : (i && this._zoomPlanar(t), this._panningPlanar(t), i && this._rotatePlanar(t)), this.commitCamera();\n  }\n  end(t) {\n    t.pointers.size === this._pointerCount && this.update(t), this.finishController();\n    const i = this._zoomMomentumEstimator.evaluateMomentum();\n    if (i) return this._navMode === U.Horizontal ? new T({\n      view: this.view,\n      momentum: i,\n      screenCenter: this._zoomCenterScreen,\n      sceneCenter: this._beginScenePoint,\n      radius: this._sphere[3]\n    }) : new F({\n      view: this.view,\n      momentum: i,\n      zoomCenter: this._beginScenePoint\n    });\n    const e = this._rotationMomentumEstimator.evaluateMomentum();\n    if (e) return new H({\n      view: this.view,\n      momentum: e,\n      center: f(this._sphere),\n      axis: this._rotationAxis\n    });\n    if (this._navMode === U.Horizontal) {\n      const t = this._panSphericalMomentumEstimator.evaluateMomentum();\n      if (t) return new x({\n        view: this.view,\n        momentum: t\n      });\n    } else {\n      const t = this._panPlanarMomentumEstimator.evaluateMomentum();\n      if (t) return new k({\n        view: this.view,\n        momentum: t\n      });\n    }\n    return null;\n  }\n  _preparePlanarPanMode(t, i) {\n    const e = c(this._tmp3d, this.startCamera.viewForward);\n    w(this._scenePickPoint, e, this._panningPlane);\n    const r = n(this._screenPickPoint[0], 0),\n      a = P(),\n      m = _(this.startCamera.eye);\n    this._adjustedSphere[3] = m < this._sphere[3] ? m - 100 : this._sphere[3], Z(this._adjustedSphere, this.startCamera, r, a);\n    const v = o();\n    this.startCamera.projectToRenderScreen(a, v);\n    const C = P(),\n      M = P(),\n      b = P();\n    p(C, this._scenePickPoint, this.currentCamera.eye);\n    const f = _(C);\n    l(C, C);\n    const j = N * Math.max(Math.abs(this.view.camera.position.z), B),\n      E = this.view._stage.renderView.getMinimalDepthForArea(null, this._screenPickPoint[0], this._screenPickPoint[1], this.view.state.camera, V);\n    let O = null != E ? E : j;\n    O = i ? Math.min(O, f) : O, h(b, u(M, this.currentCamera.eye, d(M, C, O))), this._panningPlane[3] = -g(S(this._panningPlane), b), this.startCamera.center = u(M, this.startCamera.eye, d(M, this.startCamera.viewForward, O));\n    const y = s(t.center, this._tmpScreenPointArray);\n    q(this._panningPlane, this.startCamera, y, this._beginScenePoint);\n  }\n  _zoomSpherical(t) {\n    const i = this._beginRadius / t.radius,\n      e = .001875 * Math.min(Math.max(t.radius, 40), 120);\n    this._smoothScaling.gain = e, this._smoothScaling.update(i), J(this._sphere, this.currentCamera, this._smoothScaling.value), s(t.center, this._zoomCenterScreen), this._zoomMomentumEstimator.add(this._smoothScaling.value, .001 * t.timestamp), this._constraintOptions.interactionType = A.ZOOM, this._constraintOptions.interactionFactor = j(t.radius - this._beginRadius), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n  _panningSpherical(t) {\n    const i = s(t.center, this._tmpScreenPointArray);\n    Z(this._sphere, this.currentCamera, i, this._tmp3d), K(this._beginScenePoint, g(this.currentCamera.up, this._beginScenePoint), this._sphere[3], this._beginHeading, this.view.camera.tilt, this.startCamera) ? (Q(this._sphere, this.currentCamera, this._beginScenePoint, this._tmp3d, this._beginHeading, this.view.camera.tilt, !1), this._panSphericalMomentumEstimator.addMomentumPreserveHeading(i, this._tmp3d, .001 * t.timestamp, this.startCamera, this._sphere, this._beginHeading, this.view.camera.tilt)) : (W(this._sphere, this.currentCamera, this._beginScenePoint, this._tmp3d, this.view.camera.tilt, !1), this._panSphericalMomentumEstimator.addMomentumDirectRotation(i, this._tmp3d, .001 * t.timestamp, this.startCamera, this._sphere[3], this.view.camera.tilt)), this._constraintOptions.interactionType = A.PAN, this._constraintOptions.interactionFactor = j(m(this._screenPickPoint, i)), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n  _rotateSpherical(t) {\n    l(this._rotationAxis, this._scenePickPoint), this.currentCamera.aboveGround || c(this._rotationAxis, this._rotationAxis);\n    const i = this._smoothRotation.value,\n      e = i + X(t.angle - i),\n      n = .00125 * Math.min(Math.max(t.radius, 40), 120);\n    this._smoothRotation.gain = n, this._smoothRotation.update(e);\n    const s = this._smoothRotation.value - this._beginAngle;\n    this._rotationMomentumEstimator.add(s, .001 * t.timestamp), Y(this.currentCamera, f(this._sphere), C(this._rotationAxis, s)), this._constraintOptions.interactionType = A.TUMBLE, this._constraintOptions.interactionFactor = j(t.radius * e), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n  _panningPlanar(t) {\n    const i = s(t.center, this._tmpScreenPointArray);\n    q(this._panningPlane, this.currentCamera, i, this._tmp3d) && ($(this.currentCamera, this._beginScenePoint, this._tmp3d), this._panPlanarMomentumEstimator.add(i, this._tmp3d, .001 * t.timestamp), this._constraintOptions.interactionType = A.PAN, this._constraintOptions.interactionFactor = j(m(this._beginScreenPoint, i)), this._constraintOptions.interactionDirection = this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye, this._tmpInteractionDirection), E(this.view, this.currentCamera, this._constraintOptions), this._constraintOptions.interactionDirection = null);\n  }\n  _zoomPlanar(t) {\n    const i = this._beginRadius / t.radius,\n      e = .001875 * Math.min(Math.max(t.radius, 40), 120);\n    this._smoothScaling.gain = e, this._smoothScaling.update(i), this._zoomMomentumEstimator.add(this._smoothScaling.value, .001 * t.timestamp), tt(this.currentCamera, this._beginScenePoint, this._smoothScaling.value, this.view.state.constraints.minimumPoiDistance), this._constraintOptions.interactionType = A.ZOOM, this._constraintOptions.interactionFactor = j(t.radius - this._beginRadius), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n  _rotatePlanar(t) {\n    h(this._rotationAxis, this._beginScenePoint), this.currentCamera.aboveGround || c(this._rotationAxis, this._rotationAxis);\n    const i = this._smoothRotation.value;\n    let e = t.angle - i;\n    e = X(e);\n    const n = i + e,\n      s = .00125 * Math.min(Math.max(t.radius, 40), 120);\n    this._smoothRotation.gain = s, this._smoothRotation.update(n);\n    const o = this._smoothRotation.value - this._beginAngle;\n    this._rotationMomentumEstimator.add(o, .001 * t.timestamp), Y(this.currentCamera, f(this._sphere), C(this._rotationAxis, o)), this._constraintOptions.interactionType = A.TUMBLE, this._constraintOptions.interactionFactor = j(t.radius * o), E(this.view, this.currentCamera, this._constraintOptions);\n  }\n};\nrt = t([r(\"esri.views.3d.state.controllers.PinchAndPanControllerGlobal\")], rt);\nexport { rt as PinchAndPanControllerGlobal };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { createScreenPointArray as i, screenPointObjectToArray as e } from \"../../../../core/screenUtils.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport \"../../../../core/Error.js\";\nimport { subclass as n } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { distance as s } from \"../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { k as o, c as r, m as a, f as m, l as h, n as l, j as c, g as p } from \"../../../../chunks/vec32.js\";\nimport { create as _, fromValues as u } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { wrapAxisAngle as d } from \"../../../../geometry/support/axisAngle.js\";\nimport { create as C, fromNormalAndOffset as g, setOffsetFromPoint as v, negate as M, getNormal as b } from \"../../../../geometry/support/plane.js\";\nimport { pixelDistanceToInteractionFactor as w, applyAll as f } from \"../../camera/constraintUtils.js\";\nimport { ConstraintOptions as j } from \"../../camera/constraintUtils/ConstraintOptions.js\";\nimport { ConstraintTypes as P } from \"../../camera/constraintUtils/ConstraintTypes.js\";\nimport { InteractionType as V } from \"../../camera/constraintUtils/InteractionType.js\";\nimport { ExponentialFalloff as z } from \"../../input/util.js\";\nimport { getVoxelWasm as S } from \"../../layers/VoxelWasm.js\";\nimport { InteractiveController as E } from \"./InteractiveController.js\";\nimport { PanPlanarMomentumController as H } from \"./momentum/PanPlanarMomentumController.js\";\nimport { RotationMomentumController as y } from \"./momentum/RotationMomentumController.js\";\nimport { ZoomPlanarMomentumController as O } from \"./momentum/ZoomPlanarMomentumController.js\";\nimport { NavigationMode as x, contentIntersectorOptions as F, navigationMode as A, panDistanceModifier as R, minHeightLimit as U, screenPixelArea as L, centroid as T, applyZoomToPoint as k, applyPanPlanar as I, normalizeRotationDelta as N, applyRotation as Z, intersectPlaneFromScreenPointAtEye as D } from \"../utils/navigationUtils.js\";\nimport G from \"../../webgl/RenderCamera.js\";\nimport { PanPlanarMomentumEstimator as B } from \"../../../navigation/PanPlanarMomentumEstimator.js\";\nimport { RotationMomentumEstimator as W } from \"../../../navigation/RotationMomentumEstimator.js\";\nimport { ZoomMomentumEstimator as q } from \"../../../navigation/ZoomMomentumEstimator.js\";\nconst J = u(0, 0, 1);\nlet K = class extends E {\n  constructor() {\n    super(...arguments), this._rotationValueSmooth = new z(.05), this._scalingValueSmooth = new z(.05), this._planeHorizontal = C(), this._planeVertical = C(), this._rotationMomentumEstimator = new W(), this._panMomentumEstimator = new B(300, 12, .9), this._zoomMomentumEstimator = new q(), this._beginRadius = 0, this._beginCenter = _(), this._beginAngle = 0, this._tmpPoints = [], this._navMode = x.Horizontal, this._beginCenterScreen = i(), this._tmpCentroid3d = _(), this._tmpCentroid2d = i(), this._tmp2d = i(), this._pointerCount = 0, this._beginCamera = new G(), this._constraintOptions = new j(P.ALL, V.NONE, 0, this._beginCamera);\n  }\n  begin(t) {\n    if (!this.active) return;\n    const i = this.view.navigation.momentumEnabled;\n    this._zoomMomentumEstimator.enabled = i, this._rotationMomentumEstimator.enabled = i, this._panMomentumEstimator.enabled = i, this._beginRadius = t.radius, this._pointerCount = t.pointers.size, this._beginAngle = t.angle, this._rotationValueSmooth.reset(), this._scalingValueSmooth.reset(), e(t.center, this._beginCenterScreen), g(J, 0, this._planeHorizontal);\n    const n = _(),\n      s = this._intersectionHelper.intersectScreenFreePointFallback(this._beginCenterScreen, n, 0 === this.view.map.ground.opacity ? F : {}),\n      u = _();\n    o(u, this.startCamera.viewForward);\n    const d = _();\n    r(d, J);\n    const C = a(u, d);\n    this._navMode = A(this.startCamera, this._beginCenterScreen, this.view.renderCoordsHelper, this.view.viewingMode);\n    const w = Math.min(R, 1 / Math.abs(a(d, this.startCamera.viewForward))) * Math.max(Math.abs(this.view.camera.position.z), U);\n    v(this._planeHorizontal, this._planeHorizontal, n), this.startCamera.aboveGround || M(this._planeHorizontal, this._planeHorizontal);\n    const f = _(),\n      j = _(),\n      P = _();\n    m(f, n, this.currentCamera.eye);\n    const V = h(f);\n    if (l(f, f), this._navMode === x.Vertical) {\n      c(d, d, C), m(b(this._planeVertical), u, d), l(b(this._planeVertical), b(this._planeVertical)), v(this._planeVertical, this._planeVertical, n);\n      const i = this.view._stage.renderView.getMinimalDepthForArea(S(this.view), this._beginCenterScreen[0], this._beginCenterScreen[1], this.view.state.camera, L);\n      let e = null != i ? i : w;\n      e = s ? Math.min(e, V) : e, r(P, p(j, this.currentCamera.eye, c(j, f, e))), this._planeVertical[3] = -a(b(this._planeVertical), P), this._computePlanePoints(t.pointers, this._planeVertical, this.startCamera, this._tmpPoints), T(this._tmpPoints, this._beginCenter);\n    } else {\n      const i = s ? V : w;\n      r(P, p(j, this.currentCamera.eye, c(j, f, i))), this._planeHorizontal[3] = -a(b(this._planeHorizontal), P), this._computePlanePoints(t.pointers, this._planeHorizontal, this.startCamera, this._tmpPoints), T(this._tmpPoints, this._beginCenter);\n    }\n    this._beginCamera.copyFrom(this.startCamera);\n  }\n  update(t) {\n    if (!this.active) return;\n    this.currentCamera.copyFrom(this.startCamera);\n    const i = t.pointers.size > 1,\n      n = this._navMode === x.Horizontal ? this._planeHorizontal : this._planeVertical,\n      o = this._beginCenter;\n    if (i) {\n      const i = this._beginRadius / t.radius,\n        e = .001875 * Math.min(Math.max(t.radius, 40), 120);\n      this._scalingValueSmooth.gain = e, this._scalingValueSmooth.update(i), k(this.currentCamera, o, this._scalingValueSmooth.value, this.view.state.constraints.minimumPoiDistance), this._zoomMomentumEstimator.add(this._scalingValueSmooth.value, .001 * t.timestamp), this._constraintOptions.interactionType = V.ZOOM, this._constraintOptions.interactionFactor = w(Math.abs(t.radius - this._beginRadius)), f(this.view, this.currentCamera, this._constraintOptions);\n    }\n    if (this._computePlanePoints(t.pointers, n, this.currentCamera, this._tmpPoints), T(this._tmpPoints, this._tmpCentroid3d), e(t.center, this._tmpCentroid2d), I(this.currentCamera, o, this._tmpCentroid3d), this._panMomentumEstimator.add(this._tmpCentroid2d, this._tmpCentroid3d, .001 * t.timestamp), this._constraintOptions.interactionType = V.PAN, this._constraintOptions.interactionFactor = w(s(this._beginCenterScreen, this._tmpCentroid2d)), f(this.view, this.currentCamera, this._constraintOptions), i) {\n      const i = o,\n        e = this._rotationValueSmooth.value,\n        n = e + N(t.angle - e),\n        s = .00125 * Math.min(Math.max(t.radius, 40), 120);\n      this._rotationValueSmooth.gain = s, this._rotationValueSmooth.update(n);\n      const r = this._rotationValueSmooth.value - this._beginAngle;\n      this._rotationMomentumEstimator.add(r, .001 * t.timestamp);\n      const a = b(this._planeHorizontal);\n      Z(this.currentCamera, i, d(a, r)), this._constraintOptions.interactionType = V.TUMBLE, this._constraintOptions.interactionFactor = w(Math.abs(t.radius * r)), f(this.view, this.currentCamera, this._constraintOptions);\n    }\n    this.commitCamera();\n  }\n  end(t) {\n    t.pointers.size === this._pointerCount && this.update(t), this.finishController();\n    const i = this._zoomMomentumEstimator.evaluateMomentum();\n    if (i) return new O({\n      view: this.view,\n      momentum: i,\n      zoomCenter: this._beginCenter\n    });\n    const e = this._rotationMomentumEstimator.evaluateMomentum();\n    if (e) return new y({\n      view: this.view,\n      momentum: e,\n      center: this._beginCenter,\n      axis: b(this._planeHorizontal)\n    });\n    const n = this._panMomentumEstimator.evaluateMomentum();\n    return n ? new H({\n      view: this.view,\n      momentum: n\n    }) : null;\n  }\n  _computePlanePoints(t, i, e, n) {\n    n.length = t.size;\n    const s = this._tmp2d;\n    let o = 0;\n    return t.forEach(t => {\n      s[0] = t.x, s[1] = t.y, void 0 === n[o] && (n[o] = _()), D(i, e, s, n[o]), o += 1;\n    }), n;\n  }\n  get _intersectionHelper() {\n    return this.view.sceneIntersectionHelper;\n  }\n};\nK = t([n(\"esri.views.3d.state.controllers.PinchAndPanControllerLocal\")], K);\nexport { K as PinchAndPanControllerLocal };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { PinchAndPanControllerGlobal as t } from \"../../state/controllers/PinchAndPanControllerGlobal.js\";\nimport { PinchAndPanControllerLocal as e } from \"../../state/controllers/PinchAndPanControllerLocal.js\";\nimport { InputHandler as s } from \"../../../input/InputHandler.js\";\nimport { eventMatchesMousePointerAction as r } from \"../../../input/handlers/support.js\";\nclass i extends s {\n  constructor(t, e, s) {\n    super(!0), this._view = t, this.pointerAction = e, this._lastEndTimestamp = 0, this._lastTimestamp = 0, this.registerIncoming(\"drag\", s, t => this._handleDrag(t));\n  }\n  _handleDrag(t) {\n    if (\"mouse\" === t.data.pointerType && !r(t.data, this.pointerAction)) return;\n    const e = t.timestamp - this._lastEndTimestamp,\n      s = 40,\n      i = this._momentum && this._momentum.active && e < s;\n    switch (t.data.action) {\n      case \"start\":\n      case \"update\":\n        if (i) break;\n        this._controller && this._controller.active ? t.data.timestamp - this._lastTimestamp > 2 && (this._controller.update(t.data), this._lastTimestamp = t.timestamp) : this._startController(t);\n        break;\n      case \"end\":\n      case \"removed\":\n        this._endController(t, !0);\n        break;\n      case \"added\":\n        this._endController(t, !1), this._startController(t);\n    }\n    t.stopPropagation();\n  }\n  _endController(t, e) {\n    if (this._controller?.active) {\n      this._lastEndTimestamp = t.timestamp;\n      const s = this._controller.end(t.data);\n      e && s && (this._momentum = s, this._view.state.switchCameraController(this._momentum));\n    }\n    this._controller = null;\n  }\n  _startController(t) {\n    this._controller = this._createController(), this._view.state.switchCameraController(this._controller), this._controller.begin(t.data), this._lastTimestamp = t.timestamp;\n  }\n  _createController() {\n    return this._view.state.isGlobal ? new t({\n      view: this._view\n    }) : new e({\n      view: this._view\n    });\n  }\n}\nexport { i as PinchAndPanNavigation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { InputHandler as t } from \"../../../input/InputHandler.js\";\nclass e extends t {\n  constructor(t, e) {\n    super(!0), this.view = t, this.registerIncoming(\"pointer-down\", e, () => this.view.state.stopActiveCameraController());\n  }\n}\nexport { e as PointerDownCancelAnimation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { InputHandler as t } from \"../../../input/InputHandler.js\";\nclass e extends t {\n  constructor(t, e) {\n    super(!0), this.key = t, this.registerIncoming(\"key-down\", e, t => this._handleKeyDown(t));\n  }\n  _handleKeyDown(t) {\n    t.data.key === this.key && (this.activate(), t.stopPropagation());\n  }\n}\nexport { e as SingleKey };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { SingleKey as e } from \"./SingleKey.js\";\nclass t extends e {\n  constructor(e, t, i) {\n    super(t, i), this.view = e;\n  }\n  activate() {\n    this.view.goTo({\n      heading: 0\n    }).catch(() => {});\n  }\n}\nexport { t as SingleKeyResetHeading };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { SingleKey as t } from \"./SingleKey.js\";\nclass e extends t {\n  constructor(t, e, i) {\n    super(e, i), this.view = t;\n  }\n  activate() {\n    this.view.goTo({\n      tilt: 0\n    }).catch(() => {});\n  }\n}\nexport { e as SingleKeyResetTilt };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createScreenPointArray as e } from \"../../../../core/screenUtils.js\";\nimport { RotateController as t, PivotPoint as r } from \"../../state/controllers/RotateController.js\";\nimport { InputHandler as a } from \"../../../input/InputHandler.js\";\nclass o extends a {\n  constructor(e, t = !1) {\n    super(!0), this._view = e, this._invert = t, this.registerIncoming(\"vertical-two-finger-drag\", e => this._handleTwoFinger(e));\n  }\n  _handleTwoFinger(a) {\n    const o = this._invert ? -1 : 1,\n      i = e(0, a.data.delta * o);\n    switch (a.data.action) {\n      case \"begin\":\n        this._cameraController?.end(), this._cameraController = new t({\n          view: this._view,\n          pivot: r.CENTER\n        }), this._view.state.switchCameraController(this._cameraController), this._cameraController.begin(i);\n        break;\n      case \"update\":\n        this._cameraController?.update(i);\n        break;\n      case \"end\":\n        this._cameraController?.end(), this._cameraController = null;\n    }\n  }\n}\nexport { o as TwoFingerTilt };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { DragEventSeparator as t } from \"../DragEventSeparator.js\";\nimport { InputHandler as e } from \"../InputHandler.js\";\nclass a extends e {\n  constructor(e = 20, a = 40) {\n    super(!1), this._threshold = e, this._maxDelta = a, this._state = \"ready\", this._emittedArtificalEnd2 = !1, this._vertical = this.registerOutgoing(\"vertical-two-finger-drag\"), this._artificalDrag = this.registerOutgoing(\"drag\"), this._dragEventSeparator = new t({\n      start: (t, e) => this._observeStart(t, e),\n      update: (t, e, a) => this._observeUpdate(t, e, a),\n      end: (t, e) => this._observeEnd(e)\n    }), this.registerIncoming(\"drag\", t => this._dragEventSeparator.handle(t));\n  }\n  get failed() {\n    return \"failed\" === this._state;\n  }\n  _observeStart(t, e) {\n    1 === t && this._emittedArtificalEnd2 && (this._emittedArtificalEnd2 = !1, this._artificalDrag.emit({\n      action: \"start\",\n      button: e.data.button,\n      buttons: e.data.buttons,\n      pointerType: e.data.pointerType,\n      timestamp: e.data.timestamp,\n      pointers: e.data.pointers,\n      pointer: e.data.pointer,\n      angle: e.data.angle,\n      radius: e.data.radius,\n      center: e.data.center\n    }), e.stopPropagation()), this._state = 2 === t ? \"ready\" : \"failed\";\n  }\n  _observeUpdate(t, e, a) {\n    if (\"failed\" !== this._state && 2 === t) return \"active\" === this._state ? (this._vertical.emit({\n      delta: e.data.center.y - this._thresholdReachedCenter.y,\n      action: \"update\"\n    }), void e.stopPropagation()) : void (this._checkMovementWithinLimits(e.data, a.data) ? this._checkVerticalThresholdReached(e.data, a.data) && (this._state = \"active\", this._emittedArtificalEnd2 = !0, this._thresholdReachedCenter = e.data.center, this._artificalDrag.emit({\n      action: \"end\",\n      button: e.data.button,\n      buttons: e.data.buttons,\n      pointerType: e.data.pointerType,\n      timestamp: e.data.timestamp,\n      pointers: e.data.pointers,\n      pointer: e.data.pointer,\n      angle: e.data.angle,\n      radius: e.data.radius,\n      center: e.data.center\n    }), this._vertical.emit({\n      delta: e.data.center.y - this._thresholdReachedCenter.y,\n      action: \"begin\"\n    }), e.stopPropagation()) : this._state = \"failed\");\n  }\n  _observeEnd(t) {\n    \"active\" === this._state && (this._vertical.emit({\n      delta: t.data.center.y - this._thresholdReachedCenter.y,\n      action: \"end\"\n    }), this._state = \"ready\", t.stopPropagation());\n  }\n  _checkMovementWithinLimits(t, e) {\n    let a = -1 / 0,\n      i = 1 / 0,\n      r = -1 / 0,\n      s = 1 / 0;\n    for (const {\n      x: m,\n      y: g\n    } of e.pointers.values()) a = Math.max(a, m), i = Math.min(i, m), r = Math.max(r, g), s = Math.min(s, g);\n    let n = -1 / 0,\n      h = 1 / 0,\n      d = -1 / 0,\n      o = 1 / 0;\n    for (const {\n      x: m,\n      y: g\n    } of t.pointers.values()) n = Math.max(n, m), h = Math.min(h, m), d = Math.max(d, g), o = Math.min(o, g);\n    const c = a - i,\n      l = r - s,\n      p = n - h,\n      _ = d - o;\n    return Math.abs(t.center.x - e.center.x) < this._threshold && Math.abs(p - c) <= this._maxDelta && Math.abs(_ - l) <= this._maxDelta;\n  }\n  _checkVerticalThresholdReached(t, e) {\n    let a = Math.abs(t.center.y - e.center.y);\n    return t.pointers.forEach((t, i) => {\n      const r = e.pointers.get(i);\n      a = Math.min(a, Math.abs(t.y - r.y));\n    }), a >= this._threshold;\n  }\n}\nexport { a as VerticalTwoFingerDrag };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport e from \"../../../core/Accessor.js\";\nimport \"../../../core/has.js\";\nimport { destroyMaybe as r } from \"../../../core/maybe.js\";\nimport { watch as o, initial as n } from \"../../../core/reactiveUtils.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { DoubleClickZoom as s } from \"./handlers/DoubleClickZoom.js\";\nimport { DragRotate as p } from \"./handlers/DragRotate.js\";\nimport { DragZoom as m } from \"./handlers/DragZoom.js\";\nimport { GamepadNavigation as d } from \"./handlers/GamepadNavigation.js\";\nimport { KeyboardNavigation as c } from \"./handlers/KeyboardNavigation.js\";\nimport { MouseWheelZoom as l } from \"./handlers/MouseWheelZoom.js\";\nimport { PinchAndPanNavigation as g } from \"./handlers/PinchAndPanNavigation.js\";\nimport { PointerDownCancelAnimation as u } from \"./handlers/PointerDownCancelAnimation.js\";\nimport { SingleKeyResetHeading as h } from \"./handlers/SingleKeyResetHeading.js\";\nimport { SingleKeyResetTilt as w } from \"./handlers/SingleKeyResetTilt.js\";\nimport { TwoFingerTilt as y } from \"./handlers/TwoFingerTilt.js\";\nimport { BrowserEventSource as f } from \"../../input/BrowserEventSource.js\";\nimport { InputManager as _, ViewEventPriorities as D } from \"../../input/InputManager.js\";\nimport { PreventContextMenu as j } from \"../../input/handlers/PreventContextMenu.js\";\nimport { Drag as v } from \"../../input/recognizers/Drag.js\";\nimport { ImmediateDoubleClick as A } from \"../../input/recognizers/ImmediateDoubleClick.js\";\nimport { PointerClickHoldAndDrag as M } from \"../../input/recognizers/PointerClickHoldAndDrag.js\";\nimport { SingleAndDoubleClick as T } from \"../../input/recognizers/SingleAndDoubleClick.js\";\nimport { VerticalTwoFingerDrag as P } from \"../../input/recognizers/VerticalTwoFingerDrag.js\";\nimport { PivotPoint as R } from \"../state/controllers/RotateController.js\";\nlet b = class extends e {\n  destroy() {\n    this.disconnect();\n  }\n  get primaryDragAction() {\n    return this._get(\"primaryDragAction\");\n  }\n  set primaryDragAction(t) {\n    \"pan\" !== t && \"rotate\" !== t || t === this._get(\"primaryDragAction\") || (this._set(\"primaryDragAction\", t), this._updateMode());\n  }\n  get mode() {\n    return this._get(\"mode\");\n  }\n  set mode(t) {\n    \"default\" !== t && \"pro\" !== t || t === this._get(\"mode\") || (this._set(\"mode\", t), this._updateMode());\n  }\n  get updating() {\n    return !!this._inputManager?.updating;\n  }\n  get latestPointerType() {\n    return this._inputManager?.latestPointerType;\n  }\n  get latestPointerLocation() {\n    return this._inputManager?.latestPointerLocation;\n  }\n  get multiTouchActive() {\n    return this._inputManager?.multiTouchActive ?? !1;\n  }\n  disconnect() {\n    this.view.viewEvents.disconnect(), this._inputManager = r(this._inputManager);\n  }\n  connect() {\n    const t = this.view;\n    this._source = new f(this.view.surface, t.input);\n    const e = [new A(), new M(), new T(), new v(this.view.navigation), new P()],\n      r = new _({\n        eventSource: this._source,\n        recognizers: e\n      });\n    this._inputManager = r, r.installHandlers(\"prevent-context-menu\", [new j()], D.INTERNAL), this._modeDragPan = new g(t, \"primary\"), this._modeDragRotate = new p(t, \"secondary\", R.CENTER), this._modeDragZoom = new m(t, \"tertiary\");\n    const i = {\n      lookAround: \"b\",\n      pan: {\n        left: \"ArrowLeft\",\n        right: \"ArrowRight\",\n        forward: \"ArrowUp\",\n        backward: \"ArrowDown\",\n        up: \"u\",\n        down: \"j\",\n        headingLeft: \"a\",\n        headingRight: \"d\",\n        tiltUp: \"w\",\n        tiltDown: \"s\",\n        zoomIn: \"+\",\n        zoomOut: \"-\"\n      },\n      resetHeading: \"n\",\n      resetTilt: \"p\"\n    };\n    r.installHandlers(\"navigation\", [new u(t), new s(t), new d(t), new c(t, i.pan), new l(t), new w(t, i.resetTilt), new h(t, i.resetHeading), new p(t, \"primary\", R.EYE, [i.lookAround]), new p(t, \"secondary\", R.CENTER, [i.lookAround]), new g(t, \"tertiary\", [i.lookAround]), this._modeDragRotate, this._modeDragZoom, this._modeDragPan, new y(t)], D.INTERNAL), this.view.viewEvents.connect(r), this._updateMode(), this.addHandles(o(() => this.view.navigation?.browserTouchPanEnabled, t => {\n      this._source.browserTouchPanningEnabled = !t;\n    }, n));\n  }\n  isModifierKeyDown(t) {\n    return this._inputManager?.isModifierKeyDown(t) ?? !1;\n  }\n  _updateMode() {\n    const t = this.mode,\n      e = this.primaryDragAction,\n      r = z.get(t)?.get(e);\n    r && (this._modeDragPan && (this._modeDragPan.pointerAction = r.pan), this._modeDragRotate && (this._modeDragRotate.pointerAction = r.rotate), this._modeDragZoom && (this._modeDragZoom.pointerAction = r.zoom));\n  }\n  get test() {}\n};\nt([i()], b.prototype, \"view\", void 0), t([i({\n  value: \"pan\"\n})], b.prototype, \"primaryDragAction\", null), t([i({\n  value: \"default\"\n})], b.prototype, \"mode\", null), t([i({\n  readOnly: !0\n})], b.prototype, \"updating\", null), t([i()], b.prototype, \"latestPointerType\", null), t([i()], b.prototype, \"latestPointerLocation\", null), t([i()], b.prototype, \"multiTouchActive\", null), t([i()], b.prototype, \"_inputManager\", void 0), b = t([a(\"esri.views.3d.input.SceneInputManager\")], b);\nconst z = new Map(),\n  E = new Map(),\n  k = new Map();\nE.set(\"pan\", {\n  pan: \"primary\",\n  rotate: \"secondary\",\n  zoom: \"tertiary\"\n}), E.set(\"rotate\", {\n  pan: \"secondary\",\n  rotate: \"primary\",\n  zoom: \"tertiary\"\n}), k.set(\"pan\", {\n  pan: \"primary\",\n  rotate: \"tertiary\",\n  zoom: \"secondary\"\n}), k.set(\"rotate\", {\n  pan: \"tertiary\",\n  rotate: \"primary\",\n  zoom: \"secondary\"\n}), z.set(\"default\", E), z.set(\"pro\", k);\nconst C = b;\nexport { C as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { debugFlags as t } from \"../../support/debugFlags.js\";\nlet e,\n  n,\n  i = !1,\n  l = !1,\n  o = !1,\n  s = !1,\n  a = null;\nfunction c(t, e) {\n  if (!l || !n) return;\n  u();\n  const i = n;\n  let o = 0;\n  for (let n = 0; n < t.accBinsNumX; n++) for (let e = 0; e < t.accBinsNumY; e++) {\n    const l = t.accBins[n][t.accBinsNumY - 1 - e];\n    o += l.length;\n    const s = n * t.accBinsSizeX,\n      a = (n + 1) * t.accBinsSizeX,\n      c = e * t.accBinsSizeY,\n      r = (e + 1) * t.accBinsSizeY;\n    i.fillText(l.length.toFixed(), s + 5, c + 15), h(s, a, c, r, \"blue\");\n  }\n  i.fillText(\"total totalShownLabels: \" + o, 70, 40), i.fillText(\"total visible labels: \" + e.size, 70, 50), i.fillText(\"total numTests: \" + t.accNumTests, 70, 30);\n}\nfunction r(n) {\n  o = t.DECONFLICTOR_SHOW_VISIBLE, s = t.DECONFLICTOR_SHOW_INVISIBLE, i = o || s, l = t.DECONFLICTOR_SHOW_GRID, a = null, i || l ? a = () => p(n) : e && (e.parentElement.removeChild(e), e = null);\n}\nfunction u() {\n  a && (a(), a = null);\n}\nfunction p(t) {\n  null == e && (e = document.createElement(\"canvas\"), e.setAttribute(\"id\", \"debugCanvas2d\"), t.surface.parentElement.style.position = \"relative\", t.surface.parentElement.appendChild(e));\n  const {\n      state: i\n    } = t,\n    {\n      camera: l,\n      pixelRatio: o\n    } = i,\n    {\n      width: s,\n      height: a\n    } = l,\n    c = s * o,\n    r = a * o;\n  e.setAttribute(\"width\", `${c}px`), e.setAttribute(\"height\", `${r}px`), e.setAttribute(\"style\", `position:absolute;left:0px;top:0px;display:block;pointer-events:none;width:${s}px;height:${a}px`), n = e.getContext(\"2d\"), n.clearRect(0, 0, s, a), n.font = \"12px Arial\";\n}\nfunction h(t, i, l, o, s) {\n  u();\n  const a = e.height,\n    c = n;\n  c.beginPath(), c.lineWidth = 1, c.strokeStyle = s, c.moveTo(t, a - l), c.lineTo(i, a - l), c.stroke(), c.lineTo(i, a - o), c.stroke(), c.lineTo(i, a - l), c.stroke(), c.lineTo(t, a - l), c.stroke(), c.lineTo(t, a - l), c.stroke(), c.closePath();\n}\nfunction f(t, e) {\n  i && (e && o || !e && s) && h(t.aabr[0], t.aabr[2], t.aabr[1], t.aabr[3], e ? \"green\" : \"red\");\n}\nexport { c as drawAccelerationStruct, f as drawPoly, r as prepare };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { lerp as s } from \"../../../../core/mathUtils.js\";\nimport e from \"../../../../core/PooledArray.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { invertOrIdentity as o } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as c } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { create as n } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { h as l, j as h, s as p, c as u } from \"../../../../chunks/vec32.js\";\nimport { ZEROS as d, create as f } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { s as _, t as m, b } from \"../../../../chunks/vec42.js\";\nimport { create as v } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { getReferenceEllipsoid as g } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { create as y, empty as G, offset as S, width as D, height as B, expand as N, intersects as w } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { a as j, c as I, e as C } from \"../../../../chunks/boundedPlane.js\";\nimport { create as P } from \"../../../../geometry/support/ray.js\";\nimport { g as A, d as V, i as x, c as O } from \"../../../../chunks/sphere.js\";\nimport { drawAccelerationStruct as E, prepare as M, drawPoly as T } from \"./deconflictorDebug.js\";\nimport { VisibilityGroup as z, VisibilityFlag as F } from \"./enums.js\";\nimport L from \"../../webgl/RenderCamera.js\";\nimport { applyPrecomputedScaleFactor as X } from \"../../webgl-engine/lib/screenSizePerspectiveUtils.js\";\nimport { VertexAttribute as R } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { HUDMaterial as Y } from \"../../webgl-engine/materials/HUDMaterial.js\";\nimport { ScaleInfo as W } from \"../../webgl-engine/materials/ScaleInfo.js\";\nconst U = f(),\n  k = v(),\n  H = v(),\n  q = f(),\n  J = c(),\n  K = O(),\n  Q = P(),\n  Z = f(),\n  $ = y();\nclass ii {\n  constructor() {\n    this.aabr = y(), this.distance = 0, this.culled = !1, this.visible = !1;\n  }\n}\nclass ti {\n  constructor(i, t) {\n    this.graphics3DGraphic = i, this.slicePlaneEnabled = t, this.info = {};\n  }\n}\nvar si;\n!function (i) {\n  i[i.Idle = 0] = \"Idle\", i[i.Process = 1] = \"Process\", i[i.Sort = 2] = \"Sort\", i[i.Deconflict = 3] = \"Deconflict\", i[i.NumStates = 4] = \"NumStates\";\n}(si || (si = {}));\nclass ei {\n  constructor() {\n    this.camera = new L(), this.slicePlane = j(), this.slicePlaneEnabled = !1;\n  }\n  copyFrom(i) {\n    this.camera.copyFrom(i.camera), I(i.slicePlane, this.slicePlane), this.slicePlaneEnabled = i.slicePlaneEnabled;\n  }\n}\nlet ri = class extends t {\n  get dirty() {\n    return this._dirty;\n  }\n  get state() {\n    return this._state;\n  }\n  constructor(i) {\n    super(i), this._dirty = !1, this._viewState = new ei(), this._state = si.Idle, this._active = new Map(), this._visible = new Map(), this._iterators = new li(), this._accBinsNumX = 15, this._accBinsNumY = 20, this._accBinsSizeX = 0, this._accBinsSizeY = 0, this._accBins = null, this.accNumTests = 0;\n  }\n  destroy() {\n    this._active.clear(), this._visible.clear(), this._iterators = null;\n  }\n  setDirty() {\n    !this._dirty && this._active.size > 0 && (this._dirty = !0, this.notifyChange(\"updating\"));\n  }\n  get updating() {\n    return this._state !== si.Idle || this._dirty;\n  }\n  get updatingProgress() {\n    if (!this.updating) return 1;\n    const i = this._state / si.NumStates;\n    return this._dirty ? .5 * i : i;\n  }\n  get running() {\n    return this.view.ready && null != this.view.state && this.updating;\n  }\n  runTask(i) {\n    switch (this._state) {\n      case si.Idle:\n        this._startUpdate(), i.madeProgress();\n      case si.Process:\n        if (this._state = si.Process, !this._processActiveGraphics(i)) return;\n      case si.Sort:\n        if (this._state = si.Sort, !this._sortVisibleGraphics(i)) return;\n      case si.Deconflict:\n        if (this._state = si.Deconflict, !this._deconflictVisibleGraphics(i)) return;\n      default:\n        E(this, this._visible), this._state = si.Idle, this.notifyChange(\"updating\");\n    }\n  }\n  modifyGraphics(i, t) {\n    t ? i.forEach(i => this.addToActiveGraphics(i)) : i.forEach(i => this.removeFromActiveGraphics(i)), this.setDirty();\n  }\n  layerSupportsDeconfliction(i) {\n    if (null == i || \"object3d\" !== i.type) return !1;\n    const t = i.stageObject;\n    if (1 !== (t?.geometries.length ?? 0)) return !1;\n    const s = t?.geometries[0],\n      e = s?.material;\n    return e instanceof Y;\n  }\n  _startUpdate() {\n    M(this.view), this._dirty = !1, this._viewState.copyFrom(this.viewState);\n    const {\n      fullWidth: i,\n      fullHeight: t\n    } = this._viewState.camera;\n    this._initBins(i, t), this._resetIterators();\n  }\n  addToActiveGraphics(i) {\n    i.info[this.visibilityGroup] = new ii(), this._active.set(i.graphics3DGraphic.graphic.uid, i), this.setDirty();\n  }\n  removeFromActiveGraphics(i) {\n    this._visible.delete(i.graphics3DGraphic.graphic.uid), ai(i, this.visibilityGroup), delete i.info[this.visibilityGroup], this._active.delete(i.graphics3DGraphic.graphic.uid), this.setDirty();\n  }\n  _processActiveGraphics(i) {\n    const t = this._ensureActiveGraphicsIterator(),\n      s = o(J, this._viewState.camera.projectionMatrix),\n      e = \"global\" === this.view.viewingMode && 1 === this.view.map.ground.opacity && this._viewState.camera.relativeElevation > 0 ? K : null;\n    let r = 0;\n    for (null != e && (l(A(e), d, this._viewState.camera.viewMatrix), e[3] = g(this.view.spatialReference).radius, r = V(e, d)); !i.done;) {\n      i.madeProgress();\n      const a = t.next();\n      if (!0 === a.done) return this._resetActiveGraphicsIterator(), !0;\n      const o = a.value,\n        c = o?.info[this.visibilityGroup];\n      c && (this._collectGraphics3DGraphics(o, s, e, r), c.culled ? this._visible.delete(o.graphics3DGraphic.graphic.uid) : this._visible.set(o.graphics3DGraphic.graphic.uid, o));\n    }\n    return !1;\n  }\n  _sortVisibleGraphics(i) {\n    const t = this._ensureSortGraphicsIterator();\n    for (; !i.done;) {\n      const s = t.next();\n      if (i.madeProgress(), !0 === s.done) return this._resetSortGraphicsIterator(), !0;\n    }\n    return !1;\n  }\n  _deconflictVisibleGraphics(i) {\n    const t = this._ensureVisibleGraphicsIterator(),\n      s = this.visibilityGroup === z.LABEL;\n    for (; !i.done;) {\n      i.madeProgress();\n      const e = t.next();\n      if (!0 === e.done) return this._resetVisibleGraphicsIterator(), !0;\n      const r = e.value,\n        a = r.info[this.visibilityGroup];\n      if (!a || a.culled) {\n        this._setGraphicVisibility(r, !1);\n        continue;\n      }\n      const o = r.graphics3DGraphic,\n        c = !s || o.isVisible();\n      a.visible = c && !this._isConflicted(r), a.visible && this._addToBins(r), this._setGraphicVisibility(r, a.visible), T(a, a.visible);\n    }\n    return !1;\n  }\n  _resetIterators() {\n    this._iterators.active = null, this._iterators.visible = null, this._iterators.sort = null;\n  }\n  _ensureActiveGraphicsIterator() {\n    return this._iterators.active || (this._iterators.active = oi(this._active)), this._iterators.active;\n  }\n  _resetActiveGraphicsIterator() {\n    this._iterators.active = null;\n  }\n  _ensureVisibleGraphicsIterator() {\n    return this._iterators.visible || (this._iterators.visible = oi(this._visible)), this._iterators.visible;\n  }\n  _resetVisibleGraphicsIterator() {\n    this._iterators.visible = null;\n  }\n  _ensureSortGraphicsIterator() {\n    return this._iterators.sort || (this._iterators.sort = ci(this._visible, this._iterators.sortArray, this.visibilityGroup)), this._iterators.sort;\n  }\n  _resetSortGraphicsIterator() {\n    this._iterators.sort = null;\n  }\n  _collectGraphics3DGraphics(i, t, s, e) {\n    const r = i.graphics3DGraphic;\n    if (r.destroyed) return;\n    const a = i.info[this.visibilityGroup];\n    if (!r.isVisible(z.GRAPHIC, F.DECONFLICTION)) return void (a.culled = !0);\n    const o = this.getGraphicsLayers(r);\n    G(a.aabr);\n    let c = null;\n    for (const n of o) {\n      if (!this.layerSupportsDeconfliction(n)) continue;\n      const r = n.stageObject.geometries[0].material;\n      if (null == c && (c = di, this._getProjectionInfo(n, t, c), c.isOutsideScreen || this._isCulledBySlice(i, U) || null != s && ui(c, s, e))) return void (a.culled = !0);\n      this._expandBoundingRect(a, n, r, c);\n    }\n    null == c ? a.culled = !0 : (a.distance = c.distance, a.culled = !1);\n  }\n  _getProjectionInfo(i, t, s) {\n    const e = this._viewState.camera,\n      r = i.stageObject,\n      a = r.geometries[0],\n      o = a.material,\n      c = A(r.boundingVolumeWorldSpace.bounds);\n    l(U, c, e.viewMatrix);\n    const n = a.attributes,\n      u = n.get(R.NORMAL).data,\n      d = n.get(R.CENTEROFFSETANDDISTANCE).data;\n    o.applyShaderOffsetsView(U, u, r.transformation, d, e, s.scaleInfo, U), _(k, U[0], U[1], U[2], 1), m(H, k, e.projectionMatrix), h(s.positionNDC, H, 1 / H[3]), o.applyShaderOffsetsNDC(s.positionNDC, d, e, s.positionNDC, q), s.distanceWithoutPolygonOffset = e.depthNDCToWorld(q[2]), s.distance = q[2] === s.positionNDC[2] ? s.distanceWithoutPolygonOffset : e.depthNDCToWorld(s.positionNDC[2]), _(H, s.positionNDC[0], s.positionNDC[1], s.positionNDC[2], 1), m(k, H, t), b(k, k, 1 / k[3]), p(s.positionView, U[0], U[1], U[2]);\n  }\n  _isCulledBySlice(i, t) {\n    return i.slicePlaneEnabled && this._viewState.slicePlaneEnabled && C(this._viewState.slicePlane, t);\n  }\n  _expandBoundingRect(i, t, e, {\n    positionNDC: r,\n    scaleInfo: a\n  }) {\n    const o = this._viewState.camera,\n      c = t.getScreenSize(hi);\n    X(c, a.factor, c), c[0] *= o.pixelRatio, c[1] *= o.pixelRatio;\n    const n = S(e.calculateRelativeScreenBounds(c, a.factorAlignment.scale, $), s(0, o.fullWidth, .5 + .5 * r[0]), s(0, o.fullHeight, .5 + .5 * r[1])),\n      l = this.marginFactor;\n    if (0 !== l) {\n      const i = l * Math.min(D(n), B(n));\n      n[0] -= i, n[1] -= i, n[2] += i, n[3] += i;\n    }\n    N(i.aabr, n, i.aabr);\n  }\n  _isConflicted(i) {\n    const t = i.graphics3DGraphic.graphic.uid,\n      s = i.info[this.visibilityGroup];\n    let e = !0;\n    for (let r = Math.floor(s.aabr[0] / this._accBinsSizeX); r <= Math.floor(s.aabr[2] / this._accBinsSizeX); r++) if (!(r < 0 || r >= this._accBinsNumX)) for (let i = Math.floor(s.aabr[1] / this._accBinsSizeY); i <= Math.floor(s.aabr[3] / this._accBinsSizeY); i++) {\n      if (i < 0 || i >= this._accBinsNumY) continue;\n      e = !1;\n      const a = this._accBins[r][i];\n      for (let i = 0; i < a.length; i++) {\n        const e = a.data[i],\n          r = e.info[this.visibilityGroup];\n        if (r && r.visible && e.graphics3DGraphic.graphic.uid !== t && (this.accNumTests++, w(r.aabr, s.aabr))) return !0;\n      }\n    }\n    return e;\n  }\n  _initBins(i, t) {\n    if (null == this._accBins) {\n      this._accBins = [];\n      for (let i = 0; i < this._accBinsNumX; i++) {\n        this._accBins.push([]);\n        const i = this._accBins[this._accBins.length - 1];\n        for (let t = 0; t < this._accBinsNumY; t++) i.push(new e());\n      }\n    } else for (let s = 0; s < this._accBinsNumX; s++) for (let i = 0; i < this._accBinsNumY; i++) this._accBins[s][i].clear();\n    this._accBinsSizeX = i / this._accBinsNumX, this._accBinsSizeY = t / this._accBinsNumY, this.accNumTests = 0;\n  }\n  _addToBins(i) {\n    const t = i.info[this.visibilityGroup],\n      s = Math.floor(t.aabr[0] / this._accBinsSizeX),\n      e = Math.floor(t.aabr[2] / this._accBinsSizeX),\n      r = Math.floor(t.aabr[1] / this._accBinsSizeY),\n      a = Math.floor(t.aabr[3] / this._accBinsSizeY);\n    for (let o = s; o <= e; o++) if (!(o < 0 || o >= this._accBinsNumX)) for (let t = r; t <= a; t++) t < 0 || t >= this._accBinsNumY || this._accBins[o][t].push(i);\n  }\n  _setGraphicVisibility(i, t) {\n    const s = i.graphics3DGraphic;\n    s.destroyed || (s.setVisibilityFlag(this.visibilityGroup, F.DECONFLICTION, t), this.visibilityGroup === z.LABEL && this.view.labeler.setLabelGraphicVisibility(s, t));\n  }\n};\nfunction ai(i, t) {\n  const s = i.graphics3DGraphic;\n  s.destroyed || s.setVisibilityFlag(t, F.DECONFLICTION, !0);\n}\nfunction* oi(i) {\n  if (Map.prototype.entries) {\n    const t = i.entries();\n    for (let i = t.next(); !i.done; i = t.next()) yield i.value[1];\n  } else yield* i.values();\n}\nfunction* ci(i, t, s) {\n  t.clear(), i.forEach((i, e) => {\n    const r = t.pushNew();\n    r.id = e, r.visible = i.graphics3DGraphic.getVisibilityFlag(s, F.DECONFLICTION);\n    const a = i.info?.[s];\n    r.prio = i.graphics3DGraphic.deconflictionPriority, r.distance = a ? a.distance : Number.MAX_VALUE;\n  }), yield;\n  const e = t.iterableSort((i, t) => i.prio !== t.prio ? t.prio - i.prio : i.distance !== t.distance ? i.distance - t.distance : i.visible !== t.visible ? i.visible ? -1 : 1 : i.id - t.id);\n  for (let r = e.next(); !r.done; r = e.next()) yield;\n  t.forAll(t => {\n    const s = i.get(t.id);\n    s && (i.delete(t.id), i.set(t.id, s));\n  }), t.clear();\n}\ni([r({\n  constructOnly: !0\n})], ri.prototype, \"view\", void 0), i([r({\n  type: Boolean,\n  readOnly: !0\n})], ri.prototype, \"updating\", null), ri = i([a(\"esri.views.3d.layers.graphics.Deconflictor\")], ri);\nclass ni {\n  constructor() {\n    this.id = 0, this.visible = !1, this.prio = 0, this.distance = 0;\n  }\n}\nclass li {\n  constructor(i = null, t = null, s = null) {\n    this.active = i, this.visible = t, this.sort = s, this.sortArray = new e({\n      allocator: i => i || new ni()\n    });\n  }\n}\nconst hi = n();\nclass pi {\n  constructor() {\n    this.positionView = f(), this.positionNDC = f(), this.distance = 0, this.distanceWithoutPolygonOffset = 0, this.scaleInfo = new W();\n  }\n  get isOutsideScreen() {\n    const i = this.positionNDC;\n    return i[0] < -1 || i[1] < -1 || i[2] < -1 || i[0] >= 1 || i[1] >= 1;\n  }\n}\nfunction ui(i, t, s) {\n  return u(Q.direction, i.positionView), p(Q.origin, 0, 0, 0), !!x(t, Q, Z) && i.distanceWithoutPolygonOffset > s;\n}\nconst di = new pi();\nexport { ri as Deconflictor, ti as DeconflictorGraphic, ei as DeconflictorViewState, si as State };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../../../chunks/tslib.es6.js\";\nimport { property as t } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { Deconflictor as e, State as o } from \"./Deconflictor.js\";\nimport { VisibilityGroup as i } from \"./enums.js\";\nimport { RenderState as a } from \"../../../support/RenderState.js\";\nimport { Yield as n } from \"../../../support/Yield.js\";\nconst c = 2e3;\nlet p = class extends e {\n  constructor(r) {\n    super(r), this.visibilityGroup = i.LABEL, this.marginFactor = .05, this._lastDeconfliction = 0;\n  }\n  get viewState() {\n    return this.parent.viewState;\n  }\n  runTask(r) {\n    if (this.parent.running) return n;\n    const t = performance.now();\n    if (r.state !== a.IDLE && t - this._lastDeconfliction < c) return n;\n    super.runTask(r), this.state === o.Idle && (this._lastDeconfliction = t);\n  }\n  enabledChanged(r, t) {\n    this.modifyGraphics(t, r.labelsEnabled);\n  }\n  getGraphicsLayers(r) {\n    return r.labelLayers;\n  }\n};\nr([t({\n  constructOnly: !0\n})], p.prototype, \"parent\", void 0), p = r([s(\"esri.views.3d.layers.graphics.LabelDeconflictor\")], p);\nexport { p as LabelDeconflictor };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { someMap as t } from \"../../../../core/MapUtils.js\";\nimport { destroyMaybe as i, removeMaybe as s } from \"../../../../core/maybe.js\";\nimport { watch as r, initial as a } from \"../../../../core/reactiveUtils.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport \"../../../../core/Error.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { t as n } from \"../../../../chunks/boundedPlane.js\";\nimport { Deconflictor as c, DeconflictorGraphic as h } from \"./Deconflictor.js\";\nimport { VisibilityGroup as l, VisibilityFlag as p } from \"./enums.js\";\nimport { LabelDeconflictor as d } from \"./LabelDeconflictor.js\";\nimport { TaskPriority as m } from \"../../../support/Scheduler.js\";\nlet u = class extends c {\n  constructor() {\n    super(...arguments), this._contexts = new Map(), this.visibilityGroup = l.GRAPHIC, this._marginFactor = -.1, this.test = {\n      overrideMarginFactor: e => {\n        this._marginFactor = e, this.setDirty();\n      }\n    };\n  }\n  get labels() {\n    return this._labels;\n  }\n  get viewState() {\n    return this._viewState;\n  }\n  initialize() {\n    this.addHandles([r(() => this.view?.state?.camera, () => {\n      this._updateViewState(), this.setDirty();\n    }), r(() => this.view?.map?.ground?.opacity, (e, t) => {\n      1 !== e && 1 !== t || this.setDirty();\n    }), r(() => this.view?.slicePlane, () => {\n      this._updateSlicePlane(), this._slicePlaneChanged();\n    }, a)]), this._frameTask = this.view.resourceController.scheduler.registerTask(m.GRAPHICS_DECONFLICTOR, this), this._labels = new d({\n      view: this.view,\n      parent: this\n    });\n  }\n  destroy() {\n    this._labels = i(this._labels), this._frameTask = s(this._frameTask);\n  }\n  get marginFactor() {\n    return this._marginFactor;\n  }\n  setDirty() {\n    this._contexts.size > 0 && (super.setDirty(), this._labels.setDirty());\n  }\n  runTask(e) {\n    super.runTask(e), this.running || this._labels.setDirty();\n  }\n  _updateViewState() {\n    this.view?.state && (this._viewState.camera.copyFrom(this.view.state.camera), this._updateSlicePlane());\n  }\n  _updateSlicePlane() {\n    const e = this.view ? this.view.slicePlane : null;\n    null != e && n(e, this._viewState.camera.viewMatrix, this._viewState.slicePlane), this._viewState.slicePlaneEnabled = null != e;\n  }\n  _slicePlaneChanged() {\n    t(this._contexts, (e, t) => t.symbolCreationContext.slicePlaneEnabled) && this.setDirty();\n  }\n  addGraphicsOwner(e) {\n    const t = this._getGraphicsContext(e);\n    return {\n      addGraphic: i => this._addGraphic(e, t, i),\n      removeGraphic: e => this._removeGraphic(t, e),\n      labelingInfoChange: () => this._labels.enabledChanged(e, t),\n      featureReductionChange: () => this.enabledChanged(e, t),\n      slicePlaneEnabledChange: () => this._slicePlaneEnabledChanged(e, t),\n      clear: () => t.forEach(e => this._removeGraphic(t, e.graphics3DGraphic)),\n      remove: () => this._removeGraphicsOwner(e),\n      setDirty: () => this.setDirty()\n    };\n  }\n  _removeGraphicsOwner(e) {\n    const t = this._contexts.get(e);\n    t && (t.forEach(e => this._removeGraphic(t, e.graphics3DGraphic)), this._contexts.delete(e), this.setDirty());\n  }\n  _addGraphic(e, t, i) {\n    const s = i.graphic.uid,\n      r = new h(i, e.symbolCreationContext.slicePlaneEnabled);\n    t.set(s, r), _(e) && this.addToActiveGraphics(r), e.labelsEnabled && this._labels.addToActiveGraphics(r);\n    const a = !this._graphicSupportsDeconfliction(i) || !_(e);\n    i.setVisibilityFlag(l.GRAPHIC, p.DECONFLICTION, a);\n  }\n  _removeGraphic(e, t) {\n    const i = t.graphic.uid,\n      s = e.get(i);\n    s && (this.removeFromActiveGraphics(s), this._labels.removeFromActiveGraphics(s), e.delete(i), this.setDirty());\n  }\n  enabledChanged(e, t) {\n    const i = _(e);\n    i || g(e), this.modifyGraphics(t, i);\n  }\n  _slicePlaneEnabledChanged(e, t) {\n    const i = e.symbolCreationContext.slicePlaneEnabled;\n    t.forEach(e => e.slicePlaneEnabled = i), this.setDirty();\n  }\n  getGraphicsLayers(e) {\n    return e.layers;\n  }\n  _graphicSupportsDeconfliction(e) {\n    if (e.isDraped) return !1;\n    const t = e.layers;\n    if (!t?.length) return !1;\n    for (const i of t) if (this.layerSupportsDeconfliction(i)) return !0;\n    return !1;\n  }\n  _getGraphicsContext(e) {\n    const t = this._contexts.get(e);\n    if (t) return t;\n    const i = new Map();\n    return this._contexts.set(e, i), this.setDirty(), i;\n  }\n};\nfunction _(e) {\n  const t = e.layer;\n  return !(!t?.featureReduction || \"selection\" !== t.featureReduction.type);\n}\nfunction g(e) {\n  const t = e.graphics3DGraphics;\n  t && t.forEach(e => e.setVisibilityFlag(l.GRAPHIC, p.DECONFLICTION, !0));\n}\nu = e([o(\"esri.views.3d.layers.graphics.GraphicsDeconflictor\")], u);\nexport { u as GraphicsDeconflictor };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { c as r } from \"../../chunks/vec32.js\";\nimport { getProjector as t, projectorCache as o, copy3 as n } from \"./projectors.js\";\nfunction e(e, c, f, s, u, i, l = 1) {\n  const m = t(c, u, o);\n  if (null == m) return !1;\n  if (m === n) {\n    if (e === s && f === i) return !0;\n    const t = f + l;\n    for (let o = f, n = i; o < t; ++o, ++n) r(s[n], e[o]);\n    return !0;\n  }\n  const p = f + l;\n  for (let r = f, t = i; r < p; ++r, ++t) m(e[r], 0, s[t], 0);\n  return !0;\n}\nexport { e as projectVec3Array };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { acosClamped as t } from \"../../../../core/mathUtils.js\";\nimport e from \"../../../../core/ObjectPool.js\";\nimport { n as s, z as i, m as r, r as n, s as o, F as u, b as c, g as a, j as l, H as d, k as _, f as h } from \"../../../../chunks/vec32.js\";\nimport { create as f, fromValues as m } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as p } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { getSphericalPCPF as T } from \"../../../../geometry/spatialReferenceEllipsoidUtils.js\";\nimport { projectBuffer as g } from \"../../../../geometry/projection/projectBuffer.js\";\nimport { projectVec3Array as E } from \"../../../../geometry/projection/projectVec3Array.js\";\nimport { PlaneIndex as R, PointIndex as F } from \"../../../../geometry/support/frustum.js\";\nimport { create as I, signedDistance as O, projectVector as S, fromPoints as b, getNormal as A } from \"../../../../geometry/support/plane.js\";\nimport { wrap as G } from \"../../../../geometry/support/ray.js\";\nimport { ViewingMode as B } from \"../../../ViewingMode.js\";\nimport { FeatureTileDescriptor3D as M, Visibility as P } from \"./FeatureTileDescriptor3D.js\";\nimport { Frustum as j } from \"../../state/Frustum.js\";\nimport { FrustumExtentIntersection as x } from \"../../support/FrustumExtentIntersection.js\";\nclass N {\n  constructor(t, e) {\n    this._renderCoordsHelper = t, this._getIsGroundOpaque = e, this._surfaceElevation = 0, this._isGroundOpaque = !1, this._cache = new Map(), this._frustumBoundingSphereCenter = f(), this._frustumBoundingSphereRadius = 0, this._frustum = new j(t), this._extendedFrustum = new j(t), this._intersector = new x({\n      renderCoordsHelper: t\n    }), this._renderSR = t.spatialReference;\n    const s = T(this._renderSR);\n    this._renderSREllipsoidRadius = p(s).radius, this._renderCoordsHelper = t;\n  }\n  begin(t, e) {\n    this._surfaceElevation = e, this._aboveGround = t.aboveGround, this._isGroundOpaque = this._getIsGroundOpaque(), this._frustum.update(t), k(this._frustum), this._updateExtendedFrustum(t), this._updateFrustumBoundingSphere();\n  }\n  end() {\n    this._cache.clear();\n  }\n  calculate(t) {\n    const e = this._renderCoordsHelper.viewingMode === B.Global && t.lij[0] >= V && t.lij[0] < v,\n      s = this._getOrCalculateSingleTileVisibility(t, !e);\n    return s !== P.INVISIBLE && e ? this._calculateAggregatedChildrenVisibility(t) : s;\n  }\n  _calculateAggregatedChildrenVisibility(t) {\n    let e = P.INVISIBLE;\n    const s = this._cache.get(t.id);\n    if (null != s) return s;\n    const i = U.acquire();\n    t.getChildren(i);\n    for (const r of i) {\n      const t = this.calculate(r);\n      if (t !== P.INVISIBLE && (e = t, t === P.VISIBLE_ON_SURFACE)) break;\n    }\n    return U.release(i), this._cache.set(t.id, e), e;\n  }\n  _getOrCalculateSingleTileVisibility(t, e) {\n    const s = this._cache.get(t.id);\n    if (null != s) return s;\n    const i = this._calculateSingleTileVisibility(t);\n    return e && this._cache.set(t.id, i), i;\n  }\n  _calculateSingleTileVisibility(t) {\n    if (!this._aboveGround && this._renderCoordsHelper.viewingMode === B.Global && t.lij[0] < H) {\n      return this._calculateSingleTileVisibilitySided(t, !1) === P.INVISIBLE ? this._calculateSingleTileVisibilitySided(t, !0) : void 0;\n    }\n    return this._calculateSingleTileVisibilitySided(t, this._aboveGround);\n  }\n  _isTileVisibleInFrustum(t) {\n    return this._renderCoordsHelper.viewingMode === B.Local ? this._isTileVisibleInFrustumLocal(t) : this._isTileVisibleInFrustumGlobal(t);\n  }\n  _updateFrustumBoundingSphere() {\n    const t = this._frustum,\n      e = t.origin,\n      o = at;\n    s(o, t.direction);\n    const u = t.points,\n      c = lt;\n    i(c, u[4], e);\n    const a = .5 * r(c, c) / r(o, c),\n      l = this._frustumBoundingSphereCenter;\n    n(l, e, o, a);\n    const d = 1 + a;\n    this._frustumBoundingSphereRadius = d;\n  }\n  _isTileVisibleInFrustumLocal(t) {\n    const e = t.tilingScheme.spatialReference,\n      s = t.extent,\n      c = this._renderSR,\n      a = $;\n    if (a[0] = s[0], a[1] = s[1], a[2] = 0, a[3] = s[2], a[4] = s[3], a[5] = 0, !g(a, e, 0, a, c, 0, 2)) return !1;\n    const l = tt;\n    o(l[0], a[0], a[1], 0), o(l[1], a[3], a[1], 0), o(l[2], a[3], a[4], 0), o(l[3], a[0], a[4], 0);\n    const d = et;\n    o(d, .5 * (a[0] + a[3]), .5 * (a[1] + a[4]), .5 * (a[2] + a[5]));\n    const _ = st;\n    o(_, 0, 0, 1);\n    const h = .5 * u(l[0], l[2]),\n      f = this._frustum,\n      m = this._frustumBoundingSphereRadius,\n      p = this._frustumBoundingSphereCenter,\n      T = _t;\n    i(T, p, d);\n    const E = r(_, T),\n      R = dt;\n    n(R, d, _, E);\n    if (u(R, p) > h + m) return !1;\n    const F = Z,\n      I = this._isGroundOpaque && this._aboveGround,\n      O = this._isGroundOpaque && !this._aboveGround,\n      S = Math.min(O ? yt : 1 / 0, E + m),\n      b = Math.max(I ? -yt : -1 / 0, E - m);\n    for (let i = 0; i < 4; ++i) n(F[i], l[i], _, S), n(F[i + 4], l[i], _, b);\n    return !J(f.planes, F, 8);\n  }\n  _isTileVisibleInFrustumGlobal(t) {\n    const e = t.tilingScheme.spatialReference,\n      _ = t.extent,\n      h = this._isGroundOpaque && this._aboveGround,\n      p = this._isGroundOpaque && !this._aboveGround;\n    if (t.lij[0] < K) return !0;\n    const T = tt,\n      g = .5 * (_[0] + _[2]);\n    if (o(T[0], _[0], _[1], 0), o(T[1], _[2], _[1], 0), o(T[2], _[2], _[3], 0), o(T[3], _[0], _[3], 0), o(T[4], g, _[1], 0), o(T[5], g, _[3], 0), !E(T, e, 0, T, this._renderSR, 0, 6)) return !1;\n    const R = T[0][2] > 0,\n      F = T[3][2] < 0,\n      I = R || F,\n      S = this._renderSREllipsoidRadius;\n    if (I) {\n      const t = m(0, 0, 1),\n        e = rt;\n      W(e, t, T[0]);\n      const s = nt;\n      if (W(s, t, T[1]), R) {\n        const i = it,\n          r = T[4],\n          n = ot;\n        W(n, r, t), W(i, n, r);\n        const o = T[0];\n        c(o, e, i), D(o, S);\n        const u = T[1];\n        c(u, s, i), D(u, S);\n      } else if (F) {\n        const i = it,\n          r = T[5],\n          n = ot;\n        W(n, r, t), W(i, r, n);\n        const o = T[3];\n        c(o, i, e), D(o, S);\n        const u = T[2];\n        c(u, i, s), D(u, S);\n      }\n    }\n    const b = et;\n    {\n      const t = i(Tt, T[3], T[0]);\n      s(t, t);\n      const e = a(gt, T[0], T[3]);\n      l(e, e, .5);\n      const o = -r(e, t),\n        u = a(Et, T[0], T[1]);\n      l(u, u, .5);\n      const c = a(Rt, T[2], T[3]);\n      l(c, c, .5);\n      const d = i(Ft, c, u);\n      s(d, d);\n      const _ = -(o + r(t, u)) / r(t, d);\n      n(b, u, d, _), D(b, S);\n    }\n    const A = this._frustumBoundingSphereRadius,\n      G = this._frustumBoundingSphereCenter,\n      B = this._frustum,\n      M = B.planes,\n      P = ut;\n    s(P, b);\n    const j = r(T[0], P) / d(T[0]),\n      x = B.origin,\n      N = B.points;\n    let V = !1;\n    if (h) {\n      {\n        V = !0;\n        const t = s(f(), x);\n        for (let e = 0; e < 4; ++e) {\n          const n = N[4 + e],\n            o = i(f(), n, x);\n          s(o, o);\n          const u = c(f(), t, o);\n          s(u, u);\n          const a = c(f(), o, u);\n          s(a, a);\n          if (r(x, a) > S) {\n            V = !1;\n            break;\n          }\n        }\n      }\n      if (V) {\n        if (r(x, P) < S * j - yt) return !1;\n      }\n      const t = s(Ct, B.origin);\n      if (r(t, P) < 0) return !1;\n      {\n        const t = s(wt, B.direction);\n        if (r(t, P) > qt) return !1;\n      }\n    }\n    const v = Math.sqrt(1 - j * j);\n    if (v > .9) return !0;\n    let H = !1;\n    {\n      const t = r(P, G),\n        e = d(G);\n      if (e <= A && !M.some(t => O(t, ht) > 0)) {\n        if (!h) return !0;\n        H = !0;\n      }\n      const s = t / e;\n      if (!H && t <= 0) {\n        if (-t > A) return !1;\n      }\n      const i = A / e;\n      if (Math.sqrt(1 - s * s) * Math.sqrt(1 - i * i) - i * s > v) return !1;\n    }\n    if (!V) {\n      if (T.some(t => B.intersectsPoint(t))) return !0;\n      if (B.intersectsPoint(b)) return !0;\n    }\n    const L = ft;\n    i(L, G, ht);\n    const y = r(L, P),\n      C = ct;\n    l(C, P, y);\n    const w = u(C, G),\n      q = e.isWGS84,\n      U = t.lij,\n      k = q && U[2] === 2 ** U[0] - 1,\n      X = q && 0 === U[2],\n      Y = X ? jt : k ? Mt : Gt,\n      Z = X ? xt : k ? Pt : Bt;\n    if (!H) {\n      const t = T,\n        e = Nt,\n        s = It,\n        i = Ot,\n        r = ht;\n      for (const n of Y) {\n        const o = t[n];\n        if (z(s, t[(n + 1) % 4], o), z(i, r, o), W(e, i, s), Q(e, N, 1)) return !1;\n      }\n    }\n    let $ = null;\n    if (!h && y < 1.01 * A) {\n      const t = 2.5 * A;\n      if (w > j * t + A) return !1;\n      const e = pt,\n        s = t / j;\n      for (let i = 0; i < 4; ++i) l(e[i], T[i], s / S);\n      o(e[4], 0, 0, 0), $ = e;\n    } else {\n      const t = (p ? S + yt : y + A) / j,\n        e = h ? S - yt : (y - A) / j,\n        s = mt;\n      for (let i = 0; i < 4; ++i) {\n        const r = T[i];\n        l(s[i], r, e / S), l(s[i + 4], r, t / S);\n      }\n      $ = s;\n    }\n    if (J(M, $, $.length)) return !1;\n    const st = B.lines,\n      at = St,\n      lt = bt;\n    for (const r of st) {\n      s(lt, r.direction);\n      for (const t of Z) {\n        const e = $[t];\n        if (s(at, e), Lt(lt, at, $, N)) return !1;\n        const r = (t + 1) % 4;\n        if (h) {\n          const t = $[r];\n          if (i(at, t, e), s(at, at), Lt(lt, at, $, N)) return !1;\n        }\n        if (p) {\n          const e = $[4 + t],\n            n = $[4 + r];\n          if (i(at, n, e), s(at, at), Lt(lt, at, $, N)) return !1;\n        }\n      }\n    }\n    return !0;\n  }\n  _calculateSingleTileVisibilitySided(t, e) {\n    return this._isTileVisibleInFrustum(t) ? (this._intersector.update(t.extent, t.tilingScheme.spatialReference, this._surfaceElevation, e), this._intersector.isVisibleInFrustum(this._frustum, this._renderSREllipsoidRadius, !0) ? P.VISIBLE_ON_SURFACE : P.VISIBLE_WHEN_EXTENDED) : P.INVISIBLE;\n  }\n  _updateExtendedFrustum(e) {\n    this._extendedFrustum.update(e), k(this._extendedFrustum);\n    const s = this._renderCoordsHelper.worldUpAtPosition(e.eye, C);\n    this._aboveGround || _(s, s);\n    const i = t(-r(s, e.viewForward));\n    if (this._hasExtendedFrustum = i > e.fovY / 2, !this._hasExtendedFrustum) return;\n    const n = this._extendedFrustumParameters(),\n      o = this._extendedFrustum.mutablePoints;\n    for (let t = 0; t < 4; t++) {\n      const e = n.pointIndices[t],\n        s = o[e],\n        i = this._renderCoordsHelper.getAltitude(s);\n      if (n.needsAltitudeAdjustment(i)) {\n        switch (this._renderCoordsHelper.worldUpAtPosition(s, C), e) {\n          case F.FAR_BOTTOM_LEFT:\n          case F.FAR_TOP_LEFT:\n          case F.NEAR_BOTTOM_LEFT:\n          case F.NEAR_TOP_LEFT:\n            S(this._extendedFrustum.planes[R.LEFT], C, C);\n            break;\n          case F.FAR_BOTTOM_RIGHT:\n          case F.FAR_TOP_RIGHT:\n          case F.NEAR_BOTTOM_RIGHT:\n          case F.NEAR_TOP_RIGHT:\n            S(this._extendedFrustum.planes[R.RIGHT], C, C);\n        }\n        l(C, C, n.direction), this._renderCoordsHelper.intersectInfiniteManifold(G(s, C), n.zWithMargin, s);\n      }\n    }\n    if (this._extendedFrustum.updatePoints(o), b(o[F.NEAR_BOTTOM_LEFT], o[F.NEAR_BOTTOM_RIGHT], o[F.NEAR_TOP_RIGHT], w), b(o[F.NEAR_BOTTOM_RIGHT], o[F.NEAR_TOP_RIGHT], o[F.NEAR_TOP_LEFT], q), r(A(w), A(q)) < 0) {\n      const t = this._extendedFrustum.mutablePoints;\n      this._aboveGround ? [t[F.NEAR_BOTTOM_LEFT], t[F.NEAR_BOTTOM_RIGHT]] = [t[F.NEAR_BOTTOM_RIGHT], t[F.NEAR_BOTTOM_LEFT]] : [t[F.NEAR_TOP_LEFT], t[F.NEAR_TOP_RIGHT]] = [t[F.NEAR_TOP_RIGHT], t[F.NEAR_TOP_LEFT]], this._extendedFrustum.updatePoints(t);\n    }\n  }\n  _extendedFrustumParameters() {\n    return this._aboveGround ? this._extendedFrustumParametersAboveSurface() : this._extendedFrustumParametersBelowSurface();\n  }\n  _extendedFrustumParametersAboveSurface() {\n    const t = this._surfaceElevation - y;\n    return {\n      zWithMargin: t,\n      pointIndices: j.planePointIndices.bottom,\n      direction: -1,\n      needsAltitudeAdjustment: e => e > t\n    };\n  }\n  _extendedFrustumParametersBelowSurface() {\n    const t = this._surfaceElevation + y;\n    return {\n      zWithMargin: t,\n      pointIndices: j.planePointIndices.top,\n      direction: 1,\n      needsAltitudeAdjustment: e => e < t\n    };\n  }\n}\nconst V = 2,\n  v = 6,\n  H = 12,\n  L = .95,\n  y = 1,\n  C = f(),\n  w = I(),\n  q = I(),\n  U = new e(Array, t => {\n    4 !== t.length && (t[0] = new M(), t[1] = new M(), t[2] = new M(), t[3] = new M());\n  }, t => {\n    t[0].release(), t[1].release(), t[2].release(), t[3].release();\n  });\nfunction k(t) {\n  const e = j.nearFarLineIndices,\n    s = t.mutablePoints;\n  for (const i of e) {\n    const [t, e] = i,\n      r = s[t],\n      n = s[e];\n    h(C, n, r), l(C, C, L), a(s[e], r, C);\n  }\n  t.updatePoints(s);\n}\nfunction W(t, e, i) {\n  return c(t, e, i), s(t, t), t;\n}\nfunction z(t, e, r) {\n  return i(t, e, r), s(t, t), t;\n}\nfunction D(t, e) {\n  return l(t, t, e / d(t)), t;\n}\nconst X = [R.LEFT, R.RIGHT, R.BOTTOM, R.TOP, R.FAR];\nfunction Y(t, e, s) {\n  for (let i = 0; i < s; ++i) if (O(t, e[i]) <= 0) return !1;\n  return !0;\n}\nfunction J(t, e, s) {\n  for (const i of X) if (Y(t[i], e, s)) return !0;\n  return !1;\n}\nconst K = 4;\nfunction Q(t, e, s) {\n  for (const i of e) if (r(i, t) < s) return !1;\n  return !0;\n}\nconst Z = [f(), f(), f(), f(), f(), f(), f(), f()],\n  $ = [0, 0, 0, 0, 0, 0],\n  tt = [f(), f(), f(), f(), f(), f()],\n  et = f(),\n  st = f(),\n  it = f(),\n  rt = f(),\n  nt = f(),\n  ot = f(),\n  ut = f(),\n  ct = f(),\n  at = f(),\n  lt = f(),\n  dt = f(),\n  _t = f(),\n  ht = m(0, 0, 0),\n  ft = f(),\n  mt = [f(), f(), f(), f(), f(), f(), f(), f()],\n  pt = [f(), f(), f(), f(), f()],\n  Tt = f(),\n  gt = f(),\n  Et = f(),\n  Rt = f(),\n  Ft = f(),\n  It = f(),\n  Ot = f(),\n  St = f(),\n  bt = f(),\n  At = f(),\n  Gt = [0, 1, 2, 3],\n  Bt = [0, 1, 2, 3],\n  Mt = [0, 1, 3],\n  Pt = [0, 1, 3],\n  jt = [1, 2, 3],\n  xt = [1, 2, 3],\n  Nt = f();\nfunction Vt(t, e, s) {\n  let i = 1 / 0,\n    n = -1 / 0;\n  for (const o of s) {\n    const t = r(e, o);\n    i = Math.min(i, t), n = Math.max(n, t);\n  }\n  t[0] = i, t[1] = n;\n}\nfunction vt(t, e, s, i) {\n  let n = 1 / 0,\n    o = -1 / 0;\n  for (const u of i) {\n    const i = r(s, u);\n    if (n = Math.min(n, i), o = Math.max(o, i), n <= e && o >= t) return !1;\n  }\n  return !0;\n}\nconst Ht = [0, 0];\nfunction Lt(t, e, s, i) {\n  if (0 === s.length || 0 === i.length) return !0;\n  const r = At;\n  W(r, t, e);\n  const n = i[0] < s[0],\n    o = n ? s : i,\n    u = Ht;\n  return Vt(u, r, n ? i : s), vt(u[0], u[1], r, o);\n}\nconst yt = 430,\n  Ct = f(),\n  wt = f(),\n  qt = Math.cos(.25 * Math.PI);\nexport { N as FeatureTileVisibility3D, K as globalTileLevelThreshold, J as isConvexHullOutsideOfFrustum };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createScreenPointArray as e, createRenderScreenPointArray3 as t } from \"../../../../core/screenUtils.js\";\nimport { c as r, j as i, r as s } from \"../../../../chunks/vec32.js\";\nimport { create as o } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as n, fromValues as c, distance as a, empty as l, expandPointInPlace as u, expand as m } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { PlaneIndex as h } from \"../../../../geometry/support/frustum.js\";\nimport { signedDistance as p } from \"../../../../geometry/support/plane.js\";\nimport { areaPoints2d as _ } from \"../../../../geometry/support/triangle.js\";\nimport { ViewingMode as d } from \"../../../ViewingMode.js\";\nimport { Visibility as f } from \"./FeatureTileDescriptor3D.js\";\nimport { FeatureTileVisibility3D as S, globalTileLevelThreshold as g, isConvexHullOutsideOfFrustum as b } from \"./FeatureTileVisibility3D.js\";\nimport j from \"../../webgl/RenderCamera.js\";\nclass v {\n  constructor(e) {\n    this._camera = new j(), this._focusOnMap = [0, 0], this._screenRect = n(), this._tileSize = e.tileSize, this._renderCoordsHelper = e.renderCoordsHelper, this._tilingScheme = e.tilingScheme, this._visibility = new S(e.renderCoordsHelper, e.getIsGroundOpaque);\n  }\n  begin(e, t, r) {\n    this._camera.copyFrom(e), this._surfaceElevation = r, this._focusOnMap[0] = t.x, this._focusOnMap[1] = t.y, c(0, 0, e.fullWidth, e.fullHeight, this._screenRect), this._visibility.begin(this._camera, r);\n  }\n  end() {\n    this._visibility.end();\n  }\n  updateTile(e) {\n    e.measures.visibility = this._visibility.calculate(e), e.measures.distance = a(e.extent, this._focusOnMap), e.measures.visibility !== f.INVISIBLE && this._updateScreenMeasure(e);\n  }\n  _updateScreenMeasure(e) {\n    const t = R,\n      r = 1 << t,\n      i = e.measures.screenRect;\n    l(i);\n    let s = 0;\n    const o = e.lij,\n      n = o[0],\n      c = n + t,\n      a = o[1] << t,\n      m = o[2] << t,\n      h = this._tileSizeWithBias(e),\n      p = h * h,\n      _ = this._camera,\n      {\n        frustum: f,\n        viewport: S\n      } = _;\n    if (this._renderCoordsHelper.viewingMode === d.Local || n > g) {\n      const t = C;\n      this._tilingScheme.getExtent(o[0], o[1], o[2], t);\n      const r = y,\n        i = H,\n        s = l();\n      for (let e = 0; e < 4; ++e) this._toRenderCoords(t, w[e][0], w[e][1], i[e]), _.projectToScreen(i[e], r[e]), u(s, r[e]);\n      const n = b(f, i, 4),\n        c = s[0] > S[2] || s[1] > S[3] || s[2] < S[0] || s[3] < S[1];\n      if (n || c) return void (e.measures.shouldSplit = !1);\n    }\n    for (let l = 0; l < r; l++) for (let t = 0; t < r; t++) if (s += this._computeScreenArea(c, a + l, m + t, i), s > p) return void (e.measures.shouldSplit = !0);\n    e.measures.shouldSplit = !1;\n  }\n  _tileSizeWithBias(e) {\n    return e.measures.visibility === f.VISIBLE_WHEN_EXTENDED ? this._tileSize * T : this._tileSize;\n  }\n  _computeScreenArea(e, t, r, i) {\n    this._tilingScheme.ensureMaxLod(e);\n    const s = C;\n    this._tilingScheme.getExtent(e, t, r, s);\n    const o = A;\n    this._toRenderCoords(s, 0, 3, o[0]), this._toRenderCoords(s, 2, 3, o[1]), this._toRenderCoords(s, 2, 1, o[2]), this._toRenderCoords(s, 0, 1, o[3]);\n    return this._computeTriangleScreenArea([o[0], o[1], o[2]], i) + this._computeTriangleScreenArea([o[2], o[1], o[3]], i);\n  }\n  _computeTriangleScreenArea(e, t) {\n    const i = this._camera.frustum[h.NEAR];\n    let s = 0,\n      o = -1,\n      n = -1;\n    for (let r = 0; r < 3; ++r) {\n      p(i, e[r]) > 0 ? (s++, -1 === o && (o = r)) : -1 === n && (n = r);\n    }\n    if (0 === s) return this._computeTriangleScreenAreaInside(e, t);\n    if (1 === s) {\n      const s = I,\n        n = (o + 1) % 3,\n        c = (o + 2) % 3,\n        a = o;\n      r(s[0], e[n]), r(s[1], e[c]), x(s[2], e[c], e[a], i);\n      const l = this._computeTriangleScreenAreaInside(s, t);\n      x(s[1], e[n], e[a], i);\n      return l + this._computeTriangleScreenAreaInside(s, t);\n    }\n    if (2 === s) {\n      const s = I,\n        o = n;\n      r(s[0], e[o]);\n      const c = (n + 1) % 3,\n        a = (n + 2) % 3;\n      return x(s[1], e[o], e[c], i), x(s[2], e[o], e[a], i), this._computeTriangleScreenAreaInside(s, t);\n    }\n    return 0;\n  }\n  _computeTriangleScreenAreaInside(e, t) {\n    for (let r = 0; r < 3; r++) this._camera.projectToRenderScreen(e[r], E), this._camera.renderToScreen(E, y[r]), m(t, y[r], t);\n    return _(y[0], y[1], y[2]);\n  }\n  _toRenderCoords(e, t, r, i) {\n    return M[0] = e[t], M[1] = e[r], M[2] = this._surfaceElevation, this._renderCoordsHelper.toRenderCoords(M, this._tilingScheme.spatialReference, i), i;\n  }\n}\nconst R = 2,\n  T = 5,\n  y = [e(), e(), e(), e()],\n  C = n(),\n  M = o(),\n  A = [o(), o(), o(), o()],\n  E = t(),\n  I = [o(), o(), o()];\nfunction x(e, t, r, o) {\n  const n = p(o, t),\n    c = p(o, r),\n    a = Math.abs(c - n);\n  i(e, t, Math.abs(c) / a), s(e, e, r, Math.abs(n) / a);\n}\nconst H = [o(), o(), o(), o()],\n  w = [[0, 3], [2, 3], [2, 1], [0, 1]];\nexport { v as FeatureTileMeasurements3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport i from \"../../../../core/Collection.js\";\nimport { makeHandle as s } from \"../../../../core/handleUtils.js\";\nimport r from \"../../../../core/Logger.js\";\nimport { removeMaybe as n } from \"../../../../core/maybe.js\";\nimport o from \"../../../../core/PooledArray.js\";\nimport { watch as l, sync as h, syncAndInitial as a } from \"../../../../core/reactiveUtils.js\";\nimport { generateUID as c } from \"../../../../core/uid.js\";\nimport { property as u } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as d } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as p, empty as _, expand as m, height as f, intersects as g } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { FeatureTileDescriptor3D as y, Visibility as T } from \"./FeatureTileDescriptor3D.js\";\nimport { FeatureTileMeasurements3D as S } from \"./FeatureTileMeasurements3D.js\";\nimport { toBoundingRect as E } from \"../../support/extentUtils.js\";\nimport { TaskPriority as v, noBudget as R } from \"../../../support/Scheduler.js\";\nlet w = class extends t {\n  get tilingScheme() {\n    const e = this.tilingSchemeOwner.tilingScheme;\n    if (!e) return null;\n    return e.clone();\n  }\n  set filterExtent(e) {\n    if (null != e && !e.spatialReference.equals(this.viewState.spatialReference)) return void r.getLogger(this).error(\"#extent\", \"extent spatial reference needs to be in the same spatial reference as the view\");\n    const t = this._get(\"filterExtent\");\n    if (t === e || null != t && e && t.equals(e)) return;\n    const i = null != e ? e.clone() : null;\n    this._set(\"filterExtent\", i), this._setDirty();\n  }\n  get _filterExtentRect() {\n    if (null == this.filterExtent) return null;\n    const e = p();\n    return E(this.filterExtent, e, this.tilingScheme.spatialReference), e;\n  }\n  get _rootTileIds() {\n    const {\n      tilingScheme: e\n    } = this;\n    return this._filterExtentRect && e ? e.rootTilesInExtent(this._filterExtentRect) : [[0, 0, 0]];\n  }\n  set suspended(e) {\n    e !== this._get(\"suspended\") && (this._set(\"suspended\", e), this._setDirty());\n  }\n  get updating() {\n    return this._dirty || !!this._pendingTiles;\n  }\n  constructor(e) {\n    super(e), this.tiles = new i(), this.tileSize = 512, this._idToTile = new Map(), this._clients = new Set(), this._dirty = !1, this._pendingTiles = null, this._newTiles = new o();\n  }\n  initialize() {\n    this.addHandles([l(() => [this.tilingScheme, this.tileSize], () => this._reset(), h), l(() => [this.tileSize, this.cameraOnSurface?.location, this.tilingScheme, this.viewState?.contentCamera, this.focus?.location], () => this._setDirty(), a), l(() => this.terrain?.baseOpacity ?? 1, () => this._setDirty())]), this.scheduler && (this._frameWorker = this.scheduler.registerTask(v.FEATURE_TILE_TREE, this));\n  }\n  destroy() {\n    this._frameWorker = n(this._frameWorker);\n  }\n  addClient() {\n    const e = c();\n    return this._clients.add(e), 1 === this._clients.size && this._setDirty(), s(() => this._removeClient(e));\n  }\n  _removeClient(e) {\n    this._clients.delete(e), this._hasClients || this._clear();\n  }\n  get _hasClients() {\n    return this._clients.size > 0;\n  }\n  _setDirty() {\n    !this._hasClients || this.suspended || this._dirty || (this._frameWorker ? (this._dirty = !0, this.notifyChange(\"updating\")) : this.runTask(R));\n  }\n  _clear() {\n    this.tiles.removeAll(), this._idToTile.clear(), this._reset(), this._dirty = !1, this.notifyChange(\"updating\");\n  }\n  get running() {\n    return this.updating;\n  }\n  runTask(e) {\n    this._dirty = !1, this._pendingTiles || (this._startUpdate(), null != this._frameWorker && (this._frameWorker.priority = v.FEATURE_TILE_TREE_ACTIVE)), this._subdivideTilesForView(e), this._pendingTiles || null == this._frameWorker || (this._frameWorker.priority = v.FEATURE_TILE_TREE), this.notifyChange(\"updating\");\n  }\n  _startUpdate() {\n    if (this.suspended) return;\n    if (!this.tilingScheme) return void this._clear();\n    this._tileMeasurements || (this._tileMeasurements = new S({\n      renderCoordsHelper: this.renderCoordsHelper,\n      tilingScheme: this.tilingScheme,\n      tileSize: this.tileSize,\n      getIsGroundOpaque: () => 1 === (this.terrain?.baseOpacity ?? 1)\n    }));\n    const e = this.viewState.contentCamera;\n    this._tileMeasurements.begin(e, this.focus.location, this.cameraOnSurface.location.z ?? 0), this._pendingTiles = this._getRootTiles();\n  }\n  _reset() {\n    this._newTiles.clear(), this._tileMeasurements = null, this._pendingTiles = null, this._setDirty();\n  }\n  _getRootTiles() {\n    const {\n      tilingScheme: e\n    } = this;\n    return this._rootTileIds.map(t => new y(t[0], t[1], t[2], e));\n  }\n  _purgeHorizonTiles(e) {\n    e.sort((e, t) => {\n      const i = e.measures.screenRect,\n        s = t.measures.screenRect;\n      return i[1] + i[3] - (s[1] + s[3]);\n    });\n    if (!(e.length > O)) return e.toArray();\n    _(x);\n    for (let t = 0; t < e.length; t++) if (m(x, e.data[t].measures.screenRect, x), f(x) > C) return e.data.slice(t, e.length);\n    return [];\n  }\n  _subdivideTilesForView(e) {\n    if (!this._pendingTiles) return;\n    const {\n      tilingScheme: t\n    } = this;\n    for (; this._pendingTiles.length > 0 && !e.done;) {\n      const i = this._pendingTiles.pop();\n      e.madeProgress(), this._filterExtentRect && !g(this._filterExtentRect, i.extent) || (this._tileMeasurements.updateTile(i), i.measures.visibility !== T.INVISIBLE && (i.measures.shouldSplit ? (t.ensureMaxLod(i.lij[0] + 1), this._pendingTiles.push(...i.getChildren())) : this._newTiles.push(i)));\n    }\n    0 === this._pendingTiles.length && (this._updateTiles(this._purgeHorizonTiles(this._newTiles)), this._newTiles.clear(), this._tileMeasurements.end(), this._pendingTiles = null);\n  }\n  _updateTiles(e) {\n    for (const s of this.tiles.items) s.used = !1;\n    const t = e.filter(e => {\n        const t = this._idToTile.get(e.id);\n        return t ? (t.copyMeasurementsFrom(e), t.used = !0) : this._idToTile.set(e.id, e), !t;\n      }),\n      i = this.tiles.items.filter(e => !e.used && (this._idToTile.delete(e.id), !0));\n    this.tiles.removeMany(i), this.tiles.addMany(t), this._sortTiles();\n  }\n  _sortTiles() {\n    this.viewState.fixedContentCamera || this.tiles.sort((e, t) => e.measures.visibility !== t.measures.visibility ? e.measures.visibility === T.VISIBLE_ON_SURFACE ? -1 : 1 : e.measures.distance - t.measures.distance), this.tiles.forEach((e, t) => e.loadPriority = t);\n  }\n};\ne([u({\n  constructOnly: !0\n})], w.prototype, \"scheduler\", void 0), e([u({\n  constructOnly: !0\n})], w.prototype, \"renderCoordsHelper\", void 0), e([u({\n  constructOnly: !0\n})], w.prototype, \"tilingSchemeOwner\", void 0), e([u({\n  constructOnly: !0\n})], w.prototype, \"cameraOnSurface\", void 0), e([u({\n  constructOnly: !0\n})], w.prototype, \"focus\", void 0), e([u({\n  constructOnly: !0\n})], w.prototype, \"viewState\", void 0), e([u({\n  constructOnly: !0\n})], w.prototype, \"terrain\", void 0), e([u()], w.prototype, \"tiles\", void 0), e([u()], w.prototype, \"tileSize\", void 0), e([u({\n  readOnly: !0\n})], w.prototype, \"tilingScheme\", null), e([u()], w.prototype, \"filterExtent\", null), e([u({\n  readOnly: !0\n})], w.prototype, \"_filterExtentRect\", null), e([u({\n  readOnly: !0\n})], w.prototype, \"_rootTileIds\", null), e([u({\n  value: !1\n})], w.prototype, \"suspended\", null), e([u({\n  readOnly: !0\n})], w.prototype, \"updating\", null), w = e([d(\"esri.views.3d.layers.support.FeatureTileTree3D\")], w);\nconst x = p(),\n  C = 10,\n  O = 50;\nexport { w as FeatureTileTree3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport r from \"../../../core/Evented.js\";\nimport { when as o } from \"../../../core/reactiveUtils.js\";\nimport { property as a } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { afterDispatch as s } from \"../../../core/accessorSupport/watch.js\";\nimport { fromValues as n } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as l } from \"../../../geometry/ellipsoidUtils.js\";\nimport p from \"../../ViewAnimation.js\";\nimport { ViewingMode as c } from \"../../ViewingMode.js\";\nimport { Constraints as m } from \"./Constraints.js\";\nimport { AnimationController as d } from \"./controllers/AnimationController.js\";\nimport { State as h } from \"./controllers/CameraController.js\";\nimport { PropertiesPool as u } from \"../support/PropertiesPool.js\";\nimport g from \"../webgl/RenderCamera.js\";\nimport { PaddingSide as C } from \"../webgl-engine/lib/rendererUtils.js\";\nimport { RenderState as y } from \"../../support/RenderState.js\";\nlet _ = class extends t {\n  constructor() {\n    super(...arguments), this._propertiesPool = new u({\n      camera: g\n    }, this), this._lastSeenCameraProjectionValues = new g(), this.mode = y.ANIMATING, this._cssCamera = new g(), this._camera = new g(), this.rasterPixelRatio = 1, this.contentPixelRatio = 1, this.events = new r(), this.viewingMode = c.Global, this._cameraChanged = !1, this._updateQueue = new Array(), this._processingUpdates = !1;\n  }\n  init(e, t) {\n    this._set(\"viewingMode\", e), this._set(\"spatialReference\", t), this._set(\"constraints\", new m({\n      mode: this.viewingMode\n    }));\n  }\n  exit() {\n    this.cameraController = null, this._propertiesPool.destroy(), this._propertiesPool = new u({\n      camera: g\n    }, this);\n  }\n  destroy() {\n    this.cameraController = null, this._propertiesPool?.destroy(), this._propertiesPool = null;\n  }\n  createInitialCamera() {\n    if (this.viewingMode === c.Global) {\n      const e = l(this.spatialReference).radius;\n      this.camera = new g({\n        eye: n(4 * e, 0, 0),\n        center: n(e, 0, 0),\n        up: n(0, 0, 1)\n      });\n    } else this.camera = new g({\n      eye: n(0, 0, 100),\n      center: n(0, 0, 0),\n      up: n(0, 1, 0)\n    });\n  }\n  get animation() {\n    return this.cameraController instanceof d && null != this.cameraController.viewAnimation ? this.cameraController.viewAnimation : null;\n  }\n  get cssCamera() {\n    const e = this._cssCamera.copyFrom(this.camera),\n      {\n        height: t,\n        width: r,\n        pixelRatio: o\n      } = this.camera;\n    return e.pixelRatio = 1, e.height = Math.round(t / o), e.width = Math.round(r / o), e;\n  }\n  get camera() {\n    return this._camera;\n  }\n  set camera(e) {\n    e !== v && v.copyFrom(e), v.computeUp(this.viewingMode), this.events.emit(\"before-camera-change\", v);\n    const t = this._camera;\n    if (w(this._lastSeenCameraProjectionValues, v) && (this._lastSeenCameraProjectionValues.copyFrom(v), this.events.emit(\"camera-projection-changed\", this._lastSeenCameraProjectionValues)), !t.equals(v) && (this._camera = this._propertiesPool.get(\"camera\").copyFrom(v), this._cameraChanged = !t.almostEquals(v), this._cameraChanged)) {\n      const e = s(() => {\n        this._cameraChanged = !1, e.remove();\n      });\n    }\n  }\n  get pixelRatio() {\n    return this.camera.pixelRatio;\n  }\n  get alignPixelEnabled() {\n    return this.pixelRatio === this.rasterPixelRatio && this.mode === y.IDLE;\n  }\n  get updating() {\n    return this.mode !== y.IDLE;\n  }\n  get contentCamera() {\n    return this._contentCamera ?? this.camera;\n  }\n  set contentCamera(e) {\n    this._contentCamera = null != e ? e.clone() : null;\n  }\n  get fixedContentCamera() {\n    return null != this._contentCamera;\n  }\n  get isGlobal() {\n    return this.viewingMode === c.Global;\n  }\n  get isLocal() {\n    return this.viewingMode === c.Local;\n  }\n  get navigating() {\n    return !!this.cameraController?.isInteractive;\n  }\n  get stationary() {\n    return !this._cameraChanged && !this.navigating;\n  }\n  get cameraController() {\n    return this._get(\"cameraController\");\n  }\n  set cameraController(e) {\n    this.stopActiveCameraController() ? (this.cameraController?.destroy(), e && (this.removeHandles(j), this.addHandles(o(() => e.state === h.Finished || e.state === h.Stopped, () => {\n      this._set(\"cameraController\", null), this.updateCamera(t => e.onControllerEnd(t));\n    }, {\n      sync: !0,\n      once: !0\n    }), j), e.onControllerStart(this.camera)), this._set(\"cameraController\", e)) : e && (e.state = h.Rejected);\n  }\n  switchCameraController(e) {\n    return this.cameraController = e, e.state !== h.Rejected;\n  }\n  stopActiveCameraController() {\n    return !(this.cameraController && !this.cameraController.stopController());\n  }\n  updateCamera(e) {\n    this._updateQueue.push(e), this._processUpdateQueue();\n  }\n  _processUpdateQueue() {\n    if (0 === this._updateQueue.length || this._processingUpdates) return;\n    this._processingUpdates = !0;\n    const e = this._updateQueue.shift();\n    v.copyFrom(this._get(\"camera\")), e(v), this.camera = v, this._processingUpdates = !1, this._processUpdateQueue();\n  }\n};\ne([a()], _.prototype, \"mode\", void 0), e([a({\n  readOnly: !0,\n  type: p\n})], _.prototype, \"animation\", null), e([a({\n  type: g\n})], _.prototype, \"cssCamera\", null), e([a()], _.prototype, \"_cssCamera\", void 0), e([a({\n  type: g\n})], _.prototype, \"camera\", null), e([a()], _.prototype, \"_camera\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"pixelRatio\", null), e([a()], _.prototype, \"rasterPixelRatio\", void 0), e([a()], _.prototype, \"contentPixelRatio\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"alignPixelEnabled\", null), e([a({\n  readOnly: !0\n})], _.prototype, \"updating\", null), e([a({})], _.prototype, \"_contentCamera\", void 0), e([a({\n  type: g\n})], _.prototype, \"contentCamera\", null), e([a({\n  readOnly: !0\n})], _.prototype, \"fixedContentCamera\", null), e([a({\n  readOnly: !0\n})], _.prototype, \"constraints\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"events\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"isGlobal\", null), e([a({\n  readOnly: !0\n})], _.prototype, \"isLocal\", null), e([a({\n  readOnly: !0\n})], _.prototype, \"viewingMode\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"spatialReference\", void 0), e([a()], _.prototype, \"navigating\", null), e([a()], _.prototype, \"stationary\", null), e([a()], _.prototype, \"_cameraChanged\", void 0), e([a()], _.prototype, \"cameraController\", null), _ = e([i(\"esri.views.3d.state.ViewState\")], _);\nconst f = _;\nfunction w(e, t) {\n  return e.fov !== t.fov || e.fullViewport[0] !== t.fullViewport[0] || e.fullViewport[1] !== t.fullViewport[1] || e.fullViewport[2] !== t.fullViewport[2] || e.fullViewport[3] !== t.fullViewport[3] || e.padding[C.TOP] !== t.padding[C.TOP] || e.padding[C.RIGHT] !== t.padding[C.RIGHT] || e.padding[C.BOTTOM] !== t.padding[C.BOTTOM] || e.padding[C.LEFT] !== t.padding[C.LEFT];\n}\nconst v = new g(),\n  j = \"ViewStateHandles\";\nexport { f as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/PooledArray.js\";\nimport { castRenderScreenPointArray3 as t, createRenderScreenPointArray3 as r } from \"../../../../core/screenUtils.js\";\nimport { getMetersPerVerticalUnitForSR as n } from \"../../../../core/unitUtils.js\";\nimport { g as i, n as s, m as o } from \"../../../../chunks/vec32.js\";\nimport { create as l } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as c, copy as a, negativeInfinity as u, width as h, height as d, expandPointInPlace as p } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { create as m } from \"../../../../geometry/support/ray.js\";\nimport { sv3d as y } from \"../../../../geometry/support/vectorStacks.js\";\nimport { getElevationOffsetInMeters as f } from \"../../../../support/elevationInfoUtils.js\";\nimport { ViewingMode as g } from \"../../../ViewingMode.js\";\nimport { computeMapPointFromVec3d as R } from \"../../support/hitTest.js\";\nimport { fromRenderAtEye as _, fromScreen as I } from \"../../support/geometryUtils/ray.js\";\nimport { defaultTolerance as v, newIntersector as b } from \"../../webgl-engine/lib/Intersector.js\";\nimport { StoreResults as w, IntersectorType as P } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { isValidIntersectorResult as j, sliceFilterPredicate as M } from \"../../webgl-engine/lib/intersectorUtils.js\";\nclass U {\n  constructor(t, r, n) {\n    this.viewingMode = t, this._forEachLayer = r, this._view = n, this._externalIntersectionHandlers = new e(), this._tolerance = v, this._tmpRay = m(), this._tmpRegion = c(), this._validateHUDIntersector = b(this.viewingMode), this._validateHUDIntersector.options.hud = !1;\n  }\n  intersectScreen(e, t, r) {\n    return this.intersectRay(this._getPickRay(e, this._tmpRay), T(this.viewingMode), t, r);\n  }\n  intersectScreenFreePointFallback(e, t, r) {\n    return this.intersectRayFreePointFallback(this._getPickRay(e, this._tmpRay), t, r);\n  }\n  intersectRayFreePointFallback(e, t, r) {\n    return this.intersectRay(e, T(this.viewingMode), t, r) || this._intersectRayFreePointLocal(e, t);\n  }\n  intersectRay(e, t, r, n) {\n    return t.options.selectionMode = !1, t.options.store = w.MIN, this.computeIntersection(e, t, n), !!t.results.min && t.results.min.getIntersectionPoint(r);\n  }\n  getCenterRayWithSubpixelOffset(e, t, r = .5, n = .5) {\n    return e.getRenderCenter(D, r, n), D[0] += .0466, D[1] -= .0123, _(e, D, t);\n  }\n  intersectIntersectorScreen(e, t, r) {\n    this.computeIntersection(this._getPickRay(e, this._tmpRay), t, r);\n  }\n  intersectToolIntersectorScreen(e, t, r) {\n    const n = this._getPickRay(e, this._tmpRay);\n    this.intersectToolIntersectorRay(n, t, r);\n  }\n  intersectToolIntersectorRay(e, t, r) {\n    t.options.selectionMode = !0, this.computeIntersection(e, t, r);\n    const n = t.results.min;\n    !!this._view.basemapTerrain && this._view.basemapTerrain.opaque || j(n) && n.intersector !== P.TERRAIN || (t.options.selectionMode = !1, this.computeIntersection(e, t, r));\n  }\n  setTolerance(e = v) {\n    this._tolerance = e;\n  }\n  addIntersectionHandler(e) {\n    this._externalIntersectionHandlers.push(e), this._externalIntersectionHandlers.sort((e, t) => e.type === P.TERRAIN ? 1 : t.type === P.TERRAIN ? -1 : 0);\n  }\n  removeIntersectionHandler(e) {\n    null != this._externalIntersectionHandlers.removeUnordered(e) && this._externalIntersectionHandlers.sort((e, t) => e.type === P.TERRAIN ? 1 : t.type === P.TERRAIN ? -1 : 0);\n  }\n  _getPickRay(e, t) {\n    const r = this._view.state.camera;\n    return I(r, e, t);\n  }\n  _intersectRayFreePointLocal(e, t) {\n    return this.viewingMode !== g.Local || null == e || i(t, e.origin, s(y.get(), e.direction)), !1;\n  }\n  intersectElevationFromScreen(e, t, r = 0, n = null) {\n    return this._intersectElevation(this._getPickRay(e, this._tmpRay), t, r, n);\n  }\n  _intersectElevation(e, r, l = 0, c = null) {\n    if (null == e) return null;\n    const a = this._view,\n      {\n        renderCoordsHelper: u\n      } = a,\n      h = n(a.spatialReference),\n      d = null != r ? r.mode : \"absolute-height\",\n      p = f(r) / h,\n      m = (\"on-the-ground\" !== d ? p + l : 0) * h / u.unitInMeters,\n      {\n        camera: g\n      } = a.state;\n    if (\"absolute-height\" === d) {\n      const t = u?.getAltitude(g.eye),\n        r = o(s(F, e.direction), u.worldUpAtPosition(g.eye, S));\n      if (t < m && r < 0 || t >= m && r > 0) return null;\n      if (u.intersectInfiniteManifold(e, m, F)) {\n        const e = R(a, F);\n        return e.z ??= 0, e.z -= p, e;\n      }\n      return null;\n    }\n    const _ = t(y.get());\n    g.projectToRenderScreen(e.origin, _);\n    const I = new A(null, this._forEachLayer),\n      {\n        slicePlane: v\n      } = a,\n      j = null != v ? M(v) : null,\n      U = b(this.viewingMode);\n    U.options.store = w.MIN, U.options.verticalOffset = m, U.options.normalRequired = !1;\n    const x = e.origin,\n      E = i(y.get(), x, e.direction);\n    U.reset(x, E, g), U.point = _;\n    const H = c ? \"type\" in c && \"graphics\" === c.type ? e => e.layerUid !== c.uid : e => e.graphicUid !== c.uid : null;\n    switch (d) {\n      case \"relative-to-scene\":\n        {\n          const e = e => (!H || H(e)) && !!e.lastValidElevationBB;\n          U.intersect(I.layers, _, this._tolerance, null, e), this._externalIntersectionHandlers.forAll(e => {\n            if (e.type === P.I3S || e.type === P.TERRAIN || e.type === P.TILES3D) {\n              const t = e.slicePlaneEnabled ? j : null;\n              e.intersect(U, t, U.rayBegin, U.rayEnd, _);\n            }\n          });\n          break;\n        }\n      case \"on-the-ground\":\n      case \"relative-to-ground\":\n        this._externalIntersectionHandlers.forAll(e => {\n          if (e.isGround) {\n            const t = e.slicePlaneEnabled ? j : null;\n            e.intersect(U, t, U.rayBegin, U.rayEnd, _);\n          }\n        });\n    }\n    if (U.results.min.getIntersectionPoint(F)) {\n      const e = R(a, F);\n      return e.z = l, e;\n    }\n    return null;\n  }\n  computeIntersection(e, r, n, s) {\n    if (null == e) return;\n    const o = this._view.state.camera,\n      l = t(y.get());\n    o.projectToRenderScreen(e.origin, l);\n    const c = new A(n, this._forEachLayer);\n    r.options.selectOpaqueTerrainOnly = !n || !(\"include\" in n || \"exclude\" in n);\n    const a = e.origin,\n      u = i(y.get(), e.origin, e.direction);\n    r.reset(a, u, o), r.intersect(c.layers, l, this._tolerance);\n    const h = this._view.slicePlane,\n      d = null != h ? M(h) : null;\n    r.intersect(c.sliceableLayers, l, this._tolerance, d);\n    const p = n && (n.requiresGroundFeedback || n.enableDraped);\n    this._externalIntersectionHandlers.forAll(e => {\n      const t = e.layerUid,\n        n = Array.isArray(t),\n        i = n ? t : [t];\n      n && (r.options.filteredLayerUids = []);\n      let o = !1;\n      for (const s of i) {\n        !c.filterLayerUid(s) ? n && r.options.filteredLayerUids.push(s) : o = !0;\n      }\n      if (r.options.isFiltered = !o, e.isGround && p || !r.options.isFiltered) {\n        const t = e.slicePlaneEnabled ? d : null;\n        e.intersect(r, t, a, u, l, s);\n      }\n    });\n    const m = y.get(),\n      f = this._view.basemapTerrain;\n    if (n && n.enableDraped && null != f.spatialReference && r.results.ground.getIntersectionPoint(m)) {\n      const e = f.overlayManager.renderer,\n        t = this._view.renderCoordsHelper.spatialReference,\n        n = y.get();\n      this._view.renderCoordsHelper.fromRenderCoords(m, n, f.spatialReference), n[2] = this._view.elevationProvider?.getElevation(m[0], m[1], m[2], t, \"ground\") ?? 0, e.intersect(r, n, r.results.ground, e => c.filterRenderGeometry(e));\n    }\n    r.sortResults(), this._processHUDResults(r);\n  }\n  _processHUDResults(e) {\n    const t = e.results.hud;\n    a(this._tmpRegion, u);\n    const r = this._view.state.camera,\n      n = [],\n      i = this._tmpRegion,\n      s = e => {\n        const t = new H(e);\n        r.projectToRenderScreen(e.target.center, t.screenPoint), t.screenPoint[0] = Math.floor(t.screenPoint[0]), t.screenPoint[1] = Math.floor(t.screenPoint[1]), n.push(t), p(i, t.screenPoint);\n      };\n    e.sortResults(t.all), null != t.min.dist && s(t.min);\n    for (const a of t.all) t.min.target.object !== a.target.object && t.max.target.object !== a.target.object && s(a);\n    if (null != t.max.dist && t.max.target.object !== t.min.target.object && s(t.max), !n.length) return;\n    i[0] === i[2] && (i[2] += 1), i[1] === i[3] && (i[3] += 1);\n    const o = r.fullWidth,\n      l = r.fullHeight,\n      c = Math.max(0, i[0] - x),\n      m = Math.max(0, i[1] - x),\n      y = Math.min(h(i) + 2 * x, o - c),\n      f = Math.min(d(i) + 2 * x, l - m);\n    if (y <= 0 || f <= 0) return;\n    const g = new Uint8Array(y * f * 4);\n    this._view._stage.renderer.readHUDVisibility(c, m, y, f, g);\n    let R = !0;\n    const _ = null == e.results.max.dist;\n    let I = 0;\n    for (const a of n) for (const t of E) {\n      const r = 4 * (Math.min(a.screenPoint[0] + t[0], o) - i[0] + (Math.min(a.screenPoint[1] + t[1], l) - i[1]) * y);\n      if (!(r < 0 || r >= g.length) && g[r]) {\n        R && (e.results.min.copy(a.result), R = !1), _ && e.results.max.copy(a.result), e.options.store === w.ALL && e.results.all.splice(I++, 0, a.result);\n        break;\n      }\n    }\n  }\n}\nconst x = 1,\n  E = (() => {\n    const e = [],\n      t = x;\n    for (let r = -t; r <= t; r++) for (let n = -t; n <= t; n++) e.push([n + t, r + t]);\n    return e;\n  })();\nclass H {\n  constructor(e) {\n    this.result = e, this.screenPoint = r();\n  }\n}\nlet L;\nfunction T(e) {\n  return L && L.viewingMode === e || (L = b(e)), L;\n}\nclass A {\n  constructor(e, t) {\n    this.layers = new Array(), this.sliceableLayers = new Array(), this.include = e?.include, this.exclude = e?.exclude, t(e => {\n      e.pickable && this.filterLayerUid(e.apiLayerUid) && (e.sliceable ? this.sliceableLayers : this.layers).push(e);\n    });\n  }\n  filterLayerUid(e) {\n    const {\n      include: t,\n      exclude: r\n    } = this;\n    return null == e ? null == t && null == r : (null == t || t.has(e)) && (null == r || !r.has(e));\n  }\n  filterRenderGeometry(e) {\n    return this.filterLayerUid(e.layerUid);\n  }\n}\nfunction k(e) {\n  return \"object\" == typeof e && \"intersect\" in e;\n}\nconst F = l(),\n  S = l(),\n  D = r();\nexport { U as SceneIntersectionHelper, k as isIntersectionHandler };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport s from \"../../../core/Evented.js\";\nimport { destroyMaybe as r } from \"../../../core/maybe.js\";\nimport { throwIfAbortError as n } from \"../../../core/promiseUtils.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport a from \"../../../geometry/SpatialReference.js\";\nimport { equals as l } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { ElevationQuery as c } from \"../layers/graphics/ElevationQuery.js\";\nimport { ElevationRange as u } from \"./ElevationRange.js\";\nlet h = class extends s.EventedMixin(t) {\n  get spatialReference() {\n    return this.view?.basemapTerrain?.spatialReference;\n  }\n  constructor(e) {\n    super(e), this._im = new Array(), this._ground = new Array(), this._scene = new Array(), this.lastElevationQuery = null, this._cacheEnabled = !1;\n  }\n  destroy() {\n    this._cachedQuery = r(this._cachedQuery);\n  }\n  enableCache(e) {\n    e || (this.lastElevationQuery = null), this._cacheEnabled = e;\n  }\n  getElevation(e, t, s, r, n) {\n    if (this._cacheEnabled && null != this.lastElevationQuery) {\n      const o = this.lastElevationQuery;\n      if (e === o.x && t === o.y && s === o.z && l(r, o.spatialReference) && n === o.queryContext) return o.result;\n    }\n    let o = null;\n    return o = p(o, this._im, e, t, s, r, n), null == o && (o = p(o, this._ground, e, t, s, r, n)), \"scene\" === n && (o = p(o, this._scene, e, t, s, r, n)), this._cacheEnabled && (this.lastElevationQuery = {\n      x: e,\n      y: t,\n      z: s,\n      spatialReference: r,\n      queryContext: n,\n      result: o\n    }), o;\n  }\n  getSphereElevationBounds(e, t, s) {\n    const r = new u();\n    function n(n) {\n      for (const o of n) if (o.getSphereElevationBounds) {\n        const n = o.getSphereElevationBounds(e, t, s);\n        null != n && r.expandElevationRangeValues(n.elevationRangeMin, n.elevationRangeMax);\n      }\n    }\n    return n(this._ground), n(this._im), \"scene\" === s && n(this._scene), r;\n  }\n  getRootElevationBounds() {\n    const e = new u();\n    for (const t of [this._im, this._ground, this._scene]) t.forEach(t => {\n      if (t.getRootElevationBounds) {\n        const s = t.getRootElevationBounds();\n        null != s && e.expandElevationRangeValues(s.elevationRangeMin, s.elevationRangeMax);\n      }\n    });\n    return e;\n  }\n  async queryElevation(e, t, s, r, o, i = null, a = 0) {\n    const l = this._getElevationQuery(r);\n    try {\n      const n = await l.queryElevation(e, t, i, a);\n      return \"scene\" === o ? p(n, this._scene, e, t, s, r, o) : n;\n    } catch (c) {\n      return n(c), this.getElevation(e, t, s, r, o);\n    }\n  }\n  register(e, t) {\n    this.addHandles(t.on(\"elevation-change\", e => this.emit(\"elevation-change\", e)), t), this._providersFromContext(e).push(t);\n  }\n  unregister(e) {\n    this.removeHandles(e);\n    for (const t of [this._im, this._ground, this._scene]) {\n      const s = t.indexOf(e);\n      s > -1 && t.splice(s, 1);\n    }\n  }\n  _providersFromContext(e) {\n    switch (e) {\n      case \"ground\":\n        return this._ground;\n      case \"im\":\n        return this._im;\n      case \"scene\":\n        return this._scene;\n    }\n  }\n  _getElevationQuery(e = this.view.spatialReference) {\n    const t = this._cachedQuery;\n    if (null != t && l(e, t.spatialReference)) return t;\n    t?.destroy({\n      completeTasks: !0\n    });\n    const {\n        wkid: s,\n        wkt: r,\n        wkt2: n,\n        latestWkid: o\n      } = e,\n      i = new c(this.view.resourceController.scheduler, new a({\n        wkid: s,\n        wkt: r,\n        wkt2: n,\n        latestWkid: o\n      }), () => this.view.map?.ground, {\n        maximumAutoTileRequests: 4\n      });\n    return this._cachedQuery = i, i;\n  }\n};\nfunction p(e, t, s, r, n, o, i) {\n  for (const a of t) {\n    const t = a.getElevation(s, r, n, o, i);\n    null != t && (e = null != e ? Math.max(t, e) : t);\n  }\n  return e;\n}\ne([o({\n  constructOnly: !0\n})], h.prototype, \"view\", void 0), e([o()], h.prototype, \"spatialReference\", null), h = e([i(\"esri.views.3d.support.CombinedElevationProvider\")], h);\nexport { h as CombinedElevationProvider };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from \"../../../core/has.js\";\nimport { Milliseconds as e } from \"../../../core/time.js\";\nclass a {\n  static isValidProfile(e) {\n    return e in a.profiles;\n  }\n  static getDefaultProfile() {\n    return has(\"esri-iPhone\") ? \"low\" : \"medium\";\n  }\n  static apply(e, i) {\n    const o = a.profiles[e];\n    i.graphics3D.maxTotalNumberOfFeatures = o.graphics3D.maxTotalNumberOfFeatures, i.graphics3D.maxNumberOfDrawCalls = o.graphics3D.maxNumberOfDrawCalls, i.graphics3D.maxTotalNumberOfVertices = o.graphics3D.maxTotalNumberOfVertices, i.graphics3D.polygonLodFactor = o.graphics3D.polygonLodFactor, i.graphics3D.polylineLodFactor = o.graphics3D.polylineLodFactor, i.graphics3D.snapshotAvailable = o.graphics3D.snapshotAvailable, i.graphics3D.skipHighSymbolLods = o.graphics3D.skipHighSymbolLods, i.graphics3D.uncompressedTextureDownsamplingEnabled = o.graphics3D.uncompressedTextureDownsamplingEnabled;\n    const l = i.sceneService.object,\n      t = o.sceneService.object;\n    l.lodFactor = t.lodFactor, i.sceneService.point.lodFactor = o.sceneService.point.lodFactor, i.sceneService.integratedMesh.lodFactor = o.sceneService.integratedMesh.lodFactor, i.sceneService.pointCloud.lodFactor = o.sceneService.pointCloud.lodFactor, i.sceneService.uncompressedTextureDownsamplingEnabled = o.sceneService.uncompressedTextureDownsamplingEnabled, i.tiledSurface.lodBias = o.tiledSurface.lodBias, i.tiledSurface.angledSplitBias = o.tiledSurface.angledSplitBias, i.tiledSurface.vtlContentZoom = o.tiledSurface.vtlContentZoom, i.tiledSurface.elevationLevelDelta = o.tiledSurface.elevationLevelDelta, i.tiledSurface.reduceTileLevelDifferences = o.tiledSurface.reduceTileLevelDifferences, i.heatmap.pixelRatio = o.heatmap.pixelRatio, i.heatmap.maxTotalNumberOfFeatures = o.heatmap.maxTotalNumberOfFeatures, i.fadeDuration = o.fadeDuration, i.antialiasingEnabled = o.antialiasingEnabled, i.physicallyBasedRenderingEnabled = o.physicalBasedRenderingEnabled, i.highQualityTransparency = o.highQualityTransparency, i.highResolutionAtmosphere = o.highResolutionAtmosphere, i.reflections = o.reflections, i.ambientOcclusion = o.ambientOcclusion, i.memoryLimit = o.memoryLimit, i.additionalCacheMemory = o.additionalCacheMemory, i.frameRate = o.frameRate, i.maximumPixelRatio = o.maximumPixelRatio;\n  }\n}\na.test = {\n  reset() {\n    const e = o();\n    for (const i of Object.keys(e)) a.profiles[i] = e[i];\n  }\n};\nconst i = {\n  IPhone12Pro: 120,\n  GalaxyS20: 200,\n  FullHD: 240,\n  SurfacePro7: 300,\n  FullHDRetina: 430\n};\nfunction o() {\n  const a = !!has(\"esri-mobile\"),\n    o = !!has(\"ios\"),\n    l = e(400);\n  return {\n    low: {\n      graphics3D: {\n        maxTotalNumberOfFeatures: 25e3,\n        maxNumberOfDrawCalls: 8e3,\n        maxTotalNumberOfVertices: 255e4,\n        polygonLodFactor: .5,\n        polylineLodFactor: 1,\n        snapshotAvailable: !1,\n        skipHighSymbolLods: !0,\n        uncompressedTextureDownsamplingEnabled: !0\n      },\n      heatmap: {\n        pixelRatio: .125,\n        maxTotalNumberOfFeatures: 5e4\n      },\n      sceneService: {\n        object: {\n          lodFactor: .2\n        },\n        point: {\n          lodFactor: 1\n        },\n        integratedMesh: {\n          lodFactor: .6\n        },\n        pointCloud: {\n          lodFactor: .5\n        },\n        uncompressedTextureDownsamplingEnabled: !0\n      },\n      tiledSurface: {\n        lodBias: -1,\n        angledSplitBias: .5,\n        vtlContentZoom: .75,\n        elevationLevelDelta: 3,\n        reduceTileLevelDifferences: !0\n      },\n      fadeDuration: e(0),\n      antialiasingEnabled: !1,\n      physicalBasedRenderingEnabled: !1,\n      highQualityTransparency: !1,\n      highResolutionAtmosphere: !1,\n      reflections: !1,\n      ambientOcclusion: !1,\n      memoryLimit: 200 + i.IPhone12Pro,\n      additionalCacheMemory: 0,\n      frameRate: 0,\n      maximumPixelRatio: 1\n    },\n    medium: {\n      graphics3D: {\n        maxTotalNumberOfFeatures: 1e5,\n        maxNumberOfDrawCalls: 17e3,\n        maxTotalNumberOfVertices: 625e4,\n        polygonLodFactor: a ? .8 : 1,\n        polylineLodFactor: a ? 1.2 : 1.5,\n        snapshotAvailable: !o,\n        skipHighSymbolLods: !1,\n        uncompressedTextureDownsamplingEnabled: a\n      },\n      heatmap: {\n        pixelRatio: .25,\n        maxTotalNumberOfFeatures: 13e4\n      },\n      sceneService: {\n        object: {\n          lodFactor: 1\n        },\n        point: {\n          lodFactor: 1\n        },\n        integratedMesh: {\n          lodFactor: 1\n        },\n        pointCloud: {\n          lodFactor: 1\n        },\n        uncompressedTextureDownsamplingEnabled: a\n      },\n      tiledSurface: {\n        lodBias: 0,\n        angledSplitBias: 1,\n        vtlContentZoom: 1.5,\n        elevationLevelDelta: 3,\n        reduceTileLevelDifferences: !has(\"disable-feature:reduce-map-tile-levels\")\n      },\n      fadeDuration: l,\n      antialiasingEnabled: !1,\n      physicalBasedRenderingEnabled: !0,\n      highQualityTransparency: !0,\n      highResolutionAtmosphere: !1,\n      reflections: !1,\n      ambientOcclusion: !1,\n      memoryLimit: a ? 600 + i.GalaxyS20 : 750 + i.FullHD,\n      additionalCacheMemory: a ? -100 : 150,\n      frameRate: 0,\n      maximumPixelRatio: 1\n    },\n    high: {\n      graphics3D: {\n        maxTotalNumberOfFeatures: 1e5,\n        maxNumberOfDrawCalls: 17e3,\n        maxTotalNumberOfVertices: 125e5,\n        polygonLodFactor: a ? 1.2 : 2,\n        polylineLodFactor: a ? 1.2 : 2,\n        snapshotAvailable: !o,\n        skipHighSymbolLods: !1,\n        uncompressedTextureDownsamplingEnabled: !1\n      },\n      heatmap: {\n        pixelRatio: .5,\n        maxTotalNumberOfFeatures: 23e4\n      },\n      sceneService: {\n        object: {\n          lodFactor: 1\n        },\n        point: {\n          lodFactor: 1\n        },\n        integratedMesh: {\n          lodFactor: 1\n        },\n        pointCloud: {\n          lodFactor: 1\n        },\n        uncompressedTextureDownsamplingEnabled: !1\n      },\n      tiledSurface: {\n        lodBias: 0,\n        angledSplitBias: 1,\n        vtlContentZoom: 1.5,\n        elevationLevelDelta: 2,\n        reduceTileLevelDifferences: !has(\"disable-feature:reduce-map-tile-levels\")\n      },\n      fadeDuration: l,\n      antialiasingEnabled: !0,\n      physicalBasedRenderingEnabled: !0,\n      highQualityTransparency: !0,\n      highResolutionAtmosphere: !0,\n      reflections: !0,\n      ambientOcclusion: !0,\n      memoryLimit: a ? 900 + i.SurfacePro7 : 1500 + i.FullHDRetina,\n      additionalCacheMemory: a ? -150 : 0,\n      frameRate: 0,\n      maximumPixelRatio: a ? 1 : 1 / 0\n    }\n  };\n}\n!function (e) {\n  e.profiles = o();\n}(a || (a = {}));\nconst l = a;\nexport { l as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from \"../../../../../Color.js\";\nconst r = new o([0, 255, 255]),\n  e = 1,\n  n = .25,\n  t = new o([0, 0, 0]),\n  m = .4,\n  p = .2;\nexport { r as defaultColor, n as defaultFillOpacity, e as defaultHaloOpacity, t as defaultShadowColor, p as defaultShadowDifference, m as defaultShadowOpacity };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../Color.js\";\nimport r from \"../../../core/Accessor.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { defaultColor as i, defaultHaloOpacity as p, defaultFillOpacity as c, defaultShadowOpacity as l, defaultShadowColor as a, defaultShadowDifference as h } from \"../webgl-engine/effects/highlight/HighlightDefaults.js\";\nlet d = class extends r {\n  constructor() {\n    super(...arguments), this.color = i.clone(), this.haloColor = null, this.haloOpacity = p, this.fillOpacity = c, this.shadowOpacity = l, this.shadowColor = a.clone(), this.shadowDifference = h;\n  }\n};\no([s({\n  type: t\n})], d.prototype, \"color\", void 0), o([s({\n  type: t\n})], d.prototype, \"haloColor\", void 0), o([s()], d.prototype, \"haloOpacity\", void 0), o([s()], d.prototype, \"fillOpacity\", void 0), o([s()], d.prototype, \"shadowOpacity\", void 0), o([s({\n  type: t\n})], d.prototype, \"shadowColor\", void 0), o([s()], d.prototype, \"shadowDifference\", void 0), d = o([e(\"esri.views.3d.support.HighlightOptions\")], d);\nconst y = d;\nexport { y as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport e from \"../../../core/Error.js\";\nimport { getMetersPerUnitForSR as r } from \"../../../core/unitUtils.js\";\nimport { getReferenceEllipsoid as t } from \"../../../geometry/ellipsoidUtils.js\";\nimport { getGeometryServiceURL as o } from \"../../../portal/support/geometryServiceUtils.js\";\nimport { project as i } from \"../../../rest/geometryService/project.js\";\nimport s from \"../../../rest/support/ProjectParameters.js\";\nimport m from \"../../../geometry/Point.js\";\nimport p from \"../../../geometry/SpatialReference.js\";\nclass a {\n  constructor(i, s) {\n    this.spatialReference = s, this.unitInMeters = r(this.spatialReference, t(this.spatialReference).metersPerDegree);\n    const m = i && \"portalItem\" in i ? i.portalItem : void 0;\n    this._geometryServiceURLPromise = o(m).catch(() => {\n      throw new e(\"mapcoordshelper:missing-geometry-service\", \"Must specify geometryService in esri/config\");\n    });\n  }\n  async toGeographic(e) {\n    const r = await this._geometryServiceURLPromise;\n    let t,\n      o = !0;\n    Array.isArray(e[0]) && \"number\" != typeof e[0] ? t = e : (t = [e], o = !1);\n    const a = t.map(e => e instanceof m ? e : new m(e, this.spatialReference)),\n      c = new s({\n        geometries: a,\n        outSpatialReference: p.WGS84\n      }),\n      n = (await i(r, c)).map(e => \"point\" === e.type ? [e.x, e.y] : void 0).filter(e => !!e);\n    return o ? n : n[0];\n  }\n}\nexport { a as MapCoordsHelper };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar A;\n!function (A) {\n  A[A.ELEVATION = 0] = \"ELEVATION\", A[A.MAP = 1] = \"MAP\";\n}(A || (A = {}));\nconst E = [A.ELEVATION, A.MAP];\nexport { A as LayerClass, E as LayerClasses };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { isIntegratedMeshLayer as e } from \"../../../layers/support/layerUtils.js\";\nimport { LayerClass as a } from \"../terrain/LayerClass.js\";\nimport { hitTestSelectSimilarDistance as r } from \"../../support/hitTestSelectUtils.js\";\nasync function t(a, t) {\n  const {\n      results: o,\n      ground: l\n    } = await r(a, t),\n    p = (!l.layer || !e(l.layer.type)) && l.mapPoint,\n    y = [],\n    c = i(a),\n    u = p ? s(a, c) : n;\n  let d = 0,\n    f = 0;\n  const m = () => {\n    const e = u.layerViews[f];\n    p && e && \"fetchPopupFeaturesAtLocation\" in e && y.push({\n      mapPoint: l.mapPoint,\n      layerView: e\n    }), ++f;\n  };\n  let h = null;\n  for (; d < o.length || f < u.layerViews.length;) {\n    const e = o[d];\n    if (e && \"graphic\" !== e.type) ++d;else if (\"scene\" !== e?.layer?.type || e?.layer?.parent !== a?.map?.basemap) {\n      if (e) {\n        const a = e.layer?.uid,\n          r = u.layerUids.has(a) && e.distance === l.distance,\n          t = c.get(e.layer?.uid);\n        if (h ??= e.mapPoint, f < u.layerViews.length && (r || (e.distance ?? 0) > l.distance) && u.layerViews[f] !== t) {\n          m();\n          continue;\n        }\n        y.push({\n          graphic: e.graphic,\n          layerView: t\n        }), ++d;\n      } else m();\n    } else ++d;\n  }\n  return h ??= l.mapPoint, {\n    hits: y,\n    location: h\n  };\n}\nfunction s(e, r) {\n  const t = new Set(),\n    s = [];\n  for (let i = e.basemapTerrain.numLayers(a.MAP) - 1; i >= 0; i--) {\n    const r = e.basemapTerrain.layerViewByIndex(i, a.MAP);\n    t.add(r.layer.uid), s.push(r);\n  }\n  const n = e.basemapTerrain.overlayManager.renderer.layers;\n  for (const {\n    uid: a\n  } of n) {\n    const e = r.get(a);\n    e && (t.add(a), s.push(e));\n  }\n  return s.reverse(), {\n    layerUids: t,\n    layerViews: s\n  };\n}\nconst n = {\n  layerUids: new Set(),\n  layerViews: []\n};\nfunction i(e) {\n  const a = new Map();\n  for (const r of e.allLayerViews) {\n    const e = r.layer.uid;\n    a.set(e, r);\n  }\n  return a;\n}\nexport { t as popupHitTest };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../chunks/tslib.es6.js\";\nimport e from \"../../../core/Accessor.js\";\nimport { Milliseconds as o } from \"../../../core/time.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nlet r = class extends e {\n  constructor() {\n    super(...arguments), this.minTotalNumberOfFeatures = 2e3, this.maxTotalNumberOfFeatures = 5e4, this.maxNumberOfDrawCalls = 17e3, this.maxTotalNumberOfVertices = 17e5, this.snapshotAvailable = !0, this.polygonLodFactor = 1, this.polylineLodFactor = 1, this.skipHighSymbolLods = !1, this.uncompressedTextureDownsamplingEnabled = !1;\n  }\n};\nt([i()], r.prototype, \"minTotalNumberOfFeatures\", void 0), t([i()], r.prototype, \"maxTotalNumberOfFeatures\", void 0), t([i()], r.prototype, \"maxNumberOfDrawCalls\", void 0), t([i()], r.prototype, \"maxTotalNumberOfVertices\", void 0), t([i()], r.prototype, \"snapshotAvailable\", void 0), t([i()], r.prototype, \"polygonLodFactor\", void 0), t([i()], r.prototype, \"polylineLodFactor\", void 0), t([i()], r.prototype, \"skipHighSymbolLods\", void 0), t([i()], r.prototype, \"uncompressedTextureDownsamplingEnabled\", void 0), r = t([s(\"esri.views.3d.support.QualitySettings.Graphics3DSettings\")], r);\nlet p = class extends e {\n  constructor() {\n    super(...arguments), this.lodFactor = 1;\n  }\n};\nt([i()], p.prototype, \"lodFactor\", void 0), p = t([s(\"esri.views.3d.support.QualitySettings.LoDFactorSettings\")], p);\nlet a = class extends e {\n  constructor() {\n    super(...arguments), this.object = new p(), this.point = new p(), this.integratedMesh = new p(), this.pointCloud = new p(), this.uncompressedTextureDownsamplingEnabled = !1;\n  }\n};\nt([i({\n  type: p\n})], a.prototype, \"object\", void 0), t([i({\n  type: p\n})], a.prototype, \"point\", void 0), t([i({\n  type: p\n})], a.prototype, \"integratedMesh\", void 0), t([i({\n  type: p\n})], a.prototype, \"pointCloud\", void 0), t([i()], a.prototype, \"uncompressedTextureDownsamplingEnabled\", void 0), a = t([s(\"esri.views.3d.support.QualitySettings.SceneServiceSettings\")], a);\nlet n = class extends e {\n  constructor() {\n    super(...arguments), this.lodBias = 0, this.angledSplitBias = 1, this.vtlContentZoom = 1, this.elevationLevelDelta = 3, this.reduceTileLevelDifferences = !0;\n  }\n};\nt([i()], n.prototype, \"lodBias\", void 0), t([i()], n.prototype, \"angledSplitBias\", void 0), t([i()], n.prototype, \"vtlContentZoom\", void 0), t([i()], n.prototype, \"elevationLevelDelta\", void 0), t([i()], n.prototype, \"reduceTileLevelDifferences\", void 0), n = t([s(\"esri.views.3d.support.QualitySettings.TiledSurfaceSettings\")], n);\nlet l = class extends e {\n  constructor() {\n    super(...arguments), this.pixelRatio = 1, this.maxTotalNumberOfFeatures = 5e4;\n  }\n};\nt([i()], l.prototype, \"pixelRatio\", void 0), t([i()], l.prototype, \"maxTotalNumberOfFeatures\", void 0), l = t([s(\"esri.views.3d.support.QualitySettings.HeatmapSettings\")], l);\nlet d = class extends e {\n  constructor() {\n    super(...arguments), this.graphics3D = new r(), this.sceneService = new a(), this.tiledSurface = new n(), this.heatmap = new l(), this.fadeDuration = o(400), this.antialiasingEnabled = !0, this.physicallyBasedRenderingEnabled = !1, this.highQualityTransparency = !0, this.highResolutionAtmosphere = !1, this.reflections = !1, this.ambientOcclusion = !1, this.memoryLimit = 750, this.additionalCacheMemory = 0, this.frameRate = void 0, this.maximumPixelRatio = 1 / 0;\n  }\n};\nt([i({\n  type: r\n})], d.prototype, \"graphics3D\", void 0), t([i({\n  type: a\n})], d.prototype, \"sceneService\", void 0), t([i({\n  type: n\n})], d.prototype, \"tiledSurface\", void 0), t([i({\n  type: l\n})], d.prototype, \"heatmap\", void 0), t([i()], d.prototype, \"fadeDuration\", void 0), t([i()], d.prototype, \"antialiasingEnabled\", void 0), t([i()], d.prototype, \"physicallyBasedRenderingEnabled\", void 0), t([i()], d.prototype, \"highQualityTransparency\", void 0), t([i()], d.prototype, \"highResolutionAtmosphere\", void 0), t([i()], d.prototype, \"reflections\", void 0), t([i()], d.prototype, \"ambientOcclusion\", void 0), t([i()], d.prototype, \"memoryLimit\", void 0), t([i()], d.prototype, \"additionalCacheMemory\", void 0), t([i()], d.prototype, \"frameRate\", void 0), t([i()], d.prototype, \"maximumPixelRatio\", void 0), d = t([s(\"esri.views.3d.support.QualitySettings\")], d);\nconst c = d;\nexport { c as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../core/has.js\";\nimport { assert as t } from \"../webgl-engine/lib/Util.js\";\nclass s {\n  constructor(t) {\n    this.client = t, this._cancelled = !1, this.size = 0, this.duration = 0;\n  }\n}\nclass e {\n  constructor(t) {\n    this.typeWorkerQuota = t, this.tasks = new Array(), this.numWorkers = 0, this.statistics = new i();\n  }\n}\nclass i {\n  constructor() {\n    this.requests = 0, this.size = 0, this.duration = 0, this.speed = 0;\n  }\n}\nclass r {\n  constructor(t, s, i, r) {\n    this._workerFunc = t, this._callbackFunc = s, this._maxTotalNumWorkers = i, this._totalNumWorkers = 0, this._clients = r.map(t => new e(t));\n  }\n  destroy() {\n    this._clients.length = 0;\n  }\n  hasQuota(t) {\n    const s = this._clients[t];\n    return !!s && (this._totalNumWorkers < this._maxTotalNumWorkers || s.numWorkers + s.tasks.length < s.typeWorkerQuota);\n  }\n  push(t) {\n    const s = this._clients[t.client];\n    s && (this._totalNumWorkers < this._maxTotalNumWorkers ? (s.numWorkers++, this._totalNumWorkers++, this._workerFunc(t, (t, s) => this._taskCallback(t, s))) : s.tasks.push(t));\n  }\n  cancel(t) {\n    this._taskFinished(t), t._cancelled = !0;\n  }\n  _taskFinished(s) {\n    const e = this._clients[s.client];\n    this._totalNumWorkers--, e && (e.numWorkers--, e.statistics.requests++, e.statistics.size += s.size || 0, e.statistics.duration += s.duration || 0, e.statistics.speed = e.statistics.duration > 0 ? e.statistics.size / e.statistics.duration : 0, t(e.numWorkers >= 0)), this._next();\n  }\n  _next() {\n    for (const t of this._clients) if (t && t.numWorkers < t.typeWorkerQuota && this._processQueue(t)) return;\n    for (const t of this._clients) if (t && this._processQueue(t)) return;\n  }\n  _processQueue(t) {\n    for (; t.tasks.length > 0;) if (this._workerFunc(t.tasks.shift(), (t, s) => this._taskCallback(t, s))) return t.numWorkers++, this._totalNumWorkers++, !0;\n    return !1;\n  }\n  _taskCallback(t, s) {\n    t._cancelled || (this._callbackFunc(t, s), this._taskFinished(t));\n  }\n  getStatsForType(t) {\n    const s = this._clients[t];\n    return s ? {\n      quota: s.typeWorkerQuota,\n      workers: s.numWorkers,\n      queueSize: s.tasks.length,\n      requestStats: s.statistics\n    } : null;\n  }\n  get test() {}\n}\nexport { r as AsyncWorkerQueue, s as BaseTask };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e {\n  constructor(e, t) {\n    this.element = e, this.type = \"image+type\", this.isOpaque = \"image/jpeg\" === t;\n  }\n}\nexport { e as ImageWithType };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../request.js\";\nimport s from \"../../../core/Accessor.js\";\nimport { removeUnordered as r } from \"../../../core/arrayUtils.js\";\nimport o from \"../../../core/Error.js\";\nimport \"../../../core/has.js\";\nimport { clone as a } from \"../../../core/lang.js\";\nimport { removeMaybe as n, abortMaybe as i, destroyMaybe as u } from \"../../../core/maybe.js\";\nimport { createResolver as l, onAbort as h, createAbortError as c, throwIfAborted as d, isAbortError as p } from \"../../../core/promiseUtils.js\";\nimport { property as m } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as _ } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { AsyncWorkerQueue as g, BaseTask as f } from \"./AsyncWorkerQueue.js\";\nimport { ImageWithType as k } from \"./ImageWithType.js\";\nimport { isImageWithType as L } from \"../terrain/TerrainData.js\";\nimport { assert as D } from \"../webgl-engine/lib/Util.js\";\nimport { TaskPriority as y } from \"../../support/Scheduler.js\";\nlet b = class extends s {\n  constructor() {\n    super(...arguments), this._tasks = new Map(), this._onLoadQueue = new Array(), this._doneQueue = new Array(), this.updating = !1;\n  }\n  setup(e, t, s) {\n    this._loadQueue = new g((e, t) => this._startLoading(e, t), (e, t) => this._doneLoadingCB(e, t), e, t), s && (this._frameTask = s.registerTask(y.STREAM_DATA_LOADER, this));\n  }\n  destroy() {\n    this._frameTask = n(this._frameTask), this._tasks.forEach(e => i(e.abortController)), this._loadQueue = u(this._loadQueue), this._onLoadQueue = null, this._doneQueue = null, this._tasks = null;\n  }\n  hasDownloadSlots(e) {\n    return this._loadQueue.hasQuota(e);\n  }\n  request(e, t, s, r = {}) {\n    const o = l();\n    o.__signal = null != r ? r.signal : null;\n    const a = this._createOrUpdateTask(e, t, s, r, o);\n    return h(r, () => this._cancelRequest(a, o)), o.promise;\n  }\n  _createTask(e, t, s, r, o, a) {\n    const n = new O(e, t, s, r, o);\n    return this._updateTask(n, a), this._tasks.set(o, n), 1 === this._tasks.size && this._set(\"updating\", !0), this._loadQueue.push(n), n;\n  }\n  _cancelRequest(e, t) {\n    r(e.resolvers, t), t.reject(c()), 0 === e.resolvers.length && (e.status === Q.DOWNLOADING && (e.status = Q.CANCELLED, this._loadQueue.cancel(e), e.abortController?.abort(), e.request = null, e.abortController = null), e.status = Q.CANCELLED, this._tasks.delete(e.key), 0 === this._tasks.size && this._set(\"updating\", !1));\n  }\n  _updateTask(e, t) {\n    e.resolvers.push(t);\n  }\n  _createOrUpdateTask(e, t, s, r, o) {\n    const a = E(r?.uid || e, t, s),\n      n = this._tasks.get(a);\n    return n ? (this._updateTask(n, o), n) : this._createTask(e, r, t, s, a, o);\n  }\n  _doneLoadingCB(e, t) {\n    this._loadQueue && (D(e.status === Q.DOWNLOADING), e.status = Q.DOWNLOADED, this._frameTask ? this._doneQueue.push({\n      task: e,\n      err: t\n    }) : this._doneLoading(e, t));\n  }\n  get running() {\n    return this._doneQueue.length > 0 || this._onLoadQueue.length > 0;\n  }\n  runTask(e) {\n    for (; !e.done && this._onLoadQueue.length > 0;) {\n      const t = this._onLoadQueue.shift();\n      d(t.task.abortController), t.task.abortController = null, t.callback(t.task), e.madeProgress();\n    }\n    for (; !e.done && this._doneQueue.length > 0;) {\n      const t = this._doneQueue.shift();\n      t.task.status !== Q.DOWNLOADED && (t.err = t.err || c()), this._doneLoading(t.task, t.err), e.madeProgress();\n    }\n  }\n  _doneLoading(e, t) {\n    if (t && !p(t) && e.numRetries > 0) return --e.numRetries, void this._loadQueue.push(e);\n    let s = L(e.result) || e.result instanceof HTMLImageElement ? 0 : e.resolvers.length;\n    for (const r of e.resolvers) if (t) p(t) ? r.reject(t) : r.reject(new o(\"stream-data-loader:request-error\", `Failed to request resource at '${e.url}'. ${t}`, {\n      url: e.url,\n      error: t\n    }));else {\n      --s;\n      const t = s > 0 ? a(e.result) : e.result;\n      r.resolve(t);\n    }\n    this._tasks.delete(e.key), 0 === this._tasks.size && this._set(\"updating\", !1);\n  }\n  _startLoading(e, s) {\n    if (e.status === Q.CANCELLED) return !1;\n    let r, o;\n    switch (e.startTime = performance.now(), e.status = Q.DOWNLOADING, e.docType) {\n      case \"binary\":\n        o = \"array-buffer\", r = 0;\n        break;\n      case \"image\":\n        o = \"image\";\n        break;\n      case \"image+type\":\n        o = \"array-buffer\";\n        break;\n      default:\n        o = \"json\";\n    }\n    e.abortController = new AbortController();\n    const a = e.abortController.signal;\n    e.request = t(e.url, {\n      ...e.options,\n      responseType: o,\n      timeout: r,\n      signal: a\n    });\n    const n = t => {\n        e.duration = performance.now() - e.startTime, e.size = t instanceof ArrayBuffer ? t.byteLength : e.size || 0, e.result = t, this._frameTask ? this._onLoadQueue.push({\n          callback: s,\n          task: e\n        }) : (e.abortController = null, s(e));\n      },\n      i = t => {\n        e.status === Q.DOWNLOADING && s(e, t);\n      };\n    return \"image+type\" !== e.docType ? (e.request.then(e => n(e.data), i), !0) : (e.request.then(s => {\n      const u = s.data,\n        l = A(u);\n      if (o = \"image\", e.size = u.byteLength, \"unknown\" === l) return e.request = t(e.url, {\n        responseType: o,\n        timeout: r,\n        signal: a\n      }), void e.request.then(e => n(e.data), i);\n      const h = new Blob([u], {\n          type: l\n        }),\n        c = window.URL.createObjectURL(h);\n      e.request = t(c, {\n        responseType: o,\n        timeout: r,\n        signal: a\n      }), e.request.then(e => n(new k(e.data, l)), i).finally(() => window.URL.revokeObjectURL(c));\n    }, i), !0);\n  }\n  get test() {}\n};\ne([m({\n  readOnly: !0\n})], b.prototype, \"updating\", void 0), b = e([_(\"esri.views.3d.support.StreamDataLoader\")], b);\nconst T = {\n  numRetries: 0\n};\nfunction A(e) {\n  if (e.byteLength < 2) return \"unknown\";\n  const t = new Uint8Array(e, 0, e.byteLength);\n  return 137 === t[0] && 80 === t[1] ? \"image/png\" : 71 === t[0] && 73 === t[1] ? \"image/gif\" : 66 === t[0] && 77 === t[1] ? \"image/bmp\" : 255 === t[0] && 216 === t[1] ? \"image/jpeg\" : \"unknown\";\n}\nclass O extends f {\n  constructor(e, t, s, r, o) {\n    super(r), this.url = e, this.options = t, this.docType = s, this.key = o, this.result = null, this.status = Q.QUEUED, this.request = null, this.abortController = null, this.resolvers = new Array(), this.startTime = 0, this.numRetries = T.numRetries;\n  }\n}\nfunction E(e, t, s) {\n  return `${e}:${t}:${s}`;\n}\nvar Q;\n!function (e) {\n  e[e.QUEUED = 1] = \"QUEUED\", e[e.DOWNLOADING = 2] = \"DOWNLOADING\", e[e.DOWNLOADED = 3] = \"DOWNLOADED\", e[e.CANCELLED = 4] = \"CANCELLED\";\n}(Q || (Q = {}));\nexport { b as StreamDataLoader, Q as TaskStatus, T as test };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { makeHandle as r } from \"../../../core/handleUtils.js\";\nimport \"../../../core/has.js\";\nimport { removeMaybe as s, destroyMaybe as o } from \"../../../core/maybe.js\";\nimport { watch as a, sync as i } from \"../../../core/reactiveUtils.js\";\nimport { addFrameTask as m } from \"../../../core/scheduling.js\";\nimport { signal as l } from \"../../../core/signal.js\";\nimport { secondsFromMilliseconds as d } from \"../../../core/time.js\";\nimport { property as n } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { maxDownloadSlots as u, downloadSlotsPerClient as p } from \"./index.js\";\nimport { newMemoryController as c } from \"./MemoryController.js\";\nimport { StreamDataLoader as _ } from \"./StreamDataLoader.js\";\nimport { ImmediateTask as g, newScheduler as y, TaskPriority as v } from \"../../support/Scheduler.js\";\nlet f = class extends t {\n  constructor() {\n    super(...arguments), this.updating = !1;\n  }\n};\nfunction j(e) {\n  return new T({\n    view: e\n  });\n}\ne([n({\n  readOnly: !0\n})], f.prototype, \"updating\", void 0), f = e([h(\"esri.views.3d.support.ResourceController.ResourceControllerMain\")], f);\nlet T = class extends f {\n  constructor() {\n    super(...arguments), this._immediateTask = g, this._normalTask = g, this._updatingObjects = l([]), this._frameTask = null;\n  }\n  get immediate() {\n    return this._immediateTask;\n  }\n  get normal() {\n    return this._normalTask;\n  }\n  initialize() {\n    this._scheduler = y(), this._memoryController = c(this.view), this._streamDataLoader = new _(), this._streamDataLoader.setup(u, p, this._scheduler), this.addHandles([a(() => this.view.state?.mode, e => {\n      null != e && (this._scheduler.state = e);\n    }, i), a(() => this.view.stationary, () => this._stationaryChangedHandler())]), this._frameTask = m({\n      update: e => this._frame(e)\n    }), this._immediateTask = this._scheduler.registerTask(v.RESOURCE_CONTROLLER_IMMEDIATE), this._normalTask = this._scheduler.registerTask(v.RESOURCE_CONTROLLER);\n  }\n  destroy() {\n    this._immediateTask.remove(), this._normalTask.remove(), this._frameTask = s(this._frameTask), this._streamDataLoader = o(this._streamDataLoader), this._memoryController = o(this._memoryController), this._scheduler = o(this._scheduler), this.view = null;\n  }\n  get updating() {\n    return !!(this._memoryController?.updating || this._streamDataLoader?.updating || this._immediateTask?.updating) || this._updatingObjects?.value.some(e => e.updating);\n  }\n  get scheduler() {\n    return this._scheduler;\n  }\n  get memoryController() {\n    return this._memoryController;\n  }\n  createStreamDataRequester(e) {\n    const t = this._streamDataLoader;\n    return {\n      request: (r, s, o) => t.request(r, s, e, o),\n      get busy() {\n        return !t.hasDownloadSlots(e);\n      }\n    };\n  }\n  addUpdatingObject(e) {\n    const t = this._updatingObjects;\n    return t.value = [...t.value, e], r(() => {\n      t.value = t.value.filter(t => t !== e);\n    });\n  }\n  _frame(e) {\n    this.view.suspended || this.view.stateManager && (this.view.stateManager.step(d(e.deltaTime)), !this._scheduler) || (this._memoryController.update(), this._scheduler.updateBudget(e) && this._scheduler.frame());\n  }\n  _stationaryChangedHandler() {\n    this.memoryController.resetStableQuality();\n  }\n  get test() {}\n};\ne([n()], T.prototype, \"view\", void 0), e([n()], T.prototype, \"_scheduler\", void 0), e([n()], T.prototype, \"_memoryController\", void 0), e([n()], T.prototype, \"_streamDataLoader\", void 0), e([n()], T.prototype, \"_immediateTask\", void 0), e([n()], T.prototype, \"_normalTask\", void 0), e([n()], T.prototype, \"_updatingObjects\", void 0), e([n({\n  readOnly: !0\n})], T.prototype, \"updating\", null), T = e([h(\"esri.views.3d.support.ResourceController\")], T);\nexport { j as newResourceController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e {\n  constructor(e) {\n    this.layer = null, this.memory = 0, this.displayedNumberOfFeatures = 0, this.maximumNumberOfFeatures = null, this.totalNumberOfFeatures = null, this.layer = e.layer;\n    const t = e.performanceInfo;\n    this.memory = t.usedMemory, this.displayedNumberOfFeatures = t.displayedFeatures, this.maximumNumberOfFeatures = t.maximumFeatures, this.totalNumberOfFeatures = t.totalFeatures;\n  }\n}\nexport { e as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ByteSizeUnit as e } from \"../../../core/ByteSizeUnit.js\";\nimport { isPerformanceInfoLayerView as r } from \"../layers/support/LayerViewPerformanceInfo.js\";\nimport o from \"./LayerPerformanceInfo.js\";\nclass s {\n  constructor(s) {\n    if (this.totalMemory = 0, this.usedMemory = 0, this.quality = 1, this.load = 0, this.terrainMemory = 0, this.edgesMemory = 0, this.layerPerformanceInfos = new Array(), this.cachedMemory = 0, this.fboMemory = 0, null != s.resourceController) {\n      const r = s.resourceController.memoryController;\n      this.totalMemory = (r.maxMemory ?? 0) * e.MEGABYTES, this.usedMemory = Math.round(r.usedMemory * this.totalMemory), this.quality = s.quality, this.load = s.resourceController.scheduler.load, this.cachedMemory = r.usedCacheMemory;\n    }\n    this.terrainMemory = s.basemapTerrain?.usedMemory ?? 0, this.edgesMemory = s._stage?.renderer.usedMemory.edges ?? 0, this.fboMemory = s._stage?.renderer.usedMemory.fbos ?? 0, s.allLayerViews?.items.forEach(e => {\n      r(e) && this.layerPerformanceInfos.push(new o(e));\n    }), this.layerPerformanceInfos.sort((e, r) => r.memory - e.memory);\n  }\n}\nexport { s as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { removeMaybe as t } from \"../../../../core/maybe.js\";\nimport { throwIfAborted as o, onAbort as e } from \"../../../../core/promiseUtils.js\";\nimport { DefaultLoadingContext as r } from \"../../glTF/DefaultLoadingContext.js\";\nimport { loadGLTF as s } from \"../../glTF/loader.js\";\nimport { load as l } from \"./wosrLoader.js\";\nclass a {\n  constructor(t) {\n    this._gltfLoading = new Map(), this._wosrLoading = new Map(), this._gltfMemCache = t(\"gltf-resources\", () => {}), this._wosrMemCache = t(\"wosr-resources\", () => {});\n  }\n  destroy() {\n    this._gltfLoading.forEach(t => t.abortController.abort()), this._wosrLoading.forEach(t => t.abortController.abort()), this._gltfMemCache.destroy(), this._wosrMemCache.destroy();\n  }\n  loadGLTF(t, o, e) {\n    const l = e ? `gltfPBR:${t}` : `gltf:${t}`,\n      a = this._gltfMemCache.get(l);\n    return null != a ? Promise.resolve(a) : i(this._gltfLoading, this._gltfMemCache, l, o => s(new r(o.streamDataRequester), t, o, e), o);\n  }\n  loadWOSR(t, o) {\n    const e = `wosr:${t}:${o.disableTextures}`,\n      r = this._wosrMemCache.get(e);\n    return null != r ? Promise.resolve(r) : i(this._wosrLoading, this._wosrMemCache, e, o => l(t, o), o);\n  }\n}\nasync function i(r, s, l, a, i) {\n  o(i);\n  const f = e(i, () => n(r, l));\n  let c = r.get(l);\n  if (c) c.refCount++;else {\n    const t = new AbortController();\n    c = {\n      refCount: 1,\n      abortController: t,\n      promise: a({\n        ...i,\n        signal: t.signal\n      })\n    }, r.set(l, c);\n  }\n  try {\n    const t = await c.promise;\n    return s.put(l, t, t.size), r.delete(l), o(i), t;\n  } finally {\n    t(f);\n  }\n}\nfunction n(t, o) {\n  const e = t.get(o);\n  if (null != e) {\n    if (--e.refCount > 0) return;\n  }\n  t.delete(o), null != e && e.abortController.abort();\n}\nexport { a as ObjectResourceCache };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport \"../../../core/has.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { TaskPriority as o, ImmediateTask as u } from \"../../support/Scheduler.js\";\nlet i = class extends t {\n  constructor(e, t) {\n    super({}), this._stage = e, this._textureRequests = new Map(), this._frameTask = t?.registerTask(o.TEXTURE_UNLOAD) ?? u;\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  destroy() {\n    super.destroy(), this._frameTask?.remove(), this._textureRequests?.forEach(e => this._releaseTextureRequest(e)), this._textureRequests?.clear();\n  }\n  get updating() {\n    return this._frameTask.updating;\n  }\n  fromData(e, t) {\n    const r = this.makeUid(e);\n    let s = this._textureRequests.get(r);\n    if (!s) {\n      const e = new a();\n      e.texture = t(), this._stage && (e.texture.load(this._stage.renderView.renderingContext), this._stage.add(e.texture)), this._textureRequests.set(r, e), s = e;\n    }\n    return s.referenceCount++, new n(r, s.texture, () => this._release(r));\n  }\n  _release(e) {\n    const t = this._textureRequests.get(e);\n    t ? (t.referenceCount < 1 && console.warn(\"TextureCollection: reference count is < 1 for \" + e), t.referenceCount--, t.referenceCount < 1 && this._frameTask.schedule(() => this._releaseNow(e))) : console.warn(`TextureCollection: texture doesn't exist: '${e}'`);\n  }\n  get test() {}\n  _releaseNow(e) {\n    if (!this._textureRequests) return;\n    const t = this._textureRequests.get(e);\n    !t || t.referenceCount > 0 || (t.texture?.unload(), this._releaseTextureRequest(t), this._textureRequests.delete(e));\n  }\n  _releaseTextureRequest(e) {\n    e.texture ? this._stage?.remove(e.texture) : e.abortController && (e.abortController.abort(), e.abortController = null);\n  }\n  makeUid(e, t = null) {\n    return null != t ? `${e}.${t}px` : e;\n  }\n};\ne([r()], i.prototype, \"_frameTask\", void 0), e([r()], i.prototype, \"updating\", null), i = e([s(\"esri.views.3d.support.TextureCollection\")], i);\nclass n {\n  constructor(e, t, r) {\n    this.uid = e, this.texture = t, this.release = r;\n  }\n}\nclass a {\n  constructor() {\n    this.referenceCount = 0;\n  }\n}\nexport { i as TextureCollection, a as TextureRequest, n as TextureResult };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { throwIfAborted as e, whenOrAbort as t } from \"../../../core/promiseUtils.js\";\nimport { isSVG as r } from \"../../../core/urlUtils.js\";\nimport { TextureCollection as s, TextureRequest as i, TextureResult as o } from \"./TextureCollection.js\";\nimport { Texture as n } from \"../webgl-engine/lib/Texture.js\";\nimport { TextureWrapMode as l } from \"../../webgl/enums.js\";\nclass a extends s {\n  constructor(e, t, r) {\n    super(t, r), this._streamDataRequester = e;\n  }\n  async fromUrl(r, s, n) {\n    e(n);\n    const l = n?.signal,\n      a = this.makeUid(r, s);\n    let h = this._textureRequests.get(a);\n    if (!h) {\n      const e = new AbortController(),\n        t = this._streamDataRequester.request(r, \"image\", {\n          uid: a,\n          signal: e.signal\n        });\n      h = new i(), h.abortController = e;\n      const n = h;\n      this._textureRequests.set(a, h), h.textureAsync = t.then(async e => {\n        const t = this._createTexture(r, e, s);\n        return n.texture = t, n.abortController = null, await t.load(this._stage.renderView.renderingContext), this._stage.add(t), new o(a, t, () => this._release(a));\n      }, e => {\n        throw n.abortController = null, e;\n      });\n    }\n    h.referenceCount++;\n    try {\n      return await t(h.textureAsync, l);\n    } catch (u) {\n      throw this._release(a), u;\n    }\n  }\n  _createTexture(e, t, s) {\n    const i = {\n      width: t.width,\n      height: t.height,\n      wrap: {\n        s: l.CLAMP_TO_EDGE,\n        t: l.CLAMP_TO_EDGE\n      },\n      preMultiplyAlpha: !0,\n      reloadable: !0\n    };\n    if (r(e)) {\n      if (s || 0 === t.width && 0 === t.height) {\n        const e = t.width ? t.height / t.width : 1;\n        s = s || 64, e > 1 ? (t.width = Math.round(s / e), t.height = s) : (t.width = s, t.height = Math.round(s * e));\n      }\n      this._stage.renderView?.renderingContext.driverTest.svgPremultipliesAlpha.result && (i.preMultiplyAlpha = !1);\n    }\n    return new n(t, i);\n  }\n}\nexport { a as StreamTextureCollection };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { removeUnordered as e } from \"../../../core/arrayUtils.js\";\nimport t from \"../../../core/Handles.js\";\nimport { makeHandle as s } from \"../../../core/handleUtils.js\";\nimport \"../../../core/has.js\";\nimport { destroyMaybe as r } from \"../../../core/maybe.js\";\nimport { watch as i, sync as n } from \"../../../core/reactiveUtils.js\";\nimport { getReferenceEllipsoid as c } from \"../../../geometry/ellipsoidUtils.js\";\nimport { ObjectResourceCache as a } from \"../layers/graphics/ObjectResourceCache.js\";\nimport { ClientType as o } from \"./index.js\";\nimport { StreamTextureCollection as p } from \"./StreamTextureCollection.js\";\nimport { getSettings as l, getLabelSettings as h } from \"../webgl-engine/lib/screenSizePerspectiveUtils.js\";\nclass S {\n  constructor(e) {\n    this.streamDataRequester = null, this._graphicsOwners = [], this._screenSizePerspectiveHandles = null, this.cimSymbolRasterizer = null, this._viewState = e.viewState, this._view = e.view, this._pointsOfInterest = e.pointsOfInterest, this.streamDataRequester = e.resourceController.createStreamDataRequester(o.SYMBOLOGY), this.objectResourceCache = new a((t, s) => e.resourceController.memoryController.newCache(t, s)), this.textures = new p(this.streamDataRequester, e.view._stage, e.resourceController.scheduler);\n    const t = c(this._view.spatialReference).radius;\n    this.screenSizePerspectiveSettings = l(e.viewingMode, t), this.screenSizePerspectiveSettingsLabels = h(e.viewingMode, t);\n  }\n  destroy() {\n    this.textures.destroy(), this.streamDataRequester = null;\n  }\n  addGraphicsOwner(t) {\n    if (!t) return s();\n    this._graphicsOwners.push(t);\n    const r = i(() => t.layer?.screenSizePerspectiveEnabled, () => this._updateScreenSizePerspectiveEnabled());\n    return this._updateScreenSizePerspectiveEnabled(), s(() => {\n      r.remove(), e(this._graphicsOwners, t), this._updateScreenSizePerspectiveEnabled();\n    });\n  }\n  _updateScreenSizePerspectiveEnabled() {\n    const e = this._graphicsOwners.some(e => !0 === e.layer?.screenSizePerspectiveEnabled);\n    if (e && !this._screenSizePerspectiveHandles) {\n      this._screenSizePerspectiveHandles = new t();\n      const e = () => this._updateScreenSizePerspectiveSettings();\n      this._screenSizePerspectiveHandles.add([i(() => this._pointsOfInterest.centerOnSurfaceInfrequent.distance, e, n), this._viewState.events.on(\"camera-projection-changed\", e)]), this._updateScreenSizePerspectiveSettings();\n    } else e || (this._screenSizePerspectiveHandles = r(this._screenSizePerspectiveHandles));\n  }\n  _updateScreenSizePerspectiveSettings() {\n    const e = this._pointsOfInterest;\n    d.distance = e.centerOnSurfaceInfrequent.distance, d.fovY = this._viewState.camera.fovY, this.screenSizePerspectiveSettings.update(d), this.screenSizePerspectiveSettingsLabels.update(d), this._view._stage.renderView.requestRender();\n  }\n  get test() {}\n}\nconst d = {\n  distance: 0,\n  fovY: 0\n};\nexport { S as SharedSymbolResources };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../geometry.js\";\nimport o from \"../../../Graphic.js\";\nimport \"../../../symbols.js\";\nimport r from \"../../../core/Collection.js\";\nimport i from \"../../../symbols/PointSymbol3D.js\";\nimport s from \"../../../symbols/IconSymbol3DLayer.js\";\nimport e from \"../../../symbols/TextSymbol3DLayer.js\";\nimport t from \"../../../geometry/Point.js\";\nclass m {\n  constructor(o, t, m = \"\") {\n    this.graphics = o, this._symbol = new i({\n      symbolLayers: new r([new s({\n        material: {\n          color: t\n        },\n        outline: {\n          color: [255, 255, 255],\n          size: 1\n        },\n        resource: {\n          primitive: \"circle\"\n        }\n      }), new e({\n        text: m,\n        halo: {\n          color: \"white\",\n          size: 1 / .75\n        },\n        material: {\n          color: t\n        },\n        size: 12\n      })])\n    });\n  }\n  show(r, i) {\n    if (null == i) return;\n    this.hide();\n    const s = new t({\n      x: r[0],\n      y: r[1],\n      z: r[2],\n      spatialReference: i\n    });\n    this._graphic = new o({\n      geometry: s,\n      symbol: this._symbol\n    }), this.graphics.add(this._graphic);\n  }\n  hide() {\n    null != this._graphic && (this.graphics.remove(this._graphic), this._graphic = null);\n  }\n}\nexport { m as PointGraphics };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport r from \"../../../../core/Accessor.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as t } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nlet e = class extends r {\n  constructor(o) {\n    super(o);\n  }\n};\no([s({\n  constructOnly: !0\n})], e.prototype, \"renderCoordsHelper\", void 0), o([s({\n  constructOnly: !0\n})], e.prototype, \"surface\", void 0), o([s({\n  constructOnly: !0\n})], e.prototype, \"state\", void 0), e = o([t(\"esri.views.3d.support.pointsOfInterest.PointOfInterest\")], e);\nexport { e as PointOfInterest };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { destroyMaybe as e } from \"../../../../core/maybe.js\";\nimport { isAbortError as r } from \"../../../../core/promiseUtils.js\";\nimport { on as o } from \"../../../../core/reactiveUtils.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { p as n, e as a, c as l } from \"../../../../chunks/vec32.js\";\nimport { create as c } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport d from \"../../../../geometry/Point.js\";\nimport { ViewingMode as p } from \"../../../ViewingMode.js\";\nimport { distanceToScale as h } from \"../cameraUtils.js\";\nimport { PropertiesPool as u } from \"../PropertiesPool.js\";\nimport { PointOfInterest as m } from \"./PointOfInterest.js\";\nimport { Yield as _ } from \"../../../support/Yield.js\";\nconst g = Array;\nlet y = class extends m {\n  constructor(t) {\n    super(t), this._dirty = !1, this._propertiesPool = new u({\n      location: d,\n      renderLocation: g\n    }, this), this._estimatedSurfaceAltitude = 0, this._pendingElevationQueryController = null, this.renderLocation = c(), this._tmpPoint = new d();\n  }\n  initialize() {\n    if (this.scheduler && this.addHandles(this.scheduler.registerTask(this.task, this)), this.runTask(), this.map) {\n      const t = () => this._setDirty();\n      this.addHandles(o(() => this.map?.ground?.layers, \"change\", t, {\n        onListenerAdd: t,\n        onListenerRemove: t\n      }));\n    }\n    this._updateRenderLocation();\n  }\n  destroy() {\n    this._cancelPendingRequest(), this._propertiesPool = e(this._propertiesPool);\n  }\n  get _camera() {\n    return this.state.contentCamera;\n  }\n  get location() {\n    const t = this._propertiesPool.get(\"location\");\n    return t.spatialReference = this.state.spatialReference, this.renderCoordsHelper.fromRenderCoords(this.renderLocation, t), t;\n  }\n  get scale() {\n    const t = this._camera,\n      e = n(t.eye, this.renderLocation),\n      r = {\n        renderCoordsHelper: this.renderCoordsHelper,\n        state: {\n          camera: t\n        }\n      };\n    return h(r, e, 0);\n  }\n  get updating() {\n    return this._dirty || null != this._pendingElevationQueryController;\n  }\n  updateRenderLocation() {\n    this._setDirty(), this._updateRenderLocation();\n  }\n  _setDirty() {\n    this._dirty || (this._dirty = !0, this.notifyChange(\"updating\"));\n  }\n  _cancelPendingRequest() {\n    const t = this._pendingElevationQueryController;\n    t && (this._pendingElevationQueryController = null, t.abort(), this.notifyChange(\"updating\"));\n  }\n  get running() {\n    return !this._pendingElevationQueryController && this._dirty;\n  }\n  runTask() {\n    if (this._cancelPendingRequest(), this._dirty = !1, this.notifyChange(\"updating\"), !this.map?.ground) return this._updateSurfaceAltitude(0), _;\n    const t = this.state.spatialReference;\n    this._tmpPoint.spatialReference = t, this.renderCoordsHelper.fromRenderCoords(this._camera.eye, this._tmpPoint);\n    const e = (this._tmpPoint.z ?? 0) > C && this.renderCoordsHelper.viewingMode === p.Global && (t.isWGS84 || t.isWebMercator);\n    let o = new AbortController();\n    return this.map.ground.queryElevation(this._tmpPoint, {\n      signal: o.signal,\n      cache: this.cache,\n      minDemResolution: e ? v : 0\n    }).then(t => this._updateSurfaceAltitude(t.geometry.z ?? 0)).catch(t => {\n      r(t) || this._updateSurfaceAltitude(0);\n    }).catch(() => {}).then(() => {\n      this._pendingElevationQueryController === o && (this._pendingElevationQueryController = null, this.notifyChange(\"updating\")), o = null;\n    }), this._pendingElevationQueryController = o, _;\n  }\n  _updateSurfaceAltitude(t) {\n    this._estimatedSurfaceAltitude !== t && (this._estimatedSurfaceAltitude = t, this._updateRenderLocation());\n  }\n  _updateRenderLocation() {\n    this.renderCoordsHelper.setAltitude(f, this._estimatedSurfaceAltitude, this._camera.eye), a(this._get(\"renderLocation\"), f) || (this._set(\"renderLocation\", l(this._propertiesPool.get(\"renderLocation\"), f)), this.notifyChange(\"renderLocation\"));\n  }\n};\nt([i({\n  constructOnly: !0\n})], y.prototype, \"scheduler\", void 0), t([i({\n  constructOnly: !0\n})], y.prototype, \"cache\", void 0), t([i({\n  constructOnly: !0\n})], y.prototype, \"task\", void 0), t([i()], y.prototype, \"location\", null), t([i({\n  constructOnly: !0\n})], y.prototype, \"map\", void 0), t([i()], y.prototype, \"renderLocation\", void 0), t([i()], y.prototype, \"scale\", null), t([i()], y.prototype, \"updating\", null), y = t([s(\"esri.views.3d.support.pointsOfInterest.CameraOnSurface\")], y);\nconst f = c(),\n  C = 1e5,\n  v = 1e6;\nexport { y as CameraOnSurface };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { clamp as e } from \"../../../../core/mathUtils.js\";\nimport { removeMaybe as r, destroyMaybe as s } from \"../../../../core/maybe.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as a, p as n, j as c, g as u, e as l, q as d } from \"../../../../chunks/vec32.js\";\nimport { create as p } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getReferenceEllipsoid as h } from \"../../../../geometry/ellipsoidUtils.js\";\nimport f from \"../../../../geometry/Point.js\";\nimport { projectBoundingRect as m } from \"../../../../geometry/projection/projectBoundingRect.js\";\nimport { create as _ } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { debugFlags as S } from \"../debugFlags.js\";\nimport { PropertiesPool as g } from \"../PropertiesPool.js\";\nimport { PointOfInterest as y } from \"./PointOfInterest.js\";\nimport { Yield as A } from \"../../../support/Yield.js\";\nconst j = Array;\nlet L = class extends y {\n  constructor(t) {\n    super(t), this._propertiesPool = new g({\n      location: f,\n      renderLocation: j\n    }, this), this._currentSurfaceAltitude = 0, this._latestSurfaceAltitude = 0, this.distance = 0, this.renderLocation = p(), this.updating = !1;\n  }\n  initialize() {\n    this._frameWorker = this.scheduler.registerTask(this.task, this), this.runTask();\n  }\n  destroy() {\n    this._frameWorker = r(this._frameWorker), this._propertiesPool = s(this._propertiesPool);\n  }\n  get _camera() {\n    return this.state.contentCamera;\n  }\n  get location() {\n    const t = this._propertiesPool.get(\"location\");\n    return t.spatialReference = this.state.spatialReference, this.renderCoordsHelper.fromRenderCoords(this.renderLocation, t), t;\n  }\n  updateRenderLocation() {\n    this.updating = !0, this._updateRenderLocation();\n  }\n  get estimatedSurfaceAltitude() {\n    return this._latestSurfaceAltitude;\n  }\n  get running() {\n    return this.updating;\n  }\n  runTask() {\n    return this._latestSurfaceAltitude = this.estimateSurfaceAltitudeAtCenter(), this._updateRenderLocation(), this.updating = !1, A;\n  }\n  _updateRenderLocation() {\n    const t = C;\n    let e = this._calculateSurfaceIntersection(this._currentSurfaceAltitude, t);\n    const r = this._currentSurfaceAltitude !== this._latestSurfaceAltitude;\n    !e && r && (e = this._calculateSurfaceIntersection(this._latestSurfaceAltitude, t), e && (this._currentSurfaceAltitude = this._latestSurfaceAltitude));\n    const s = v;\n    e && this._latestSurfaceAltitudeChangesDistanceSignificantly(t, s) && (a(t, s), this._currentSurfaceAltitude = this._latestSurfaceAltitude), e ? this.distance = n(this._camera.eye, t) : (c(t, this._camera.viewForward, this._get(\"distance\")), u(t, t, this._camera.eye)), l(this._get(\"renderLocation\"), t) || this._set(\"renderLocation\", a(this._propertiesPool.get(\"renderLocation\"), t));\n  }\n  _calculateSurfaceIntersection(t, r) {\n    const s = this._camera;\n    if (!this.renderCoordsHelper.intersectInfiniteManifold(s.ray, t, r)) return !1;\n    if (this.state.isGlobal) {\n      const e = h(this.renderCoordsHelper.spatialReference).radius,\n        i = e + t,\n        o = d(s.eye),\n        a = o < i * i,\n        l = n(s.eye, r);\n      if (a && l > e / 4) {\n        const t = i - Math.sqrt(o);\n        return c(r, s.viewForward, t), u(r, r, s.eye), !0;\n      }\n    } else {\n      const t = this.surface?.ready ? this.surface.extent : null;\n      null != t && m(t, this.surface?.spatialReference, I, this.renderCoordsHelper.spatialReference) && (r[0] = e(r[0], I[0], I[2]), r[1] = e(r[1], I[1], I[3]));\n    }\n    return !0;\n  }\n  _latestSurfaceAltitudeChangesDistanceSignificantly(t, e) {\n    if (this._latestSurfaceAltitude === this._currentSurfaceAltitude || null == t) return !1;\n    if (this._calculateSurfaceIntersection(this._latestSurfaceAltitude, e)) {\n      if (S.TESTS_DISABLE_OPTIMIZATIONS) return !0;\n      const r = this._camera.eye,\n        s = n(r, t),\n        i = n(r, e);\n      if (Math.abs(i - s) / s > R) return !0;\n    }\n    return !1;\n  }\n};\nt([i({\n  constructOnly: !0\n})], L.prototype, \"scheduler\", void 0), t([i({\n  constructOnly: !0\n})], L.prototype, \"task\", void 0), t([i()], L.prototype, \"distance\", void 0), t([i({\n  constructOnly: !0\n})], L.prototype, \"estimateSurfaceAltitudeAtCenter\", void 0), t([i({\n  readOnly: !0\n})], L.prototype, \"location\", null), t([i({\n  readOnly: !0\n})], L.prototype, \"renderLocation\", void 0), t([i()], L.prototype, \"updating\", void 0), L = t([o(\"esri.views.3d.support.pointsOfInterest.CenterOnSurface\")], L);\nconst R = .05,\n  C = p(),\n  v = p(),\n  I = _();\nexport { L as CenterOnSurface };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Evented.js\";\nimport t from \"../../../../core/Handles.js\";\nimport { destroyMaybe as s } from \"../../../../core/maybe.js\";\nclass n {\n  constructor(s) {\n    this._handles = new t(), this.events = new e(), this._contentLayerViews = s.contentLayerViews, this._handles.add(this._contentLayerViews.on(\"change\", e => this._layerViewsChanged(e))), this._layerViewsChanged({\n      added: this._contentLayerViews.toArray(),\n      removed: [],\n      moved: [],\n      target: this._contentLayerViews\n    });\n  }\n  destroy() {\n    this._handles = s(this._handles), this._contentLayerViews.destroy();\n  }\n  _layerViewsChanged(e) {\n    e.added.forEach(e => {\n      \"esri.views.3d.layers.SceneLayerView3D\" === e.declaredClass && this._handles.add(e.on(\"visible-geometry-changed\", () => this._contentChanged()), e.uid);\n    }), e.removed.forEach(e => this._handles.remove(e.uid));\n  }\n  _contentChanged() {\n    this.events.emit(\"request-update\", a);\n  }\n}\nconst a = {};\nexport { n as ContentGeometryUpdates };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { destroyMaybe as r } from \"../../../../core/maybe.js\";\nimport { watch as o } from \"../../../../core/reactiveUtils.js\";\nimport { createRenderScreenPointArray3 as i } from \"../../../../core/screenUtils.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { m as c, G as a, c as p, o as d, f as l, n as u } from \"../../../../chunks/vec32.js\";\nimport { create as h } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport m from \"../../../../geometry/Point.js\";\nimport { wrap as f } from \"../../../../geometry/support/ray.js\";\nimport { PropertiesPool as g } from \"../PropertiesPool.js\";\nimport { PointOfInterest as y } from \"./PointOfInterest.js\";\nimport { PaddingSide as P } from \"../../webgl-engine/lib/rendererUtils.js\";\nimport { TaskPriority as _ } from \"../../../support/Scheduler.js\";\nimport { Yield as j } from \"../../../support/Yield.js\";\nconst L = Array;\nlet O = class extends y {\n  constructor(e) {\n    super(e), this._propertiesPool = new g({\n      location: m,\n      renderLocation: L\n    }, this), this._dirty = !0, this.renderLocation = this._propertiesPool.get(\"renderLocation\");\n  }\n  initialize() {\n    this.addHandles([o(() => this.centerOnSurface.renderLocation, () => this.updateRenderLocation()), o(() => this.state.contentCamera, () => this.updateRenderLocation())]), this.scheduler && this.addHandles(this.scheduler.registerTask(_.POINT_OF_INTEREST_FREQUENT, this));\n  }\n  destroy() {\n    this._propertiesPool = r(this._propertiesPool);\n  }\n  get updating() {\n    return this._dirty || this.centerOnSurface.updating;\n  }\n  get location() {\n    const e = this._propertiesPool.get(\"location\");\n    return e.spatialReference = this.state.spatialReference, this.renderCoordsHelper.fromRenderCoords(this.renderLocation, e), e;\n  }\n  get worldUnitsPerContentPixel() {\n    const {\n      camera: e,\n      contentPixelRatio: t\n    } = this.state;\n    return e.computeRenderPixelSizeAt(this.renderLocation) * (e.pixelRatio / t);\n  }\n  get running() {\n    return this._dirty;\n  }\n  runTask() {\n    const e = this._get(\"renderLocation\"),\n      r = this.centerOnSurface.renderLocation,\n      o = this.renderCoordsHelper,\n      i = this.state.contentCamera;\n    this._dirty = !1, o.worldUpAtPosition(r, S);\n    const s = Math.max(0, (Math.acos(c(S, i.viewForward)) - .5 * Math.PI) * (i.aboveGround ? 1 : -1));\n    if (Number.isNaN(s)) {\n      if (!e || !a(e, r)) {\n        const e = this._propertiesPool.get(\"renderLocation\");\n        p(e, r), this._set(\"renderLocation\", e);\n      }\n      return j;\n    }\n    const n = 1 - t(s / (.5 * Math.PI), 0, 1),\n      l = n * n * n;\n    this._calculateScreenHorizontalEdgeOnSurface(C);\n    const u = this._propertiesPool.get(\"renderLocation\");\n    return d(u, r, C, l), e && a(e, u) || this._set(\"renderLocation\", u), j;\n  }\n  _calculateScreenHorizontalEdgeOnSurface(e) {\n    const t = this.state.contentCamera,\n      r = t.getRenderCenter(i());\n    if (r[1] = t.aboveGround ? t.padding[P.BOTTOM] : t.fullHeight - t.padding[P.TOP], this.estimateSurfaceIntersectionAtRenderPoint(r, e)) return e;\n    const o = this.renderCoordsHelper.getAltitude(this.centerOnSurface.renderLocation);\n    if (t.unprojectFromRenderScreen(r, R)) {\n      l(R, R, t.eye);\n      const r = u(R, R);\n      if (this.renderCoordsHelper.intersectInfiniteManifold(f(t.eye, r), o, e)) return e;\n    }\n    return this.renderCoordsHelper.setAltitude(e, o, t.eye);\n  }\n  updateRenderLocation() {\n    this._dirty = !0;\n  }\n};\ne([s()], O.prototype, \"_dirty\", void 0), e([s({\n  constructOnly: !0\n})], O.prototype, \"scheduler\", void 0), e([s({\n  constructOnly: !0\n})], O.prototype, \"centerOnSurface\", void 0), e([s({\n  constructOnly: !0\n})], O.prototype, \"estimateSurfaceIntersectionAtRenderPoint\", void 0), e([s()], O.prototype, \"updating\", null), e([s()], O.prototype, \"location\", null), e([s()], O.prototype, \"renderLocation\", void 0), e([s()], O.prototype, \"worldUnitsPerContentPixel\", null), O = e([n(\"esri.views.3d.support.pointsOfInterest.Focus\")], O);\nconst S = h(),\n  R = h(),\n  C = h();\nexport { O as Focus };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Error.js\";\nimport \"../../../../core/Logger.js\";\nimport { watch as r, on as o } from \"../../../../core/reactiveUtils.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as a } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport n from \"../../../../geometry/Point.js\";\nimport { center as l } from \"../../../../geometry/support/aaBoundingRect.js\";\nlet c = class extends t {\n  get surface() {\n    return this.view.map?.ground;\n  }\n  get surfaceView() {\n    return this.view.basemapTerrain;\n  }\n  get renderLocation() {\n    if (!this.location) return null;\n    const e = a();\n    return this.view.renderCoordsHelper.toRenderCoords(this.location, e), e;\n  }\n  constructor(e) {\n    super(e), this.location = null, this._updateController = null;\n  }\n  initialize() {\n    this.view.state.isLocal && (this.addHandles([r(() => [this.surfaceView?.spatialReference, this.surfaceView?.extent], () => this._update()), o(() => this.surface?.layers, \"change\", () => this._update())]), this._update());\n  }\n  _update() {\n    if (this._updateController && (this._updateController.abort(), this._updateController = null), null == this.surfaceView?.extent || null == this.surfaceView.spatialReference) return void this._set(\"location\", null);\n    const e = l(this.surfaceView.extent),\n      t = new n({\n        x: e[0],\n        y: e[1],\n        z: 0,\n        spatialReference: this.surfaceView.spatialReference\n      });\n    this.surface && this.surface.layers.length > 0 ? (this._set(\"location\", null), this._updateController = new AbortController(), this.surface.queryElevation(t, {\n      noDataValue: 0,\n      signal: this._updateController.signal,\n      cache: this.cache\n    }).then(e => {\n      this._updateController = null, this._set(\"location\", e.geometry);\n    }).catch(e => {})) : this._set(\"location\", t);\n  }\n};\ne([s({\n  constructOnly: !0\n})], c.prototype, \"view\", void 0), e([s({\n  constructOnly: !0\n})], c.prototype, \"cache\", void 0), e([s()], c.prototype, \"surface\", null), e([s()], c.prototype, \"surfaceView\", null), e([s({\n  readOnly: !0\n})], c.prototype, \"location\", void 0), e([s({\n  readOnly: !0\n})], c.prototype, \"renderLocation\", null), c = e([i(\"esri.views.3d.support.pointsOfInterest.StableSurfaceCenter\")], c);\nexport { c as StableSurfaceCenter };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport r from \"../../../../core/Evented.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as i } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { empty as n, expand as c, intersects as a } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { TaskPriority as p } from \"../../../support/Scheduler.js\";\nimport { Yield as d } from \"../../../support/Yield.js\";\nlet u = class extends t {\n  constructor(e) {\n    super(e), this._tileGeometryUpdateExtent = n(), this._tileGeometryUpdateSpatialReference = null, this.events = new r(), this.updating = !1;\n  }\n  initialize() {\n    this.addHandles([this.surface.on(\"elevation-change\", e => this._tileGeometryChanged(e)), this.scheduler.registerTask(p.SURFACE_GEOMETRY_UPDATES, this)]);\n  }\n  get running() {\n    return this.updating;\n  }\n  runTask() {\n    return this.updating ? (this._tileGeometryUpdateSpatialReference && this._centerIntersectsExtent(this._tileGeometryUpdateExtent, this._tileGeometryUpdateSpatialReference) && this.events.emit(\"request-update\", l), n(this._tileGeometryUpdateExtent), this._set(\"updating\", !1), d) : d;\n  }\n  _tileGeometryChanged(e) {\n    this._tileGeometryUpdateSpatialReference = e.spatialReference, c(this._tileGeometryUpdateExtent, e.extent, this._tileGeometryUpdateExtent), this._set(\"updating\", !0);\n  }\n  _furthestCenterOnSurface() {\n    let e = this.centerOnSurfaces[0];\n    for (let t = 1; t < this.centerOnSurfaces.length; t++) {\n      const r = this.centerOnSurfaces[t];\n      r.distance > e.distance && (e = r);\n    }\n    return e;\n  }\n  _centerIntersectsExtent(e, t) {\n    const r = this.state.contentCamera.eye,\n      s = f,\n      o = this._furthestCenterOnSurface();\n    return this.renderCoordsHelper.fromRenderCoords(r, h, t), this.renderCoordsHelper.fromRenderCoords(o.renderLocation, m, t), h[0] < m[0] ? (s[0] = h[0], s[2] = m[0]) : (s[0] = m[0], s[2] = h[0]), h[1] < m[1] ? (s[1] = h[1], s[3] = m[1]) : (s[1] = m[1], s[3] = h[1]), a(s, e);\n  }\n};\ne([s({\n  constructOnly: !0\n})], u.prototype, \"state\", void 0), e([s({\n  constructOnly: !0\n})], u.prototype, \"centerOnSurfaces\", void 0), e([s({\n  constructOnly: !0\n})], u.prototype, \"renderCoordsHelper\", void 0), e([s({\n  constructOnly: !0\n})], u.prototype, \"scheduler\", void 0), e([s({\n  constructOnly: !0\n})], u.prototype, \"surface\", void 0), e([s({\n  readOnly: !0\n})], u.prototype, \"updating\", void 0), u = e([o(\"esri.views.3d.support.pointsOfInterest.SurfaceGeometryUpdates\")], u);\nconst l = {},\n  h = i(),\n  m = i(),\n  f = n();\nexport { u as SurfaceGeometryUpdates };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport \"../../../../core/has.js\";\nimport { watch as r, sync as s, when as n, on as i, initial as o } from \"../../../../core/reactiveUtils.js\";\nimport { property as a } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as c } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { g as u, e as h, c as d } from \"../../../../chunks/vec32.js\";\nimport { create as f } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as p } from \"../../../../geometry/support/ray.js\";\nimport { debugFlags as _ } from \"../debugFlags.js\";\nimport { PointGraphics as l } from \"../debugUtils.js\";\nimport { PropertiesPool as m } from \"../PropertiesPool.js\";\nimport { fromRenderAtEye as C } from \"../geometryUtils/ray.js\";\nimport { CameraOnSurface as y } from \"./CameraOnSurface.js\";\nimport { CenterOnSurface as A } from \"./CenterOnSurface.js\";\nimport { ContentGeometryUpdates as O } from \"./ContentGeometryUpdates.js\";\nimport { Focus as g } from \"./Focus.js\";\nimport { StableSurfaceCenter as w } from \"./StableSurfaceCenter.js\";\nimport { SurfaceGeometryUpdates as I } from \"./SurfaceGeometryUpdates.js\";\nimport { newIntersector as S } from \"../../webgl-engine/lib/Intersector.js\";\nimport { StoreResults as v } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { terrainId as b } from \"../../webgl-engine/lib/verticalOffsetUtils.js\";\nimport { TaskPriority as R } from \"../../../support/Scheduler.js\";\nlet P = class extends t {\n  constructor(e) {\n    super(e), this.renderPointOfView = f(), this._pois = new Array(), this._debugCenters = new Map(), this._tmpRay = p(), this._centerRayDirty = !0, this._surfaceAltitudeAtCenter = 0, this._surfaceAltitudeAtCenterDirty = !0, this._contentAltitudeAtCenter = 0, this._contentAltitudeAtCenterDirty = !0, this._propertiesPool = new m({\n      renderPointOfView: j\n    }, this);\n  }\n  initialize() {\n    const {\n      state: e,\n      basemapTerrain: t,\n      renderCoordsHelper: a,\n      map: c\n    } = this.view;\n    this._surfaceIntersector = S(e.viewingMode), e.isGlobal ? this._surfaceIntersector.options.backfacesTerrain = !1 : this._surfaceIntersector.options.backfacesTerrain = !0, this._surfaceIntersector.options.invisibleTerrain = !1, this._surfaceIntersector.options.store = v.MIN, this._contentIntersector = S(e.viewingMode);\n    const u = () => this._estimateSurfaceAltitudeAtCenter(),\n      h = this.view.resourceController.scheduler,\n      d = this.view.basemapTerrain?.elevationQueryCache,\n      f = {\n        state: e,\n        scheduler: h,\n        surface: t,\n        renderCoordsHelper: a\n      };\n    this._set(\"centerOnSurfaceInfrequent\", new A({\n      ...f,\n      task: R.POINT_OF_INTEREST_INFREQUENT,\n      estimateSurfaceAltitudeAtCenter: u\n    })), this._set(\"centerOnSurfaceFrequent\", new A({\n      ...f,\n      task: R.POINT_OF_INTEREST_FREQUENT,\n      estimateSurfaceAltitudeAtCenter: u\n    })), this._set(\"centerOnContent\", new A({\n      ...f,\n      task: R.POINT_OF_INTEREST_FREQUENT,\n      estimateSurfaceAltitudeAtCenter: () => this._estimateContentAltitudeAtCenter()\n    })), this._set(\"cameraOnSurface\", new y({\n      ...f,\n      cache: d,\n      task: R.POINT_OF_INTEREST_INFREQUENT,\n      map: c\n    })), this._set(\"surfaceGeometryUpdates\", new I({\n      ...f,\n      centerOnSurfaces: [this.centerOnSurfaceFrequent, this.centerOnContent, this.centerOnSurfaceInfrequent]\n    })), this._set(\"contentGeometryUpdates\", new O({\n      contentLayerViews: this.view.allLayerViews,\n      renderCoordsHelper: a\n    })), this._set(\"surfaceOrigin\", new w({\n      cache: d,\n      view: this.view\n    })), this._set(\"focus\", new g({\n      state: e,\n      scheduler: h,\n      surface: t,\n      renderCoordsHelper: a,\n      centerOnSurface: this.centerOnSurfaceFrequent,\n      estimateSurfaceIntersectionAtRenderPoint: (e, t) => this._estimateSurfaceIntersectionAtRenderPoint(e, this.view.state.contentCamera, t)\n    })), this._pois.push(this.centerOnContent, this.centerOnSurfaceFrequent, this.centerOnSurfaceInfrequent, this.cameraOnSurface, this.focus);\n    const p = this.view.graphics;\n    this._debugCenters.set(this.centerOnContent, new l(p, \"red\", \"CenterOnContent\")), this._debugCenters.set(this.centerOnSurfaceFrequent, new l(p, \"red\", \"CenterOnSurface\")), this._debugCenters.set(this.centerOnSurfaceInfrequent, new l(p, \"red\", \"CenterOnSurface\")), this._debugCenters.set(this.cameraOnSurface, new l(p, \"blue\", \"CameraOnSurface\")), this._debugCenters.set(this.focus, new l(p, \"green\", \"Focus\")), this.addHandles([r(() => e.contentCamera, e => this._cameraChanged(e), s), r(() => t.extent, () => this._updateCenterPointsOfInterest()), n(() => !t.updating, () => this._updateCenterPointsOfInterest(), s), i(() => this.surfaceGeometryUpdates.events, \"request-update\", () => this._updateCenterPointsOfInterest()), i(() => this.contentGeometryUpdates.events, \"request-update\", () => this._updateCenterOnContent()), n(() => _.SHOW_POI, e => this._setDebug(e), o)]), this._cameraChanged(this.view.state.contentCamera);\n    for (const r of this._pois) r.runTask();\n  }\n  destroy() {\n    this._setDebug(!1), this._propertiesPool.destroy();\n    for (const e of this._pois) e.destroy();\n    this.surfaceOrigin.destroy();\n  }\n  get updating() {\n    return !(!this.surfaceGeometryUpdates?.updating && !this._pois.some(e => e.updating));\n  }\n  get _centerRay() {\n    return this._centerRayDirty && (this._centerRayCached = this.view.sceneIntersectionHelper.getCenterRayWithSubpixelOffset(this.view.state.contentCamera, this._tmpRay), this._centerRayDirty = !1), this._centerRayCached;\n  }\n  _estimateContentAltitudeAtCenter() {\n    if (!this._contentAltitudeAtCenterDirty) return this._contentAltitudeAtCenter;\n    this._contentAltitudeAtCenterDirty = !1;\n    const e = this._centerRay;\n    return null == e || (this.view.sceneIntersectionHelper.intersectRay(e, this._contentIntersector, T, F) ? this._contentAltitudeAtCenter = this.view.renderCoordsHelper.getAltitude(T) : this._contentAltitudeAtCenter = this._estimateSurfaceAltitudeAtCenter()), this._contentAltitudeAtCenter;\n  }\n  _estimateSurfaceAltitudeAtCenter() {\n    if (!this.view.basemapTerrain) return 0;\n    if (!this._surfaceAltitudeAtCenterDirty) return this._surfaceAltitudeAtCenter;\n    this._surfaceAltitudeAtCenterDirty = !1;\n    const e = this._centerRay;\n    if (null == e) return this._surfaceAltitudeAtCenter;\n    const t = e.origin,\n      r = u(T, e.origin, e.direction);\n    return this._surfaceIntersector.resetWithRay(e, this.view.state.contentCamera), this.view.basemapTerrain.intersect(this._surfaceIntersector, null, t, r), this._surfaceIntersector.results.min.getIntersectionPoint(T) && (this._surfaceAltitudeAtCenter = this.view.renderCoordsHelper.getAltitude(T)), this._surfaceAltitudeAtCenter;\n  }\n  _estimateSurfaceIntersectionAtRenderPoint(e, t, r) {\n    const s = C(t, e, E);\n    if (null == s) return null;\n    const n = s.origin,\n      i = u(T, s.origin, s.direction);\n    return this._surfaceIntersector.resetWithRay(s, t), this.view.basemapTerrain.intersect(this._surfaceIntersector, null, n, i), this._surfaceIntersector.results.min.getIntersectionPoint(r) ? r : null;\n  }\n  _cameraChanged(e) {\n    this._updateCenterPointsOfInterest();\n    const t = e.eye;\n    h(this.renderPointOfView, t) || this._set(\"renderPointOfView\", d(this._propertiesPool.get(\"renderPointOfView\"), t));\n  }\n  _updateCenterPointsOfInterest() {\n    this._centerRayDirty = !0, this._surfaceAltitudeAtCenterDirty = !0, this._contentAltitudeAtCenterDirty = !0;\n    for (const e of this._pois) e.updateRenderLocation();\n  }\n  _updateCenterOnContent() {\n    this._contentAltitudeAtCenterDirty = !0, this.centerOnContent.updateRenderLocation();\n  }\n  _setDebug(e) {\n    if (!e) return this._debugCenters.forEach(e => e.hide()), void this.removeHandles(\"debug\");\n    for (const t of this._pois) this.addHandles(r(() => t.renderLocation, e => this._debugCenters.get(t)?.show(e, t.renderCoordsHelper.spatialReference), o), \"debug\");\n  }\n  get test() {}\n};\ne([a()], P.prototype, \"centerOnContent\", void 0), e([a()], P.prototype, \"centerOnSurfaceFrequent\", void 0), e([a()], P.prototype, \"centerOnSurfaceInfrequent\", void 0), e([a()], P.prototype, \"cameraOnSurface\", void 0), e([a()], P.prototype, \"focus\", void 0), e([a()], P.prototype, \"renderPointOfView\", void 0), e([a()], P.prototype, \"surfaceOrigin\", void 0), e([a()], P.prototype, \"contentGeometryUpdates\", void 0), e([a()], P.prototype, \"surfaceGeometryUpdates\", void 0), e([a({\n  constructOnly: !0\n})], P.prototype, \"view\", void 0), e([a()], P.prototype, \"updating\", null), P = e([c(\"esri.views.3d.support.pointsOfInterest.PointsOfInterest\")], P);\nconst j = Array,\n  T = f(),\n  E = p(),\n  F = {\n    exclude: new Set([b])\n  };\nexport { P as PointsOfInterest };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass s {\n  constructor(s = 0, a = 0) {\n    this.min = s, this.max = a, this.level = 0, this.hasNoDataValues = !1;\n  }\n  copyFrom(s) {\n    this.min = s.min, this.max = s.max, this.level = s.level, this.hasNoDataValues = s.hasNoDataValues;\n  }\n}\nexport { s as ElevationBounds };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../core/mathUtils.js\";\nimport { ElevationSamplerData as a } from \"../../../layers/support/ElevationSamplerData.js\";\nimport { bilerp as o } from \"../support/mathUtils.js\";\nimport { elevationNoDataValue as s } from \"./TerrainConst.js\";\nclass r {\n  constructor(t, o, s) {\n    this.type = \"elevation\", this.level = t[0], this.i = t[1], this.j = t[2], this.extent = o, this.samplerData = new a(s, o);\n  }\n  computeMinMaxValue(t, a, r, i) {\n    i.min = 1 / 0, i.max = -1 / 0, i.hasNoDataValues = !1;\n    const e = t - this.level;\n    if (e <= 0) return i;\n    const l = 2 ** e;\n    if (!(Math.floor(a / l) === this.i && Math.floor(r / l) === this.j)) return i;\n    let n = 1 / 0,\n      h = -1 / 0;\n    const f = this.samplerData.data.width,\n      m = this.samplerData.data.values,\n      u = .5 * s;\n    let c = (f - 1) / l,\n      p = (r - this.j * l) * c,\n      M = (a - this.i * l) * c;\n    if (c < 1) {\n      const t = Math.floor(p),\n        a = Math.floor(M),\n        s = t + a * f,\n        r = m[s],\n        e = m[s + 1],\n        l = m[s + f],\n        n = m[s + f + 1];\n      if (r + e + l + n < u) {\n        const s = p - t,\n          h = M - a,\n          f = o(r, e, l, n, s, h),\n          m = o(r, e, l, n, s + c, h),\n          u = o(r, e, l, n, s, h + c),\n          x = o(r, e, l, n, s + c, h + c);\n        return i.min = Math.min(f, m, u, x), i.max = Math.max(f, m, u, x), i;\n      }\n      p = t, M = a, c = 1;\n    } else p = Math.floor(p), M = Math.floor(M), c = Math.ceil(c);\n    for (let o = p; o <= p + c; o++) for (let t = M; t <= M + c; t++) {\n      const a = m[o + t * f];\n      a < u ? (n = Math.min(n, a), h = Math.max(h, a)) : i.hasNoDataValues = !0;\n    }\n    return i.min = n, i.max = h, i;\n  }\n}\nconst i = .5 * s;\nfunction e(a, o, s) {\n  if (null == s) return null;\n  for (const r of s) {\n    if (!r) continue;\n    const s = r.safeWidth;\n    let e = t(r.dy * (r.y1 - o), 0, s),\n      l = t(r.dx * (a - r.x0), 0, s);\n    const n = Math.floor(e),\n      h = Math.floor(l),\n      f = r.data.width,\n      m = n * f + h,\n      u = r.data.values,\n      c = u[m],\n      p = u[m + 1],\n      M = m + f,\n      x = u[M],\n      d = u[M + 1];\n    if (c + x + p + d < i) {\n      e -= n, l -= h;\n      const t = c + (p - c) * l;\n      return t + (x + (d - x) * l - t) * e;\n    }\n  }\n  return null;\n}\nexport { r as ElevationData, e as sampleElevation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { projectWithoutEngine as i } from \"../../../geometry/projection.js\";\nimport { fromExtent as l, empty as s, expand as o, allFinite as a, equals as c } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { isIntegratedMeshOperationalLayer as p, isTiledLayer as u } from \"../../../layers/support/layerUtils.js\";\nimport { ViewingMode as y } from \"../../ViewingMode.js\";\nimport { webMercatorWorldExtent as f, geographicWorldExtent as d } from \"./TerrainConst.js\";\nimport { getTiledLayerInfo as E, isProjectableRasterLayer as m } from \"./terrainUtils.js\";\nlet x = class extends t {\n  constructor(e) {\n    super(e);\n  }\n  initialize() {\n    this.addHandles([this.layerViews.on(\"change\", () => this.notifyChange(\"stencilEnabledExtents\"))]);\n  }\n  destroy() {}\n  get layerViewsExtent() {\n    return this._computeLayerViewsExtent();\n  }\n  get tiledLayersExtent() {\n    return this._computeTiledLayersExtent();\n  }\n  get stencilEnabledExtents() {\n    return this._computeStencilEnabledExtents();\n  }\n  _computeStencilEnabledExtents() {\n    const e = [];\n    return this.layerViews.forEach(t => {\n      const r = t.layer;\n      if (\"operationalLayerType\" in r && p(r.operationalLayerType) && null != this.viewSpatialReference) {\n        const t = L(r.fullExtent, this.viewSpatialReference);\n        null != t && e.push(l(t));\n      }\n    }), e;\n  }\n};\nfunction h(e, t) {\n  return e === y.Global ? new w(t) : new g(t);\n}\ne([r({\n  readOnly: !0\n})], x.prototype, \"layerViewsExtent\", null), e([r({\n  readOnly: !0\n})], x.prototype, \"tiledLayersExtent\", null), e([r({\n  readOnly: !0\n})], x.prototype, \"stencilEnabledExtents\", null), e([r()], x.prototype, \"viewSpatialReference\", void 0), e([r()], x.prototype, \"tilingScheme\", void 0), e([r()], x.prototype, \"defaultTiledLayersExtent\", void 0), e([r({\n  constructOnly: !0\n})], x.prototype, \"layers\", void 0), e([r({\n  constructOnly: !0\n})], x.prototype, \"layerViews\", void 0), x = e([n(\"esri.views.3d.terrain.ExtentHelper\")], x);\nlet w = class extends x {\n  _computeLayerViewsExtent() {\n    return this._globalExtent;\n  }\n  _computeTiledLayersExtent() {\n    return this._globalExtent;\n  }\n  get _globalExtent() {\n    return this.viewSpatialReference.isWebMercator ? f : d;\n  }\n};\nw = e([n(\"esri.views.3d.terrain.ExtentHelper.ExtentHelperGlobal\")], w);\nlet g = class extends x {\n  _computeLayerViewsExtent() {\n    const e = s(),\n      t = this.viewSpatialReference;\n    this.layerViews.forEach(r => {\n      const n = r.layer;\n      if (r.isResolved() && (\"graphics\" !== n.type || !n.internal)) {\n        const n = L(\"fullExtentInLocalViewSpatialReference\" in r && r.fullExtentInLocalViewSpatialReference || r.layer.fullExtent, t);\n        o(e, n, e);\n      }\n    });\n    const r = a(e) ? e : null,\n      n = this._get(\"layerViewsExtent\");\n    return c(r, n) ? n : r;\n  }\n  _computeTiledLayersExtent() {\n    const e = this.tilingScheme;\n    if (!e) return null;\n    const t = this.viewSpatialReference,\n      r = s();\n    this.layers.forEach(n => {\n      if (n.loaded && u(n)) {\n        const i = E(n, t, y.Local);\n        if (null == i) return;\n        const {\n            tileInfo: l,\n            fullExtent: s\n          } = i,\n          a = \"tilemapCache\" in n ? n.tilemapCache?.effectiveMaxLOD : void 0;\n        null != l && null != s && (m(n) || e.compatibleWith(l, a) && s.spatialReference.equals(e.spatialReference)) && o(r, s, r);\n      }\n    }), o(r, this.defaultTiledLayersExtent, r);\n    const n = a(r) ? r : null,\n      i = this._get(\"tiledLayersExtent\");\n    return c(n, i) ? i : n;\n  }\n};\nfunction L(e, t) {\n  return null == e || e.spatialReference.equals(t) ? e : i(e, e.spatialReference, t);\n}\ng = e([n(\"esri.views.3d.terrain.ExtentHelper.ExtentHelperLocal\")], g);\nexport { x as ExtentHelper, h as create };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e() {\n  const e = globalThis.require?.modules;\n  if (e) {\n    const o = Object.keys(e);\n    for (const s of o) s.includes(\".glsl\") && delete e[s];\n  }\n}\nexport { e as removeLoadedShaderModules };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { Cyclical as r, cyclicalPI as s } from \"../../../core/Cyclical.js\";\nimport has from \"../../../core/has.js\";\nimport { clamp as i, deg2rad as a } from \"../../../core/mathUtils.js\";\nimport { destroyMaybe as n } from \"../../../core/maybe.js\";\nimport { watch as o, sync as l } from \"../../../core/reactiveUtils.js\";\nimport { Milliseconds as h } from \"../../../core/time.js\";\nimport { property as c } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as d } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { subtract as u } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { g as p, f as m, w as _, c as y, p as g } from \"../../../chunks/vec32.js\";\nimport { create as f } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { t as v, b as R, f as w } from \"../../../chunks/vec42.js\";\nimport { create as O, fromValues as T } from \"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { getReferenceEllipsoid as x } from \"../../../geometry/ellipsoidUtils.js\";\nimport { projectVectorToVector as D } from \"../../../geometry/projection/projectVectorToVector.js\";\nimport { create as S, width as E, copy as P, center as M, height as b, intersection as j, contains as I, intersects as C, offset as U } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { create as N, wrap as A } from \"../../../geometry/support/ray.js\";\nimport { e as L, h as G, t as V } from \"../../../chunks/sphere.js\";\nimport { angleAroundAxis as q } from \"../../../geometry/support/vector.js\";\nimport { y2lat as F } from \"../../../geometry/support/webMercatorUtils.js\";\nimport { viewAngle as B } from \"../state/utils/viewUtils.js\";\nimport { debugFlags as H } from \"../support/debugFlags.js\";\nimport { PointGraphics as k } from \"../support/debugUtils.js\";\nimport { OverlayIndex as W } from \"./interfaces.js\";\nimport { OverlayRenderer as Y } from \"./OverlayRenderer.js\";\nimport { RenderRequestType as z } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { newIntersector as X } from \"../webgl-engine/lib/Intersector.js\";\nimport { fromValues as K } from \"../webgl-engine/lib/LocalOriginFactory.js\";\nimport { UpdateParameters as Z } from \"../webgl-engine/lib/Material.js\";\nimport { SortedRenderGeometryRenderer as J } from \"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";\nimport { applyTextureResizeModulo as Q } from \"../webgl-engine/lib/textureUtils.js\";\nimport { removeLoadedShaderModules as $ } from \"../webgl-engine/parts/requireUtils.js\";\nimport { TaskPriority as ee, noBudget as te } from \"../../support/Scheduler.js\";\nimport { Yield as re } from \"../../support/Yield.js\";\nconst se = 1.3,\n  ie = [[-.1, -2, 3.9, 2], [-.1, -3.9, 3.9, .1], [-2, -3.9, 2, .1], [-3.9, -3.9, .1, .1], [-3.9, -2, .1, 2], [-3.9, -.1, .1, 3.9], [-2, -.1, 2, 3.9], [-.1, -.1, 3.9, 3.9]];\nlet ae,\n  ne = class extends t {\n    constructor(e) {\n      super(e), this._spatialReference = null, this._renderSR = null, this._overlaySREqualsRenderSR = !0, this._drapeSources = new Set(), this._drapeTargets = new Set(), this._placementDirty = !1, this._contentUpdated = !1, this._drawTexturesDirty = !1, this._drawTexturesAnimateDirty = !1, this._longitudeCyclical = null, this._latestOriginId = 0, this._maxResolution = has(\"esri-mobile\") ? 2048 : 4096, this._animationTimeLast = 0;\n    }\n    initialize() {\n      const e = this.view;\n      this.renderer = new Y({\n        view: e,\n        worldToPCSRatio: this._worldToPCSRatio,\n        spatialReference: this._spatialReference\n      }), e._stage.renderer.plugins.add(this.renderer);\n      const t = () => this.setDrawTexturesDirty();\n      this._groundIntersector = X(this.view.state.viewingMode), this._groundIntersector.options.backfacesTerrain = !0, this._groundIntersector.options.invisibleTerrain = !0, this._groundIntersector.options.hud = !1, this.addHandles([o(() => this.renderer.hasHighlights, t), this.renderer.events.on(\"has-water\", t => e._stage?.renderer.setParameters({\n        hasOverlayWater: t\n      })), this.renderer.events.on(\"content-changed\", t), o(() => e.state.camera.pixelRatio, t), o(() => e.state.alignPixelEnabled, t), this.renderer.events.on(\"textures-disposed\", () => this.surface.requestRender()), o(() => [e.pointsOfInterest?.renderPointOfView, e.pointsOfInterest?.centerOnSurfaceFrequent?.location], () => this.setPlacementDirty()), o(() => [e.state?.pixelRatio, e.state?.contentPixelRatio], () => this.setPlacementDirty(), l), this.surface.on(\"elevation-change\", () => this.setPlacementDirty()), e.on(\"resize\", () => this.setPlacementDirty()), e.resourceController.scheduler.registerTask(ee.OVERLAY, this), e._stage.renderView.events.on(\"force-camera-for-screenshot\", e => {\n        this._updateOverlays(te, e.camera, z.BACKGROUND), this.renderer.hasOverlays && this._drawOverlays(z.BACKGROUND, e);\n      })]), e._stage.renderer.renderOverlay = e => this._renderOverlay(e);\n    }\n    destroy() {\n      this.view?._stage && (this.view._stage.renderer.plugins.remove(this.renderer), this.view._stage.renderer.renderOverlay = () => {}), ae && (ae.hide(), ae = null), this.renderer = n(this.renderer);\n    }\n    get running() {\n      return this._placementDirty && (this._drapeSources.size > 0 || this.view.graphics.length > 0 || H.OVERLAY_DRAW_DEBUG_TEXTURE) && !!this._spatialReference && !this.suspended && this.surface.ready;\n    }\n    get _isSpherical() {\n      return this.view.state.isGlobal;\n    }\n    get _worldToPCSRatio() {\n      return null != this._spatialReference && this._spatialReference.isGeographic && !this.view.state.isLocal ? x(this._spatialReference).metersPerDegree : 1;\n    }\n    get _overlayStretch() {\n      return se / this.view.resolutionScale;\n    }\n    get suspended() {\n      return this.surface.suspended;\n    }\n    get updating() {\n      return this.running || this.renderer.updating || this._contentUpdated;\n    }\n    get rendersOccludedDraped() {\n      return this.renderer.rendersOccludedDraped;\n    }\n    _renderOverlay(e) {\n      if (this._contentUpdated = !1, this.renderer.processSyncDrapeSources(), this.renderer.hasOverlays) return this._dispatchAnimationUpdate(e), this._drawOverlays(z.UPDATE, this.view.state);\n    }\n    get hasOverlays() {\n      return this.renderer.hasOverlays;\n    }\n    setSpatialReference(e) {\n      this._spatialReference = e, this.renderer.spatialReference = e, this._longitudeCyclical = null;\n      const t = this.view.renderSpatialReference;\n      null != e && null != t ? (this._renderSR = t, this._overlaySREqualsRenderSR = e.equals(this._renderSR), this._isSpherical && (this._longitudeCyclical = e.isWebMercator ? new r(-20037508.342787, 20037508.342787) : new r(-180, 180), this.renderer.longitudeCyclical = this._longitudeCyclical), this.renderer && (this.renderer.worldToPCSRatio = this._worldToPCSRatio)) : this.renderer.disposeOverlays();\n    }\n    registerDrapeSource(e, t, r) {\n      this._drapeSources.add(e), this.renderer.ensureOverlays(this._drapeTargets, this._drapeSources);\n      const s = this.renderer.createDrapeSourceRenderer(e, t, r);\n      return this._updateDrapeSourceExtent(e), this._setContentDirty(), this.notifyChange(\"running\"), s;\n    }\n    registerGeometryDrapeSource(e) {\n      return this.registerDrapeSource(e, J);\n    }\n    _updateDrapeSourceExtent(e) {\n      2 === this.renderer.overlays.length && null != e.setDrapingExtent && null != this._spatialReference && e.setDrapingExtent(this.renderer.overlays, this._spatialReference);\n    }\n    unregisterDrapeSource(e) {\n      this._drapeSources.has(e) && (this._drapeSources.delete(e), this.renderer.removeDrapeSourceRenderer(e), this.renderer.ensureDrapeSources(this._drapeSources), this._setContentDirty(), this.notifyChange(\"running\"));\n    }\n    registerDrapeTarget(e) {\n      this._drapeTargets.add(e), this.renderer.ensureOverlays(this._drapeTargets, this._drapeSources);\n    }\n    unregisterDrapeTarget(e) {\n      this._drapeTargets.delete(e), this.renderer.ensureDrapeTargets(this._drapeTargets);\n    }\n    _setContentDirty() {\n      this.setPlacementDirty(), this.setDrawTexturesDirty();\n    }\n    setPlacementDirty() {\n      this._placementDirty = !0;\n    }\n    runTask(e) {\n      return this._updateOverlays(e, this.view.state.contentCamera, z.UPDATE);\n    }\n    _updateOverlays(e, t, r) {\n      if (!this._spatialReference) return re;\n      const s = this._computeOverlayResolution(t);\n      this._computeOverlayExtents(t, s, de), this.renderer.ensureOverlays(this._drapeTargets, this._drapeSources, de.stretch);\n      const i = this._updateOverlay(W.INNER, de.inner, s, 1 * de.pixelRatioAdjustment, de.mapUnitsPerPixel),\n        a = E(de.inner) / E(de.outer),\n        n = this._updateOverlay(W.OUTER, de.outer, s, a * de.pixelRatioAdjustment, de.mapUnitsPerPixel);\n      i !== _e.EXTENT && n !== _e.EXTENT || (this._drapeSources.forEach(e => this._updateDrapeSourceExtent(e)), this.surface.updateTileOverlayParams(r)), i === _e.NONE && n === _e.NONE || this.setDrawTexturesDirty(), this._placementDirty = !1, e.madeProgress();\n    }\n    _computeOverlayResolution(e) {\n      const t = this.view.state.contentPixelRatio * this.view.resolutionScale,\n        r = e.fullWidth / e.pixelRatio * t,\n        s = e.fullHeight / e.pixelRatio * t,\n        i = Math.ceil(1.5 * Math.max(r, s));\n      return Math.min(Q(i), this._maxResolution);\n    }\n    _updateOverlay(e, t, r, s, i) {\n      if (0 === this.renderer.overlays.length) return _e.NONE;\n      const a = this.renderer.overlays[e],\n        n = a.mapUnitsPerPixel;\n      if (a.mapUnitsPerPixel = i, a.pixelRatio = s, oe(t, a.extent) && r === a.resolution) return n === i ? _e.NONE : _e.RERENDER_ONLY;\n      P(a.extent, t), a.resolution = r;\n      const o = M(a.extent);\n      return a.renderLocalOrigin = K(o[0], o[1], 0, \"OV_\" + this._latestOriginId++), _e.EXTENT;\n    }\n    setTileParameters(e) {\n      const t = e.renderData.overlay;\n      if (this.renderer.overlays.length > 0) {\n        const r = this.renderer.overlays[W.INNER],\n          s = this.renderer.overlays[W.OUTER],\n          i = e.extent;\n        this._rectInsideRect(r.extent, i) || this._rectanglesOverlap(i, r.extent) || this._rectanglesOverlap(i, s.extent) ? (this._setTileOverlayData(i, W.INNER, t), this._setTileOverlayData(i, W.OUTER, t)) : (this._clearTileOverlayData(W.INNER, t), this._clearTileOverlayData(W.OUTER, t));\n      } else this._clearTileOverlayData(W.INNER, t), this._clearTileOverlayData(W.OUTER, t);\n    }\n    overlayPixelSizeInMapUnits(e, t) {\n      if (0 === this.renderer.overlays.length) return t();\n      const r = this.renderer.overlays[W.INNER],\n        s = this.renderer.overlays[W.OUTER],\n        i = this._pointIsInExtent(e, r.extent) ? r : s;\n      return (i.extent[2] - i.extent[0]) / i.resolution;\n    }\n    _setTileOverlayData(e, t, r) {\n      if (0 === this.renderer.overlays.length) return;\n      const s = this.renderer.overlays[t].extent,\n        i = E(s),\n        a = b(s);\n      let n = e[0];\n      if (this._longitudeCyclical) {\n        n = this._longitudeCyclical.minimalMonotonic(s[0], n);\n        const t = this._longitudeCyclical.minimalMonotonic(s[0], e[2]);\n        n > t && (n = t - (e[2] - e[0]));\n      }\n      r.setScale(t, E(e) / i, b(e) / a), r.setOffset(t, (n - s[0]) / i, (e[1] - s[1]) / a);\n    }\n    _clearTileOverlayData(e, t) {\n      t.setScale(e, -1, -1), t.setOffset(e, -1, -1);\n    }\n    async reloadShaders() {\n      $(), await this.renderer.reloadShaders(), this.setDrawTexturesDirty(), this.runTask(te);\n    }\n    _dispatchAnimationUpdate(e) {\n      const t = h(e - this._animationTimeLast);\n      if (t >= this.surface.view._stage.renderer.animationTimestep || null != this.view.state.forcedAnimationTime || this._drawTexturesDirty || this._drawTexturesAnimateDirty) {\n        const r = h(t / this.surface.view._stage.renderer.animationTimeDilation),\n          s = new Z(this.view.state.camera, r, this.view.state.forcedAnimationTime);\n        this.renderer.updateAnimation(s) && (this._drawTexturesAnimateDirty = !0), this._animationTimeLast = e;\n      }\n    }\n    setDrawTexturesDirty() {\n      this.renderer.hasOverlays ? (this._contentUpdated = !0, this._drawTexturesDirty = !0, this.view._stage.renderView.requestRender()) : this.setPlacementDirty();\n    }\n    _intersectGroundFromView(e, t, r, s) {\n      const i = this.view.sceneIntersectionHelper.getCenterRayWithSubpixelOffset(e, me, t, r);\n      if (null == i) return !1;\n      const a = i.origin,\n        n = p(ce, i.origin, i.direction);\n      return this._groundIntersector.reset(a, n, e), this._groundIntersector.intersect([]), this.view.basemapTerrain.intersect(this._groundIntersector, null, a, n), this._groundIntersector.results.min.getIntersectionPoint(s);\n    }\n    _findHorizonBasedPointOfInterest(e, t) {\n      let r = .5;\n      const a = .55,\n        n = this.view.renderCoordsHelper.getAltitude(e.eye),\n        o = this.view.pointsOfInterest.centerOnSurfaceFrequent,\n        l = 1e-5,\n        h = i(o.estimatedSurfaceAltitude, e.aboveGround ? -1 / 0 : n + l, e.aboveGround ? n - l : 1 / 0),\n        c = e.aboveGround;\n      if (\"global\" === this.view.viewingMode) {\n        const t = ce;\n        L(G(V, x(this.view.spatialReference).radius + h), A(e.eye, e.viewForward), t), m(t, t, e.eye);\n        const i = s.normalize(q(e.viewForward, t, e.viewRight)) / e.fovY + .5,\n          n = i <= 0 || i >= 1 ? .5 : a;\n        r = c ? n * i : i + n * (1 - i);\n      } else {\n        const t = .5 * Math.PI - Math.acos(-e.viewForward[2]),\n          s = Math.tan(t),\n          n = T(0, s, 1, 0),\n          o = v(n, n, e.projectionMatrix)[1],\n          l = i(.5 + .5 * o, 0, 1);\n        r = 1 === l || 0 === l ? .5 : c ? l * a : 1 - (1 - l) * a;\n      }\n      return !!this._intersectGroundFromView(e, .5, r, t) && _(t, e.eye) < o.distance * o.distance;\n    }\n    _computeOverlayExtents(e, t, r) {\n      const s = this.view.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,\n        i = f();\n      this._findHorizonBasedPointOfInterest(e, i) || y(i, s), H.OVERLAY_SHOW_CENTER ? (null == ae && (ae = new k(this.view.graphics, \"red\")), ae.show(i, this._renderSR)) : null != ae && ae.hide();\n      const n = Math.max(.1, g(e.eye, i)),\n        o = B(this.view.renderCoordsHelper, s, e.eye);\n      this._overlaySREqualsRenderSR || D(i, this._renderSR, i, this._spatialReference);\n      const l = this.surface.extent,\n        h = !this._isSpherical && this._spatialReference?.isGeographic,\n        c = h && this._spatialReference ? 1 / x(this._spatialReference).metersPerDegree : 1,\n        d = this.view.state.contentPixelRatio,\n        p = e.perScreenPixelRatio / d * n * c;\n      r.mapUnitsPerPixel = p / this._worldToPCSRatio, r.stretch = this._overlayStretch;\n      let m = t * p / 2 * r.stretch,\n        _ = !1,\n        v = h ? 90 : 1 / 0;\n      this._isSpherical && l && this._spatialReference && (this._spatialReference.isWebMercator ? (m /= Math.cos(F(i[1])), v = l[3]) : (_ = !0, m /= x(this._spatialReference).metersPerDegree, v = 90), m >= v && (m = v, i[1] = 0, this._spatialReference.isWebMercator && (i[0] = 0)));\n      let O = 1;\n      _ && (O = 1 / Math.max(.2, Math.cos(Math.abs(a(i[1])))), m * O > 180 && (O = 180 / m), r.mapUnitsPerPixel *= O);\n      const T = Math.log(2) / 12;\n      m = Math.exp(Math.round(Math.log(m) / T) * T);\n      const S = m * O,\n        M = 32,\n        b = .5 * t / (M * S),\n        C = .5 * t / (M * m);\n      i[0] = Math.round(i[0] * b) / b, i[1] = Math.round(i[1] * C) / C;\n      const U = r.inner;\n      U[0] = i[0] - S, U[1] = i[1] - m, U[2] = i[0] + S, U[3] = i[1] + m, this._isSpherical && this._shiftExtentToFitBounds(U, 1 / 0, v);\n      const N = r.outer;\n      if (6 * S > E(l)) P(N, l);else {\n        if (Math.PI / 2 - Math.abs(o - Math.PI / 2) <= .25 * Math.PI) N[0] = U[0] - S, N[1] = U[1] - m, N[2] = U[2] + S, N[3] = U[3] + m;else {\n          D(e.eye, this._renderSR, ce, this._spatialReference), u(he, i, ce);\n          let t = -Math.atan2(he[1], he[0]) + .125 * Math.PI;\n          t < 0 && (t += 2 * Math.PI);\n          const r = Math.floor(t / (.25 * Math.PI));\n          R(he, ie[r], 2 * m), he[0] *= O, he[2] *= O, w(N, U, he);\n        }\n      }\n      if (this._isSpherical) N[0] = this._longitudeCyclical.clamp(N[0]), N[2] = this._longitudeCyclical.clamp(N[2]), N[1] = Math.max(N[1], -v), N[3] = Math.min(N[3], v);else {\n        const e = j(U, l, ue),\n          t = j(N, l, pe);\n        I(e, t) && (N[2] = N[0], N[3] = N[1]);\n      }\n      const A = Math.abs(U[2] - U[0]) / t;\n      r.mapUnitsPerPixel = Math.max(r.mapUnitsPerPixel, A), r.pixelRatioAdjustment = r.mapUnitsPerPixel / A;\n    }\n    _drawOverlays(e, t) {\n      if (!this.renderer.hasOverlays) return;\n      if (!this._drawTexturesDirty && !this._drawTexturesAnimateDirty) return this.renderer;\n      const r = this._drawTexturesDirty;\n      this._drawTexturesDirty = this._drawTexturesAnimateDirty = !1;\n      const s = this.renderer.computeValidity();\n      this.renderer.releaseRenderTargets(), this.renderer.drawOverlays(t);\n      return s !== this.renderer.computeValidity() && this.surface.updateTileOverlayParams(z.UPDATE), r ? (this.surface.requestRender(e), e === z.UPDATE && this.surface.requestUpdate()) : this.surface.requestRender(z.BACKGROUND), this.renderer;\n    }\n    _rectanglesOverlap(e, t) {\n      return null != e && (this._longitudeCyclical ? (this._longitudeCyclical.contains(t[0], t[2], e[0]) || this._longitudeCyclical.contains(t[0], t[2], e[2]) || this._longitudeCyclical.contains(e[0], e[2], t[0])) && !(e[1] > t[3] || e[3] < t[1]) : C(e, t));\n    }\n    _rectInsideRect(e, t) {\n      return null != t && (this._longitudeCyclical ? this._longitudeCyclical.contains(e[0], e[2], t[0]) && this._longitudeCyclical.contains(e[0], e[2], t[2]) && t[1] > e[1] && t[3] < e[3] : I(e, t));\n    }\n    _pointIsInExtent(e, t) {\n      if (this._longitudeCyclical) return this._longitudeCyclical.contains(t[0], t[2], e.x) && e.y >= t[1] && e.y <= t[3];\n      const r = e.x,\n        s = e.y;\n      return r > t[0] && r < t[2] && s > t[1] && s < t[3];\n    }\n    _shiftExtentToFitBounds(e, t, r) {\n      let s = 0,\n        i = 0;\n      e[0] < -t ? s = e[0] + t : e[2] > t && (s = t - e[2]), e[1] < -r ? i = e[1] + r : e[3] > r && (i = r - e[3]), U(e, s, i);\n    }\n    get test() {}\n  };\nfunction oe(e, t) {\n  const r = 1e-5,\n    s = H.TESTS_DISABLE_OPTIMIZATIONS ? 0 : r * Math.max(e[2] - e[0], e[3] - e[1], t[2] - t[0], t[3] - t[1]);\n  return Math.abs(t[0] - e[0]) <= s && Math.abs(t[1] - e[1]) <= s && Math.abs(t[2] - e[2]) <= s && Math.abs(t[3] - e[3]) <= s;\n}\ne([c()], ne.prototype, \"_spatialReference\", void 0), e([c({\n  readOnly: !0\n})], ne.prototype, \"running\", null), e([c()], ne.prototype, \"_placementDirty\", void 0), e([c()], ne.prototype, \"_contentUpdated\", void 0), e([c()], ne.prototype, \"_isSpherical\", null), e([c()], ne.prototype, \"_worldToPCSRatio\", null), e([c()], ne.prototype, \"renderer\", void 0), e([c({\n  constructOnly: !0\n})], ne.prototype, \"view\", void 0), e([c({\n  constructOnly: !0\n})], ne.prototype, \"surface\", void 0), e([c()], ne.prototype, \"suspended\", null), e([c()], ne.prototype, \"updating\", null), e([c({\n  type: Boolean\n})], ne.prototype, \"rendersOccludedDraped\", null), ne = e([d(\"esri.views.3d.terrain.OverlayManager\")], ne);\nclass le {\n  constructor() {\n    this.inner = S(), this.outer = S(), this.mapUnitsPerPixel = 0, this.pixelRatioAdjustment = 1, this.stretch = se;\n  }\n}\nconst he = O(),\n  ce = f(),\n  de = new le(),\n  ue = S(),\n  pe = S(),\n  me = N();\nvar _e;\n!function (e) {\n  e[e.NONE = 0] = \"NONE\", e[e.EXTENT = 1] = \"EXTENT\", e[e.RERENDER_ONLY = 2] = \"RERENDER_ONLY\";\n}(_e || (_e = {}));\nexport { ne as OverlayManager };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { releaseMaybe as t } from \"../../../core/maybe.js\";\nimport { g as e } from \"../../../chunks/vec32.js\";\nimport { empty as s } from \"../../../geometry/support/aaBoundingBox.js\";\nimport { internalAssert as i } from \"./terrainUtils.js\";\nimport { decompressNormal as r, compressNormal as n } from \"../webgl-engine/lib/Normals.js\";\nclass o {\n  constructor() {\n    this.indices = null, this.indexCount = 0, this.edgeIndicesStartIndex = 0, this.poleIndicesStartIndex = 0, this.vertexAttributes = null, this.edgeVerticesStartIndex = 0, this.poleVerticesStartIndex = 0, this.maxEdgeVertexCount = 0, this.boundingBox = s(), this.numVerticesPerSide = 0, this.minu = 0, this.minv = 0, this.maxu = 1, this.maxv = 1, this.outerEdgesOffsetAndLength = [0, 0, 0, 0, 0, 0, 0, 0];\n  }\n  release() {\n    this.vertexAttributes = t(this.vertexAttributes), this.indices = null;\n  }\n  reset() {\n    this.indices = null, this.vertexAttributes = null, s(this.boundingBox), this.numVerticesPerSide = 0;\n  }\n  getEdgeFirstVertexIndex(t) {\n    return this.outerEdgesOffsetAndLength[2 * t];\n  }\n  getEdgeCount(t) {\n    return this.outerEdgesOffsetAndLength[2 * t + 1];\n  }\n  getEdgeVertexIndex(t, e) {\n    return this.getEdgeAttributeIndex(t, e);\n  }\n  getEdgeVertexPosition(t, s, i, r) {\n    this._getEdgeVertexRaw(this.getEdgeAttributeIndex(t, r), s), e(s, s, i);\n  }\n  getEdgeNormal(t, e, s) {\n    const {\n      typedBuffer: i,\n      typedBufferStride: n\n    } = this.vertexAttributes.normalCompressed;\n    r(e, i, this.getEdgeAttributeIndex(t, s), n);\n  }\n  setEdgeNormalFromValues(t, e, s, i, r) {\n    this._setNormal(this.getEdgeAttributeIndex(t, e), s, i, r);\n  }\n  setEdgeVertexFromValuesRawPositionUV(t, e, s, i, r, n, o) {\n    const d = this.getEdgeAttributeIndex(t, e);\n    this.vertexAttributes.position.setValues(d, s, i, r), this._setUV(d, n, o);\n  }\n  setEdgeVertexFromValuesRawPositionUVNormal(t, e, s, i, r, n, o, d, u, g) {\n    const h = this.getEdgeAttributeIndex(t, e);\n    this.vertexAttributes.position.setValues(h, s, i, r), this._setUV(h, n, o), this._setNormal(h, d, u, g);\n  }\n  _getEdgeVertexRaw(t, e) {\n    this.vertexAttributes.position.getVec(t, e);\n  }\n  _setNormal(t, e, s, i) {\n    const {\n      typedBuffer: r,\n      typedBufferStride: o\n    } = this.vertexAttributes.normalCompressed;\n    n(r, t, e, s, i, o);\n  }\n  _setUV(t, e, s) {\n    u(this.vertexAttributes.uv0, t, e, s);\n  }\n  getEdgeAttributeIndex(t, e) {\n    return i(0 <= e && e < this.getEdgeCount(t)), this.getEdgeFirstVertexIndex(t) + e;\n  }\n}\nconst d = 16384;\nfunction u(t, e, s, i) {\n  t.setValues(e, s * d, i * d);\n}\nexport { o as PatchGeometry, u as encodeUVInBuffer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { maxPatchTesselation as s } from \"./TerrainConst.js\";\nclass t {\n  constructor() {\n    this.sinLonLUT = new Array(s + 1), this.cosLonLUT = new Array(s + 1), this.sinLatLUT = new Array(s + 1), this.cosLatLUT = new Array(s + 1);\n  }\n  update(s, t, n) {\n    const o = t[0],\n      i = t[2];\n    for (let r = 0; r <= s; r++) {\n      const t = r / s,\n        L = o * (1 - t) + i * t;\n      this.sinLonLUT[r] = Math.sin(L), this.cosLonLUT[r] = Math.cos(L);\n      const a = n(t);\n      this.sinLatLUT[r] = Math.sin(a), this.cosLatLUT[r] = Math.cos(a);\n    }\n  }\n}\nexport { t as PatchGeometryLUT };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass l {\n  constructor() {\n    this.numVerticesPerSide = 0, this.samplerData = null, this.samplerDataVersion = 0, this.clippingArea = null, this.wireframe = !1, this.cornerPeerNeighbors = [null, null, null, null], this.cornerNeighborCornerTiles = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null], this.cornerNeighborCornerTileSamplerVersions = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1], this.edgeResolutions = [-1, -1, -1, -1], this.edgePeerNeighbors = [null, null, null, null], this.edgePeerNeighborSamplerVersions = [-1, -1, -1, -1];\n  }\n}\nexport { l as GeometryState };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { destroyMaybe as t } from \"../../../core/maybe.js\";\nimport { TextureUpdate as e } from \"./interfaces.js\";\nclass i {\n  constructor(t) {\n    this._getFadeDuration = t, this._fadeStart = 0, this._delayedTime = 0;\n  }\n  clear() {\n    this._current = t(this._current), this._next = t(this._next), this._waiting = t(this._waiting), this._delayed = t(this._delayed);\n  }\n  get current() {\n    if (null == this._current) return null;\n    if (!this._isFadingEnabled) {\n      const t = this._delayed || this._waiting || this._next || this._current;\n      t !== this._current && (this._current = null, this.clear(), this._current = t);\n    }\n    let r = i.test.fadeMoment;\n    if (null != this._delayed && (r = r || performance.now(), r >= this._delayedTime && (this._push(this._delayed, n.Immediate), this._delayed = null)), null != this._next) {\n      r = r || performance.now();\n      const i = this._fadeDuration,\n        n = null != this._current && this._next.texture === this._current.texture,\n        s = this._next.type !== e.FADING,\n        a = r - this._fadeStart >= i;\n      (n || s || a) && (t(this._current), this._current = this._next, this._next = this._waiting, this._waiting = null, this._fadeStart = this._alignFadeStart(r));\n    }\n    return this._current;\n  }\n  get next() {\n    return this._next;\n  }\n  get fadeFactor() {\n    if (null == this._next) return 1;\n    const t = i.test.fadeMoment || performance.now(),\n      e = Math.max(0, t - this._fadeStart),\n      n = this._fadeDuration;\n    return e > n ? 0 : 1 - e / n;\n  }\n  get isFading() {\n    return null != this._next || null != this._delayed;\n  }\n  push(e, i = n.Immediate) {\n    this._delayed = t(this._delayed), this._push(e, i);\n  }\n  _push(e, r) {\n    if (this._isFadingEnabled || this.clear(), null == this._current) return void (this._current = e);\n    const s = i.test.fadeMoment || performance.now();\n    return r !== n.Immediate ? (this._delayed = e, void (this._delayedTime = s + r)) : null == this._next ? (this._next = e, void (this._fadeStart = this._alignFadeStart(s))) : void (null != e && (t(this._waiting), this._waiting = e));\n  }\n  get _fadeDuration() {\n    return null == this._waiting ? this._getFadeDuration() : .5 * this._getFadeDuration();\n  }\n  _alignFadeStart(t) {\n    const e = this._getFadeDuration();\n    return t + e - t % e;\n  }\n  get _isFadingEnabled() {\n    return this._getFadeDuration() > 0;\n  }\n}\nvar n;\ni.test = {\n  fadeMoment: 0\n}, function (t) {\n  t[t.Immediate = 0] = \"Immediate\", t[t.Delayed = 5e3] = \"Delayed\";\n}(n || (n = {}));\nexport { n as ActivationTime, i as TextureFader };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../core/has.js\";\nimport { TextureUpdate as e } from \"./interfaces.js\";\nimport { progressiveLoadingModulo as t } from \"./TerrainConst.js\";\nimport { getLayerWithExtentRange as s } from \"./terrainUtils.js\";\nimport { fallsWithinLayer as i } from \"./tileUtils.js\";\nclass l {\n  get updating() {\n    return !!this._tileRequested;\n  }\n  init(e, t, s, i) {\n    this.tile = e, this._layerIdx = t, this._layerClass = s, this._suspended = i, this._tileLayerInfo = e.getLayerInfo(t, s), this._tileRequested = null;\n    const l = this._findAncestorWithData();\n    this._setUpsampleTile(l);\n  }\n  startLoading() {\n    return this._requestNext();\n  }\n  dispose() {\n    this._tileRequested && (this._tileRequested.unrequestLayerData(this._layerIdx, this._layerClass, this), this._tileRequested = null), this.tile = null, this._tileLayerInfo = null;\n  }\n  setSuspension(e) {\n    e !== this._suspended && (this._suspended = e, e ? this._tileRequested && (this._tileRequested.unrequestLayerData(this._layerIdx, this._layerClass, this), this._tileRequested = null) : this._tileLayerInfo.data || this.update());\n  }\n  update() {\n    const e = this._findAncestorWithData();\n    return this._setUpsampleTile(e), this._requestNext();\n  }\n  dataArrived(t, s) {\n    this._setUpsampleTile(t, s), this._tileRequested = null, t === this.tile ? this.tile.updateRenderData(this._layerClass, e.FADING, s) : this._requestNext();\n  }\n  dataMissing() {\n    this._tileRequested = null, this._tileLayerInfo.data = null, this._requestNext();\n  }\n  _agentDone() {\n    this.tile.agentDone(this._layerIdx, this._layerClass), this.dispose();\n  }\n  _requestNext() {\n    if (this._suspended) return !0;\n    const e = this._findNextDownload();\n    if (this._tileRequested) {\n      if (e === this._tileRequested) return !0;\n      this._tileRequested.unrequestLayerData(this._layerIdx, this._layerClass, this), this._tileRequested = null;\n    }\n    return null != e ? e.requestLayerData(this._layerIdx, this._layerClass, this) && (this._tileRequested = e) : this._agentDone(), !!this._tileRequested;\n  }\n  _findNextDownload() {\n    const e = this._layerIdx,\n      l = this._layerClass,\n      a = this.tile.surface.layerViewByIndex(e, l),\n      r = s(a),\n      {\n        minLevel: n,\n        maxLevel: h\n      } = a.dataLevelRange,\n      d = this._desiredMinLevelDelta,\n      u = this._progressiveLevelModulo + d,\n      o = this._scaleRangeEnabled ? i : () => !0;\n    let _ = this.tile;\n    const p = _.level;\n    let y;\n    const f = this._tileLayerInfo.upsampleInfo,\n      c = null != f ? f.tile.level : -1,\n      v = null != f && c - p >= d,\n      q = r?.tilemapCache,\n      I = \"vector-tile-3d\" === a.type ? a.schemaHelper : null;\n    for (; _ && o(_, r, !1) && _.level >= n;) {\n      const s = _.level,\n        i = p - s,\n        a = _.layerInfo[l][e];\n      if (a.data && i >= d) {\n        (!v || s > c) && this._setUpsampleTile(_), a.dataInvalidated && (y = _);\n        break;\n      }\n      const r = I?.getLevelRowColumn(_.lij) ?? _.lij;\n      if (\"unavailable\" !== q?.getAvailability(r[0], r[1], r[2]) && s <= h && !a.data && !a.dataMissing && ((!y || _.level === n || s % t == 0 || p - y.level < d) && (y = _), i >= u)) break;\n      _ = _.parent;\n    }\n    if (null != y && p - y.level < d) if (f) y = null;else {\n      const t = this._findAncestorWithData();\n      if (null != t) {\n        this._setUpsampleTile(t);\n        y = t.layerInfo[l][e].dataInvalidated ? t : null;\n      }\n    }\n    return y;\n  }\n  _findAncestorWithData() {\n    const e = this.tile.elevationLevel,\n      t = this._desiredMinLevelDelta;\n    let s;\n    for (let i = this.tile; i; i = i.parent) if (i.hasLayerData(this._layerIdx, this._layerClass)) {\n      if (e - i.level >= t) return i;\n      s = i;\n    }\n    return s;\n  }\n  _setUpsampleTile(t, s) {\n    this._tileLayerInfo.setUpsampleInfo(this.tile, t), this.tile.updateRenderData(this._layerClass, e.FADING, s);\n  }\n  get test() {}\n}\nclass a extends l {\n  constructor() {\n    super(...arguments), this.type = \"none\";\n  }\n  get _desiredMinLevelDelta() {\n    throw r;\n  }\n  get _progressiveLevelModulo() {\n    throw r;\n  }\n  dispose() {}\n}\nconst r = new Error(\"Abstract method called on TileAgent\"),\n  n = new a();\nexport { l as TileAgent, n as tileAgentDone };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { TileAgent as e } from \"./TileAgent.js\";\nclass t extends e {\n  constructor() {\n    super(...arguments), this.type = \"elevation\", this._scaleRangeEnabled = !1;\n  }\n  get _desiredMinLevelDelta() {\n    return this.tile.elevationLevelDelta - (this.tile.elevationLevel - this.tile.level);\n  }\n  get _progressiveLevelModulo() {\n    return 0;\n  }\n}\nfunction l(e) {\n  return \"elevation\" === e.type;\n}\nexport { t as ElevationTileAgent, l as isElevationTileAgent };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { progressiveLoadingModulo as e } from \"./TerrainConst.js\";\nimport { TileAgent as r } from \"./TileAgent.js\";\nclass t extends r {\n  constructor() {\n    super(), this.type = \"map\", this._scaleRangeEnabled = !0;\n  }\n  get _desiredMinLevelDelta() {\n    return 0;\n  }\n  get _progressiveLevelModulo() {\n    return e;\n  }\n}\nfunction s(e) {\n  return \"map\" === e.type;\n}\nexport { t as MapTileAgent, s as isMapTileAgent };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar E;\n!function (E) {\n  E[E.INSIDE = 0] = \"INSIDE\", E[E.INTERSECTS = 1] = \"INTERSECTS\", E[E.OUTSIDE = 2] = \"OUTSIDE\";\n}(E || (E = {}));\nexport { E as TileFrustumVisibility };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as t, abortMaybe as s } from \"../../../core/maybe.js\";\nimport e from \"../../../core/ObjectPool.js\";\nimport i from \"../../../core/PooledArray.js\";\nimport { releaseTerrainData as a } from \"./terrainUtils.js\";\nimport { computeUpsampleInfo as n } from \"./tileUtils.js\";\nclass l {\n  constructor() {\n    this.waitingAgents = new i(), this._upsampleInfo = null, this.loadingAgent = null, this.requestPromise = null, this.requestAbort = null, this.pendingUpdates = 0;\n  }\n  static acquire(t) {\n    const s = o.acquire();\n    return s._init(t), s;\n  }\n  release() {\n    this.dispose(), p.delete(this), o.release(this);\n  }\n  dispose() {\n    this.loadingAgent = t(this.loadingAgent), this.abortRequest(), this._unsetUpsampleInfo(), this.pendingUpdates = 0, this._data = a(this._data);\n  }\n  static prune() {\n    o.prune(0);\n  }\n  _init(t) {\n    this.waitingAgents.clear(), this._data = a(this._data), this.dataMissing = !1, this.dataInvalidated = !1, this._unsetUpsampleInfo(), this.abortRequest(), this.loadingAgent = null, this.pendingUpdates = 0, this._pool = t, this.elevationBounds = null;\n  }\n  invalidateSourceData() {\n    this.dataInvalidated = !0, this.dataMissing = !1, this._unsetUpsampleInfo();\n  }\n  abortRequest() {\n    this.requestAbort = s(this.requestAbort), this.requestPromise = null;\n  }\n  get upsampleInfo() {\n    return this._upsampleInfo;\n  }\n  _unsetUpsampleInfo() {\n    null != this._upsampleInfo && (this._upsampleInfo.tile.unrefMapData(), this._pool.release(this._upsampleInfo), this._upsampleInfo = null);\n  }\n  setUpsampleInfo(t, s) {\n    if (t !== s && null != s) {\n      if (null == this._upsampleInfo) this._upsampleInfo = this._pool.acquire();else {\n        if (this._upsampleInfo.tile === s) return;\n        this._upsampleInfo.tile.unrefMapData();\n      }\n      s.refMapData(), n(t, s, this._upsampleInfo);\n    } else this._unsetUpsampleInfo();\n  }\n  get data() {\n    return this._data;\n  }\n  set data(t) {\n    a(this._data), this._data = t;\n  }\n}\nconst o = new e(l, null, () => {}),\n  p = new Map();\nfunction r() {\n  p.size > 0 && (console.log(`${p.size} live TilePerLayerInfo allocations:`), p.forEach(t => console.log(t, \"\\n\")));\n}\nexport { l as TilePerLayerInfo, r as printAllocations };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar E;\n!function (E) {\n  E[E.NONE = 0] = \"NONE\", E[E.SPLIT = 1] = \"SPLIT\", E[E.ELEVATION = 2] = \"ELEVATION\", E[E.MERGE = 4] = \"MERGE\", E[E.GEOMETRY = 8] = \"GEOMETRY\", E[E.TEXTURE_NOFADING = 16] = \"TEXTURE_NOFADING\", E[E.TEXTURE_FADING = 32] = \"TEXTURE_FADING\";\n}(E || (E = {}));\nexport { E as TileUpdate };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clamp as e } from \"../../../core/mathUtils.js\";\nimport { abortMaybe as t } from \"../../../core/maybe.js\";\nimport i from \"../../../core/ObjectPool.js\";\nimport { f as s, q as n, m as r, j as a, g as l, l as o, c as h } from \"../../../chunks/vec32.js\";\nimport { create as u, unitZ as d } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { getEpsilon as c } from \"../../../core/libs/gl-matrix-2/math/common.js\";\nimport { getReferenceEllipsoid as g } from \"../../../geometry/ellipsoidUtils.js\";\nimport { create as p, equals as f } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { c as _, g as m } from \"../../../chunks/sphere.js\";\nimport { isGroupLayer as y } from \"../../../layers/support/layerUtils.js\";\nimport { ElevationBounds as A } from \"./ElevationBounds.js\";\nimport { ElevationTileAgent as M, isElevationTileAgent as v } from \"./ElevationTileAgent.js\";\nimport { TextureUpdate as T } from \"./interfaces.js\";\nimport { LayerClasses as E, LayerClass as I } from \"./LayerClass.js\";\nimport { MapTileAgent as D, isMapTileAgent as L } from \"./MapTileAgent.js\";\nimport { NeighborIndex as x } from \"./NeighborIndex.js\";\nimport { maxPatchTesselation as S } from \"./TerrainConst.js\";\nimport { isVectorTile as N, isTileTexture as O, isRasterTile as b, isImageWithType as j } from \"./TerrainData.js\";\nimport { weakAssert as U, getLayerWithExtentRange as C, isBlendableLayerView as B, oppositeCorner as P, internalAssert as R, enableTerrainInternalChecks as V, neighborEdgeIndices as w, oppositeEdge as G, neighborCornerIndices as W, isNorth as q, isSouth as F, isWest as H, isEast as k, enableWaterproofTests as X, almostEquals as Y, isWestCorner as z, isNorthCorner as J } from \"./terrainUtils.js\";\nimport { tileAgentDone as $ } from \"./TileAgent.js\";\nimport { TileFrustumVisibility as Q } from \"./TileFrustumVisibility.js\";\nimport { TilePerLayerInfo as K } from \"./TilePerLayerInfo.js\";\nimport { TileUpdate as Z } from \"./TileUpdate.js\";\nimport { fallsWithinLayer as ee } from \"./tileUtils.js\";\nconst te = .1;\nclass ie {\n  constructor() {\n    this._lij = [0, 0, 0], this._children = [null, null, null, null], this._pendingUpdates = 0, this.renderData = null, this._dirty = !0, this._previouslyRendered = !1, this.extent = p(), this._elevationBoundsMin = NaN, this._elevationBoundsMax = 0, this.layerInfo = [[], []], this.extentInRadians = p(), this.centerAtSeaLevel = u(), this._center = [u(), _(), u()], this.up = d(), this._isWithinClippingArea = !0, this._intersectsClippingArea = !0, this._maxTesselation = 0, this._usedMemory = null, this._mapTileMemoryInternal = 0, this._mapDataRefCount = 0, this.screenDepth = 0, this.renderOrder = 0, this._edgeLen = 0, this._edgeLen2 = 0, this._curvatureHeight = 0, this.extentMidX = 0, this.extentMidY = 0, this.distanceToPOI = -1, this._lastPOI = u(), this.maxLevelDeltaNeighborCount = 0, this.unmergableChildCount = 0;\n  }\n  get lij() {\n    return this._lij;\n  }\n  get elevationLevelDelta() {\n    return this._surface.getElevationLevelDelta(this.level);\n  }\n  static prune() {\n    re.prune(0), ae.prune(0), K.prune();\n  }\n  get _isCached() {\n    return !this.isLeaf && this._mapDataRefCount <= 0;\n  }\n  get maxTesselation() {\n    return this._maxTesselation;\n  }\n  get isWithinClippingArea() {\n    return this._isWithinClippingArea;\n  }\n  get intersectsClippingArea() {\n    return this._intersectsClippingArea;\n  }\n  get clippingArea() {\n    return this._clippingArea;\n  }\n  get parent() {\n    return this._parent;\n  }\n  get children() {\n    return this._children;\n  }\n  get surface() {\n    return this._surface;\n  }\n  get elevationBoundsMin() {\n    return this._elevationBoundsMin;\n  }\n  get elevationBoundsMax() {\n    return this._elevationBoundsMax;\n  }\n  get level() {\n    return this._lij[0];\n  }\n  get key() {\n    return `${this._lij[0]}/${this._lij[1]}/${this._lij[2]}`;\n  }\n  get edgeLen() {\n    return this._edgeLen;\n  }\n  get radius() {\n    return this._center[oe.MIDDLE][3];\n  }\n  get visible() {\n    return this._dirty && this.computeVisibility(), this._visible;\n  }\n  get frustumVisibility() {\n    return this._dirty && this.computeVisibility(), this._frustumVisibility;\n  }\n  computeVisibility() {\n    this._dirty = !1;\n    const e = this.parent,\n      t = e?.frustumVisibility ?? Q.INTERSECTS;\n    this._frustumVisibility = t === Q.INSIDE ? Q.INSIDE : t === Q.OUTSIDE ? Q.OUTSIDE : this._calculateFrustumVisibilityStatus(this.surface.frustum);\n    const i = this._frustumVisibility !== Q.OUTSIDE && this._intersectsClippingArea;\n    i !== this._visible && (this._visible = i, this._surface.emit(\"tiles-visibility-changed\"), this._surface.renderer.setDirty(), this.updateAgentSuspension());\n  }\n  get loadable() {\n    return this.visible || this._surface.view.state.fixedContentCamera;\n  }\n  get rendered() {\n    const e = !!this.renderData;\n    return e !== this._previouslyRendered && (this._surface.emit(\"tiles-visibility-changed\"), this._previouslyRendered = e, this._surface.renderer.setDirty()), e;\n  }\n  init(e, t, i, s, n) {\n    this._lij[0] = e, this._lij[1] = t, this._lij[2] = i, this.ellipsoid = g(n.tilingScheme.spatialReference), n.tilingScheme.getExtent(e, t, i, this.extent), n.tilingScheme.convertExtentToRadians(this.extent, this.extentInRadians), this.extentMidX = .5 * (this.extent[0] + this.extent[2]), this.extentMidY = .5 * (this.extent[1] + this.extent[3]), this._isWithinClippingArea = !0, this._intersectsClippingArea = !0, this._clippingArea = null, this._mapDataRefCount = 0, n.upsampleMapCache.pop(this.key), this._edgeLen = 0, this._edgeLen2 = 0, this._center[oe.MIDDLE][3] = 0, this.elevationLevel = e, s && !Number.isNaN(s.elevationBoundsMin) ? (this._elevationBoundsMin = s.elevationBoundsMin, this._elevationBoundsMax = s.elevationBoundsMax) : (this._elevationBoundsMin = 0, this._elevationBoundsMax = 0), this._pendingUpdates = 0, this.renderData = null, this.screenDepth = 0, this._visible = !1, this._previouslyRendered = !1, this._parent = s, this.unsetChildren(), this._surface = n, this.updateVisibility(), this.maxLevelDeltaNeighborCount = 0, this.unmergableChildCount = 0;\n    for (const r of E) {\n      const e = n.numLayers(r),\n        t = this.layerInfo[r];\n      for (const i of t) i.release();\n      t.length = e;\n      for (let i = 0; i < e; i++) t[i] = K.acquire(this._surface.upsampleInfoPool), r === I.ELEVATION && this.findElevationBoundsForLayer(i, -1);\n    }\n    this.computeElevationBounds(), this._maxTesselation = Math.min(n.tilingScheme.pixelSize, S);\n  }\n  dispose() {\n    U(!this.renderData, \"tile.renderData was not unloaded\"), this._surface.upsampleMapCache.pop(this.key);\n    for (const e of E) {\n      for (const t of this.layerInfo[e]) t.release();\n      this.layerInfo[e].length = 0;\n    }\n    this._parent = null;\n    for (let e = 0; e < 4; ++e) this._children[e] = null;\n    this._surface = null, this.setMemoryDirty();\n  }\n  refMapData() {\n    ++this._mapDataRefCount, this._isCached || this._surface.upsampleMapCache.pop(this.key);\n  }\n  unrefMapData() {\n    if (--this._mapDataRefCount, this._isCached) {\n      this.setMemoryDirty();\n      const e = this._cachedMemory;\n      e > 0 && this._surface.upsampleMapCache.put(this.key, this, e);\n    }\n  }\n  setMemoryDirty() {\n    this._usedMemory = null;\n  }\n  get usedMemory() {\n    return this._ensureUsedMemory() + (this._isCached ? 0 : this._mapTileMemoryInternal);\n  }\n  get _cachedMemory() {\n    return this._isCached ? this._mapTileMemory : 0;\n  }\n  get _mapTileMemory() {\n    return this._ensureUsedMemory(), this.layerInfo[I.MAP].reduce((e, {\n      data: t\n    }) => e + (N(t) ? t.usedMemory / t.referenced : 0), this._mapTileMemoryInternal);\n  }\n  get _cpuImageMemorySize() {\n    const e = 4,\n      t = this._surface.tilingScheme.pixelSize;\n    return t * t * e;\n  }\n  _ensureUsedMemory() {\n    if (null != this._usedMemory) return this._usedMemory;\n    this._usedMemory = this._baseUsedMemory, this._mapTileMemoryInternal = 0;\n    let e = 0;\n    for (const {\n      data: i\n    } of this.layerInfo[I.MAP]) N(i) ? e += this._getTerrainDataMemory(i) : this._mapTileMemoryInternal += this._getTerrainDataMemory(i);\n    const t = this._cpuImageMemorySize;\n    for (const i of this.layerInfo[I.ELEVATION]) this._usedMemory += i.data ? t : 0;\n    return this.renderData && (this._usedMemory += this.renderData.estimatedGeometryMemoryUsage, this._mapTileMemoryInternal += this.renderData.texture?.usedMemory ?? 0), this._isCached && this._surface.upsampleMapCache.updateSize(this.key, this, this._mapTileMemoryInternal + e), this._usedMemory;\n  }\n  getUsedMemoryForLayer(e, t) {\n    const i = this.layerInfo[e][t];\n    return i?.data ? e === I.MAP ? this._isCached ? 0 : this._getTerrainDataMemory(i.data) : e === I.ELEVATION ? this._cpuImageMemorySize : 0 : 0;\n  }\n  _getTerrainDataMemory(e) {\n    return O(e) ? e.texture.usedMemory : b(e) ? e.memoryUsage : N(e) ? e.usedMemory / e.referenced : j(e) || e instanceof HTMLImageElement ? this._cpuImageMemorySize : 0;\n  }\n  updateScreenDepth(e) {\n    const t = this._center[oe.MIDDLE],\n      i = e,\n      s = t[0],\n      n = t[1],\n      r = t[2],\n      a = i[2] * s + i[6] * n + i[10] * r + i[14];\n    this.screenDepth = a < 0 ? 0 : a / (i[3] * s + i[7] * n + i[11] * r + i[15]);\n  }\n  shouldSplit(e, t, i) {\n    if (!this.visible) return Z.NONE;\n    if (e.frustum && (!this._intersectsClippingArea || this._calculateFrustumVisibilityStatus(e.frustum) === Q.OUTSIDE)) return Z.NONE;\n    const h = this.level;\n    s(fe, m(this._center[oe.MIDDLE]), t);\n    let u = n(fe),\n      d = fe,\n      c = m(this._center[oe.MIDDLE]);\n    s(_e, this._center[oe.TOP], t);\n    const g = n(_e);\n    g < u && (u = g, d = _e, c = this._center[oe.TOP]), s(me, this._center[oe.BOTTOM], t);\n    const p = n(me);\n    if (p < u && (u = p, d = me, c = this._center[oe.BOTTOM]), this._edgeLen2 > u && h < e.maxLod) return Z.SPLIT;\n    const f = Math.sqrt(u),\n      _ = e.fovX * f * 2,\n      y = this._edgeLen / _,\n      A = () => {\n        if (h < e.maxLod) return this.elevationLevel = h, Z.NONE;\n        const t = h + Math.ceil(-Math.log2(e.relativeWidthLimit / y));\n        return t !== this.elevationLevel ? (this.elevationLevel = t, Z.ELEVATION) : Z.NONE;\n      },\n      M = null != i ? i - h : 1 / 0;\n    if (M <= .5) return A();\n    const v = r(this.up, fe),\n      T = this._elevationBoundsMax - this._elevationBoundsMin,\n      E = T / this.edgeLen;\n    if (e.aboveGround && v > 0 && E < .001) {\n      if (v / f - Math.sin(this._curvatureHeight / (this.edgeLen * Math.SQRT1_2) * Math.PI) - E > 0) return Z.NONE;\n    }\n    const I = null != i ? 3 - Math.min(M, 2) : 1;\n    if (y * I < e.relativeWidthLimit || h >= e.maxLod) return A();\n    if (h < 7) return Z.SPLIT;\n    a(ye, this.up, v), s(ye, ye, d);\n    const D = n(ye);\n    if (D <= this.radius * this.radius) return Z.SPLIT;\n    a(ye, ye, this.radius / Math.sqrt(D)), l(ye, ye, c), s(ye, t, ye);\n    const L = Math.min(1, (Math.abs(r(ye, this.up)) + .5 * T + this._curvatureHeight) / o(ye)),\n      x = te / e.angledSplitBias,\n      S = e.fovY * f * 2;\n    return L * (this._edgeLen / S * I) < x * e.relativeHeightLimit ? Z.NONE : Z.SPLIT;\n  }\n  setChildren(e, t, i, s) {\n    U(!!(e && t && i && s), \"Null child passed\");\n    const n = this._children;\n    return n[0] = e, n[1] = t, n[2] = i, n[3] = s, n;\n  }\n  unsetChildren() {\n    this._children[0] = null, this._children[1] = null, this._children[2] = null, this._children[3] = null;\n  }\n  get isLoaded() {\n    return this.renderData?.hasGeometry ?? !1;\n  }\n  load() {\n    this.refMapData();\n    for (const e of E) this._createOrUpdateAgents(0, e);\n    this.surface.renderer.loadTile(this);\n  }\n  unload(e) {\n    e.unloadTile(this);\n    for (const t of E) {\n      const e = this.layerInfo[t];\n      for (const t of e) t.loadingAgent && t.loadingAgent !== $ && (ne(t.loadingAgent), t.loadingAgent = null), t.pendingUpdates = 0;\n    }\n    this.resetPendingUpdate(Z.GEOMETRY), this.resetPendingUpdate(Z.TEXTURE_NOFADING), this.resetPendingUpdate(Z.TEXTURE_FADING), this.unrefMapData();\n  }\n  unloadMapData() {\n    const e = this.layerInfo[I.MAP];\n    for (const t of e) t.loadingAgent && t.loadingAgent !== $ && (ne(t.loadingAgent), t.loadingAgent = null), t.pendingUpdates = 0;\n    this.renderData && this.renderData.releaseTexture(), this.setMemoryDirty();\n  }\n  updateClippingStatus(e) {\n    if (f(e, this._clippingArea)) return !1;\n    const t = this._intersectsClippingArea,\n      i = this._isWithinClippingArea;\n    null != e ? (this._intersectsClippingArea = this.intersectsExtent(e), this._isWithinClippingArea = this._isWithinExtent(e)) : (this._intersectsClippingArea = !0, this._isWithinClippingArea = !0), this._clippingArea = e, this.updateVisibility();\n    const s = i && this._isWithinClippingArea,\n      n = !(i || t || this._isWithinClippingArea || this._intersectsClippingArea);\n    return !this.renderData || s || n || this.setPendingUpdate(Z.GEOMETRY), !0;\n  }\n  updateVisibility() {\n    this._dirty = !0, this._surface.setTileTreeDirty();\n  }\n  getLayerInfo(e, t) {\n    return this.layerInfo[t][e];\n  }\n  hasLayerData(e, t) {\n    const i = this.layerInfo[t][e];\n    return !(!i?.data || i.dataInvalidated);\n  }\n  get updating() {\n    if (this.hasPendingUpdates) return !0;\n    for (const e of E) {\n      const t = this.layerInfo[e];\n      for (const e of t) if (e.loadingAgent && e.loadingAgent !== $ && e.loadingAgent.updating) return !0;\n    }\n    return !1;\n  }\n  _isSuspended(e) {\n    return !!this.hasPendingUpdate(Z.SPLIT) || e !== I.ELEVATION && !this.loadable;\n  }\n  get hasPendingUpdates() {\n    return 0 !== this._pendingUpdates;\n  }\n  hasPendingUpdate(e) {\n    return (this._pendingUpdates & e) === e;\n  }\n  setPendingUpdate(e) {\n    const t = this._pendingUpdates;\n    return this._pendingUpdates |= e, e === Z.SPLIT || e === Z.MERGE ? this._surface.setTileTreeDirty() : this._surface.requestUpdate(), t !== this._pendingUpdates;\n  }\n  resetPendingUpdate(e) {\n    return !!this.hasPendingUpdate(e) && (this._pendingUpdates &= ~e, !0);\n  }\n  requestLayerData(e, i, s) {\n    const n = this.layerInfo[i][e];\n    if (n.waitingAgents.has(s)) return console.warn(\"agent already requested this piece of map data (tile %s, agent tile %s, layer: %d/%d)\", this._lij.toString(), s.tile.lij.toString(), i, e), !0;\n    if (n.waitingAgents.push(s), n.data && !n.dataInvalidated) {\n      console.warn(\"agent requested existing data (tile %s, agent tile %s, layer: %d/%d)\", this._lij.toString(), s.tile.lij.toString(), i, e);\n      const t = N(n.data);\n      return s.dataArrived(this, t), !0;\n    }\n    if (n.requestPromise) return !0;\n    t(n.requestAbort), n.requestAbort = new AbortController();\n    const r = this._surface.requestTileData(this, e, i, n.requestAbort);\n    if (!r) return n.requestAbort = null, !1;\n    const a = () => {\n      n.requestPromise === r && (n.requestPromise = null, n.requestAbort = null);\n    };\n    return n.requestPromise = r, r.then(a, a), !0;\n  }\n  get isLeaf() {\n    return null == this._children[0];\n  }\n  hasLij(e) {\n    return this._lij[0] === e[0] && this._lij[1] === e[1] && this._lij[2] === e[2];\n  }\n  findByLij(e) {\n    if (this.hasLij(e)) return this;\n    const t = this._children;\n    if (!t[0]) return null;\n    return t[0].findByLij(e) || t[1].findByLij(e) || t[2].findByLij(e) || t[3].findByLij(e);\n  }\n  distanceToSquared(e) {\n    return n(s(ye, m(this._center[oe.MIDDLE]), e));\n  }\n  containsPoint(e) {\n    const t = this.extent;\n    return e[0] >= t[0] && e[1] >= t[1] && e[0] <= t[2] && e[1] <= t[3];\n  }\n  containsPointXY(e, t) {\n    const i = this.extent;\n    return e >= i[0] && t >= i[1] && e <= i[2] && t <= i[3];\n  }\n  unrequestLayerData(e, t, i) {\n    const s = this.layerInfo[t][e],\n      n = s.waitingAgents,\n      r = null != n.removeUnordered(i);\n    U(r, \"agent has not requested this piece of map data\"), n.length < 1 && (s.abortRequest(), this.setMemoryDirty());\n  }\n  dataArrived(e, t, i) {\n    const s = N(i),\n      n = this.layerInfo[t][e];\n    n.data = i, n.dataInvalidated = !1, n.waitingAgents.forAll(e => e.dataArrived(this, s)), n.waitingAgents.clear(), this.setMemoryDirty();\n  }\n  dataMissing(e, t) {\n    const i = this.layerInfo[t][e];\n    i.dataMissing = !0, i.waitingAgents.forAll(e => e.dataMissing()), i.waitingAgents.clear(), this.setMemoryDirty();\n  }\n  updateRenderData(e, t, i) {\n    switch (i && this.forEachLoadedNeighbor(i => i.updateRenderData(e, t)), e) {\n      case I.MAP:\n        return this._updateTexture(t);\n      case I.ELEVATION:\n        return this._updateGeometry();\n    }\n  }\n  _updateTexture(e) {\n    this.renderData && (this.resetPendingUpdate(e === T.FADING ? Z.TEXTURE_NOFADING : Z.TEXTURE_FADING), this.setPendingUpdate(e === T.FADING ? Z.TEXTURE_FADING : Z.TEXTURE_NOFADING));\n  }\n  _updateGeometry() {\n    this.setPendingUpdate(Z.GEOMETRY);\n    for (const e of this.layerInfo[I.ELEVATION]) e.pendingUpdates |= Z.GEOMETRY;\n  }\n  invalidateLayerData(e, t) {\n    this.layerInfo[t][e].invalidateSourceData(), this.restartAgents(t);\n  }\n  computeElevationBounds() {\n    const e = this._elevationBoundsMin,\n      t = this._elevationBoundsMax;\n    let i = 1 / 0,\n      s = -1 / 0;\n    const n = this.layerInfo[I.ELEVATION];\n    let r = !0;\n    for (const a of n) null != a.elevationBounds && (i = Math.min(i, a.elevationBounds.min), s = Math.max(s, a.elevationBounds.max), a.elevationBounds.hasNoDataValues || (r = !1));\n    r && (i = Math.min(i, 0), s = Math.max(s, 0)), e === i && t === s || (this._elevationBoundsMin = i, this._elevationBoundsMax = s, this.updateRadiusAndCenter(), this._surface.setTileTreeDirty());\n  }\n  _updateCenter() {\n    const e = this._elevationBoundsMin,\n      t = this._elevationBoundsMax,\n      i = .5 * (e + t),\n      s = this._center;\n    a(ye, this.up, i), l(m(s[oe.MIDDLE]), this.centerAtSeaLevel, ye), a(ye, this.up, e), l(s[oe.TOP], this.centerAtSeaLevel, ye), a(ye, this.up, t), l(s[oe.BOTTOM], this.centerAtSeaLevel, ye);\n  }\n  findElevationBoundsForLayer(e, t) {\n    const i = this.layerInfo[I.ELEVATION][e],\n      s = this.elevationLevelDelta,\n      n = Math.max(this.elevationLevel - s, 0),\n      r = i.elevationBounds;\n    if (null != r && r.level >= t && r.level <= n) return;\n    const a = this._surface.layerViewByIndex(e, I.ELEVATION),\n      l = C(a);\n    if (!ee(this, l, !1)) return;\n    const o = le;\n    let h = !1;\n    const u = i.data;\n    if (u && u.level <= n) {\n      const e = i.data;\n      o.min = e.samplerData.data.minValue, o.max = e.samplerData.data.maxValue, o.hasNoDataValues = e.samplerData.data.hasNoDataValues, o.level = this.level, h = !0;\n    } else {\n      let t,\n        i,\n        r = 0;\n      for (let a = this._parent; a && (!i || r < s) && (r = this.elevationLevel - a.level, t = i || t, i = a.layerInfo[I.ELEVATION][e].data, !(!i && t && a.level <= n)); a = a.parent);\n      i = i || t, i && (i.computeMinMaxValue(this._lij[0], this._lij[1], this._lij[2], o), o.min !== 1 / 0 && (o.level = i.level, h = !0));\n    }\n    h && (null == i.elevationBounds && (i.elevationBounds = new A()), i.elevationBounds.copyFrom(o));\n  }\n  modifyLayers(e, t, i) {\n    const s = this.layerInfo[i];\n    for (const a of s) a.loadingAgent && a.loadingAgent !== $ && (ne(a.loadingAgent), a.loadingAgent = null), a.waitingAgents.clear();\n    for (let a = 0; a < s.length; ++a) void 0 === e[a] && s[a].release();\n    const n = new Array(...s),\n      r = t.length;\n    s.length = r;\n    for (let a = 0; a < r; a++) {\n      const e = t[a];\n      s[a] = e > -1 ? n[e] : K.acquire(this._surface.upsampleInfoPool);\n    }\n    this.setMemoryDirty();\n  }\n  restartAgents(e) {\n    this.renderData && (this._createOrUpdateAgents(0, e), this.updateRenderData(e, T.FADING));\n  }\n  updateAgents(e) {\n    if (this.renderData) {\n      const t = this.layerInfo[e];\n      for (const e of t) e.loadingAgent === $ && (e.loadingAgent = null);\n      this._createOrUpdateAgents(0, e);\n    }\n  }\n  updateAgentSuspension() {\n    for (const e of E) {\n      const t = this._isSuspended(e);\n      for (const i of this.layerInfo[e]) i.loadingAgent && i.loadingAgent !== $ && (i.loadingAgent.setSuspension(t), i.loadingAgent === $ && this.updateRenderData(e, T.FADING));\n    }\n  }\n  removeLayerAgent(e, t) {\n    const i = this.layerInfo[t][e];\n    i.loadingAgent && i.loadingAgent !== $ && i.loadingAgent.dispose(), i.loadingAgent = null;\n  }\n  agentDone(e, t) {\n    const i = this.layerInfo[t][e];\n    i.loadingAgent = $, i.data || null != i.upsampleInfo || this._createOrUpdateAgents(e + 1, t);\n  }\n  _hasBlendableAncestor(e) {\n    return \"normal\" !== e.blendMode || y(e.parent) && this._hasBlendableAncestor(e.parent);\n  }\n  _hasBlendModes(e, t, i) {\n    for (let s = e; s < t; ++s) {\n      const e = this._surface.layerViewByIndex(s, i);\n      if (B(e) && \"normal\" !== e?.layer?.blendMode || y(e?.layer?.parent) && this._hasBlendableAncestor(e?.layer?.parent)) return !0;\n    }\n    return !1;\n  }\n  _createOrUpdateAgents(e, t) {\n    const i = this.layerInfo[t];\n    if (0 === i.length) return;\n    const s = this._isSuspended(t);\n    for (let n = e; n < i.length; ++n) {\n      const r = i[n];\n      let a = !1;\n      const l = this._surface.layerViewByIndex(n, t),\n        o = C(l);\n      if (r.loadingAgent ? ee(this, o, !1) ? (r.loadingAgent !== $ && r.loadingAgent.setSuspension(s), r.loadingAgent !== $ && (a = r.loadingAgent.update())) : r.dispose() : ee(this, o, !1) && (r.loadingAgent = se(this, n, t, s), a = r.loadingAgent.startLoading(), a ? r.loadingAgent === $ && this.setPendingUpdate(Z.GEOMETRY) : (ne(r.loadingAgent), r.loadingAgent = $)), r.loadingAgent === $ && this.updateRenderData(t, T.FADING), !this._hasBlendModes(e, i.length, t) && a && l.isOpaque) return;\n    }\n  }\n  _isWithinExtent(e) {\n    const t = this.extent;\n    return t[0] >= e[0] && e[2] >= t[2] && t[1] >= e[1] && e[3] >= t[3];\n  }\n  intersectsExtent(e) {\n    const t = this.extent;\n    return t[2] >= e[0] && e[2] >= t[0] && t[3] >= e[1] && e[3] >= t[1];\n  }\n  getElevationVerticesPerSide(t) {\n    const i = this.elevationLevel - this.level,\n      s = Math.max(this.level - t, this.elevationLevelDelta - i),\n      n = e(1 + (this.maxTesselation >> s), 2, this.maxTesselation + 1),\n      r = this.getDefaultVerticesPerSide();\n    return Math.max(n, r);\n  }\n  _findLIJ(e, t) {\n    if (!e) return null;\n    const i = this.surface.rootTiles;\n    if (null != i) for (const s of i) if (he(s, e)) {\n      let i = s,\n        n = e[0] - i.level - 1;\n      for (; n >= 0 && !i.isLeaf && !t(i);) {\n        const t = e[1] >> n & 1,\n          s = e[2] >> n & 1;\n        i = i.children[2 * t + s], n--;\n      }\n      return t(i) ? i : null;\n    }\n    return null;\n  }\n  findNeighborTile(e, t) {\n    const i = this._lij,\n      s = this.getNeighborLIJ(i, e);\n    return s ? ue(i, s) ? t(this) ? this : null : this._findLIJ(s, t) : null;\n  }\n  findCorner(e, t) {\n    const i = e === x.NORTH_EAST ? 1 : e === x.NORTH_WEST ? 0 : e === x.SOUTH_WEST ? 2 : 3;\n    let s = this;\n    for (; s.children[0] && (!t || !t(s));) s = s.children[i];\n    return s;\n  }\n  findNeighborCornerTileExact(e, t) {\n    return this.findNeighborTile(e, e => t(e) || e.level === this.level)?.findCorner(P(e), t) || null;\n  }\n  forAllSubtreeOnSide(e, t) {\n    const i = e === x.NORTH ? [0, 1] : e === x.NORTH_EAST ? [1] : e === x.EAST ? [1, 3] : e === x.SOUTH_EAST ? [3] : e === x.SOUTH ? [2, 3] : e === x.SOUTH_WEST ? [2] : e === x.WEST ? [0, 2] : [0],\n      s = e => {\n        const n = e.children;\n        !t(e) && n[0] && i.forEach(e => s(n[e]));\n      };\n    s(this);\n  }\n  getNeighborEdgeStartVertexIndex(e, t) {\n    if (!t) return 0;\n    const i = this.level - t.level;\n    if (R(!V || i >= 0), 0 === i) return 0;\n    const s = 2 ** i,\n      n = !(1 & ~e),\n      r = n ? 0 : 1,\n      a = t.lij[r + 1] * s,\n      l = this._lij[r + 1],\n      o = l - a,\n      h = n ? s - 1 - o : o;\n    return V && (R(a <= l && l < a + s), R(0 <= h && h < s)), h;\n  }\n  forEachLoadedNeighbor(e) {\n    const t = this.level,\n      i = e => e.level === t || e.isLoaded;\n    w.forEach(t => {\n      const s = this.findNeighborTile(t, i);\n      null != s && s !== this && s.forAllSubtreeOnSide(G(t), i => !!i.isLoaded && (e(i, t), !0));\n    }), W.forEach(t => {\n      const s = this.findNeighborTile(t, i)?.findCorner(P(t), e => e.isLoaded);\n      R(!s || ce(this, s, t)), s?.isLoaded && e(s, t);\n    });\n  }\n  getNeighborLIJ(e, t) {\n    const i = q(t) ? -1 : F(t) ? 1 : 0,\n      s = H(t) ? -1 : k(t) ? 1 : 0,\n      n = [e[0], e[1] + i, e[2] + s];\n    return n[1] < 0 ? null : this.surface.isGlobal ? this.wrapLIJ(n) : n[2] < 0 ? null : n;\n  }\n  wrapLIJ(e) {\n    return !e || e[1] < 0 || e[1] >= 2 ** e[0] ? null : this.surface.wrapEastWest(e);\n  }\n  get westNeighborWestExtent() {\n    return this.extent[0] * (this.isWestEnd ? -1 : 1);\n  }\n  get eastNeighborEastExtent() {\n    return this.extent[2] * (this.isEastEnd ? -1 : 1);\n  }\n  get isEastEnd() {\n    return this._lij[2] === this.surface.lijEastEnd(this.level) - 1;\n  }\n  get isWestEnd() {\n    return 0 === this._lij[2];\n  }\n  get isNorthEnd() {\n    return 0 === this._lij[1];\n  }\n  get isSouthEnd() {\n    const e = this.surface.extent,\n      t = e?.[1] ?? null;\n    return null != t && this.extent[1] + c() >= t;\n  }\n  checkGeometryWaterproofness() {\n    X && (R(this.isLoaded), this.renderData?.checkGeometryWaterproofness());\n  }\n  shouldHaveNeighbor(e) {\n    const t = this.extent,\n      i = this.surface.rootTilesExtent,\n      s = .25 * (t[2] - t[0]);\n    if (q(e) && t[3] + s >= i[3]) return !1;\n    if (F(e) && t[1] - s <= i[1]) return !1;\n    const n = this.surface.isGlobal;\n    return !(!n && H(e) && t[0] - s <= i[0]) && !(!n && k(e) && t[2] + s >= i[2]);\n  }\n  updateDistanceToPOI(e) {\n    const t = this._lastPOI;\n    if (this.distanceToPOI >= 0 && t[0] === e[0] && t[1] === e[1] && t[2] === e[2]) return;\n    h(this._lastPOI, e);\n    const i = this._center[oe.MIDDLE],\n      s = e[0] - i[0],\n      n = e[1] - i[1],\n      r = e[2] - i[2];\n    this.distanceToPOI = s * s + n * n + r * r;\n  }\n  get test() {\n    return {\n      cachedMemory: this._cachedMemory\n    };\n  }\n}\nfunction se(e, t, i, s) {\n  const n = i === I.ELEVATION ? ae.acquire() : re.acquire();\n  return n.init(e, t, i, s), n;\n}\nfunction ne(e) {\n  e.dispose(), v(e) ? ae.release(e) : L(e) && re.release(e);\n}\nconst re = new i(D),\n  ae = new i(M),\n  le = new A();\nvar oe;\nfunction he(e, t) {\n  const i = e.lij,\n    s = t[0] - i[0];\n  return !(s < 0) && t[1] >> s === i[1] && t[2] >> s === i[2];\n}\nfunction ue(e, t) {\n  return e[0] === t[0] && e[1] === t[1] && e[2] === t[2];\n}\nfunction de(e, t, i) {\n  if (null == e || null == t) return !1;\n  if (0 === e.level && 0 === t.level) {\n    if (e.isEastEnd && t.isWestEnd && i === x.EAST) return !0;\n    if (e.isWestEnd && t.isEastEnd && i === x.WEST) return !0;\n  }\n  const s = Math.max(1e-6 * (e.extent[2] - e.extent[0]), 1);\n  switch (i) {\n    case x.NORTH:\n      return Y(e.extent[3], t.extent[1], s);\n    case x.SOUTH:\n      return Y(e.extent[1], t.extent[3], s);\n    case x.EAST:\n      return Y(e.extent[2], t.extent[0], s) || Y(e.extent[2], -t.extent[0], s);\n    case x.WEST:\n      return Y(e.extent[0], t.extent[2], s) || Y(e.extent[0], -t.extent[2], s);\n  }\n}\nfunction ce(e, t, i) {\n  return null != e && null != t && t !== e && (e.level >= t.level ? ge(e, t, i) : ge(t, e, P(i)));\n}\nfunction ge(e, t, i) {\n  R(e.level >= t.level);\n  const s = z(i),\n    n = J(i),\n    r = e.extent,\n    a = t.extent,\n    l = [s ? r[0] : r[2], n ? r[3] : r[1]],\n    o = [s ? a[2] : a[0], n ? a[1] : a[3]],\n    h = 1e-5 * (r[2] - r[0]),\n    u = Y(l[0], o[0], h) || e.surface.isGlobal && Y(l[0], -o[0], h),\n    d = Y(l[1], o[1], h);\n  if (u && d) return !0;\n  if (e.level === t.level) return R(!1), !1;\n  if (!u && !d) return R(!1), !1;\n  const c = u ? pe(a[1], a[3], r[1], r[3], h) : pe(a[0], a[2], r[0], r[2], h);\n  return R(c), c;\n}\nfunction pe(e, t, i, s, n) {\n  return e - n <= i && i <= s && s <= t + n;\n}\n!function (e) {\n  e[e.TOP = 0] = \"TOP\", e[e.MIDDLE = 1] = \"MIDDLE\", e[e.BOTTOM = 2] = \"BOTTOM\";\n}(oe || (oe = {}));\nconst fe = u(),\n  _e = u(),\n  me = u(),\n  ye = u();\nexport { oe as CenterPosition, ie as Tile, ce as isCornerNeighbor, de as isEdgeNeighbor, ue as lijEquals };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromValues as s } from \"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nclass t {\n  constructor() {\n    this._scales = s(-1, -1, -1, -1), this._offsets = s(-1, -1, -1, -1);\n  }\n  clear() {\n    this._scales[0] = this._scales[1] = this._scales[2] = this._scales[3] = -1, this._offsets[0] = this._offsets[1] = this._offsets[2] = this._offsets[3] = -1;\n  }\n  setScale(s, t, e) {\n    this._scales[2 * s] = t, this._scales[2 * s + 1] = e;\n  }\n  setOffset(s, t, e) {\n    this._offsets[2 * s] = t, this._offsets[2 * s + 1] = e;\n  }\n  get scales() {\n    return this._scales;\n  }\n  get offsets() {\n    return this._offsets;\n  }\n}\nexport { t as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ViewingMode as e } from \"../../../ViewingMode.js\";\nimport { ShaderOutput as r } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { a as i } from \"../../../../chunks/Terrain.glsl.js\";\nimport { ReloadableShaderModule as t } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as n } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { StencilBits as l } from \"../lib/basicInterfaces.js\";\nimport { Program as s } from \"../lib/Program.js\";\nimport { renderWhenBitIsNotSet as o } from \"../lib/StencilUtils.js\";\nimport { VertexAttribute as a } from \"../lib/VertexAttribute.js\";\nimport { BlendFactor as c, CompareFunction as u, SpecialDrawBuffers as d } from \"../../../webgl/enums.js\";\nimport { makePipelineState as p, simpleBlendingParams as h, backFaceCullingParams as m, defaultDepthWriteParams as f, defaultColorWriteParams as g } from \"../../../webgl/renderState.js\";\nclass b extends n {\n  constructor() {\n    super(...arguments), this.useStencil = !1;\n  }\n  initializeConfiguration(r, i) {\n    i.spherical = r.viewingMode === e.Global;\n  }\n  initializeProgram(e) {\n    return new s(e.rctx, b.shader.get().build(this.configuration), S);\n  }\n  initializePipeline() {\n    return this._stencilPipelineState = this._createPipeline(!0), this._createPipeline(!1);\n  }\n  _createPipeline(e) {\n    const i = this.configuration,\n      t = i.backfaceCullingEnabled && !i.renderOccluded;\n    return p({\n      blending: i.renderOccluded ? h(c.ONE, c.ONE_MINUS_SRC_ALPHA) : null,\n      culling: t ? m : null,\n      depthTest: i.renderOccluded ? null : {\n        func: u.LESS\n      },\n      depthWrite: i.renderOccluded ? null : f,\n      colorWrite: g,\n      stencilTest: e ? o(l.IntegratedMeshMaskExcluded) : null,\n      drawBuffers: i.output === r.Depth ? {\n        buffers: [d.NONE]\n      } : null\n    });\n  }\n  getPipeline() {\n    return this.useStencil ? this._stencilPipelineState : super.getPipeline();\n  }\n}\nb.shader = new t(i, () => import(\"../core/shaderLibrary/terrain/Terrain.glsl.js\"));\nconst S = new Map([[a.POSITION, 0], [a.UV0, 1], [a.NORMALCOMPRESSED, 2]]);\nexport { b as TerrainTechnique, S as terrainVertexAttributeLocations };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { equals as e } from \"../../../core/arrayUtils.js\";\nimport \"../../../core/has.js\";\nimport { isPowerOfTwo as t } from \"../../../core/mathUtils.js\";\nimport { disposeMaybe as r } from \"../../../core/maybe.js\";\nimport { p as i, F as s, H as o, f as a, n, m as l, z as g, G as d } from \"../../../chunks/vec32.js\";\nimport { create as h, clone as m } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { containsXY as u } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { earth as c } from \"../../../geometry/support/Ellipsoid.js\";\nimport { glLayout as f } from \"../support/buffer/glUtil.js\";\nimport { GeometryState as p } from \"./GeometryState.js\";\nimport { LayerClass as y } from \"./LayerClass.js\";\nimport { NeighborIndex as _ } from \"./NeighborIndex.js\";\nimport { PatchGeometry as x } from \"./PatchGeometry.js\";\nimport { maxTileNeighborLevelDelta as v } from \"./TerrainConst.js\";\nimport { enableTerrainInternalChecks as E, internalAssert as $, neighborEdgeIndices as S, oppositeEdge as C, neighborCornerIndices as D, v32s as b, lij2s as T } from \"./terrainUtils.js\";\nimport { TextureFader as j, ActivationTime as A } from \"./TextureFader.js\";\nimport { isEdgeNeighbor as V } from \"./Tile.js\";\nimport R from \"./TileOverlayData.js\";\nimport { fallsWithinLayer as w } from \"./tileUtils.js\";\nimport { VertexArrayObject as L } from \"../webgl-engine/lib/VertexArrayObject.js\";\nimport { terrainVertexAttributeLocations as N } from \"../webgl-engine/shaders/TerrainTechnique.js\";\nimport { BufferObject as P } from \"../../webgl/BufferObject.js\";\nimport { PixelFormat as F } from \"../../webgl/enums.js\";\nclass G {\n  constructor() {\n    this.geometry = new x(), this.intersectionData = null, this.geometryState = null, this._vao = null, this._texture = null, this._textureRef = new j(() => this.tile.surface.fadeDuration), this.overlay = new R(), this._localOrigin = null, this._geometryStateChangedSinceLastUpdate = !0, this._hasGeometry = !1, this._modifiedFlags = 0;\n  }\n  get tile() {\n    return this._tile;\n  }\n  get localOrigin() {\n    return this._localOrigin;\n  }\n  init(e, t) {\n    this.clear(), this._tile = e, this.geometry.reset(), this.intersectionData = null, this.geometryState = new p(), this._localOrigin = t, this.overlay.clear();\n  }\n  clear() {\n    this.releaseGeometry(), this.releaseTexture(), this._textureRef.clear(), this._tile = null, this.intersectionData = null, this.geometryState = null;\n  }\n  updateGeometryIfNeeded(e) {\n    if ((!this._vao || this._geometryStateChangedSinceLastUpdate || this.wireframeChanged || this.clippingAreaChanged || this.samplerDataChanged || this.numVerticesPerSideChanged || this.dirtyCorners || this.dirtyEdgeResolutions || this.dirtyEdges) && (this._updateGeometry(e), this._geometryStateChangedSinceLastUpdate = !1), E && this.tile.intersectsClippingArea) for (let t = 0; t < 4; ++t) $(this.geometry.getEdgeCount(t) === this.geometryState.edgeResolutions[t] + 1);\n  }\n  _calculateEdgeResolution(e, t) {\n    const r = this.tile,\n      i = this.geometryState.numVerticesPerSide - 1;\n    if (!r.surface.isGlobal) {\n      const t = r.surface.extent;\n      if (null != t && (0 === e && r.extent[3] > t[3] || 1 === e && r.extent[2] > t[2] || 2 === e && r.extent[1] < t[1] || 3 === e && r.extent[0] < t[0])) return i;\n    }\n    const s = r.level,\n      o = S[e];\n    if (!t) return $(null == r.surface?.rootTiles || r.surface.updatingRootTiles || !r.shouldHaveNeighbor(o)), i;\n    if (t.isLoaded) {\n      const r = t,\n        o = r.renderData.geometryState,\n        a = s - r.level;\n      if ($(a >= 0), 0 === a) {\n        const e = o.numVerticesPerSide - 1;\n        return Math.max(e, i);\n      }\n      const n = 2 ** a,\n        l = o.edgeResolutions[(e + 2) % 4] / n;\n      return Math.max(1, l);\n    }\n    $(!t.isLeaf);\n    let a = i;\n    return t.forAllSubtreeOnSide(C(o), e => e === r || (e.isLoaded ? (a = Math.max(a, 2 ** (e.level - s)), !0) : ($(!e.isLeaf), !1))), a;\n  }\n  updateNeighborData() {\n    const e = this.tile;\n    if (!e.intersectsClippingArea) return;\n    const r = e.renderData.geometryState,\n      i = t => (t.isLoaded || t.level === e.level) && t?.intersectsClippingArea,\n      s = r.edgePeerNeighbors,\n      o = r.edgePeerNeighborSamplerVersions;\n    for (let a = 0; a < 4; ++a) {\n      const n = e.findNeighborTile(S[a], i),\n        l = W(e, n),\n        g = l?.renderData?.geometryState.samplerDataVersion ?? -1,\n        d = s[a],\n        h = l !== W(e, d),\n        m = o[a] !== g;\n      E && n && ($(e.level >= n.level), $(e.level - n.level <= v)), s[a] = n, (h || m) && (o[a] = g, this._markEdgeDirty(a));\n      const u = r.edgeResolutions[a],\n        c = this._calculateEdgeResolution(a, n);\n      $(t(c)), $(c >= 1), r.edgeResolutions[a] = c, u !== c && this._markEdgeResolutionDirty(a);\n    }\n    for (let t = 0; t < 4; ++t) {\n      const o = e.findNeighborTile(D[t], i);\n      r.cornerPeerNeighbors[t] = o;\n      const a = W(e, s[t]),\n        n = W(e, s[(t + 1) % 4]),\n        l = W(e, o);\n      B[t] = l, B[(t + 1) % 4] = n, B[(t + 2) % 4] = e, B[(t + 3) % 4] = a, $(B.some(t => t?.isLoaded || t === e));\n      const g = B.reduce((e, t) => Math.min(e, t?.level ?? 1 / 0), 1 / 0);\n      B.forEach((e, t) => {\n        e && e?.level > g && (B[t] = null);\n      }), $(B.some(t => t?.isLoaded || t === e));\n      const d = r.cornerNeighborCornerTiles,\n        h = r.cornerNeighborCornerTileSamplerVersions;\n      for (let e = 0; e < 4; ++e) {\n        const r = B[e],\n          i = r?.renderData.geometryState.samplerDataVersion ?? -1,\n          s = 4 * t + e,\n          o = d[s] !== r,\n          a = !o && h[s] !== i;\n        (o || a) && (d[s] = r, h[s] = i, this._markCornerDirty(t));\n      }\n      E && $(ee.some(r => d[4 * t + r]?.isLoaded || d[4 * t + r] === e));\n    }\n    E && $(this.geometryState.edgeResolutions.every(e => e > 0));\n    for (let t = 0; t < 4; ++t) B[t] = null;\n  }\n  _updateGeometry(e) {\n    if (!this.tile.intersectsClippingArea) return;\n    E && $(!this.tile.intersectsClippingArea || this.geometryState.edgeResolutions.every(e => e > 0)), this.intersectionData = null;\n    const {\n        tile: t,\n        _vao: r,\n        geometry: i,\n        geometryState: s\n      } = this,\n      o = !r || !{\n        geometry: i\n      } || this.wireframeChanged || this.samplerDataChanged || this.clippingAreaChanged || this.numVerticesPerSideChanged,\n      a = 0 !== this.dirtyEdgeResolutions,\n      n = s.edgeResolutions.reduce((e, t) => e + t + 1, 0),\n      l = o || a && n > (i?.maxEdgeVertexCount ?? 0),\n      g = !l && a,\n      d = !g && (0 !== this.dirtyEdges || a),\n      h = !d && 0 !== this.dirtyCorners;\n    l ? (this.releaseGeometry(), this._createGeometry(e)) : g ? t.updateEdgeElevationsAndResolutions() : d || h ? t.updateEdgeElevations() : h ? t.updateCornerElevations() : console.warn(\"Update for no reason?\"), this._modifiedFlags = 0;\n  }\n  get hasGeometry() {\n    return this._hasGeometry;\n  }\n  releaseGeometry() {\n    return this._hasGeometry = !1, this.intersectionData = null, !!this._vao && (this._vao = r(this._vao), this.geometry.release(), !0);\n  }\n  ensureTexture(e, t, r) {\n    const i = t ? F.RGBA : F.RGB;\n    return null == this._texture || this._texture.descriptor.width === e && this._texture.descriptor.pixelFormat === i || this.releaseTexture(), null == this._texture && (this._texture = r(), this.tile.setMemoryDirty()), this._texture;\n  }\n  releaseTexture() {\n    null != this._texture && (this._texture.release(), this._texture = null, this.tile.setMemoryDirty());\n  }\n  get numVerticesPerSideChanged() {\n    return !!(this._modifiedFlags & q);\n  }\n  get samplerDataChanged() {\n    return !!(this._modifiedFlags & z);\n  }\n  get clippingAreaChanged() {\n    return !!(this._modifiedFlags & J);\n  }\n  get wireframeChanged() {\n    return !!(this._modifiedFlags & K);\n  }\n  get dirtyEdges() {\n    return this._modifiedFlags >> Q & 15;\n  }\n  get dirtyCorners() {\n    return this._modifiedFlags >> Y & 15;\n  }\n  get dirtyEdgeResolutions() {\n    return this._modifiedFlags >> Z & 15;\n  }\n  _markCornerDirty(e) {\n    const t = 1 << e << Y;\n    this._modifiedFlags |= t;\n  }\n  _markEdgeDirty(e) {\n    const t = 1 << e << Q;\n    this._modifiedFlags |= t, this._markCornerDirty((e + 0) % 4), this._markCornerDirty((e + 3) % 4);\n  }\n  _markEdgeResolutionDirty(e) {\n    const t = 1 << e << Z;\n    this._modifiedFlags |= t, this._markEdgeDirty(e);\n  }\n  _markAllEdgesAndCornersDirty() {\n    this._modifiedFlags |= 15 << Y | 15 << Q | 15 << Z;\n  }\n  updateGeometryState() {\n    const t = this._getElevationInfo(),\n      r = this.tile,\n      i = t.samplerData ? r.getElevationVerticesPerSide(t.maxTileLevel) : r.getDefaultVerticesPerSide(),\n      s = Math.max(i, 5);\n    let o = r.clippingArea;\n    r.intersectsClippingArea && !r.isWithinClippingArea || (o = null);\n    const a = this.geometryState;\n    let n = !1;\n    a.numVerticesPerSide !== s && (this._modifiedFlags |= 1, a.numVerticesPerSide = s, a.samplerDataVersion++, n = !0), t.changed && (this._modifiedFlags |= 2, a.samplerData = t.samplerData, a.samplerDataVersion++, n = !0), e(a.clippingArea, o) || (this._modifiedFlags = 4, a.clippingArea = o, n = !0);\n    const l = r.surface.wireframe;\n    return a.wireframe !== l && (this._modifiedFlags = 8, a.wireframe = l, n = !0), this._geometryStateChangedSinceLastUpdate ||= n, n && this._markAllEdgesAndCornersDirty(), this._hasGeometry = !0, this._geometryStateChangedSinceLastUpdate;\n  }\n  _createGeometry(e) {\n    this.tile.createGeometry();\n    const t = this.geometry.vertexAttributes,\n      r = this.geometry.indices,\n      i = e.gl;\n    this._vao = new L(e, N, {\n      geometry: f(t.layout)\n    }, {\n      geometry: P.createVertex(e, i.STATIC_DRAW, t.buffer)\n    }, P.createIndex(e, i.STATIC_DRAW, r)), this._hasGeometry = !0;\n  }\n  get vao() {\n    return this._vao;\n  }\n  setTextureReference(e, t = A.Immediate) {\n    null != e && e.texture !== this._texture && this.releaseTexture(), this._textureRef.push(e, t);\n  }\n  get textureReference() {\n    return this._textureRef.current;\n  }\n  get nextTextureReference() {\n    return this._textureRef.next;\n  }\n  get textureFadeFactor() {\n    return this._textureRef.fadeFactor;\n  }\n  get textureIsFading() {\n    return this._textureRef.isFading;\n  }\n  _getElevationInfo() {\n    const e = this.geometryState.samplerData,\n      t = this.tile.layerInfo[y.ELEVATION],\n      r = t.length,\n      i = new Array(r);\n    let s = 0,\n      o = 0,\n      a = !1;\n    for (let g = 0; g < r; g++) {\n      const r = t[g];\n      if (null != r.upsampleInfo) {\n        const t = r.upsampleInfo.tile,\n          n = t.layerInfo[y.ELEVATION][g].data,\n          l = n && n.samplerData;\n        e && e[s] === l || (a = !0), i[s++] = l, o = Math.max(o, t.lij[0]);\n      } else if (r.data) {\n        const t = this.tile.surface.layerViewByIndex(g, y.ELEVATION);\n        if (w(this.tile, t.layer, !1)) {\n          const t = r.data;\n          e && e[s] === t.samplerData || (a = !0), i[s++] = t.samplerData, o = this.tile.level;\n        }\n      }\n    }\n    null != e && e.length !== s && (a = !0);\n    const n = s > 0,\n      l = n ? i : null;\n    return n && (i.length = s), {\n      changed: a,\n      samplerData: l,\n      maxTileLevel: o\n    };\n  }\n  get estimatedGeometryMemoryUsage() {\n    const e = this.intersectionData?.estimatedMemoryUsage ?? 0;\n    return (this.geometry.indices?.byteLength ?? 0) + (this.geometry.vertexAttributes?.byteLength ?? 0) + e;\n  }\n  get texture() {\n    return this._texture;\n  }\n  get test() {}\n  checkGeometryWaterproofness() {\n    if (!E) return;\n    const e = this.tile;\n    if (!e.isLoaded || !e.intersectsClippingArea || 0 === e.level) return void $(e?.isLoaded);\n    const r = e.surface.extent;\n    if (null != r && !e.intersectsExtent(r)) return;\n    const f = S.map((t, i) => null != r && (i < 2 ? -1 : 1) * (e.extent[3 - i] - r[3 - i]) < 0),\n      p = e.level;\n    $(0 === this.dirtyCorners), $(0 === this.dirtyEdges), $(0 === this.dirtyEdgeResolutions), $(!this.numVerticesPerSideChanged), $(!this.samplerDataChanged), $(!this.clippingAreaChanged), $(!this.wireframeChanged);\n    const y = D.map(t => e.findNeighborCornerTileExact(t, t => !t.intersectsClippingArea || t.isLoaded || t.level === e.level) ?? null).map(e => e?.intersectsClippingArea ? e : null),\n      x = this.geometryState;\n    for (let t = 0; t < 4; ++t) {\n      const r = x.cornerPeerNeighbors[t],\n        i = y[t];\n      $(i === r, `Tile[${e.lij}].corner[${t}] out of date: cur=[${r?.lij}] exp=[${i?.lij}]`);\n    }\n    S.forEach((r, y) => {\n      if (f[y]) return;\n      const x = e.findNeighborTile(r, e => (e.level === p || e?.isLoaded) && e?.intersectsClippingArea);\n      if (!x) {\n        const t = !e.surface.updatingRootTiles && null != e.surface.rootTiles && e.surface.rootTiles.length > 0 && e.shouldHaveNeighbor(r);\n        return void $(!t);\n      }\n      $(x.isLoaded || x.level === e.level), $(x === this.geometryState.edgePeerNeighbors[y]);\n      const v = p - x.level;\n      if (!x.isLoaded) return $(!x.isLeaf), void $(0 === v);\n      const E = x.renderData;\n      $(V(e, x, r)), $(v >= 0);\n      const S = 2 ** v;\n      if (v < 0) return void $(!1);\n      const C = e.renderData,\n        D = C.geometry,\n        j = C.localOrigin,\n        A = D.getEdgeCount(y),\n        R = D.numVerticesPerSide - 1,\n        w = E.geometry;\n      if (!w) return void $(!1);\n      const L = E.localOrigin,\n        N = this.geometryState.edgePeerNeighbors[y];\n      if (N?.isLoaded) {\n        const e = N.renderData;\n        $(C.geometryState.edgePeerNeighborSamplerVersions[y] === e.geometryState.samplerDataVersion), $(this.geometryState.edgePeerNeighborSamplerVersions[y] === e.geometryState.samplerDataVersion);\n      }\n      const P = (y + 2) % 4,\n        F = w.getEdgeCount(P),\n        G = A - 1,\n        B = F - 1;\n      $(G * S === B, `Tile[${e.lij}]:e${y},res=${G} edgeRes mismatch with Neighbor[${x.lij}]:e${P},res=${B} (expected:${G * S})`);\n      const W = e.extent,\n        q = r === _.NORTH || r === _.SOUTH,\n        z = F - 1,\n        J = z >> v,\n        K = A - 1;\n      if (J < 1) return void $(1 === K);\n      $(J === K), $(t(J));\n      const Q = w.numVerticesPerSide - 1;\n      $(v > 0 || J === Math.max(Q, R));\n      const Y = e.getNeighborEdgeStartVertexIndex(y, x);\n      $(0 <= Y && Y < S);\n      const Z = Y * J;\n      $(0 <= Z && Z <= z - J);\n      let ee = 0,\n        te = Z;\n      D.getEdgeVertexPosition(y, O, j, 0), D.getEdgeVertexPosition(y, I, j, A - 1);\n      const re = i(O, I),\n        ie = Math.max(X, 1e-4 * re);\n      for (let t = 0; t <= J; ++t) {\n        D.getEdgeVertexPosition(y, O, j, ee), w.getEdgeVertexPosition(P, I, L, te);\n        const i = t / J,\n          f = q ? W[0] + i * (W[2] - W[0]) : r === _.WEST ? W[0] : W[2],\n          p = q ? r === _.SOUTH ? W[1] : W[3] : W[1] + i * (W[3] - W[1]),\n          v = e.surface.extent;\n        if (null == v || u(v, f, p)) {\n          const t = s(O, I),\n            r = o(O) - c.radius,\n            i = o(I) - c.radius,\n            u = t < ie;\n          if (!u) {\n            console.warn(`Tile edge vertex position mismatch: between [${e.lij}].edge${y}[${ee}/${A}] and [${x.lij}].edge${P}[${te}/${F}]`), null != v && console.warn(\"  surface extent= \", v, \" x,y=\", f, \",\", p);\n            const s = h();\n            a(s, C.localOrigin, E.localOrigin), o(s) > 0 && console.warn(`   localOrigins: ${C.localOrigin} vs ${E.localOrigin} d=${o(s)} [${s}]`);\n            (() => {\n              const t = m(O),\n                r = m(I);\n              e.updateEdgeElevations(), x.updateEdgeElevations(), D.getEdgeVertexPosition(y, O, j, ee), w.getEdgeVertexPosition(P, I, L, te);\n              const i = h();\n              g(i, O, t), o(i) > 0 && console.warn(`  XXX Tile[${e.lij}] edge out of date: ${t} vs ${O} d=${o(i)} [${i}]`), g(i, I, r), o(i) > 0 && console.warn(`  XXX Neighbor[${x.lij}] edge out of date: ${r} vs ${I} d=${o(i)} [${i}]`);\n            })();\n            const n = D.getEdgeCount(y),\n              l = w.getEdgeCount(F);\n            $(u, `Mismatch in tile [${e.lij}].edge[${y}][${ee}/${n}] vs neighbor [${x.lij}].edge[${P}][${te}/${l}] ${b(O)} vs ${b(I)}  dist=${t} h(t|n|d)=${r}|${i}|${i - r}`);\n          }\n          D.getEdgeNormal(y, M, ee), w.getEdgeNormal(P, U, te), n(k, M), n(H, U);\n          const _ = l(k, H),\n            S = 1 - _ < .01 || !1 || e === x;\n          if (!S) {\n            const t = h();\n            g(t, M, U);\n            const r = () => `Mismatch in tile edge normal ${T(e.lij)} (${ee}/${A - 1}) edge ${y} vs neighbor ${T(x.lij)}  (${te}/${F - 1}) nedge ${P} :${b(M)} vs ${b(U)}  dot = ${_} : ${b(t)}`;\n            console.warn(\"Mismatch in tile edge normal: \", r());\n            {\n              e.updateEdgeElevations(), x.updateEdgeElevations();\n              const t = h(),\n                r = h();\n              D.getEdgeNormal(y, t, ee), w.getEdgeNormal(P, r, te), d(M, t) || console.warn(\"Missing update in tile normal: \", b(M), \" => \", b(t)), d(U, r) || console.warn(\"Missing update in neighbor normal: \", b(U), \" => \", b(r));\n            }\n            $(S, r());\n          }\n        }\n        ee += 1, te += 1;\n      }\n    });\n  }\n}\nconst O = h(),\n  I = h(),\n  M = h(),\n  U = h(),\n  k = h(),\n  H = h(),\n  X = 1,\n  B = [null, null, null, null];\nfunction W(e, t) {\n  return t?.isLoaded || t === e ? t : null;\n}\nconst q = 1,\n  z = 2,\n  J = 4,\n  K = 8,\n  Q = 4,\n  Y = 8,\n  Z = 12,\n  ee = [0, 1, 2, 3];\nexport { A as ActivationTime, G as PatchRenderData, W as neighborTileIfLoadedOrSelf, ee as zeroToFour };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { isPowerOfTwo as e, clamp as t } from \"../../../core/mathUtils.js\";\nimport { empty as n } from \"../../../geometry/support/aaBoundingBox.js\";\nimport { fromValues as o } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { sampleElevation as s } from \"./ElevationData.js\";\nimport { PatchType as r } from \"./interfaces.js\";\nimport { NeighborIndex as i } from \"./NeighborIndex.js\";\nimport { encodeUVInBuffer as a } from \"./PatchGeometry.js\";\nimport { PatchGeometryLUT as c } from \"./PatchGeometryLUT.js\";\nimport { neighborTileIfLoadedOrSelf as l, zeroToFour as u } from \"./PatchRenderData.js\";\nimport { internalAssert as d, enableTerrainInternalChecks as f, neighborEdgeIndices as m, almostEquals as g } from \"./terrainUtils.js\";\nimport { isCornerNeighbor as p } from \"./Tile.js\";\nimport { compareTilesByLij as x } from \"./tileUtils.js\";\nimport { compressNormal as h } from \"../webgl-engine/lib/Normals.js\";\nconst M = 65536;\nfunction S(e, t) {\n  const {\n      tile: o,\n      geometry: s,\n      geometryState: i\n    } = e,\n    {\n      extentInRadians: a,\n      surface: c\n    } = o,\n    {\n      isWebMercator: l,\n      renderer: u\n    } = c,\n    {\n      numVerticesPerSide: d,\n      wireframe: f\n    } = i,\n    m = d - 1,\n    g = (d - 2) ** 2,\n    p = l && (t === r.HAS_SOUTH_POLE || t === r.HAS_BOTH_POLES),\n    x = l && (t === r.HAS_NORTH_POLE || t === r.HAS_BOTH_POLES),\n    h = ((p ? 1 : 0) + (x ? 1 : 0)) * pe * d,\n    M = fe(i),\n    S = g + h + 4 * M,\n    L = u.tileGeometryCache.acquire(S);\n  s.numVerticesPerSide = d, s.vertexAttributes = L, s.maxEdgeVertexCount = M;\n  const {\n    boundingBox: B\n  } = s;\n  n(B);\n  const I = O(e);\n  re.update(m, a, I), v(e), s.poleVerticesStartIndex = g;\n  const b = y(e, p, x);\n  s.edgeVerticesStartIndex = g + h, X(e), V(e), W(s, b, f), e.intersectionData = null;\n}\nfunction y(e, t, n) {\n  const {\n      tile: o,\n      localOrigin: s,\n      geometry: r\n    } = e,\n    {\n      extent: i,\n      ellipsoid: c\n    } = o,\n    {\n      boundingBox: l,\n      numVerticesPerSide: u,\n      vertexAttributes: d,\n      poleVerticesStartIndex: f\n    } = r,\n    m = u - 1,\n    g = s[0],\n    p = s[1],\n    x = s[2],\n    M = c.radius,\n    S = i[1],\n    y = i[3],\n    v = [];\n  let L = f;\n  const B = (e, t) => {\n    const n = t * u;\n    de(-g, -p, e * M - x, l), v.push(new oe(1 === e, n, 1 === e ? 0 : 2, L, pe));\n    const o = P(-1 === e ? S : y, M),\n      s = e * Math.PI / 2 - o,\n      r = .99 * (1 === e ? 1 : -1),\n      i = M + 0,\n      {\n        position: c,\n        uv0: f\n      } = d,\n      {\n        typedBuffer: B,\n        typedBufferStride: I\n      } = d.normalCompressed;\n    for (let u = 1; u <= pe; ++u) {\n      const e = o + s * (u / pe),\n        t = Math.cos(e),\n        n = Math.sin(e);\n      for (let o = 0; o <= m; o++) {\n        const e = o / m,\n          s = re.sinLonLUT[o],\n          u = re.cosLonLUT[o] * t,\n          d = s * t,\n          M = n,\n          S = u * i - g,\n          y = d * i - p,\n          v = M * i - x;\n        de(S, y, v, l), c.setValues(L, S, y, v), a(f, L, e, r), h(B, L, u, d, M, I), ++L;\n      }\n    }\n  };\n  return t && B(-1, 0), n && B(1, m), v;\n}\nfunction v(e) {\n  const {\n    tile: t\n  } = e;\n  if (!t.intersectsClippingArea) return;\n  const {\n      geometry: n,\n      geometryState: o,\n      localOrigin: r\n    } = e,\n    {\n      numVerticesPerSide: i,\n      samplerData: c\n    } = o,\n    l = i - 2,\n    u = i - 1,\n    {\n      vertexAttributes: d,\n      boundingBox: f\n    } = n,\n    m = d.position,\n    g = d.uv0,\n    {\n      typedBuffer: p,\n      typedBufferStride: x\n    } = d.normalCompressed,\n    {\n      extent: M\n    } = t,\n    S = M[0],\n    y = M[2],\n    v = M[1],\n    L = M[3],\n    B = t.ellipsoid.radius,\n    I = r[0],\n    V = r[1],\n    b = r[2],\n    C = m.typedBuffer,\n    P = m.typedBufferStride,\n    A = 1 / u;\n  let E = 0;\n  if (1 <= l) {\n    const e = A,\n      t = v * (1 - e) + L * e,\n      n = re.sinLatLUT[1],\n      o = re.cosLatLUT[1];\n    for (let r = 1; r <= l; r++) {\n      const i = r * A,\n        l = S * (1 - i) + y * i,\n        u = re.sinLonLUT[r],\n        d = re.cosLonLUT[r],\n        m = B + s(l, t, c),\n        p = m * d * o - I,\n        x = m * u * o - V,\n        h = m * n - b;\n      de(p, x, h, f);\n      const M = (r - 1) * P;\n      C[M] = p, C[M + 1] = x, C[M + 2] = h, a(g, r - 1, i, e);\n    }\n  }\n  for (let O = 1; O <= l; O++) {\n    const e = O * A,\n      t = v * (1 - e) + L * e,\n      n = re.sinLatLUT[O],\n      o = re.cosLatLUT[O],\n      r = O + 1,\n      i = r * A,\n      d = v * (1 - i) + L * i,\n      m = re.sinLatLUT[r],\n      M = re.cosLatLUT[r],\n      T = re.sinLonLUT[0],\n      D = re.cosLonLUT[0],\n      R = B + s(S, t, c);\n    let U = D * o * R - I,\n      N = T * o * R - V,\n      w = n * R - b;\n    const j = E * P;\n    let F = C[j],\n      H = C[j + 1],\n      q = C[j + 2];\n    for (let L = 1; L <= l; L++) {\n      const e = L * A,\n        r = S * (1 - e) + y * e,\n        T = re.sinLonLUT[L],\n        D = re.cosLonLUT[L];\n      let R = 0,\n        j = 0,\n        _ = 0;\n      if (L < l) {\n        const e = (E + 1) * P;\n        R = C[e], j = C[e + 1], _ = C[e + 2];\n      } else {\n        const e = re.sinLonLUT[u],\n          r = re.cosLonLUT[u],\n          i = B + s(y, t, c);\n        R = r * o * i - I, j = e * o * i - V, _ = n * i - b;\n      }\n      const W = U,\n        G = N,\n        k = w;\n      U = F, N = H, w = q, F = R, H = j, q = _;\n      const z = R - W,\n        J = j - G,\n        K = _ - k;\n      let Q = 0,\n        X = 0,\n        Y = 0;\n      if (O > 1) {\n        const e = (E - l) * P;\n        Q = C[e], X = C[e + 1], Y = C[e + 2];\n      } else {\n        const e = re.sinLatLUT[0],\n          t = re.cosLatLUT[0],\n          n = B + s(r, v, c);\n        Q = D * t * n - I, X = T * t * n - V, Y = e * n - b;\n      }\n      const Z = B + s(r, d, c),\n        $ = D * M * Z - I,\n        ee = T * M * Z - V,\n        te = m * Z - b;\n      if (O < l) {\n        const t = E + l,\n          n = t * P;\n        C[n] = $, C[n + 1] = ee, C[n + 2] = te, de($, ee, te, f), a(g, t, e, i);\n      }\n      const ne = Q - $,\n        oe = X - ee,\n        se = Y - te;\n      let ie = D * o,\n        ae = T * o,\n        ce = n;\n      ce * ce < .999 && (ie = K * oe - J * se, ae = z * se - K * ne, ce = J * ne - z * oe);\n      const le = 1 / Math.sqrt(ie * ie + ae * ae + ce * ce);\n      h(p, E, ie * le, ae * le, ce * le, x), ++E;\n    }\n  }\n}\nfunction L(e) {\n  e.tile.intersectsClippingArea && (V(e), te(e), e.intersectionData = null);\n}\nfunction B(e) {\n  e.tile.intersectsClippingArea && (Y(e), V(e), te(e), ne(e), e.intersectionData = null);\n}\nfunction I(e) {\n  e.tile.intersectsClippingArea && (C(e), b(e, !0), te(e), e.intersectionData = null);\n}\nfunction V(e) {\n  e.tile.intersectsClippingArea && (C(e), b(e));\n}\nfunction b(t, n = !1) {\n  const {\n      geometry: o,\n      geometryState: r,\n      tile: i,\n      localOrigin: c\n    } = t,\n    {\n      level: u,\n      extent: p,\n      extentInRadians: h,\n      ellipsoid: M\n    } = i,\n    S = M.radius,\n    y = h[0],\n    v = h[2],\n    L = h[1],\n    B = h[3],\n    {\n      samplerData: I\n    } = r,\n    V = p[0],\n    b = p[2],\n    C = p[1],\n    P = p[3],\n    A = O(t),\n    {\n      boundingBox: E,\n      vertexAttributes: T\n    } = o,\n    D = c[0],\n    R = c[1],\n    U = c[2],\n    N = T.position,\n    w = N.typedBuffer,\n    j = N.typedBufferStride,\n    F = T.uv0;\n  for (let O = 0; O < 4; ++O) {\n    const c = 1 === O || 3 === O,\n      h = r.edgeResolutions[O];\n    d(e(h));\n    const M = h + 1,\n      T = l(i, r.edgePeerNeighbors[O]);\n    if (ce(i, T, O)) {\n      Z(t, O, T);\n      continue;\n    }\n    const N = null != T;\n    d(!N || T.level === i.level), d(!N || x(i, T) <= 0);\n    const H = T?.renderData,\n      q = H?.geometryState;\n    if (f) {\n      const e = i.surface;\n      if (!T && e && !e.updatingRootTiles) {\n        const t = m[O],\n          n = i.findNeighborTile(t, e => e.isLoaded || e.isLeaf || e.level === i.level);\n        n ? n.intersectsClippingArea && (d(!n.isLoaded), d(!n.isLeaf), d(n.level === u)) : d(null == e?.rootTiles || !i.shouldHaveNeighbor(t));\n      }\n    }\n    const _ = 1 === O ? p[2] : p[0],\n      W = T?.extent,\n      G = W && c ? 1 === O ? W[0] : W[2] : _,\n      k = 0 === O ? p[3] : p[1],\n      z = 1 === O ? 1 : 0,\n      J = 0 === O ? 1 : 0,\n      K = 1 === O ? v : y,\n      Q = 0 === O ? B : L,\n      X = Math.sin(K),\n      Y = Math.cos(K),\n      $ = Math.sin(Q),\n      ee = Math.cos(Q),\n      te = q?.samplerData,\n      ne = N ? (e, t, n) => .5 * (s(e, t, I) + s(n, t, te)) : (e, t, n) => s(e, t, I),\n      oe = o.outerEdgesOffsetAndLength[2 * O + 0],\n      se = n && M > 3 ? M - 3 : 1,\n      re = null != I && I.some(e => null != e),\n      ie = null != te && te.some(e => null != e),\n      ae = re || ie,\n      le = 1 / h,\n      ue = oe;\n    d(!W || g(W[2] - W[0], p[2] - p[0]));\n    (() => {\n      const e = 1 === O ? -1 : 3 === O ? 1 : 0,\n        t = 0 === O ? -1 : 2 === O ? 1 : 0,\n        n = (p[2] - p[0]) * le,\n        r = e * n,\n        i = t * n,\n        l = c ? e * ((v - y) * le) : 0,\n        u = c ? 0 : t * le,\n        d = J,\n        f = c ? K + l : K,\n        m = c ? Math.sin(f) : X,\n        g = c ? Math.cos(f) : Y,\n        x = c ? K - l : K,\n        h = c ? Math.sin(x) : X,\n        L = c ? Math.cos(x) : Y,\n        B = c ? Q : A(d + u),\n        T = c ? $ : Math.sin(B),\n        H = c ? ee : Math.cos(B),\n        q = c ? Q : A(d - u),\n        W = c ? $ : Math.sin(q),\n        Z = c ? ee : Math.cos(q);\n      let oe = 0,\n        re = 0,\n        ie = 0;\n      {\n        const e = 0 * le,\n          t = c ? _ : V * (1 - e) + b * e,\n          n = c ? G : t,\n          o = c ? C * (1 - e) + P * e : k,\n          s = c ? K : y * (1 - e) + v * e,\n          r = c ? X : Math.sin(s),\n          i = c ? Y : Math.cos(s),\n          a = c ? A(e) : Q,\n          l = c ? Math.sin(a) : $,\n          u = c ? Math.cos(a) : ee,\n          d = S + ne(t, o, n);\n        oe = i * u * d, re = r * u * d, ie = l * d;\n      }\n      let ce = 0,\n        fe = 0,\n        me = 0;\n      {\n        const e = 1 * le,\n          t = c ? _ : V * (1 - e) + b * e,\n          n = c ? G : t,\n          o = c ? C * (1 - e) + P * e : k,\n          s = c ? K : y * (1 - e) + v * e,\n          r = c ? X : Math.sin(s),\n          i = c ? Y : Math.cos(s),\n          a = c ? A(e) : Q,\n          l = c ? Math.sin(a) : $,\n          u = c ? Math.cos(a) : ee,\n          d = S + ne(t, o, n);\n        ce = i * u * d, fe = r * u * d, me = l * d;\n      }\n      for (let p = 1; p < M - 1; p += se) {\n        let e = 0,\n          t = 0,\n          n = 0;\n        {\n          const o = (p + 1) * le,\n            s = c ? _ : V * (1 - o) + b * o,\n            r = c ? G : s,\n            i = c ? C * (1 - o) + P * o : k,\n            a = c ? K : y * (1 - o) + v * o,\n            l = c ? X : Math.sin(a),\n            u = c ? Y : Math.cos(a),\n            d = c ? A(o) : Q,\n            f = c ? Math.sin(d) : $,\n            m = c ? Math.cos(d) : ee,\n            g = S + ne(s, i, r);\n          e = u * m * g, t = l * m * g, n = f * g;\n        }\n        const l = e,\n          u = t,\n          d = n,\n          f = ce,\n          x = fe,\n          M = me;\n        ce = l, fe = u, me = d;\n        {\n          const e = ue + p,\n            t = e * j,\n            n = f - D,\n            o = x - R,\n            s = M - U;\n          w[t] = n, w[t + 1] = o, w[t + 2] = s, de(n, o, s, E);\n          const r = p * le;\n          a(F, e, c ? z : r, c ? r : J);\n        }\n        const B = oe,\n          q = re,\n          se = ie;\n        oe = f, re = x, ie = M;\n        const ge = f,\n          pe = x,\n          xe = M,\n          he = 1 / Math.sqrt(ge * ge + pe * pe + xe * xe),\n          Me = xe * he;\n        let Se = 0,\n          ye = 0,\n          ve = 0;\n        if (ae && Me * Me < .999) {\n          let e = 0,\n            t = 0,\n            n = 0;\n          {\n            const o = 0 === O ? -1 : 1;\n            e = o * (l - B), t = o * (u - q), n = o * (d - se);\n          }\n          {\n            const o = p * le,\n              a = c ? _ : V * (1 - o) + b * o,\n              l = c ? G : a,\n              u = c ? C * (1 - o) + P * o : k,\n              d = c ? K : y * (1 - o) + v * o,\n              f = c ? X : Math.sin(d),\n              x = c ? Y : Math.cos(d),\n              M = c ? A(o) : Q,\n              B = c ? Math.sin(M) : $,\n              E = c ? Math.cos(M) : ee;\n            let D = ge,\n              R = pe,\n              U = xe;\n            if (N) {\n              const e = S + s(l - r, u - i, te),\n                t = c ? E : Z;\n              D = (c ? L : x) * t * e, R = (c ? h : f) * t * e, U = (c ? B : W) * e;\n            }\n            {\n              const o = S + s(a + r, u + i, I),\n                l = c ? E : H,\n                d = (c ? g : x) * l * o,\n                p = (c ? m : f) * l * o,\n                h = (c ? B : T) * o;\n              N || (D = 2 * ge - d, R = 2 * pe - p, U = 2 * xe - h);\n              const M = 3 === O ? -1 : 1,\n                y = M * (D - d),\n                v = M * (R - p),\n                L = M * (U - h);\n              Se = n * v - t * L, ye = e * L - n * y, ve = t * y - e * v;\n              const V = 1 / Math.sqrt(Se * Se + ye * ye + ve * ve);\n              Se *= V, ye *= V, ve *= V;\n            }\n          }\n        } else Se = ge * he, ye = pe * he, ve = xe * he;\n        o.setEdgeNormalFromValues(O, p, Se, ye, ve);\n      }\n    })();\n  }\n}\nfunction C(e) {\n  $(e);\n}\nfunction P(e, t) {\n  return Math.PI / 2 - 2 * Math.atan(Math.exp(-e / t));\n}\nfunction A(e, t, n, o) {\n  return P(e * (1 - o) + t * o, n);\n}\nfunction E(e, t, n) {\n  return e * (1 - n) + t * n;\n}\nfunction O(e) {\n  const {\n    tile: t\n  } = e;\n  if (t.surface.isWebMercator) {\n    const e = t.extent,\n      n = t.ellipsoid.radius;\n    return t => A(e[1], e[3], n, t);\n  }\n  const n = t.extentInRadians;\n  return e => E(n[1], n[3], e);\n}\nfunction T(e, t) {\n  const {\n      tile: o,\n      geometryState: s,\n      geometry: r\n    } = e,\n    {\n      extent: i,\n      surface: a\n    } = o,\n    {\n      wireframe: c\n    } = s,\n    l = i[0],\n    u = i[1],\n    d = i[2] - l,\n    f = i[3] - u,\n    {\n      numVerticesPerSide: m,\n      clippingArea: g\n    } = s,\n    p = null != g ? Math.max(0, (g[0] - l) / d) : 0,\n    x = null != g ? Math.max(0, (g[1] - u) / f) : 0,\n    h = null != g ? Math.min(1, (g[2] - l) / d) : 1,\n    M = null != g ? Math.min(1, (g[3] - u) / f) : 1,\n    S = (m - 2) ** 2,\n    y = fe(s),\n    v = S + 4 * y,\n    L = a.renderer.tileGeometryCache.acquire(v),\n    {\n      boundingBox: B\n    } = r;\n  n(B), r.numVerticesPerSide = m, r.vertexAttributes = L, r.maxEdgeVertexCount = y, r.minu = p, r.minv = x, r.maxu = h, r.maxv = M, D(e), r.edgeVerticesStartIndex = S, X(e), w(e), W(r, [], c), e.intersectionData = null;\n}\nfunction D(e) {\n  const n = e.tile;\n  if (!n.intersectsClippingArea) return;\n  const {\n      geometry: o,\n      geometryState: r,\n      localOrigin: i\n    } = e,\n    {\n      samplerData: c,\n      clippingArea: l,\n      numVerticesPerSide: u\n    } = r,\n    {\n      surface: d,\n      extent: f,\n      ellipsoid: m\n    } = n,\n    {\n      isWebMercatorOnPlateCarree: g\n    } = d,\n    p = null != l ? l : ie,\n    x = f[0],\n    M = f[1],\n    S = f[2],\n    y = f[3],\n    v = Math.max(x, p[0]),\n    L = Math.min(S, p[2]),\n    B = Math.max(M, p[1]),\n    I = Math.min(y, p[3]),\n    V = m.radius,\n    b = n.horizontalScale,\n    C = u - 1,\n    P = u - 2,\n    {\n      minu: A,\n      minv: E,\n      maxu: O,\n      maxv: T,\n      boundingBox: D,\n      vertexAttributes: R\n    } = o,\n    U = R.position,\n    N = R.uv0,\n    {\n      typedBuffer: w,\n      typedBufferStride: j\n    } = R.normalCompressed,\n    F = i[0],\n    H = i[1],\n    q = i[2],\n    _ = U.typedBuffer,\n    W = U.typedBufferStride;\n  let G = 0;\n  const k = t(M, B, I),\n    z = g ? (Math.PI / 2 - 2 * Math.atan(Math.exp(-k / V))) * V : k * b,\n    J = 1 / C,\n    K = t(M * (1 - J) + y * J, B, I);\n  let Q = z,\n    X = g ? (Math.PI / 2 - 2 * Math.atan(Math.exp(-K / V))) * V : K * b;\n  for (let Y = 1; Y <= P; Y++) {\n    const e = Y / C,\n      n = t(M * (1 - e) + y * e, B, I),\n      o = t(e, E, T),\n      r = X,\n      i = (Y - 1) / C,\n      l = t(M * (1 - i) + y * i, B, I),\n      u = Q,\n      d = (Y + 1) / C,\n      f = t(M * (1 - d) + y * d, B, I),\n      m = g ? (Math.PI / 2 - 2 * Math.atan(Math.exp(-f / V))) * V : f * b,\n      p = t(d, E, T);\n    Q = X, X = m;\n    const R = t(x, v, L);\n    let U = R * b,\n      k = s(R, n, c);\n    const z = 1 / C,\n      J = t(z, A, O),\n      K = t(x * (1 - J) + S * J, v, L);\n    let Z = J,\n      $ = K,\n      ee = K * b,\n      te = s(K, n, c);\n    if (1 === Y) {\n      const e = ee - F,\n        n = Q - H,\n        s = te - q,\n        r = 0 * W;\n      _[r] = e, _[r + 1] = n, _[r + 2] = s, de(e, n, s, D);\n      const i = t(z, A, O);\n      a(N, G, i, o);\n    }\n    for (let g = 1; g <= P; g++) {\n      const e = ee,\n        i = te,\n        d = (g + 1) / C,\n        M = t(d, A, O),\n        y = t(x * (1 - d) + S * d, v, L),\n        B = $;\n      $ = y;\n      {\n        const e = G + 1,\n          t = e * W;\n        if (1 === Y || g === P) {\n          const i = y * b,\n            l = s(y, n, c);\n          if (1 === Y && g < P) {\n            const n = i - F,\n              s = r - H,\n              c = l - q;\n            _[t] = n, _[t + 1] = s, _[t + 2] = c, de(n, s, c, D), a(N, e, M, o);\n          }\n          ee = i, te = l;\n        } else ee = _[t] + F, te = _[t + 2] + q;\n      }\n      const I = ee,\n        V = te,\n        E = U,\n        T = k;\n      U = e, k = i;\n      const R = (G - P) * W,\n        z = 1 === Y ? s(B, l, c) : _[R + 2] + q,\n        J = s(B, f, c);\n      if (Y < P) {\n        const t = G + P,\n          n = t * W,\n          o = e - F,\n          s = m - H,\n          r = J - q;\n        _[n] = o, _[n + 1] = s, _[n + 2] = r, de(o, s, r, D);\n        const i = Z;\n        Z = M, a(N, t, i, p);\n      }\n      {\n        const e = I - E,\n          t = u - m,\n          n = t * (V - T),\n          o = e * (z - J),\n          s = -t * e,\n          r = n * n + o * o + s * s;\n        if (0 === r) h(w, G, 0, 0, 1, j);else {\n          const e = 1 / Math.sqrt(r);\n          h(w, G, n * e, o * e, s * e, j);\n        }\n      }\n      ++G;\n    }\n  }\n}\nfunction R(e, t) {\n  e.tile.intersectsClippingArea && (F(e), j(e, !0), te(e), e.intersectionData = null);\n}\nfunction U(e, t) {\n  e.tile.intersectsClippingArea && (Y(e), w(e), te(e), ne(e), e.intersectionData = null);\n}\nfunction N(e, t) {\n  e.tile.intersectsClippingArea && (w(e), te(e), e.intersectionData = null);\n}\nfunction w(e, t) {\n  e.tile.intersectsClippingArea && (F(e), j(e, !1));\n}\nfunction j(n, o) {\n  const {\n      geometry: r,\n      geometryState: i,\n      localOrigin: a\n    } = n,\n    c = n.tile,\n    {\n      surface: u,\n      extent: g\n    } = c,\n    {\n      clippingArea: p,\n      samplerData: h\n    } = i,\n    M = null != p ? p : ie,\n    S = g[0],\n    y = g[2],\n    v = g[1],\n    L = g[3],\n    B = [L > M[3], y > M[2], v < M[1], S < M[0]],\n    I = c.horizontalScale,\n    V = _(u.isWebMercatorOnPlateCarree, c.ellipsoid.radius, I),\n    {\n      minu: b,\n      minv: C,\n      maxu: P,\n      maxv: A,\n      boundingBox: E\n    } = r,\n    O = Math.max(S, M[0]),\n    T = Math.min(y, M[2]),\n    D = Math.max(v, M[1]),\n    R = Math.min(L, M[3]),\n    U = a[0],\n    N = a[1],\n    w = a[2];\n  for (let j = 0; j < 4; ++j) {\n    const a = 1 === j || 3 === j,\n      g = i.edgeResolutions[j];\n    d(e(g));\n    const p = g + 1,\n      M = B[j],\n      F = l(c, i.edgePeerNeighbors[j]);\n    if (!M && ce(c, F, j)) {\n      Z(n, j, F);\n      continue;\n    }\n    const H = null != F && !M,\n      q = F?.renderData,\n      _ = q?.geometryState;\n    if (f && (d(!H || F.level === c.level), d(!H || x(c, F) <= 0), c && !F && !u.updatingRootTiles)) {\n      const e = m[j],\n        t = c.findNeighborTile(e, e => e.isLoaded || e.isLeaf || e.level === c.level);\n      u.updatingRootTiles || (t ? t.intersectsClippingArea && (d(!t.isLoaded), d(!t.isLeaf), d(t.level === c.level)) : d(null == u?.rootTiles || !c.shouldHaveNeighbor(e)));\n    }\n    const W = t(1 === j ? y : S, O, T),\n      G = t(0 === j ? L : v, D, R),\n      k = _?.samplerData,\n      z = o && p > 3 ? p - 3 : 1,\n      J = t(1 === j ? 1 : 0, b, P),\n      K = t(0 === j ? 1 : 0, C, A),\n      Q = H ? (e, t) => .5 * (s(e, t, k) + s(e, t, h)) : (e, t) => s(e, t, h),\n      X = (y - S) / g,\n      Y = a ? 1 === j ? X : -X : 0,\n      $ = a ? 0 : 0 === j ? X : -X,\n      ee = -Y,\n      te = -$;\n    let ne = 0,\n      oe = 0,\n      se = 0;\n    {\n      const e = 0 / g,\n        n = a ? W : t(S * (1 - e) + y * e, O, T),\n        o = a ? t(v * (1 - e) + L * e, D, R) : G,\n        s = Q(n, o);\n      ne = n * I, oe = V(o), se = s;\n    }\n    let re = 0,\n      ie = 0,\n      ae = 0;\n    {\n      const e = 1 / g,\n        n = a ? W : t(S * (1 - e) + y * e, O, T),\n        o = a ? t(v * (1 - e) + L * e, D, R) : G,\n        s = Q(n, o);\n      re = n * I, ie = V(o), ae = s;\n    }\n    for (let e = 1; e < p - 1; e += z) {\n      const n = e / g,\n        o = re,\n        i = ie,\n        c = ae;\n      {\n        const s = a ? J : t(n, b, P),\n          l = a ? t(n, C, A) : K,\n          u = o - U,\n          d = i - N,\n          f = c - w;\n        de(o, d, f, E), r.setEdgeVertexFromValuesRawPositionUV(j, e, u, d, f, s, l);\n      }\n      {\n        const n = (e + 1) / g,\n          o = a ? W : t(S * (1 - n) + y * n, O, T),\n          s = a ? t(v * (1 - n) + L * n, D, R) : G,\n          r = Q(o, s);\n        re = o * I, ie = V(s), ae = r;\n      }\n      const l = re,\n        u = ae,\n        d = ne,\n        f = oe,\n        m = se;\n      ne = o, oe = i, se = c;\n      let p = 0,\n        x = 0,\n        M = 0;\n      if (a) {\n        const e = ie - i,\n          r = u - c,\n          a = f - i,\n          l = m - c,\n          d = t(v * (1 - n) + L * n, D, R),\n          g = W + ee,\n          S = g * I - o,\n          y = s(g, d, h) - c,\n          B = 3 === j ? -1 : 1;\n        if (p = B * (-a + e) * y, x = B * S * (-l + r), M = -B * S * (-a + e), H) {\n          const t = W + Y,\n            n = t * I - o;\n          p = (-a + e) * (y - (s(t, d, k) - c)), x = (S - n) * (-l + r), M = -(S - n) * (-a + e);\n        }\n      } else {\n        const e = l - o,\n          r = u - c,\n          a = d - o,\n          f = m - c,\n          g = t(S * (1 - n) + y * n, O, T),\n          v = G + te,\n          L = s(g, v, h) - c,\n          B = V(v) - i,\n          I = 2 === j ? -1 : 1;\n        if (p = I * B * (-f + r), x = I * (-a + e) * L, M = -I * B * (-a + e), H) {\n          const t = g,\n            n = G + $,\n            o = V(n) - i;\n          p = (-B + o) * (-f + r), x = (-a + e) * (-L + (s(t, n, k) - c)), M = -(-B + o) * (-a + e);\n        }\n      }\n      const B = 1 / Math.sqrt(p * p + x * x + M * M);\n      r.setEdgeNormalFromValues(j, e, p * B, x * B, M * B);\n    }\n  }\n}\nfunction F(e, t) {\n  $(e);\n}\nfunction H(e, t) {\n  return (Math.PI / 2 - 2 * Math.atan(Math.exp(-e / t))) * t;\n}\nfunction q(e, t) {\n  return e * t;\n}\nfunction _(e, t, n) {\n  return e ? e => H(e, t) : e => q(e, n);\n}\nfunction W(e, t, n) {\n  const {\n      numVerticesPerSide: o,\n      vertexAttributes: s,\n      maxEdgeVertexCount: r\n    } = e,\n    i = o - 1,\n    a = s.count,\n    c = 2 * (o - 3) * (o - 3),\n    l = 4 * (i + r - 3),\n    d = u.reduce((t, n) => t + (i + e.getEdgeCount(n) - 3), 0),\n    f = t.reduce((e, t) => e + i * (2 * (t.latitudeResolution - 1) + 1), 0),\n    m = 3 * (n ? 2 : 1),\n    g = (c + l + f) * m,\n    p = a >= M ? new Uint32Array(g) : new Uint16Array(g);\n  for (let u = 0; u < g; ++u) p[u] = 0;\n  e.indices = p, e.indexCount = (c + d + f) * m, e.poleIndicesStartIndex = c * m, e.edgeIndicesStartIndex = (c + f) * m, n ? (J(e), K(e, t), Q(e)) : (G(e), k(e, t), z(e));\n}\nfunction G(e) {\n  const {\n      numVerticesPerSide: t,\n      indices: n,\n      vertexAttributes: o\n    } = e,\n    {\n      position: s\n    } = o,\n    {\n      typedBuffer: r,\n      typedBufferStride: i\n    } = s,\n    a = t - 2,\n    c = t - 3,\n    l = 0,\n    u = t - 3;\n  let d = 0;\n  for (let f = 0; f < c; ++f) {\n    const e = f * a;\n    for (let t = l; t < u; ++t) {\n      const o = e + t,\n        s = o + 1,\n        c = s + a,\n        l = c - 1;\n      me(o, s, c, l, i, r) ? (n[d] = o, n[d + 1] = s, n[d + 2] = c, n[d + 3] = c, n[d + 4] = l, n[d + 5] = o) : (n[d] = o, n[d + 1] = s, n[d + 2] = l, n[d + 3] = l, n[d + 4] = s, n[d + 5] = c), d += 6;\n    }\n  }\n}\nfunction k(e, t) {\n  const {\n      numVerticesPerSide: n,\n      indices: o,\n      poleIndicesStartIndex: s\n    } = e,\n    r = n - 1;\n  let i = s;\n  for (const a of t) {\n    const t = a.isNorth ? 1 : 2,\n      s = a.isNorth ? 2 : 1,\n      c = a.isNorth ? 3 : 4,\n      l = a.isNorth ? 4 : 3;\n    let u = e.getEdgeVertexIndex(a.connectedOuterEdgeOffset, 0),\n      d = 1;\n    for (let e = 0; e < a.latitudeResolution; ++e) {\n      const f = 0 === e ? a.rowOffset : u + n;\n      for (let n = 0; n < r; n++) {\n        const r = f + n;\n        o[i] = u, o[i + t] = u + 1, o[i + s] = r, e < a.latitudeResolution - 1 ? (o[i + c] = u + 1, o[i + l] = r + 1, o[i + 5] = r, i += 6) : i += 3, u += d;\n      }\n      u = f, d = 1;\n    }\n  }\n}\nfunction z(e) {\n  const {\n      indices: t,\n      numVerticesPerSide: n,\n      edgeIndicesStartIndex: o\n    } = e,\n    s = n - 1,\n    r = s - 2;\n  let i = o;\n  for (let a = 0; a < 4; ++a) {\n    const n = ue[a];\n    let o = 0,\n      c = 0;\n    const l = e.getEdgeCount(a),\n      u = n.count;\n    d(u === s - 1);\n    const f = 1 === a || 2 === a,\n      m = f ? 1 : 2,\n      g = f ? 2 : 1,\n      p = e.getEdgeFirstVertexIndex(a),\n      x = 1,\n      h = n.vertex0Index,\n      M = n.stride;\n    for (; o < l - 1 || c < u - 1;) {\n      const e = h + c * M,\n        n = p + o * x,\n        a = o < l - 1,\n        d = c < u - 1,\n        f = a && (!d || (a ? 0 + s * (o + .5) / (l - 1) : 0) <= (d ? 1 + r * (c + .5) / (u - 1) : 0));\n      f ? ++o : ++c;\n      const S = f ? n + x : e + M;\n      t[i] = e, t[i + m] = n, t[i + g] = S, i += 3;\n    }\n  }\n  e.indexCount = i;\n}\nfunction J(e) {\n  const {\n      indices: t,\n      numVerticesPerSide: n,\n      vertexAttributes: o\n    } = e,\n    {\n      position: s\n    } = o,\n    {\n      typedBuffer: r,\n      typedBufferStride: i\n    } = s,\n    a = n - 2;\n  let c = 0;\n  for (let l = 0; l < n - 3; ++l) {\n    const e = l * a;\n    for (let o = 0; o < n - 3; ++o) {\n      const n = l * a + o,\n        s = n + 1,\n        u = s + a,\n        d = u - 1,\n        f = e + o,\n        m = f + 1,\n        g = m + a;\n      me(f, m, g, g - 1, i, r) ? (ge(t, c, n, s, u), c += 6, ge(t, c, u, d, n)) : (ge(t, c, n, s, d), c += 6, ge(t, c, d, u, s)), c += 6;\n    }\n  }\n}\nfunction K(e, t) {\n  const {\n      indices: n,\n      numVerticesPerSide: o,\n      poleIndicesStartIndex: s\n    } = e,\n    r = o - 1;\n  let i = s;\n  for (const a of t) {\n    const t = a.connectedOuterEdgeOffset;\n    let s = e.getEdgeVertexIndex(t, 0),\n      c = 1;\n    for (let e = 0; e < a.latitudeResolution; ++e) {\n      const t = 0 === e ? a.rowOffset : s + o;\n      for (let o = 0; o < r; o++) ge(n, i, s, s + 1, t + o), i += 6, e < a.latitudeResolution - 1 && (ge(n, i, s + 1, t + o + 1, t + o), i += 6), s += c;\n      s = t, c = 1;\n    }\n  }\n}\nfunction Q(e) {\n  const {\n      indices: t,\n      numVerticesPerSide: n,\n      edgeIndicesStartIndex: o\n    } = e,\n    s = n - 1,\n    r = s - 2;\n  let i = o;\n  for (let a = 0; a < 4; ++a) {\n    const n = ue[a];\n    let o = 0,\n      c = 0;\n    const l = e.getEdgeCount(a),\n      u = n.count;\n    d(u === s - 1);\n    const f = 1 === a || 2 === a,\n      m = f ? 1 : 3,\n      g = f ? 3 : 1,\n      p = e.getEdgeFirstVertexIndex(a),\n      x = 1,\n      h = n.vertex0Index,\n      M = n.stride;\n    for (; o < l - 1 || c < u - 1;) {\n      const e = h + c * M,\n        n = p + o * x,\n        a = o < l - 1,\n        d = c < u - 1,\n        f = a && (!d || (a ? 0 + s * (o + .5) / (l - 1) : 0) <= (d ? 1 + r * (c + .5) / (u - 1) : 0));\n      f ? ++o : ++c;\n      const S = f ? n + x : e + M;\n      t[i] = e, t[i + m] = n, t[i + m + 1] = n, t[i + g] = S, t[i + g + 1] = S, t[i + 5] = e, i += 6;\n    }\n  }\n  e.indexCount = i;\n}\nfunction X(e) {\n  const {\n      geometry: t,\n      geometryState: n\n    } = e,\n    {\n      edgeResolutions: o\n    } = n,\n    {\n      numVerticesPerSide: s,\n      edgeVerticesStartIndex: r\n    } = t,\n    i = s - 2;\n  let a = r;\n  for (let c = 0; c < 4; ++c) {\n    {\n      const e = 0 === c || 2 === c,\n        t = (0 === c ? i - 1 : 0) * i + (1 === c ? i - 1 : 0),\n        n = (e ? 0 : 1) * i + (e ? 1 : 0),\n        o = ue[c];\n      o.vertex0Index = t, o.stride = n, o.count = i;\n    }\n    {\n      const e = o[c] + 1;\n      t.outerEdgesOffsetAndLength[2 * c + 0] = a, t.outerEdgesOffsetAndLength[2 * c + 1] = e, a += e;\n    }\n  }\n}\nfunction Y(e) {\n  X(e), e.geometryState.wireframe ? Q(e.geometry) : z(e.geometry);\n}\nfunction Z(n, o, s) {\n  const {\n      geometryState: r,\n      geometry: i,\n      tile: c,\n      localOrigin: l\n    } = n,\n    u = 1 === o || 3 === o,\n    f = r.edgeResolutions[o];\n  d(e(f));\n  const m = f + 1,\n    {\n      boundingBox: g,\n      minu: p,\n      minv: x,\n      maxu: h,\n      maxv: M,\n      vertexAttributes: S\n    } = i,\n    y = t(1 === o ? 1 : 0, p, h),\n    v = t(0 === o ? 1 : 0, x, M),\n    L = s.renderData,\n    B = L.geometryState,\n    I = L.geometry,\n    V = (o + 2) % 4,\n    b = I.getEdgeCount(V),\n    C = c.getNeighborEdgeStartVertexIndex(o, s) * f,\n    P = f * 2 ** (c.level - s.level);\n  d(B.edgeResolutions[V] === P), d(b - 1 === P);\n  const A = L.localOrigin[0] - l[0],\n    E = L.localOrigin[1] - l[1],\n    O = L.localOrigin[2] - l[2],\n    T = i.getEdgeFirstVertexIndex(o),\n    D = S.position,\n    R = D.typedBuffer,\n    U = D.typedBufferStride,\n    N = S.normalCompressed,\n    w = N.typedBuffer,\n    j = N.typedBufferStride,\n    F = S.uv0,\n    H = I.vertexAttributes,\n    q = I.getEdgeFirstVertexIndex(V),\n    _ = H.position.typedBuffer,\n    W = H.position.typedBufferStride,\n    G = H.normalCompressed.typedBuffer,\n    k = H.normalCompressed.typedBufferStride;\n  for (let e = 1; e < m - 1; ++e) {\n    const n = T + e,\n      o = q + (C + e),\n      s = n * U,\n      r = o * W,\n      i = _[r] + A,\n      c = _[r + 1] + E,\n      l = _[r + 2] + O;\n    R[s] = i, R[s + 1] = c, R[s + 2] = l, de(i, c, l, g);\n    const d = n * j,\n      m = o * k;\n    w[d] = G[m], w[d + 1] = G[m + 1];\n    const S = e / f,\n      L = u ? y : t(S, p, h),\n      B = u ? t(S, x, M) : v;\n    a(F, n, L, B);\n  }\n}\nfunction $(e) {\n  const {\n      geometry: n,\n      geometryState: o,\n      localOrigin: r\n    } = e,\n    {\n      clippingArea: i,\n      samplerData: c\n    } = o,\n    {\n      minu: l,\n      minv: u,\n      maxu: f,\n      maxv: m,\n      boundingBox: g,\n      vertexAttributes: p\n    } = n,\n    h = e.tile,\n    {\n      surface: M,\n      ellipsoid: S,\n      extent: y,\n      extentInRadians: v,\n      horizontalScale: L\n    } = h,\n    B = \"local\" === M.view?.viewingMode,\n    I = S.radius;\n  let V = 0,\n    b = 0,\n    C = 0;\n  const P = (e, t, n) => {\n      const o = v[0 === t ? 1 : 3],\n        s = v[0 === e ? 0 : 2],\n        r = Math.cos(o),\n        i = Math.sin(o),\n        a = Math.sin(s),\n        c = Math.cos(s),\n        l = I + n;\n      V = c * r * l, b = a * r * l, C = i * l;\n    },\n    A = B ? (() => {\n      const e = i,\n        n = null != e && (y[3] > e[3] || y[2] > e[2] || y[1] < e[1] || y[0] < e[0]),\n        o = _(M.isWebMercatorOnPlateCarree, I, L);\n      return (s, r, i) => {\n        const a = 0 === s ? y[0] : y[2],\n          c = 0 === r ? y[1] : y[3],\n          l = n ? t(a, e[0], e[2]) : a,\n          u = n ? t(c, e[1], e[3]) : c,\n          d = i;\n        V = l * L, b = o(u), C = d;\n      };\n    })() : P;\n  let E = 0,\n    T = 0,\n    D = 0,\n    R = 0,\n    U = 0,\n    N = 0,\n    w = 0,\n    j = 0,\n    F = 0;\n  const H = B && M.isWebMercatorOnPlateCarree,\n    q = (e, t, n, o, s) => {\n      let r = 0,\n        i = 0,\n        a = 0;\n      if (B) {\n        const e = t * L,\n          s = H ? (Math.PI / 2 - 2 * Math.atan(Math.exp(-n / I))) * I : n * L;\n        r = e - V, i = s - b, a = o - C;\n      } else {\n        const s = O(e),\n          c = e.tile,\n          l = c.extent,\n          u = c.extentInRadians,\n          d = (t - l[0]) / (l[2] - l[0]),\n          f = (n - l[1]) / (l[3] - l[1]),\n          m = u[0] * (1 - d) + u[2] * d,\n          g = s(f),\n          p = Math.cos(g),\n          x = Math.sin(g),\n          h = Math.sin(m),\n          M = Math.cos(m),\n          S = I + o;\n        r = M * p * S - V, i = h * p * S - b, a = x * S - C;\n      }\n      switch (s) {\n        case 0:\n          w += r, j += i, F += a;\n          break;\n        case 1:\n          R -= r, U -= i, N -= a;\n          break;\n        case 2:\n          w -= r, j -= i, F -= a;\n          break;\n        case 3:\n          R += r, U += i, N += a;\n      }\n    },\n    W = i ?? ie,\n    G = y[0],\n    k = y[2],\n    z = y[1],\n    J = y[3],\n    K = [J > W[3], k > W[2], z < W[1], G < W[0]],\n    Q = Math.max(G, W[0]),\n    X = Math.min(k, W[2]),\n    Y = Math.max(z, W[1]),\n    Z = Math.min(J, W[3]),\n    $ = e => Math.max(W[0], Math.min(W[2], e)),\n    te = e => Math.max(W[1], Math.min(W[3], e)),\n    ne = e => {\n      const t = o.cornerNeighborCornerTiles;\n      E = 0, T = 0, D = 1, R = 0, U = 0, N = 0, w = 0, j = 0, F = 0;\n      let n = 1 / 0;\n      for (let o = 0; o < 4; ++o) {\n        const s = t[4 * e + o];\n        n = Math.min(n, s?.level ?? 1 / 0);\n      }\n      for (let o = 0; o < 4; ++o) {\n        const s = t[4 * e + o];\n        ae[o] = s?.level === n ? s : null;\n      }\n      let r = 1,\n        i = 0;\n      for (let o = 0; o < 4; ++o) {\n        const e = ae[o];\n        e && (r = Math.max(r, e?.renderData.geometryState.numVerticesPerSide), i = e.extent[2] - e.extent[0]);\n      }\n      const a = i,\n        c = r;\n      d(c > 1);\n      const l = a / c;\n      for (let o = 0; o < 4; ++o) {\n        const e = ae[(o + 3) % 4],\n          t = ae[o % 4];\n        if (!e && !t) continue;\n        const n = 0 === o ? 1 : 1 === o ? 2 : 2 === o ? 3 : 0,\n          r = 0 === o ? 2 : 1 === o ? 3 : 2 === o ? 0 : 1;\n        if (e && t) {\n          const i = se[o][0] * l,\n            a = se[o][1] * l,\n            c = e.extent,\n            u = $(c[0 === n || 1 === n ? 2 : 0] + i),\n            d = te(c[0 === n || 3 === n ? 3 : 1] + a),\n            f = t.extent,\n            m = $(f[0 === r || 1 === r ? 2 : 0] + i),\n            g = te(f[0 === r || 3 === r ? 3 : 1] + a),\n            p = e.renderData,\n            x = t.renderData,\n            h = s(u, d, p.geometryState.samplerData),\n            M = s(m, g, x.geometryState.samplerData);\n          q(p, u, d, .5 * (h + M), o);\n        } else {\n          const i = e ?? t,\n            a = e ? n : r,\n            c = i.extent,\n            u = se[o],\n            d = $(c[0 === a || 1 === a ? 2 : 0] + u[0] * l),\n            f = te(c[0 === a || 3 === a ? 3 : 1] + u[1] * l),\n            m = i.renderData,\n            g = s(d, f, m.geometryState.samplerData);\n          q(m, d, f, g, o);\n        }\n      }\n      if (!B) {\n        const e = Math.sqrt(V * V + b * b + C * C);\n        E = V / e, T = b / e, D = C / e;\n      }\n      if (B || D * D < .999) {\n        const e = Math.sqrt(R * R + U * U + N * N);\n        R /= e, U /= e, N /= e;\n        const t = Math.sqrt(w * w + j * j + F * F);\n        w /= t, j /= t, F /= t, E = N * j - U * F, T = R * F - N * w, D = U * w - R * j;\n        const n = 1 / Math.sqrt(E * E + T * T + D * D);\n        E *= n, T *= n, D *= n;\n      }\n    },\n    oe = o.cornerNeighborCornerTiles;\n  for (let O = 0; O < 4; ++O) {\n    const e = O,\n      i = (O + 1) % 4,\n      M = 0 === O || 1 === O ? 1 : 0,\n      S = 0 === O || 3 === O ? 1 : 0,\n      y = t(M, l, f),\n      v = t(S, u, m),\n      L = n.getEdgeFirstVertexIndex(e),\n      B = n.getEdgeCount(e),\n      I = 0 === O || 3 === O ? B - 1 : 0,\n      P = n.getEdgeFirstVertexIndex(i),\n      R = n.getEdgeCount(i),\n      U = 0 === O || 1 === O ? R - 1 : 0;\n    let N = -1;\n    for (let t = 0; t < 4; ++t) {\n      const e = oe[4 * O + t],\n        n = oe[4 * O + N];\n      e && (-1 === N || x(n, e) > 0) && (N = t);\n    }\n    const w = N,\n      j = oe[4 * O + w];\n    if (j !== h) {\n      const e = h.level - j.level,\n        t = 2 ** e,\n        n = [j.lij[0] + e, j.lij[1] * t, j.lij[2] * t],\n        s = [n[1] + t === h.lij[1], 0 === O && (1 === w || 0 === w && j !== oe[4 * O + 3]) || 1 === O && (0 === w || 1 === w && j !== oe[4 * O + 2]), n[1] === h.lij[1] + 1, 2 === O && (3 === w || 2 === w && j !== oe[4 * O + 1]) || 3 === O && (2 === w || 3 === w && j !== oe[4 * O + 0])],\n        i = s.reduce((e, t) => e + (t ? 1 : 0), 0);\n      d(1 === i || 2 === i);\n      let c = -1,\n        l = -1;\n      const u = j.renderData;\n      if (1 === i) {\n        const e = s.findIndex(e => e);\n        d(0 <= e && e <= 3), c = (e + 2) % 4;\n        const t = o.edgeResolutions[e];\n        l = h.getNeighborEdgeStartVertexIndex(e, j) * t + t * (0 === e && 0 === O || 1 === e && 0 === O || 2 === e && 1 === O || 3 === e && 3 === O ? 1 : 0);\n      } else {\n        d(s[1] || s[3]), c = s[1] ? 3 : 1;\n        const e = u.geometryState.edgeResolutions[c];\n        l = 0 === O || 3 === O ? 0 : e;\n      }\n      const f = u.geometry;\n      {\n        const e = L + I,\n          t = P + U,\n          n = f.getEdgeFirstVertexIndex(c) + l,\n          o = f.vertexAttributes,\n          s = u.localOrigin;\n        {\n          const i = o.position,\n            a = i.typedBuffer,\n            c = n * i.typedBufferStride,\n            l = a[c] + s[0] - r[0],\n            u = a[c + 1] + s[1] - r[1],\n            d = a[c + 2] + s[2] - r[2];\n          de(l, u, d, g);\n          const f = p.position,\n            m = f.typedBuffer;\n          {\n            const t = e * f.typedBufferStride;\n            m[t] = l, m[t + 1] = u, m[t + 2] = d;\n          }\n          {\n            const e = t * f.typedBufferStride;\n            m[e] = l, m[e + 1] = u, m[e + 2] = d;\n          }\n        }\n        const i = p.uv0;\n        a(i, e, y, v), a(i, t, y, v);\n        {\n          const s = o.normalCompressed.typedBuffer,\n            r = n * o.normalCompressed.typedBufferStride,\n            i = p.normalCompressed,\n            a = i.typedBuffer;\n          {\n            const t = e * i.typedBufferStride;\n            a[t] = s[r], a[t + 1] = s[r + 1];\n          }\n          {\n            const e = t * i.typedBufferStride;\n            a[e] = s[r], a[e + 1] = s[r + 1];\n          }\n        }\n      }\n    } else {\n      const o = K[e],\n        a = K[i];\n      let l;\n      if (o || a) {\n        const e = t(G * (1 - M) + k * M, Q, X),\n          n = t(z * (1 - S) + J * S, Y, Z);\n        l = s(e, n, c);\n      } else l = ee(oe, O);\n      A(M, S, l), ne(O);\n      const u = V - r[0],\n        d = b - r[1],\n        f = C - r[2];\n      de(u, d, f, g), n.setEdgeVertexFromValuesRawPositionUVNormal(e, I, u, d, f, y, v, E, T, D), n.setEdgeVertexFromValuesRawPositionUVNormal(i, U, u, d, f, y, v, E, T, D);\n    }\n  }\n  for (let t = 0; t < 4; ++t) ae[t] = null;\n}\nfunction ee(e, t) {\n  const n = 4 * t,\n    o = u.reduce((t, o) => Math.min(t, e[n + o]?.level ?? 1 / 0), 1 / 0);\n  f && (d(!e[n + 0] || !e[n + 2] || p(e[n + 0], e[n + 2], i.SOUTH_WEST)), d(!e[n + 1] || !e[n + 3] || p(e[n + 1], e[n + 3], i.NORTH_WEST)));\n  let r = 0,\n    a = 0;\n  for (let i = 0; i < 4; ++i) {\n    const t = e[n + i];\n    if (t && t.level === o) {\n      const e = 0 === i || 1 === i,\n        n = 0 === i || 3 === i,\n        o = t.extent,\n        c = o[e ? 0 : 2],\n        l = o[n ? 1 : 3],\n        u = t.renderData?.geometryState?.samplerData;\n      a += s(c, l, u), r++;\n    }\n  }\n  const c = r ? a / r : 0;\n  return d(null != c), c;\n}\nfunction te(e) {\n  const {\n      vao: t,\n      geometry: n\n    } = e,\n    {\n      vertexAttributes: o,\n      edgeVerticesStartIndex: s\n    } = n,\n    r = o.position.typedBuffer;\n  t.vertexBuffers.geometry.setSubData(r, s, s, r.length);\n}\nfunction ne(e) {\n  const {\n      vao: t,\n      geometry: n\n    } = e,\n    {\n      indices: o,\n      indexCount: s,\n      edgeIndicesStartIndex: r\n    } = n;\n  t.indexBuffer.setSubData(o, r, r, s);\n}\nclass oe {\n  constructor(e, t, n, o, s) {\n    this.isNorth = e, this.connectedRowOffset = t, this.connectedOuterEdgeOffset = n, this.rowOffset = o, this.latitudeResolution = s;\n  }\n}\nconst se = [[0, 1], [1, 0], [0, -1], [-1, 0]],\n  re = new c(),\n  ie = o(-1 / 0, -1 / 0, 1 / 0, 1 / 0),\n  ae = [null, null, null, null];\nfunction ce(e, t, n) {\n  if (!t) return !1;\n  const o = x(e, t);\n  return o > 0 || 0 === o && n >= 2;\n}\nclass le {\n  constructor() {\n    this.vertex0Index = 0, this.stride = 1, this.count = 0;\n  }\n  getVertexIndex(e) {\n    return d(0 <= e && e < this.count), this.vertex0Index + this.stride * e;\n  }\n}\nconst ue = [new le(), new le(), new le(), new le()];\nfunction de(e, t, n, o) {\n  e < o[0] ? o[0] = e : e > o[3] && (o[3] = e), t < o[1] ? o[1] = t : t > o[4] && (o[4] = t), n < o[2] ? o[2] = n : n > o[5] && (o[5] = n);\n}\nfunction fe(e) {\n  const {\n      edgeResolutions: t,\n      numVerticesPerSide: n\n    } = e,\n    o = 1 + Math.max(...t);\n  return Math.max(n, o);\n}\nfunction me(e, t, n, o, s, r) {\n  const i = e * s,\n    a = r[i],\n    c = r[i + 1],\n    l = r[i + 2],\n    u = t * s,\n    d = r[u],\n    f = r[u + 1],\n    m = r[u + 2],\n    g = n * s,\n    p = r[g],\n    x = r[g + 1],\n    h = r[g + 2],\n    M = o * s,\n    S = r[M],\n    y = r[M + 1],\n    v = r[M + 2];\n  return (d - S) * (d - S) + (f - y) * (f - y) + (m - v) * (m - v) > (a - p) * (a - p) + (c - x) * (c - x) + (l - h) * (l - h);\n}\nfunction ge(e, t, n, o, s) {\n  e[t] = n, e[t + 1] = o, e[t + 2] = o, e[t + 3] = s, e[t + 4] = s, e[t + 5] = n;\n}\nconst pe = 6;\nexport { T as createPlanarGlobePatch, S as createSphericalGlobePatch, I as updateCornerSpherical, R as updateCornersPlanar, U as updateEdgeElevationsAndResolutionsPlanar, B as updateEdgeElevationsAndResolutionsSpherical, N as updateEdgesAndCornersPlanar, L as updateEdgesAndCornersSpherical };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromValues as e, create as t } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport r from \"../../../geometry/SpatialReference.js\";\nimport { projectVectorToVector as o } from \"../../../geometry/projection/projectVectorToVector.js\";\nimport { wrap as i } from \"../../../geometry/support/aaBoundingBox.js\";\nimport { create as s } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { isPlateCarree as n } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { createPlanarGlobePatch as a, updateCornersPlanar as l, updateEdgesAndCornersPlanar as u, updateEdgeElevationsAndResolutionsPlanar as h } from \"./PatchGeometryFactory.js\";\nimport { Tile as d, CenterPosition as c } from \"./Tile.js\";\nimport { TileFrustumVisibility as m } from \"./TileFrustumVisibility.js\";\nimport { intersectAabbInvDirBefore as p } from \"../webgl-engine/lib/RayIntersections.js\";\nclass _ extends d {\n  constructor(e, t, r, o, i) {\n    super(), this._horizontalScaleFactor = 1, this._extentInRenderSR = s(), this._baseUsedMemory = 900, this._subtreeGeometryElevationBoundMin = 0, this._subtreeGeometryElevationBoundMax = 0, this.init(e, t, r, o, i);\n  }\n  init(t, i, s, a, l) {\n    super.init(t, i, s, a, l);\n    const u = l.view.renderSpatialReference,\n      h = l.spatialReference,\n      d = null != u && n(u) && null != h && h.isGeographic ? this.ellipsoid.radius * Math.PI / 180 : 1;\n    this._horizontalScaleFactor = d;\n    const {\n        isWebMercatorOnPlateCarree: c\n      } = l,\n      m = this._extentInRenderSR,\n      p = this.extent;\n    if (c) {\n      const t = e(p[0], p[1], 0);\n      o(t, r.WebMercator, t, r.PlateCarree);\n      const i = e(p[2], p[3], 0);\n      o(i, r.WebMercator, i, r.PlateCarree), m[0] = t[0], m[1] = t[1], m[2] = i[0], m[3] = i[1];\n    } else for (let e = 0; e < 4; ++e) m[e] = p[e] * d;\n    this.centerAtSeaLevel[0] = .5 * (m[0] + m[2]), this.centerAtSeaLevel[1] = .5 * (m[1] + m[3]), this.centerAtSeaLevel[2] = 0, this._edgeLen = Math.max(m[2] - m[0], m[3] - m[1]), this._edgeLen2 = this._edgeLen * this._edgeLen, this.updateRadiusAndCenter();\n  }\n  updateRadiusAndCenter() {\n    this._updateCenter();\n    const e = this._extentInRenderSR,\n      t = .5 * (e[2] - e[0]),\n      r = .5 * (e[3] - e[1]),\n      o = Math.sqrt(t * t + r * r),\n      i = .5 * (this.elevationBoundsMax - this.elevationBoundsMin),\n      s = Math.max(o, i);\n    this._center[c.MIDDLE][3] = s;\n  }\n  _calculateFrustumVisibilityStatus(e) {\n    const t = this._aabb(),\n      r = t[0],\n      o = t[1],\n      i = t[2],\n      s = t[3],\n      n = t[4],\n      a = t[5];\n    let l = !0;\n    for (let u = 0; u < 6; u++) {\n      const t = e[u],\n        h = t[0],\n        d = t[1],\n        c = t[2],\n        p = t[3];\n      if (h * (h > 0 ? r : s) + d * (d > 0 ? o : n) + c * (c > 0 ? i : a) + p >= 0) return m.OUTSIDE;\n      l = l && h * (h < 0 ? r : s) + d * (d < 0 ? o : n) + c * (c < 0 ? i : a) + p <= 0;\n    }\n    return l ? m.INSIDE : m.INTERSECTS;\n  }\n  _aabb() {\n    const e = this._extentInRenderSR;\n    return i(e[0], e[1], Math.min(this.elevationBoundsMin, this._subtreeGeometryElevationBoundMin), e[2], e[3], Math.max(this.elevationBoundsMax, this._subtreeGeometryElevationBoundMax));\n  }\n  intersectsRay(e, t, r, o) {\n    return b[0] = 1 / t[0], b[1] = 1 / t[1], b[2] = 1 / t[2], p(this._aabb(), e, b, r, o);\n  }\n  createGeometry() {\n    a(this.renderData, this._horizontalScaleFactor), this._updateSubtreeGeometryElevationsBounds(), this.setMemoryDirty();\n  }\n  _updateSubtreeGeometryElevationsBounds() {\n    const e = this._subtreeGeometryElevationBoundMin,\n      t = this._subtreeGeometryElevationBoundMax,\n      r = this.renderData;\n    let o = e,\n      i = t;\n    if (r) {\n      const e = r.geometry.boundingBox;\n      o = e[2], i = e[5];\n    } else if (!this.isLeaf) {\n      o = 1 / 0, i = -1 / 0;\n      for (const e of this.children) o = Math.min(o, e._subtreeGeometryElevationBoundMin), i = Math.max(i, e._subtreeGeometryElevationBoundMax);\n    }\n    if (o !== this._subtreeGeometryElevationBoundMin || i !== this._subtreeGeometryElevationBoundMax) {\n      this._subtreeGeometryElevationBoundMin = o, this._subtreeGeometryElevationBoundMax = i;\n      const e = this.parent;\n      e?._updateSubtreeGeometryElevationsBounds();\n    }\n  }\n  getDefaultVerticesPerSide() {\n    return this.level < 9 ? 3 : 2;\n  }\n  updateCornerElevations() {\n    l(this.renderData, this._horizontalScaleFactor), this._updateSubtreeGeometryElevationsBounds();\n  }\n  updateEdgeElevations() {\n    u(this.renderData, this._horizontalScaleFactor), this._updateSubtreeGeometryElevationsBounds();\n  }\n  updateEdgeElevationsAndResolutions() {\n    h(this.renderData, this._horizontalScaleFactor), this._updateSubtreeGeometryElevationsBounds();\n  }\n  get horizontalScale() {\n    return this._horizontalScaleFactor;\n  }\n}\nconst b = t();\nexport { _ as PlanarPatch };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport s from \"../../../core/ObjectPool.js\";\nimport r from \"../../../core/PooledArray.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as u } from \"../../../chunks/vec42.js\";\nimport { create as n } from \"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nclass l {\n  constructor() {\n    this.extent = n(), this.minLevel = 0, this.maxLevel = 0, this.callback = null;\n  }\n}\nlet a = class extends t {\n  constructor() {\n    super(...arguments), this._queries = new r({\n      initialSize: 10\n    }), this._queriesInvPtr = 0, this._queryQueue = new r({\n      initialSize: 30\n    }), this._queryPool = new s(l);\n  }\n  queryVisibleLevelRange(e, t, s, r) {\n    const i = this._queryPool.acquire();\n    u(i.extent, e), i.minLevel = t ?? -Number.MAX_VALUE, i.maxLevel = s ?? Number.MAX_VALUE, i.callback = r, this._queryQueue.push(i), this.notifyChange(\"updating\");\n  }\n  get updating() {\n    return 0 !== this._queryQueue.length;\n  }\n  prepare() {\n    for (; this._queries.length < this._queries.data.length && this._queryQueue.length > 0;) {\n      const e = this._queryQueue.pop();\n      this._queries.push(e);\n    }\n    this._queriesInvPtr = this._queries.length;\n  }\n  process() {\n    for (let e = 0; e < this._queries.length; e++) {\n      const t = this._queries.data[e];\n      this._queryPool.release(t), t.callback(e >= this._queriesInvPtr), t.callback = null;\n    }\n    this._queries.clear(), this.notifyChange(\"updating\");\n  }\n  queriesForTile(e) {\n    const t = e.level;\n    let s = 0;\n    for (; s < this._queriesInvPtr;) {\n      const r = this._queries.data[s],\n        i = r.extent;\n      t >= r.minLevel && t <= r.maxLevel && i[0] <= e.extent[2] && i[2] >= e.extent[0] && i[1] <= e.extent[3] && i[3] >= e.extent[1] ? (this._queries.swapElements(s, this._queriesInvPtr - 1), this._queriesInvPtr--) : s++;\n    }\n  }\n};\ne([i()], a.prototype, \"updating\", null), a = e([o(\"esri.views.3d.terrain.ScaleRangeQueries\")], a);\nexport { a as ScaleRangeQueries };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction t(t, n, o, s) {\n  const a = Math.cos(o);\n  t[0] = Math.cos(n) * a * s, t[1] = Math.sin(n) * a * s, t[2] = Math.sin(o) * s;\n}\nexport { t as lonLatToSphericalPCPF };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { lerp as t } from \"../../../core/mathUtils.js\";\nimport { n as e, s as i, g as s, j as o, H as n, b as r, m as l, F as a, z as h } from \"../../../chunks/vec32.js\";\nimport { create as u } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { lonLatToSphericalPCPF as d } from \"../../../geometry/projection/lonLatToSphericalPCPF.js\";\nimport { newDoubleArray as c } from \"../../../geometry/support/DoubleArray.js\";\nimport { intersectsSphere as p, numPlanes as f, PlaneIndex as m } from \"../../../geometry/support/frustum.js\";\nimport { c as g, g as x } from \"../../../chunks/sphere.js\";\nimport { PatchType as $ } from \"./interfaces.js\";\nimport { createSphericalGlobePatch as _, updateCornerSpherical as v, updateEdgesAndCornersSpherical as M, updateEdgeElevationsAndResolutionsSpherical as b } from \"./PatchGeometryFactory.js\";\nimport { enableTerrainInternalChecks as j, internalAssert as S, almostEquals as T } from \"./terrainUtils.js\";\nimport { Tile as E, CenterPosition as H } from \"./Tile.js\";\nimport { TileFrustumVisibility as B } from \"./TileFrustumVisibility.js\";\nimport { compareTilesByLij as I } from \"./tileUtils.js\";\nclass y extends E {\n  constructor(t, e, i, s, o) {\n    super(), this._convexHull = new Array(24), this._boundingSphere = g(), this._baseUsedMemory = 1816, this.init(t, e, i, s, o);\n  }\n  init(i, s, o, n, r) {\n    super.init(i, s, o, n, r);\n    const l = this.ellipsoid.radius,\n      a = this.extentInRadians[0],\n      h = this.extentInRadians[1],\n      u = this.extentInRadians[2],\n      c = this.extentInRadians[3],\n      p = t(h, c, .5),\n      f = t(a, u, .5),\n      m = 0 === i ? 0 : Math.min(Math.abs(h), Math.abs(c));\n    this._edgeLen = (u - a) * Math.cos(m) * l, this._edgeLen2 = this._edgeLen * this._edgeLen, this._curvatureHeight = l - Math.sqrt(l * l - this._edgeLen2 / 4), d(this.centerAtSeaLevel, f, p, this.ellipsoid.radius), e(this.up, this.centerAtSeaLevel), this.updateRadiusAndCenter();\n  }\n  updateRadiusAndCenter() {\n    this._updateBoundingVolumes();\n    const t = this._center;\n    if (0 === this.lij[0]) i(x(t[H.MIDDLE]), 0, 0, 0), i(t[H.TOP], 0, 0, 0), i(t[H.BOTTOM], 0, 0, 0), t[H.MIDDLE][3] = this.ellipsoid.radius + this.elevationBoundsMax;else {\n      this._updateCenter();\n      const e = t[H.MIDDLE],\n        i = this.convexHull;\n      let s = 0;\n      for (let t = 0; t < 8; ++t) s = Math.max(s, L(x(e), i, 3 * t));\n      t[H.MIDDLE][3] = Math.sqrt(s);\n    }\n  }\n  _calculateFrustumVisibilityStatus(t) {\n    if (!p(t, this._boundingSphere)) return B.OUTSIDE;\n    if (this.lij[0] < 10) return B.INTERSECTS;\n    const e = this.convexHull,\n      i = this.surface.view.state.camera.near;\n    let s = !0;\n    for (let o = 0; o < f; o++) {\n      const n = o === m.NEAR,\n        r = t[o],\n        l = r[0],\n        a = r[1],\n        h = r[2],\n        u = r[3] - (n ? i : 0);\n      let d = !1;\n      for (let t = 0; t < 8; ++t) {\n        const i = 3 * t;\n        if (l * e[i] + a * e[i + 1] + h * e[i + 2] + u < 0) {\n          if (d = !0, !s) break;\n        } else s = !1;\n      }\n      if (!d) return B.OUTSIDE;\n    }\n    return s ? B.INSIDE : B.INTERSECTS;\n  }\n  computeElevationBounds() {\n    super.computeElevationBounds(), this._updateBoundingVolumes();\n  }\n  createGeometry() {\n    _(this.renderData, this._getPatchType()), this._updateBoundingVolumes(), this.setMemoryDirty();\n  }\n  _updateBoundingVolumes() {\n    this._updateConvexHull(), this._updateBoundingSphere(), j && this._checkBVs();\n  }\n  _updateBoundingSphere() {\n    const t = this._boundingSphere,\n      e = x(t),\n      r = this.elevationBoundsMin,\n      l = this.elevationBoundsMax,\n      a = this.ellipsoid.radius,\n      h = l;\n    if (0 === this.level) i(e, 0, 0, 0), t[3] = a + h;else {\n      const i = this.extentInRadians,\n        h = .5 * (i[0] + i[2]),\n        u = i[1],\n        d = i[3];\n      O(V, h, u, a), O(A, h, d, a), s(e, V, A);\n      o(e, e, (a + .5 * (r + l)) / n(e));\n      const c = this.convexHull;\n      let p = 0;\n      const f = (t, e) => {\n        const i = t[0] - c[3 * e],\n          s = t[1] - c[3 * e + 1],\n          o = t[2] - c[3 * e + 2];\n        return Math.sqrt(i * i + s * s + o * o);\n      };\n      for (let t = 0; t < 8; ++t) {\n        const i = f(e, t);\n        p = Math.max(p, i);\n      }\n      const m = p;\n      t[3] = m + 2;\n    }\n  }\n  _updateConvexHull() {\n    const t = this.extentInRadians,\n      i = this.ellipsoid.radius;\n    if (0 === this.level) return;\n    const a = this.elevationBoundsMin,\n      d = this.elevationBoundsMax,\n      c = this._getPatchType(),\n      p = this.surface.isWebMercator,\n      f = p && c === $.HAS_NORTH_POLE,\n      m = p && c === $.HAS_SOUTH_POLE,\n      g = m || f,\n      x = Math.PI / 2,\n      _ = t[0],\n      v = t[2],\n      M = m ? -x : t[1],\n      b = f ? x : t[3],\n      j = .5 * (_ + v),\n      E = a,\n      H = i + (g ? Math.min(0, E - 1) : E),\n      B = (t, e, i) => O(t, e, i, H),\n      I = u(),\n      y = u(),\n      D = u(),\n      L = u();\n    B(I, _, M), B(y, _, b), B(D, v, b), B(L, v, M);\n    const R = (t, e) => {\n      for (let i = 0; i < 3; ++i) this._convexHull[3 * e + i] = t[i];\n    };\n    R(I, 0), R(y, 1), R(D, 2), R(L, 3);\n    const V = d,\n      A = i + (g ? Math.max(0, V + 1) : V),\n      C = u(),\n      F = u(),\n      N = u();\n    O(F, j, b, H), O(N, j, M, H), s(C, F, N), e(C, C);\n    const U = u(),\n      k = u(),\n      w = (t, i) => {\n        h(k, t, i), e(k, k);\n        const n = -l(t, U) / l(k, U);\n        S(n >= 0), o(k, k, n), s(t, t, k);\n      };\n    if (2 ** this.lij[0] > 2 * this.lij[1]) {\n      const t = N,\n        i = u();\n      r(i, P, t), e(i, i), r(U, t, i), e(U, U), S(T(l(U, t) / n(t), 0)), w(I, y), w(L, D), R(I, 0), R(L, 3);\n    } else if (2 ** this.lij[0] !== 2 * this.lij[1]) {\n      const t = F,\n        i = u();\n      r(i, P, t), e(i, i), r(U, i, t), e(U, U), w(y, I), w(D, L), R(y, 1), R(D, 2);\n    }\n    const q = (t, e) => {\n      const i = A / l(e, C);\n      for (let s = 0; s < 3; ++s) this._convexHull[3 * t + s] = e[s] * i;\n    };\n    q(4, I), q(5, y), q(6, D), q(7, L);\n  }\n  _getPatchType() {\n    const t = this.lij[1],\n      e = 0 === t,\n      i = t === (1 << this.level) - 1;\n    return e ? i ? $.HAS_BOTH_POLES : $.HAS_NORTH_POLE : i ? $.HAS_SOUTH_POLE : $.REGULAR;\n  }\n  intersectsRay(t, e, i, s) {\n    const o = this._boundingSphere,\n      n = o[3] + i,\n      r = e[0] * e[0] + e[1] * e[1] + e[2] * e[2],\n      l = o[0] - t[0],\n      a = o[1] - t[1],\n      h = o[2] - t[2],\n      u = (l * e[0] + a * e[1] + h * e[2]) / r,\n      d = e[0] * u - l,\n      c = e[1] * u - a,\n      p = e[2] * u - h;\n    return d * d + c * c + p * p < n * n;\n  }\n  getDefaultVerticesPerSide() {\n    return this.level < D.length ? D[this.level] + 1 : 2;\n  }\n  updateCornerElevations() {\n    v(this.renderData), this._updateBoundingVolumes();\n  }\n  updateEdgeElevations() {\n    M(this.renderData), this._updateBoundingVolumes();\n  }\n  updateEdgeElevationsAndResolutions() {\n    b(this.renderData), this._updateBoundingVolumes();\n  }\n  _checkBVs() {\n    if (!j) return;\n    if (this.level <= 2) return;\n    const t = this._boundingSphere,\n      i = t[3],\n      o = x(t),\n      d = u(),\n      p = this.ellipsoid.radius,\n      f = this.elevationBoundsMin,\n      m = this.elevationBoundsMax,\n      g = p + f,\n      $ = 1,\n      _ = 0,\n      v = this._center[H.MIDDLE][3],\n      M = this.convexHull,\n      b = (t, e) => {\n        for (let i = 0; i < 3; ++i) t[i] = M[3 * e + i];\n      };\n    {\n      const t = u(),\n        i = u(),\n        s = u(),\n        o = u(),\n        n = u(),\n        a = (a, u, d, c) => {\n          b(i, a), b(s, u), b(o, d), h(i, i, s), h(o, o, s), r(t, i, o), e(t, t);\n          const p = l(t, s);\n          b(n, c);\n          const f = l(t, n),\n            m = Math.abs(f - p);\n          S(T(m, 0), `Non coplanar ${a},${u},${d},${c} diff = ${m}`);\n        };\n      a(0, 1, 2, 3), a(4, 5, 6, 7), a(0, 1, 4, 5), a(1, 2, 5, 6), a(2, 3, 6, 7), a(3, 0, 7, 4);\n    }\n    const E = c(24),\n      B = (t, e, i) => {\n        const s = 4 * t;\n        for (let o = 0; o < 3; ++o) E[s + o] = e[o];\n        E[s + 3] = i;\n      },\n      y = u(),\n      D = u(),\n      L = u(),\n      P = u(),\n      V = (t, i, s, o) => {\n        b(y, i), b(D, s), b(L, o), h(y, y, D), e(y, y), h(L, L, D), e(L, L), r(P, y, L), e(P, P);\n        const n = l(P, D);\n        B(t, P, n);\n      };\n    V(0, 0, 1, 2), V(1, 1, 0, 4), V(2, 1, 5, 2), V(3, 3, 2, 6), V(4, 4, 0, 3), V(5, 4, 6, 5);\n    const A = 1,\n      C = (t, e, i, s) => {\n        const o = 4 * t;\n        return E[o] * e + E[o + 1] * i + E[o + 2] * s - E[o + 3];\n      },\n      F = (t, e, i, s) => C(t, e, i, s) >= -A,\n      N = (t, e) => F(t, e[0], e[1], e[2]),\n      U = 2 ** this.lij[0] > 2 * this.lij[1],\n      k = (t, e, s) => Math.sqrt(R(t, e, s, o[0], o[1], o[2])) < i,\n      w = t => k(t[0], t[1], t[2]),\n      q = (t, e) => k(t[e], t[e + 1], t[e + 2]),\n      G = this.extentInRadians,\n      z = .5 * (G[0] + G[2]),\n      W = G[1],\n      J = G[3],\n      K = u(),\n      Q = u();\n    O(K, z, J, g), O(Q, z, W, g);\n    const X = U ? \"Upper\" : \"Lower\";\n    let Y = !0;\n    for (let e = 0; e < 6; ++e) {\n      for (let t = 0; t < 8; ++t) {\n        const i = 3 * t,\n          s = F(e, M[i], M[i + 1], M[i + 2]);\n        Y &&= s, S(s, `Tile[${this.lij}] Convex hull point ${t} outside of plane ${e}`);\n      }\n      S(N(e, Q), `Tile[${this.lij}] (${X}) bottom mid outside of plane ${e}`), S(N(e, K), `Tile[${this.lij}] (${X}) top mid outside of plane ${e}`);\n    }\n    S(Y, \"Not all convex hull points are inside  convex hull polyhedron\"), S(w(Q), `Tile[${this.lij}] (${X}) bottom mid outside of bounding sphere`), S(w(K), `Tile[${this.lij}] (${X}) top mid outside of bounding sphere`);\n    for (let e = 0; e < 8; ++e) {\n      const t = q(M, 3 * e);\n      S(t, `Tile[${this.lij}] Convex hull point ${e} outside of bounding sphere`);\n    }\n    for (let e = 0; e < 6; ++e) for (let t = 0; t < 8; ++t) {\n      const i = 3 * t;\n      F(e, M[i], M[i + 1], M[i + 2]) || console.error(`Tile[${this.lij}] Convex hull point ${t} outside of plane ${e}`);\n    }\n    const {\n        extentInRadians: Z\n      } = this,\n      tt = Math.max(Z[2] - Z[0], Z[3] - Z[1]),\n      et = Math.round(tt * p),\n      {\n        renderData: it\n      } = this;\n    if (!it) return;\n    const {\n        geometry: st,\n        geometryState: ot,\n        localOrigin: nt\n      } = it,\n      rt = st.vertexAttributes?.position;\n    if (!rt) return;\n    const lt = u(),\n      at = st.numVerticesPerSide - 2,\n      {\n        indices: ht,\n        indexCount: ut,\n        edgeVerticesStartIndex: dt,\n        poleVerticesStartIndex: ct\n      } = st;\n    if (!ht) return;\n    const pt = new Set();\n    for (let e = 0; e < ut; ++e) {\n      const t = ht[e];\n      if (pt.has(t)) continue;\n      pt.add(t);\n      const r = t < ct,\n        l = t >= dt;\n      let h = !1,\n        u = -1;\n      if (l) {\n        let e = dt;\n        for (let i = 0; i < 4; ++i) {\n          const s = ot.edgeResolutions[i];\n          if (t === e || t === e + s - 1) {\n            h = !0;\n            break;\n          }\n          if (e += s, t < e) {\n            u = i;\n            break;\n          }\n        }\n      }\n      const c = l ? ot.edgePeerNeighbors[u] : null,\n        g = l && c && I(this, c) > 0;\n      rt.getVec(t, d), s(lt, d, nt);\n      const x = n(lt) - p;\n      let M = 0,\n        b = !1;\n      const j = f - x,\n        S = x - m,\n        T = j > $,\n        E = S > $,\n        H = T || E,\n        B = () => {\n          const e = r ? \"internal\" : l && !h ? \"edge\" : h ? \"corner\" : \"pole\";\n          return `Tile[${this.lij}].vertex[${t}]:${e}` + (T ? \"(below)\" : E ? \"(above)\" : \"\") + (g ? \"(Neighbor)\" : \"\");\n        },\n        y = a(lt, o);\n      if (y >= i + _) {\n        const t = y - i;\n        H || (console.error(`${B()} is out of the bounding sphere by ${t.toFixed(0)} / ${i.toFixed(0)}[tol=${_}] h=${x.toFixed(0)} / [${f.toFixed(0)}..${m.toFixed(0)}] (${(t / i).toFixed(0)})`), b = !0);\n      }\n      for (let e = 0; e < 6; ++e) if (!F(e, lt[0], lt[1], lt[2])) {\n        const s = C(e, lt[0], lt[1], lt[2]),\n          o = t % at,\n          n = (t - o) / at;\n        0 === e && j || 5 === e && S || (console.error(`${B()} (${o},${n})|${at}] is out of the bounding trapezoid plane ${e} h=${Math.round(x)} / [${Math.round(f)}..${Math.round(m)}] dist=${Math.round(s)} radii = ${Math.round(i)}/${Math.round(v)}} : maxL = ${et}`), ++M);\n      }\n      if (b || M > 0) break;\n    }\n  }\n  get convexHull() {\n    return this._convexHull;\n  }\n}\nconst D = [128, 64, 64, 32, 16, 8, 8, 4];\nfunction L(t, e, i) {\n  return R(t[0], t[1], t[2], e[i], e[i + 1], e[i + 2]);\n}\nfunction R(t, e, i, s, o, n) {\n  const r = s - t,\n    l = o - e,\n    a = n - i;\n  return r * r + l * l + a * a;\n}\nconst O = (t, e, i, s) => {\n    const o = Math.cos(e),\n      n = Math.sin(e),\n      r = Math.cos(i),\n      l = Math.sin(i);\n    t[0] = s * r * o, t[1] = s * r * n, t[2] = s * l;\n  },\n  P = [0, 0, 1],\n  V = u(),\n  A = u();\nexport { y as SphericalPatch };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nlet e = class extends t {\n  constructor() {\n    super(...arguments), this.fovX = 0, this.fovY = 0, this.relativeWidthLimit = 0, this.relativeHeightLimit = 0, this.maxLod = 0, this.angledSplitBias = 0, this.aboveGround = !0;\n  }\n};\no([r()], e.prototype, \"fovX\", void 0), o([r()], e.prototype, \"fovY\", void 0), o([r()], e.prototype, \"relativeWidthLimit\", void 0), o([r()], e.prototype, \"relativeHeightLimit\", void 0), o([r()], e.prototype, \"maxLod\", void 0), o([r()], e.prototype, \"angledSplitBias\", void 0), o([r()], e.prototype, \"aboveGround\", void 0), o([r()], e.prototype, \"frustum\", void 0), e = o([i(\"esri.views.3d.terrain.SplitLimits\")], e);\nexport { e as SplitLimits };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { newLayout as e } from \"../support/buffer/InterleavedLayout.js\";\nimport { VertexAttribute as r } from \"../webgl-engine/lib/VertexAttribute.js\";\nconst t = e().vec3f(r.POSITION).vec2i16(r.UV0).vec2i16(r.NORMALCOMPRESSED, {\n  glNormalized: !0\n});\nexport { t as terrainAttributesLayout };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { MemCachePool as e } from \"../../../core/MemCachePool.js\";\nimport { terrainAttributesLayout as r } from \"./TerrainAttributes.js\";\nclass t {\n  constructor(r) {\n    this._storage = new e((e, t) => r.newCache(e, t), \"TileGeometry\");\n  }\n  acquire(e) {\n    const t = 4,\n      s = Math.ceil(e / t) * t,\n      a = this._storage,\n      c = o(s),\n      i = a.pop(c);\n    if (i) return i;\n    const n = r.createBuffer(s);\n    return n.release = () => a.put(c, n), n;\n  }\n  clear() {\n    this._storage.clear();\n  }\n  destroy() {\n    this._storage.destroy();\n  }\n}\nfunction o(e) {\n  return e.toString();\n}\nexport { t as TerrainAttributesCache };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { LayerBlendMode as o } from \"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";\nimport { parameter as r, ShaderTechniqueConfiguration as n } from \"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nclass s extends n {\n  constructor() {\n    super(...arguments), this.blendMode = o.Normal;\n  }\n}\ne([r({\n  count: o.COUNT\n})], s.prototype, \"blendMode\", void 0);\nexport { s as BlendModeTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { BlendModeTechniqueConfiguration as r } from \"./BlendModeTechniqueConfiguration.js\";\nimport { BaseOpacityMode as o } from \"../webgl-engine/core/shaderLibrary/terrain/BaseOpacityMode.js\";\nimport { BlendLayersOutput as i } from \"../webgl-engine/core/shaderLibrary/terrain/BlendLayersOutput.js\";\nimport { PremultipliedAlphaSource as t } from \"../webgl-engine/core/shaderLibrary/terrain/PremultipliedAlphaSource.js\";\nimport { parameter as p } from \"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nclass s extends r {\n  constructor() {\n    super(...arguments), this.output = i.Composite, this.baseOpacityMode = o.NotRequired, this.premultipliedSource = t.Off;\n  }\n}\ne([p({\n  count: i.COUNT\n})], s.prototype, \"output\", void 0), e([p({\n  count: o.COUNT\n})], s.prototype, \"baseOpacityMode\", void 0), e([p()], s.prototype, \"premultipliedSource\", void 0);\nexport { s as TileBlendTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { ZEROS as r } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { TileBlendTechniqueConfiguration as i } from \"./TileBlendTechniqueConfiguration.js\";\nimport { TileCompositePassParameters as o } from \"../webgl-engine/core/shaderLibrary/terrain/TileComposite.glsl.js\";\nimport { B as t, a as s } from \"../../../chunks/BlendLayers.glsl.js\";\nimport { ReloadableShaderModule as n } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as l } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { parameter as a } from \"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as c } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as g } from \"../webgl-engine/lib/Program.js\";\nimport { BlendFactor as m } from \"../../webgl/enums.js\";\nimport { makePipelineState as u, simpleBlendingParams as d, defaultColorWriteParams as h } from \"../../webgl/renderState.js\";\nclass b extends o {\n  constructor() {\n    super(...arguments), this.opacity = 1, this.baseOpacity = 1, this.texture = null, this.fboTexture = null, this.backgroundColor = r;\n  }\n}\nclass p extends l {\n  initializeProgram(e) {\n    return new g(e.rctx, p.shader.get().build(this.configuration), c);\n  }\n  initializePipeline() {\n    return u({\n      blending: d(m.ONE, m.ONE_MINUS_SRC_ALPHA),\n      colorWrite: h\n    });\n  }\n}\np.shader = new n(t, () => import(\"../webgl-engine/core/shaderLibrary/util/BlendLayers.glsl.js\"));\nclass f extends i {\n  constructor() {\n    super(...arguments), this.background = s.BelowLayer;\n  }\n}\ne([a()], f.prototype, \"background\", void 0);\nexport { b as BlendLayersPassParameters, p as BlendLayersTechnique, f as BlendLayersTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromValues as e } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { fromValues as t } from \"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nclass s {\n  constructor(s, r, o, i, a, c) {\n    this.texture = s, this.type = r, s.retain(), this.offsetAndScale = t(o.offset[0], o.offset[1], o.scale, o.scale), this.opacities = e(i, a, c);\n  }\n  destroy() {\n    this.texture.release();\n  }\n}\nexport { s as TextureReference };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { identity as t, translate as o, rotate as e, scale as r } from \"../../../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { create as s } from \"../../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";\nimport { toRadian as i } from \"../../../../../core/libs/gl-matrix-2/math/common.js\";\nimport { VTLUniqueSymbol as m } from \"./core.js\";\nimport { CollisionJob as l } from \"./jobs.js\";\nimport { SymbolDeclutterer as n } from \"./SymbolDeclutterer.js\";\nimport { SymbolRepository as a } from \"./SymbolRepository.js\";\nimport { writeOpacityToBuffers as c } from \"./util.js\";\nimport { Visibility as f } from \"../style/StyleDefinition.js\";\nfunction y(s, y) {\n  const j = s.transforms.tileUnitsToPixels,\n    b = i(y),\n    h = Math.cos(b),\n    u = Math.sin(b),\n    x = Math.ceil(512 * (Math.abs(u) + Math.abs(h)));\n  t(p), o(p, p, [x / 2, x / 2]), e(p, p, b), o(p, p, [-256, -256]), r(p, p, [1 / 8, 1 / 8, 1]), s.transforms.tileUnitsToPixels = p;\n  const g = [],\n    S = new a(4096, g, () => new m()),\n    M = new n(g, S, (t, o, e) => new l(t, o, e, s.styleRepository, s.key.level, y), (t, o) => {\n      c(t, o, !1);\n    }, () => 0, t => {\n      const o = s.styleRepository.getStyleLayerByUID(t).getLayoutProperty(\"visibility\");\n      return !o || o.getValue() !== f.NONE;\n    });\n  g.push(s), S.add(s), M.setScreenSize(x, x), M.continue(1 / 0), S.removeTile(s), s.transforms.tileUnitsToPixels = j;\n}\nconst p = s();\nexport { y as declutterSingleTile };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { set as e, identity as t, translate as i, rotate as s, multiply as l } from \"../../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { create as n } from \"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";\nimport { toRadian as r } from \"../../../../core/libs/gl-matrix-2/math/common.js\";\nimport \"../../tiling/TileInfoView.js\";\nimport a from \"../../tiling/TileKey.js\";\nimport \"../../tiling/TileQueue.js\";\nimport \"../../tiling/TileStrategy.js\";\nimport { declutterSingleTile as o } from \"./decluttering/jobsUtil.js\";\nimport { StyleLayerType as d } from \"./style/StyleDefinition.js\";\nimport { RenderableTile as c } from \"../webgl/RenderableTile.js\";\nimport { TileReshuffleManager as h } from \"../webgl/TileReshuffleManager.js\";\nimport { CompareFunction as u, StencilOperation as m } from \"../../../webgl/enums.js\";\nconst p = .125;\nclass f {\n  constructor() {\n    this._renderParams = {\n      reshuffleManager: new h(),\n      context: null,\n      drawPhase: 1,\n      state: new g(),\n      stationary: !0,\n      pixelRatio: 1,\n      displayLevel: -1,\n      requiredLevel: -1,\n      globalOpacity: 1,\n      renderPass: \"background\",\n      styleLayer: null,\n      styleLayerUID: -1,\n      painter: null,\n      glyphMosaic: null,\n      spriteMosaic: null,\n      profiler: null,\n      renderingOptions: null,\n      requestRender: null,\n      allowDelayedRender: !1,\n      deltaTime: -1,\n      timeline: null,\n      time: 0,\n      hasClipping: !1,\n      blendMode: null,\n      dataUploadCounter: 0,\n      effects: null,\n      inFadeTransition: !1,\n      requireFBO: !1,\n      highlightGradient: null,\n      stencilSymbols: !0,\n      is3D: !0,\n      backgroundColor: null\n    }, this._backgroundTile = new c(new a(0, 0, 0, 0), 0, 0, 0, 512, 512, 4096, 4096), this._heading = 0, this._declutteredForHeading = new WeakMap();\n  }\n  dispose() {\n    this._renderParams = null;\n  }\n  renderBackground(e, t, i, s, l, n, r, a, o, d) {\n    const c = this._backgroundTile;\n    this._updateRenderParameters(e, t, c, i, l, n, r, a, o, d), this._renderParams.stencilSymbols = !1, i.drawBackground(this._renderParams, c, s);\n  }\n  renderContent(e, t, i, s, l, n, r, a, o, d, c, h) {\n    this._declutter(i), s.forAll(e => this._declutter(e.sourceLayerInfo.data)), this._stencilSymbols(e, t, i, s, l, n, r, Math.round(1 / a), o, d, c, h);\n    let m = 1;\n    i.stencilRef = m++, e.setStencilFunction(u.EQUAL, i.stencilRef, 255), this._render(e, t, i, l, n, r, a, o, d, c, h), s.forAll(t => {\n      t.sourceLayerInfo.data.stencilRef = m++, this._renderSymbols(e, t.sourceLod, t.sourceLayerInfo.data, l, n, r, Math.round(1 / a), t.offset, d, c, h);\n    });\n  }\n  _stencilSymbols(e, t, i, s, l, n, r, a, o, d, c, h) {\n    let p = 1;\n    i.stencilRef = p++, e.setDepthTestEnabled(!1), e.setDepthWriteEnabled(!1), e.setStencilTestEnabled(!0), e.setBlendingEnabled(!1), e.setColorMask(!1, !1, !1, !1), e.setStencilOp(m.KEEP, m.KEEP, m.REPLACE), e.setStencilWriteMask(255), e.setStencilFunction(u.ALWAYS, i.stencilRef, 255), this._stencilTileSymbols(e, t, i, l, n, r, a, o, d, c, h);\n    for (const m of s.toArray()) {\n      const {\n        sourceLod: t,\n        offset: i,\n        sourceLayerInfo: s\n      } = m;\n      s.data.stencilRef = p++, e.setStencilFunction(u.ALWAYS, s.data.stencilRef, 255), this._stencilTileSymbols(e, t, s.data, l, n, r, a, i, d, c, h);\n    }\n    e.setStencilWriteMask(0), e.setBlendingEnabled(!0), e.setDepthTestEnabled(!0), e.setColorMask(!0, !0, !0, !0);\n  }\n  _renderSymbols(e, t, i, s, l, n, r, a, o, c, h) {\n    e.setStencilFunction(u.EQUAL, i.stencilRef, 255), this._render(e, t, i, s, l, n, r, a, o, c, h, d.SYMBOL);\n  }\n  _render(e, t, i, s, l, n, r, a, o, d, c, h) {\n    this._updateRenderParameters(e, t, i, s, n, r, a, o, d, c), this._renderParams.stencilSymbols = !1, s.drawTile(this._renderParams, i, l, h);\n  }\n  _stencilTileSymbols(e, t, i, s, l, n, r, a, o, d, c) {\n    this._updateRenderParameters(e, t, i, s, n, r, a, o, d, c), this._renderParams.stencilSymbols = !0, i.triangleCount = 0, s.drawSymbols(this._renderParams, i, l);\n  }\n  _updateRenderParameters(n, a, o, d, c, h, u, m, f, g) {\n    \"type\" in o && \"vector-tile\" === o.type && !o.stage && o.attachWithContext(n);\n    const y = a[0] - c.getLevelShift(a[0]),\n      _ = this._renderParams;\n    _.context = n, _.painter = d, _.glyphMosaic = d.glyphMosaic, _.spriteMosaic = d.spriteMosaic, _.pixelRatio = f * g, _.displayLevel = y, _.requiredLevel = y;\n    const b = c.getScale(a[0]),\n      [S, M] = c.getOffset(a, h * b),\n      w = p * h * b / m,\n      R = o.transforms.displayViewScreenMat3;\n    R[0] = w, R[4] = -w, R[6] = -1 - S - u[0] * h * 2, R[7] = 1 + M + (1 - u[1]) * h * 2 - 2;\n    const L = _.state,\n      T = m / g;\n    L.size[0] = T, L.size[1] = T, L.pixelRatio = g, L.rotation = (360 - this._heading) % 360;\n    const P = 2 / T;\n    e(L.displayViewMat3, P, 0, 0, 0, -P, 0, -1, 1, 1);\n    const E = t(L.displayMat3),\n      j = r(this._heading);\n    i(E, E, [T / 2, T / 2]), s(E, E, j), i(E, E, [-T / 2, -T / 2]), l(E, L.displayViewMat3, E);\n  }\n  updateHeading(e) {\n    this._heading = e;\n  }\n  _declutter(e) {\n    this._declutteredForHeading.get(e) !== this._heading && (o(e, (360 - this._heading) % 360), this._declutteredForHeading.set(e, this._heading));\n  }\n}\nclass g {\n  constructor() {\n    this.size = [0, 0], this.pixelRatio = 1, this.rotation = 0, this.displayMat3 = n(), this.displayViewMat3 = n(), this.transform = null, this.inverseTransform = null, this.viewMat2d = null, this.viewMat3 = null, this.id = 0, this.extent = null, this.center = null, this.scale = 1, this.resolution = 0, this.worldScreenWidth = 0, this.spatialReference = null, this.viewpoint = null, this.getScreenTransform = null, this.toMap = null, this.toScreen = null, this.clone = null, this.copy = null, this.toJSON = null;\n  }\n}\nexport { f as VectorTileRendererHelper3D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { RasterColorizerType as r, RasterColorizerStretchType as i } from \"../../2d/engine/imagery/enums.js\";\nimport { TileBlendTechniqueConfiguration as o } from \"./TileBlendTechniqueConfiguration.js\";\nimport { R as t } from \"../../../chunks/RasterColorizer.glsl.js\";\nimport { ReloadableShaderModule as n } from \"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as s } from \"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";\nimport { parameter as l } from \"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { Default3D as a } from \"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";\nimport { Program as p } from \"../webgl-engine/lib/Program.js\";\nimport { BlendFactor as m } from \"../../webgl/enums.js\";\nimport { makePipelineState as c, simpleBlendingParams as h, defaultColorWriteParams as g } from \"../../webgl/renderState.js\";\nclass u extends s {\n  initializeProgram(e) {\n    return new p(e.rctx, u.shader.get().build(this.configuration), a);\n  }\n  initializePipeline() {\n    return c({\n      blending: h(m.ONE, m.ONE_MINUS_SRC_ALPHA),\n      colorWrite: g\n    });\n  }\n}\nu.shader = new n(t, () => import(\"../webgl-engine/core/shaderLibrary/raster/RasterColorizer.glsl.js\"));\nclass d extends o {\n  constructor() {\n    super(...arguments), this.colorizerType = r.Stretch, this.stretchType = i.Noop, this.applyColormap = !0, this.requireBilinearWithNN = !1;\n  }\n}\ne([l({\n  count: r.COUNT\n})], d.prototype, \"colorizerType\", void 0), e([l({\n  count: i.COUNT\n})], d.prototype, \"stretchType\", void 0), e([l()], d.prototype, \"applyColormap\", void 0), e([l()], d.prototype, \"requireBilinearWithNN\", void 0);\nexport { u as RasterColorizerTechnique, d as RasterColorizerTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { RenderbufferFormat as e } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as t } from \"../../../webgl/FramebufferObject.js\";\nimport { RenderbufferDescriptor as r } from \"../../../webgl/RenderbufferDescriptor.js\";\nimport { TextureDescriptor as s } from \"../../../webgl/TextureDescriptor.js\";\nclass o {\n  constructor(e) {\n    this._rctx = e, this._fbos = new Map();\n  }\n  get(e) {\n    return this._getPool(e);\n  }\n  dispose() {\n    this._fbos.forEach(e => e.dispose()), this._fbos.clear();\n  }\n  _getPool(o) {\n    const i = this._fbos.get(o);\n    if (i) return i;\n    const f = new t(this._rctx, new s(o), new r(e.DEPTH24_STENCIL8, o));\n    return this._fbos.set(o, f), f;\n  }\n}\nexport { o as MultiSizeFramebuffer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Logger.js\";\nimport { disposeMaybe as t, releaseMaybe as r } from \"../../../core/maybe.js\";\nimport { ZEROS as i } from \"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { RasterColorizerStretchType as s } from \"../../2d/engine/imagery/enums.js\";\nimport { VectorTileRendererHelper3D as o } from \"../../2d/engine/vectorTiles/VectorTileRendererHelper3D.js\";\nimport { BlendLayersTechniqueConfiguration as n, BlendLayersTechnique as a } from \"./BlendLayersTechnique.js\";\nimport { LayerClass as l } from \"./LayerClass.js\";\nimport { RasterColorizerTechniqueConfiguration as h, RasterColorizerTechnique as c } from \"./RasterColorizerTechnique.js\";\nimport { MultiSizeFramebuffer as u } from \"./support/MultiSizeFramebuffer.js\";\nimport { LayerBlendMode as d } from \"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";\nimport { BaseOpacityMode as _ } from \"../webgl-engine/core/shaderLibrary/terrain/BaseOpacityMode.js\";\nimport { BlendLayersOutput as f } from \"../webgl-engine/core/shaderLibrary/terrain/BlendLayersOutput.js\";\nimport { PremultipliedAlphaSource as p } from \"../webgl-engine/core/shaderLibrary/terrain/PremultipliedAlphaSource.js\";\nimport { a as b } from \"../../../chunks/BlendLayers.glsl.js\";\nimport { BindParameters as g } from \"../webgl-engine/lib/BindParameters.js\";\nimport { Pos2Tex as m } from \"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";\nimport { createQuadVAO as T } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { PrimitiveType as y, ClearBufferBit as x, TextureType as C } from \"../../webgl/enums.js\";\nimport { Texture as B } from \"../../webgl/Texture.js\";\nimport { vertexCount as q } from \"../../webgl/Util.js\";\nconst O = () => e.getLogger(\"esri.views.3d.terrain\");\nclass L {\n  constructor(e, t) {\n    this._rctx = e, this._techniques = t, this._fbos = [], this._vectorTileHelper = new o(), this._bindParameters = new g(null, null), this._blendLayersTechniqueConfig = new n(), this._current = 0, this._lastUsedIds = new Array(), this._lastCreatedBufferId = 0, this._onHoldIds = new Array(), this._vaoQuad = T(this._rctx, m);\n  }\n  dispose() {\n    this._fbos.forEach(t), this._fbos = null, this._vtFBO = t(this._vtFBO), this._vaoQuad = t(this._vaoQuad), this._vectorTileHelper = t(this._vectorTileHelper), this._backgroundTechnique = r(this._backgroundTechnique), this._applyOpacityTechnique = r(this._applyOpacityTechnique), this._blendLayersTechnique = r(this._blendLayersTechnique);\n  }\n  updateHeading(e) {\n    this._vectorTileHelper?.updateHeading(e);\n  }\n  _getBlendLayersTechnique(e, t, r, i = p.Off, s = b.BelowLayer) {\n    return this._blendLayersTechniqueConfig.output = t, this._blendLayersTechniqueConfig.blendMode = e, this._blendLayersTechniqueConfig.baseOpacityMode = r, this._blendLayersTechniqueConfig.premultipliedSource = i, this._blendLayersTechniqueConfig.background = s, this._blendLayersTechnique = this._techniques.releaseAndAcquire(a, this._blendLayersTechniqueConfig, this._blendLayersTechnique), this._blendLayersTechnique;\n  }\n  drawBackground(e, t) {\n    const r = this._getBlendLayersTechnique(d.Normal, t ? f.ColorComposite : f.GridComposite, _.NotRequired, p.Off, b.Only),\n      i = this._rctx.bindTechnique(r, this._bindParameters, e);\n    this._render(i);\n  }\n  _render(e) {\n    this._rctx.bindVAO(this._vaoQuad), e.assertCompatibleVertexAttributeLocations(this._vaoQuad), this._rctx.drawArrays(y.TRIANGLE_STRIP, 0, q(this._vaoQuad, \"geometry\"));\n  }\n  drawGroup(e, t, r, i, s = p.On) {\n    t === f.Composite && (e.fboTexture = this._fbos[this.getLastOnHoldId()].get(r).colorTexture), e.texture = this.currentFBO(r).colorTexture, this.closeGroup(r);\n    const o = e.baseOpacity < 1 ? _.Required : _.NotRequired,\n      n = this._getBlendLayersTechnique(i, t, o, s),\n      a = this._rctx.bindTechnique(n, this._bindParameters, e);\n    this._render(a);\n  }\n  drawImageData(e, t, r, i, s = p.Off) {\n    if (null == e.texture) return;\n    const o = e.baseOpacity < 1 ? _.Required : _.NotRequired;\n    e.fboTexture = t === f.GroupBackgroundComposite || i === d.Normal && o === _.NotRequired && s === p.Off ? null : this.switch(r).colorTexture;\n    const n = this._getBlendLayersTechnique(i, t, o, s),\n      a = this._rctx.bindTechnique(n, this._bindParameters, e);\n    this._render(a);\n  }\n  drawRasterData(e, t, r, i, s) {\n    const o = s.sourceLayerInfo.data;\n    if (!o.source) return;\n    if (s.tile.surface.layerViewByIndex(s.layerIndex, l.MAP).ensureSymbolizerParameters(o), !o.bind(this._rctx)) return;\n    const n = e.baseOpacity < 1 ? _.Required : _.NotRequired;\n    e.fboTexture = i === d.Normal && n === _.NotRequired ? null : this.switch(r).colorTexture;\n    const a = this._getRasterColorizerTechnique(o, t, i, n);\n    o.opacity = e.opacity;\n    const h = o.getUniforms();\n    h.scale = s.scale, h.offset = s.offset, h.backgroundColor = e.backgroundColor, h.fboTexture = e.fboTexture, h.baseOpacity = e.baseOpacity;\n    const c = this._rctx.bindTechnique(a, null, h);\n    this._render(c);\n  }\n  _getRasterColorizerTechnique(e, t, r, i) {\n    const o = e.symbolizerParameters,\n      n = [\"stretch\", \"lut\", \"hillshade\"].indexOf(o.type);\n    return null == this._rasterColorizerConfig && (this._rasterColorizerConfig = new h(), this._rctx.gl.getExtension(\"WEBGL_color_buffer_float\"), this._rctx.gl.getExtension(\"OES_texture_float\")), this._rasterColorizerConfig.output = t, this._rasterColorizerConfig.blendMode = r, this._rasterColorizerConfig.baseOpacityMode = i, this._rasterColorizerConfig.colorizerType = n, this._rasterColorizerConfig.applyColormap = !!o.colormap, this._rasterColorizerConfig.requireBilinearWithNN = e.isBilinearWithStretchColorRamp, this._rasterColorizerConfig.stretchType = e.hasStretchTypeNone() ? s.Noop : s.PerBand, this._rasterColorizerTechnique = this._techniques.releaseAndAcquire(c, this._rasterColorizerConfig, this._rasterColorizerTechnique), this._rasterColorizerTechnique;\n  }\n  drawVectorData(e, t, r, s, o, n, a, h) {\n    const c = this._rctx,\n      b = o.sourceLayerInfo.data,\n      g = o.tile.surface.layerViewByIndex(o.layerIndex, l.MAP),\n      m = e.baseOpacity < 1 ? _.Required : _.NotRequired,\n      T = m === _.Required || e.opacity < 1 || s !== d.Normal || t !== f.Composite,\n      y = T ? p.On : p.Off,\n      C = this._getBlendLayersTechnique(s, t, m, y);\n    c.setPipelineState(C.getPipeline());\n    let B = null,\n      q = null;\n    T ? (q = this.currentFBO(r), null == this._vtFBO && (this._vtFBO = new u(this._rctx)), B = this._vtFBO.get(r), c.bindFramebuffer(B), this._clearCurrentFBO()) : h && c.clear(x.DEPTH_BUFFER_BIT);\n    try {\n      this._vectorTileHelper.renderBackground(c, o.sourceLod, g.painter, g.layer.styleRepository, g.schemaHelper, Math.round(1 / o.scale), o.offset, a, n, g.contentZoom), b && this._vectorTileHelper.renderContent(c, o.sourceLod, b, o.vtlNeighborInfos, g.painter, g.layer.styleRepository, g.schemaHelper, Math.round(1 / o.scale), o.offset, a, n, g.contentZoom);\n    } catch (L) {\n      O().warnOnce(\"A render call containing vector tiles did not resolve correctly.\", L);\n    }\n    return null == B || (c.bindFramebuffer(q), e.texture = B.colorTexture, e.offset = i, e.scale = 1, this.drawImageData(e, t, r, s, y), h);\n  }\n  copyFBOToTexture(e) {\n    const t = this._rctx,\n      r = t.bindTexture(e.texture, B.TEXTURE_UNIT_FOR_UPDATES),\n      i = e.descriptor;\n    t.gl.copyTexImage2D(C.TEXTURE_2D, 0, i.pixelFormat, 0, 0, i.width, i.height, 0), e.generateMipmap(), t.bindTexture(r, B.TEXTURE_UNIT_FOR_UPDATES);\n  }\n  _clearCurrentFBO() {\n    this._rctx.setStencilWriteMask(255), this._rctx.setClearColor(0, 0, 0, 0), this._rctx.setClearDepth(1), this._rctx.setClearStencil(0), this._rctx.clear(x.COLOR_BUFFER_BIT | x.DEPTH_BUFFER_BIT | x.STENCIL_BUFFER_BIT);\n  }\n  _initFBO(e, t, r) {\n    this._rctx.bindFramebuffer(e), r && (this._rctx.setViewport(0, 0, t, t), this._clearCurrentFBO());\n  }\n  ensureBuffer(e) {\n    this._lastUsedIds.length = 0, this._lastUsedIds.push(1), this._lastCreatedBufferId = 1, this._onHoldIds.length = 0, this.bind(e);\n  }\n  bind(e, t = 0, r = !0) {\n    if (this._current = t, t >= this._fbos.length) for (let i = this._fbos.length; i <= t; i++) this._fbos.push(new u(this._rctx));\n    this._initFBO(this._fbos[t].get(e), e, r);\n  }\n  _bindNextFreeBuffer(e) {\n    this._lastUsedIds.length > 0 ? this.bind(e, this._lastUsedIds.pop()) : (this._lastCreatedBufferId++, this.bind(e, this._lastCreatedBufferId));\n  }\n  openGroup(e) {\n    this._onHoldIds.push(this._current), this._bindNextFreeBuffer(e);\n  }\n  switch(e) {\n    const t = this.currentFBO(e),\n      r = this._current;\n    return this._bindNextFreeBuffer(e), this._lastUsedIds.push(r), t;\n  }\n  getLastOnHoldId() {\n    return this._onHoldIds[this._onHoldIds.length - 1];\n  }\n  closeGroup(e) {\n    const t = this._current;\n    this._bindNextFreeBuffer(e), this._lastUsedIds.push(t), this._lastUsedIds.push(this._onHoldIds.pop());\n  }\n  unbind() {\n    this._rctx.bindFramebuffer(null);\n  }\n  currentFBO(e) {\n    return this._fbos[this._current].get(e);\n  }\n}\nexport { L as TileCompositor };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport s from \"../../../core/PooledArray.js\";\nclass o {\n  constructor() {\n    this.sourceLod = [0, 0, 0], this.offset = [0, 0], this.scale = 1, this.layerIndex = 0, this.isVTLBackground = !1, this.vtlNeighborInfos = new s({\n      allocator: s => s || new t()\n    });\n  }\n}\nclass t {\n  constructor() {\n    this.sourceLayerInfo = null, this.sourceLod = [0, 0, 0], this.offset = [-1, 0];\n  }\n}\nexport { o as TileRenderInfo, t as VTLNeighhborInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t, e) {\n    this._texture = t, this._cache = e, this.type = \"tile-texture\", this._refCount = 1;\n  }\n  retain() {\n    ++this._refCount;\n  }\n  release() {\n    if (--this._refCount, 0 === this._refCount) if (this._cache) {\n      const t = `${this._texture.descriptor.width} ${this._texture.descriptor.pixelFormat}`;\n      this._cache.put(t, this);\n    } else this.dispose();\n  }\n  dispose() {\n    this._texture.dispose();\n  }\n  get texture() {\n    return this._texture;\n  }\n  generateMipmap() {\n    this._texture.generateMipmap();\n  }\n  get descriptor() {\n    return this._texture.descriptor;\n  }\n  get usedMemory() {\n    return this._texture.usedMemory;\n  }\n}\nexport { t as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../core/has.js\";\nimport { disposeMaybe as e, releaseMaybe as t } from \"../../../core/maybe.js\";\nimport { set as r, copy as s } from \"../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { ZEROS as o } from \"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { isBaseLayer as i, isGroupLayer as a } from \"../../../layers/support/layerUtils.js\";\nimport { BlendLayersPassParameters as n } from \"./BlendLayersTechnique.js\";\nimport { TextureUpdate as u } from \"./interfaces.js\";\nimport { LayerClass as c } from \"./LayerClass.js\";\nimport { NeighborIndex as l } from \"./NeighborIndex.js\";\nimport { isImageWithType as p } from \"./TerrainData.js\";\nimport { isBlendableLayerView as h, isVectorTileLayerView as d, isVectorTileRenderInfo as m, isImageryTileRenderInfo as f, isImageSourceRenderInfo as _, isTextureTileRenderInfo as T, isVectorTilePerLayerInfo as y } from \"./terrainUtils.js\";\nimport { ActivationTime as b } from \"./TextureFader.js\";\nimport { TextureReference as g } from \"./TextureReference.js\";\nimport { TileCompositor as x } from \"./TileCompositor.js\";\nimport { TileRenderInfo as I } from \"./TileRenderInfo.js\";\nimport w from \"./TileTexture.js\";\nimport { TileUpdate as A } from \"./TileUpdate.js\";\nimport { blendModeFromString as P } from \"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";\nimport { BlendLayersOutput as k } from \"../webgl-engine/core/shaderLibrary/terrain/BlendLayersOutput.js\";\nimport { createEmptyTexture as O } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { TextureSamplingMode as E, TextureWrapMode as D, PixelFormat as M } from \"../../webgl/enums.js\";\nimport { Texture as L } from \"../../webgl/Texture.js\";\nimport { TextureDescriptor as R } from \"../../webgl/TextureDescriptor.js\";\nclass j {\n  constructor(e, t, r, s, o, i) {\n    this.start = e, this.end = t, this.blendMode = r, this.opacity = s, this.output = o, this.baseOpacity = i;\n  }\n}\nclass C {\n  constructor(e, t, r, s) {\n    this._rctx = e, this.tileSize = t, this._techniques = r, this._cache = s, this._passParameters = new n(), this._backgroundTexture = null, this._backgroundColor = null, this._backgroundDirty = !1, this._maxAnisotropy = this._rctx.parameters.maxMaxAnisotropy, this._compositor = new x(this._rctx, this._techniques), this._ensureBackgroundTexture(this.tileSize);\n  }\n  dispose() {\n    this._compositor = e(this._compositor), this._backgroundTexture = t(this._backgroundTexture);\n  }\n  get backgroundIsGrid() {\n    return null == this._backgroundColor;\n  }\n  get backgroundColor() {\n    return this._backgroundColor;\n  }\n  updateHeading(e) {\n    this._compositor?.updateHeading(e);\n  }\n  updateTileTexture(e, t) {\n    if (!e.renderData) return;\n    const r = e.surface,\n      s = r.baseOpacity;\n    let o = 0,\n      n = 0,\n      l = this.tileSize,\n      p = !1,\n      m = !1;\n    const f = r.view.state.contentPixelRatio;\n    let _ = !1;\n    q.clear(), v.length = 0;\n    const T = e.layerInfo[c.MAP];\n    let y = 0,\n      b = null;\n    for (; y < T.length; y++) {\n      const t = r.layerViewByIndex(y, c.MAP),\n        u = t.layer.opacity,\n        g = t.fullOpacity;\n      if (m = m || i(t.layer), h(t)) {\n        let e = \"normal\" !== t.layer.blendMode;\n        if (a(t.layer.parent)) {\n          const r = S(t.layer.parent);\n          null != r && \"\" !== r && (e = B(t.layer.parent) || e);\n        }\n        e && (_ = e, p = !1);\n      }\n      if (0 === u && !_) {\n        T[y].pendingUpdates &= ~(A.TEXTURE_NOFADING & A.TEXTURE_FADING);\n        continue;\n      }\n      ++n;\n      const x = d(t),\n        I = N(e, y, x);\n      if (I) {\n        if (T[y].pendingUpdates &= ~(A.TEXTURE_NOFADING & A.TEXTURE_FADING), a(t.layer.parent)) {\n          const e = S(t.layer.parent);\n          null != e && \"\" !== e && G(t.layer.parent, y);\n        }\n        x ? l = Math.max(l, this.tileSize * f) : 1 === s && 1 === g && (t.isOpaque || this._dataToTexture(I) && I.sourceLayerInfo.data.descriptor.isOpaque) && (p = !0), ++o, null === b && (b = y);\n      }\n    }\n    const g = l / this.tileSize,\n      x = this._ensureBackgroundTexture(this.tileSize);\n    0 !== o && null !== b ? 1 === o && !_ && this._useLayerTexture(e, b) || this._composeLayers(e, t, y - 1, m, l, g, !p || _, q, _) : F(e, n, x, t !== u.FADING);\n  }\n  _ensureBackgroundTexture(e) {\n    return null == this._backgroundTexture && (this._backgroundTexture = this._buildTexture(e, !1), this._backgroundDirty = !0), this._backgroundDirty && (this._compositor.bind(e), this._passParameters.offset = o, this._passParameters.scale = 1, this._passParameters.opacity = 1, this.backgroundColor && (this._passParameters.backgroundColor = this.backgroundColor), this._compositor.drawBackground(this._passParameters, null != this.backgroundColor), this._compositor.copyFBOToTexture(this._backgroundTexture), this._compositor.unbind(), this._backgroundDirty = !1), this._backgroundTexture;\n  }\n  _useLayerTexture(e, t) {\n    const r = e.surface.layerViewByIndex(t, c.MAP),\n      s = i(r.layer),\n      o = s ? e.surface.baseOpacity : 1,\n      a = s ? 1 : e.surface.baseOpacity,\n      n = r.fullOpacity,\n      l = N(e, t, !1);\n    return !!this._dataToTexture(l) && (e.renderData.setTextureReference(new g(l.sourceLayerInfo.data, u.FADING, l, o, a, n)), !0);\n  }\n  _composeLayers(e, t, r, s, a, n, u, l, p) {\n    this._compositor.ensureBuffer(a);\n    const _ = e.surface.baseOpacity;\n    let T = !1,\n      y = E.LINEAR_MIPMAP_LINEAR,\n      b = !1,\n      x = 0;\n    for (let g = r; g >= 0; g--) {\n      const t = e.surface.layerViewByIndex(g, c.MAP),\n        r = d(t),\n        I = N(e, g, r),\n        w = t.layer.opacity;\n      if (!I || 0 === w && !p) continue;\n      const A = !i(t.layer) && !T;\n      A && (T = !0);\n      let O = !1;\n      l.forEach(e => {\n        e.start === g && (e.output = s ? k.Composite : u && A ? this.backgroundIsGrid ? k.GridComposite : k.ColorComposite : k.Composite, e.baseOpacity = A ? _ : 1, v.push(e), this._compositor.openGroup(a), O = !0);\n      });\n      const D = 0 === x,\n        M = O ? k.GroupBackgroundComposite : u && D ? this.backgroundIsGrid ? k.GridComposite : k.ColorComposite : k.Composite,\n        L = P[h(t) ? t.layer.blendMode : \"normal\"];\n      for (this._passParameters.baseOpacity = A && !O && _ < 1 ? _ : 1, this._passParameters.opacity = w, m(I) ? b = this._compositor.drawVectorData(this._passParameters, M, a, L, I, n, this.tileSize, b) : f(I) ? (this._compositor.drawRasterData(this._passParameters, M, a, L, I), U(I) && (y = E.NEAREST)) : this._dataToTexture(I) && (this._passParameters.texture = I.sourceLayerInfo.data.texture, this._passParameters.offset = I.offset, this._passParameters.scale = I.scale, this._compositor.drawImageData(this._passParameters, M, a, L)); v.length > 0 && v[v.length - 1].end === g;) {\n        const e = v.pop();\n        this._passParameters.baseOpacity = e.baseOpacity, this._passParameters.opacity = e.opacity, this._passParameters.offset = o, this._passParameters.scale = 1, this._compositor.drawGroup(this._passParameters, e.output, a, P[e.blendMode]);\n      }\n      x++;\n    }\n    const I = e.renderData,\n      w = p || T && _ < 1,\n      A = I.ensureTexture(a, w, () => this._buildTexture(a, w, y));\n    this._compositor.copyFBOToTexture(A), this._compositor.unbind(), I.setTextureReference(new g(A, t, z, T ? 1 : _, 0, 1));\n  }\n  _dataToTexture(e) {\n    if (_(e)) {\n      const t = e.sourceLayerInfo;\n      t.data = this._buildTexture(t.data, !0), e.tile.setMemoryDirty();\n    }\n    return T(e);\n  }\n  setBackground(e) {\n    this._backgroundColor !== e && (this._backgroundColor = e, this._backgroundDirty = !0);\n  }\n  _buildTexture(e, t, r = E.LINEAR_MIPMAP_LINEAR) {\n    if (null == e) return null;\n    const s = new R();\n    s.wrapMode = D.CLAMP_TO_EDGE, s.samplingMode = r, s.maxAnisotropy = this._maxAnisotropy, s.preMultiplyAlpha = !0, s.flipped = !0, s.hasMipmap = !0, t || (s.pixelFormat = M.RGB);\n    const o = this._rctx;\n    let i;\n    if (\"number\" == typeof e) s.width = s.height = e, i = this._buildTileTexture(s, e);else if (p(e)) s.isOpaque = e.isOpaque, s.isOpaque && (s.pixelFormat = M.RGB), i = this._buildTileTexture(s, e.element.width, e.element);else try {\n      s.width = e.width, s.height = e.height, i = this._buildTileTexture(s, e.width, e);\n    } catch (n) {\n      i = new w(O(o)), console.warn(\"TileRenderer: failed to execute 'texImage2D', cross-origin image may not be loaded.\");\n    }\n    const a = o.bindTexture(i.texture, L.TEXTURE_UNIT_FOR_UPDATES);\n    return i.generateMipmap(), o.bindTexture(a, L.TEXTURE_UNIT_FOR_UPDATES), i;\n  }\n  _buildTileTexture(e, t, r) {\n    const s = `${t} ${e.pixelFormat}`,\n      o = this._cache.pop(s);\n    return o ? (o.retain(), o.texture.setData(r), o) : new w(new L(this._rctx, e, r), this._cache);\n  }\n  get test() {}\n}\nfunction N(e, t, o) {\n  H.layerIndex = t, H.vtlNeighborInfos.clear();\n  const i = e.layerInfo[c.MAP][t];\n  if (r(H.offset, 0, 0), H.tile = e, H.scale = 1, H.sourceLod = e.lij, H.sourceLayerInfo = i, H.isVTLBackground = o, i.data) return o && e.forEachLoadedNeighbor((r, s) => {\n    if (r.level !== e.level) return;\n    const o = r.layerInfo[c.MAP][t];\n    if (!y(o) || i.data === o.data) return;\n    const a = H.vtlNeighborInfos.pushNew();\n    a.offset = V[s], a.sourceLod = r.lij, a.sourceLayerInfo = o;\n  }), H;\n  const a = i.upsampleInfo;\n  if (a) {\n    const e = a.tile.layerInfo[c.MAP][t];\n    return H.tile = a.tile, s(H.offset, a.offset), H.scale = a.scale, H.sourceLod = a.tile.lij, H.sourceLayerInfo = e, H;\n  }\n  return o ? H : null;\n}\nfunction S(e) {\n  return e.uid;\n}\nfunction U(e) {\n  const t = e.sourceLayerInfo.data;\n  return !!t.source && \"nearest\" === t.interpolation;\n}\nfunction B(e) {\n  let t = \"normal\" !== e.blendMode;\n  return a(e.parent) && (t = B(e.parent) || t), t;\n}\nfunction G(e, t) {\n  a(e.parent) && G(e.parent, t);\n  const r = S(e);\n  if (null != r && \"\" !== r) {\n    const s = q.get(r);\n    s ? s.start = t : q.set(r, new j(t, t, e.blendMode, e.opacity, k.Composite, 1));\n  }\n}\nfunction F(e, t, r, s) {\n  const o = e.renderData,\n    i = !s && null != o.textureReference && (e.surface.view.layerViewManager.updating || t > 0) ? b.Delayed : b.Immediate;\n  o.setTextureReference(new g(r, u.FADING, z, e.surface.baseOpacity, 0, 1), i);\n}\nconst q = new Map(),\n  v = new Array(),\n  H = new I(),\n  z = {\n    offset: [0, 0],\n    scale: 1\n  },\n  V = new Array();\nV[l.NORTH] = [0, -1], V[l.NORTH_EAST] = [-1, -1], V[l.EAST] = [-1, 0], V[l.SOUTH_EAST] = [-1, 1], V[l.SOUTH] = [0, 1], V[l.SOUTH_WEST] = [1, 1], V[l.WEST] = [1, 0], V[l.NORTH_WEST] = [1, -1];\nexport { j as GroupInfo, C as TileRenderer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../../../core/mathUtils.js\";\nimport { create as e } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { fromValues as i } from \"../../../../../geometry/support/aaBoundingBox.js\";\nimport { intersectRayTriangles as n, MeshIntersectionOptions as r } from \"../../lib/RayIntersections.js\";\nconst s = 200,\n  o = 40,\n  a = .8,\n  c = 10,\n  h = 1e-6;\nfunction l(t, e, i) {\n  const n = e,\n    r = i;\n  let s = 0,\n    o = 1 / 0;\n  for (let a = 0; a < 3; ++a) {\n    {\n      const e = t[a];\n      if (n[a] < e) {\n        if (r[a] <= h) return !1;\n        const t = (e - n[a]) / r[a];\n        s = Math.max(s, t);\n      } else if (r[a] <= -h) {\n        const t = (e - n[a]) / r[a];\n        o = Math.min(o, t);\n      }\n      if (s > o) return !1;\n    }\n    {\n      const e = t[a + 3];\n      if (n[a] > e) {\n        if (r[a] >= -h) return !1;\n        const t = (e - n[a]) / r[a];\n        s = Math.max(s, t);\n      } else if (r[a] >= h) {\n        const t = (e - n[a]) / r[a];\n        o = Math.min(o, t);\n      }\n      if (s > o) return !1;\n    }\n  }\n  return !0;\n}\nclass d {\n  constructor(t, e, i, n, r) {\n    this.aabb = t, this.axis = e, this.d = i, this.midStartIndex = n, this.rightStartIndex = r;\n  }\n}\nclass f {\n  constructor(i, n, r, s) {\n    this.globalTriangleVertexIndices = i, this.firstTriangleIndex = n, this.positions = s, this._rayDirection = e(), this._callback = R, this._intersectionOptions = I, this.bspNodeTree = new Array();\n    const h = r - n,\n      l = new (h < N ? Uint8Array : h < b ? Uint16Array : Uint32Array)(h);\n    this.triangleIndexMap = l;\n    for (let t = 0; t < h; ++t) l[t] = t;\n    {\n      const e = p(i, n, r, s.data, s.stride),\n        f = t(Math.log2(h / o), 2, c),\n        m = (t, i, n) => {\n          const r = x(l, e, t, i),\n            s = i - t;\n          if (s <= o) {\n            const e = new d(r, void 0, 0, t, i);\n            return this.bspNodeTree.push(e), e;\n          }\n          const {\n              axis: c,\n              midValue: h\n            } = y(r),\n            u = g(l, e, t, i, c, h),\n            p = (t, e) => {\n              if (n > f) return;\n              const i = e - t;\n              return i < o || i >= a * s ? void 0 : m(t, e, n + 1);\n            },\n            N = new d(r, c, h, u.next, u.mid);\n          return this.bspNodeTree.push(N), N.leftNode = p(t, u.next), N.rightNode = p(u.mid, i), N;\n        };\n      m(0, h, 0);\n    }\n  }\n  intersectRayTriangleRange(t, e) {\n    if (t >= e) return;\n    const i = this.positions;\n    n(this._rayFrom, this._rayDirection, t, e, this.globalTriangleVertexIndices, i.data, i.stride, this._intersectionOptions.normalRequired, this._callback, this.triangleIndexMap, this.firstTriangleIndex), f.numFacesTested += e - t;\n  }\n  intersectRay(t, e, i, n) {\n    f.numFacesTested = 0;\n    const r = t,\n      s = e,\n      o = s[0] - r[0],\n      a = s[1] - r[1],\n      c = s[2] - r[2];\n    if (o * o + a * a + c * c < h) return;\n    this._rayFrom = r;\n    const l = this._rayDirection;\n    l[0] = o, l[1] = a, l[2] = c;\n    const d = this.triangleIndexMap.length;\n    this._callback = n, this._intersectionOptions = i, this.intersectRayBSP(this.bspNodeTree[0], 0, d), this._callback = R, this._intersectionOptions = I;\n  }\n  intersectRayBSP(t, e, i) {\n    const n = this._rayFrom,\n      r = this._rayDirection;\n    if (!l(t.aabb, n, r)) return;\n    const s = t.axis,\n      o = t.d;\n    if (n[s] < o || r[s] < 0) {\n      const i = e,\n        n = t.midStartIndex;\n      if (i < n) {\n        const e = t.leftNode;\n        void 0 !== e ? this.intersectRayBSP(e, i, n) : this.intersectRayTriangleRange(i, n);\n      }\n    }\n    if (this.intersectRayTriangleRange(t.midStartIndex, t.rightStartIndex), n[s] > o || r[s] > 0) {\n      const e = t.rightStartIndex,\n        n = i;\n      if (e < n) {\n        const i = t.rightNode;\n        void 0 !== i ? this.intersectRayBSP(i, e, n) : this.intersectRayTriangleRange(e, n);\n      }\n    }\n  }\n  get estimatedMemoryUsage() {\n    return this.triangleIndexMap.byteLength;\n  }\n}\nf.numFacesTested = 0;\nconst m = [1 / 0, 1 / 0, 1 / 0],\n  u = [-1 / 0, -1 / 0, -1 / 0];\nfunction g(t, e, i, n, r, s) {\n  let o = i,\n    a = n;\n  for (; o < a;) {\n    const i = t[o];\n    e[6 * i + r + 3] <= s ? ++o : (--a, t[o] = t[a], t[a] = i);\n  }\n  let c = o;\n  for (a = n; c < a;) {\n    const i = t[a - 1];\n    e[6 * i + r] >= s ? --a : (t[a - 1] = t[c], t[c] = i, ++c);\n  }\n  return {\n    next: o,\n    mid: c\n  };\n}\nfunction x(t, e, n, r) {\n  if (r <= n) return i(NaN, NaN, NaN, NaN, NaN, NaN);\n  {\n    const i = 6 * t[n];\n    for (let t = 0; t < 3; ++t) m[t] = e[i + 0 + t], u[t] = e[i + 3 + t];\n  }\n  for (let i = n + 1; i < r; ++i) {\n    const n = 6 * t[i];\n    for (let t = 0; t < 3; ++t) m[t] = Math.min(m[t], e[n + 0 + t]), u[t] = Math.max(u[t], e[n + 3 + t]);\n  }\n  return i(m[0], m[1], m[2], u[0], u[1], u[2]);\n}\nfunction y(t) {\n  const e = t[3] - t[0],\n    i = t[4] - t[1],\n    n = t[5] - t[2],\n    r = e > i ? e > n ? 0 : i > n ? 1 : 2 : i > n ? 1 : n > e ? 2 : 0;\n  return {\n    axis: r,\n    midValue: (t[r] + t[r + 3]) / 2\n  };\n}\nfunction p(t, e, i, n, r) {\n  const s = i - e,\n    o = new Float32Array(6 * s);\n  for (let a = 0; a < s; ++a) {\n    const i = 3 * (a + e),\n      s = t[i] * r,\n      c = t[i + 1] * r,\n      h = t[i + 2] * r;\n    for (let t = 0; t < 3; ++t) {\n      const e = n[s + t],\n        i = n[c + t],\n        r = n[h + t];\n      o[6 * a + t] = Math.min(e, i, r), o[6 * a + 3 + t] = Math.max(e, i, r);\n    }\n  }\n  return o;\n}\nconst N = 255,\n  b = 65535,\n  I = new r(),\n  R = () => {};\nexport { f as ComponentIntersectionData, s as componentMinimalSizeForIntersectionData };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { ShaderOutput as o } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { NormalType as t } from \"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";\nimport { TextureCoordinateAttributeType as r } from \"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";\nimport { PBRMode as i } from \"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";\nimport { OverlayMode as s } from \"../core/shaderLibrary/terrain/Overlay.glsl.js\";\nimport { TileBlendInput as p } from \"../core/shaderLibrary/terrain/TileBlendInput.js\";\nimport { parameter as a } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { DefaultTechniqueConfiguration as l } from \"../materials/DefaultTechniqueConfiguration.js\";\nclass d extends l {\n  constructor() {\n    super(...arguments), this.output = o.Color, this.overlayMode = s.Disabled, this.tileBlendInput = p.LayerOnly, this.spherical = !1, this.doublePrecisionRequiresObfuscation = !1, this.receiveShadows = !1, this.hasSlicePlane = !1, this.backfaceCullingEnabled = !1, this.textureFadingEnabled = !1, this.renderOccluded = !1, this.hasScreenSpaceReflections = !1, this.hasCloudsReflections = !1, this.invisible = !1, this.opaque = !0, this.tileBorders = !1, this.visualizeNormals = !1, this.screenSizePerspective = !1, this.receiveAmbientOcclusion = !1, this.pbrMode = i.Simplified;\n  }\n}\ne([a({\n  count: o.COUNT\n})], d.prototype, \"output\", void 0), e([a({\n  count: s.COUNT\n})], d.prototype, \"overlayMode\", void 0), e([a({\n  count: p.COUNT\n})], d.prototype, \"tileBlendInput\", void 0), e([a()], d.prototype, \"spherical\", void 0), e([a()], d.prototype, \"doublePrecisionRequiresObfuscation\", void 0), e([a()], d.prototype, \"receiveShadows\", void 0), e([a()], d.prototype, \"hasSlicePlane\", void 0), e([a()], d.prototype, \"backfaceCullingEnabled\", void 0), e([a()], d.prototype, \"textureFadingEnabled\", void 0), e([a()], d.prototype, \"renderOccluded\", void 0), e([a()], d.prototype, \"hasScreenSpaceReflections\", void 0), e([a()], d.prototype, \"hasCloudsReflections\", void 0), e([a()], d.prototype, \"invisible\", void 0), e([a()], d.prototype, \"opaque\", void 0), e([a()], d.prototype, \"tileBorders\", void 0), e([a()], d.prototype, \"visualizeNormals\", void 0), e([a()], d.prototype, \"screenSizePerspective\", void 0), e([a()], d.prototype, \"receiveAmbientOcclusion\", void 0), e([a({\n  count: i.COUNT\n})], d.prototype, \"pbrMode\", void 0), e([a({\n  constValue: t.Compressed\n})], d.prototype, \"normalType\", void 0), e([a({\n  constValue: r.Compressed\n})], d.prototype, \"textureCoordinateType\", void 0), e([a({\n  constValue: !1\n})], d.prototype, \"highStepCount\", void 0), e([a({\n  constValue: !1\n})], d.prototype, \"useCustomDTRExponentForWater\", void 0), e([a({\n  constValue: !1\n})], d.prototype, \"useFillLights\", void 0), e([a({\n  constValue: !0\n})], d.prototype, \"hasColorTexture\", void 0);\nexport { d as TerrainTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../Color.js\";\nimport has from \"../../../core/has.js\";\nimport { disposeMaybe as i } from \"../../../core/maybe.js\";\nimport { MemCachePool as r } from \"../../../core/MemCachePool.js\";\nimport s from \"../../../core/ObjectPool.js\";\nimport { watch as n, sync as a } from \"../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as l } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { IDENTITY as h } from \"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { f as c, s as d, m as u } from \"../../../chunks/vec32.js\";\nimport { ZEROS as p, fromValues as _, create as f } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { ZEROS as g } from \"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { create as m, set as b } from \"../../../geometry/support/aaBoundingBox.js\";\nimport { BufferViewVec3f as y } from \"../../../geometry/support/buffer/BufferView.js\";\nimport { ViewingMode as T } from \"../../ViewingMode.js\";\nimport { TextureUpdate as O } from \"./interfaces.js\";\nimport { LayerClass as C } from \"./LayerClass.js\";\nimport { OverlayContent as R } from \"./OverlayContent.js\";\nimport { overlayRenderOccludedFlag as x } from \"./OverlayRenderer.js\";\nimport { PatchRenderData as v } from \"./PatchRenderData.js\";\nimport { RenderOrder as P } from \"./RenderOrder.js\";\nimport { TerrainAttributesCache as w } from \"./TerrainAttributesCache.js\";\nimport { enableTerrainInternalChecks as S } from \"./terrainUtils.js\";\nimport { TileRenderer as D } from \"./TileRenderer.js\";\nimport { TileUpdate as q } from \"./TileUpdate.js\";\nimport { IteratorPreorder as E, sortTiles as A, compareTiles as N } from \"./tileUtils.js\";\nimport { componentMinimalSizeForIntersectionData as j, ComponentIntersectionData as B } from \"../webgl-engine/collections/Component/ComponentIntersectionData.js\";\nimport { ShaderOutput as I } from \"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";\nimport { T as F } from \"../../../chunks/Terrain.glsl.js\";\nimport { TileBlendInput as U } from \"../webgl-engine/core/shaderLibrary/terrain/TileBlendInput.js\";\nimport { SyncPrepareRenderPlugin as L, ConsumesDepth as G, ConsumesNone as k } from \"../webgl-engine/effects/RenderPlugin.js\";\nimport { Vertices as M } from \"../webgl-engine/lib/Attribute.js\";\nimport { RenderRequestType as z } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { createEmptyTexture as V } from \"../webgl-engine/lib/glUtil3D.js\";\nimport { newIntersectorResult as H } from \"../webgl-engine/lib/Intersector.js\";\nimport { IntersectorType as W, StoreResults as Y } from \"../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { RenderOccludedFlag as Q } from \"../webgl-engine/lib/Material.js\";\nimport { intersectAabbInvDirBefore as X, intersectTriangles as K, MeshIntersectionOptions as Z } from \"../webgl-engine/lib/RayIntersections.js\";\nimport { RenderSlot as J } from \"../webgl-engine/lib/RenderSlot.js\";\nimport { getSettings as $ } from \"../webgl-engine/lib/screenSizePerspectiveUtils.js\";\nimport { VertexAttribute as ee } from \"../webgl-engine/lib/VertexAttribute.js\";\nimport { terrainId as te, getVerticalOffsetTerrain as ie } from \"../webgl-engine/lib/verticalOffsetUtils.js\";\nimport { DrawParameters as re } from \"../webgl-engine/materials/DrawParameters.js\";\nimport { TerrainTechnique as se } from \"../webgl-engine/shaders/TerrainTechnique.js\";\nimport { TerrainTechniqueConfiguration as ne } from \"../webgl-engine/shaders/TerrainTechniqueConfiguration.js\";\nimport { PrimitiveType as ae } from \"../../webgl/enums.js\";\nconst oe = 7,\n  le = 10,\n  he = m();\nvar ce;\n!function (e) {\n  e[e.Opaque = 0] = \"Opaque\", e[e.Semitransparent = 1] = \"Semitransparent\", e[e.TransparentWithDraped = 2] = \"TransparentWithDraped\", e[e.Empty = 3] = \"Empty\";\n}(ce || (ce = {}));\nlet de = class extends L {\n  get _isGlobal() {\n    return this._stage.viewingMode === T.Global;\n  }\n  get _techniques() {\n    return this._context.techniques;\n  }\n  get _rctx() {\n    return this._context.renderContext.rctx;\n  }\n  constructor(e, t, i, n, a) {\n    super({}), this._overlayRenderer = e, this._stage = t, this._allTiles = i, this._ellipsoidRadius = n, this.type = W.TERRAIN, this.isGround = !0, this._tileSize = 256, this._techniqueConfiguration = new ne(), this._passParameters = new F(), this._drawParameters = new re(), this._renderDataPool = new s(v), this._visiblePatchesByOrigin = new Map(), this._allPatchesByOrigin = new Map(), this._patchesByOriginDirty = !0, this._patchSortingDirty = !0, this._tileIterator = new E(), this._transparencyState = ce.Opaque, this._castShadows = !1, this._inViewshed = !1, this._emptyTex = null, this._tileRenderer = null, this._stencilEnabledLayerExtents = new Array(), this._numTilesRendered = 0, this._numTilesCulled = 0, this._numOriginsRendered = 0, this.renderOccludedFlags = Q.Occlude, this.produces = new Map([[J.OPAQUE_TERRAIN, () => this._produces()], [J.TRANSPARENT_TERRAIN, () => this._produces()], [J.OCCLUDED_TERRAIN, () => this._produces()]]), this._tileTextureCache = new r((e, t) => a.newCache(e, t), \"TileTexture\"), this.tileGeometryCache = new w(a);\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  initialize() {\n    this._stage.addRenderPlugin(this), this.addHandles(n(() => this._overlayRenderer.rendersOccludedDraped, e => {\n      this.renderOccludedFlags = e ? x : Q.Occlude, this.setNeedsRender();\n    }, a));\n  }\n  destroy() {\n    this._stage.removeRenderPlugin(this), this._tileTextureCache.destroy(), this.tileGeometryCache.destroy();\n  }\n  _produces() {\n    return this.visible && !!this._rootTiles && !this.renderingDisabled;\n  }\n  consumes() {\n    return this._overlayRenderer.hasWater ? G : k;\n  }\n  set renderingDisabled(e) {\n    this._set(\"renderingDisabled\", !!e), this.setDirty();\n  }\n  set visible(e) {\n    this._set(\"visible\", !!e), this.setDirty();\n  }\n  updateHeading(e) {\n    this._tileRenderer?.updateHeading(e);\n  }\n  set transparency(e) {\n    this._transparencyState !== e && (this._techniqueConfiguration.invisible = e === ce.TransparentWithDraped || e === ce.Empty, this._techniqueConfiguration.opaque = e === ce.Opaque, this._transparencyState = e, this.setNeedsRender());\n  }\n  get transparency() {\n    return this._transparencyState;\n  }\n  get renderPatchBorders() {\n    return !!this._techniqueConfiguration.tileBorders;\n  }\n  set renderPatchBorders(e) {\n    this._techniqueConfiguration.tileBorders !== e && (this._techniqueConfiguration.tileBorders = e, this.setNeedsRender(), this.notifyChange(\"renderPatchBorders\"));\n  }\n  get visualizeNormals() {\n    return !!this._techniqueConfiguration.visualizeNormals;\n  }\n  set visualizeNormals(e) {\n    this._techniqueConfiguration.visualizeNormals !== e && (this._techniqueConfiguration.visualizeNormals = e, this.setNeedsRender(), this.notifyChange(\"visualizeNormals\"));\n  }\n  get cullBackFaces() {\n    return this._techniqueConfiguration.backfaceCullingEnabled;\n  }\n  set cullBackFaces(e) {\n    this._techniqueConfiguration.backfaceCullingEnabled !== e && (this._techniqueConfiguration.backfaceCullingEnabled = e, this.notifyChange(\"cullBackFaces\"), this.setNeedsRender());\n  }\n  set renderOrder(e) {\n    this._set(\"renderOrder\", e), this._setSortingDirty();\n  }\n  get layerUid() {\n    return te;\n  }\n  get slicePlaneEnabled() {\n    return this._techniqueConfiguration.hasSlicePlane;\n  }\n  set slicePlaneEnabled(e) {\n    this._techniqueConfiguration.hasSlicePlane !== e && (this._techniqueConfiguration.hasSlicePlane = e, this.setNeedsRender());\n  }\n  set textureFadingEnabled(e) {\n    this._techniqueConfiguration.textureFadingEnabled !== e && (this._techniqueConfiguration.textureFadingEnabled = e, this.setNeedsRender());\n  }\n  set pbrMode(e) {\n    this._techniqueConfiguration.pbrMode !== e && (this._techniqueConfiguration.pbrMode = e, this.setNeedsRender());\n  }\n  setDebugScreenSizePerspective(e) {\n    this._techniqueConfiguration.screenSizePerspective !== e && (this._techniqueConfiguration.screenSizePerspective = e, this.setNeedsRender());\n  }\n  setRootTiles(e) {\n    this._rootTiles = e, this.setDirty();\n  }\n  setStencilEnabledLayerExtents(e) {\n    this._stencilEnabledLayerExtents = e, this._setSortingDirty();\n  }\n  setTileSize(e) {\n    this._tileSize = e, null != this._tileRenderer && (this._tileRenderer.tileSize = e), this.setDirty();\n  }\n  _prepareTileForLoading(e) {\n    e.renderData || (e.renderData = this._renderDataPool.acquire(), e.renderData.init(e, this._getLocalOriginOfTile(e)));\n  }\n  loadTile(e) {\n    this._prepareTileForLoading(e), this.updateTileGeometryState(e), this.updateTileTexture(e, q.TEXTURE_FADING);\n  }\n  updateTileTexture(e, t) {\n    null != this._tileRenderer && (this._tileRenderer.updateTileTexture(e, t === q.TEXTURE_FADING ? O.FADING : O.UNFADED), this.setNeedsRender(), e.resetPendingUpdate(t));\n  }\n  updateTileGeometryState(e) {\n    for (const i of e.layerInfo[C.ELEVATION]) i.pendingUpdates &= ~q.GEOMETRY;\n    e.resetPendingUpdate(q.GEOMETRY);\n    const t = e.renderData.updateGeometryState();\n    return t && this.setDirty(), t;\n  }\n  updateGeometryIfNeeded(e) {\n    e.isLoaded && e.renderData.updateGeometryIfNeeded(this._rctx);\n  }\n  unloadTile(e) {\n    const t = e.renderData;\n    t && (t.releaseGeometry(), this._renderDataPool.release(t), t.clear(), e.renderData = null, e.setMemoryDirty(), this.setDirty());\n  }\n  _getLocalOriginOfTile(e) {\n    const t = le - oe,\n      i = Math.max(0, Math.floor((e.level - t) / oe) * oe);\n    if (this._isGlobal && 0 === i) return p;\n    for (; e.parent && e.level > i;) e = e.parent;\n    return e.centerAtSeaLevel;\n  }\n  getStats() {\n    return {\n      numTilesRendered: this._numTilesRendered,\n      numTilesCulled: this._numTilesCulled,\n      numOriginsRendered: this._numOriginsRendered\n    };\n  }\n  set wireframe(e) {\n    this._get(\"wireframe\") !== e && (this._set(\"wireframe\", e), this.setNeedsRender());\n  }\n  setDirty(e = z.UPDATE) {\n    this._patchesByOriginDirty = !0, this._context.requestRender(e);\n  }\n  _setSortingDirty(e = z.UPDATE) {\n    this._patchSortingDirty = !0, this._context.requestRender(e);\n  }\n  setNeedsRender(e = z.UPDATE) {\n    this._context.requestRender(e);\n  }\n  initializeRenderContext(e) {\n    this._context = e, this._tileRenderer = new D(this._rctx, this._tileSize, this._techniques, this._tileTextureCache), this.updateTileBackground(), this._emptyTex = V(this._rctx);\n  }\n  uninitializeRenderContext() {\n    this._emptyTex = i(this._emptyTex), this._tileRenderer = i(this._tileRenderer);\n  }\n  intersect(e, t, i, r) {\n    if (!this._rootTiles || e.options.selectOpaqueTerrainOnly && e.options.selectionMode && this.transparency !== ce.Opaque) return;\n    const s = ue,\n      n = pe;\n    c(s, r, i), d(n, 1 / s[0], 1 / s[1], 1 / s[2]);\n    const a = e.results.min,\n      o = e.results.max,\n      l = e.results.ground,\n      p = e.options.store === Y.MIN,\n      _ = !!e.results.ground.target,\n      f = ie(e.verticalOffset),\n      g = e.tolerance;\n    let m,\n      T = p && null != a.dist ? a.dist : 1 / 0;\n    const O = e.options,\n      C = O.normalRequired || !O.backfacesTerrain,\n      R = new Z(!1, C),\n      x = d => {\n        const _ = d.renderData;\n        if (!_?.vao) return;\n        const x = _.geometry;\n        b(he, x.boundingBox);\n        const v = _.localOrigin;\n        null != f && (f.localOrigin = v, f.applyToAabb(he));\n        const P = he;\n        if (_e[0] = i[0] - v[0], _e[1] = i[1] - v[1], _e[2] = i[2] - v[2], !X(P, _e, n, g, T)) return;\n        const w = (e, t, i) => {\n            e.set(this.type, d, t, i, h), T = p && null != a.dist ? a.dist : 1 / 0;\n          },\n          S = (n, h, c) => {\n            if ((!C || null != c) && n >= 0 && (O.backfacesTerrain || u(c, s) < 0) && (O.invisibleTerrain || !O.selectionMode || null == t || t(i, r, n))) {\n              if ((null == l.dist || n < l.dist) && w(l, n, c), O.isFiltered) return;\n              O.store === Y.ALL && (null == m ? (m = H(e.ray), w(m, n, c), e.results.all.push(m)) : n < m.dist && w(m, n, c)), (null == a.dist || n < a.dist) && w(a, n, c), O.store !== Y.MIN && (null == o.dist || n > o.dist) && w(o, n, c);\n            }\n          },\n          D = fe;\n        c(D, r, v);\n        const {\n            indices: q,\n            indexCount: E\n          } = x,\n          A = x.vertexAttributes,\n          N = A.getField(ee.POSITION, y),\n          I = new M(N.typedBuffer, 3, A.stride / 4),\n          F = E / 3;\n        if (!f && F > j) {\n          const e = d.renderData;\n          null == e.intersectionData && (e.intersectionData = new B(q, 0, F, I)), e.intersectionData.intersectRay(_e, D, R, S);\n        } else K(_e, D, 0, F, q, I, f, R, S);\n      },\n      v = this._rootTiles;\n    if (null != v) {\n      (() => {\n        const t = this._tileIterator;\n        t.reset(v);\n        const r = e.options.invisibleTerrain;\n        for (let e = t.next(); e; e = t.next()) !(e.visible || r && e.intersectsClippingArea) || null == f && !e.intersectsRay(i, s, g, T) || _ && this._useStencilForTile(e) ? t.skipSubtree() : x(e);\n      })();\n    }\n  }\n  processScaleRangeQueries(e, t) {\n    if (!t.done) for (this._updatePatchGroups(); e.updating && !t.done;) {\n      e.prepare();\n      for (const t of this._visiblePatchesByOrigin.values()) for (const i of t) null != i.renderData?.textureReference && e.queriesForTile(i);\n      e.process(), t.madeProgress();\n    }\n  }\n  prepareTechnique(e) {\n    const t = has(\"enable-feature:terrain-shadows\") && e.bindParameters.shadowMap.enabled;\n    t !== this._castShadows && (this._castShadows = t, this._patchesByOriginDirty = !0);\n    const i = e.bindParameters.viewshedEnabled;\n    if (this._inViewshed !== i && (this._inViewshed = i, this._patchesByOriginDirty = !0), e.bindParameters.slot === J.OCCLUDED_TERRAIN) {\n      if (!(e.renderOccludedMask & x)) return null;\n    } else {\n      const t = this.transparency === ce.Opaque ? J.OPAQUE_TERRAIN : J.TRANSPARENT_TERRAIN;\n      if (e.bindParameters.slot !== t) return null;\n    }\n    if (this.transparency === ce.Empty) return null;\n    switch (e.output) {\n      case I.Color:\n        return this._techniqueConfiguration.hasScreenSpaceReflections = null != e.bindParameters.ssr.lastFrameColor, this._techniqueConfiguration.hasCloudsReflections = null != e.bindParameters.cloudsFade.data, this._techniqueConfiguration.receiveShadows = e.bindParameters.shadowMap.ready, this._techniqueConfiguration.receiveAmbientOcclusion = null != e.bindParameters.ssao, this._techniqueConfiguration.overlayMode = this._overlayRenderer.mode, this._updateTechnique(I.Color, e.bindParameters.slot === J.OCCLUDED_TERRAIN);\n      case I.Shadow:\n      case I.ShadowExcludeHighlight:\n        return this._castShadows ? (this._techniqueConfiguration.receiveShadows = this._techniqueConfiguration.receiveAmbientOcclusion = !1, this._updateTechnique(I.Shadow, !1)) : null;\n      case I.ViewshedShadow:\n        return this._inViewshed ? (this._techniqueConfiguration.receiveShadows = this._techniqueConfiguration.receiveAmbientOcclusion = !1, this._updateTechnique(I.ViewshedShadow, !1)) : null;\n      case I.Depth:\n        return this._techniqueConfiguration.receiveShadows = this._techniqueConfiguration.receiveAmbientOcclusion = !1, this._updateTechnique(I.Depth, !1);\n      case I.Normal:\n        return this._techniqueConfiguration.receiveShadows = this._techniqueConfiguration.receiveAmbientOcclusion = !1, this._updateTechnique(I.Normal, !1);\n      case I.ObjectAndLayerIdColor:\n        return this._updateTechnique(I.ObjectAndLayerIdColor, !1);\n      case I.Highlight:\n        return this._overlayRenderer.hasHighlights ? (this._techniqueConfiguration.receiveShadows = this._techniqueConfiguration.receiveAmbientOcclusion = !1, this._updateTechnique(I.Highlight, !1)) : null;\n    }\n    return null;\n  }\n  renderNode(e, t) {\n    switch (this._updatePatchGroups(), t.useStencil = !1, e.output) {\n      case I.Color:\n        {\n          const i = e.bindParameters.slot === J.OCCLUDED_TERRAIN ? R.Occluded : R.Color;\n          this._renderMaterialPass(e, t, i);\n          break;\n        }\n      case I.Depth:\n      case I.Normal:\n        this._renderAuxiliaryPass(e, t, R.Color, this._visiblePatchesByOrigin);\n        break;\n      case I.Highlight:\n        this._renderAuxiliaryPass(e, t, R.Highlight, this._visiblePatchesByOrigin);\n        break;\n      case I.Shadow:\n      case I.ShadowExcludeHighlight:\n      case I.ViewshedShadow:\n        this._renderAuxiliaryPass(e, t, null, this._allPatchesByOrigin);\n        break;\n      case I.ObjectAndLayerIdColor:\n        this._renderAuxiliaryPass(e, t, R.ObjectAndLayerIdColor, this._visiblePatchesByOrigin);\n    }\n  }\n  updateTileBackground(e) {\n    if (null == this._tileRenderer) return;\n    const i = this._tileRenderer;\n    let r;\n    if (null != e) {\n      const i = t.toUnitRGBA(e);\n      r = _(i[0] || 0, i[1] || 0, i[2] || 0);\n    }\n    i.setBackground(r), this._allTiles.forAll(e => i.updateTileTexture(e, O.FADING)), this._techniqueConfiguration.tileBlendInput = i.backgroundIsGrid ? U.GridComposite : null != i.backgroundColor ? U.ColorComposite : U.LayerOnly, this.setNeedsRender();\n  }\n  _updatePatchGroups() {\n    if (this._patchesByOriginDirty && (this._rebuildPatchGroups(), this._patchesByOriginDirty = !1, this._patchSortingDirty = !0), this._patchSortingDirty && this.renderOrder !== P.NONE) {\n      const e = Array.from(this._visiblePatchesByOrigin.values()),\n        t = this._stencilEnabledLayerExtents;\n      for (const i of e) A(this.renderOrder, i, t);\n      e.sort((e, t) => N(e[0], t[0], this.renderOrder)), this._visiblePatchesByOrigin = new Map(e.map(e => [e[0].renderData.localOrigin, e])), this._patchSortingDirty = !1;\n    }\n  }\n  _rebuildPatchGroups() {\n    const e = this._rootTiles;\n    if (null != e) {\n      e[0]?.surface.checkAllTilesWaterproofness(), this._visiblePatchesByOrigin.clear(), this._allPatchesByOrigin.clear();\n      for (const t of e) this._rebuildPatchGroupsForRootTile(t);\n    }\n  }\n  _rebuildPatchGroupsForRootTile(e) {\n    const t = this._tileIterator;\n    for (t.resetOne(e); !t.done;) {\n      const e = t.next(),\n        i = e.renderData;\n      if (!i) {\n        this._numTilesCulled++;\n        continue;\n      }\n      const r = i.localOrigin;\n      if (this._castShadows || this._inViewshed) {\n        let t = this._allPatchesByOrigin.get(r);\n        t || (t = [], this._allPatchesByOrigin.set(r, t)), t.push(e);\n      }\n      if (!e.visible) {\n        this._numTilesCulled++, t.skipSubtree();\n        continue;\n      }\n      let s = this._visiblePatchesByOrigin.get(r);\n      s || (s = [], this._visiblePatchesByOrigin.set(r, s)), s.push(e), t.skipSubtree();\n    }\n  }\n  _useStencilForTile(e) {\n    for (const t of this._stencilEnabledLayerExtents) if (e.intersectsExtent(t)) return !0;\n    return !1;\n  }\n  _renderAuxiliaryPass(e, t, i, r) {\n    const s = e.rctx;\n    this._passParameters.overlayContent = i, s.bindTechnique(t, e.bindParameters, this._passParameters);\n    const n = this._stencilEnabledLayerExtents.length > 0;\n    r.forEach(r => {\n      this._drawParameters.origin = r[0].renderData.localOrigin, t.program.bindDraw(this._drawParameters, e.bindParameters, this._passParameters);\n      for (let s = 0; s < r.length; s++) this._renderPatch(e, t, r[s], ae.TRIANGLES, n, i);\n    }), e.rctx.bindVAO(null);\n  }\n  _renderMaterialPass(e, t, i) {\n    const {\n      rctx: r\n    } = e;\n    this._passParameters.overlayContent = i, r.bindTechnique(t, e.bindParameters, this._passParameters), this._numTilesRendered = 0, this._numTilesCulled = 0, this._numOriginsRendered = 0;\n    const s = e.bindParameters.camera,\n      n = t.program;\n    if (this._techniqueConfiguration.screenSizePerspective && this.pointsOfInterest) {\n      const e = $(this._stage.viewingMode, this._ellipsoidRadius),\n        t = this.pointsOfInterest.centerOnSurfaceFrequent.distance;\n      e.update({\n        distance: t,\n        fovY: s.fovY\n      });\n    }\n    const a = this._stencilEnabledLayerExtents.length > 0,\n      o = i === R.Occluded;\n    o && (n.bindTexture(\"tex\", this._emptyTex), n.setUniform3fv(\"textureOpacities\", p), n.setUniform4fv(\"texOffsetAndScale\", g));\n    const l = null != this._tileRenderer?.backgroundColor ? this._tileRenderer.backgroundColor : p;\n    this._techniqueConfiguration.tileBlendInput === U.ColorComposite && n.setUniform3fv(\"backgroundColor\", l);\n    const h = this.wireframe ? ae.LINES : ae.TRIANGLES;\n    this._techniqueConfiguration.textureFadingEnabled && n.bindTexture(\"texNext\", this._emptyTex);\n    const c = this._visiblePatchesByOrigin;\n    for (const d of c.values()) {\n      const r = d[0].renderData.localOrigin;\n      t.program.bindDraw(new re(r), e.bindParameters, this._passParameters), this._numOriginsRendered++;\n      for (const s of d) {\n        const r = s.renderData,\n          l = r.textureReference;\n        if (null != l) {\n          if (!o) {\n            n.setUniform4fv(\"texOffsetAndScale\", l.offsetAndScale), n.bindTexture(\"tex\", l.texture.texture);\n            const e = r.textureFadeFactor,\n              t = e < 1 ? r.nextTextureReference : null;\n            this._techniqueConfiguration.textureFadingEnabled && null != t && e < 1 ? (n.setUniform1f(\"fadeFactor\", e), n.setUniform4fv(\"nextTexOffsetAndScale\", t.offsetAndScale), n.setUniform3fv(\"nextTexOpacities\", t.opacities), n.bindTexture(\"texNext\", t.texture.texture)) : n.setUniform1f(\"fadeFactor\", 1), r.textureIsFading && this.setNeedsRender(), n.setUniform3fv(\"textureOpacities\", l.opacities);\n          }\n          this._renderPatch(e, t, s, h, a, i), s.renderOrder = this._numTilesRendered, this._numTilesRendered++;\n        }\n      }\n    }\n    e.rctx.bindVAO(null);\n  }\n  _renderPatch(e, t, i, r, s, n) {\n    const a = i.renderData,\n      o = a.vao,\n      l = o?.indexBuffer;\n    if (!o || null == l) return void (S && console.error(\"Rendered tile with no indices: \", i.lij, \" : \", a));\n    const h = t.program;\n    null == n || this._overlayRenderer.isEmpty || this._bindOverlayPatchData(h, a.overlay), s && (t.useStencil = this._useStencilForTile(i), e.rctx.setPipelineState(t.getPipeline()));\n    const c = a.geometry.indexCount;\n    e.rctx.bindVAO(o), h.assertCompatibleVertexAttributeLocations(o), e.rctx.drawElements(r, c, l.indexType, 0);\n  }\n  _bindOverlayPatchData(e, t) {\n    e.setUniform4fv(\"overlayTexOffset\", t.offsets), e.setUniform4fv(\"overlayTexScale\", t.scales);\n  }\n  _updateTechnique(e, t) {\n    return this._techniqueConfiguration.output = e, this._techniqueConfiguration.renderOccluded = t, this._shaderTechnique = this._techniques.releaseAndAcquire(se, this._techniqueConfiguration, this._shaderTechnique), this._shaderTechnique;\n  }\n  get test() {}\n};\ne([o({\n  readOnly: !0\n})], de.prototype, \"_isGlobal\", null), e([o()], de.prototype, \"renderOccludedFlags\", void 0), e([o({\n  value: !1\n})], de.prototype, \"renderingDisabled\", null), e([o({\n  value: !0\n})], de.prototype, \"visible\", null), e([o()], de.prototype, \"renderPatchBorders\", null), e([o()], de.prototype, \"visualizeNormals\", null), e([o()], de.prototype, \"cullBackFaces\", null), e([o({\n  value: P.FRONT_TO_BACK\n})], de.prototype, \"renderOrder\", null), e([o()], de.prototype, \"wireframe\", null), de = e([l(\"esri.views.3d.terrain.TerrainRenderer\")], de);\nconst ue = f(),\n  pe = f(),\n  _e = f(),\n  fe = f();\nexport { de as TerrainRenderer, ce as TransparencyMode };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e {\n  constructor() {\n    this.numNodes = 0, this.numLeaves = 0, this.numVisible = 0, this.numRendered = 0, this.numSplit = 0, this.numMerged = 0, this.numRenderedPerLevel = new Array(), this.numLoadedPerLevel = new Array();\n  }\n}\nexport { e as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport \"../../../core/has.js\";\nimport { watch as i } from \"../../../core/reactiveUtils.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { equals as o } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { isTiledLayer as l } from \"../../../layers/support/layerUtils.js\";\nimport { ViewingMode as n } from \"../../ViewingMode.js\";\nimport { isSupportedEarthGCS as a, isSupportedGCSOnGlobe as c } from \"../support/supportedSpatialReference.js\";\nimport { isProjectableRasterLayer as h, getTiledLayerInfo as p } from \"./terrainUtils.js\";\nimport { TilingScheme as d } from \"./TilingScheme.js\";\nlet m = class extends t {\n  constructor(e) {\n    super(e);\n  }\n  initialize() {\n    this.addHandles([this.layers.on(\"change\", () => this._update()), i(() => this.extentHelper.layerViewsExtent, () => this._setAdHocTilingScheme())]), this._update(), this.tilingSchemeLocked || this._setAdHocTilingScheme();\n  }\n  destroy() {\n    this._waitTask = null, this.layers.destroy();\n  }\n  _update() {\n    if (this._waitTask = null, this.tilingSchemeLocked) return;\n    let e;\n    if (this.layers.some(t => !(!l(t) || t.isRejected()) && !(t.isFulfilled() && !u(t, this.viewSpatialReference, this.viewingMode)) && (e = t, !(\"vector-tile\" === t?.type || h(t)))), e) if (e.isResolved()) {\n      const t = p(e, this.viewSpatialReference, this.viewingMode);\n      if (null != t) {\n        const e = new d(t.tileInfo);\n        this._lockTilingScheme(e);\n      }\n    } else this._updateWhen(e);\n  }\n  _updateWhen(e) {\n    const t = e.when().catch(() => {}).then(() => {\n      t !== this._waitTask || this.destroyed || this._update();\n    });\n    this._waitTask = t;\n  }\n  _lockTilingScheme(e) {\n    if (this.viewingMode === n.Global) {\n      const t = e.levels.length - 1,\n        i = e.spatialReference;\n      i.isWebMercator ? e = d.makeWebMercatorAuxiliarySphere(t) : a(i) && (e = d.makeGCSWithTileSize(e.spatialReference, e.pixelSize, t));\n    }\n    this.tilingSchemeLocked = !0, this.tilingScheme = e, this.extentHelper.tilingScheme = this.tilingScheme, this._updateTiledLayerExtent(), this.removeAllHandles(), this.addHandles(i(() => this.extentHelper.tiledLayersExtent, () => this._updateTiledLayerExtent()));\n  }\n  _updateTiledLayerExtent() {\n    this._set(\"extent\", this.extentHelper.tiledLayersExtent);\n  }\n  _setAdHocTilingScheme() {\n    if (this.viewingMode === n.Global) {\n      const e = this.extentHelper.viewSpatialReference;\n      e.isWebMercator ? this.tilingScheme = d.WebMercatorAuxiliarySphere : c(e) && (this.tilingScheme = d.makeGCSWithTileSize(e, 256)), this._set(\"extent\", this.extentHelper.layerViewsExtent);\n    } else {\n      const e = this.extentHelper.layerViewsExtent;\n      null == e || o(e, this.extent) || (this.tilingScheme = d.fromExtent(e, this.extentHelper.viewSpatialReference), this._set(\"extent\", e));\n    }\n  }\n  get test() {}\n};\nfunction u(e, t, i) {\n  return null != p(e, t, i);\n}\ne([s()], m.prototype, \"tilingScheme\", void 0), e([s({\n  readOnly: !0\n})], m.prototype, \"extent\", void 0), e([s({\n  value: !1\n})], m.prototype, \"tilingSchemeLocked\", void 0), e([s({\n  constructOnly: !0\n})], m.prototype, \"viewSpatialReference\", void 0), e([s({\n  constructOnly: !0\n})], m.prototype, \"layers\", void 0), e([s({\n  constructOnly: !0\n})], m.prototype, \"extentHelper\", void 0), e([s({\n  constructOnly: !0\n})], m.prototype, \"viewingMode\", void 0), m = e([r(\"esri.views.3d.terrain.TilingSchemeLogic\")], m);\nexport { m as TilingSchemeLogic };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as s } from \"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nclass t {\n  constructor() {\n    this.offset = s(), this.scale = 0, this.tile = null;\n  }\n  init(s, t, i, e) {\n    this.tile = s, this.offset[0] = t, this.offset[1] = i, this.scale = e;\n  }\n  dispose() {\n    this.tile = null, this.offset[0] = 0, this.offset[1] = 0, this.scale = 0;\n  }\n}\nexport { t as UpsampleInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../Color.js\";\nimport i from \"../../../core/Accessor.js\";\nimport { difference as r } from \"../../../core/arrayUtils.js\";\nimport s from \"../../../core/CollectionFlattener.js\";\nimport a from \"../../../core/Evented.js\";\nimport \"../../../core/has.js\";\nimport n from \"../../../core/Logger.js\";\nimport { clamp as l } from \"../../../core/mathUtils.js\";\nimport { destroyMaybe as o } from \"../../../core/maybe.js\";\nimport { MemCachePool as h } from \"../../../core/MemCachePool.js\";\nimport d from \"../../../core/ObjectPool.js\";\nimport p from \"../../../core/PooledArray.js\";\nimport { throwIfAborted as u, isAbortError as c, isAborted as g } from \"../../../core/promiseUtils.js\";\nimport { watch as _, syncAndInitial as m, sync as f, initial as T } from \"../../../core/reactiveUtils.js\";\nimport { property as y } from \"../../../core/accessorSupport/decorators/property.js\";\nimport { subclass as v } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { multiply as E } from \"../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as S } from \"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { s as L, c as w } from \"../../../chunks/vec32.js\";\nimport { create as P } from \"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { UpdatingHandles as C } from \"../../../core/support/UpdatingHandles.js\";\nimport { getReferenceEllipsoid as b } from \"../../../geometry/ellipsoidUtils.js\";\nimport M from \"../../../geometry/SpatialReference.js\";\nimport { createEmptyProjectorCache as D, getProjector as x } from \"../../../geometry/projection/projectors.js\";\nimport { projectPointToVector as U } from \"../../../geometry/projection/projectPointToVector.js\";\nimport { projectVectorToVector as j } from \"../../../geometry/projection/projectVectorToVector.js\";\nimport { create as R, equals as A, intersection as I, intersectsSphere as B, empty as V, expand as k } from \"../../../geometry/support/aaBoundingRect.js\";\nimport { create as O, copy as N } from \"../../../geometry/support/frustum.js\";\nimport { isPlateCarree as G } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { a as q, g as F, c as W } from \"../../../chunks/sphere.js\";\nimport { ElevationQueryTileCache as $ } from \"../../../layers/support/ElevationQueryTileCache.js\";\nimport { isBaseLayer as H } from \"../../../layers/support/layerUtils.js\";\nimport { printAllocations as Q } from \"../../2d/engine/vectorTiles/VectorTile.js\";\nimport { debugFlags as z } from \"../support/debugFlags.js\";\nimport { ElevationRange as X } from \"../support/ElevationRange.js\";\nimport { ElevationUpdateEvent as Y } from \"../support/ElevationUpdateEvent.js\";\nimport { toBoundingRect as K } from \"../support/extentUtils.js\";\nimport { ClientType as J } from \"../support/index.js\";\nimport { updatingProgress as Z } from \"../support/updatingProperties.js\";\nimport { ElevationBounds as ee } from \"./ElevationBounds.js\";\nimport { ElevationData as te, sampleElevation as ie } from \"./ElevationData.js\";\nimport { create as re } from \"./ExtentHelper.js\";\nimport { LODSnapping as se, TextureUpdate as ae } from \"./interfaces.js\";\nimport { LayerClass as ne, LayerClasses as le } from \"./LayerClass.js\";\nimport { OverlayManager as oe } from \"./OverlayManager.js\";\nimport { PlanarPatch as he } from \"./PlanarPatch.js\";\nimport { RenderOrder as de } from \"./RenderOrder.js\";\nimport { ScaleRangeQueries as pe } from \"./ScaleRangeQueries.js\";\nimport { SphericalPatch as ue } from \"./SphericalPatch.js\";\nimport { SplitLimits as ce } from \"./SplitLimits.js\";\nimport { maxRootTiles as ge, tooManyRootTilesAfterChangeError as _e, tooManyRootTilesForLayerError as me, maxTileNeighborLevelDelta as fe, maxMemoryLodBias as Te } from \"./TerrainConst.js\";\nimport { TerrainRenderer as ye, TransparencyMode as ve } from \"./TerrainRenderer.js\";\nimport Ee from \"./TerrainSurfacePerformanceInfo.js\";\nimport { weakAssert as Se, isVectorTileLayerView as Le, neighborEdgeIndices as we, internalAssert as Pe, oppositeEdge as Ce, isSurfaceLayerView as be, isGroupLayerView as Me, isMapTileLayerView as De, isBlendableLayerView as xe, isElevationLayerView as Ue, releaseTerrainData as je, enableTerrainInternalChecks as Re, neighborCornerIndices as Ae, oppositeCorner as Ie, enableWaterproofTests as Be, enableInternalTerrainChecks as Ve, enableTerrainWaterproofChecks as ke } from \"./terrainUtils.js\";\nimport { Tile as Oe, lijEquals as Ne } from \"./Tile.js\";\nimport { printAllocations as Ge } from \"./TilePerLayerInfo.js\";\nimport { TileUpdate as qe } from \"./TileUpdate.js\";\nimport { IteratorPreorder as Fe, IteratorPostorder as We, compareTilesByLij as $e, hasLoadableSiblings as He, sortTilesByPOI as Qe } from \"./tileUtils.js\";\nimport { TilingSchemeLogic as ze } from \"./TilingSchemeLogic.js\";\nimport { UpsampleInfo as Xe } from \"./UpsampleInfo.js\";\nimport { isCompositeBlendMode as Ye, blendModeFromString as Ke } from \"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";\nimport { PBRMode as Je } from \"../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";\nimport { RenderRequestType as Ze } from \"../webgl-engine/lib/basicInterfaces.js\";\nimport { RenderState as et } from \"../../support/RenderState.js\";\nimport { ImmediateTask as tt, TaskPriority as it, noBudget as rt } from \"../../support/Scheduler.js\";\nimport { Yield as st } from \"../../support/Yield.js\";\nvar at;\nlet nt = at = class extends a.EventedMixin(i) {\n  constructor(e) {\n    super(e), this._scaleRangeQueries = new pe(), this._iteratorPool = new d(Fe, e => e.remove = () => this._iteratorPool.release(e)), this._postorderIterator = new We(), this._hasPendingUpdates = !1, this._pendingUpdates = 0, this._asyncWorkItems = 0, this._allTilesDirty = !0, this._allTilesSorted = !0, this._usedMemory = null, this._performanceInfo = new Ee(), this._viewChanged = !1, this.heading = 0, this._inFrameTask = !1, this._viewChangeUpdateDirty = !1, this._eyePosRenderSR = P(), this._eyePosSurfaceSR = P(), this._splitLimits = new ce(), this._frustum = O(), this._viewProjectionMatrix = S(), this._layerViews = [new Array(), new Array()], this._layerIndexByUid = [new Map(), new Map()], this._basemapLayerViewHandles = new Map(), this._watchUpdatingTracking = new C(), this._frameTask = tt, this._allTiles = new p(), this._upsampleInfoPool = new d(Xe), this._shouldEmitChangeEvent = !1, this._rootTilesExtent = R(), this.updatingProgress = .5, this._maxNumUpdating = 1, this.maxTextureScale = 1.2, this._spatialReference = M.WebMercator, this._elevationProjectorCache = new Map(), this.visibleElevationBounds = new ee(1 / 0, -1 / 0), this.rootTileElevationBounds = new ee(1 / 0, -1 / 0), this._sebProjectorMap = new Map(), this._sebProjectorCache = D(), this._tilingSchemeSpatialReference = null, this._updatingRootTiles = !1, this._pendingTilesForElevationUpdateEvent = new Set(), this._pendingTilesToUpdate = new Set(), this.totalGeometryUpdates = 0, this.totalTileUpdates = 0, this._oneBatchPerFrameTask = !0, this._layerViewsDirty = !1, this.unloadedMemory = 0, this.ignoresMemoryFactor = !1, this._isWebMercator = !1, this._isWebMercatorOnPlateCarree = !1, this.overlayManager = new oe({\n      ...e,\n      surface: this\n    }), this._isGlobal = !e.view?.state?.isLocal, this._isGeographic = this._spatialReference?.isGeographic ?? !1, this._tileConstructor = this._isGlobal ? ue : he;\n  }\n  initialize() {\n    const e = this.view,\n      t = e.resourceController,\n      i = t.memoryController;\n    this._tileCache = new h((e, t) => i.newCache(e, t), \"terrain-tile\"), this._upsampleMapCache = i.newCache(\"terrain-upsample\", e => e.unloadMapData()), this._elevationQueryCache = new $(i.newCache(\"elevation-query\"));\n    const r = this.overlayManager;\n    this._renderer = new ye(r.renderer, e._stage, this._allTiles, b(e.spatialReference).radius, i), this.addHandles([_(() => r.renderer.isEmpty, () => this._evaluateTransparency()), _(() => this.renderer.visible, e => this.suspended = !e), _(() => this.heading, e => {\n      this._renderer.updateHeading(e), this._updateTileTextures(ae.FADING);\n    }), _(() => ({\n      heading: e.camera?.heading,\n      state: e.state?.mode\n    }), ({\n      heading: e,\n      state: t\n    }) => {\n      if (null == e) return;\n      if (this.isGlobal && this.isGeographic || this.isWebMercatorOnPlateCarree) return void (this.heading = 90 * Math.round(e / 90) % 360);\n      const i = Math.round(e) % 360,\n        r = Math.abs(i - this.heading);\n      (t === et.IDLE || Math.min(r, 360 - r) >= 30) && (this.heading = i);\n    })], \"overlayManager\"), this.addHandles([_(() => this.baseOpacity, () => {\n      this._handleLayerViewChanges(), this._updateTileTextures(this._evaluateTransparency() ? ae.UNFADED : ae.IMMEDIATE);\n    }, m), _(() => this.hasCompositeBlendMode, () => this._updateTileTextures(this._evaluateTransparency() ? ae.UNFADED : ae.IMMEDIATE), m), _(() => this.backgroundColor, (e, t) => {\n      e?.equals(t) || (this._handleLayerViewChanges(), this._renderer.updateTileBackground(e));\n    }, f), _(() => this.snapLevel, () => this._viewChanged = !0, f), _(() => this.view.pointsOfInterest, e => {\n      this._renderer.pointsOfInterest = e, this._watchUpdatingTracking.removeAll(), e && this._watchUpdatingTracking.add(() => e.focus.renderLocation, () => this._allTilesSorted = !1);\n    }), _(() => z.TERRAIN_TILE_TREE_SHOW_TILES, t => {\n      t && !this._treeDebugger ? import(\"../layers/support/TerrainTileTree3DDebugger.js\").then(({\n        TerrainTileTree3DDebugger: t\n      }) => {\n        !this._treeDebugger && z.TERRAIN_TILE_TREE_SHOW_TILES && (this._treeDebugger = new t({\n          view: e\n        }));\n      }) : t || (this._treeDebugger = o(this._treeDebugger));\n    }, T)]);\n    const {\n      spatialReference: a\n    } = e;\n    this._extentHelper = re(this.viewingMode, {\n      layers: e.map.allLayers,\n      layerViews: e.allLayerViews,\n      viewSpatialReference: a\n    });\n    const n = new s({\n        getCollections: () => e.defaultsFromMap?.mapCollections?.map(({\n          layers: e\n        }) => e),\n        getChildrenFunction: e => e && \"layers\" in e ? e.layers : null\n      }),\n      l = new ze({\n        layers: n,\n        extentHelper: this._extentHelper,\n        viewingMode: this.viewingMode,\n        viewSpatialReference: a\n      });\n    this._set(\"tilingSchemeLogic\", l), this._updateTilingScheme(), this._elevationDataRequester = t.createStreamDataRequester(J.ELEVATION), this._mapDataRequester = t.createStreamDataRequester(J.BASEMAP);\n    const d = t.scheduler;\n    this._frameTask = d.registerTask(it.TERRAIN_SURFACE, this), this.addHandles([_(() => this._extentHelper.stencilEnabledExtents, e => this._renderer.setStencilEnabledLayerExtents(e), T), _(() => this.tilingSchemeLogic.tilingScheme, () => this._updateTilingScheme(), f), _(() => this.extent, () => this._updateRootTiles(), T), e.on(\"resize\", () => this._viewChangeUpdate()), _(() => {\n      const t = e.state;\n      return [this._lodBias, this.lodSnapping, e.quality, t.camera, t.contentCamera, t.fixedContentCamera];\n    }, () => this._viewChangeUpdate(), m), _(() => e.qualitySettings?.fadeDuration, e => this._renderer.textureFadingEnabled = e > 0, T), _(() => e.qualitySettings?.physicallyBasedRenderingEnabled, e => this._renderer.pbrMode = e ? Je.Simplified : Je.Disabled, T), _(() => e.qualitySettings?.tiledSurface.elevationLevelDelta, () => this._updateAllTileGeometries()), _(() => this._userClippingExtent, () => this._updateClippingExtent(), f)]), this.addHandles(e.allLayerViews.on(\"after-changes\", () => this._layerViewsDirty = !0)), this._layerViewsDirty = !0, this._handleLayerViewChanges(), this._renderer.updateTileBackground(this.backgroundColor);\n  }\n  destroy() {\n    this._frameTask.remove(), this._watchUpdatingTracking.destroy(), this._removeAllTiles(), this._set(\"tilingSchemeLogic\", o(this.tilingSchemeLogic)), this._basemapLayerViewHandles.forEach((e, t) => this._unregisterTiledLayerView(t)), this._elevationDataRequester = null, this._mapDataRequester = null, this._set(\"overlayManager\", o(this.overlayManager)), this._tileCache = o(this._tileCache), Oe.prune(), this._treeDebugger = o(this._treeDebugger), this._renderer = o(this._renderer), this._iteratorPool = o(this._iteratorPool), this._upsampleMapCache = o(this._upsampleMapCache), this._elevationQueryCache = o(this._elevationQueryCache), this._set(\"view\", null), this._extentHelper = o(this._extentHelper), this._upsampleInfoPool = o(this._upsampleInfoPool), Q(), Ge();\n  }\n  get renderer() {\n    return this._renderer;\n  }\n  get frustum() {\n    return this._frustum;\n  }\n  get snapLevel() {\n    if (this.lodSnapping === se.ON) {\n      const e = this.view,\n        t = this.tilingScheme,\n        i = e.terrainScale;\n      if (t && i) {\n        const r = t.levelAtScale(i) + e.qualitySettings.tiledSurface.lodBias,\n          s = t.getMaxLod();\n        return Math.min(r, s || 1 / 0);\n      }\n    }\n    return null;\n  }\n  get lodSnapping() {\n    return this.view.qualitySettings.tiledSurface.reduceTileLevelDifferences ? se.ON : se.OFF;\n  }\n  get upsampleInfoPool() {\n    return this._upsampleInfoPool;\n  }\n  get upsampleMapCache() {\n    return this._upsampleMapCache;\n  }\n  get elevationQueryCache() {\n    return this._elevationQueryCache;\n  }\n  get _userClippingExtent() {\n    const {\n        spatialReference: e\n      } = this,\n      {\n        clippingArea: t\n      } = this.view;\n    if (null == t || null == e) return null;\n    const i = R(),\n      r = K(t, i, e) ? i : null,\n      s = this._get(\"extent\");\n    return A(r, s) ? s : r;\n  }\n  get rootTilesExtent() {\n    return this._rootTilesExtent;\n  }\n  get extent() {\n    const e = I(this.groundExtent, this._userClippingExtent, R()),\n      t = this._get(\"extent\");\n    return A(e, t) ? t : e;\n  }\n  get groundExtent() {\n    return null != this._tilingSchemeExtent ? this._tilingSchemeExtent : this._rootTilesExtent;\n  }\n  get _tilingSchemeExtent() {\n    return this.tilingSchemeLogic?.extent;\n  }\n  get updating() {\n    return this._hasPendingUpdates || (this._maxNumUpdating = 1), !!((this.running || this._watchUpdatingTracking?.updating || this._asyncWorkItems > 0) && this.ready && !this.suspended || this.overlayManager?.updating);\n  }\n  get running() {\n    return (this._hasPendingUpdates || this._viewChanged || this._allTilesDirty || !this._allTilesSorted || this._layerViewsDirty || this._scaleRangeQueries.updating || this._frameTask.updating) && this.ready && !this.suspended;\n  }\n  get updatingProgressValue() {\n    return this._maxNumUpdating = Math.max(this._pendingUpdates, this._maxNumUpdating), 1 - this._pendingUpdates / this._maxNumUpdating;\n  }\n  get baseOpacity() {\n    return this.view?.map?.ground?.opacity ?? 1;\n  }\n  set baseOpacity(e) {\n    this.view.map.ground.opacity = e;\n  }\n  get viewingMode() {\n    return this.view.state.viewingMode;\n  }\n  get ready() {\n    return null != this._rootTiles;\n  }\n  set renderOrder(e) {\n    this._renderer.renderOrder = e, this._set(\"renderOrder\", e);\n  }\n  get rootTiles() {\n    return this._rootTiles;\n  }\n  get spatialReference() {\n    return this.tilingScheme?.spatialReference ?? null;\n  }\n  get backgroundColor() {\n    return this.view?.map?.ground?.surfaceColor;\n  }\n  set backgroundColor(e) {\n    this.view.map.ground.surfaceColor = e;\n  }\n  set slicePlaneEnabled(e) {\n    this._renderer.slicePlaneEnabled = e, this._set(\"slicePlaneEnabled\", e), this._evaluateTransparency();\n  }\n  get tilingSchemeLocked() {\n    return this.tilingSchemeLogic?.tilingSchemeLocked ?? !1;\n  }\n  get wireframe() {\n    return this._renderer?.wireframe;\n  }\n  set wireframe(e) {\n    e !== this._renderer.wireframe && (this._renderer.wireframe = e, this._updateAllTileGeometries());\n  }\n  get opaque() {\n    return this._renderer.transparency === ve.Opaque;\n  }\n  set suspended(e) {\n    this._set(\"suspended\", e), this._viewChangeUpdate();\n  }\n  get fadeDuration() {\n    return this.view.qualitySettings.fadeDuration ?? 0;\n  }\n  intersect(e, t, i, r) {\n    this._renderer.intersect(e, t, i, r);\n  }\n  getElevationLevelDelta(e) {\n    return e < 4 ? 3 : this.view.qualitySettings.tiledSurface.elevationLevelDelta;\n  }\n  getElevation(e, t, i, r) {\n    const s = this._rootTiles;\n    if (!s?.length) return null;\n    if (0 === s[0].layerInfo[ne.ELEVATION].length) return null;\n    let a = this._elevationProjectorCache.get(r);\n    if (void 0 === a && (a = x(r, this._spatialReference) ?? null, this._elevationProjectorCache.set(r, a)), null == a) return n.getLogger(this).error(\"TerrainSurface.getElevation(): could not project given point to tiling scheme coordinate system\"), null;\n    const l = L(ot, e, t, i);\n    a(l, 0, l, 0);\n    return ct(s, l[0], l[1]);\n  }\n  getElevations(e, t, i) {\n    const r = this._rootTiles,\n      s = r ? r[0].layerInfo[ne.ELEVATION].length : 0;\n    if (r?.length && 0 !== s) for (let a = 0; a < t; ++a) {\n      const t = 3 * a;\n      i(a, ct(r, e[t], e[t + 1]));\n    } else for (let a = 0; a < t; ++a) i(a, null);\n  }\n  getScale(e) {\n    if (!this.tilingScheme) return null;\n    if (!U(e, ot, this.spatialReference)) return n.getLogger(this).error(\"TerrainSurface.getScale(): could not project given point to tiling scheme coordinate system\"), null;\n    const t = this._rootTiles;\n    if (null != t) for (const i of t) if (i?.containsPoint(ot)) {\n      let e = i;\n      for (; e.children[0] && !e.rendered;) {\n        const t = e.children[0].extent;\n        let i = 0;\n        ot[0] > t[2] && (i += 1), ot[1] < t[1] && (i += 2), e = e.children[i];\n      }\n      return this._getLodBiasCorrectedScale(e.level);\n    }\n    return 1 / 0;\n  }\n  _ensureSEBProject(e) {\n    const t = this._sebProjectorMap.get(e);\n    if (t) return t;\n    const i = x(e, this._tilingSchemeSpatialReference, this._sebProjectorCache) ?? null;\n    return this._sebProjectorMap.set(e, i), i;\n  }\n  getSphereElevationBounds(e, t) {\n    const i = this._ensureSEBProject(t);\n    if (null == i) return n.getLogger(this).error(\"TerrainSurface.getSphereElevationBounds(): could not project given point to tiling scheme coordinate system\"), null;\n    q(e, ht);\n    const r = F(ht);\n    i(r, 0, r, 0);\n    const s = new X(),\n      a = this._rootTiles;\n    if (null != a) {\n      const e = [];\n      for (const i of a) e.push(i);\n      let t = 0;\n      for (; t < e.length;) {\n        const i = e[t];\n        if (++t, !B(i.extent, ht)) continue;\n        const r = i.children;\n        if (null == r[0] || i.rendered) s.expandElevationRangeValues(i.elevationBoundsMin, i.elevationBoundsMax);else for (const t of r) e.push(t);\n      }\n    }\n    return s;\n  }\n  getRootElevationBounds() {\n    return new X(this.rootTileElevationBounds.min, this.rootTileElevationBounds.max);\n  }\n  getSphereScale(e, t) {\n    if (!this.tilingScheme) return null;\n    if (!U(e, F(ht), this.spatialReference)) return n.getLogger(this).error(\"TerrainSurface.getSphereScale(): could not project given point to tiling scheme coordinate system\"), null;\n    ht[3] = t;\n    let i = null;\n    const r = e => {\n        if (e && B(e.extent, ht)) {\n          const t = e.children;\n          if (t[0] && !e.rendered) for (const e of t) r(e);else {\n            const t = this._getLodBiasCorrectedScale(e.level);\n            i = null == i ? t : Math.min(i, t);\n          }\n        }\n      },\n      s = this._rootTiles;\n    if (null != s) for (const a of s) r(a);\n    return i;\n  }\n  queryVisibleScaleRange(e, t, i, r) {\n    const s = t ? this.tilingScheme.levelAtScale(t) : 0,\n      a = i ? this.tilingScheme.levelAtScale(i) : 1 / 0,\n      n = this._lodBias;\n    this._scaleRangeQueries.queryVisibleLevelRange(e, s + n, a + n, r);\n  }\n  _evaluateTransparency() {\n    const e = this.baseOpacity,\n      t = this.overlayManager.renderer.isEmpty,\n      i = this._renderer.transparency,\n      r = this._allSurfaceLayersTransparent() ? t ? ve.Empty : ve.TransparentWithDraped : e >= 1 && !this.hasCompositeBlendMode && !this._renderer.slicePlaneEnabled ? ve.Opaque : ve.Semitransparent,\n      s = i !== r;\n    return s && (this._renderer.transparency = r, this.view?._stage?.renderer.setParameters({\n      terrainTransparency: this._renderer.transparency\n    })), s;\n  }\n  _updateTilingScheme() {\n    const e = this.tilingSchemeLogic.tilingScheme;\n    if (!(e !== this.tilingScheme)) return;\n    Se(!!e, \"tiling scheme cannot be reset to undefined\"), this._isGlobal = !this.view?.state?.isLocal, this.tilingScheme && this._removeAllTiles();\n    const t = e?.spatialReference ?? M.WebMercator;\n    this._spatialReference = t, this._isWebMercator = !!t?.isWebMercator, this._isWebMercatorOnPlateCarree = this._isWebMercator && G(this.view?.renderSpatialReference), this._isGeographic = t?.isGeographic ?? !1, this._set(\"tilingScheme\", e), this._tilingSchemeSpatialReference = this.tilingScheme?.spatialReference, this._sebProjectorMap.clear(), this._updateClippingExtent(), e && (this._updateTiledLayers(), this._renderer.setTileSize(e.pixelSize), this.overlayManager.setSpatialReference(e.spatialReference), this._updateRootTiles());\n  }\n  _acquireTile(e, t, i, r) {\n    const s = this._tileCache.pop(at._tileMemcacheKey);\n    return s ? (s.init(e, t, i, r, this), s) : new this._tileConstructor(e, t, i, r, this);\n  }\n  get updatingRootTiles() {\n    return this._updatingRootTiles;\n  }\n  _updateRootTiles() {\n    const {\n      extent: e,\n      tilingScheme: t\n    } = this;\n    if (!t) return;\n    const i = dt;\n    let s = t.rootTilesInExtent(e, i, 5 * ge);\n    if (null != this._rootTiles) {\n      if (s.length > ge) return void n.getLogger(this).warn(_e);\n      const e = this._rootTiles.map(e => e.lij),\n        t = r(e, s, Ne);\n      if (this._updatingRootTiles = !0, t.removed.length > 0 || t.added.length > 0) {\n        const e = this._rootTiles.filter(e => !(t.removed.findIndex(t => Ne(t, e.lij)) > -1) || (this._purgeTile(e), !1));\n        t.added.forEach(t => e.push(this._newRootTile(t))), this._setRootTiles(e);\n      }\n    } else this._updatingRootTiles = !0, s.length > ge && (n.getLogger(this).warn(me), s = t.rootTilesInExtent(e, i, ge)), this._setRootTiles(s.map(e => this._newRootTile(e)));\n    A(i, this._rootTilesExtent) || (this._rootTilesExtent = R(i)), this.renderer.visible = !0, this._viewChangeUpdate(), this.overlayManager.setPlacementDirty(), this.notifyChange(\"ready\"), this._updateAllTileGeometries(), this._updatingRootTiles = !1, this.checkAllTilesWaterproofness();\n  }\n  _updateAllTileGeometries() {\n    const e = this._allTiles.filter(e => e.isLoaded && e.intersectsClippingArea);\n    e.sort($e), e.forEach(e => this._renderer.updateTileGeometryState(e)), e.forEach(e => e.renderData.updateNeighborData()), this._updateTilesGeometries(e), this._pendingTilesToUpdate.clear();\n  }\n  _updateTilesGeometries(e) {\n    if (0 === e.length) return;\n    e.sort($e);\n    const t = this.renderer;\n    e.forEach(e => t.updateGeometryIfNeeded(e)), e.forEach(e => this._pendingTilesForElevationUpdateEvent.add(e));\n  }\n  _shouldSplit(e) {\n    return e.shouldSplit(this._splitLimits, this._eyePosRenderSR, this.snapLevel) === qe.SPLIT;\n  }\n  _newRootTile(e) {\n    const t = this._acquireTile(0, e[1], e[2], null);\n    return this._shouldSplit(t) && t.setPendingUpdate(qe.SPLIT), this._loadTile(t), this._markTileToUpdate(t), this._updateRootTileElevationBounds(), t;\n  }\n  _setRootTiles(e) {\n    if (this._rootTiles = e, this._allTiles.clear(), null != e) {\n      const t = this._iteratorPool.acquire();\n      for (t.reset(e); !t.done;) this._allTiles.push(t.next());\n      t.remove();\n    }\n    this._renderer.setRootTiles(this._rootTiles), this._updateTilesVisibility(e);\n  }\n  _runViewChangeUpdateIfDirty() {\n    this._viewChangeUpdateDirty && (this._viewChangeUpdateDirty = !1, this._viewChangeUpdate());\n  }\n  _viewChangeUpdate() {\n    this.view && !this.suspended && this.tilingScheme && this.renderer.visible && (this._inFrameTask ? this._viewChangeUpdateDirty = !0 : (this._viewChangeUpdateDirty = !1, this._updateViewDependentParameters(), this._updateTilesVisibility(this._rootTiles)));\n  }\n  _updateClippingStatus(e) {\n    e.updateClippingStatus(this.extent) && e.resetPendingUpdate(qe.GEOMETRY) && this._updateTileGeometryState(e);\n  }\n  _updateTilesVisibility(e) {\n    if (null == e) return;\n    const t = He(e),\n      i = this.visibleElevationBounds;\n    let r = t ? i.min : 1 / 0,\n      s = t ? i.max : -1 / 0;\n    const a = this.extent,\n      n = this._viewProjectionMatrix;\n    this.setTileTreeDirty();\n    const l = this._iteratorPool.acquire();\n    for (l.reset(e); !l.done;) {\n      const e = l.next();\n      e.updateClippingStatus(a) && e.resetPendingUpdate(qe.GEOMETRY) && this._updateTileGeometryState(e), e.computeVisibility(), e.updateScreenDepth(n), e.renderData && (r = Math.min(e.elevationBoundsMin, r), s = Math.max(e.elevationBoundsMax, s));\n    }\n    l.remove(), this._viewChanged = !0, this._allTilesDirty = !0, this._updatePendingTileGeometries(), isFinite(r) && isFinite(s) && (i.min !== r || i.max !== s) && (this.visibleElevationBounds = new ee(r, s));\n  }\n  _updateRootTileElevationBounds() {\n    let e = 1 / 0,\n      t = -1 / 0;\n    const i = this._rootTiles;\n    null != i && i.forEach(({\n      elevationBoundsMin: i,\n      elevationBoundsMax: r\n    }) => {\n      e = Math.min(e, i), t = Math.max(t, r);\n    });\n    const r = this.rootTileElevationBounds;\n    r.min === e && r.max === t || (this.rootTileElevationBounds = new ee(e, t));\n  }\n  _updateViewDependentParameters() {\n    const {\n        camera: e,\n        contentCamera: t\n      } = this.view.state,\n      i = Math.tan(.5 * t.fovX),\n      r = Math.tan(.5 * t.fovY),\n      s = this.tilingScheme.pixelSize,\n      a = 2 ** -this._lodBias * e.pixelRatio;\n    this._splitLimits.aboveGround = e.aboveGround, this._splitLimits.fovX = i, this._splitLimits.fovY = r, this._splitLimits.relativeWidthLimit = s / e.width * this.maxTextureScale * a, this._splitLimits.relativeHeightLimit = s / e.height * this.maxTextureScale * a, this._splitLimits.maxLod = this.tilingScheme.getMaxLod(), this._splitLimits.angledSplitBias = this.view.qualitySettings.tiledSurface.angledSplitBias, this.view.state.fixedContentCamera ? this._splitLimits.frustum = N(this._splitLimits.frustum ?? O(), t.frustum) : this._splitLimits.frustum = null, N(this._frustum, e.frustum), E(this._viewProjectionMatrix, t.projectionMatrix, t.viewMatrix), w(this._eyePosRenderSR, t.eye), j(e.eye, this.view.renderSpatialReference, this._eyePosSurfaceSR, this.spatialReference);\n  }\n  _updateTileGeometryState(e) {\n    e.updateVisibility();\n    this._renderer.updateTileGeometryState(e) && this._markTileToUpdate(e), this._usedMemory = null;\n  }\n  _markAllTileNeighborsForUpdate(e) {\n    e.forEachLoadedNeighbor(e => {\n      this._layerViews[ne.MAP].some(Le) && e.setPendingUpdate(qe.TEXTURE_FADING), this._pendingTilesToUpdate.add(e);\n    });\n  }\n  _updateTileTexture(e, t) {\n    const i = e.resetPendingUpdate(qe.TEXTURE_FADING) ? qe.TEXTURE_FADING : !!e.resetPendingUpdate(qe.TEXTURE_NOFADING) && qe.TEXTURE_NOFADING;\n    i && (this._renderer.updateTileTexture(e, i), this._usedMemory = null, t.madeProgress());\n  }\n  _emitElevationUpdateEventForTiles() {\n    if (!this._shouldEmitChangeEvent) return;\n    const e = pt.extent;\n    V(e), this._pendingTilesForElevationUpdateEvent.forEach(t => k(e, t.extent, e)), this._pendingTilesForElevationUpdateEvent.clear(), pt.spatialReference = this.spatialReference, this.emit(\"elevation-change\", pt), this._shouldEmitChangeEvent = !1;\n  }\n  runTask(e) {\n    this._handleLayerViewChanges(e), this._frameTask.processQueue(e), this.renderer.processScaleRangeQueries(this._scaleRangeQueries, e), this._inFrameTask = !0, this._pendingUpdates = 0, this._hasPendingUpdates = !1, this._updateAllTilesStatus(e), this._sortTiles(e);\n    const t = !this.view.state.fixedContentCamera;\n    if (this._mergeAndSplit(e, t), this._updateElevation(e), this._updateTextures(e), t || this._mergeAndSplit(e, !0), this._inFrameTask = !1, this._runViewChangeUpdateIfDirty(), this._updatePendingTileGeometries(), this._emitElevationUpdateEventForTiles(), e.done && e.hasProgressed && this.requestUpdate(), this.notifyChange(\"updatingProgressValue\"), Re && this._checkTileInvariant(), !e.hasProgressed) return st;\n  }\n  _checkTileInvariant() {\n    const e = new Map();\n    this._allTiles.forAll(t => e.set(t, new Set())), this._allTiles.forAll(t => {\n      if (Se(t.rendered === t.isLeaf, ` rendered ${t.rendered} != ${t.isLeaf} leaf`), !t.isLeaf) {\n        const e = e => 0 === e.unmergableChildCount && 0 === e.maxLevelDeltaNeighborCount,\n          i = t.children.reduce((t, i) => t + (e(i) ? 0 : 1), 0);\n        if (Se(t.unmergableChildCount === i, ` Tile[${t.lij.toString()}] unmergeable child count mismatch: actual ${t.unmergableChildCount} vs ${i}`), t.hasPendingUpdate(qe.MERGE)) {\n          Se(!t.hasPendingUpdate(qe.SPLIT), \"Tile can be both split and merge at the same time\");\n          for (const e of t.children) Se(e.isLeaf || e.hasPendingUpdate(qe.MERGE), \"Child of tile to merge must also merge\");\n        }\n      }\n      for (let i = 0; i < 4; ++i) {\n        if (t.rendered) {\n          const e = t.renderData?.geometryState.edgePeerNeighbors[i];\n          if (null != e) {\n            {\n              const r = t.level - e.level <= fe;\n              r || (console.log(`tile level delta [${t.lij.toString()}] vs [${e.lij.toString()}] > ${fe}  (edge[${i}])`), Se(r, `tile level delta [${t.level}] vs [${e.level}] > ${fe}`));\n            }\n            Se(t.level - e.level <= fe, `Max tile lod delta exceeded: [${t.lij.toString()}] vs [${e.lij.toString()}]`);\n          }\n        }\n        const r = t.level - fe,\n          s = e => e.isLeaf || e.level === t.level,\n          a = t.findNeighborTile(we[i], s);\n        if (null != a) {\n          if (t.isLeaf && t.level >= fe) {\n            let i = a;\n            for (; t.level - i.level < fe;) i = i.parent;\n            const s = [r, t.lij[1] >> fe, t.lij[2] >> fe];\n            if (!Ne(s, i.lij)) {\n              const r = e.get(i);\n              Se(!r.has(t), \"Cannot already have neighbor\"), r.add(t);\n            }\n          }\n          Se(a.rendered || a.level === t.level, \"Non-same-level-neighbor of rendered must be rendered\"), Se(t.level - a.level <= fe, `Tile level delta [${t.level}] vs [${a.level}] > ${fe}`);\n        }\n      }\n    }), this._allTiles.forAll(t => {\n      const i = t.maxLevelDeltaNeighborCount,\n        r = e.get(t);\n      Se(i === r.size, `Tile[${t.lij.toString()}] merge-blocker mismatch: actual ${i} vs ${r.size}`);\n    });\n  }\n  _updateAllTilesStatus(e) {\n    if (!this._viewChanged || !this._rootTiles || e.done) return;\n    this._viewChanged = !1;\n    const t = new gt(this._allTiles.length);\n    t.pushAll(this._rootTiles);\n    const i = this.snapLevel,\n      r = this._splitLimits,\n      s = this._eyePosRenderSR;\n    this._allTiles.forAll(e => {\n      e.maxLevelDeltaNeighborCount = 0, e.unmergableChildCount = 0;\n    });\n    const a = this._viewProjectionMatrix;\n    for (; !t.empty;) {\n      const e = t.pop(),\n        n = e.parent,\n        l = null != n && n.hasPendingUpdate(qe.MERGE),\n        o = l ? qe.MERGE : e.shouldSplit(r, s, i),\n        h = o === qe.SPLIT;\n      e.isLeaf ? _t(e, h) : t.pushAll(e.children), l ? (e.resetPendingUpdate(qe.SPLIT), e.isLeaf || e.setPendingUpdate(qe.MERGE), this._updateClippingStatus(e), e.updateVisibility(), e.updateScreenDepth(a)) : h ? (e.resetPendingUpdate(qe.MERGE), e.isLeaf && e.setPendingUpdate(qe.SPLIT)) : (e.resetPendingUpdate(qe.SPLIT) && e.updateAgentSuspension(), o === qe.ELEVATION && e.updateAgents(ne.ELEVATION), e.isLeaf || (e.setPendingUpdate(qe.MERGE), e.resetPendingUpdate(qe.SPLIT)));\n    }\n    this.requestUpdate(), (this._shortBatches || !this._oneBatchPerFrameTask) && this._updatePendingTileGeometries(), e.madeProgress();\n  }\n  _sortTiles(e) {\n    e.done || this._allTilesSorted || (Qe(this._allTiles, this.view.pointsOfInterest.focus.renderLocation), this._allTilesSorted = !0, this._treeDebugger && this._treeDebugger.update(), e.madeProgress());\n  }\n  _markTileToUpdate(e) {\n    Pe(e.isLoaded), e.intersectsClippingArea && (this._pendingTilesToUpdate.add(e), this._markAllTileNeighborsForUpdate(e));\n  }\n  _updatePendingTileGeometries() {\n    const e = this._pendingTilesToUpdate,\n      t = Array.from(e.keys()).filter(e => e.isLoaded && e.intersectsClippingArea);\n    if (0 === t.length) return void e.clear();\n    const i = (i, r) => {\n      !r?.isLoaded || !r.intersectsClippingArea || r.level < i.level || e.has(r) || (e.add(r), t.push(r), r.renderData.updateNeighborData());\n    };\n    t.sort($e);\n    const r = t.length;\n    for (let s = 0; s < r; ++s) {\n      const r = t[s];\n      Pe(r.isLoaded), Pe(r.intersectsClippingArea);\n      const a = r.renderData;\n      a.updateNeighborData();\n      const n = a.dirtyEdgeResolutions,\n        l = a.geometryState,\n        o = e => {\n          const t = Ae[e];\n          i(r, l.cornerPeerNeighbors[e]?.findCorner(Ie(t), e => e.isLoaded));\n        };\n      for (let t = 0; t < 4; ++t) if (n & 1 << t) {\n        const s = a.geometryState.edgePeerNeighbors[t];\n        s && s?.level >= r.level && s.forAllSubtreeOnSide(Ce(we[t]), t => !(!t.isLoaded || !t.intersectsClippingArea) && (Pe(e.has(t) || $e(r, t) < 0), i(r, t), !0)), o((t + 1) % 4), o(t);\n      }\n    }\n    e.clear(), this._updateTilesGeometries(t), this._shouldEmitChangeEvent = !0, Re && Be && this.checkAllTilesWaterproofness();\n  }\n  _mergeAndSplit(e, t) {\n    if (this.suspended || e.done || !this._allTilesDirty) return;\n    this._allTilesDirty = !1, this.requestUpdate();\n    let i = !1;\n    const r = this.view.state.fixedContentCamera;\n    let s = !1;\n    for (; !e.done;) {\n      s = !0;\n      let a = !1;\n      const n = !this._allTiles.some(s => {\n        if (!i && !r && !s.visible) return e.done;\n        let n = s;\n        if (s.hasPendingUpdate(qe.MERGE)) {\n          if (!t || s.unmergableChildCount > 0) return e.done;\n          for (s.resetPendingUpdate(qe.MERGE); null != n.parent && 0 === n.parent.unmergableChildCount && n.parent.resetPendingUpdate(qe.MERGE);) n = n.parent;\n          this._mergeTile(n), a = !0, e.madeProgress();\n        } else if (s.resetPendingUpdate(qe.SPLIT)) {\n          let t = !0;\n          const i = s.level;\n          if (i >= fe) {\n            const e = e => e.isLeaf || i - e.level < fe;\n            for (let r = 0; r < 4; ++r) {\n              const a = s.findNeighborTile(we[r], e);\n              null != a && i - a.level === fe && (t = !1, Re && (Pe(a.isLeaf), Pe(a.hasPendingUpdate(qe.SPLIT))));\n            }\n          }\n          t ? (this._splitTile(s), e.madeProgress(), a = !0) : s.setPendingUpdate(qe.SPLIT);\n        }\n        return e.done;\n      });\n      if (a && (this._allTilesSorted = !1, this._allTilesDirty = !0, !this._oneBatchPerFrameTask && this._updatePendingTileGeometries()), n) {\n        if (!i) {\n          i = !0;\n          continue;\n        }\n        if (!a) break;\n      } else this._allTilesDirty = !0;\n    }\n    s ? e.madeProgress() : this._allTilesDirty = !0, !this._oneBatchPerFrameTask && this._updatePendingTileGeometries(), this._sortTiles(e);\n  }\n  _updateElevation(e) {\n    e.done || (this._allTiles.some(t => (t.resetPendingUpdate(qe.GEOMETRY) && (this._updateTileGeometryState(t), this._shortBatches && this._updatePendingTileGeometries(), e.madeProgress()), e.done)), !this._oneBatchPerFrameTask && this._updatePendingTileGeometries());\n  }\n  _updateTextures(e) {\n    e.done || this._allTiles.some(t => (this._updateTileTexture(t, e), e.done));\n  }\n  _updateClippingExtent() {\n    this.spatialReference && (this.updateTileOverlayParams(Ze.UPDATE), this.overlayManager.setPlacementDirty(), this._updateRootTiles());\n  }\n  get _lodBias() {\n    const e = this.view.quality;\n    return this.view.qualitySettings.tiledSurface.lodBias - (1 - e) * Te;\n  }\n  _getLodBiasCorrectedScale(e) {\n    const t = this.tilingScheme.levels,\n      i = l(e - this._lodBias, 0, t.length - 1),\n      r = i - Math.floor(i);\n    return t[Math.floor(i)].scale * (1 - r) + t[Math.ceil(i)].scale * r;\n  }\n  _removeAllTiles() {\n    null != this._rootTiles && (this._rootTiles.forEach(e => this._purgeTile(e)), this._setRootTiles(null), this.notifyChange(\"ready\")), this._allTiles.clear(), this.renderer.visible = !1;\n  }\n  _purgeDescendantTiles(e) {\n    if (!e.children[0]) return;\n    const t = e.children.slice();\n    e.unsetChildren();\n    for (let i = 0; i < 4; ++i) this._purgeTile(t[i]);\n  }\n  _purgeTile(e) {\n    e.isLeaf ? ft(e) : this._purgeDescendantTiles(e), this._allTiles.removeUnordered(e), this._unloadTile(e), this._tileCache.put(at._tileMemcacheKey, e);\n  }\n  _unloadTile(e) {\n    this._pendingTilesToUpdate.delete(e), this._pendingTilesForElevationUpdateEvent.delete(e), e.unload(this._renderer);\n  }\n  _splitTile(e) {\n    Se(e.isLeaf, \"Tile that is already split should not be split again!\"), Se(e.rendered, \"Tile marked to split is not rendered\"), ft(e);\n    const t = e.level + 1,\n      i = 2 * e.lij[1],\n      r = 2 * e.lij[2],\n      s = e.setChildren(this._createTile(t, i, r, e), this._createTile(t, i, r + 1, e), this._createTile(t, i + 1, r, e), this._createTile(t, i + 1, r + 1, e));\n    this._allTiles.pushArray(s), e.updateAgentSuspension(), Se(e.rendered, \"parent should be rendered\"), this._unloadTile(e), s.forEach(e => this._loadTile(e)), s.forEach(e => this._pendingTilesToUpdate.add(e)), this._markAllTileNeighborsForUpdate(e), this._emitTileScaleChange(e, e.level + 1), this._allTilesDirty = !0, this._shortBatches && this._updatePendingTileGeometries(), s.forEach(e => _t(e, e.hasPendingUpdate(qe.SPLIT))), ++this._performanceInfo.numSplit;\n  }\n  _emitTileScaleChange(e, t = e.level) {\n    ut.spatialReference = this.spatialReference, ut.extent = e.extent, ut.scale = this._getLodBiasCorrectedScale(t), this.emit(\"scale-change\", ut);\n  }\n  _createTile(e, t, i, r) {\n    Se(!!r, \"_createTile sanity check\");\n    const s = this._acquireTile(e, t, i, r);\n    return s.updateClippingStatus(this.extent), s.updateScreenDepth(this._viewProjectionMatrix), this._shouldSplit(s) && s.setPendingUpdate(qe.SPLIT), s;\n  }\n  get _shortBatches() {\n    return this.view.state.mode !== et.IDLE;\n  }\n  _mergeTile(e) {\n    Se(!e.hasPendingUpdate(qe.SPLIT), \"_mergeTile sanity check\"), Se(!e.isLeaf, \"Cannot merge a leaf\"), e.isLeaf || (this._purgeDescendantTiles(e), Se(!e.renderData, \"_mergeTile sanity check\"), this._loadTile(e), this._markTileToUpdate(e), this._emitTileScaleChange(e), this._shortBatches && this._updatePendingTileGeometries(), _t(e, !1), this._allTilesDirty = !0, ++this._performanceInfo.numMerged);\n  }\n  _loadTile(e) {\n    e.load(), this.requestUpdate(), this._allTilesDirty = !0, this.overlayManager && this.overlayManager.hasOverlays && this.overlayManager.setTileParameters(e);\n  }\n  _handleLayerViewChanges(e = rt) {\n    if (!this._layerViewsDirty) return;\n    this._layerViewsDirty = !1;\n    let t = !1;\n    const i = new Set();\n    let r = -1;\n    for (let s = this.view.allLayerViews.length - 1; s >= 0; s--) {\n      const e = this.view.allLayerViews.items[s];\n      if (i.add(e.uid), be(e) || Me(e)) if (this._basemapLayerViewHandles.has(e.uid) && !Me(e)) {\n        const i = this._layerClassFromLayerView(e),\n          s = this._getLayerIdxByUID(i, e.uid);\n        null != s && ((s < r || null == r) && (t = !0), r = s);\n      } else this._registerTiledLayerView(e), e.layer.loaded && (t = !0);\n    }\n    this._basemapLayerViewHandles.forEach((e, r) => {\n      i.has(r) || (this._unregisterTiledLayerView(r), t = !0);\n    }), t && this._updateTiledLayers(), this.hasCompositeBlendMode = this._hasCompositeBlendMode(), this._evaluateTransparency(), e.madeProgress();\n  }\n  _allSurfaceLayersTransparent() {\n    let e = 0 === this.view.map?.ground?.opacity;\n    for (const t of this.view.allLayerViews.items) if (De(t) && !H(t.layer) && 0 !== t.fullOpacity) return e = !1, e;\n    return e;\n  }\n  _hasCompositeBlendMode() {\n    for (const e of this.view.allLayerViews.items) if ((xe(e) || Me(e)) && Ye(Ke[e.layer.blendMode])) return !0;\n    return !1;\n  }\n  _layerClassFromLayerView(e) {\n    return Ue(e) ? ne.ELEVATION : ne.MAP;\n  }\n  _registerTiledLayerView(e) {\n    const t = [];\n    if ((xe(e) || Me(e)) && t.push(_(() => e.layer.blendMode, () => {\n      this.hasCompositeBlendMode = this._hasCompositeBlendMode(), this._updateTileTextures(ae.UNFADED);\n    })), !Me(e)) {\n      const i = this._layerClassFromLayerView(e);\n      t.push(_(() => e.suspended, () => this._updateTiledLayers())), t.push(_(() => e.fullOpacity, () => this._updateTileTextures(ae.UNFADED))), t.push(_(() => \"effectiveScaleRange\" in e.layer ? e.layer.effectiveScaleRange : null, () => this._restartAllAgents(i))), t.push(e.on(\"data-changed\", () => {\n        const t = this._getLayerIdxByUID(i, e.uid);\n        null != t && this._invalidateLayerData(t, i);\n      }));\n    }\n    this._unregisterTiledLayerView(e.uid), this._basemapLayerViewHandles.set(e.uid, t);\n  }\n  _unregisterTiledLayerView(e) {\n    const t = this._basemapLayerViewHandles.get(e);\n    if (t) {\n      for (const e of t) e.remove();\n      this._basemapLayerViewHandles.delete(e);\n    }\n  }\n  _updateTiledLayers() {\n    if (!this.tilingScheme || this.view.suspended) return;\n    const e = this.view.allLayerViews,\n      t = [[], []];\n    let i = null;\n    e.forEach(e => {\n      if (!e.layer || e.suspended || !be(e) || !e.fullExtent) return;\n      const r = this._layerClassFromLayerView(e);\n      if (r === ne.MAP) {\n        const t = e.displayLevelRange.maxLevel;\n        t !== 1 / 0 && (null === i || t > i) && (i = t);\n      }\n      t[r].push(e);\n    });\n    for (const r of le) {\n      const e = this._layerViews[r],\n        i = t[r];\n      i.reverse();\n      const s = i.length;\n      let a = e.length !== s;\n      const n = new Array(s),\n        l = new Array(e.length);\n      this._layerIndexByUid[r].clear();\n      for (let t = 0; t < s; t++) {\n        const s = i[t].uid;\n        this._layerIndexByUid[r].set(s, t);\n        const o = e.indexOf(i[t]);\n        n[t] = o, t !== o && (a = !0), o > -1 && (l[o] = t);\n      }\n      if (a) {\n        const e = this._postorderIterator;\n        for (e.reset(this._rootTiles); !e.done;) e.next().modifyLayers(l, n, r);\n        this._layerViews[r] = i, this._restartAllAgents(r), this._updateTilesVisibility(this._rootTiles);\n      }\n    }\n    this.tilingScheme.ensureMaxLod(i) && (this._viewChangeUpdate(), this.notifyChange(\"tilingScheme\"));\n  }\n  _restartAllAgents(e) {\n    const t = this._postorderIterator;\n    for (t.reset(this._rootTiles); !t.done;) {\n      const i = t.next();\n      i.restartAgents(e), e === ne.ELEVATION && i.computeElevationBounds();\n    }\n    this._updateRootTileElevationBounds();\n  }\n  layerViewByIndex(e, t) {\n    return this._layerViews[t][e];\n  }\n  numLayers(e) {\n    return this._layerViews[e].length;\n  }\n  _updateTileTextures(e) {\n    this._allTiles.forAll(t => {\n      t.updateAgents(ne.MAP), e === ae.IMMEDIATE ? this.renderer.updateTileTexture(t, qe.TEXTURE_NOFADING) : t.updateRenderData(ne.MAP, e);\n    }), this._evaluateTransparency();\n  }\n  _invalidateLayerData(e, t) {\n    this._allTiles.forAll(i => i.removeLayerAgent(e, t)), this._allTiles.forAll(i => i.invalidateLayerData(e, t));\n  }\n  setTileTreeDirty() {\n    this._allTilesDirty = !0;\n  }\n  requestRender(e = Ze.UPDATE) {\n    this.renderer.setNeedsRender(e);\n  }\n  requestUpdate() {\n    1 == ++this._pendingUpdates && (this._hasPendingUpdates = !0);\n  }\n  requestTileData(e, t, i, r) {\n    const s = this.layerViewByIndex(t, i),\n      a = s.layer;\n    return !a.tilemapCache || Le(s) ? this._requestTileData(e, i, s, r) : (++this._asyncWorkItems, a.tilemapCache.fetchAvailability(e.lij[0], e.lij[1], e.lij[2], {\n      ...r,\n      timeout: 6e3\n    }).then(() => --this._asyncWorkItems).catch(t => {\n      throw --this._asyncWorkItems, u(r), c(t) || this._dataMissing(e, i, s), t;\n    }).then(() => this._frameTask.schedule(() => this._requestTileData(e, i, s, r), r.signal)));\n  }\n  _requestTileData(e, t, i, r) {\n    const s = t === ne.ELEVATION;\n    return r.requester ??= s ? this._elevationDataRequester : this._mapDataRequester, s ? Ue(i) ? this._requestElevationTileData(e, i, r) : Promise.reject() : De(i) ? this._requestMapTileData(e, i, r) : Promise.reject();\n  }\n  _requestElevationTileData(e, t, i) {\n    ++this._asyncWorkItems;\n    const r = r => {\n        !g(i) && r && (this._usedMemory = null, this.requestUpdate(), this._elevationDataArrived(e, t, r));\n      },\n      s = i => {\n        c(i) || (n.getLogger(this).error(`Tile ${e.lij.toString()} layer ${ne.ELEVATION}/${t.uid} error ${i}`), this._dataMissing(e, ne.ELEVATION, t), this.requestUpdate());\n      };\n    return t.fetchTile(e.lij, i).then(e => this._frameTask.schedule(() => r(e)), s).finally(() => --this._asyncWorkItems);\n  }\n  _elevationDataArrived(e, t, i) {\n    const r = this._layerIndexByUid[ne.ELEVATION].get(t.uid);\n    if (null == r) return void n.getLogger(this).warn(\"TerrainSurface: received data from unknown layer %d %s\", ne.ELEVATION, e.lij.toString());\n    const s = new te(e.lij, e.extent, i);\n    e.dataArrived(r, ne.ELEVATION, s);\n    const a = [e],\n      l = e.level,\n      o = this._iteratorPool.acquire();\n    for (o.reset(a); !o.done;) {\n      const e = o.next();\n      e.findElevationBoundsForLayer(r, l), e.computeElevationBounds();\n    }\n    0 === l && this._updateRootTileElevationBounds(), o.remove(), this._updateTilesVisibility(a);\n  }\n  _requestMapTileData(e, t, i) {\n    ++this._asyncWorkItems;\n    const r = (r, s) => {\n        je(s), g(i) || (console.error(`Tile ${e.lij.toString()} layer ${ne.MAP}/${t.uid} error ${r}`), this._dataMissing(e, ne.MAP, t), this.requestUpdate());\n      },\n      s = e => t => r(t, e),\n      a = r => this._frameTask.schedule(() => {\n        this.requestUpdate(), g(i) ? je(r) : this._mapTileDataArrived(e, t, r);\n      }, i.signal, s(r)).catch(s(r)),\n      n = (e, t = null) => this._frameTask.schedule(() => r(e, t));\n    return t.fetchTile(e.lij, i).then(a, n).finally(() => --this._asyncWorkItems);\n  }\n  _mapTileDataArrived(e, t, i) {\n    const r = this._getLayerIdxByUID(ne.MAP, t.uid);\n    if (null == r) return je(i), void n.getLogger(this).warn(\"TerrainSurface: received data from unknown layer\");\n    e.dataArrived(r, ne.MAP, i);\n  }\n  _getLayerIdxByUID(e, t) {\n    return this._layerIndexByUid[e].get(t);\n  }\n  _dataMissing(e, t, i) {\n    const r = this._getLayerIdxByUID(t, i.uid);\n    null != r ? e.dataMissing(r, t) : n.getLogger(this).warn(\"TerrainSurface: received data from unknown layer\");\n  }\n  updateTileOverlayParams(e) {\n    this._rootTiles && this.overlayManager && (this._allTiles.forAll(e => {\n      e.renderData && this.overlayManager.setTileParameters(e);\n    }), this._renderer.setNeedsRender(e));\n  }\n  get performanceInfo() {\n    const e = this._performanceInfo;\n    return e.numNodes = this._allTiles.length, e.numLeaves = e.numVisible = e.numRendered = e.numLoadedPerLevel.length = e.numRenderedPerLevel.length = 0, this._allTiles.forAll(t => {\n      t.isLeaf && e.numLeaves++;\n      const i = t.level;\n      t.renderData && (e.numLoadedPerLevel[i] = (e.numLoadedPerLevel[i] || 0) + 1), t.visible && (e.numVisible++, t.rendered && (e.numRenderedPerLevel[i] = (e.numRenderedPerLevel[i] || 0) + 1, e.numRendered++));\n    }), e;\n  }\n  get usedMemory() {\n    return this.tilingScheme ? (null == this._usedMemory && (this._usedMemory = this._recalculateUsedMemory()), this._usedMemory ?? 0) : 0;\n  }\n  _recalculateUsedMemory() {\n    return this.tilingScheme ? Math.round(this._allTiles.reduce((e, t) => e + t.usedMemory, 0)) : null;\n  }\n  getUsedMemoryForLayerView(e) {\n    let t = 0;\n    const i = this._layerClassFromLayerView(e),\n      r = this._getLayerIdxByUID(i, e.uid);\n    return null != r && this._allTiles.forAll(e => t += e.getUsedMemoryForLayer(i, r)), t;\n  }\n  getTile(e) {\n    if (null == e || null == this._rootTiles) return null;\n    const t = e.split(\"/\").map(e => +e);\n    if (0 === t[0]) return this._rootTiles.find(e => e.lij[1] === t[1] && e.lij[2] === t[2]);\n    const i = t[0],\n      r = t[1] >> i,\n      s = t[2] >> i;\n    let a;\n    if (this._rootTiles.some(e => e.lij[1] === r && e.lij[2] === s && (a = e, !0)), a) {\n      let e = 1 << t[0] - 1;\n      for (; a.lij[0] < t[0];) {\n        let i = t[1] & e ? 2 : 0;\n        if ((t[2] & e) > 0 && i++, !a.children[i]) return null;\n        a = a.children[i], e >>= 1;\n      }\n      return Se(a.lij[0] === t[0] && a.lij[1] === t[1] && a.lij[2] === t[2], \"not the right tile?\"), a;\n    }\n    return null;\n  }\n  get renderPatchBorders() {\n    return this._renderer.renderPatchBorders;\n  }\n  set renderPatchBorders(e) {\n    this._renderer.renderPatchBorders = e;\n  }\n  get visualizeNormals() {\n    return this._renderer.visualizeNormals;\n  }\n  set visualizeNormals(e) {\n    this._renderer.visualizeNormals = e;\n  }\n  get renderingDisabled() {\n    return this._renderer.renderingDisabled;\n  }\n  set renderingDisabled(e) {\n    this._renderer.renderingDisabled = e;\n  }\n  get test() {}\n  checkAllTilesWaterproofness() {\n    if (!Be) return;\n    const e = this._rootTiles;\n    if (null == e) return;\n    const t = e => e?.renderData?.geometry?.indices?.length > 0,\n      i = (e, i) => {\n        t(e) && console.error(\"Tile[\", e.lij, \"] has geometry although parent[\", i.lij, \"] has geom\");\n      },\n      r = e => {\n        if (e.intersectsClippingArea) if (e.renderData && !e.renderData.geometryState && console.error(\"Tile[\", e.lij, \"] has renderData but not geometryState\"), e.renderData && !e.renderData.geometry && console.error(\"Tile[\", e.lij, \"] has renderData but not geometryInfo\"), !e.renderData?.geometry || (e.renderData.geometry.indices?.length ?? 0) > 0 || console.error(\"Tile[\", e.lij, \"] has renderData but no indices - geometryInfo: \", e.renderData.geometry), t(e)) {\n          e.checkGeometryWaterproofness();\n          for (const t of e.children) i(t, e);\n        } else if (e.isLeaf) console.error(\"Tile[\", e.lij, \"] has no geometry and no children, from root to leaf\");else for (const t of e.children) r(t);\n      },\n      s = e => {\n        const t = e.parent?.visible ?? !0,\n          i = e.visible;\n        e.computeVisibility();\n        const r = e.visible;\n        if (i !== r && t && console.error(\" Tile[\", e.lij, \"] has out of date visibility: \", i, \" instead of \", r), !e.isLeaf) for (const a of e.children) s(a);\n      };\n    for (const a of e) r(a), s(a);\n  }\n  get isGlobal() {\n    return this._isGlobal;\n  }\n  get isGeographic() {\n    return this._isGeographic;\n  }\n  get isWebMercator() {\n    return this._isWebMercator;\n  }\n  get isWebMercatorOnPlateCarree() {\n    return this._isWebMercatorOnPlateCarree;\n  }\n  isEastEndWrap(e) {\n    return this._isGlobal && e[2] === this.lijEastEnd(e[0]) - 1;\n  }\n  isWestEndWrap(e) {\n    return this._isGlobal && 0 === e[2];\n  }\n  lijEastEnd(e) {\n    return 1 << e + (this._isGeographic ? 1 : 0);\n  }\n  wrapEastWest(e) {\n    const t = this.lijEastEnd(e[0]),\n      i = e[2];\n    if (0 <= i && i < t) return e;\n    if (!this._isGlobal) return null;\n    const r = (i + (i < 0 ? t : 0)) % t;\n    return [e[0], e[1], r];\n  }\n  enableInternalChecks(e) {\n    Ve(e);\n  }\n  enableWaterproofnessChecks(e) {\n    ke(e);\n  }\n};\nnt._tileMemcacheKey = \"TerrainTileMemcache\", e([y()], nt.prototype, \"_renderer\", void 0), e([y({\n  constructOnly: !0\n})], nt.prototype, \"_scaleRangeQueries\", void 0), e([y({\n  constructOnly: !0\n})], nt.prototype, \"view\", void 0), e([y({\n  constructOnly: !0\n})], nt.prototype, \"overlayManager\", void 0), e([y()], nt.prototype, \"_hasPendingUpdates\", void 0), e([y()], nt.prototype, \"_asyncWorkItems\", void 0), e([y()], nt.prototype, \"_allTilesDirty\", void 0), e([y()], nt.prototype, \"_allTilesSorted\", void 0), e([y()], nt.prototype, \"_viewChanged\", void 0), e([y({\n  type: Number\n})], nt.prototype, \"heading\", void 0), e([y()], nt.prototype, \"_splitLimits\", void 0), e([y({\n  readOnly: !0\n})], nt.prototype, \"_watchUpdatingTracking\", void 0), e([y()], nt.prototype, \"_frameTask\", void 0), e([y({\n  readOnly: !0\n})], nt.prototype, \"snapLevel\", null), e([y({\n  readOnly: !0\n})], nt.prototype, \"lodSnapping\", null), e([y()], nt.prototype, \"_userClippingExtent\", null), e([y()], nt.prototype, \"_rootTilesExtent\", void 0), e([y({\n  readOnly: !0\n})], nt.prototype, \"extent\", null), e([y({\n  readOnly: !0\n})], nt.prototype, \"groundExtent\", null), e([y({\n  readOnly: !0\n})], nt.prototype, \"_tilingSchemeExtent\", null), e([y({\n  readOnly: !0\n})], nt.prototype, \"updating\", null), e([y({\n  readOnly: !0\n})], nt.prototype, \"running\", null), e([y(Z)], nt.prototype, \"updatingProgress\", void 0), e([y({\n  readOnly: !0\n})], nt.prototype, \"updatingProgressValue\", null), e([y()], nt.prototype, \"_maxNumUpdating\", void 0), e([y()], nt.prototype, \"baseOpacity\", null), e([y()], nt.prototype, \"hasCompositeBlendMode\", void 0), e([y({\n  readOnly: !0\n})], nt.prototype, \"viewingMode\", null), e([y()], nt.prototype, \"maxTextureScale\", void 0), e([y({\n  readOnly: !0\n})], nt.prototype, \"ready\", null), e([y({\n  value: de.FRONT_TO_BACK\n})], nt.prototype, \"renderOrder\", null), e([y({\n  readOnly: !0\n})], nt.prototype, \"rootTiles\", null), e([y()], nt.prototype, \"_rootTiles\", void 0), e([y({\n  readOnly: !0\n})], nt.prototype, \"spatialReference\", null), e([y({\n  type: t\n})], nt.prototype, \"backgroundColor\", null), e([y({\n  value: !1\n})], nt.prototype, \"slicePlaneEnabled\", null), e([y({\n  readOnly: !0\n})], nt.prototype, \"tilingScheme\", void 0), e([y({\n  readOnly: !0\n})], nt.prototype, \"tilingSchemeLocked\", null), e([y({\n  readOnly: !0\n})], nt.prototype, \"tilingSchemeLogic\", void 0), e([y()], nt.prototype, \"wireframe\", null), e([y({\n  value: !1\n})], nt.prototype, \"suspended\", null), e([y()], nt.prototype, \"fadeDuration\", null), e([y()], nt.prototype, \"visibleElevationBounds\", void 0), e([y()], nt.prototype, \"rootTileElevationBounds\", void 0), e([y()], nt.prototype, \"_layerViewsDirty\", void 0), e([y()], nt.prototype, \"renderPatchBorders\", null), e([y()], nt.prototype, \"visualizeNormals\", null), e([y()], nt.prototype, \"renderingDisabled\", null), nt = at = e([v(\"esri.views.3d.terrain.TerrainSurface\")], nt);\nconst lt = nt,\n  ot = P(),\n  ht = W(),\n  dt = R();\nnew p();\nconst pt = new Y(\"ground\"),\n  ut = {\n    spatialReference: null,\n    extent: null,\n    scale: 0\n  };\nfunction ct(e, t, i) {\n  for (const r of e) {\n    if (!r.containsPointXY(t, i)) continue;\n    let e = r;\n    for (; e && !e.renderData;) {\n      const r = (t > e.extentMidX ? 1 : 0) + (i < e.extentMidY ? 2 : 0);\n      e = e.children[r];\n    }\n    const s = e?.renderData?.geometryState.samplerData ?? null;\n    return ie(t, i, s);\n  }\n  return null;\n}\nclass gt {\n  constructor(e) {\n    this.capacity = e, this._head = 0, this._tail = 0, this._data = new Array(e);\n  }\n  push(e) {\n    const t = this._tail;\n    if (!(t < this.capacity)) throw new Error(\"Queue full\");\n    this._data[t] = e, this._tail = t + 1;\n  }\n  pushAll(e) {\n    const t = e.length;\n    if (0 === t) return;\n    const i = this._tail;\n    if (!(i + t <= this.capacity)) throw new Error(\"Queue full\");\n    for (let r = 0; r < t; ++r) this._data[i + r] = e[r];\n    this._tail = i + t;\n  }\n  pop() {\n    const e = this._head;\n    if (e < this._tail) {\n      const t = this._data[e];\n      return this._head = e + 1, t;\n    }\n  }\n  get empty() {\n    return this._head >= this._tail;\n  }\n  get full() {\n    return this._tail >= this._data.length;\n  }\n}\nfunction _t(e, t) {\n  !e.isLeaf || e.level < fe || yt(e, e => {\n    t && mt(e);\n    const i = Tt(e);\n    if (e.maxLevelDeltaNeighborCount++, i) {\n      let t = e.parent;\n      for (; t;) {\n        const e = Tt(t);\n        if (t.unmergableChildCount++, !e) break;\n        t = t.parent;\n      }\n    }\n  });\n}\nfunction mt(e) {\n  if (e.hasPendingUpdate(qe.SPLIT)) return;\n  let t = e.parent;\n  for (; t?.resetPendingUpdate(qe.MERGE);) t = t.parent;\n  e.resetPendingUpdate(qe.MERGE), e.isLeaf && e.setPendingUpdate(qe.SPLIT), e.level < fe || yt(e, e => {\n    mt(e);\n  });\n}\nfunction ft(e) {\n  e.level < fe || yt(e, e => {\n    if (e.maxLevelDeltaNeighborCount--, 0 === e.maxLevelDeltaNeighborCount && 0 === e.unmergableChildCount) {\n      let t = e.parent;\n      for (; t && (t.unmergableChildCount--, Tt(t));) t = t.parent;\n    }\n  });\n}\nfunction Tt(e) {\n  return 0 === e.maxLevelDeltaNeighborCount && 0 === e.unmergableChildCount;\n}\nfunction yt(e, t) {\n  if (e.level < fe) return;\n  const i = e.level - fe,\n    r = e.lij[1] >> fe,\n    s = e.lij[2] >> fe,\n    a = e => e.isLeaf || e.level === i;\n  for (let n = 0; n < 4; ++n) {\n    const l = e.findNeighborTile(we[n], a);\n    if (!l || l.level !== i) continue;\n    const o = l.lij;\n    o[1] === r && o[2] === s || t(l);\n  }\n}\nexport { lt as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport \"../../../../core/has.js\";\nimport { nullUid as o } from \"../../../../core/uid.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { DirtyOperation as d, DirtyState as i } from \"./ModelDirtyTypes.js\";\nimport { assert as c } from \"./Util.js\";\nclass a {\n  constructor(e, t, o, r) {\n    this.operation = e, this.geometry = t, this.states = o, this.sync = r;\n  }\n}\nlet n = class extends t {\n  constructor(e) {\n    super(e), this._residentGeomRecords = new Map(), this._dirtyGeomRecords = new Map(), this.dirty = !1;\n  }\n  commitLayer(e, t) {\n    const o = this._dirtyGeomRecords.get(e);\n    o && (o.forEach((o, r) => {\n      const s = this._ensureGeomRecord(e, r);\n      o.forEach(({\n        geometry: e,\n        operation: o,\n        states: a\n      }, n) => {\n        let m = !1;\n        if (o === d.UPDATE) {\n          const o = s.get(n);\n          if (o) {\n            if (a & i.TRANSFORMATION) {\n              const t = this.model.getObject(r);\n              this.model.updateRenderGeometryTransformation(t, e, o) && (m = !0);\n            }\n            m || t.updates.push({\n              renderGeometry: o,\n              updateType: a\n            });\n          } else c(!1, \"ModelDirtySet.commitLayer: invalid update\");\n        }\n        if (o === d.REMOVE || m) {\n          const e = s.get(n);\n          e ? (t.removes.push(e), s.delete(n)) : o === d.REMOVE && c(!1, \"ModelDirtySet.commitLayer: invalid remove\");\n        }\n        if (o === d.ADD || m) {\n          const o = this.model.getObject(r);\n          if (null != o) {\n            const r = this.model.getRenderGeometry(o, e);\n            t.adds.push(r), s.set(n, r);\n          }\n        }\n      }), 0 === s.size && this._residentGeomRecords.get(e).delete(r);\n    }), 0 === this._residentGeomRecords.get(e).size && this._residentGeomRecords.delete(e), this._dirtyGeomRecords.delete(e), this.dirty = this._hasDirtyGeometryRecords);\n  }\n  commitSyncUpdates(e, t) {\n    const o = this._dirtyGeomRecords.get(e);\n    o && o.forEach((o, r) => {\n      const s = this._ensureGeomRecord(e, r);\n      o.forEach(({\n        geometry: e,\n        operation: o,\n        states: a,\n        sync: n\n      }, m) => {\n        let h = !1;\n        if (o === d.UPDATE && n) {\n          const o = s.get(m);\n          if (o) {\n            if (a & i.TRANSFORMATION) {\n              const t = this.model.getObject(r);\n              this.model.updateRenderGeometryTransformation(t, e, o) && (h = !0);\n            }\n            h || t.updates.push({\n              renderGeometry: o,\n              updateType: a\n            });\n          } else c(!1, \"ModelDirtySet.commitSyncUpdates: invalid update\");\n        }\n      });\n    });\n  }\n  getResidentRenderGeometries(e, t) {\n    const o = this._residentGeomRecords.get(e);\n    o && o.forEach(e => e.forEach(e => t.push(e)));\n  }\n  _objectStateChanged(e, t) {\n    for (const o of t.geometries) this._updateOrCreateDirtyRecord(t, o, null, d.UPDATE, e);\n  }\n  visibilityChanged(e) {\n    this._objectStateChanged(i.VISIBILITY, e);\n  }\n  highlightChanged(e) {\n    this._objectStateChanged(i.HIGHLIGHT, e);\n  }\n  occlusionChanged(e) {\n    this._objectStateChanged(i.OCCLUDEE, e);\n  }\n  attributesChanged({\n    object: e,\n    geometry: t,\n    sync: o\n  }) {\n    this._updateOrCreateDirtyRecord(e, t, null, d.UPDATE, i.GEOMETRY, o);\n  }\n  layerAdded(e) {\n    e.objects.forAll(t => this._layerObjectAdded(e, t));\n  }\n  layerRemoved(e) {\n    e.objects.forAll(t => this._layerObjectRemoved(e, t));\n  }\n  layerObjectAdded(e) {\n    this._layerObjectAdded(e.layer, e.object);\n  }\n  _layerObjectAdded(e, t) {\n    const o = e.id;\n    for (const r of t.geometries) this._geometryAdded(t, r, o);\n  }\n  layerObjectRemoved(e) {\n    this._layerObjectRemoved(e.layer, e.object);\n  }\n  layerObjectsAdded(e) {\n    for (const t of e.objects) this._layerObjectAdded(e.layer, t);\n  }\n  layerObjectsRemoved(e) {\n    for (const t of e.objects) this._layerObjectRemoved(e.layer, t);\n  }\n  _layerObjectRemoved(e, t) {\n    const o = e.id;\n    for (const r of t.geometries) this._geometryRemoved(t, r, o);\n  }\n  transformationChanged(e) {\n    const t = this._getParentLayerId(e),\n      o = e.id;\n    this._ensureGeomRecord(t, o).forEach(o => {\n      this._updateOrCreateDirtyRecord(e, o.geometry, t, d.UPDATE, i.TRANSFORMATION);\n    });\n  }\n  shaderTransformationChanged(e) {\n    const t = this._getParentLayerId(e),\n      o = e.id;\n    this._ensureGeomRecord(t, o).forEach(t => {\n      t.objectShaderTransformationChanged(e.shaderTransformation);\n    });\n  }\n  geometryAdded(e) {\n    this._geometryAdded(e.object, e.geometry);\n  }\n  _geometryAdded(e, t, o = null) {\n    this._updateOrCreateDirtyRecord(e, t, o, d.ADD);\n  }\n  geometryRemoved(e) {\n    this._geometryRemoved(e.object, e.geometry);\n  }\n  _geometryRemoved(e, t, o = null) {\n    this._updateOrCreateDirtyRecord(e, t, o, d.REMOVE);\n  }\n  _updateOrCreateDirtyRecord(e, t, o, r, s = i.NONE, n = !1) {\n    o = o ?? this._getParentLayerId(e);\n    const m = e.id,\n      h = t.id,\n      y = this._ensureDirtyRecord(o, m),\n      l = y.get(h);\n    let g = !1;\n    if (l) {\n      const e = l.operation;\n      e === d.REMOVE && r === d.ADD && l.states !== i.NONE ? l.operation = d.UPDATE : e === d.REMOVE && r === d.ADD || e === d.ADD && r === d.REMOVE ? (y.delete(h), g = !0) : e !== d.UPDATE || r !== d.REMOVE && r !== d.UPDATE ? (c((e === d.REMOVE || e === d.ADD) && r === d.UPDATE, \"ModelDirtySet.objectGeometryAdded: inconsistent state\"), l.states |= s) : (l.operation = r, l.states |= s), l.sync = l.sync || n;\n    } else y.set(h, new a(r, t, s, n));\n    this.dirty = !g || this._hasDirtyGeometryRecords;\n  }\n  _ensureGeomRecord(e, t) {\n    let o = this._residentGeomRecords.get(e);\n    o || (o = new Map(), this._residentGeomRecords.set(e, o));\n    let r = o.get(t);\n    return r || (r = new Map(), o.set(t, r)), r;\n  }\n  get _hasDirtyGeometryRecords() {\n    for (const e of this._dirtyGeomRecords.values()) for (const t of e.values()) if (t.size > 0) return !0;\n    return !1;\n  }\n  _ensureDirtyRecord(e, t) {\n    let o = this._dirtyGeomRecords.get(e);\n    o || (o = new Map(), this._dirtyGeomRecords.set(e, o));\n    let r = o.get(t);\n    return r || (r = new Map(), o.set(t, r)), r;\n  }\n  _getParentLayerId(e) {\n    return e.parentLayer ? e.parentLayer.id : o;\n  }\n  formatDebugInfo() {\n    const e = [\"ADD\", \"UPD\", void 0, \"REM\"];\n    let t = \"\";\n    return this._dirtyGeomRecords.forEach((o, r) => {\n      o.forEach((o, s) => {\n        t.length > 0 && (t += \"\\n\"), t += r + \".\" + s;\n        const d = [];\n        o.forEach(e => {\n          const t = e.operation;\n          d[t] || (d[t] = []), d[t].push(e.geometry.id);\n        });\n        for (let r = 0; r < d.length; r++) if (d[r]) {\n          t += \" \" + e[r - 1] + \": \";\n          for (let e = 0; e < d[r].length; e++) t += d[r][e] + \", \";\n        }\n      });\n    }), t;\n  }\n  get test() {}\n};\ne([r({\n  constructOnly: !0\n})], n.prototype, \"model\", void 0), e([r()], n.prototype, \"dirty\", void 0), n = e([s(\"esri.views.3d.webgl-engine.lib.ModelDirtySet\")], n);\nconst m = n;\nexport { m as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport \"../../../../core/has.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as n } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { g as i } from \"../../../../chunks/sphere.js\";\nimport { ContentObjectType as s } from \"../lib/ContentObjectType.js\";\nimport { GridLocalOriginFactory as a } from \"../lib/GridLocalOriginFactory.js\";\nimport c from \"../lib/ModelDirtySet.js\";\nimport { RenderGeometry as d } from \"../lib/RenderGeometry.js\";\nimport { assert as m } from \"../lib/Util.js\";\nimport { isWebGLLayer as l } from \"../lib/WebGLLayer.js\";\nlet h = class extends e {\n  constructor() {\n    super(...arguments), this.dirtySet = new c({\n      model: this\n    }), this._content = new Map(), this._originFactory = new a(null);\n  }\n  getObject(t) {\n    return this._content.get(t);\n  }\n  add(t) {\n    const e = t.id;\n    m(!this._content.has(e), \"Model/Stage already contains object to be added\"), this._content.set(e, t), l(t) && this.dirtySet.layerAdded(t);\n  }\n  remove(t) {\n    return !!this._content.has(t.id) && (this._content.delete(t.id), l(t) && this.dirtySet.layerRemoved(t), !0);\n  }\n  addMany(t) {\n    for (const e of t) e && (m(!this._content.has(e.id), \"Model/Stage already contains object to be added\"), this._content.set(e.id, e));\n  }\n  removeMany(t) {\n    for (const e of t) e && (m(this._content.has(e.id), \"Model/Stage doesn't contain object to be removed\"), this._content.delete(e.id));\n  }\n  has(t) {\n    return this._content.has(t.id);\n  }\n  forEachOfType(t, e) {\n    this._content.forEach(o => {\n      o.type === t && e(o);\n    });\n  }\n  getRenderGeometry(t, e) {\n    const o = new d(e, {\n      castShadow: t.castShadow,\n      objectShaderTransformation: t.shaderTransformation\n    });\n    o.transformation = t.getCombinedStaticTransformation(e, p);\n    const {\n      localOrigin: r\n    } = e;\n    return o.localOrigin = null != r ? r : this._originFactory.getOrigin(i(o.boundingSphere)), o;\n  }\n  updateRenderGeometryTransformation(t, e, o) {\n    if (null == t) return !1;\n    o.transformation = t.getCombinedStaticTransformation(e, p);\n    const r = this._originFactory.getOrigin(i(o.boundingSphere));\n    return o.localOrigin !== r;\n  }\n  getStats() {\n    const t = {},\n      e = Array.from(this._content.values());\n    for (let o = 0; o < s.COUNT; ++o) t[o] = e.filter(t => t.type === o).length;\n    return {\n      contentTypes: t,\n      dirtySet: this.dirtySet.formatDebugInfo()\n    };\n  }\n  get test() {}\n};\nt([o({\n  constructOnly: !0\n})], h.prototype, \"dirtySet\", void 0), h = t([r(\"esri.views.3d.webgl-engine.parts.Model\")], h);\nconst p = n();\nexport { h as Model };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t) {\n    this._totalCount = t, this._componentCountCache = -1, this._indexRanges = [0, t];\n  }\n  allVisible() {\n    return this.componentCount === this._totalCount;\n  }\n  allInvisible() {\n    return 0 === this._indexRanges.length;\n  }\n  isVisible(t) {\n    if (t < 0 || t >= this._totalCount) return !1;\n    if (this.allVisible()) return !0;\n    {\n      const n = this._indexRanges;\n      let e = 0,\n        o = n.length / 2;\n      if (t < n[2 * e] || t > n[2 * o] + n[2 * o + 1]) return !1;\n      for (; o - e > 0;) {\n        const s = Math.floor(.5 * (e + o)),\n          i = n[2 * s];\n        if (t < i) {\n          if (o - e == 1) return !1;\n          o = s;\n          continue;\n        }\n        if (t < i + n[2 * s + 1]) return !0;\n        if (o - e == 1) return !1;\n        e = s + 1;\n      }\n      return !1;\n    }\n  }\n  get componentCount() {\n    if (-1 === this._componentCountCache) {\n      const t = this._indexRanges;\n      let n = 0;\n      for (let e = 0; e < t.length; e += 2) n += t[e + 1];\n      this._componentCountCache = n;\n    }\n    return this._componentCountCache;\n  }\n  reset(t) {\n    \"all\" === t || t.length === this._totalCount ? this._indexRanges = [0, this._totalCount] : this._indexRanges = n(t), this._componentCountCache = -1;\n  }\n  forEachComponent(t) {\n    const n = this._indexRanges;\n    for (let e = 0; e < n.length; e += 2) {\n      const o = n[e],\n        s = o + n[e + 1];\n      for (let n = o; n < s; n++) if (!t(n)) return !1;\n    }\n    return !0;\n  }\n  forEachComponentRange(t) {\n    const n = this._indexRanges;\n    for (let e = 0; e < n.length; e += 2) {\n      const o = n[e];\n      if (!t(o, o + n[e + 1])) return !1;\n    }\n    return !0;\n  }\n  computeOffsetRanges(t) {\n    const n = new Array(this._indexRanges.length),\n      e = this._indexRanges;\n    for (let o = 0; o < e.length; o += 2) {\n      const s = e[o],\n        i = s + e[o + 1],\n        r = t[s],\n        h = t[i];\n      n[o] = r, n[o + 1] = h - r;\n    }\n    return n;\n  }\n}\nfunction n(t) {\n  const n = new Array();\n  if (0 === t.length) return n;\n  let e = t[0],\n    o = 1;\n  for (let s = 1; s < t.length; s++) {\n    const i = t[s];\n    e + o === i ? o += 1 : (n.push(e), n.push(o), e = i, o = 1);\n  }\n  return n.push(e), n.push(o), n;\n}\nexport { t as ComponentRangeRunLengthEncoded };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ComponentRangeRunLengthEncoded as t } from \"./IndexRange/ComponentRangeRunLengthEncoded.js\";\nclass e {\n  constructor(e, h) {\n    this.offsets = h, this.pickability = null, this.highlightCounts = null, this.verticalOffsets = null, this.cachedGeometryRanges = null, this.cachedHighlightRanges = null, this.cachedDefaultRanges = null;\n    const i = this.count;\n    this.visibility = new t(i), this.materialDataBuffer = e.getBuffer(i), this.materialDataIndices = new Uint16Array(i);\n    for (let t = 0; t < i; t++) this.materialDataIndices[t] = this.materialDataBuffer.acquireIndex();\n  }\n  destroy() {\n    for (let t = 0; t < this.count; t++) this.materialDataBuffer.releaseIndex(this.materialDataIndices[t]);\n  }\n  get count() {\n    return this.offsets.length - 1;\n  }\n  get geometryRanges() {\n    return null == this.cachedGeometryRanges && (this.cachedGeometryRanges = this.visibility.computeOffsetRanges(this.offsets)), this.cachedGeometryRanges;\n  }\n  get highlightRanges() {\n    return null == this.highlightCounts ? null : (this._updateCachedHighlightRanges(), this.cachedHighlightRanges);\n  }\n  get defaultShadowMapRanges() {\n    return null == this.highlightCounts ? this.geometryRanges : (this._updateCachedHighlightRanges(), this.cachedDefaultRanges);\n  }\n  highlightsDirty() {\n    this.cachedHighlightRanges = null, this.cachedDefaultRanges = null;\n  }\n  visibilityDirty() {\n    this.cachedGeometryRanges = null, this.highlightsDirty();\n  }\n  _updateCachedHighlightRanges() {\n    if ((null == this.cachedHighlightRanges || null == this.cachedDefaultRanges) && null != this.highlightCounts) {\n      const {\n        highlightRanges: t,\n        defaultRanges: e\n      } = h(this.highlightCounts, this.visibility, this.offsets);\n      this.cachedHighlightRanges = t, this.cachedDefaultRanges = e;\n    }\n  }\n}\nfunction h(t, e, h) {\n  const i = [],\n    s = [];\n  let a = h.length,\n    n = h.length;\n  return e.forEachComponent(e => (t[e] > 0 ? (a !== e - 1 && (i.length && i.push(h[a + 1] - i[i.length - 1]), i.push(h[e])), a = e) : (n !== e - 1 && (s.length && s.push(h[n + 1] - s[s.length - 1]), s.push(h[e])), n = e), !0)), i.length && i.push(h[a + 1] - i[i.length - 1]), s.length && s.push(h[n + 1] - s[s.length - 1]), {\n    highlightRanges: i,\n    defaultRanges: s\n  };\n}\nexport { e as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { destroyMaybe as t } from \"../../../../../core/maybe.js\";\nclass e {\n  constructor(t, e, s, i, o, r) {\n    this.transform = t, this.toMapSpace = e, this.obb = s, this.components = i, this.renderable = o, this.intersectionGeometry = r, this.visible = !1, this.offsetObb = null;\n  }\n  destroy() {\n    this.intersectionGeometry = t(this.intersectionGeometry), this.renderable = t(this.renderable), this.components = t(this.components);\n  }\n}\nexport { e as ComponentObject };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { m as n, z as t, b as r, n as o, r as c, F as s, H as u } from \"../../../../chunks/vec32.js\";\nimport { create as e } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nfunction i(t, r, o) {\n  const c = n(t, r) - o;\n  return Math.abs(c) <= 1e-5;\n}\nfunction a(n, c, s) {\n  const u = e(),\n    i = e();\n  t(i, c, n);\n  const a = e();\n  return t(a, s, n), r(u, i, a), o(u, u), u;\n}\nfunction f(r, s, u, f) {\n  const m = [s, u, f],\n    h = a(s, u, f);\n  if (!i(r, h, n(m[0], h))) return !1;\n  for (let i = 0; i < 3; ++i) {\n    const r = m[i],\n      s = m[(i + 1) % 3],\n      u = m[(i + 2) % 3],\n      a = e();\n    t(a, s, r), o(a, a);\n    const f = e();\n    t(f, u, r);\n    const h = n(f, a),\n      l = e();\n    c(l, r, a, h);\n    const M = e();\n    t(M, u, l), o(M, M);\n    const x = n(r, M);\n    if (!(n(M, l) - x >= -1e-4)) return !1;\n  }\n  return !0;\n}\nfunction m(n) {\n  const c = e();\n  t(c, n[1], n[0]), o(c, c);\n  const s = e();\n  t(s, n[2], n[0]), o(s, s);\n  const u = e();\n  return r(u, c, s), o(u, u), u;\n}\nfunction h(r, s, u) {\n  const i = e();\n  t(i, u, s), o(i, i);\n  const a = e();\n  t(a, r, s);\n  const f = n(a, i),\n    m = e();\n  return c(m, s, i, f), m;\n}\nfunction l(n, t, r) {\n  const o = h(n, t, r);\n  return s(o, n);\n}\nfunction M(r, i, a) {\n  const f = e();\n  t(f, a, i);\n  const m = u(f);\n  o(f, f);\n  const h = e();\n  t(h, r, i);\n  const l = n(h, f);\n  if (l < 0) return s(i, r);\n  if (l > m) return s(a, r);\n  const M = e();\n  c(M, i, f, l);\n  return s(M, r);\n}\nfunction x(t, r, o) {\n  return n(t, r) - o;\n}\nfunction y(c, s, u) {\n  const i = e(),\n    a = e();\n  t(a, s, c);\n  const f = e();\n  t(f, u, c), r(i, a, f), o(i, i);\n  return {\n    normal: i,\n    d: n(i, c)\n  };\n}\nfunction A(n, t, r, o) {\n  const {\n      normal: s,\n      d: u\n    } = y(t, r, o),\n    i = x(n, s, u),\n    a = e();\n  return c(a, n, s, -i), f(a, t, r, o) ? i : Math.min(M(n, t, r), M(n, r, o), M(n, o, t));\n}\nfunction b(r, o, s) {\n  const u = e();\n  t(u, o, r);\n  const i = m(s),\n    a = n(i, s[0]),\n    h = n(i, r) - a,\n    l = n(i, o) - a;\n  if (h * l > 0) return 1 / 0;\n  const M = e();\n  return c(M, r, u, (0 - h) / (l - h)), f(M, s[0], s[1], s[2]) ? 0 : A(M, s[0], s[1], s[2]);\n}\nfunction p(n, t) {\n  const r = n.length;\n  if (0 === r) return 0;\n  if (t < n[0]) return -1;\n  if (t >= n[r - 1]) return r;\n  let o = 0,\n    c = r - 1;\n  for (; c - o > 1;) {\n    const r = Math.floor(.5 * (c + o));\n    t >= n[r] ? o = r : c = r;\n  }\n  return o;\n}\nfunction w(n, t, r, o, c, s, u) {\n  const e = s - u,\n    i = t - n,\n    a = new Float64Array(4 * i);\n  for (let f = 0; f < i; ++f) {\n    const t = 3 * (f + n),\n      s = c * r[t + 0],\n      i = o[s + 0],\n      m = o[s + 1],\n      h = e / (o[s + 2] - u),\n      l = i * h,\n      M = m * h,\n      x = c * r[t + 1],\n      y = o[x + 0],\n      A = o[x + 1],\n      b = e / (o[x + 2] - u),\n      p = y * b,\n      w = A * b,\n      F = c * r[t + 2],\n      U = o[F + 0],\n      d = o[F + 1],\n      g = e / (o[F + 2] - u),\n      j = U * g,\n      v = d * g,\n      k = 4 * f;\n    a[k + 0] = Math.min(l, p, j), a[k + 1] = Math.min(M, w, v), a[k + 2] = Math.max(l, p, j), a[k + 3] = Math.max(M, w, v);\n  }\n  return a;\n}\nfunction F(n, t, r, o, c) {\n  const s = t - n,\n    u = new Float64Array(4 * s);\n  for (let e = 0; e < s; ++e) {\n    const t = 3 * (e + n),\n      s = c * r[t + 0],\n      i = o[s + 0],\n      a = o[s + 1],\n      f = c * r[t + 1],\n      m = o[f + 0],\n      h = o[f + 1],\n      l = c * r[t + 2],\n      M = o[l + 0],\n      x = o[l + 1],\n      y = 4 * e;\n    u[y + 0] = Math.min(i, m, M), u[y + 1] = Math.min(a, h, x), u[y + 2] = Math.max(i, m, M), u[y + 3] = Math.max(a, h, x);\n  }\n  return u;\n}\nfunction U(n, t) {\n  return new (d(n))(t);\n}\nfunction d(n) {\n  return n < 128 ? Uint8Array : n < 32768 ? Uint16Array : n < 1 << 31 ? Uint32Array : Array;\n}\nfunction g(n, t) {\n  n[2] += t;\n}\nfunction j(n, t, r, o) {\n  const [c, s, u] = o ?? n,\n    e = u - r,\n    i = t / Math.sqrt(c * c + s * s + e * e);\n  n[0] += c * i, n[1] += s * i, n[2] += e * i;\n}\nexport { p as binarySearchSortedArray, m as calculateNormalFromVertices, U as createUintArray, l as distancePointLine, x as distancePointPlane, M as distancePointSegment, A as distancePointTriangle, j as elevationAlignVertexGlobal, g as elevationAlignVertexLocal, w as generateTriangleAabbsGlobal, F as generateTriangleAabbsLocal, d as getConstructorForValueCount, h as getNearestPointOnLine, b as getRayTriangleIntersectionDistance, a as getTriangleNormal, y as getTrianglePlane, i as isPointInPlane, f as isPointInTriangle };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { clamp as t } from \"../../../../../core/mathUtils.js\";\nimport { fromValues as e } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { createUintArray as n } from \"../../lib/triangleIntersectionUtils.js\";\nclass i {\n  constructor(t, n) {\n    this.elementCount = t, this.model = n, this._elementIndexMap = null, this._bspNodes = [], this._generatedBVH = !1, this.localMode = n.localMode, this.planetCenterZ = n.planetCenterZ, this.geometryMinZ = n.geometryMinZ, this.planetCenter = e(0, 0, this.planetCenterZ), this.maxBspNodeDepth = n.maxBspNodeDepth ?? 8, this.minElementCountForBVH = n.minElementCountForBVH ?? 15, this.minBspNodeElementCount = n.minBspNodeElementCount ?? 5;\n  }\n  get elementIndexMap() {\n    return this._ensureBVH(), this._elementIndexMap;\n  }\n  get _skipBVH() {\n    return this.elementCount < this.minElementCountForBVH || this.geometryMinZ < .5 * this.planetCenterZ;\n  }\n  _ensureBVH() {\n    this._generatedBVH || this._skipBVH || 0 === this._bspNodes.length && this._generateBsp();\n  }\n  intersectRay(t, e, n) {\n    this.elementCount < 1 || (this._skipBVH ? this._intersectRayWithoutBVH(n) : this._intersectRayWithBVH(t, e, n));\n  }\n  _intersectRayWithoutBVH(t) {\n    this._intersectRange(0, this.elementCount);\n  }\n  _intersectRange(t, e) {\n    this.model.intersectRange(t, e);\n  }\n  _intersectRayWithBVH(t, e, n) {\n    this._ensureBVH(), n ? this._intersectGeometryWithBVHVerticalRay(t) : this._intersectGeometryWithBVHGeneralRay(t, e);\n  }\n  _intersectGeometryWithBVHVerticalRay(t) {\n    let e = t[0],\n      n = t[1];\n    if (!this.localMode) {\n      const {\n          geometryMinZ: i,\n          planetCenterZ: s\n        } = this,\n        h = (i - s) / (t[2] - s);\n      e = t[0] * h, n = t[1] * h;\n    }\n    const {\n      _bspNodes: i\n    } = this;\n    let s = 0;\n    for (; s >= 0;) {\n      const t = i[s],\n        {\n          d: h,\n          dim: a,\n          minIndexIndex: o,\n          minMidIndexIndex: r,\n          maxMidIndexIndex: c,\n          maxIndexIndex: m,\n          aabb2D: l\n        } = t;\n      if (e < l[0] || e > l[2] || n < l[1] || n > l[3]) break;\n      if (-1 === a || -1 === t.child0 && -1 === t.child1) {\n        this._intersectRange(o, m);\n        break;\n      }\n      {\n        this._intersectRange(r, c);\n        const i = (0 === a ? e : n) - h;\n        if (i < 0) {\n          if (-1 === t.child0) {\n            this._intersectRange(o, r);\n            break;\n          }\n          s = t.child0;\n        } else {\n          if (!(i > 0)) break;\n          if (-1 === t.child1) {\n            this._intersectRange(c, m);\n            break;\n          }\n          s = t.child1;\n        }\n      }\n    }\n  }\n  _intersectGeometryWithBVHGeneralRay(e, n) {\n    let i = e[0],\n      s = e[1],\n      h = n[0],\n      a = n[1];\n    const {\n      geometryMinZ: o\n    } = this;\n    if (!this.localMode) {\n      let t = 0,\n        r = 1;\n      const c = Math.min(.5 * this.planetCenterZ, o),\n        m = e[2],\n        l = n[2];\n      if (m < c && l < c) return;\n      if (m < c && (t = (c - m) / (l - m)), l < c && (r = (c - m) / (l - m)), t > r) return;\n      const d = (1 - t) * e[0] + t * n[0],\n        M = (1 - t) * e[1] + t * n[1],\n        x = (1 - t) * e[2] + t * n[2],\n        u = (1 - r) * e[0] + r * n[0],\n        p = (1 - r) * e[1] + r * n[1],\n        f = (1 - r) * e[2] + r * n[2],\n        {\n          planetCenterZ: _\n        } = this,\n        g = o - _,\n        I = g / (x - _);\n      i = d * I, s = M * I;\n      const B = g / (f - _);\n      h = u * B, a = p * B;\n    }\n    const r = h - i,\n      c = a - s,\n      m = this._bspNodes;\n    let l = 1;\n    {\n      const {\n          aabb2D: t\n        } = m[0],\n        e = (t, e, n, i) => {\n          if (Math.abs(e) < 1e-5 * Math.max(i - n, 1)) return !1;\n          const s = e > 0,\n            h = s ? i : n,\n            a = t + l * e;\n          return (s ? a < h : a > h) && (l = Math.max((h - t) / e, l), !0);\n        },\n        n = () => e(i, r, t[0], t[2]),\n        h = () => e(s, c, t[1], t[3]);\n      Math.abs(r) >= Math.abs(c) ? n() || h() : h() || n();\n    }\n    const d = [0, 0, l];\n    let M = 0;\n    for (; M < d.length;) {\n      const e = d[M];\n      let n = d[M + 1],\n        h = d[M + 2];\n      if (M += 3, n > h) continue;\n      const a = m[e],\n        {\n          minIndexIndex: o,\n          maxIndexIndex: x\n        } = a,\n        {\n          child0: u,\n          child1: p,\n          minMidIndexIndex: f,\n          maxMidIndexIndex: _,\n          aabb2D: g,\n          d: I,\n          dim: B\n        } = a;\n      {\n        const t = i + n * r,\n          e = i + h * r,\n          s = Math.min(t, e),\n          a = Math.max(t, e),\n          o = g[0],\n          c = g[2];\n        if (a < o || c < s) continue;\n        if (s < o) {\n          const t = (o - i) / r;\n          r > 0 ? n = Math.max(n, t) : h = Math.min(h, t);\n        }\n        if (c < a) {\n          const t = (c - i) / r;\n          r > 0 ? h = Math.min(h, t) : n = Math.max(n, t);\n        }\n      }\n      {\n        const t = s + n * c,\n          e = s + h * c,\n          i = Math.min(t, e),\n          a = Math.max(t, e),\n          o = g[1],\n          r = g[3];\n        if (a < o || r < i) continue;\n        if (i < o) {\n          const t = (o - s) / c;\n          c > 0 ? n = Math.max(n, t) : h = Math.min(h, t);\n        }\n        if (r < a) {\n          const t = (r - s) / c;\n          c > 0 ? h = Math.min(h, t) : n = Math.max(n, t);\n        }\n      }\n      if (-1 === u && -1 === p) this._intersectRange(o, x);else {\n        const e = 0 === B ? i : s,\n          a = 0 === B ? r : c,\n          m = e + n * a,\n          M = e + h * a,\n          g = Math.min(m, M),\n          b = Math.max(m, M),\n          V = t((I - e) / a, 0, l);\n        o < f && g <= I && (-1 !== u ? (d.push(u), d.push(a >= 0 ? n : Math.max(n, V)), d.push(a >= 0 ? Math.min(h, V) : h)) : this._intersectRange(o, f)), this._intersectRange(f, _), _ < x && I <= b && (-1 !== p ? (d.push(p), d.push(a >= 0 ? Math.max(n, V) : n), d.push(a >= 0 ? h : Math.min(h, V))) : this._intersectRange(_, x));\n      }\n    }\n  }\n  _generateBsp() {\n    const {\n      elementCount: t\n    } = this;\n    if (t < 1) return;\n    const e = n(t, t);\n    this._elementIndexMap = e;\n    for (let n = 0; n < t; ++n) e[n] = n;\n    const i = this.model.getAabbs2D();\n    let o = 0;\n    const m = this._bspNodes;\n    m.length = 0;\n    const {\n      localMode: l\n    } = this;\n    let d = !1;\n    if (!l) {\n      const {\n        planetCenterZ: t,\n        geometryMinZ: e\n      } = this;\n      d = t >= 0 || e < .5 * t;\n    }\n    const M = [],\n      x = (t, e, n, i, s) => {\n        M.push(t), M.push(e), M.push(n), M.push(i < 0 ? -1 : (s ? 0 : 1) + 2 * i);\n      },\n      {\n        maxBspNodeDepth: u,\n        minBspNodeElementCount: p\n      } = this,\n      f = (t, n, o, M, f) => {\n        const _ = m.length;\n        if (_ > 0 && (d || o >= u || n - t < p)) return;\n        const g = [0, 0, 0, 0];\n        r(g, t, n, e, i);\n        const {\n            d: I,\n            dim: B\n          } = l ? s(g) : h(g),\n          {\n            rangeMidStart: b,\n            rangeMidEnd: V\n          } = a(t, n, B, I, e, i),\n          C = o === u - 1,\n          H = !C && b >= t + p,\n          R = !C && n >= V + p;\n        if (H || R || 0 === _) {\n          const e = new c(t, b, V, n, B, I, g);\n          if (H && x(t, b, o + 1, _, !0), R && x(V, n, o + 1, _, !1), m.push(e), -1 !== M) {\n            const t = m[M];\n            f ? t.child0 = _ : t.child1 = _;\n          }\n        }\n      };\n    for (x(0, t, 0, -1, !1); o < M.length;) {\n      const t = M[o],\n        e = M[o + 1],\n        n = M[o + 2],\n        i = M[o + 3];\n      o += 4;\n      const s = i >> 1;\n      f(t, e, n, s, i - (s << 1) == 0);\n    }\n    this._generatedBVH = !0;\n  }\n}\nfunction s(t) {\n  const e = t[0],\n    n = t[1],\n    i = t[2],\n    s = t[3];\n  let h, a;\n  return i - e >= s - n ? (a = .5 * (e + i), h = 0) : (a = .5 * (n + s), h = 1), {\n    d: a,\n    dim: h\n  };\n}\nfunction h(t) {\n  const e = t[0],\n    n = t[1],\n    i = t[2],\n    s = t[3];\n  let h, a;\n  return i - e >= s - n ? (h = 0, a = .5 * (e + i)) : (h = 1, a = .5 * (n + s)), {\n    dim: h,\n    d: a\n  };\n}\nfunction a(t, e, n, i, s, h) {\n  let a = t;\n  {\n    let t = e;\n    for (; a < t;) {\n      const e = s[a];\n      o(e, n, i, h) < 0 ? ++a : (--t, s[a] = s[t], s[t] = e);\n    }\n  }\n  const r = a;\n  let c = a,\n    m = e;\n  for (; c < m;) {\n    const t = s[m - 1];\n    o(t, n, i, h) > 0 ? --m : (s[m - 1] = s[c], s[c] = t, ++c);\n  }\n  return {\n    rangeMidStart: r,\n    rangeMidEnd: m\n  };\n}\nfunction o(t, e, n, i) {\n  const s = 4 * t,\n    h = i[s + 0 + e];\n  return i[s + 2 + e] < n ? -1 : h > n ? 1 : 0;\n}\nfunction r(t, e, n, i, s) {\n  let h = 1 / 0,\n    a = 1 / 0,\n    o = -1 / 0,\n    r = -1 / 0;\n  for (let c = e; c < n; ++c) {\n    const t = 4 * i[c];\n    h = Math.min(h, s[t + 0]), a = Math.min(a, s[t + 1]), o = Math.max(o, s[t + 2]), r = Math.max(r, s[t + 3]);\n  }\n  t[0] = h, t[1] = a, t[2] = o, t[3] = r;\n}\nclass c {\n  constructor(t, e, n, i, s, h, a) {\n    this.minIndexIndex = t, this.minMidIndexIndex = e, this.maxMidIndexIndex = n, this.maxIndexIndex = i, this.dim = s, this.d = h, this.aabb2D = a, this.child0 = -1, this.child1 = -1;\n  }\n}\nexport { i as ElevationAgnosticBVH };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { c as t, z as e } from \"../../../../../chunks/vec32.js\";\nimport { create as i } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { ElevationAgnosticBVH as s } from \"./ElevationAgnosticBVH.js\";\nimport { intersectRayTrianglesWithVerticalOffsetENUGlobal as r, intersectRayTriangles as a } from \"../../lib/RayIntersections.js\";\nimport { generateTriangleAabbsLocal as n, generateTriangleAabbsGlobal as h } from \"../../lib/triangleIntersectionUtils.js\";\nclass l {\n  constructor(t, e, r, a, n, h, l, o, c) {\n    this.componentIndex = t, this.vertexData = e, this.vertexStride = r, this.indexData = a, this.startTriangleNumber = n, this.endTriangleNumber = h, this.geometryMinZ = l, this.planetCenterZ = o, this.localMode = c, this.maxBspNodeDepth = 8, this.minElementCountForBVH = 20, this.minBspNodeElementCount = 10, this.rayDirection = i(), this.ray0 = i(), this.isVerticalRay = !1, this._triangleHitCallback = m, this.totalElevationOffset = 0, this.normalRequired = !1, this._bvh = new s(h - n, this);\n  }\n  getAabbs2D() {\n    return this.localMode ? n(this.startTriangleNumber, this.endTriangleNumber, this.indexData, this.vertexData, this.vertexStride) : h(this.startTriangleNumber, this.endTriangleNumber, this.indexData, this.vertexData, this.vertexStride, this.geometryMinZ, this.planetCenterZ);\n  }\n  get numTriangles() {\n    return this.endTriangleNumber - this.startTriangleNumber;\n  }\n  intersectRay(i, s, r, a, n, h) {\n    t(this.ray0, i), e(this.rayDirection, s, i), this.isVerticalRay = r, this.totalElevationOffset = a, this.normalRequired = h, this._triangleHitCallback = n, this._bvh.intersectRay(i, s, r), this._triangleHitCallback = m;\n  }\n  intersectRange(t, e) {\n    const i = this._bvh.elementIndexMap;\n    o(this.ray0, this.rayDirection, t, e, this.indexData, this.vertexData, this.vertexStride, this.totalElevationOffset, this.planetCenterZ, this.normalRequired, this._triangleHitCallback, i, this.startTriangleNumber);\n  }\n  getTriangleElevationOffset(t) {\n    return this.totalElevationOffset;\n  }\n}\nfunction o(t, e, i, s, n, h, l, o, m, c, g, u = null, b = 0) {\n  0 !== o ? r(t, e, i, s, n, h, l, o, m, c, g, u, b) : a(t, e, i, s, n, h, l, c, g, u, b);\n}\nfunction m() {}\nexport { l as ComponentObjectElevationAgnosticComponentGeometryBVH, o as intersectTriangleRangeForComponent };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { reallocGrowthFactor as t } from \"../../../../core/arrayUtils.js\";\nfunction n(n, i, e, s) {\n  if (e >= i) return n;\n  null == n && (n = r());\n  const a = n.isVisibleBit;\n  let l = n.data;\n  const c = u(l),\n    f = e / c | 0,\n    h = e - c * f,\n    B = (i - 1) / c | 0,\n    E = l,\n    b = s === a;\n  if (!(e < E.length * c) && b) {\n    const n = f + 1,\n      i = Math.ceil(E.length * t),\n      r = B + 1;\n    let e = Math.max(n, i);\n    e = Math.min(e, r), l = new Uint32Array(e), l.set(E);\n  }\n  return f < l.length && (l[f] = o(l[f], h, b)), n.data = l, n;\n}\nfunction i(t, n) {\n  if (null == t) return !0;\n  const {\n      isVisibleBit: i,\n      data: r\n    } = t,\n    o = u(r);\n  return n < r.length * o ? e(i, r, n, o) : !t.isVisibleBit;\n}\nfunction r(t = !0) {\n  return {\n    isVisibleBit: !t,\n    data: new Uint32Array(0)\n  };\n}\nfunction e(t, n, i, r) {\n  const e = i / r | 0,\n    u = i - e * r;\n  return s(n[e], u) === t;\n}\nfunction u(t) {\n  const n = 8;\n  return t.BYTES_PER_ELEMENT * n;\n}\nfunction o(t, n, i) {\n  return t & ~(1 << n) | (i ? 1 : 0) << n;\n}\nfunction s(t, n) {\n  return !!(t & 1 << n);\n}\nexport { r as defaultVisibilities, i as getVisibility, n as updateVisibilityWithCount };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { c as t, z as e } from \"../../../../../chunks/vec32.js\";\nimport { create as n } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as o } from \"../../../../../geometry/support/aaBoundingBox.js\";\nimport { ComponentObjectElevationAgnosticComponentGeometryBVH as s, intersectTriangleRangeForComponent as i } from \"./ComponentObjectElevationAgnosticComponentGeometryBVH.js\";\nimport { ElevationAgnosticBVH as r } from \"./ElevationAgnosticBVH.js\";\nimport { getVisibility as a } from \"../../lib/ComponentUtils.js\";\nimport { computeInvDir as c, intersectAabbInvDir as l, MeshIntersectionOptions as h } from \"../../lib/RayIntersections.js\";\nclass m {\n  constructor(t, e, o, s, i, a, c, l) {\n    this.vertexData = t, this.vertexStride = e, this.indexData = o, this._components = s, this._componentAabbs3D = i, this.geometryMinZ = a, this.planetCenterZ = c, this.localMode = l, this.maxBspNodeDepth = 6, this.minElementCountForBVH = 10, this.minBspNodeElementCount = 3, this._ray0 = f, this._ray1 = u, this._invDir = n(), this._componentVerticalOffsets = null, this._verticalOffset = null, this._tolerance = 0, this._intersectionOptions = D, this._callback = y, this.rayDirectionC = n(), this._componentIndexMap = null, this._bvh = new r(s.count, this), this.componentIntersectionData = new Array(s.count);\n  }\n  get numComponents() {\n    return this._components.count;\n  }\n  get minZGlobal() {\n    return this.geometryMinZ - this.planetCenterZ;\n  }\n  getAabbs2D() {\n    return this.localMode ? this.getAabbs2DLocal() : this.getAabbs2DGlobal();\n  }\n  getAabbs2DGlobal() {\n    const {\n        numComponents: t,\n        planetCenterZ: e,\n        minZGlobal: n\n      } = this,\n      o = new Float64Array(4 * t),\n      s = this._componentAabbs3D;\n    for (let i = 0; i < t; ++i) {\n      const t = 6 * i,\n        r = s[t + 0],\n        a = s[t + 1],\n        c = s[t + 2],\n        l = s[t + 3],\n        h = s[t + 4],\n        m = n / (c - e),\n        p = n / (s[t + 5] - e),\n        _ = Math.min(r * m, r * p),\n        b = Math.min(a * m, a * p),\n        f = Math.max(l * m, l * p),\n        u = Math.max(h * m, h * p),\n        y = 4 * i;\n      o[y + 0] = _, o[y + 1] = b, o[y + 2] = f, o[y + 3] = u;\n    }\n    return o;\n  }\n  getAabbs2DLocal() {\n    const {\n        numComponents: t\n      } = this,\n      e = new Float64Array(4 * t),\n      n = this._componentAabbs3D;\n    for (let o = 0; o < t; ++o) {\n      const t = 6 * o,\n        s = n[t + 0],\n        i = n[t + 1],\n        r = n[t + 3],\n        a = n[t + 4],\n        c = 4 * o;\n      e[c + 0] = s, e[c + 1] = i, e[c + 2] = r, e[c + 3] = a;\n    }\n    return e;\n  }\n  intersectRay(t, e, n, o, s, i, r) {\n    const {\n      isVerticalRay: a\n    } = r;\n    this._ray0 = t, this._ray1 = e, this._componentVerticalOffsets = n, this._verticalOffset = o, this._tolerance = i, this._intersectionOptions = r, this._componentIndexMap = this._bvh.elementIndexMap, c(t, e, this._invDir), this._callback = s, this._bvh.intersectRay(t, e, a), this._callback = y;\n  }\n  intersectRange(t, e) {\n    const n = this._componentIndexMap,\n      o = this._components,\n      s = o.pickability,\n      i = o.visibility;\n    for (let r = t; r < e; ++r) {\n      const t = n ? n[r] : r;\n      a(s, t) && i.isVisible(t) && this._intersectComponent(t);\n    }\n  }\n  getComponentTriangleCount(t) {\n    const e = this._components.offsets,\n      n = e[t] / 3;\n    return e[t + 1] / 3 - n;\n  }\n  getComponentAabb3D(t, e) {\n    const n = this._componentAabbs3D,\n      o = 6 * t;\n    return e[0] = n[o], e[1] = n[o + 1], e[2] = n[o + 2], e[3] = n[o + 3], e[4] = n[o + 4], e[5] = n[o + 5], e;\n  }\n  _intersectComponent(n) {\n    if (!a(this._components.pickability, n)) return;\n    const o = this.getComponentAabb3D(n, p);\n    let r = !1;\n    const {\n        localMode: c,\n        _componentVerticalOffsets: h,\n        _verticalOffset: m,\n        _ray0: f,\n        _ray1: u,\n        _invDir: y,\n        planetCenterZ: D,\n        _tolerance: C,\n        rayDirectionC: v,\n        componentIntersectionData: A\n      } = this,\n      {\n        isVerticalRay: x\n      } = this._intersectionOptions,\n      d = this._components.offsets,\n      M = t(_, f),\n      O = t(b, u),\n      V = h?.[n] ?? 0,\n      Z = V + (m?.offset ?? 0);\n    if (0 !== Z && (c ? (M[2] = f[2] - Z, O[2] = u[2] - Z, r = !0) : null != m && (m.componentOffset = V)), null == m || r || 0 === Z || m.applyToAabb(o), !l(o, M, y, C)) return;\n    e(v, O, M);\n    const j = d[n] / 3,\n      R = d[n + 1] / 3,\n      k = R - j,\n      B = (t, e, o) => {\n        this._callback(t, e, n, o);\n      },\n      {\n        vertexData: I,\n        vertexStride: w,\n        indexData: G,\n        _intersectionOptions: E\n      } = this,\n      {\n        normalRequired: F\n      } = E;\n    if (k > g) {\n      let t = A[n];\n      null == t && (t = new s(n, I, w, G, j, R, this.geometryMinZ, D, c), A[n] = t), t.intersectRay(M, O, x, r ? 0 : Z, B, F);\n    } else {\n      i(M, v, j, R, G, I, w, r ? 0 : Z, D, F, B);\n    }\n  }\n}\nconst p = o(),\n  _ = n(),\n  b = n(),\n  f = n(),\n  u = n(),\n  y = () => {},\n  D = new h(),\n  g = 40;\nexport { m as ComponentObjectElevationAgnosticComponentBVH };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { invert as t, transpose as s } from \"../../../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { create as e } from \"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";\nimport { z as n, t as i, k as o } from \"../../../../../chunks/vec32.js\";\nimport { create as a } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { newFloatArray as r } from \"../../../../../geometry/support/FloatArray.js\";\nimport { compactIndices as h, getContinuousIndexArray as m } from \"../../../../../geometry/support/Indices.js\";\nimport { ViewingMode as p } from \"../../../../ViewingMode.js\";\nimport { ComponentObjectElevationAgnosticComponentBVH as c } from \"./ComponentObjectElevationAgnosticComponentBVH.js\";\nclass b {\n  constructor(t, s, e) {\n    this.viewingMode = t, this.positionData = s, this._components = e, this.verticalOffset = null, this.componentVerticalOffsets = null, this._planetCenter = a(), this._componentBvh = null, this._aabb = [0, 0, 0, 0, 0, 0], this._indices = s.indices ? h(s.indices) : m(s.positions.length / 3), this._positions = s.positions;\n  }\n  destroy() {\n    this._positions = null, this._indices = null, this._perComponentAabbs = null, this._componentBvh = null;\n  }\n  getComponentAabb(t, s) {\n    const e = this._ensureComponentAabbs(),\n      n = 6 * t;\n    return s[0] = e[n], s[1] = e[n + 1], s[2] = e[n + 2], s[3] = e[n + 3], s[4] = e[n + 4], s[5] = e[n + 5], s;\n  }\n  getComponentAabbs() {\n    return this._ensureComponentAabbs();\n  }\n  _ensureComponentAabbs() {\n    return this._perComponentAabbs || (this._perComponentAabbs = this._computePerComponentAabbs()), this._perComponentAabbs;\n  }\n  getComponentPositions(t, s) {\n    s.indices = this._indices, s.data = this._positions, s.stride = 3, s.startIndex = this._components.offsets[t], s.endIndex = this._components.offsets[t + 1];\n  }\n  intersect(e, a, r, h, m, c, b, d) {\n    this.verticalOffset = h, this.componentVerticalOffsets = m;\n    const {\n        position: C\n      } = c,\n      M = n(l, e, C),\n      A = n(_, a, C),\n      v = t(u, c.rotationScale);\n    i(M, M, v), i(A, A, v);\n    const x = s(g, v);\n    if (this.viewingMode === p.Global) {\n      const t = this._planetCenter;\n      o(t, C), i(t, t, v);\n    }\n    const j = (t, s, e, n) => {\n      d(e, t, n ? i(f, n, x) : null, s);\n    };\n    this._intersectComponents(M, A, m, h, j, r, b);\n  }\n  _computePerComponentAabbs() {\n    const t = this._aabb,\n      s = .5 * (t[0] + t[3]),\n      e = .5 * (t[1] + t[4]),\n      n = .5 * (t[2] + t[5]),\n      i = this._components.count,\n      o = r(6 * i),\n      a = this._indices,\n      h = this._positions,\n      m = this._components.offsets;\n    let p = 0,\n      c = 1 / 0,\n      b = 1 / 0,\n      l = 1 / 0,\n      _ = -1 / 0,\n      u = -1 / 0,\n      f = -1 / 0;\n    for (let r = 0; r < i; r++) {\n      const t = m[r],\n        i = m[r + 1];\n      let g = 1 / 0,\n        d = 1 / 0,\n        C = 1 / 0,\n        M = -1 / 0,\n        A = -1 / 0,\n        v = -1 / 0;\n      if (t < i) for (let s = t; s < i; s++) {\n        const t = 3 * a[s],\n          e = h[t],\n          n = h[t + 1],\n          i = h[t + 2];\n        g = Math.min(g, e), d = Math.min(d, n), C = Math.min(C, i), M = Math.max(M, e), A = Math.max(A, n), v = Math.max(v, i);\n      } else g = s, d = e, C = n, M = s, A = e, v = n;\n      o[p++] = g, o[p++] = d, o[p++] = C, o[p++] = M, o[p++] = A, o[p++] = v, c = Math.min(c, g), b = Math.min(b, d), l = Math.min(l, C), _ = Math.max(_, M), u = Math.max(u, A), f = Math.max(f, v);\n    }\n    return this._aabb[0] = c, this._aabb[1] = b, this._aabb[2] = l, this._aabb[3] = _, this._aabb[4] = u, this._aabb[5] = f, o;\n  }\n  _intersectComponents(t, s, e, n, i, o, a) {\n    let r = this._componentBvh;\n    null == r && (r = new c(this._positions, 3, this._indices, this._components, this._ensureComponentAabbs(), this.geometryMinZ, this.planetCenterZ, this.localMode), this._componentBvh = r), r.intersectRay(t, s, e, n, i, o, a);\n  }\n  get geometryMinZ() {\n    return this._aabb[2];\n  }\n  get planetCenterZ() {\n    return this._planetCenter[2];\n  }\n  get numTriangles() {\n    return this._indices.length / 3;\n  }\n  get localMode() {\n    return this.viewingMode === p.Local;\n  }\n  get positions() {\n    return this._positions;\n  }\n  get indices() {\n    return this._indices;\n  }\n  get aabb() {\n    return this._ensureComponentAabbs(), this._aabb;\n  }\n}\nconst l = a(),\n  _ = a(),\n  u = e(),\n  f = a(),\n  g = e();\nexport { b as IntersectionGeometry };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t, s, e) {\n    this.material = t, this.geometry = s, this.meta = e;\n  }\n  destroy() {\n    this.material.dispose(), this.geometry.dispose();\n  }\n}\nexport { t as Renderable };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass s {\n  constructor(s, i, t, e) {\n    this.vao = s, this.primitiveType = i, this.parameters = t, this.indexed = e;\n  }\n  dispose() {\n    this.vao.dispose();\n  }\n}\nexport { s as RenderGeometry };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass r {\n  constructor() {\n    this.near = Number.MAX_VALUE, this.far = -Number.MAX_VALUE;\n  }\n}\nfunction n(r, n) {\n  return {\n    near: r,\n    far: n\n  };\n}\nfunction a(r) {\n  return r ? t(r, 1 / 0, -1 / 0) : n(1 / 0, -1 / 0);\n}\nfunction t(r, n, a) {\n  return r.near = n, r.far = a, r;\n}\nfunction e(r, n) {\n  null != n && (r.near = Math.min(r.near, n.near), r.far = Math.max(r.far, n.far));\n}\nfunction f(r, n) {\n  return r.near <= n && n <= r.far;\n}\nconst u = {\n  near: 0,\n  far: 0\n};\nexport { r as DepthRange, n as create, a as empty, t as set, e as union, f as within, u as zero };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from \"../../../../../core/PooledArray.js\";\nimport { fromQuat as e, scale as r } from \"../../../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { create as o } from \"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";\nimport { conjugate as n } from \"../../../../../core/libs/gl-matrix-2/math/quat.js\";\nimport { create as a } from \"../../../../../core/libs/gl-matrix-2/factories/quatf64.js\";\nimport { m as s, z as c, u as l, s as f, o as i, c as u, t as m, g as b } from \"../../../../../chunks/vec32.js\";\nimport { create as h } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { signedDistance as p } from \"../../../../../geometry/support/plane.js\";\nimport { empty as g, within as d, union as j } from \"../../lib/depthRange.js\";\nfunction w(t, e) {\n  const r = g(),\n    {\n      eye: o,\n      frustum: n,\n      viewForward: a\n    } = t;\n  e.forAll(t => {\n    const e = null != t.offsetObb ? t.offsetObb : t.obb,\n      l = s(c(C, e.center, o), a),\n      f = e.projectedRadius(a);\n    if (d(r, l - f) && d(r, l + f)) return;\n    const i = M(e, n);\n    if (-1 === i) return;\n    if (0 === i) return k.far = l + f, k.near = l - f, void j(r, k);\n    const u = x.pushNew();\n    u.near = l - f, u.far = l + f, u.mask = i, u.object = t;\n  });\n  for (let l = 0; l < x.length; l++) {\n    const t = x.data[l];\n    if (d(r, t.near) && d(r, t.far)) continue;\n    k.far = t.far, k.near = 1 / 0;\n    const e = R(null != t.object.offsetObb ? t.object.offsetObb : t.object.obb, o, y, e => {\n      let r = O;\n      for (let o = 0; o < F && e.length > 0; o++) {\n        if (!(t.mask & 1 << o)) continue;\n        z(n[o], e, r);\n        const a = e;\n        e = r, r = a;\n      }\n      for (let t = 0; t < e.length; t += 3) {\n        f(q, e.data[t], e.data[t + 1], e.data[t + 2]);\n        const r = s(c(q, q, o), a);\n        k.near = Math.min(k.near, r);\n      }\n    });\n    0 === e && (k.near = 0), j(r, k);\n  }\n  return x.length = 0, r;\n}\nconst x = new t({\n    allocator: t => t || {\n      near: 1 / 0,\n      far: -1 / 0,\n      mask: 0,\n      object: null\n    },\n    deallocator: t => (t.object = null, t)\n  }),\n  k = g(),\n  q = h(),\n  v = h(),\n  y = new t({\n    deallocator: null\n  }),\n  O = new t({\n    deallocator: null\n  });\nfunction z(t, e, r) {\n  r.length = 0;\n  const o = e.length - 3;\n  A(q, e, o);\n  const n = p(t, q);\n  n <= 0 && (r.push(q[0]), r.push(q[1]), r.push(q[2]));\n  let a = 0,\n    s = n;\n  for (; a < o; a += 3) {\n    A(v, e, a);\n    const o = p(t, v);\n    if (s * o < 0) {\n      i(q, v, q, o / (o - s)), P(r, q);\n    }\n    o <= 0 && P(r, v), s = o, u(q, v);\n  }\n  if (s * n < 0) {\n    A(v, e, o);\n    i(q, v, q, n / (n - s)), P(r, q);\n  }\n}\nfunction A(t, e, r) {\n  return f(t, e.data[r], e.data[r + 1], e.data[r + 2]);\n}\nfunction P(t, e) {\n  t.push(e[0]), t.push(e[1]), t.push(e[2]);\n}\nfunction R(t, o, a, s) {\n  n(B, t.quaternion), c(C, o, t.center), l(C, C, B);\n  const i = t.halfSize,\n    u = 8 * ((C[0] < -i[0] ? -1 : C[0] > i[0] ? 1 : 0) + 3 * (C[1] < -i[1] ? -1 : C[1] > i[1] ? 1 : 0) + 9 * (C[2] < -i[2] ? -1 : C[2] > i[2] ? 1 : 0) + 13),\n    h = S[u];\n  if (0 === h) return h;\n  e(N, t.quaternion), r(N, N, t.halfSize);\n  const p = (e, r) => {\n    const o = S[u + r + 1];\n    return f(e, ((1 & o) << 1) - 1, (2 & o) - 1, ((4 & o) >> 1) - 1), m(e, e, N), b(e, t.center, e);\n  };\n  return a.length = 0, P(a, p(D, 0)), P(a, p(E, 1)), P(a, p(C, 2)), P(a, p(G, 3)), s(a), 1 === h ? h : (a.length = 0, P(a, D), P(a, G), P(a, p(C, 4)), P(a, p(H, 5)), s(a), 2 === h || (a.length = 0, P(a, D), P(a, H), P(a, p(C, 6)), P(a, E), s(a)), h);\n}\nconst S = (() => {\n    const t = new Array(216);\n    let e = 0;\n    const r = r => {\n      for (let o = 0; o < r.length; o++) t[e + o] = r[o];\n      e += 8;\n    };\n    return r([3, 0, 6, 2, 3, 1, 5, 4]), r([2, 0, 2, 3, 1, 5, 4, 0]), r([3, 1, 0, 2, 3, 7, 5, 4]), r([2, 0, 1, 3, 2, 6, 4, 0]), r([1, 0, 1, 3, 2, 0, 0, 0]), r([2, 1, 5, 7, 3, 2, 0, 0]), r([3, 2, 0, 1, 3, 7, 6, 4]), r([2, 2, 0, 1, 3, 7, 6, 0]), r([3, 3, 0, 1, 5, 7, 6, 2]), r([2, 0, 1, 5, 4, 6, 2, 0]), r([1, 0, 1, 5, 4, 0, 0, 0]), r([2, 1, 3, 7, 5, 4, 0, 0]), r([1, 0, 2, 6, 4, 0, 0, 0]), r([0, 0, 0, 0, 0, 0, 0, 0]), r([1, 1, 3, 7, 5, 0, 0, 0]), r([2, 2, 3, 7, 6, 4, 0, 0]), r([1, 2, 3, 7, 6, 0, 0, 0]), r([2, 3, 1, 5, 7, 6, 2, 0]), r([3, 4, 0, 1, 5, 7, 6, 2]), r([2, 5, 7, 6, 4, 0, 1, 0]), r([3, 5, 0, 1, 3, 7, 6, 4]), r([2, 4, 5, 7, 6, 2, 0, 0]), r([1, 4, 5, 7, 6, 0, 0, 0]), r([2, 5, 1, 3, 7, 6, 4, 0]), r([3, 6, 0, 2, 3, 7, 5, 4]), r([2, 6, 2, 3, 7, 5, 4, 0]), r([3, 7, 6, 2, 3, 1, 5, 4]), t;\n  })(),\n  F = 4;\nfunction M(t, e) {\n  let r = 0;\n  for (let o = 0; o < F; o++) {\n    const n = t.intersectPlane(e[o]);\n    if (n > 0) return -1;\n    0 === n && (r |= 1 << o);\n  }\n  return r;\n}\nconst N = o(),\n  B = a(),\n  C = h(),\n  D = h(),\n  E = h(),\n  G = h(),\n  H = h();\nexport { w as computeDepthRange };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { computeDepthRange as t } from \"./DepthRange.js\";\nclass e {\n  constructor(t) {\n    this._objects = t;\n  }\n  submit(t, e) {\n    this._objects.preSubmit(e), this._objects.visibleObjects.forAll(s => s.renderable.material.submit(t, e, s));\n  }\n  queryShadowCasterDepthRange(e) {\n    return this._objects.visibleObjects.length ? t(e, this._objects.visibleObjects) : null;\n  }\n}\nexport { e as RenderSubmitSystem };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as o } from \"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { ColorMixModeEnum as t } from \"../../../layers/support/symbolColorUtils.js\";\nclass s {\n  constructor() {\n    this.externalColor = o(), this.externalColorMixMode = t.Multiply, this.castShadows = !0, this.pickable = !0, this.elevationOffset = 0;\n  }\n}\nexport { s as UniformComponentParameters };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from \"../../../../../core/has.js\";\nimport e from \"../../../../../core/Logger.js\";\nimport t from \"../../../../../core/PooledArray.js\";\nimport { isArray as o } from \"../../../../../core/typedArrayUtil.js\";\nimport { a as n } from \"../../../../../chunks/vec32.js\";\nimport { clone as i } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as r } from \"../../../../../geometry/support/aaBoundingBox.js\";\nimport { compactIndices as s } from \"../../../../../geometry/support/Indices.js\";\nimport { c as a } from \"../../../../../chunks/vec3.js\";\nimport { c as l } from \"../../../../../chunks/vec33.js\";\nimport { ViewingMode as c } from \"../../../../ViewingMode.js\";\nimport { ColorMixModeEnum as m, encodeSymbolColor as h } from \"../../../layers/support/symbolColorUtils.js\";\nimport { computeOffsetObb as f } from \"../../../support/orientedBoundingBox.js\";\nimport { glLayout as p } from \"../../../support/buffer/glUtil.js\";\nimport { newLayout as u } from \"../../../support/buffer/InterleavedLayout.js\";\nimport d from \"./ComponentData.js\";\nimport { ComponentObject as g } from \"./ComponentObject.js\";\nimport { IntersectionGeometry as b } from \"./IntersectionGeometry.js\";\nimport { Renderable as y } from \"./Renderable.js\";\nimport { RenderGeometry as v } from \"./RenderGeometry.js\";\nimport { RenderSubmitSystem as C } from \"./RenderSubmitSystem.js\";\nimport { createVertexBufferLayout as _ } from \"./SourceGeometry.js\";\nimport { UniformComponentParameters as j } from \"./UniformComponentParameters.js\";\nimport { ComponentParametersVarying as M, ComponentParametersUniform as x, ComponentParameterSummary as O, ComponentMaterial as w } from \"./Material/ComponentMaterial.js\";\nimport { attributeLocations as A } from \"./Material/ComponentTechnique.js\";\nimport { encodeElevationOffset as R } from \"./Material/shader/ComponentData.glsl.js\";\nimport { getVisibility as D, updateVisibilityWithCount as I } from \"../../lib/ComponentUtils.js\";\nimport { assert as S } from \"../../lib/Util.js\";\nimport { VertexAttribute as E } from \"../../lib/VertexAttribute.js\";\nimport { getVerticalOffsetI3S as V } from \"../../lib/verticalOffsetUtils.js\";\nimport { EdgeInputBufferLayout as P } from \"../../lib/edgeRendering/bufferLayouts.js\";\nimport { extractComponentsEdgeLocationsLayout as B } from \"../../lib/edgeRendering/edgeProcessing.js\";\nimport { BufferManager as N } from \"../../lib/TextureBackedBuffer/BufferManager.js\";\nimport { BufferObject as U } from \"../../../../webgl/BufferObject.js\";\nimport { Usage as T, PrimitiveType as L } from \"../../../../webgl/enums.js\";\nimport { VertexArrayObject as G } from \"../../../../webgl/VertexArrayObject.js\";\nconst k = () => e.getLogger(\"esri.views.3d.webgl-engine.collections.Component.ComponentObjectCollection\");\nclass q {\n  constructor(e, o) {\n    this._renderManager = e, this._viewingMode = o, this._elevationRangeCacheVerticalOffset = NaN, this._elevationRangeCacheMin = NaN, this._elevationRangeCacheMax = NaN, this._visible = new t(), this._hidden = new t(), this._renderSubmit = new C(this), this._renderManager.register(this._renderSubmit), this._hasObjectAndLayerId = has(\"enable-feature:objectAndLayerId-rendering\"), this._componentBufferManager = new N(e.rctx, 2 + (this._hasObjectAndLayerId ? 1 : 0));\n  }\n  destroy() {\n    S(0 === this._hidden.length && 0 === this._visible.length, \"ObjectCollection should be empty upon disposal\"), this._componentBufferManager.destroy(), this._visible.forAll(e => e.destroy()), this._hidden.forAll(e => e.destroy()), this._visible.clear(), this._hidden.clear();\n  }\n  createObject(e) {\n    const t = e.geometry,\n      o = new d(this._componentBufferManager, s(t.componentOffsets)),\n      n = this._createRenderable(e, o),\n      i = new b(this._viewingMode, t.positionData, o),\n      r = new g(e.transform, e.toMapSpace, e.obb.clone(), o, n, i);\n    return (r.visible ? this._visible : this._hidden).push(r), r;\n  }\n  destroyObject(e) {\n    const t = e;\n    (t.visible ? this._visible : this._hidden).removeUnordered(t), t.destroy(), this._notifyDirty();\n  }\n  setObjectVisibility(e, t) {\n    const o = e;\n    t !== o.visible && (t ? (this._hidden.removeUnordered(o), this._visible.push(o)) : (this._visible.removeUnordered(o), this._hidden.push(o)), o.visible = t, this._notifyDirty());\n  }\n  preSubmit(e) {\n    const t = e.camera.eye;\n    this.visibleObjects.forAll(e => e.renderable.meta.cameraDepthSquared = n(t, e.obb.center));\n  }\n  getMaterial(e) {\n    return e.renderable.material;\n  }\n  updateMaterial(e, t) {\n    const o = e.renderable.material;\n    t(o), o.dirty && this._notifyDirty();\n  }\n  setAllComponentVisibilities(e, t) {\n    const o = e;\n    o.components.visibility.reset(t), o.components.visibilityDirty(), this._notifyDirty();\n  }\n  forEachVisibleComponent(e, t) {\n    return e.components.visibility.forEachComponent(t);\n  }\n  getComponentCount(e) {\n    const t = e,\n      o = t.components.visibility.componentCount;\n    return {\n      visible: o,\n      invisible: t.components.count - o\n    };\n  }\n  setComponentData(e, t) {\n    const o = e,\n      n = o.renderable.material,\n      i = o.components,\n      r = i.materialDataBuffer,\n      s = i.materialDataIndices,\n      a = new j(),\n      l = r.textureBuffer,\n      c = new Uint8Array(4),\n      p = new Uint32Array(c.buffer);\n    let u = 0,\n      d = 0,\n      g = 0,\n      b = i.verticalOffsets,\n      y = 1 / 0,\n      v = -1 / 0,\n      C = !1,\n      _ = !1,\n      w = 0;\n    for (let f = 0; f < i.count; f++) {\n      t(f, a), u += +(a.externalColor[3] < 1), d += +(a.externalColorMixMode === m.Replace && 1 === a.externalColor[3]), g += +a.castShadows, h(a.externalColor, a.externalColorMixMode, c), c[2] = 254 & c[2] | +a.castShadows, l.setData(s[f], 0, c[0], c[1], c[2], c[3]), C ||= f > 0 && w !== p[0], w = p[0], _ ||= 0 !== a.elevationOffset, _ && null == b && (b = new Array(f).fill(0)), null != b && (b[f] = a.elevationOffset), y = Math.min(y, a.elevationOffset), v = Math.max(v, a.elevationOffset), R(a.elevationOffset, c), l.setData(s[f], 1, c[0], c[1], c[2], c[3]);\n      const e = a.objectAndLayerIdColor;\n      null != e && l.setData(s[f], 2, e[0], e[1], e[2], e[3]), a.pickable !== D(i.pickability, f) && (i.pickability = I(i.pickability, i.count, f, a.pickable));\n    }\n    i.verticalOffsets = _ ? b : null, o.offsetObb = _ ? f(o.obb, y, v, this._viewingMode, o.offsetObb ?? o.obb.clone()) : null, C || _ || this._hasObjectAndLayerId ? (n.componentParameters = new M(), n.componentParameters.castShadows = H(g, i.count), n.componentParameters.transparent = H(u, i.count), n.componentParameters.opaqueOverride = H(d, i.count), n.componentParameters.texture = l, l.updateTexture()) : (n.componentParameters = new x(), n.componentParameters.castShadows = a.castShadows ? O.All : O.None, n.componentParameters.externalColor = a.externalColor, n.componentParameters.externalColorMixMode = a.externalColorMixMode), this._elevationRangeCacheVerticalOffset = NaN, this._notifyDirty();\n  }\n  getComponentAabb(e, t, o, n = !1) {\n    e.intersectionGeometry.getComponentAabb(t, o);\n    const i = e,\n      r = i.components.verticalOffsets;\n    if (n || null == r) return o;\n    const s = r[t];\n    if (this._viewingMode === c.Local || 0 === s) return o[2] += s, o[5] += s, o;\n    const a = V(s);\n    return a.localOrigin = i.transform.position, a.applyToAabb(o);\n  }\n  getComponentObb(e) {\n    return e.obb;\n  }\n  getObjectTransform(e) {\n    return e.transform;\n  }\n  getComponentPositions(e, t, o) {\n    return e.intersectionGeometry.getComponentPositions(t, o);\n  }\n  expandRangeWithComponentObjectElevationRange(e, t, o, n) {\n    Number.isNaN(this._elevationRangeCacheVerticalOffset) || this._elevationRangeCacheVerticalOffset !== t || n.expandElevationRangeValues(this._elevationRangeCacheMin, this._elevationRangeCacheMax);\n    const i = e,\n      r = i.components,\n      s = r.count,\n      a = r.verticalOffsets,\n      l = i.intersectionGeometry,\n      m = this._viewingMode === c.Local,\n      h = l.getComponentAabbs(),\n      f = X;\n    let p = 1 / 0,\n      u = -1 / 0;\n    for (let c = 0; c < s; c++) {\n      const e = 6 * c,\n        r = a?.[c] ?? 0;\n      let s = 1 / 0,\n        l = -1 / 0;\n      if (m) s = h[e + 2] + r + t, l = h[e + 5] + r + t;else {\n        if (f[0] = h[e], f[1] = h[e + 1], f[2] = h[e + 2], f[3] = h[e + 3], f[4] = h[e + 4], f[5] = h[e + 5], 0 !== r) {\n          const e = V(r);\n          e.localOrigin = i.transform.position, e.applyToAabb(f);\n        }\n        const s = Math.max(Math.abs(f[3]), Math.abs(f[0])),\n          a = Math.max(Math.abs(f[4]), Math.abs(f[1])),\n          l = t + f[5] + o;\n        n.expandElevationRangeValues(t + f[2], Math.sqrt(s * s + a * a + l * l) - o);\n      }\n      n.expandElevationRangeValues(s, l), p = Math.min(p, s), u = Math.max(u, l);\n    }\n    this._elevationRangeCacheVerticalOffset = t, this._elevationRangeCacheMin = p, this._elevationRangeCacheMax = u;\n  }\n  intersect(e, t, o, n, i, r, s) {\n    const a = e,\n      {\n        transform: l\n      } = a,\n      {\n        position: c\n      } = l;\n    return null != i && (i.localOrigin = c), a.intersectionGeometry.intersect(t, o, n, i, a.components.verticalOffsets, l, r, s);\n  }\n  addEdges(e, t, o, n, i) {\n    const r = e,\n      {\n        indices: s,\n        positions: a\n      } = r.intersectionGeometry,\n      l = r.components.offsets;\n    return t.addComponentObject(r, a, s, l, o, n, i);\n  }\n  async extractEdgeInformation(e, t, o) {\n    const n = e,\n      r = n.components.visibility;\n    if (r.allInvisible()) return {\n      buffer: B.createBuffer(0),\n      origin: [0, 0, 0]\n    };\n    const {\n        indices: s,\n        positions: c\n      } = n.intersectionGeometry,\n      m = n.components.offsets,\n      h = P.createBuffer(c.length / 3);\n    l(h.position.typedBuffer, c, h.position.typedBufferStride, 3), a(h.position, h.position, n.transform.rotationScale), this._setComponentIndices(h.componentIndex, s, m);\n    const f = h.count,\n      p = this._computeVisibilityIndices(s, r, m, f);\n    return {\n      origin: i(n.transform.position),\n      buffer: await t.extractComponentsEdgeLocations({\n        indices: p,\n        indicesLength: p.length,\n        skipDeduplicate: !0,\n        data: h,\n        writerSettings: {\n          reducedPrecision: !1,\n          variants: 0\n        }\n      }, o)\n    };\n  }\n  _setComponentIndices(e, t, o) {\n    let n = 0;\n    for (let i = 0; i < o.length - 1; i++) {\n      const r = o[i],\n        s = o[i + 1];\n      for (let o = r; o < s; o++) {\n        const i = t ? t[o] : o;\n        e.set(i, n);\n      }\n      n++;\n    }\n  }\n  _computeVisibilityIndices(e, t, n, i) {\n    if (e && t.allVisible()) return e;\n    let r = 0;\n    t.forEachComponentRange((e, t) => (r += n[t] - n[e], !0));\n    const s = o(e) ? new Array(r) : 2 === e?.BYTES_PER_ELEMENT || i <= 65536 ? new Uint16Array(r) : new Uint32Array(r);\n    let a = 0;\n    return t.forEachComponentRange((t, o) => {\n      const i = n[t],\n        r = n[o];\n      for (let n = i; n < r; n++) s[a++] = e ? e[n] : n;\n      return !0;\n    }), s;\n  }\n  addComponentHighlight(e, t) {\n    const o = e.components;\n    null == o.highlightCounts && (o.highlightCounts = new Uint32Array(o.count + 1));\n    0 === o.highlightCounts[t]++ && (o.highlightsDirty(), this._notifyDirty()), o.highlightCounts[o.count]++;\n  }\n  removeComponentHighlight(e, t) {\n    const o = e.components;\n    if (null == o.highlightCounts) return void k().warn(\"Removing non-existing highlight.\");\n    const n = o.highlightCounts[t],\n      i = o.highlightCounts[o.count];\n    if (0 !== n) {\n      if (n > 1) return o.highlightCounts[t] = n - 1, void (o.highlightCounts[o.count] = i - 1);\n      o.highlightCounts[t] = 0, o.highlightsDirty(), this._notifyDirty(), 1 === i ? o.highlightCounts = null : o.highlightCounts[o.count] = i - 1;\n    } else k().warn(\"Removing non-existing highlight.\");\n  }\n  clearHighlights(e) {\n    const t = e.components;\n    null != t.highlightCounts && (t.highlightCounts = null, t.highlightsDirty(), this._notifyDirty());\n  }\n  getObjectGPUMemoryUsage(e) {\n    return e.renderable.meta.gpuMemoryEstimate;\n  }\n  get visibleObjects() {\n    return this._visible;\n  }\n  _createRenderable(e, t) {\n    const o = this._renderManager.rctx,\n      n = e.geometry,\n      i = n.vertices.layoutParameters,\n      r = U.createVertex(o, T.STATIC_DRAW, n.vertices.data),\n      s = n.indices ? U.createIndex(o, T.STATIC_DRAW, n.indices) : null,\n      a = p(_(i)),\n      l = new Uint16Array(n.vertices.count);\n    for (let p = 0; p < t.count; p++) {\n      const e = t.offsets[p],\n        o = t.offsets[p + 1],\n        i = t.materialDataIndices[p];\n      if (null != n.indices) for (let t = e; t < o; t++) {\n        l[n.indices[t]] = i;\n      } else for (let t = e; t < o; t++) l[t] = i;\n    }\n    const c = U.createVertex(o, T.STATIC_DRAW, l.buffer),\n      m = new w(e.transform, e.toMapSpace),\n      h = new G(o, A, {\n        data: a,\n        componentIndices: W\n      }, {\n        data: r,\n        componentIndices: c\n      }, s),\n      f = new v(h, L.TRIANGLES, i, null != s),\n      u = {\n        cameraDepthSquared: .5,\n        gpuMemoryEstimate: r.usedMemory + c.usedMemory + (null != s ? s.usedMemory : 0)\n      };\n    return new y(m, f, u);\n  }\n  _notifyDirty() {\n    this._renderManager.notifyDirty();\n  }\n}\nconst W = p(u().u16(E.COMPONENTINDEX));\nfunction H(e, t) {\n  return e === t ? O.All : 0 === e ? O.None : O.Some;\n}\nconst X = r();\nexport { q as ComponentObjectCollection };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as t } from \"../../lib/Program.js\";\nimport { H as o } from \"../../../../../chunks/HighlightApply.glsl.js\";\nimport { BlendFactor as l } from \"../../../../webgl/enums.js\";\nimport { makePipelineState as s, separateBlendingParams as a, defaultColorWriteParams as m } from \"../../../../webgl/renderState.js\";\nclass n extends r {\n  initializeProgram(e) {\n    return new t(e.rctx, n.shader.get().build(), i);\n  }\n  initializePipeline() {\n    return s({\n      blending: a(l.SRC_ALPHA, l.ONE, l.ONE_MINUS_SRC_ALPHA, l.ONE_MINUS_SRC_ALPHA),\n      colorWrite: m\n    });\n  }\n}\nn.shader = new e(o, () => import(\"../../shaders/HighlightApply.glsl.js\"));\nexport { n as HighlightApplyTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as r } from \"../../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as e } from \"../../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as t } from \"../../lib/Program.js\";\nimport { a as o } from \"../../../../../chunks/HighlightBlur.glsl.js\";\nimport { makePipelineState as l, defaultColorWriteParams as s } from \"../../../../webgl/renderState.js\";\nclass a extends e {\n  initializeProgram(r) {\n    return new t(r.rctx, a.shader.get().build(), i);\n  }\n  initializePipeline() {\n    return l({\n      colorWrite: s\n    });\n  }\n}\na.shader = new r(o, () => import(\"../../shaders/HighlightBlur.glsl.js\"));\nexport { a as HighlightBlurTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as o } from \"../../lib/Program.js\";\nimport { a as t } from \"../../../../../chunks/HighlightDownsample.glsl.js\";\nimport { makePipelineState as s, defaultColorWriteParams as a } from \"../../../../webgl/renderState.js\";\nclass l extends r {\n  initializeProgram(e) {\n    return new o(e.rctx, l.shader.get().build(), i);\n  }\n  initializePipeline() {\n    return s({\n      colorWrite: a\n    });\n  }\n}\nl.shader = new e(t, () => import(\"../../shaders/HighlightDownsample.glsl.js\"));\nexport { l as HighlightDownsampleTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromValues as o } from \"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { fromValues as i } from \"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { NoParameters as s } from \"../../core/shaderModules/interfaces.js\";\nclass r extends s {\n  constructor() {\n    super(...arguments), this.color = i(1, 0, 1, 1), this.haloColor = i(1, 0, 1, 1), this.haloOpacity = 1, this.haloOpacityOccluded = .25, this.fillOpacity = .2, this.fillOpacityOccluded = .05, this.coverageRounding = o(1, 1);\n  }\n}\nexport { r as HighlightPassParameters };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport { unitRGBAFromColor as r } from \"../../../../../core/colorUtils.js\";\nimport has from \"../../../../../core/has.js\";\nimport { releaseMaybe as t, disposeMaybe as i } from \"../../../../../core/maybe.js\";\nimport { watch as s, syncAndInitial as o } from \"../../../../../core/reactiveUtils.js\";\nimport { property as a } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { set as l } from \"../../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { ColorFormat as c } from \"../../../webgl/formats.js\";\nimport n from \"../../../webgl/RenderNode.js\";\nimport { HighlightApplyTechnique as u } from \"./HighlightApplyTechnique.js\";\nimport { HighlightBlurTechnique as m } from \"./HighlightBlurTechnique.js\";\nimport { defaultColor as p, defaultHaloOpacity as g, defaultFillOpacity as d } from \"./HighlightDefaults.js\";\nimport { HighlightDownsampleTechnique as b } from \"./HighlightDownsampleTechnique.js\";\nimport { HighlightPassParameters as f } from \"./HighlightPassParameters.js\";\nimport { RenderRequestType as _, Decorations as w } from \"../../lib/basicInterfaces.js\";\nimport { Default3D as T } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Pos2Tex as P } from \"../../lib/DefaultVertexBufferLayouts.js\";\nimport { VertexArrayObject as v } from \"../../lib/VertexArrayObject.js\";\nimport { H as q } from \"../../../../../chunks/HighlightBlur.glsl.js\";\nimport { H as C, g as y } from \"../../../../../chunks/HighlightDownsample.glsl.js\";\nimport { BufferObject as j } from \"../../../../webgl/BufferObject.js\";\nimport { ClearBufferBit as x, Usage as O } from \"../../../../webgl/enums.js\";\nimport { vertexCount as D } from \"../../../../webgl/Util.js\";\nlet R = class extends n {\n  constructor(e) {\n    super(e), this.produces = \"highlight-color\", this.consumes = {\n      required: [\"highlight-color\", \"highlights\"]\n    }, this._passParameters = new f(), this._downsampleDrawParameters = new C(), this._blurDrawParameters = new q(), this._blurColorFormat = has(\"mac\") ? c.RGBA : c.RGBA4, this._grid = {\n      coverage: null,\n      vao: null,\n      verticalCellCount: 0,\n      horizontalCellCount: 0,\n      viewportWidth: 0,\n      viewportHeight: 0\n    }, this._blurTechnique = e.techniques.acquire(m), this._downsampleTechnique = e.techniques.acquire(b), this._applyTechnique = e.techniques.acquire(u);\n  }\n  initialize() {\n    this.addHandles([s(() => this.view.highlightOptions.color, e => {\n      this._passParameters.color = r(e ?? p), this.view.highlightOptions.haloColor || (this._passParameters.haloColor = this._passParameters.color), this.requestRender(_.UPDATE);\n    }, o), s(() => this.view.highlightOptions.haloColor, e => {\n      this._passParameters.haloColor = null != e ? r(e) : this._passParameters.color, this.requestRender(_.UPDATE);\n    }, o), s(() => this.view.highlightOptions.haloOpacity, e => {\n      this._passParameters.haloOpacity = e ?? g, this._passParameters.haloOpacityOccluded = .25 * this._passParameters.haloOpacity, this.requestRender(_.UPDATE);\n    }, o), s(() => this.view.highlightOptions.fillOpacity, e => {\n      this._passParameters.fillOpacity = e ?? d, this._passParameters.fillOpacityOccluded = .25 * this._passParameters.fillOpacity, this.requestRender(_.UPDATE);\n    }, o)]);\n  }\n  destroy() {\n    this._blurTechnique.release(), this._downsampleTechnique.release(), this._applyTechnique.release(), this._grid.coverage = t(this._grid.coverage), this._grid.vao = i(this._grid.vao);\n  }\n  render(e) {\n    if (this.bindParameters.decorations === w.OFF) return e.find(({\n      name: e\n    }) => \"highlight-color\" === e);\n    if (!(this._blurTechnique.compiled && this._downsampleTechnique.compiled && this._applyTechnique.compiled)) return this.requestRender(_.UPDATE), e.find(({\n      name: e\n    }) => \"highlight-color\" === e);\n    const r = e.find(({\n        name: e\n      }) => \"highlights\" === e).getTexture(),\n      t = this.bindParameters.camera,\n      i = t.fullWidth,\n      s = t.fullHeight,\n      o = t.pixelRatio,\n      a = Math.ceil(i / o),\n      h = Math.ceil(s / o),\n      c = this.renderingContext;\n    this._gridUpdateResources(r), this._gridComputeCoverage(r, this.bindParameters), this._passParameters.highlightTexture = r, this._passParameters.coverageTexture = this._grid.coverage?.getTexture();\n    const {\n      width: n,\n      height: u\n    } = r.descriptor;\n    l(this._passParameters.coverageRounding, n / (Math.ceil(n / y) * y), u / (Math.ceil(u / y) * y));\n    const m = this._grid.vao;\n    c.bindVAO(m);\n    const p = this.fboCache.acquire(a, h, \"highlight blur\", this._blurColorFormat);\n    c.unbindTexture(p.fbo?.colorTexture), c.bindFramebuffer(p.fbo), c.setClearColor(0, 0, 0, 0), c.clear(x.COLOR_BUFFER_BIT), c.setViewport(0, 0, a, h), this._blurDrawParameters.blurInputTexture = r, l(this._blurDrawParameters.blurSize, 1 / a, 0);\n    const g = c.bindTechnique(this._blurTechnique, this.bindParameters, this._passParameters, this._blurDrawParameters);\n    c.drawArrays(this._blurTechnique.primitiveType, 0, D(m, \"geometry\"));\n    const d = this.fboCache.acquire(a, h, \"highlight blur\", this._blurColorFormat);\n    c.unbindTexture(d.fbo?.colorTexture), c.bindFramebuffer(d.fbo), c.setClearColor(0, 0, 0, 0), c.clear(x.COLOR_BUFFER_BIT), this._blurDrawParameters.blurInputTexture = p.getTexture(), l(this._blurDrawParameters.blurSize, 0, 1 / h), g.bindDraw(this._blurDrawParameters, this.bindParameters, this._passParameters), c.drawArrays(this._blurTechnique.primitiveType, 0, D(m, \"geometry\"));\n    const b = e.find(({\n      name: e\n    }) => \"highlight-color\" === e);\n    return c.bindFramebuffer(b.fbo), c.setViewport4fv(t.fullViewport), this._passParameters.blurTexture = d.getTexture(), c.bindTechnique(this._applyTechnique, this.bindParameters, this._passParameters), c.drawArrays(this._applyTechnique.primitiveType, 0, D(m, \"geometry\")), p.release(), d.release(), b;\n  }\n  _gridUpdateResources(e) {\n    const r = this.renderingContext,\n      t = this._grid,\n      i = Math.ceil(e.descriptor.height / y),\n      s = Math.ceil(e.descriptor.width / y);\n    if (t.vao && t.verticalCellCount === i && t.horizontalCellCount === s) return;\n    t.verticalCellCount = i, t.horizontalCellCount = s;\n    const o = i + 1,\n      a = s + 1,\n      h = 1 / i,\n      l = 1 / s,\n      c = new Float32Array(6 * 4 * o * a);\n    let n = 0;\n    for (let u = 0; u < o; u++) for (let e = 0; e < a; e++) c[n++] = (e - .5) * l * 2 - 1, c[n++] = (u - .5) * h * 2 - 1, c[n++] = e * l, c[n++] = u * h, c[n++] = (e + .5) * l * 2 - 1, c[n++] = (u - .5) * h * 2 - 1, c[n++] = e * l, c[n++] = u * h, c[n++] = (e - .5) * l * 2 - 1, c[n++] = (u + .5) * h * 2 - 1, c[n++] = e * l, c[n++] = u * h, c[n++] = (e - .5) * l * 2 - 1, c[n++] = (u + .5) * h * 2 - 1, c[n++] = e * l, c[n++] = u * h, c[n++] = (e + .5) * l * 2 - 1, c[n++] = (u - .5) * h * 2 - 1, c[n++] = e * l, c[n++] = u * h, c[n++] = (e + .5) * l * 2 - 1, c[n++] = (u + .5) * h * 2 - 1, c[n++] = e * l, c[n++] = u * h;\n    t.vao?.dispose(), t.vao = new v(r, T, {\n      geometry: P\n    }, {\n      geometry: j.createVertex(r, O.STATIC_DRAW, c)\n    });\n  }\n  _gridComputeCoverage(e, r) {\n    const t = this.renderingContext,\n      i = this._grid,\n      s = e.descriptor,\n      o = Math.ceil(s.width / y),\n      a = Math.ceil(s.height / y);\n    this._downsampleDrawParameters.input = e, i.coverage?.release(), i.coverage = this.fboCache.acquire(o, a, \"highlight coverage\", c.RG), t.unbindTexture(i.coverage.fbo?.colorTexture), t.bindFramebuffer(i.coverage.fbo), t.bindTechnique(this._downsampleTechnique, r, this._passParameters, this._downsampleDrawParameters), t.setViewport(0, 0, o, a), t.screen.draw();\n  }\n  get test() {}\n};\ne([a()], R.prototype, \"produces\", void 0), e([a()], R.prototype, \"consumes\", void 0), e([a({\n  constructOnly: !0\n})], R.prototype, \"techniques\", void 0), R = e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")], R);\nexport { R as Highlight };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { ShaderTechniqueConfiguration as o, parameter as r } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nclass s extends o {\n  constructor() {\n    super(...arguments), this.receiveShadows = !0;\n  }\n}\ne([r()], s.prototype, \"receiveShadows\", void 0);\nexport { s as ShadowConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromValues as r } from \"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { ReadShadowMapPassParameters as e } from \"../../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";\nimport { ReloadableShaderModule as i } from \"../../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as t } from \"../../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as o } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as s } from \"../../lib/Program.js\";\nimport { ShadowConfiguration as a } from \"../../shaders/ShadowConfiguration.js\";\nimport { S as h } from \"../../../../../chunks/ShadowHighlight.glsl.js\";\nimport { BlendFactor as l, PrimitiveType as d } from \"../../../../webgl/enums.js\";\nimport { makePipelineState as n, separateBlendingParams as m, defaultColorWriteParams as c } from \"../../../../webgl/renderState.js\";\nclass p extends e {\n  constructor() {\n    super(...arguments), this.shadowColor = r(1, 0, 1, 1), this.shadowOpacity = .2, this.occludedShadowOpacity = .1, this.opacityElevation = 1, this.dayNightTerminator = 1;\n  }\n}\nclass u extends t {\n  constructor(r) {\n    super(r, new a(), () => this.destroy());\n  }\n  initializeProgram(r) {\n    return new s(r.rctx, u.shader.get().build(this.configuration), o);\n  }\n  initializePipeline() {\n    return n({\n      blending: m(l.SRC_ALPHA, l.ONE, l.ONE_MINUS_SRC_ALPHA, l.ONE_MINUS_SRC_ALPHA),\n      colorWrite: c,\n      depthTest: null,\n      depthWrite: null\n    });\n  }\n  get primitiveType() {\n    return d.TRIANGLE_STRIP;\n  }\n}\nu.shader = new i(h, () => import(\"../../shaders/ShadowHighlight.glsl.js\"));\nexport { p as ShadowHighlightPassParameters, u as ShadowHighlightTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport { unitRGBAFromColor as t } from \"../../../../../core/colorUtils.js\";\nimport { smoothstep as s, clamp as i } from \"../../../../../core/mathUtils.js\";\nimport { watch as r, syncAndInitial as a } from \"../../../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { n as c, s as p, m as n } from \"../../../../../chunks/vec32.js\";\nimport { create as d } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { ViewingMode as m } from \"../../../../ViewingMode.js\";\nimport l from \"../../../webgl/RenderNode.js\";\nimport { defaultShadowOpacity as u, defaultShadowDifference as g, defaultShadowColor as f } from \"./HighlightDefaults.js\";\nimport { ShadowHighlightPassParameters as _, ShadowHighlightTechnique as w } from \"./ShadowHighlightTechnique.js\";\nimport { RenderRequestType as y } from \"../../lib/basicInterfaces.js\";\nconst O = .001953125,\n  v = 4e4,\n  P = 5e4;\nlet b = class extends l {\n  constructor(e) {\n    super(e), this.produces = \"composite-color\", this.consumes = {\n      required: [\"composite-color\", \"highlights\"]\n    }, this._passParameters = new _(), this._maxOpacity = 1, this._shadowDifference = .2, this._technique = e.techniques.acquire(w);\n  }\n  initialize() {\n    this.addHandles([r(() => this.view.highlightOptions.shadowOpacity, e => {\n      this._passParameters.shadowOpacity = e ?? u, this._updateOccludedShadowOpacity(), this._updateMaxOpacity();\n    }, a), r(() => this.view.highlightOptions.shadowDifference, e => {\n      this._shadowDifference = e ?? g, this._updateOccludedShadowOpacity(), this._updateMaxOpacity();\n    }, a), r(() => this.view.highlightOptions.shadowColor, e => {\n      this._passParameters.shadowColor = t(e ?? f), this._updateMaxOpacity();\n    }, a)]);\n  }\n  destroy() {\n    this._technique.release();\n  }\n  _updateOccludedShadowOpacity() {\n    this._passParameters.occludedShadowOpacity = this._passParameters.shadowOpacity * (1 - this._shadowDifference);\n  }\n  _updateMaxOpacity() {\n    const e = Math.max(this._passParameters.shadowOpacity, this._passParameters.occludedShadowOpacity);\n    this._maxOpacity = e * this._passParameters.shadowColor[3];\n  }\n  render(e) {\n    const t = e.find(({\n        name: e\n      }) => \"composite-color\" === e),\n      s = this.bindParameters;\n    if (!s.shadowHighlightsVisible || !s.depth || !this._ensureIfVisible(s.camera, s.lighting.mainLight.direction)) return t;\n    if (!this._technique.compiled) return this.requestRender(y.UPDATE), t;\n    this._passParameters.highlight = e.find(({\n      name: e\n    }) => \"highlights\" === e)?.getTexture(), this._passParameters.origin = s.camera.center;\n    const i = this.renderingContext;\n    return i.bindFramebuffer(t.fbo), i.bindTechnique(this._technique, s, this._passParameters), i.screen.draw(), t;\n  }\n  _ensureIfVisible(e, t) {\n    this._passParameters.opacityElevation = 1 - s(v, P, e.relativeElevation);\n    const r = this.viewingMode === m.Global ? c(j, e.center) : p(j, 0, 0, 1),\n      a = n(r, t);\n    return this._passParameters.dayNightTerminator = s(0, 1, i(30 * a, 0, 1)), this._maxOpacity * this._passParameters.opacityElevation * this._passParameters.dayNightTerminator >= O;\n  }\n};\ne([o()], b.prototype, \"produces\", void 0), e([o()], b.prototype, \"consumes\", void 0), e([o({\n  constructOnly: !0\n})], b.prototype, \"viewingMode\", void 0), e([o({\n  constructOnly: !0\n})], b.prototype, \"techniques\", void 0), b = e([h(\"esri.views.3d.webgl-engine.effects.highlight.ShadowHighlight\")], b);\nconst j = d();\nexport { b as ShadowHighlight };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as t } from \"../../lib/Program.js\";\nimport { a as o } from \"../../../../../chunks/Magnifier.glsl.js\";\nimport { BlendFactor as s } from \"../../../../webgl/enums.js\";\nimport { makePipelineState as l, simpleBlendingParams as a, defaultColorWriteParams as n } from \"../../../../webgl/renderState.js\";\nclass m extends r {\n  initializeProgram(e) {\n    return new t(e.rctx, m.shader.get().build(), i);\n  }\n  initializePipeline() {\n    return l({\n      blending: a(s.ONE, s.ONE_MINUS_SRC_ALPHA),\n      depthTest: null,\n      depthWrite: null,\n      colorWrite: n\n    });\n  }\n}\nm.shader = new e(o, () => import(\"../../shaders/Magnifier.glsl.js\"));\nexport { m as MagnifierTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport { createTask as s } from \"../../../../../core/asyncUtils.js\";\nimport { clamp as i } from \"../../../../../core/mathUtils.js\";\nimport { disposeMaybe as r } from \"../../../../../core/maybe.js\";\nimport { watch as t, syncAndInitial as a } from \"../../../../../core/reactiveUtils.js\";\nimport { createScreenPointArray as o, createRenderScreenPointArray as m, screenPointObjectToArray as n } from \"../../../../../core/screenUtils.js\";\nimport { isSVG as l } from \"../../../../../core/urlUtils.js\";\nimport { property as h } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as u } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { requestImage as p } from \"../../../../../support/requestImageUtils.js\";\nimport c from \"../../../webgl/RenderNode.js\";\nimport { MagnifierTechnique as _ } from \"./MagnifierTechnique.js\";\nimport { RenderRequestType as d } from \"../../lib/basicInterfaces.js\";\nimport { Default3D as g } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Pos2 as f } from \"../../lib/DefaultVertexBufferLayouts.js\";\nimport { createQuadVAO as v } from \"../../lib/glUtil3D.js\";\nimport { M as P } from \"../../../../../chunks/Magnifier.glsl.js\";\nimport { loadMagnifierResources as T } from \"../../../../magnifier/resources.js\";\nimport { PrimitiveType as y, PixelFormat as k, TextureWrapMode as b } from \"../../../../webgl/enums.js\";\nimport { Texture as j } from \"../../../../webgl/Texture.js\";\nimport { TextureDescriptor as x } from \"../../../../webgl/TextureDescriptor.js\";\nlet S = class extends c {\n  constructor(e) {\n    super(e), this.produces = \"magnifier-color\", this.consumes = {\n      required: [\"magnifier-color\"]\n    }, this._imageSources = null, this._imageLoadTask = null, this._passParameters = new P(), this._vao = null, this._technique = null, this._magnifier = null, this._tmpScreenPoint = o(), this._tmpRenderPoint = m();\n  }\n  initialize() {\n    this.addHandles([t(() => this.view.magnifier, e => this._update(e), a)]);\n  }\n  _update(e) {\n    if (e === this._magnifier) return;\n    this.removeAllHandles(), this._magnifier = e;\n    const s = () => {\n      const e = this._validMagnifier;\n      e ? (this._loadResources(e), this.produces = \"magnifier-color\") : this.produces = \"disabled\", this.requestRender();\n    };\n    this._magnifier && this.addHandles(t(() => this._magnifier?.version, s)), s();\n  }\n  get _validMagnifier() {\n    return this._magnifier?.visible && this._magnifier?.position && this._magnifier?.size > 0 ? this._magnifier : null;\n  }\n  get _factor() {\n    return this._magnifier?.factor || 1;\n  }\n  destroy() {\n    this._magnifier = null, null != this._imageLoadTask && (this._imageLoadTask.task.abort(), this._imageLoadTask = null), this._disposeTextures(), this._vao = r(this._vao);\n  }\n  _disposeTextures() {\n    this._passParameters.mask = r(this._passParameters.mask), this._passParameters.overlay = r(this._passParameters.overlay), this._passParameters.input = r(this._passParameters.input);\n  }\n  render(e) {\n    const s = this._validMagnifier,\n      r = e.find(({\n        name: e\n      }) => \"magnifier-color\" === e);\n    if (null == s) return r;\n    if (null == this._imageSources) return this.requestRender(d.UPDATE), r;\n    const t = this.renderingContext,\n      a = this.camera.pixelRatio,\n      o = Math.ceil(a * s.size);\n    if (this._vao ??= v(t, f, g, 0, 1), this._technique ??= this.techniques.acquire(_), this._ensureTextureResources(t, o), !this._technique?.compiled || !this._passParameters.input) return this.requestRender(d.UPDATE), r;\n    const m = Math.ceil(1 / this._factor * o),\n      l = this._passParameters.input;\n    l.resize(m, m), n(s.position, this._tmpScreenPoint);\n    const h = this.camera.screenToRender(this._tmpScreenPoint, this._tmpRenderPoint),\n      u = this.camera.fullWidth,\n      p = this.camera.fullHeight,\n      c = .5 * m,\n      P = .5 * m;\n    h[0] = i(h[0], c, u - c - 1), h[1] = i(h[1], P, p - P - 1);\n    const T = Math.floor(h[0] - c),\n      k = Math.floor(h[1] - P);\n    t.bindFramebuffer(r.fbo);\n    return this._technique.program.bindTexture(\"textureInput\", l), t.gl.copyTexImage2D(l.descriptor.target, 0, l.descriptor.pixelFormat, T, k, m, m, 0), this._passParameters.magnifier = s, t.bindTechnique(this._technique, this.bindParameters, this._passParameters), t.bindVAO(this._vao), t.drawArrays(y.TRIANGLE_STRIP, 0, 4), r;\n  }\n  _loadResources(e) {\n    const {\n      maskUrl: i,\n      overlayUrl: r\n    } = e;\n    this._imageLoadTask?.maskUrl === i && this._imageLoadTask?.overlayUrl === r || (this._imageLoadTask?.task.abort(), this._imageLoadTask = this._imageSources = null), this._imageSources || this._imageLoadTask || (this._imageLoadTask = {\n      maskUrl: i,\n      overlayUrl: r,\n      task: s(async e => {\n        const s = null == i || null == r ? T(e) : null,\n          t = null != i ? p(i, {\n            signal: e\n          }) : s.then(e => e.mask),\n          a = null != r ? p(r, {\n            signal: e\n          }) : s.then(e => e.overlay);\n        this._imageSources = {\n          mask: await t,\n          overlay: await a\n        };\n      })\n    });\n  }\n  _ensureTextureResources(e, s) {\n    if (null == this._imageSources || this._passParameters.size === s && this._passParameters.input && this._passParameters.mask && this._passParameters.overlay) return;\n    this._disposeTextures(), this._imageSources.overlay.width = this._imageSources.mask.width = s, this._imageSources.overlay.height = this._imageSources.mask.height = s;\n    const i = new x();\n    i.internalFormat = k.RGBA, i.wrapMode = b.CLAMP_TO_EDGE, i.flipped = !0, i.preMultiplyAlpha = !l(this._imageSources.overlay.src) || !e.driverTest.svgPremultipliesAlpha.result, this._passParameters.overlay = new j(e, i, this._imageSources.overlay), i.pixelFormat = i.internalFormat = k.ALPHA, i.preMultiplyAlpha = !1, this._passParameters.mask = new j(e, i, this._imageSources.mask), i.pixelFormat = i.internalFormat = k.RGBA, i.flipped = !1, this._passParameters.input = new j(e, i);\n  }\n};\ne([h()], S.prototype, \"produces\", void 0), e([h()], S.prototype, \"consumes\", void 0), e([h()], S.prototype, \"_imageSources\", void 0), e([h()], S.prototype, \"_imageLoadTask\", void 0), e([h({\n  constructOnly: !0\n})], S.prototype, \"techniques\", void 0), S = e([u(\"esri.views.3d.webgl-engine.effects.magnifier.MagnifierRenderNode\")], S);\nexport { S as MagnifierRenderNode };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as t } from \"../../lib/Program.js\";\nimport { B as o } from \"../../../../../chunks/BlendWeights.glsl.js\";\nimport { makePipelineState as s, defaultColorWriteParams as l } from \"../../../../webgl/renderState.js\";\nclass a extends r {\n  initializeProgram(e) {\n    return new t(e.rctx, a.shader.get().build(), i);\n  }\n  initializePipeline() {\n    return s({\n      colorWrite: l\n    });\n  }\n}\na.shader = new e(o, () => import(\"../../shaders/BlendWeights.glsl.js\"));\nexport { a as SMAABlendWeightsTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as r } from \"../../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as e } from \"../../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as o } from \"../../lib/Program.js\";\nimport { B as t } from \"../../../../../chunks/Blur.glsl.js\";\nimport { makePipelineState as s, defaultColorWriteParams as l } from \"../../../../webgl/renderState.js\";\nclass a extends e {\n  initializeProgram(r) {\n    return new o(r.rctx, a.shader.get().build(), i);\n  }\n  initializePipeline() {\n    return s({\n      colorWrite: l\n    });\n  }\n}\na.shader = new r(t, () => import(\"../../shaders/Blur.glsl.js\"));\nexport { a as SMAABlurTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as t } from \"../../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as i } from \"../../lib/Program.js\";\nimport { E as o } from \"../../../../../chunks/EdgeDetect.glsl.js\";\nimport { makePipelineState as s, defaultColorWriteParams as a } from \"../../../../webgl/renderState.js\";\nclass l extends r {\n  initializeProgram(e) {\n    return new i(e.rctx, l.shader.get().build(), t);\n  }\n  initializePipeline() {\n    return s({\n      colorWrite: a\n    });\n  }\n}\nl.shader = new e(o, () => import(\"../../shaders/EdgeDetect.glsl.js\"));\nexport { l as SMAAEdgeDetectTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { NoParameters as e } from \"../../core/shaderModules/interfaces.js\";\nclass s extends e {}\nexport { s as SMAAPassParameters };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport { disposeMaybe as r } from \"../../../../../core/maybe.js\";\nimport { throwIfAborted as t } from \"../../../../../core/promiseUtils.js\";\nimport { watch as s, syncAndInitial as i } from \"../../../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { requestImage as n } from \"../../../../../support/requestImageUtils.js\";\nimport { ColorFormat as u } from \"../../../webgl/formats.js\";\nimport c from \"../../../webgl/RenderNode.js\";\nimport { SMAABlendWeightsTechnique as l } from \"./SMAABlendWeightsTechnique.js\";\nimport { SMAABlurTechnique as h } from \"./SMAABlurTechnique.js\";\nimport { SMAAEdgeDetectTechnique as m } from \"./SMAAEdgeDetectTechnique.js\";\nimport { SMAAPassParameters as d } from \"./SMAAPassParameters.js\";\nimport { RenderRequestType as p } from \"../../lib/basicInterfaces.js\";\nimport { PixelFormat as T, TextureSamplingMode as b, ClearBufferBit as _, TextureWrapMode as f } from \"../../../../webgl/enums.js\";\nimport { Texture as x } from \"../../../../webgl/Texture.js\";\nimport { TextureDescriptor as q } from \"../../../../webgl/TextureDescriptor.js\";\nlet g = class extends c {\n  constructor(e) {\n    super(e), this.produces = \"disabled\", this.consumes = {\n      required: [\"aa-color\", \"composite-color\"]\n    }, this._areaTexture = null, this._searchTexture = null, this._smaaParameters = new d(), this._edgeTechnique = e.techniques.acquire(m), this._blendTechnique = e.techniques.acquire(l), this._blurTechnique = e.techniques.acquire(h);\n  }\n  initialize() {\n    this.addHandles([s(() => this.isEnabled(), e => e ? this.enable() : this.disable(), i)]);\n  }\n  async enable() {\n    if (this.produces = \"aa-color\", this._abortController || this._areaTexture && this._searchTexture) return;\n    this._abortController = new AbortController();\n    const e = this._abortController.signal;\n    try {\n      const r = await import(\"./SMAAData.js\");\n      await this._loadTextures(r, e), this.requestRender(p.UPDATE);\n    } catch {}\n    this._abortController = null;\n  }\n  async _loadTextures(e, r) {\n    t(r);\n    const [s, i] = await Promise.allSettled([n(e.areaTexture, {\n      signal: r\n    }), n(e.searchTexure, {\n      signal: r\n    })]);\n    if (t(r), \"fulfilled\" !== s.status || \"fulfilled\" !== i.status) return;\n    const o = this.renderingContext;\n    this._areaTexture = w(o, b.LINEAR, T.RGB, s.value), this._searchTexture = w(o, b.NEAREST, T.LUMINANCE, i.value);\n  }\n  disable() {\n    this.produces = \"disabled\";\n  }\n  destroy() {\n    this._searchTexture = r(this._searchTexture), this._areaTexture = r(this._areaTexture), this._blurTechnique.release(), this._blendTechnique.release(), this._edgeTechnique.release();\n  }\n  render(e) {\n    const r = e.find(({\n      name: e\n    }) => \"aa-color\" === e);\n    if (!(this._edgeTechnique.compiled && this._blendTechnique.compiled && this._blurTechnique.compiled && this._areaTexture && this._searchTexture)) return this.requestRender(p.UPDATE), r;\n    const t = e.find(({\n        name: e\n      }) => \"composite-color\" === e),\n      s = t.fbo.width,\n      i = t.fbo.height,\n      o = this.renderingContext;\n    o.setViewport(0, 0, s, i);\n    const a = this.fboCache.acquire(s, i, \"smaa edges\", u.RG);\n    o.unbindTexture(a.fbo?.colorTexture), o.bindFramebuffer(a.fbo), o.setClearColor(0, 0, 0, 1), o.clear(_.COLOR_BUFFER_BIT), this._smaaParameters.color = t.getTexture(), o.bindTechnique(this._edgeTechnique, null, this._smaaParameters), o.screen.draw();\n    const n = this.fboCache.acquire(s, i, \"smaa blend\");\n    return o.unbindTexture(n.fbo?.colorTexture), o.bindFramebuffer(n.fbo), o.setClearColor(0, 0, 1, 1), o.clear(_.COLOR_BUFFER_BIT), this._smaaParameters.inputTexture = a.getTexture(), this._smaaParameters.areaTexture = this._areaTexture, this._smaaParameters.searchTexture = this._searchTexture, o.bindTechnique(this._blendTechnique, null, this._smaaParameters), o.screen.draw(), a.release(), o.bindFramebuffer(r.fbo), o.setClearColor(0, 1, 0, 1), o.clear(_.COLOR_BUFFER_BIT), this._smaaParameters.inputTexture = n.getTexture(), o.bindTechnique(this._blurTechnique, null, this._smaaParameters), o.screen.draw(), n.release(), r;\n  }\n};\nfunction w(e, r, t, s) {\n  const i = new q();\n  return i.pixelFormat = t, i.wrapMode = f.CLAMP_TO_EDGE, i.width = s.width, i.height = s.height, i.samplingMode = r, new x(e, i, s);\n}\ne([o()], g.prototype, \"produces\", void 0), e([o()], g.prototype, \"consumes\", void 0), e([o({\n  constructOnly: !0\n})], g.prototype, \"isEnabled\", void 0), e([o({\n  constructOnly: !0\n})], g.prototype, \"techniques\", void 0), e([o()], g.prototype, \"_abortController\", void 0), g = e([a(\"esri.views.3d.webgl-engine.effects.smaa.SMAA\")], g);\nexport { g as SMAA };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { parameter as o, ShaderTechniqueConfiguration as e } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nvar i;\n!function (t) {\n  t[t.None = 0] = \"None\", t[t.Alpha = 1] = \"Alpha\", t[t.PremultipliedAlpha = 2] = \"PremultipliedAlpha\", t[t.COUNT = 3] = \"COUNT\";\n}(i || (i = {}));\nclass p extends e {\n  constructor() {\n    super(...arguments), this.alphaMode = i.None, this.hasOpacityFactor = !1, this.isDepthBlit = !1;\n  }\n}\nt([o({\n  count: i.COUNT\n})], p.prototype, \"alphaMode\", void 0), t([o()], p.prototype, \"hasOpacityFactor\", void 0), t([o()], p.prototype, \"isDepthBlit\", void 0);\nexport { i as AlphaMode, p as CompositingTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as o } from \"../lib/Program.js\";\nimport { a as t } from \"../../../../chunks/Compositing.glsl.js\";\nimport { AlphaMode as n } from \"./CompositingTechniqueConfiguration.js\";\nimport { BlendFactor as s } from \"../../../webgl/enums.js\";\nimport { makePipelineState as a, simpleBlendingParams as l, defaultColorWriteParams as m, separateBlendingParams as c } from \"../../../webgl/renderState.js\";\nclass p extends r {\n  initializeProgram(e) {\n    return new o(e.rctx, p.shader.get().build(this.configuration), i);\n  }\n  initializePipeline() {\n    switch (this.configuration.alphaMode) {\n      case n.None:\n        return a({\n          colorWrite: m\n        });\n      case n.Alpha:\n        return a({\n          blending: c(s.SRC_ALPHA, s.ONE, s.ONE_MINUS_SRC_ALPHA, s.ONE_MINUS_SRC_ALPHA),\n          colorWrite: m\n        });\n      case n.PremultipliedAlpha:\n      case n.COUNT:\n        return a({\n          blending: l(s.ONE, s.ONE_MINUS_SRC_ALPHA),\n          colorWrite: m\n        });\n    }\n  }\n}\np.shader = new e(t, () => import(\"./Compositing.glsl.js\"));\nexport { p as CompositingTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as o } from \"../lib/Program.js\";\nimport { a as t } from \"../../../../chunks/HUDCompositing.glsl.js\";\nimport { makePipelineState as s } from \"../../../webgl/renderState.js\";\nclass a extends r {\n  initializeProgram(e) {\n    return new o(e.rctx, a.shader.get().build(), i);\n  }\n  initializePipeline() {\n    return s({\n      colorWrite: {\n        r: !1,\n        g: !0,\n        b: !1,\n        a: !1\n      }\n    });\n  }\n}\na.shader = new e(t, () => import(\"./HUDCompositing.glsl.js\"));\nexport { a as HUDCompositingTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as o } from \"../lib/Program.js\";\nimport { a as t } from \"../../../../chunks/OITCompositing.glsl.js\";\nimport { BlendFactor as s } from \"../../../webgl/enums.js\";\nimport { makePipelineState as m, separateBlendingParams as l, defaultColorWriteParams as n } from \"../../../webgl/renderState.js\";\nclass a extends r {\n  initializeProgram(e) {\n    return new o(e.rctx, a.shader.get().build(), i);\n  }\n  initializePipeline() {\n    return m({\n      blending: l(s.SRC_ALPHA, s.ONE, s.ONE_MINUS_SRC_ALPHA, s.ONE_MINUS_SRC_ALPHA),\n      colorWrite: n\n    });\n  }\n}\na.shader = new e(t, () => import(\"./OITCompositing.glsl.js\"));\nexport { a as OITCompositingTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { C as t } from \"../../../../chunks/Compositing.glsl.js\";\nimport { CompositingTechnique as s } from \"../shaders/CompositingTechnique.js\";\nimport { CompositingTechniqueConfiguration as i, AlphaMode as e } from \"../shaders/CompositingTechniqueConfiguration.js\";\nimport { H as r } from \"../../../../chunks/HUDCompositing.glsl.js\";\nimport { HUDCompositingTechnique as o } from \"../shaders/HUDCompositingTechnique.js\";\nimport { O as a } from \"../../../../chunks/OITCompositing.glsl.js\";\nimport { OITCompositingTechnique as h } from \"../shaders/OITCompositingTechnique.js\";\nclass n {\n  constructor(s, e) {\n    this._rctx = s, this._techniques = e, this._configuration = new i(), this._passParameters = new t(), this._oitParameters = new a(), this._hudParameters = new r();\n  }\n  compositeOIT(t, s, i, e) {\n    this._oitParameters.colorTexture = s, this._oitParameters.alphaTexture = i, this._oitParameters.frontFaceTexture = e;\n    const r = this._techniques.acquire(h);\n    this._rctx.bindTechnique(r, t, this._oitParameters), this._rctx.screen.draw(), r.release();\n  }\n  compositeHUD(t, s) {\n    this._hudParameters.texture = s;\n    const i = this._techniques.acquire(o);\n    this._rctx.bindTechnique(i, t, this._hudParameters), this._rctx.screen.draw(), i.release();\n  }\n  composite(t, i, r = e.None, o = 1) {\n    this._configuration.alphaMode = r, this._configuration.hasOpacityFactor = 1 !== o, this._passParameters.texture = i, this._passParameters.opacity = o;\n    const a = this._techniques.acquire(s, this._configuration);\n    this._rctx.bindTechnique(a, t, this._passParameters), this._rctx.screen.draw(), a.release();\n  }\n  blitDepthToLinearDepth(t, s) {\n    this._configuration.isDepthBlit = !0, this.composite(t, s), this._configuration.isDepthBlit = !1;\n  }\n}\nexport { n as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { unpackFloatRGBA as e } from \"../../../../core/floatRGBA.js\";\nimport t from \"../../../../core/PooledArray.js\";\nimport { multiply as r, copy as i } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as n } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { h as s } from \"../../../../chunks/vec32.js\";\nimport { l as a } from \"../../../../chunks/vec42.js\";\nimport { create as o } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { intersectsSphere as h, create as f, copy as c } from \"../../../../geometry/support/frustum.js\";\nimport { g as l, c as u } from \"../../../../chunks/sphere.js\";\nimport { maxScale as _ } from \"../../support/mathUtils.js\";\nimport { empty as d, union as m, set as g, DepthRange as p } from \"./depthRange.js\";\nimport b from \"./Octree.js\";\nimport { assert as w } from \"./Util.js\";\nconst v = 1e4,\n  R = 100,\n  j = 500,\n  C = 500,\n  A = .1;\nfunction B(t, r, i) {\n  return e(r, t) * (i[1] - i[0]) + i[0];\n}\nfunction M(e, t, r) {\n  let i = 0;\n  if (!t.some(e => !!e.materialReference && (i += e.numGeometries, i >= v))) return Q.compute(e, t);\n  const n = d();\n  return r.forAll(t => m(n, O(e, t))), n;\n}\nfunction O(e, t) {\n  if (!t.visible) return;\n  const r = d(),\n    i = t.getSpatialQueryAccelerator();\n  return i ? x(r, e, i) : D(r, e, t.objects), r;\n}\nfunction x(e, t, r) {\n  const i = t.eye,\n    n = t.viewForward,\n    s = t.frustum,\n    a = e => e.visible,\n    o = r.objectCount;\n  if (o < j) g(G, t.near, Math.min(e.near, t.far)), r.forEachInDepthRange(i, n, b.DepthOrder.FRONT_TO_BACK, G, (r, i) => {\n    T(e, t, r), G.far = e.near, i.setRange(G);\n  }, s, a), g(G, Math.max(e.far, t.near), t.far), r.forEachInDepthRange(i, n, b.DepthOrder.BACK_TO_FRONT, G, (r, i) => {\n    T(e, t, r), G.near = e.far, i.setRange(G);\n  }, s, a);else {\n    const i = Math.max(Math.min(o, C), Math.ceil(o * A)),\n      h = r.findClosest(n, b.DepthOrder.FRONT_TO_BACK, s, a, i),\n      f = r.findClosest(n, b.DepthOrder.BACK_TO_FRONT, s, a, i);\n    h && f && (I(e, t, h.boundingVolumeWorldSpace.bounds), I(e, t, f.boundingVolumeWorldSpace.bounds));\n  }\n}\nfunction D(e, t, r) {\n  U.clear(), r.forAll(e => {\n    e.visible && 0 !== e.geometries.length && U.add(e);\n  }), U.empty || (U.sort(t), g(G, t.near, Math.min(e.near, t.far)), U.forEachInDepthRange(G, b.DepthOrder.FRONT_TO_BACK, (r, i) => {\n    i < e.near && T(e, t, r);\n  }), g(G, Math.max(e.far, t.near), t.far), U.forEachInDepthRange(G, b.DepthOrder.BACK_TO_FRONT, (t, r, i) => {\n    e.far = Math.max(e.far, i);\n  }));\n}\nfunction T(e, t, i) {\n  if (!i.visible) return;\n  if (!h(t.frustum, i.boundingVolumeWorldSpace.bounds)) return;\n  const n = i.transformation,\n    s = k;\n  i.geometries.forEach(i => {\n    r(s, n, i.transformation);\n    const a = _(s);\n    F(e, t, i.boundingInfo, s, a);\n  });\n}\nfunction F(e, t, r, i, n) {\n  if (null == r) return;\n  s(l(V), r.center, i);\n  const {\n      eye: a,\n      viewForward: o\n    } = t,\n    f = o[0] * (V[0] - a[0]) + o[1] * (V[1] - a[1]) + o[2] * (V[2] - a[2]);\n  if (V[3] = r.radius * n, !(f - V[3] > e.near && f + V[3] < e.far) && h(t.frustum, V)) if (r.radius > R && r.getChildren()) for (const s of r.getChildren()) F(e, t, s, i, n);else q.unionDepthRangeWithAABB(e, t.viewProjectionMatrix, i, r.bbMin, r.bbMax);\n}\nfunction I(e, t, r) {\n  const i = t.eye,\n    n = t.viewForward,\n    s = (r[0] - i[0]) * n[0] + (r[1] - i[1]) * n[1] + (r[2] - i[2]) * n[2];\n  e.near = Math.min(e.near, s - r[3]), e.far = Math.max(e.far, s + r[3]);\n}\nclass y {\n  constructor() {\n    this._items = new t({\n      allocator: e => e || {\n        object: null,\n        distance: 0,\n        near: 0,\n        far: 0\n      },\n      deallocator: e => (e.object = null, e.distance = 0, e.near = 0, e.far = 0, e)\n    });\n  }\n  get length() {\n    return this._items.length;\n  }\n  get empty() {\n    return 0 === this._items.length;\n  }\n  clear() {\n    this._items.clear();\n  }\n  add(e) {\n    this._items.pushNew().object = e;\n  }\n  sort(e) {\n    const t = e.eye,\n      r = e.viewForward;\n    this._items.forAll(e => {\n      const i = e.object.boundingVolumeWorldSpace.bounds,\n        n = (i[0] - t[0]) * r[0] + (i[1] - t[1]) * r[1] + (i[2] - t[2]) * r[2];\n      e.distance = n, e.near = n - i[3], e.far = n + i[3];\n    }), this._items.sort((e, t) => e.distance - t.distance);\n  }\n  forEachInDepthRange(e, t, r) {\n    if (t === b.DepthOrder.FRONT_TO_BACK) for (let i = 0; i < this._items.length; ++i) {\n      const t = this._items.data[i];\n      t.far < e.near || t.near > e.far || r(t.object, t.near, t.far);\n    } else for (let i = this._items.length - 1; i >= 0; --i) {\n      const t = this._items.data[i];\n      t.far < e.near || t.near > e.far || r(t.object, t.near, t.far);\n    }\n  }\n}\nclass P {\n  constructor() {\n    this._view = n(), this._viewProj = n(), this._frustum = f(), this._geometries = new Array(), this._near = [], this._far = [], this._nearCandidates = [], this._farCandidates = [], this._looseRange = {\n      near: 0,\n      far: 0\n    };\n  }\n  compute(e, t) {\n    this._reset(), i(this._view, e.viewMatrix), r(this._viewProj, e.projectionMatrix, this._view), c(this._frustum, e.frustum);\n    const n = this._view,\n      s = n[2],\n      a = n[6],\n      o = n[10],\n      h = n[14];\n    t.forAll(e => {\n      e.materialReference && e.forEachGeometry && e.forEachGeometry(e => {\n        if (!e.visible || !e.castShadow) return;\n        const t = e.boundingSphere,\n          r = s * t[0] + a * t[1] + o * t[2] + h,\n          i = r - t[3],\n          n = r + t[3];\n        this._geometries.push(e), this._near.push(-n), this._far.push(-i);\n      });\n    });\n    const f = new p();\n    if (0 === this._geometries.length) return f;\n    for (let r = 0; r < this._geometries.length; ++r) this._near[r] > f.far && (f.far = this._near[r]), this._near[r] > 2 && this._far[r] < f.near && (f.near = this._far[r]);\n    const l = this._looseRange;\n    l.near = Math.max(.5 * f.near, 2), l.far = 2 * f.far;\n    let u = 0,\n      _ = 0;\n    for (let r = 0; r < this._geometries.length; ++r) this._near[r] < f.near && (this._near[r] >= l.near ? f.near = this._near[r] : this._nearCandidates[u++] = r), this._far[r] > f.far && (this._far[r] <= l.far ? f.far = this._far[r] : this._farCandidates[_++] = r);\n    if (0 === this._nearCandidates.length && 0 === this._farCandidates.length) return f;\n    this._nearCandidates.sort((e, t) => this._near[e] < this._near[t] ? -1 : this._near[e] > this._near[t] ? 1 : 0), this._farCandidates.sort((e, t) => this._far[e] < this._far[t] ? 1 : this._far[e] > this._far[t] ? -1 : 0);\n    for (let r = 0; r < this._nearCandidates.length; ++r) {\n      const e = this._nearCandidates[r];\n      if (this._near[e] < f.near) {\n        const t = this._geometries[e],\n          r = t.boundingInfo;\n        this._includeNearBoundingInfoRec(r, t.shaderTransformation, f);\n      }\n    }\n    for (let r = 0; r < this._farCandidates.length; ++r) {\n      const e = this._farCandidates[r];\n      if (this._far[e] > f.far) {\n        const t = this._geometries[e],\n          r = t.boundingInfo;\n        this._includeFarBoundingInfoRec(r, t.shaderTransformation, f);\n      }\n    }\n    return this._reset(), f;\n  }\n  _reset() {\n    this._geometries.length = 0, this._near.length = 0, this._far.length = 0, this._nearCandidates.length = 0, this._farCandidates.length = 0;\n  }\n  _includeNearBoundingInfoRec(e, t, r) {\n    if (null == e) return;\n    const i = e.center;\n    s(l(V), i, t);\n    const n = _(t),\n      a = V[0],\n      o = V[1],\n      h = V[2],\n      f = e.radius * n,\n      c = this._frustum;\n    if (c[0][0] * a + c[0][1] * o + c[0][2] * h + c[0][3] > f || c[1][0] * a + c[1][1] * o + c[1][2] * h + c[1][3] > f || c[2][0] * a + c[2][1] * o + c[2][2] * h + c[2][3] > f || c[3][0] * a + c[3][1] * o + c[3][2] * h + c[3][3] > f) return;\n    const u = this._view[2] * a + this._view[6] * o + this._view[10] * h + this._view[14],\n      d = u + f;\n    if (!(-(u - f) < 2 || -d >= r.near)) if (-d > this._looseRange.near) r.near = -d;else {\n      if (f > R) {\n        const i = e.getChildren();\n        if (void 0 !== i) {\n          for (const e of i) this._includeNearBoundingInfoRec(e, t, r);\n          return;\n        }\n      }\n      q.unionDepthRangeWithAABB(r, this._viewProj, t, e.bbMin, e.bbMax);\n    }\n  }\n  _includeFarBoundingInfoRec(e, t, r) {\n    if (null == e) return;\n    let i = e.radius;\n    const n = e.center;\n    s(l(V), n, t);\n    const a = _(t),\n      o = V[0],\n      h = V[1],\n      f = V[2];\n    i *= a;\n    const c = this._frustum;\n    if (c[0][0] * o + c[0][1] * h + c[0][2] * f + c[0][3] > i || c[1][0] * o + c[1][1] * h + c[1][2] * f + c[1][3] > i || c[2][0] * o + c[2][1] * h + c[2][2] * f + c[2][3] > i || c[3][0] * o + c[3][1] * h + c[3][2] * f + c[3][3] > i) return;\n    const u = this._view[2] * o + this._view[6] * h + this._view[10] * f + this._view[14] - i;\n    if (!(-u <= r.far)) if (-u < this._looseRange.far) r.far = -u;else {\n      if (i > R) {\n        const i = e.getChildren();\n        if (void 0 !== i) {\n          for (const e of i) this._includeFarBoundingInfoRec(e, t, r);\n          return;\n        }\n      }\n      q.unionDepthRangeWithAABB(r, this._viewProj, t, e.bbMin, e.bbMax);\n    }\n  }\n}\nclass N {\n  constructor() {\n    this._modelViewProj = n(), this._clipPosition = [o(), o(), o(), o(), o(), o(), o(), o()];\n  }\n  unionDepthRangeWithAABB(e, t, i, n, s) {\n    const a = this._modelViewProj;\n    r(a, t, i);\n    let o = !1;\n    for (let r = 0; r < 8; ++r) {\n      const e = this._clipPosition[r],\n        t = 0 === r || 3 === r || 4 === r || 7 === r ? n[0] : s[0],\n        i = 0 === r || 1 === r || 4 === r || 5 === r ? n[1] : s[1],\n        o = r < 4 ? n[2] : s[2];\n      e[0] = a[0] * t + a[4] * i + a[8] * o + a[12], e[1] = a[1] * t + a[5] * i + a[9] * o + a[13], e[2] = a[2] * t + a[6] * i + a[10] * o + a[14], e[3] = a[3] * t + a[7] * i + a[11] * o + a[15];\n    }\n    for (let r = 0; r < 12; ++r) {\n      const t = E(this._clipPosition[S[r][0]], this._clipPosition[S[r][1]], this._clipPosition[S[r][2]]);\n      let i = !0;\n      for (let e = 0; e < t.length; ++e) {\n        if (t[e][3] >= 2) {\n          i = !1;\n          break;\n        }\n      }\n      if (!i) {\n        o = !0;\n        for (let r = 0; r < t.length; ++r) {\n          const i = t[r][3];\n          Number.isFinite(i) && (e.near = Math.min(i, e.near), e.far = Math.max(i, e.far));\n        }\n      }\n    }\n    return o;\n  }\n}\nfunction E(e, t, r) {\n  let i = [e, t, r];\n  for (let n = 0; n < 4; ++n) {\n    const e = i;\n    i = [];\n    for (let t = 0; t < e.length; ++t) {\n      const r = e[t],\n        s = e[(t + 1) % e.length];\n      W(s, n) ? (W(r, n) || i.push(K(r, s, n)), i.push(s)) : W(r, n) && i.push(K(r, s, n));\n    }\n  }\n  return i;\n}\nfunction W(e, t) {\n  return 0 === t ? e[0] >= -e[3] : 1 === t ? e[1] >= -e[3] : 2 === t ? e[0] <= e[3] : 3 === t ? e[1] <= e[3] : void w(!1);\n}\nfunction K(e, t, r) {\n  let i = 0;\n  return 0 === r ? i = (-e[3] - e[0]) / (t[0] - e[0] + t[3] - e[3]) : 1 === r ? i = (-e[3] - e[1]) / (t[1] - e[1] + t[3] - e[3]) : 2 === r ? i = (e[3] - e[0]) / (t[0] - e[0] - t[3] + e[3]) : 3 === r && (i = (e[3] - e[1]) / (t[1] - e[1] - t[3] + e[3])), a(o(), e, t, i);\n}\nconst S = [[0, 1, 3], [2, 3, 1], [1, 5, 2], [6, 2, 5], [5, 4, 6], [7, 6, 4], [4, 0, 7], [3, 7, 0], [3, 2, 7], [6, 7, 2], [4, 5, 0], [1, 0, 5]],\n  V = u(),\n  k = n(),\n  G = d(),\n  U = new y(),\n  Q = new P(),\n  q = new N();\nexport { P as DepthRangeFromRenderGeometries, O as depthRangeFromLayer, M as depthRangeFromScene, B as textureToDepth };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { NestedMap as e } from \"../../../../core/NestedMap.js\";\nimport { fromValues as r } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { BufferViewVec4u8 as t } from \"../../../../geometry/support/buffer/BufferView.js\";\nclass o {\n  constructor() {\n    this.declaredClass = \"esri.views.3d.webgl-engine.lib.ObjectAndLayerIdRenderHelper\", this.colorZero = new t(new ArrayBuffer(4)), this._layerToOidToColor = new e(), this._colorToUID = new Map(), this._layerUidToGraphicsUidToObjectId = new e(), this._layerUidToId = new Map(), this._layerUidToPopupEnabled = new Map();\n  }\n  setUidToObjectAndLayerId(e, r, t, o, i, d = null, a = null, s = null) {\n    e && r && t && o && (this._layerUidToId.set(o, t), this._layerUidToPopupEnabled.set(o, i), i && this._layerUidToGraphicsUidToObjectId.set(o, r, {\n      objectId: e,\n      attributeNodeId: d,\n      attributeIndex: a,\n      subLayerId: s\n    }));\n  }\n  getObjectAndLayerIdColor(e) {\n    const t = this.getObjectAndLayerIdColorArray(e);\n    return r(t.get(0, 1), t.get(0, 2), t.get(0, 3), 255);\n  }\n  getObjectAndLayerIdColorArray(e) {\n    if (!e.layerUid || !e.graphicUid) return this.colorZero;\n    const r = this._layerUidToPopupEnabled.get(e.layerUid);\n    if (void 0 === r) return this.colorZero;\n    if (!1 === r) return this.colorZero;\n    const o = this._layerUidToGraphicsUidToObjectId.get(e.layerUid, e.graphicUid)?.objectId;\n    if (!o) return this.colorZero;\n    let i = this._layerToOidToColor.get(e.layerUid, o);\n    if (!i) {\n      for (; !i;) {\n        const e = Math.floor(16777214 * Math.random()) + 1;\n        this._colorToUID.has(e) || (i = e);\n      }\n      if (i > 16777215) throw new Error(\"Object ID Overflow\");\n      this._layerToOidToColor.set(e.layerUid, o, i), this._colorToUID.set(i, e);\n    }\n    const d = new ArrayBuffer(4);\n    new DataView(d).setUint32(0, i, !1);\n    return new t(d);\n  }\n  getColorToObjectAndLayerIdMapping() {\n    const e = new Map();\n    for (const [r, t] of this._colorToUID.entries()) {\n      const o = this._layerUidToGraphicsUidToObjectId.get(t.layerUid, t.graphicUid),\n        i = this._layerUidToId.get(t.layerUid);\n      o && i && e.set(r, o.attributeNodeId ? {\n        type: \"object-and-layer-and-i3s-id\",\n        oid: o.objectId,\n        lid: i,\n        attrId: o.attributeNodeId,\n        attrIdx: o.attributeIndex,\n        subLayerId: o.subLayerId\n      } : {\n        type: \"object-and-layer-id\",\n        oid: o.objectId,\n        lid: i\n      });\n    }\n    return e;\n  }\n}\nexport { o as ObjectAndLayerIdRenderHelper };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { create as e } from \"../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { computeTranslationToOriginAndRotation as r } from \"../../geometry/projection/computeTranslationToOriginAndRotation.js\";\nimport { projectBuffer as o } from \"../../geometry/projection/projectBuffer.js\";\nvar n, t;\n!function (e) {\n  e.OPAQUE = \"opaque-color\", e.TRANSPARENT = \"transparent-color\", e.COMPOSITE = \"composite-color\", e.FINAL = \"final-color\";\n}(n || (n = {})), function (e) {\n  e.ANTIALIASING = \"aa-color\", e.HIGHLIGHTS = \"highlight-color\", e.MAGNIFIER = \"magnifier-color\";\n}(t || (t = {}));\nconst i = null;\nfunction l(e, r, n, t, i, l, a) {\n  return t = t || e.spatialReference, o(r, t, n, i, e.renderCoordsHelper.spatialReference, l, a) ? i : null;\n}\nfunction a(e, r, n, t, i, l, a) {\n  return l = l || e.spatialReference, o(r, e.renderCoordsHelper.spatialReference, n, t, l, i, a) ? t : null;\n}\nfunction c(o, n, t, i) {\n  return i || (i = e()), t = t || o.spatialReference, r(t, n, i, o.renderCoordsHelper.spatialReference) ? i : null;\n}\nexport { t as InternalRenderCategory, n as RenderCategory, a as fromRenderCoordinates, c as renderCoordinateTransformAt, l as toRenderCoordinates, i as webgl };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e {\n  constructor(e, t) {\n    this.key = e, this.free = t, this.incarnation = 0, this._refCount = 1;\n  }\n  retain(e = 1) {\n    this._refCount += e;\n  }\n  release() {\n    return 0 === this._refCount ? (console.log(`Releasing already released FBO attachment in ${new Error().stack}`), !0) : (--this._refCount, 0 === this._refCount && (this.free(), !0));\n  }\n}\nvar t;\n!function (e) {\n  e[e.FBO = 0] = \"FBO\", e[e.DEPTH = 1] = \"DEPTH\", e[e.COLOR = 2] = \"COLOR\";\n}(t || (t = {}));\nexport { t as AttachmentType, e as ManagedFBObject };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ManagedFBObject as t } from \"./ManagedFBObject.js\";\nclass e extends t {\n  constructor(t, e, s) {\n    super(t, s), this.attachment = e, this.name = \"\";\n  }\n  dispose() {\n    this.attachment.dispose();\n  }\n  get usedMemory() {\n    return this.attachment.usedMemory;\n  }\n}\nexport { e as ManagedFBOAttachment };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ManagedFBOAttachment as t } from \"./ManagedFBOAttachment.js\";\nimport { AttachmentType as e } from \"./ManagedFBObject.js\";\nclass s extends t {\n  constructor(t, s, a) {\n    super(t, s, a), this.attachment = s, this.type = e.COLOR;\n  }\n}\nexport { s as ManagedColorAttachment };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ManagedFBOAttachment as t } from \"./ManagedFBOAttachment.js\";\nimport { AttachmentType as e } from \"./ManagedFBObject.js\";\nclass r extends t {\n  constructor() {\n    super(...arguments), this.type = e.DEPTH;\n  }\n}\nexport { r as ManagedDepthAttachment };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { GLObjectType as t } from \"../../webgl/GLObjectType.js\";\nfunction e(e) {\n  return e?.attachment.type === t.Texture;\n}\nexport { e as isManagedDepthTexture };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { releaseMaybe as t } from \"../../../core/maybe.js\";\nimport { isManagedDepthTexture as e } from \"./ManagedDepthTexture.js\";\nimport { ManagedFBObject as h, AttachmentType as s } from \"./ManagedFBObject.js\";\nimport { DepthStencilAttachment as o, ColorAttachment as r } from \"../../webgl/enums.js\";\nclass i extends h {\n  constructor(t, e, h, o, r, i) {\n    super(t, i), this.type = s.FBO, this._colors = new Map(), this._name = \"composite-color\", this.acquireDepth = null, this.acquireColor = null, this._name = e, this.fbo = h, this.acquireDepth = o, this.acquireColor = r;\n  }\n  dispose() {\n    this.fbo?.dispose();\n  }\n  get usedMemory() {\n    return this.fbo?.usedMemory || 0;\n  }\n  get name() {\n    return this._name;\n  }\n  setName(t) {\n    this._name = t;\n  }\n  getTexture(t = r.COLOR_ATTACHMENT0) {\n    return t === o ? this.fbo?.depthStencilTexture : this.fbo?.getColorTexture(t);\n  }\n  getAttachment(t = r.COLOR_ATTACHMENT0) {\n    return t === o ? this._depth : this._colors.get(t);\n  }\n  attachDepth(t) {\n    return t?.retain(), this.detachDepth(), t && this.fbo?.attachDepthStencil(t.attachment), this._depth = t, this;\n  }\n  detachDepth() {\n    this.fbo?.detachDepthStencilTexture(), this.fbo?.detachDepthStencilBuffer(), this._depth = t(this._depth);\n  }\n  obtainDepthTexture() {\n    const t = this._depth;\n    return e(t) ? (this.fbo?.detachDepthStencilTexture(), this._depth = null, t) : null;\n  }\n  attachColor(t, e) {\n    return t.retain(), this.detachColor(e), this.fbo?.attachColorTexture(t.attachment, e), this._colors.set(e, t), this;\n  }\n  detachColor(t) {\n    this.fbo?.detachColorTexture(t);\n    const e = this._colors.get(t);\n    this._colors.delete(t), e?.release();\n  }\n  detachAll() {\n    this._colors.forEach((t, e) => this.detachColor(e)), this.detachDepth();\n  }\n}\nexport { i as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { MemCachePool as t } from \"../../../../core/MemCachePool.js\";\nimport s from \"../../../../core/PooledArray.js\";\nclass i {\n  constructor(i, e) {\n    this._last = new s(), this._incarnation = 0, this._cache = new t(i, e);\n  }\n  destroy() {\n    this._last?.forAll(t => t.dispose()), this._last = null, this._cache.destroy();\n  }\n  set interactive(t) {\n    t && !this._last ? this._last = new s() : t || (this._last?.forAll(t => t.dispose()), this._last = null);\n  }\n  clean() {\n    this._last?.filterInPlace(t => !(t.incarnation < this._incarnation) || (this._cache.put(t.key, t), !1));\n  }\n  frame() {\n    ++this._incarnation;\n  }\n  pop(t) {\n    if (this._last) {\n      const s = this._last.find(s => s.key === t);\n      if (s) return this._last.removeUnordered(s), s;\n    }\n    return this._cache.pop(t);\n  }\n  put(t) {\n    t.incarnation = this._incarnation, this._last ? this._last.push(t) : this._cache.put(t.key, t);\n  }\n  get usedMemory() {\n    return this._last?.reduce((t, s) => t + s.usedMemory, 0) ?? 0;\n  }\n}\nexport { i as FBOPool };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ColorFormat as e, DepthFormat as t } from \"../../webgl/formats.js\";\nimport { ManagedColorAttachment as r } from \"../../webgl/ManagedColorAttachment.js\";\nimport { ManagedDepthAttachment as a } from \"../../webgl/ManagedDepthAttachment.js\";\nimport c from \"../../webgl/ManagedFBO.js\";\nimport { AttachmentType as h } from \"../../webgl/ManagedFBObject.js\";\nimport { FBOPool as i } from \"./FBOPool.js\";\nimport { PixelFormat as o, SizedPixelFormat as s, TextureWrapMode as n, PixelType as _, TextureSamplingMode as d, RenderbufferFormat as l, ColorAttachment as m } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as p } from \"../../../webgl/FramebufferObject.js\";\nimport { Renderbuffer as u } from \"../../../webgl/Renderbuffer.js\";\nimport { RenderbufferDescriptor as w } from \"../../../webgl/RenderbufferDescriptor.js\";\nimport { Texture as C } from \"../../../webgl/Texture.js\";\nimport { TextureDescriptor as E } from \"../../../webgl/TextureDescriptor.js\";\nclass f {\n  constructor(e) {\n    this.rctx = e, this._acquired = new Set(), this._cache = new i(e.newCache, \"FBOCache\"), this._depthCache = new i(e.newCache, \"DepthAttachmentCache\"), this._colorCache = new i(e.newCache, \"ColorAttachmentCache\");\n  }\n  destroy() {\n    this._cache.destroy(), this._depthCache.destroy(), this._colorCache.destroy();\n  }\n  clean() {\n    this._cache.clean(), this._colorCache.clean(), this._depthCache.clean();\n  }\n  frameStart() {\n    this._cache.frame(), this._colorCache.frame(), this._depthCache.frame(), this.debugCallback && this.debugCallback();\n  }\n  frameEnd() {\n    const e = this.debugCallback;\n    e && this._acquired.forEach(t => t.type === h.FBO && e(t.name, t.fbo));\n  }\n  get usedMemory() {\n    return Array.from(this._acquired.values()).reduce((e, t) => e + (\"getTexture\" in t ? t.getTexture()?.usedMemory ?? 0 : t.usedMemory), this._cache.usedMemory + this._colorCache.usedMemory + this._depthCache.usedMemory);\n  }\n  set interactive(e) {\n    this._cache.interactive = this._colorCache.interactive = this._depthCache.interactive = e;\n  }\n  acquire(r, a, h, i = e.RGBA) {\n    const o = b(i, r, a);\n    let s = this._cache.pop(o);\n    if (s) {\n      s.retain(), s.setName(h);\n      const e = this.rctx.getBoundFramebufferObject();\n      this.rctx.bindFramebuffer(s.fbo), this.rctx.setDrawBuffers([m.COLOR_ATTACHMENT0]), this.rctx.bindFramebuffer(e);\n    } else s = new c(o, h, new p(this.rctx, {\n      ...O[i],\n      width: r,\n      height: a\n    }), e => {\n      e ??= t.DEPTH_STENCIL_TEXTURE;\n      const r = this._acquireDepth(e, s.fbo.width, s.fbo.height, `${s.name} depth`);\n      return s.attachDepth(r), r.release(), s;\n    }, (t, c) => {\n      c ??= e.RGBA;\n      const h = this._acquireColor(c, r, a, `${s.name} color ${t}`);\n      return s.attachColor(h, t), h.release(), s;\n    }, () => {\n      this.debugCallback && this.debugCallback(s.name, s.fbo), this._acquired.delete(s), s.detachAll(), this._cache.put(s);\n    });\n    return this._trackHandle(s);\n  }\n  acquireDepth(e, t, r, a) {\n    return this._acquireDepth(e, t, r, a);\n  }\n  _acquireDepth(e, r, c, h) {\n    const i = b(e, r, c),\n      o = this._depthCache.pop(i);\n    if (o) return o.retain(), o.name = h, this._trackHandle(o);\n    const s = e === t.DEPTH_STENCIL_TEXTURE ? new a(i, new C(this.rctx, {\n      ...N[e],\n      width: r,\n      height: c\n    }), () => {\n      this._acquired.delete(s), this._depthCache.put(s);\n    }) : new a(i, new u(this.rctx, {\n      ...N[e],\n      width: r,\n      height: c\n    }), () => {\n      this._acquired.delete(s), this._depthCache.put(s);\n    });\n    return s.name = h, this._trackHandle(s);\n  }\n  _acquireColor(e, t, a, c) {\n    const h = b(e, t, a),\n      i = this._colorCache.pop(h);\n    if (i) return i.retain(), i.name = c, this._trackHandle(i);\n    const o = new r(h, new C(this.rctx, {\n      ...O[e],\n      width: t,\n      height: a\n    }), () => {\n      this._acquired.delete(o), this._colorCache.put(o);\n    });\n    return o.name = c, this._trackHandle(o);\n  }\n  _trackHandle(e) {\n    return this._acquired.add(e), e;\n  }\n}\nconst T = new c(\"default\", \"default\", null, () => T, () => T, () => {});\nfunction b(e, t, r) {\n  return `${e}x${t}x${r}`;\n}\nconst A = new E();\nA.pixelFormat = o.RED, A.internalFormat = s.R8, A.wrapMode = n.CLAMP_TO_EDGE;\nconst g = new E();\ng.pixelFormat = o.RG, g.internalFormat = s.RG8, g.wrapMode = n.CLAMP_TO_EDGE;\nconst M = new E();\nM.internalFormat = s.RGBA4, M.dataType = _.UNSIGNED_SHORT_4_4_4_4, M.wrapMode = n.CLAMP_TO_EDGE;\nconst R = new E();\nR.wrapMode = n.CLAMP_TO_EDGE;\nconst F = new E();\nF.wrapMode = n.CLAMP_TO_EDGE, F.samplingMode = d.LINEAR_MIPMAP_LINEAR, F.hasMipmap = !0, F.maxAnisotropy = 8;\nconst D = new E();\nD.pixelFormat = o.RED, D.dataType = _.HALF_FLOAT, D.internalFormat = s.R16F, D.samplingMode = d.NEAREST;\nconst x = new E();\nx.dataType = _.HALF_FLOAT, x.internalFormat = s.RGBA16F, x.samplingMode = d.NEAREST;\nconst O = {\n    [e.RED]: A,\n    [e.RG]: g,\n    [e.RGBA4]: M,\n    [e.RGBA]: R,\n    [e.RGBA_MIPMAP]: F,\n    [e.R16F]: D,\n    [e.RGBA16F]: x\n  },\n  G = new E();\nG.pixelFormat = o.DEPTH_STENCIL, G.dataType = _.UNSIGNED_INT_24_8, G.samplingMode = d.NEAREST, G.wrapMode = n.CLAMP_TO_EDGE;\nconst N = {\n  [t.DEPTH_STENCIL_TEXTURE]: G,\n  [t.DEPTH16_BUFFER]: new w(l.DEPTH_COMPONENT16, 4)\n};\nexport { f as FBOCache, T as defaultWebGLFBO };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../../core/PooledArray.js\";\nimport { TransparencyPassType as t } from \"../../lib/TransparencyPassType.js\";\nimport { DataType as r } from \"../../../../webgl/enums.js\";\nvar a;\n!function (e) {\n  e[e.FrontToBack = 0] = \"FrontToBack\", e[e.BackToFront = 1] = \"BackToFront\";\n}(a || (a = {}));\nclass i {\n  constructor(t, r, i = a.FrontToBack) {\n    this._rctx = t, this._techniques = r, this._sorting = i, this._draws = new e({\n      initialSize: 32,\n      allocator: e => e || {\n        material: null,\n        geometry: null,\n        geometryRanges: null,\n        bindDrawParams: null,\n        depthSquaredHint: 0,\n        indexType: 0\n      }\n    }), this._previouslyBoundDraw = new Map();\n  }\n  submitDraw(e, t, r, a) {\n    const i = this._draws.pushNew();\n    i.geometry = t, i.geometryRanges = r, i.material = e, i.depthSquaredHint = a, i.indexType = (t.indexed ? t.vao.indexBuffer.indexType : null) ?? 0;\n  }\n  prepare(e, t) {\n    return this._draws.map(r => r.material.prepareTechnique(this._techniques, e, t, r.geometry.parameters));\n  }\n  dispatch(e, r, a) {\n    const i = this._rctx;\n    this._previouslyBoundDraw.clear();\n    let s = null;\n    const o = this._draws.length;\n    for (let l = 0; l < o; l++) {\n      const o = a[l];\n      o === s && o.configuration.transparencyPassType === t.NONE || (i.bindTechnique(o, r, e), s = o);\n      const p = this._draws.data[l],\n        d = p.geometry;\n      i.bindVAO(d.vao), this._previouslyBoundDraw.get(o) !== p.material && (o.program.bindDraw(p.material, r, e), this._previouslyBoundDraw.set(o, p.material));\n      const c = p.geometryRanges,\n        u = c.length;\n      if (0 !== p.indexType) {\n        const e = n.get(p.indexType);\n        for (let t = 0; t < u; t += 2) {\n          const r = c[t],\n            a = c[t + 1];\n          i.drawElements(d.primitiveType, a, p.indexType, r * e);\n        }\n      } else for (let e = 0; e < u; e += 2) {\n        const t = c[e],\n          r = c[e + 1];\n        i.drawArrays(d.primitiveType, t, r);\n      }\n    }\n  }\n  prepareSubmit() {\n    this._draws.clear();\n  }\n  finishSubmit() {\n    const e = this._sorting === a.FrontToBack ? 1 : -1;\n    this._draws.sort((t, r) => {\n      const a = e * (t.depthSquaredHint - r.depthSquaredHint);\n      return 0 !== a ? a : t.geometry.vao.byteSize - r.geometry.vao.byteSize;\n    });\n  }\n  get count() {\n    return this._draws.length;\n  }\n}\nconst n = new Map();\nn.set(r.UNSIGNED_BYTE, 1), n.set(r.UNSIGNED_SHORT, 2), n.set(r.UNSIGNED_INT, 4);\nexport { i as RenderPass, a as RenderPassSorting };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"../../../../../chunks/tslib.es6.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport \"../../../../../core/Error.js\";\nimport { subclass as e } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { fromMat4 as t, transpose as a, invert as r } from \"../../../../../core/libs/gl-matrix-2/math/mat3.js\";\nimport { create as i } from \"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";\nimport { copy as h } from \"../../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { s as o, c as n } from \"../../../../../chunks/vec32.js\";\nimport { create as m } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { MaterialPassParameters as l, ShadowMapPassParameters as p, HighlightPassParameters as c, ViewshedShadowMapPassParameters as d, RenderPassIdentifier as u } from \"./AllRenderPasses.js\";\nimport { RenderPass as _, RenderPassSorting as g } from \"./RenderPass.js\";\nimport { ShaderOutput as w } from \"../shaderLibrary/ShaderOutput.js\";\nimport { TwoVectorPosition as P } from \"../util/TwoVectorPosition.js\";\nimport { SyncPreparesRenderPlugin as f } from \"../../effects/RenderPlugin.js\";\nimport { union as R, DepthRange as S } from \"../../lib/depthRange.js\";\nimport { RenderSlot as b } from \"../../lib/RenderSlot.js\";\nlet M = class extends f {\n  constructor() {\n    super({}), this._passes = null, this.produces = new Map([[b.OPAQUE_MATERIAL, s => this._produces(s)], [b.TRANSPARENT_MATERIAL, s => !!(this._passes && this._passes.materialTransparent.count > 0) && this._produces(s)], [b.INTEGRATED_MESH, s => this._produces(s)]]), this._materialPassParameters = new l(), this._shadowPassParameters = new p(), this._highlightPassParameters = new c(), this._viewshedPassParameters = new d(), this._systems = new Set();\n  }\n  initializeRenderContext(s) {\n    this._context = s;\n    const e = s.renderContext.rctx,\n      t = s.techniques;\n    this._passes = {\n      materialOpaque: new _(e, t),\n      materialTransparent: new _(e, t, g.BackToFront),\n      materialIntegratedMesh: new _(e, t),\n      shadowMap: new _(e, t),\n      highlight: new _(e, t),\n      highlightIntegratedMesh: new _(e, t),\n      highlightShadowMap: new _(e, t),\n      viewshedShadowMap: new _(e, t),\n      defaultShadowMap: new _(e, t)\n    };\n  }\n  get rctx() {\n    return this._context.renderContext.rctx;\n  }\n  uninitializeRenderContext() {}\n  dispose() {\n    this._context = null, this._systems.clear();\n  }\n  register(s) {\n    this._systems.add(s);\n  }\n  _produces(s) {\n    return 0 !== this._systems.size && null !== this._passes && (s === w.Highlight ? this._passes.highlight.count > 0 || this._passes.highlightIntegratedMesh.count > 0 : s !== w.ShadowHighlight || this._passes.highlight.count > 0);\n  }\n  prepareRender(s) {\n    if (0 !== this._systems.size && null !== this._passes) {\n      for (const s of Object.values(this._passes)) s.prepareSubmit();\n      this._systems.forEach(e => e.submit(this._passes, s.bindParameters));\n      for (const s of Object.values(this._passes)) s.finishSubmit();\n      this._context.techniques.frameUpdate();\n    }\n  }\n  prepareTechniques(s) {\n    if (0 === this._systems.size) return null;\n    const e = s.output === w.Shadow || s.output === w.ShadowHighlight || s.output === w.ShadowExcludeHighlight ? this._shadowPassParameters : s.output === w.ViewshedShadow ? this._viewshedPassParameters : s.output === w.Highlight ? this._highlightPassParameters : this._materialPassParameters,\n      t = s.bindParameters;\n    return this._updateParameters(t.camera, e, t.slot === b.TRANSPARENT_MATERIAL), this._materialPassParameters.output = s.output, this._invoke(s, (e, t) => e.prepare(t, s.bindParameters));\n  }\n  renderNode(s, e) {\n    this._invoke(s, (t, a) => t.dispatch(a, s.bindParameters, e));\n  }\n  _invoke(s, e) {\n    if (null === this._passes) return null;\n    switch (s.bindParameters.slot) {\n      case b.OPAQUE_MATERIAL:\n        switch (s.output) {\n          case w.Color:\n          case w.Depth:\n          case w.Normal:\n          case w.ObjectAndLayerIdColor:\n            return e(this._passes.materialOpaque, this._materialPassParameters);\n          case w.Highlight:\n            return e(this._passes.highlight, this._highlightPassParameters);\n          case w.Shadow:\n            return e(this._passes.shadowMap, this._shadowPassParameters);\n          case w.ShadowHighlight:\n            return e(this._passes.highlightShadowMap, this._shadowPassParameters);\n          case w.ShadowExcludeHighlight:\n            return e(this._passes.defaultShadowMap, this._shadowPassParameters);\n          case w.ViewshedShadow:\n            return e(this._passes.viewshedShadowMap, this._viewshedPassParameters);\n        }\n        break;\n      case b.TRANSPARENT_MATERIAL:\n        switch (s.output) {\n          case w.Color:\n          case w.Depth:\n          case w.Normal:\n          case w.ObjectAndLayerIdColor:\n            return e(this._passes.materialTransparent, this._materialPassParameters);\n        }\n        break;\n      case b.INTEGRATED_MESH:\n        switch (s.output) {\n          case w.Color:\n          case w.Depth:\n          case w.Normal:\n          case w.ObjectAndLayerIdColor:\n            return e(this._passes.materialIntegratedMesh, this._materialPassParameters);\n          case w.Highlight:\n            return e(this._passes.highlightIntegratedMesh, this._highlightPassParameters);\n        }\n    }\n    return null;\n  }\n  notifyDirty() {\n    this._context.requestRender();\n  }\n  queryDepthRange(s) {\n    const e = new S();\n    return this._systems.forEach(t => R(e, t.queryShadowCasterDepthRange(s))), e;\n  }\n  _updateParameters(s, e, i) {\n    const m = s.viewInverseTransposeMatrix;\n    o(j, m[3], m[7], m[11]), T.set(j), n(e.transformWorldFromViewTH, T.high), n(e.transformWorldFromViewTL, T.low), n(e.slicePlaneLocalOrigin, j), t(e.transformViewFromCameraRelativeRS, s.viewMatrix), h(e.transformProjFromView, s.projectionMatrix), e.identifier === u.Material && (this._materialPassParameters.transparent = i, a(A, e.transformViewFromCameraRelativeRS), r(e.transformNormalViewFromGlobal, A));\n  }\n};\nM = s([e(\"esri.views.3d.webgl-engine.core.renderPasses.RenderPassManager\")], M);\nconst j = m(),\n  A = i(),\n  T = new P();\nexport { M as RenderPassManager };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction n(n) {\n  return n.name;\n}\nexport { n as isManagedFBO };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Logger.js\";\nimport o from \"../../../../core/PooledArray.js\";\nimport { isManagedFBO as s } from \"../../webgl/utils.js\";\nimport { defaultWebGLFBO as r } from \"../core/FBOCache.js\";\nimport { hasFeatureFlagWebGLDebug as t } from \"../../../webgl/checkWebGLError.js\";\nclass n {\n  constructor(e) {\n    this._context = e, this._nodes = new o();\n  }\n  destroy() {\n    this._nodes.forEach(e => e.destroy()), this._nodes.clear();\n  }\n  add(e) {\n    this._nodes.push(e), t && console.log(`Registered render nodes: ${this._nodes.map(({\n      declaredClass: e\n    }) => e).join(\", \")}`);\n  }\n  remove(e) {\n    this._nodes.remove(e), t && console.log(`Registered render nodes: ${this._nodes.map(({\n      declaredClass: e\n    }) => e).join(\", \")}`);\n  }\n  produces(e) {\n    return this._nodes.some(({\n      produces: o\n    }) => o === e);\n  }\n  require(e, ...o) {\n    const s = this._nodes;\n    return o.reduce((o, r) => o + s.reduce((o, {\n      consumes: s,\n      produces: t\n    }) => o + (s.required.includes(e) && t === r ? 1 : 0), 0), 0);\n  }\n  optional(e, ...o) {\n    const s = this._nodes;\n    return o.reduce((o, r) => o + s.reduce((o, {\n      consumes: s,\n      produces: t\n    }) => o + (s.optional?.includes(e) && t === r ? 1 : 0), 0), 0);\n  }\n  updateAnimation() {\n    return this._nodes.reduce((e, o) => o.updateAnimation() || e, !1);\n  }\n  render(o, t, n = () => {}) {\n    const c = s(o) ? o.name : o,\n      d = this._nodes.filter(({\n        produces: e\n      }) => e === c);\n    return 0 === d.length || (d.forEach(r => {\n      const d = s(o) ? [o] : [];\n      for (const e of r.consumes.required) {\n        if (e === c) continue;\n        const o = t.get(e);\n        if (!o) return void (n && n(d));\n        d.push(o);\n      }\n      if (r.consumes.optional) for (const e of r.consumes.optional) {\n        if (e === c) continue;\n        const o = t.get(e);\n        o && d.push(o);\n      }\n      try {\n        const e = r.doRender(d, this._context);\n        e && e !== o && (s(o) ? (o.release(), o = e, t.set(c, o)) : o = e);\n      } catch (i) {\n        e.getLogger(r).errorOnce(i);\n      }\n      n && n(d);\n    }), this._context.rctx.enforceState()), s(o) ? o : r;\n  }\n}\nexport { n as RenderNodes };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport e from \"../../../../core/PooledArray.js\";\nimport { isPromiseLike as r, createAbortError as t } from \"../../../../core/promiseUtils.js\";\nimport { signal as n } from \"../../../../core/signal.js\";\nimport { ShaderOutput as s } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { isPrepareRenderPlugin as i, isPreparesRenderPlugin as o } from \"./RenderPlugin.js\";\nimport { Decorations as l } from \"../lib/basicInterfaces.js\";\nimport { union as a, DepthRange as d } from \"../lib/depthRange.js\";\nimport { RenderOccludedFlag as u } from \"../lib/Material.js\";\nimport { RenderSlot as c } from \"../lib/RenderSlot.js\";\nclass h {\n  constructor(r) {\n    this._context = r, this._renderPlugins = new e(), this._materialRenderers = new Map(), this._slots = new Array(), this._renderVersion = n(0);\n    for (let e = 0; e < c.MAX_SLOTS; ++e) this._slots[e] = [];\n  }\n  destroy() {\n    this._renderPlugins.forEach(e => e.destroy()), this._renderPlugins.clear(), this._materialRenderers.clear();\n  }\n  get plugins() {\n    return this._renderPlugins;\n  }\n  add(e, n) {\n    const s = () => {\n        if (n?.aborted) throw e.uninitializeRenderContext(), t();\n        this._renderPlugins.push(e), e.materialReference && this._materialRenderers.set(e.materialReference, e), e.produces.forEach((r, t) => {\n          this._slots[t].push(e);\n        }), this._context.requestRender(), this._renderVersion.value++;\n      },\n      i = e.initializeRenderContext(this._context, n);\n    if (r(i)) return i.then(s);\n    s();\n  }\n  remove(e) {\n    if (null != e.materialReference && this._materialRenderers.delete(e.materialReference), null != this._renderPlugins.removeUnordered(e)) {\n      for (let r = 0; r < this._slots.length; ++r) this._slots[r] = this._slots[r].filter(r => r !== e);\n      e.uninitializeRenderContext(), this._context.requestRender(), this._renderVersion.value++;\n    }\n  }\n  prepareRender() {\n    this._renderPlugins.forAll(e => {\n      e.prepareRender && e.prepareRender(this._context.renderContext);\n    });\n  }\n  updateAnimation(e) {\n    let r = !1;\n    return this._renderPlugins.forAll(t => {\n      t.updateAnimation && (r = t.updateAnimation(e) || r);\n    }), r;\n  }\n  renderFeatureChanged() {\n    this._renderPlugins.forAll(e => {\n      e.renderFeatureChanged && e.renderFeatureChanged();\n    });\n  }\n  prepare(...e) {\n    for (const r of e) this._context.renderContext.bindParameters.slot = r, this._slots[r].forEach(e => {\n      const t = e.produces.get(r);\n      t?.(s.Color) && (i(e) && e.prepareTechnique(this._context.renderContext), o(e) && e.prepareTechniques(this._context.renderContext));\n    });\n  }\n  _getRenderables() {\n    const e = this._context.renderContext.bindParameters.slot,\n      r = this._context.renderContext.output ?? s.Color,\n      t = new Map();\n    return this._slots[e].forEach(n => {\n      const s = n.produces.get(e);\n      if (s?.(r) && (!n.isDecoration || this._context.renderContext.bindParameters.decorations !== l.OFF)) if (i(n)) {\n        const e = n.prepareTechnique(this._context.renderContext);\n        null != e && t.set(n, e);\n      } else if (o(n)) {\n        const e = n.prepareTechniques(this._context.renderContext);\n        null != e && t.set(n, e);\n      } else t.set(n, null);\n    }), t;\n  }\n  render(e, ...r) {\n    for (const t of r) this._context.renderContext.bindParameters.slot = t, this._getRenderables().forEach((r, t) => t.renderNode(this._context.renderContext, r, e));\n  }\n  queryDepthRange(e) {\n    const r = new d();\n    return this._renderPlugins.forAll(t => {\n      const n = t.queryDepthRange?.(e);\n      a(r, n);\n    }), r;\n  }\n  get updating() {\n    return this._renderVersion.value >= 0 && this._renderPlugins.some(e => e.running);\n  }\n  produces(e, ...r) {\n    for (const t of r) if (this._slots[t].some(r => {\n      const n = r.produces.get(t);\n      return !!n && n(e);\n    })) return !0;\n    return !1;\n  }\n  consumes(e) {\n    return this._renderPlugins.some(r => r.consumes().required.includes(e));\n  }\n  getMaterialRenderer(e) {\n    return this._materialRenderers.get(e);\n  }\n  removeEmptyMaterialRenderers() {\n    this._renderPlugins.filterInPlace(e => !e.materialReference || 0 !== e.numGeometries || (this._materialRenderers.delete(e.materialReference), e.destroy(), !1));\n  }\n  get hasDecorations() {\n    return this._renderPlugins.some(e => e.isDecoration);\n  }\n  get hasOccludees() {\n    return this._renderPlugins.some(e => e.hasOccludees);\n  }\n  get renderOccludedFlags() {\n    return this._renderPlugins.reduce((e, r) => e | r.renderOccludedFlags, u.None);\n  }\n  get usedMemory() {\n    return this._renderPlugins.reduce((e, r) => null !== r.materialReference ? e : e + (r.usedMemory ?? 0), 0);\n  }\n  get test() {}\n}\nexport { h as RenderPluginManager };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { RenderRequestType as e } from \"../../lib/basicInterfaces.js\";\nimport { C as i } from \"../../../../../chunks/Compositing.glsl.js\";\nimport { CompositingTechnique as r } from \"../../shaders/CompositingTechnique.js\";\nimport { CompositingTechniqueConfiguration as t } from \"../../shaders/CompositingTechniqueConfiguration.js\";\nimport { ClearBufferBit as s } from \"../../../../webgl/enums.js\";\nclass o {\n  constructor(e) {\n    this.techniques = e, this._blitConfiguration = new t(), this._blitParameters = new i();\n  }\n  render(i, t, o, n, a) {\n    i.bindFramebuffer(o.fbo);\n    const m = this.techniques.acquire(r, this._blitConfiguration);\n    return i.setClearColor(0, 0, 0, 1), i.clear(s.COLOR_BUFFER_BIT), m?.compiled ? (this._blitParameters.texture = t.getTexture(), i.bindTechnique(m, n, this._blitParameters), i.screen.draw(), m.release(), o) : (a(e.UPDATE), o);\n  }\n}\nexport { o as Blit };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from \"../../../../core/has.js\";\nimport { clamp as t } from \"../../../../core/mathUtils.js\";\nimport { Milliseconds as i } from \"../../../../core/time.js\";\nclass e {\n  constructor() {\n    this._step = m, this._dilation = 1, this._firstIdleTime = i(0);\n  }\n  frame(e, _) {\n    _ ? 0 === this._firstIdleTime && (this._firstIdleTime = i(performance.now())) : this._firstIdleTime = i(0);\n    if (!has(\"disable-feature:high-quality-idle\")) {\n      const t = _ ? performance.now() - this._firstIdleTime : 0;\n      if (t >= r + o) return this._step = i(1 / 0), void (this._dilation = 1);\n      this._dilation = t >= r ? h : 1;\n    } else this._dilation = 1;\n    const n = t(e / s, m, a);\n    this._step === 1 / 0 ? this._step = i(n) : this._step = i(this._step * l + n * (1 - l));\n  }\n  get value() {\n    return this._step;\n  }\n  get timeDilation() {\n    return this._dilation;\n  }\n  clear() {\n    this._step = this._firstIdleTime = i(0);\n  }\n}\nconst s = .5,\n  r = i(12e4),\n  o = i(1e4),\n  h = 10,\n  l = .9,\n  _ = 30,\n  m = i(1e3 / 1),\n  a = i(1e3 / _);\nexport { e as AnimationTimeStep };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { releaseMaybe as t } from \"../../../../core/maybe.js\";\nimport { c as e } from \"../../../../chunks/vec42.js\";\nimport { create as r } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { ColorFormat as i, DepthFormat as h } from \"../../webgl/formats.js\";\nimport { RendererTarget as s } from \"./rendererUtils.js\";\nimport { TransparencyPassType as o } from \"./TransparencyPassType.js\";\nimport { ColorAttachment as c, ClearBufferBit as a } from \"../../../webgl/enums.js\";\nimport { ensureAttachmentMaxSize as l } from \"../../../webgl/FramebufferObject.js\";\nclass f {\n  constructor(t, e) {\n    this._fbos = t, this.compositingHelper = e, this._width = 4, this._height = 4, this._clearColor = r();\n  }\n  dispose() {\n    this._color = t(this._color), this.releaseBuffers();\n  }\n  get framebuffer() {\n    return this.color.attachDepth(this.depth), this.color.fbo;\n  }\n  get colorTexture() {\n    return this.color.getTexture();\n  }\n  get depthTexture() {\n    return this.depth.attachment;\n  }\n  initializeFrame(t, r, i) {\n    this._fbos.interactive = i === s.Default;\n    const h = this._fbos.rctx;\n    this._width = t.fullWidth, this._height = t.fullHeight, l(this, h.parameters.maxTextureSize);\n    const o = this._color;\n    return this._color = null, this.releaseBuffers(), e(this._clearColor, r), o;\n  }\n  releaseBuffers() {\n    this._color?.detachDepth(), this._depth = t(this._depth);\n  }\n  renderHUDVisibility(t, e, r) {\n    return t?.fbo?.width === this._width && t?.fbo?.height === this._height || (t?.release(), t = this._fbos.acquire(this._width, this._height, \"hud visibility\", i.RGBA4)), t.attachDepth(r || this.depth), this._fbos.rctx.bindFramebuffer(t.fbo), this._fbos.rctx.clearFramebuffer(_), e(), t.detachDepth(), t;\n  }\n  compositeToHUDVisibility(t, e) {\n    this._fbos.rctx.bindFramebuffer(t.hudVisibility?.fbo), this.compositingHelper.compositeHUD(t, e);\n  }\n  renderOITPass(t, e, r) {\n    let s, a;\n    const {\n      _width: l,\n      _height: f\n    } = this;\n    switch (e) {\n      case o.ColorAlpha:\n        s = this._fbos.acquire(l, f, r ? \"oit hud color alpha\" : \"oit color alpha\", i.RGBA16F), s.acquireColor(c.COLOR_ATTACHMENT1, i.R16F), a = [0, 0, 0, 1];\n        break;\n      case o.FrontFace:\n        s = this._fbos.acquire(l, f, r ? \"oit hud front\" : \"oit front\"), a = [0, 0, 0, 0];\n    }\n    return r ? s.acquireDepth(h.DEPTH16_BUFFER) : s.attachDepth(this.depth), this._fbos.rctx.bindFramebuffer(s.fbo), this._fbos.rctx.clearFramebuffer(a, r, r), t(), s.detachDepth(), s;\n  }\n  compositeToFramebuffer(t, e, r, i) {\n    this.bindFbo(), this.compositingHelper.composite(t, e, r, i);\n  }\n  compositeOIT(t, e, r, i) {\n    i ? (this._fbos.rctx.bindFramebuffer(i.fbo), this._fbos.rctx.setClearColor(0, 0, 0, 1e-13), this._fbos.rctx.clear(a.COLOR_BUFFER_BIT)) : this.bindFbo(), this.compositingHelper.compositeOIT(t, e.getTexture(), e.getTexture(c.COLOR_ATTACHMENT1), r.getTexture());\n  }\n  renderDepthDetached(t) {\n    this._bindTarget(this.color), t(), this._bindTarget(this.color, this.depth);\n  }\n  renderToCachedFBO(e, r, s, o, c = i.RGBA, a = h.DEPTH16_BUFFER, l = this._width, f = this._height, _ = null) {\n    return e?.fbo?.width === l && e?.fbo?.height === f || (e = t(e)), e = e ?? this._fbos.acquire(l, f, r, c), _?.forEach(t => e.acquireColor(t.attachment, t.format)), null != a && e.acquireDepth(a), this._fbos.rctx.bindFramebuffer(e.fbo), this._fbos.rctx.clearFramebuffer(o, !0, !0), s(), e;\n  }\n  renderToTargets(t, e, r, i, h = !1, s = !1) {\n    this._bindTarget(e, r), this._fbos.rctx.clearFramebuffer(i, h, s), t(), e.detachDepth();\n  }\n  bindFbo() {\n    const t = null == this._color;\n    if (this._bindTarget(this.color, this.depth), t) {\n      const t = this._fbos.rctx;\n      t.setClearStencil(0), t.setClearColor(this._clearColor[0], this._clearColor[1], this._clearColor[2], this._clearColor[3]), t.clear(a.COLOR_BUFFER_BIT | a.DEPTH_BUFFER_BIT | a.STENCIL_BUFFER_BIT);\n    }\n  }\n  _bindTarget(t, e) {\n    t.attachDepth(e), this._fbos.rctx.bindFramebuffer(t.fbo);\n  }\n  get width() {\n    return this._width;\n  }\n  get height() {\n    return this._height;\n  }\n  get color() {\n    return this._ensureColor();\n  }\n  _ensureColor() {\n    return this._color || (this._color = this._fbos.acquire(this._width, this._height, \"composite-color\")), this._color;\n  }\n  updateColor(t) {\n    const e = this._ensureColor();\n    e.attachDepth(this.depth), this._color = t(e);\n  }\n  get depth() {\n    return this._depth || (this._depth = this._fbos.acquireDepth(h.DEPTH_STENCIL_TEXTURE, this._width, this._height, \"depth\")), this._depth;\n  }\n}\nconst _ = [0, 1, 0, 1];\nexport { f as OffscreenRendering };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor() {\n    this._inputs = new Map();\n  }\n  set(t, s) {\n    this._inputs.set(t, s);\n  }\n  get(t) {\n    return this._inputs.get(t);\n  }\n  has(t) {\n    return this._inputs.has(t);\n  }\n  release(t) {\n    this._inputs.get(t)?.release() && this._inputs.delete(t);\n  }\n}\nexport { t as RenderPluginInput };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as i } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { blendingDefault as t } from \"../lib/OrderIndependentTransparency.js\";\nimport { Program as o } from \"../lib/Program.js\";\nimport { a as s } from \"../../../../chunks/ShadowCastVisualize.glsl.js\";\nimport { PrimitiveType as n } from \"../../../webgl/enums.js\";\nimport { makePipelineState as a, defaultColorWriteParams as l } from \"../../../webgl/renderState.js\";\nclass m extends r {\n  constructor(e, r) {\n    super(e, r, () => this.destroy());\n  }\n  initializeProgram(e) {\n    return new o(e.rctx, m.shader.get().build(this.configuration), i);\n  }\n  initializePipeline() {\n    return a({\n      blending: t,\n      colorWrite: l,\n      depthTest: null,\n      depthWrite: null\n    });\n  }\n  get primitiveType() {\n    return n.TRIANGLE_STRIP;\n  }\n}\nm.shader = new e(s, () => import(\"./ShadowCastVisualize.glsl.js\"));\nexport { m as ShadowCastVisualizeTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport s from \"../../../../core/Accessor.js\";\nimport { disposeMaybe as t } from \"../../../../core/maybe.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { a as r, c as n } from \"../../../../chunks/vec42.js\";\nimport { createQuadVAO as o } from \"./glUtil3D.js\";\nimport { S as h } from \"../../../../chunks/ShadowCastVisualize.glsl.js\";\nimport { ShadowCastVisualizeTechnique as _ } from \"../shaders/ShadowCastVisualizeTechnique.js\";\nimport { ShadowCastVisualizeTechniqueConfiguration as d } from \"../shaders/ShadowCastVisualizeTechniqueConfiguration.js\";\nimport { vertexCount as l } from \"../../../webgl/Util.js\";\nconst u = 4e4,\n  c = 5e4,\n  p = 1 / 512;\nlet m = class extends s {\n  constructor(e, s, t, i) {\n    super({}), this._techniques = e, this._rctx = s, this._data = t, this._requestRender = i, this._passParameters = new h(this._data), this._techniqueConfig = new d(), this._enabled = !1, this._vao = o(s);\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  dispose() {\n    this._stop(), this._vao = t(this._vao), this._techniques.release(this._technique), this._technique = null;\n  }\n  get _visualizeShadowCastTechnique() {\n    return this._technique = this._techniques.releaseAndAcquire(_, this._techniqueConfig, this._technique), this._technique;\n  }\n  render(e) {\n    if (!this._showVisualization) return;\n    this._passParameters.sampleScale = 1 / this._data.computedSamples;\n    const s = this._visualizeShadowCastTechnique;\n    this._rctx.bindVAO(this._vao), this._rctx.bindTechnique(s, e, this._passParameters), this._rctx.drawArrays(s.primitiveType, 0, l(this._vao, \"geometry\"));\n  }\n  setOptions(e) {\n    void 0 !== e.enabled && this._setEnabled(e.enabled), void 0 !== e.color && this._setColor(e.color), void 0 !== e.threshold && (this._threshold = e.threshold), void 0 !== e.visualization && (this._visualization = e.visualization), void 0 !== e.bandSize && (this._bandSize = e.bandSize), void 0 !== e.bandsEnabled && (this._bandsEnabled = e.bandsEnabled);\n  }\n  get opacityFromElevation() {\n    return this._passParameters.opacityFromElevation;\n  }\n  set opacityFromElevation(e) {\n    this._passParameters.opacityFromElevation !== e && (this._passParameters.opacityFromElevation = e, this.notifyChange(\"opacityFromElevation\"));\n  }\n  get _showVisualization() {\n    return this._enabled && this._data.computedSamples > 0 && this.opacityFromElevation > p;\n  }\n  get _threshold() {\n    return this._passParameters.threshold;\n  }\n  set _threshold(e) {\n    this._threshold !== e && (this._passParameters.threshold = e, this._requestRenderIfRunning());\n  }\n  get _visualization() {\n    return this._techniqueConfig.visualization;\n  }\n  set _visualization(e) {\n    e !== this._visualization && (this._techniqueConfig.visualization = e, this._techniques.release(this._technique), this._technique = null, this._requestRenderIfRunning());\n  }\n  get _bandSize() {\n    return this._passParameters.bandSize;\n  }\n  set _bandSize(e) {\n    e !== this._bandSize && (this._passParameters.bandSize = e, this._requestRenderIfRunning());\n  }\n  get _bandsEnabled() {\n    return this._techniqueConfig.bandsEnabled;\n  }\n  set _bandsEnabled(e) {\n    e !== this._bandsEnabled && (this._techniqueConfig.bandsEnabled = e, this._techniques.release(this._technique), this._technique = null, this._requestRenderIfRunning());\n  }\n  _setColor(e) {\n    const s = this._passParameters.color;\n    r(e, s) || (n(this._passParameters.color, e), this._requestRenderIfRunning());\n  }\n  _setEnabled(e) {\n    e !== this._enabled && (e ? this._start() : this._stop());\n  }\n  _requestRenderIfRunning() {\n    this._enabled && this._requestRender();\n  }\n  _start() {\n    this._enabled = !0, this._requestRender();\n  }\n  _stop() {\n    this._enabled = !1, this._requestRender();\n  }\n};\ne([i()], m.prototype, \"opacityFromElevation\", null), m = e([a(\"esri.views.3d.webgl-engine.lib.ShadowCastRenderer\")], m);\nexport { m as ShadowCastRenderer, c as shadowCastDisableElevationMax, u as shadowCastDisableElevationMin, p as shadowCastDisabledElevationThreshold };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as t } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Program as i } from \"../lib/Program.js\";\nimport { a as o } from \"../../../../chunks/ShadowCastAccumulate.glsl.js\";\nimport { ShadowConfiguration as s } from \"./ShadowConfiguration.js\";\nimport { BlendFactor as a, PrimitiveType as n } from \"../../../webgl/enums.js\";\nimport { makePipelineState as l, separateBlendingParams as m, defaultColorWriteParams as u } from \"../../../webgl/renderState.js\";\nclass d extends r {\n  constructor(e) {\n    super(e, new s(), () => this.destroy());\n  }\n  initializeProgram(e) {\n    return new i(e.rctx, d.shader.get().build(this.configuration), t);\n  }\n  initializePipeline() {\n    return l({\n      blending: m(a.ONE, a.ONE, a.ONE, a.ONE),\n      colorWrite: u,\n      depthTest: null,\n      depthWrite: null\n    });\n  }\n  get primitiveType() {\n    return n.TRIANGLE_STRIP;\n  }\n}\nd.shader = new e(o, () => import(\"./ShadowCastAccumulate.glsl.js\"));\nexport { d as ShadowCastAccumulateTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { equals as i } from \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport { smoothstep as r } from \"../../../../core/mathUtils.js\";\nimport { disposeMaybe as s, releaseMaybe as o } from \"../../../../core/maybe.js\";\nimport { watch as a, syncAndInitial as n, sync as h } from \"../../../../core/reactiveUtils.js\";\nimport { property as c } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport { subclass as _ } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { G as u, c as l } from \"../../../../chunks/vec32.js\";\nimport { create as m } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { ReadShadowMapPassParameters as d } from \"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";\nimport { BindParameters as p } from \"./BindParameters.js\";\nimport { zero as g } from \"./depthRange.js\";\nimport { createQuadVAO as f } from \"./glUtil3D.js\";\nimport { ShadowCastRenderer as b, shadowCastDisabledElevationThreshold as w, shadowCastDisableElevationMax as v, shadowCastDisableElevationMin as A } from \"./ShadowCastRenderer.js\";\nimport { ShadowMap as R } from \"./ShadowMap.js\";\nimport { S as y } from \"../../../../chunks/ShadowCastAccumulate.glsl.js\";\nimport { ShadowCastAccumulateTechnique as C } from \"../shaders/ShadowCastAccumulateTechnique.js\";\nimport { TaskPriority as F } from \"../../../support/Scheduler.js\";\nimport { PixelFormat as j, PixelType as S, SizedPixelFormat as x, TextureWrapMode as P, ClearBufferBit as T } from \"../../../webgl/enums.js\";\nimport { FramebufferObject as D } from \"../../../webgl/FramebufferObject.js\";\nimport { TextureDescriptor as q } from \"../../../webgl/TextureDescriptor.js\";\nimport { vertexCount as E } from \"../../../webgl/Util.js\";\nlet M = class extends t {\n  constructor(e, t, i, r, s, o) {\n    super({}), this.fbos = e, this._stage = i, this._prepareForShadowMapPass = r, this._renderToShadowMap = s, this._requestRender = o, this._progress = 0, this._sampleCount = 0, this._passParameters = new d(), this._cachedLightDirections = [], this._depthRange = g, this._previewing = !1, this._cameraForcedForScreenshot = !1, this._shadowAccumulatorKey = \"shadowAccumulator\", this._rctx = e.rctx, this._bindParameters = new p(new R(e, i.viewingMode), null), this._bindParameters.shadowMap.enabled = !0, this._vao = f(this._rctx), this._accumulationRenderer = new b(t, this._rctx, this, o);\n    const c = this._stage.view.resourceController.scheduler;\n    this.addHandles([c.registerTask(F.SHADOW_ACCUMULATOR, this), a(() => i.renderView, e => {\n      this.removeHandles(L), null != e && this.addHandles(e.events.on(\"force-camera-for-screenshot\", () => this._cameraForcedForScreenshot = !0), L);\n    }, n), a(() => this._previewing, () => this._requestRenderIfEnabled(), h)], this._shadowAccumulatorKey);\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  dispose() {\n    this._disable(), this.removeHandles(this._shadowAccumulatorKey), this._accumulationRenderer = s(this._accumulationRenderer), this._bindParameters.shadowMap.dispose(), this._fbo = s(this._fbo), this._vao = s(this._vao), this._accumulationTechniqueCached = o(this._accumulationTechniqueCached), this._cachedLightDirections.length = 0, this._sampleCount = 0;\n  }\n  get computedSamples() {\n    return this._progress;\n  }\n  get shadowCastTexture() {\n    return this._fbo?.colorTexture;\n  }\n  get isAccumulating() {\n    return this._isPreviewing || this._isRefining;\n  }\n  get _accumulationTechnique() {\n    if (null == this._accumulationTechniqueCached) {\n      const e = {\n        rctx: this._rctx,\n        viewingMode: this._stage.viewingMode\n      };\n      this._accumulationTechniqueCached = new C(e);\n    }\n    return this._accumulationTechniqueCached;\n  }\n  get _isRefining() {\n    return this._isActive && !this._isDoneAccumulating && !this._previewing;\n  }\n  get _isPreviewing() {\n    return this._isActive && this._previewing;\n  }\n  get _isActive() {\n    return null != this._fbo && this._sampleCount > 0;\n  }\n  get canAccumulate() {\n    return null != this._bindParameters.depth && this._depthRange !== g && this._opacityFromElevation > w;\n  }\n  get _isDoneAccumulating() {\n    return this._progress >= this._sampleCount;\n  }\n  get _lightDirections() {\n    return this._cachedLightDirections;\n  }\n  set _lightDirections(e) {\n    const t = this._cachedLightDirections;\n    if (i(t, e, u)) return;\n    const r = Math.min(y, e.length);\n    t.length = r, this._sampleCount = r;\n    for (let i = 0; i < r; ++i) t[i] = l(t[i] ?? m(), e[i]);\n    this._invalidate();\n  }\n  get _opacityFromElevation() {\n    return this._accumulationRenderer.opacityFromElevation;\n  }\n  set _opacityFromElevation(e) {\n    this._accumulationRenderer.opacityFromElevation = e;\n  }\n  get running() {\n    return this._isRefining && this.canAccumulate && this._progress > 0;\n  }\n  runTask(e) {\n    for (this._prepareForShadowMapPass(this._bindParameters); !e.done && !this._isDoneAccumulating;) this._accumulateShadow(), e.madeProgress();\n    this._requestRender();\n  }\n  renderAccumulation(e, t, i, r) {\n    if (this._depthRange = t, this._updateCamera(i), this._bindParameters.contentCamera = r, this._bindParameters.depth = e, this._passParameters.origin = this._bindParameters.camera.center, this.notifyChange(\"canAccumulate\"), !this.isAccumulating || !this.canAccumulate) return !1;\n    (this._previewing || 0 === this._progress || this._cameraForcedForScreenshot) && this._clear();\n    const s = this._cameraForcedForScreenshot ? this._sampleCount : Math.min(U, this._sampleCount - this._progress);\n    for (let o = 0; o < s; ++o) this._accumulateShadow();\n    return this._cameraForcedForScreenshot = !1, this._requestRender(), s > 0;\n  }\n  render(e) {\n    this._accumulationRenderer.render(e);\n  }\n  setOptions(e) {\n    if (void 0 !== e.enabled) {\n      const t = null != this._fbo;\n      e.enabled !== t && (e.enabled ? this._enable() : this._disable());\n    }\n    void 0 !== e.previewing && (this._previewing = e.previewing), void 0 !== e.lightDirections && (this._lightDirections = e.lightDirections), this._accumulationRenderer.setOptions(e);\n  }\n  readAccumulatedShadow(e, t) {\n    return !this._isActive || !this._fbo || this._progress < 1 || e < 0 || e >= this._fbo.width || t < 0 || t >= this._fbo.height ? 0 : (this._fbo.readPixels(e, t, 1, 1, j.RGBA, S.UNSIGNED_BYTE, O), O[0] / this._progress);\n  }\n  _enable() {\n    this._progress = 0;\n    const e = new q();\n    e.pixelFormat = j.RED, e.internalFormat = x.R8, e.wrapMode = P.CLAMP_TO_EDGE, this._fbo = new D(this._rctx, e), this._requestRender();\n  }\n  _disable() {\n    this._fbo = s(this._fbo), this._requestRender();\n  }\n  _invalidate() {\n    this._progress = 0, this._requestRenderIfEnabled();\n  }\n  _clear() {\n    this._rctx.bindFramebuffer(this._fbo), this._rctx.setClearColor(0, 0, 0, 0), this._rctx.clear(T.COLOR_BUFFER_BIT), this._progress = 0;\n  }\n  _accumulateShadow() {\n    this._renderToShadowMap(this._bindParameters, this._lightDirections[this._progress++], this._depthRange);\n    const e = this._accumulationTechnique;\n    this._rctx.bindFramebuffer(this._fbo), this._rctx.bindTechnique(e, this._bindParameters, this._passParameters), this._rctx.bindVAO(this._vao), this._rctx.drawArrays(e.primitiveType, 0, E(this._vao, \"geometry\"));\n  }\n  _updateCamera(e) {\n    const t = this._fbo;\n    if (null == t) return;\n    const i = this._bindParameters.camera;\n    e.equals(i) || i.copyFrom(e), t.resize(e.fullWidth, e.fullHeight), this._opacityFromElevation = 1 - r(A, v, e.relativeElevation);\n  }\n  _requestRenderIfEnabled() {\n    this._fbo && this._requestRender();\n  }\n  get test() {}\n};\ne([c()], M.prototype, \"_progress\", void 0), e([c()], M.prototype, \"_sampleCount\", void 0), e([c()], M.prototype, \"_fbo\", void 0), e([c()], M.prototype, \"_depthRange\", void 0), e([c()], M.prototype, \"_previewing\", void 0), e([c()], M.prototype, \"_accumulationRenderer\", void 0), e([c()], M.prototype, \"_isRefining\", null), e([c()], M.prototype, \"_isActive\", null), e([c()], M.prototype, \"canAccumulate\", null), e([c()], M.prototype, \"_isDoneAccumulating\", null), e([c()], M.prototype, \"_opacityFromElevation\", null), e([c()], M.prototype, \"running\", null), M = e([_(\"esri.views.3d.webgl-engine.lib.ShadowAccumulator\")], M);\nconst U = 6,\n  L = \"renderView\",\n  O = new Uint8Array(4);\nexport { M as ShadowAccumulator };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { a as e, d as s, c as a } from \"../../../../chunks/boundedPlane.js\";\nconst t = e();\nclass n {\n  constructor() {\n    this._plane = e();\n  }\n  get isEnabled() {\n    return !s(this.plane, t);\n  }\n  get plane() {\n    return this._plane;\n  }\n  set plane(e) {\n    a(e || t, this._plane);\n  }\n}\nexport { n as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { hasRunningElapsedTimer as t } from \"./capabilities/DisjointTimerQuery.js\";\nfunction e(t, e) {\n  const u = t.capabilities.disjointTimerQuery;\n  return null == u ? null : new r(u, e);\n}\nclass r {\n  constructor(t, e) {\n    this._timer = t, this._queryPool = new Array(), this._queryResults = new Map(), this._currentQuery = null, e.forEach(t => {\n      const e = this._timer.createQuery(),\n        r = this._timer.createQuery();\n      this._queryPool.push(e, r), this._queryResults.set(t, null);\n    });\n  }\n  start() {\n    t || (this._currentQuery = this._queryPool.pop(), null != this._currentQuery && (this._timer.disjoint(), this._timer.beginTimeElapsed(this._currentQuery)));\n  }\n  stop(t) {\n    if (this._timer.disjoint() || null == this._currentQuery || !this._queryResults.has(t)) return this.abort(), null;\n    this._timer.endTimeElapsed();\n    const e = this._queryResults.get(t);\n    if (null == e) return this._queryResults.set(t, this._currentQuery), this._currentQuery = null, null;\n    if (!this._timer.resultAvailable(e)) return this._queryPool.unshift(this._currentQuery), this._currentQuery = null, null;\n    const r = this._timer.getResult(e) / 1e6;\n    return this._queryPool.unshift(e), this._queryResults.set(t, this._currentQuery), this._currentQuery = null, r;\n  }\n  abort() {\n    null != this._currentQuery && (this._timer.deleteQuery(this._currentQuery), this._queryPool.unshift(this._timer.createQuery()), this._currentQuery = null);\n  }\n  dispose() {\n    null != this._currentQuery && this._timer.deleteQuery(this._currentQuery), this._queryPool.forEach(t => {\n      this._timer.deleteQuery(t);\n    }), this._queryResults.forEach(t => {\n      null != t && this._timer.deleteQuery(t);\n    });\n  }\n}\nexport { e as createElapsedTimerPool };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e } from \"../../../../core/maybe.js\";\nimport t from \"../../../../core/PerformanceSampler.js\";\nimport { Milliseconds as r } from \"../../../../core/time.js\";\nimport { RenderCategory as i, InternalRenderCategory as o } from \"../../webgl.js\";\nimport { createElapsedTimerPool as s } from \"../../../webgl/TimerPool.js\";\nvar a;\n!function (e) {\n  e.OVERLAY = \"overlay\", e.PREPARE = \"prepare\", e.SHADOW_MAP = \"shadow map\", e.DEPTH = \"depth\", e.ACCUMULATED_SHADOWS = \"accumulated shadows\", e.OBJECT_AND_LAYER_ID_COLOR = \"object/layer id color\", e.NORMALS = \"normals\", e.SSAO = \"SSAO\", e.OPAQUE_EDGES = \"opaque edges\", e.VOXEL = \"voxel\", e.TRANSPARENT = \"transparent\", e.TRANSPARENT_EDGES = \"transparent edges\", e.HUD_VISIBILITY = \"HUD visibility\", e.TRANSPARENT_TERRAIN = \"transparent terrain\", e.OPAQUE_ENVIRONMENT = \"opaque environment\", e.TRANSPARENT_ENVIRONMENT = \"transparent environment\", e.LASER_LINES = \"laser lines\", e.VIEWSHED = \"viewshed\", e.OCCLUDED = \"occluded\", e.HUD = \"HUD\", e.HUD_OCCLUDED = \"HUD occluded\", e.FINISH = \"finish\";\n}(a || (a = {}));\nconst m = Object.values(i).concat(Object.values(o)).concat(Object.values(a)),\n  l = \"Total\";\nclass p {\n  constructor(e) {\n    this._rctx = e, this._startTimeStampCPU = r(0), this._lastTimeStampCPU = r(0), this._totalCPUTime = new t(l), this._cpuTimeSamplers = new Map(m.map(e => [e, new t(e)])), this._enableGPUTimer = 0, this._totalGPUTime = new t(\"GPU\"), this._gpuTimeSamplers = new Map(m.map(e => [e, new t(e)])), this._totalTime = r(0), this._totalFrameCount = 0;\n  }\n  get totalCPUTimeSampler() {\n    return this._totalCPUTime;\n  }\n  get cpuTimeSamplers() {\n    return Array.from(this._cpuTimeSamplers.values());\n  }\n  get totalGPUTimeSampler() {\n    return this._totalGPUTime;\n  }\n  get gpuTimeSamplers() {\n    return Array.from(this._gpuTimeSamplers.values());\n  }\n  get gpuSamplingEnabled() {\n    return null != this._gpuTimerPool;\n  }\n  get totalTime() {\n    return this._totalTime;\n  }\n  get totalFrameCount() {\n    return this._totalFrameCount;\n  }\n  get elapsedTime() {\n    return r(performance.now() - this._startTimeStampCPU);\n  }\n  enableGPUPerformanceInfo() {\n    if (null == this._gpuTimerPool) {\n      const e = [...m, l];\n      this._gpuTimerPool = s(this._rctx, e);\n    }\n    if (null == this._gpuTimerPool) return {\n      hasGPUTimerSupport: !1,\n      remove: () => {}\n    };\n    ++this._enableGPUTimer;\n    let t = !1;\n    return {\n      hasGPUTimerSupport: !0,\n      remove: () => {\n        t || (t = !0, --this._enableGPUTimer, 0 === this._enableGPUTimer && (this._gpuTimerPool = e(this._gpuTimerPool)));\n      }\n    };\n  }\n  startFrame() {\n    this._startTimeStampCPU = this._lastTimeStampCPU = r(performance.now()), this._gpuTimerPool && this._gpuTimerPool.start();\n  }\n  advance(e) {\n    const t = r(performance.now());\n    if (this._cpuTimeSamplers.get(e).record(t - this._lastTimeStampCPU), this._lastTimeStampCPU = t, this._gpuTimerPool) {\n      const t = this._gpuTimerPool.stop(e);\n      this._gpuTimeSamplers.get(e).record(t), this._gpuTimerPool.start();\n    }\n  }\n  finishFrame() {\n    if (this._gpuTimerPool) {\n      const e = this._gpuTimerPool.stop(a.FINISH);\n      this._gpuTimeSamplers.get(a.FINISH).record(e), this._rctx.gl.flush();\n    }\n    const e = r(performance.now() - this._startTimeStampCPU);\n    this._totalTime = r(this._totalTime + e), this._totalCPUTime.record(e), this._gpuTimerPool && this._totalGPUTime.record(this.gpuTimeSamplers.reduce((e, t) => e + (t.last || 0), 0)), ++this._totalFrameCount;\n  }\n}\nexport { m as PerformanceCategories, a as PerformanceCategory, p as RendererPerformanceInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport { update as t } from \"../../../../core/arrayUtils.js\";\nimport { createTask as r } from \"../../../../core/asyncUtils.js\";\nimport { unitRGBAFromColor as s } from \"../../../../core/colorUtils.js\";\nimport has from \"../../../../core/has.js\";\nimport { removeMaybe as i, abortMaybe as a, destroyMaybe as n, releaseMaybe as h } from \"../../../../core/maybe.js\";\nimport o from \"../../../../core/PooledArray.js\";\nimport { throwIfAborted as d } from \"../../../../core/promiseUtils.js\";\nimport { watch as l, syncAndInitial as _, initial as p, sync as u } from \"../../../../core/reactiveUtils.js\";\nimport { signal as c } from \"../../../../core/signal.js\";\nimport { property as m } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/accessorSupport/interfaces.js\";\nimport \"../../../../core/accessorSupport/tracking/Flags.js\";\nimport \"../../../../core/Warning.js\";\nimport \"../../../../core/Error.js\";\nimport { equals as f, invert as g, multiply as T } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { IDENTITY as b, create as E } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { s as A } from \"../../../../chunks/vec42.js\";\nimport { fromValues as P, ZEROS as R } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { a as S } from \"../../../../chunks/boundedPlane.js\";\nimport { RenderCategory as C, InternalRenderCategory as w } from \"../../webgl.js\";\nimport { debugFlags as I } from \"../../support/debugFlags.js\";\nimport { TransparencyMode as O } from \"../../terrain/TerrainRenderer.js\";\nimport { DepthFormat as N, ColorFormat as y } from \"../../webgl/formats.js\";\nimport { FBOCache as D, defaultWebGLFBO as M } from \"../core/FBOCache.js\";\nimport { RenderPassManager as L } from \"../core/renderPasses/RenderPassManager.js\";\nimport { ShaderOutput as x } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { HUDRenderStyle as v } from \"../core/shaderLibrary/hud/HUDRenderStyle.js\";\nimport { distanceFadeEnd as H } from \"../core/shaderLibrary/shading/ScreenSpaceConstants.js\";\nimport { RenderNodes as F } from \"../effects/RenderNodes.js\";\nimport { isPrepareRenderPlugin as U } from \"../effects/RenderPlugin.js\";\nimport { RenderPluginManager as q } from \"../effects/RenderPluginManager.js\";\nimport { Blit as V } from \"../effects/blit/Blit.js\";\nimport { AnimationTimeStep as j } from \"./AnimationTimeStep.js\";\nimport { Decorations as G, RenderRequestType as B, StencilBits as Q } from \"./basicInterfaces.js\";\nimport { BoundingInfo as k } from \"./BoundingInfo.js\";\nimport { zero as W, union as X } from \"./depthRange.js\";\nimport { depthRangeFromScene as Y } from \"./depthRangeUtils.js\";\nimport { RenderOccludedFlag as z } from \"./Material.js\";\nimport { OffscreenRendering as J } from \"./OffscreenRendering.js\";\nimport { RenderContext as K, defaultRenderOccludedMask as Z } from \"./RenderContext.js\";\nimport { splitRenderGeometryChangeSetByMaterial as $, RendererTarget as ee } from \"./rendererUtils.js\";\nimport { setupFeatureDefaults as te, RenderFeature as re } from \"./RenderFeature.js\";\nimport { RenderPluginInput as se } from \"./RenderPluginInput.js\";\nimport { RenderSlot as ie } from \"./RenderSlot.js\";\nimport { ShadowAccumulator as ae } from \"./ShadowAccumulator.js\";\nimport { ShadowMap as ne, SnapshotSlot as he } from \"./ShadowMap.js\";\nimport oe from \"./SliceHelper.js\";\nimport { TransparencyPassType as de } from \"./TransparencyPassType.js\";\nimport { Viewshed as le } from \"./Viewshed.js\";\nimport { Transparency as _e } from \"./edgeRendering/interfaces.js\";\nimport { MergedRenderer as pe } from \"../materials/renderers/MergedRenderer.js\";\nimport { AlphaMode as ue } from \"../shaders/CompositingTechniqueConfiguration.js\";\nimport { OITCompositingTechnique as ce } from \"../shaders/OITCompositingTechnique.js\";\nimport { RendererPerformanceInfo as me, PerformanceCategory as fe } from \"../statistics/RendererPerformanceInfo.js\";\nimport { RenderState as ge } from \"../../../support/RenderState.js\";\nimport { DepthStencilAttachment as Te, PixelFormat as be, PixelType as Ee, ClearBufferBit as Ae } from \"../../../webgl/enums.js\";\nclass Pe {\n  constructor(e, t, r, i, a, n) {\n    this._stage = e, this._techniques = r, this._rctx = i, this._compositingHelper = a, this._requestRender = n, this._pluginsHas = {\n      hudElements: !1,\n      water: !1\n    }, this._hasOverlayWater = !1, this.renderOverlay = e => {}, this._isRendering = !1, this._inGlobeView = !1, this._backgroundColor = P(0, 0, 0, 1), this._sliceHelper = new oe(), this._blit = null, this._state = c(ge.IDLE), this._highQualityTransparencyEnabled = !0, this._terrainTransparency = O.Opaque, this._ssrEnabled = !1, this._hasAnimations = !1, this._animationTimestep = new j(), this._loadEdgeViewTask = null, this._edgeViewCallbacks = [], this._reprojectionMatrixVersion = c(0), this._renderHiddenTransparentEdges = () => {}, this._pluginInput = new se(), this._releaseNormals = e => {\n      e.some(({\n        name: e\n      }) => \"normals\" === e) && this._pluginInput.release(\"normals\");\n    }, this._debugNeedsDepth = !1, this.fboCache = new D(i), this._renderStateFeatures = c(te(!has(\"disable-feature:high-quality-idle\"), e.view.qualityProfile)), this._offscreen = new J(this.fboCache, this._compositingHelper), this.performanceInfo = new me(this._rctx), this._shadowMap = new ne(this.fboCache, e.viewingMode), this._viewshed = new le({\n      fboCache: this.fboCache,\n      view: e.view\n    }, (e, t, r) => {\n      t.setGLViewport(this._rctx);\n      const {\n        camera: s,\n        contentCamera: i\n      } = e;\n      this._ensureBindParametersCamera(t, t), this._renderAllGeometry(r), this._ensureBindParametersCamera(s, i), e.camera.setGLViewport(this._rctx);\n    }), this._shadowAccumulator = new ae(this.fboCache, r, e, e => {\n      const t = this.shadowsEnabled;\n      this._shadowMap.enabled = !0, this._ensureBindParametersCamera(e.camera, e.contentCamera), this._plugins.prepareRender(), this._shadowMap.enabled = t;\n    }, (e, t, r) => {\n      const s = this._stage.view.qualitySettings.maximumPixelRatio;\n      e.shadowMap.start(e.camera, t, r, !0, s), this._renderShadowCascades(x.Shadow, e.shadowMap), e.shadowMap.finish(), e.camera.setGLViewport(this._rctx), this._ensureBindParametersCamera(e.camera, e.contentCamera);\n    }, n), this._renderContext = new K(this._rctx, this._offscreen, this._shadowMap, this._sliceHelper), this._nodes = new F(this._renderContext), this._plugins = new q({\n      renderContext: this._renderContext,\n      techniques: r,\n      materials: t,\n      requestRender: n,\n      controller: e,\n      fbos: this.fboCache,\n      isFeatureEnabled: e => this.isFeatureEnabled(e)\n    }), this.renderPassManager = new L(), this._plugins.add(this.renderPassManager), this._plugins.add(this._viewshed), this._handles = [l(() => this._stage.view.state.camera, () => n(), _), l(() => I.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES, e => {\n      this._renderHiddenTransparentEdges = e ? () => this._renderEdges(_e.TRANSPARENT) : () => {}, n();\n    }, p), l(() => this._stage.view.environment.background?.color, e => {\n      const t = e ? s(e) : R;\n      A(this._backgroundColor, t[0] * t[3], t[1] * t[3], t[2] * t[3], t[3]), n();\n    }, _), l(() => this._stage.view.state.camera.relativeElevation, e => {\n      this._inGlobeView = (e ?? 1 / 0) >= H;\n    }, _)];\n  }\n  destroy() {\n    this._handles.forEach(e => e.remove()), this._gpuTimerHandle = i(this._gpuTimerHandle), this._nodes.destroy(), this._offscreen.dispose(), this._shadowMap.dispose(), this._shadowAccumulator.dispose(), this._loadEdgeViewTask = a(this._loadEdgeViewTask), this._edgeView = n(this._edgeView), this.renderPassManager.dispose(), this._releaseFBOs(), this._disposeOffscreenBuffers(), this.fboCache.destroy(), this._plugins.destroy(), k.prune();\n  }\n  get _bindParameters() {\n    return this._renderContext.bindParameters;\n  }\n  updateRenderFeatures(e = null, t = !has(\"disable-feature:high-quality-idle\")) {\n    this._renderStateFeatures.value = te(t, e), this._plugins.renderFeatureChanged(), this._requestRender();\n  }\n  isFeatureEnabled(e, t = this._state.value) {\n    return this._renderStateFeatures.value.get(t, e) ?? !1;\n  }\n  setFeatureEnabled(e, t, r) {\n    this._renderStateFeatures.mutate(s => s.set(t, e, r)), this._requestRender();\n  }\n  get _highQualityTransparency() {\n    return this._highQualityTransparencyEnabled || this.isFeatureEnabled(re.HighQualityTransparency);\n  }\n  get hasReflections() {\n    return (this._pluginsHas.water || this._hasOverlayWater) && (this._ssrEnabled || this.isFeatureEnabled(re.WaterReflection));\n  }\n  get hasDecorations() {\n    return this._plugins.hasDecorations || this._nodes.produces(\"magnifier-color\");\n  }\n  get hasHighlights() {\n    return this._plugins.produces(x.Highlight, ie.OPAQUE_MATERIAL, ie.TRANSPARENT_MATERIAL, ie.DRAPED_MATERIAL);\n  }\n  get hasLaserlines() {\n    return this._plugins.produces(this._renderContext.output, ie.LASERLINES, ie.LASERLINES_CONTRAST_CONTROL);\n  }\n  get hasSSAO() {\n    return (this._stage.view.qualitySettings.ambientOcclusion || this.isFeatureEnabled(re.SSAO)) && !this._inGlobeView;\n  }\n  get hasSMAA() {\n    return this._stage.view.qualitySettings.antialiasingEnabled || this.isFeatureEnabled(re.Antialiasing);\n  }\n  get fullResolutionAtmosphere() {\n    return this._stage.view.qualitySettings.highResolutionAtmosphere || this.isFeatureEnabled(re.HighResolutionAtmosphere);\n  }\n  _releaseFBOs() {\n    this._bindParameters.ssr.lastFrameColor = h(this._bindParameters.ssr.lastFrameColor), this._bindParameters.multipassTerrain.depth = h(this._bindParameters.multipassTerrain.depth), this._bindParameters.multipassGeometry.depth = h(this._bindParameters.multipassGeometry.depth);\n  }\n  _disposeOffscreenBuffers() {\n    this._offscreen.dispose(), this._disposeBindBuffers();\n  }\n  _disposeBindBuffers() {\n    this._shadowMap.disposeOffscreenBuffers(), this._viewshed.viewshedShadowMap.disposeOffscreenBuffers(), this._bindParameters.depth = h(this._bindParameters.depth), this._bindParameters.hudVisibility = h(this._bindParameters.hudVisibility);\n  }\n  get updating() {\n    return null != this._edgeView && this._edgeView.updating || this._shadowAccumulator.running || this._plugins.updating || !this.isCameraFinal;\n  }\n  loadEdgeView() {\n    return this._loadEdgeViewTask || (this._loadEdgeViewTask = r(async e => {\n      const {\n        EdgeView: t\n      } = await import(\"./edgeRendering/EdgeView.js\");\n      d(e);\n      const r = this._edgeView = new t({\n        rctx: this._rctx,\n        renderSR: this._stage.view.renderSpatialReference,\n        viewingMode: this._stage.viewingMode,\n        techniques: this._techniques,\n        setNeedsRender: () => this._requestRender(),\n        schedule: Me(this._stage.view.resourceController)\n      });\n      return this._handles.push(l(() => r.updating, () => this._requestRender(), u)), this._requestRender(), this._edgeViewCallbacks.forEach(e => e(r)), this._edgeViewCallbacks.length = 0, r;\n    })), this._loadEdgeViewTask.promise;\n  }\n  withEdgeView(e) {\n    this.loadEdgeView(), null == this._edgeView ? this._edgeViewCallbacks.push(e) : e(this._edgeView);\n  }\n  get edgeView() {\n    return this._edgeView;\n  }\n  get isCameraFinal() {\n    return this._reprojectionMatrixVersion.value >= 0 && f(this._bindParameters.ssr.reprojectionMatrix, b);\n  }\n  set _reprojectionMatrix(e) {\n    t(this._bindParameters.ssr.reprojectionMatrix, e) && this._reprojectionMatrixVersion.value++;\n  }\n  get shadowsEnabled() {\n    return !!this._shadowMap?.enabled;\n  }\n  setParameters(e) {\n    const {\n      _shadowMap: t,\n      _bindParameters: r\n    } = this;\n    if (void 0 !== e.qualitySettings?.reflections && this._ssrEnabled !== e.qualitySettings.reflections && (this._ssrEnabled = e.qualitySettings.reflections, this._requestRender()), void 0 !== e.shadowMap && this._shadowMap.enabled !== e.shadowMap && (this._shadowMap.enabled = e.shadowMap, this._requestRender()), void 0 !== e.shadowMapMaxCascades && t.maxCascades !== e.shadowMapMaxCascades && (t.maxCascades = e.shadowMapMaxCascades, this._requestRender()), null != e.environment) {\n      null != e.environment.weather && (this._bindParameters.weather = e.environment.weather, this._bindParameters.weatherVisible = !!e.weatherVisible);\n      const t = \"virtual\" !== e.environment.lighting.type;\n      r.enableFillLights !== t && (r.enableFillLights = t, this._requestRender());\n    }\n    void 0 !== e.highQualityTransparency && this._highQualityTransparencyEnabled !== e.highQualityTransparency && (this._highQualityTransparencyEnabled = e.highQualityTransparency, this._requestRender()), void 0 !== e.hasOverlayWater && this._hasOverlayWater !== e.hasOverlayWater && (this._hasOverlayWater = e.hasOverlayWater, this._requestRender()), void 0 !== e.slicePlane && this._sliceHelper.plane !== e.slicePlane && (this._sliceHelper.plane = e.slicePlane, this._requestRender()), void 0 !== e.terrainTransparency && this._terrainTransparency !== e.terrainTransparency && (this._terrainTransparency = e.terrainTransparency, this._requestRender()), void 0 !== e.shadowCast && this._shadowAccumulator.setOptions(e.shadowCast);\n  }\n  get hasSlicePlane() {\n    return !!this._sliceHelper.plane;\n  }\n  get plugins() {\n    return this._plugins;\n  }\n  get _hasOITSupport() {\n    return this._rctx.driverTest.floatBufferBlend.result;\n  }\n  get _oitEnabled() {\n    return this._highQualityTransparency && this._hasOITSupport;\n  }\n  modify(e, t) {\n    this._isRendering && console.warn(\"Renderer.modify called while rendering\");\n    const {\n      adds: r,\n      removes: s,\n      updates: i\n    } = e;\n    if (0 === r.length && 0 === s.length && 0 === i.length) return;\n    const a = $(e);\n    let n = !1;\n    a.forEach((r, s) => {\n      if (t.done) return;\n      let i = this._plugins.getMaterialRenderer(s);\n      if (null == i && r.adds.length > 0) {\n        const e = new pe({\n          material: s\n        });\n        e.initializeRenderContext(this._plugins._context), i = e, this._plugins.add(i);\n      }\n      i && (i.modify(r), 0 === i.numGeometries && (n = !0)), r.removes.forEach(t => e.removes.removeUnordered(t)), r.adds.forEach(t => e.adds.removeUnordered(t)), r.updates.forEach(t => e.updates.removeUnordered(t)), t.madeProgress();\n    }), n && this._plugins.removeEmptyMaterialRenderers(), this._updateHasFlags(), this._requestRender();\n  }\n  _updateHasFlags() {\n    const has = this._pluginsHas;\n    has.hudElements = this._plugins.produces(x.Color, ie.LINE_CALLOUTS_HUD_DEPTH, ie.HUD_MATERIAL, ie.LABEL_MATERIAL), has.water = this._plugins.produces(x.Normal, ie.DRAPED_WATER), this._bindParameters.hasOccludees = this._plugins.hasOccludees;\n  }\n  updateAnimation(e) {\n    const t = this._hasAnimations;\n    return this._hasAnimations = this._plugins.updateAnimation(e), this._hasAnimations = this._nodes.updateAnimation() || this._hasAnimations, this._hasAnimations !== t && (this._gpuTimerHandle = t ? i(this._gpuTimerHandle) : this.performanceInfo.enableGPUPerformanceInfo()), this._hasAnimations;\n  }\n  get animationTimestep() {\n    return this._animationTimestep.value;\n  }\n  get animationTimeDilation() {\n    return this._animationTimestep.timeDilation;\n  }\n  resetAnimation() {\n    this._animationTimestep.clear();\n  }\n  tick() {\n    this.fboCache.clean();\n  }\n  render(e, t, r = ee.Default, s = G.ON) {\n    this._isRendering = !0, this.performanceInfo.startFrame(), this.fboCache.frameStart(), this._disposeBindBuffers();\n    const i = this._offscreen,\n      {\n        camera: a,\n        contentCamera: n,\n        mode: o,\n        alignPixelEnabled: d\n      } = e;\n    this._state.value = o, this._bindParameters.overlay = this.renderOverlay(t), this._bindParameters.overlay && this.performanceInfo.advance(fe.OVERLAY), this._renderContext.time = t, this._bindParameters.transparencyPassType = de.NONE, this._bindParameters.alignPixelEnabled = d, this._bindParameters.decorations = s, this._bindParameters.mainColor = this._bindParameters.mainDepth = null, this._bindParameters.viewshedEnabled = this._viewshed.enabled;\n    const l = this._nodes.produces(\"magnifier-color\"),\n      _ = this._nodes.produces(\"final-color\"),\n      p = S(this._sliceHelper.plane);\n    s === G.OFF && (this._sliceHelper.plane = null), a.setGLViewport(this._rctx);\n    const u = i.initializeFrame(a, this._backgroundColor, r);\n    this.hasReflections ? this._bindParameters.ssr.lastFrameColor = u : u?.release(), this._ensureBindParametersCamera(a, n), this._plugins.prepareRender(), this._bindParameters.shadowHighlightsVisible = this._needsShadowHighlight && s === G.ON;\n    const c = this._plugins.produces(x.Color, ie.OPAQUE_TERRAIN) && (this._terrainTransparency === O.Semitransparent || this._terrainTransparency === O.TransparentWithDraped),\n      m = this._highQualityTransparency && c,\n      f = this._plugins.produces(x.Color, ...Ie);\n    this._prepareShaders(m, f), this.performanceInfo.advance(fe.PREPARE);\n    const g = this._computeDepthRange(a);\n    this._renderShadowMap(a, this._bindParameters.lighting.mainLight.direction, g), this._ensureBindParametersCamera(a, n);\n    let T = this._renderNormals();\n    if (this._pluginInput.set(\"normals\", T), T) {\n      let e = null;\n      this._needsDepth && (e = T.getAttachment(Te), e?.retain()), this._pluginInput.set(\"ssao\", this._renderSSAO()), this._renderNoSSAOGeometryDepth(e), T = null;\n    } else this._renderAllGeometryDepth();\n    this._renderShadowAccumulation(g, a, n), this._ensureBindParametersSSR(t), this._renderContext.output = x.Color, i.bindFbo(), this._bindParameters.mainColor = i.colorTexture, this._bindParameters.mainDepth = i.depthTexture;\n    const b = this.plugins.produces(x.Color, ...we);\n    b && this._renderOpaqueGeometry(), this._offscreen.updateColor(e => this._renderNodes(C.OPAQUE, e, b)), this.fboCache.debugCallback?.(\"opaque-color\", this._offscreen.color.fbo), this._renderPlugins(ie.OPAQUE_ENVIRONMENT, fe.OPAQUE_ENVIRONMENT), this._renderMultipassTerrainDepth(m), this._setMultipassTerrain(m), this._renderEdges(_e.OPAQUE), i.bindFbo(), this._renderPlugins(ie.VOXEL, fe.VOXEL), this._renderHiddenTransparentEdges(), f && (this._oitEnabled ? this._renderOITPass(Re.Geometry) : this._renderTransparentMaterial()), this._offscreen.updateColor(e => this._renderNodes(C.TRANSPARENT, e, f)), this.fboCache.debugCallback?.(\"transparent-color\", this._offscreen.color.fbo), this._renderMultipassGeometryDepth(m), this._renderHUDVisibility(), m || this._plugins.render(this._pluginInput, ie.LINE_CALLOUTS);\n    const E = r === ee.ObjectAndLayerID ? this._renderObjectAndLayerIdColor() : null;\n    this._renderEdges(_e.TRANSPARENT);\n    const A = c ? this._renderTransparentTerrain() : null;\n    A && (this.performanceInfo.advance(fe.TRANSPARENT_TERRAIN), this._bindParameters.hudVisibility && (m ? this._renderLineCallouts(v.Occluded) : i.compositeToHUDVisibility(this._bindParameters, A.getTexture()), this._renderHUD(v.Occluded, i.color))), this._setTerrainCulling(!1), A && (i.compositeToFramebuffer(this._bindParameters, A.getTexture(), ue.PremultipliedAlpha, 1), A.release(), m && (this._renderEdges(_e.OPAQUE), f && (this._oitEnabled ? this._renderOITPass(Re.Geometry) : this._renderTransparentMaterial(), this.performanceInfo.advance(fe.TRANSPARENT)), this._renderEdges(_e.TRANSPARENT))), this._bindParameters.ssao = h(this._bindParameters.ssao), m && this._renderLineCallouts(v.NotOccluded), this._setMultipassEnabled(!1), this._renderTransparentEnvironment(), this._renderViewshed(), this._renderLaserlines(), this._renderOccluded(), this._pluginInput.set(\"highlights\", this._renderHighlightPrepass()), this._offscreen.updateColor(e => this._renderNodes(C.COMPOSITE, e));\n    const P = this._nodes.produces(\"aa-color\"),\n      R = !(r !== ee.Default || _ || l && s === G.ON && r === ee.Default),\n      I = this._pluginInput.get(\"composite-color\"),\n      N = R ? M : this.fboCache.acquire(I.fbo.width, I.fbo.height, \"aa-color\"),\n      y = P ? this._renderNodes(w.ANTIALIASING, N) : this._blitToDefault(I, N, !1);\n    this._pluginInput.set(w.ANTIALIASING, y), this._renderHUD(v.NotOccluded, y);\n    const D = this._renderNodes(w.HIGHLIGHTS, y);\n    let L = this._renderNodes(w.MAGNIFIER, D);\n    return l && s === G.ON && r === ee.Default && !_ && (L = this._blitToDefault(L)), _ ? (L.attachDepth(i.depth), this._blitToDefault(this._renderNodes(C.FINAL, L)), L.detachDepth()) : this._pluginInput.set(C.FINAL, L), this._pluginInput.release(\"highlights\"), this.onPostRender && this.onPostRender(), this._releaseFBOs(), this._offscreen.releaseBuffers(), this._renderContext.lastFrameCamera.copyFrom(this._bindParameters.camera), this._sliceHelper.plane = p, this._isRendering = !1, this.fboCache.frameEnd(), this.performanceInfo.finishFrame(), r !== ee.Default && (this._releaseFBOs(), this._disposeOffscreenBuffers()), {\n      screen: this._pluginInput.get(\"final-color\"),\n      oid: E\n    };\n  }\n  _prepareShaders(e, t) {\n    this._renderContext.output = x.Color, this._prepareOpaqueGeometry(), this._setMultipassTerrain(e), this._plugins.prepare(ie.TRANSPARENT_TERRAIN), this._setMultipassTerrain(!1), e || this._plugins.prepare(ie.LINE_CALLOUTS), t && this._prepareTransparencySlots(), this._plugins.prepare(ie.VIEWSHED, ie.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL, ie.TRANSPARENT_ENVIRONMENT, ie.LASERLINES), this._rctx.gl.flush();\n  }\n  _renderObjectAndLayerIdColor() {\n    if (!has(\"enable-feature:objectAndLayerId-rendering\")) return;\n    const e = this._renderContext.output,\n      t = this.fboCache.acquire(this._offscreen.width, this._offscreen.height, \"oid\");\n    return t.acquireDepth(N.DEPTH_STENCIL_TEXTURE), this._rctx.bindFramebuffer(t.fbo), this.fboCache.rctx.clearFramebuffer([0, 0, 0, 0], !0, !0), this._renderAllGeometry(x.ObjectAndLayerIdColor), this._rctx.bindFramebuffer(t.fbo), this.fboCache.rctx.clearFramebuffer(void 0, !0, !0), this._bindParameters.hudRenderStyle = v.NotOccluded, this._plugins.render(this._pluginInput, ie.HUD_MATERIAL), this._renderContext.output = e, this.performanceInfo.advance(fe.OBJECT_AND_LAYER_ID_COLOR), t;\n  }\n  finish(e) {\n    this._hasAnimations || this._animationTimestep.clear();\n    const t = this.performanceInfo.gpuSamplingEnabled,\n      r = e === B.BACKGROUND;\n    if (r || t) {\n      const e = r ? this.performanceInfo.elapsedTime : 0,\n        s = t ? this.performanceInfo.totalGPUTimeSampler.last : this._rctx.gl.getError(),\n        i = Math.max(e, s);\n      this._animationTimestep.frame(i, r);\n    }\n  }\n  readDepthPixels(e, t) {\n    if (!this._bindParameters.mainDepth) return;\n    const {\n        width: r,\n        height: s\n      } = this._offscreen,\n      i = this.fboCache.acquire(r, s, \"linear-depth\");\n    this._rctx.bindFramebuffer(i.fbo), this._bindParameters.camera.setGLViewport(this._rctx), this._rctx.clearFramebuffer([0, 0, 0, 0], !0, !0), this._compositingHelper.blitDepthToLinearDepth(this._bindParameters, this._bindParameters.mainDepth), i.fbo?.readPixels(e[0], e[1], e[2], e[3], be.RGBA, Ee.UNSIGNED_BYTE, t), i.release();\n  }\n  readHUDVisibility(e, t, r, s, i) {\n    this._bindParameters.hudVisibility?.fbo?.readPixels(e, t, r, s, be.RGBA, Ee.UNSIGNED_BYTE, i);\n  }\n  readAccumulatedShadow(e) {\n    return this._shadowAccumulator.readAccumulatedShadow(e[0], e[1]);\n  }\n  _setMultipassTerrain(e) {\n    this._setMultipassEnabled(e), this._setTerrainCulling(e);\n  }\n  _setMultipassEnabled(e) {\n    this._bindParameters.multipassEnabled = e;\n  }\n  _setTerrainCulling(e) {\n    this._bindParameters.multipassTerrain.cullAboveGround = e;\n  }\n  _renderEdges(e) {\n    const t = this._edgeView;\n    if (!t?.shouldRender()) return;\n    const {\n        width: r,\n        height: s,\n        depth: i\n      } = this._offscreen,\n      a = this.fboCache.acquire(r, s, \"edges\"),\n      n = () => t.render(this._bindParameters, e),\n      h = this._bindParameters.multipassGeometry.depth;\n    this._offscreen.renderToTargets(n, a, h ?? i, Ce), this._offscreen.compositeToFramebuffer(this._bindParameters, a.getTexture(), ue.Alpha, 1), a.release(), this.performanceInfo.advance(e === _e.OPAQUE ? fe.OPAQUE_EDGES : fe.TRANSPARENT_EDGES);\n  }\n  _renderShadowMap(e, t, r) {\n    const s = this._shadowMap;\n    s.enabled && (s.start(e, t, r, this.isFeatureEnabled(re.HighResolutionShadows), this._stage.view.qualitySettings.maximumPixelRatio), this._needsShadowHighlight ? (this._renderShadowCascades(x.ShadowHighlight, this._shadowMap), s.moveSnapshot(he.Highlight), this._renderShadowCascades(x.ShadowExcludeHighlight, this._shadowMap), s.copySnapshot(he.ExcludeHighlight), this._renderShadowCascades(x.ShadowHighlight, this._shadowMap)) : this._renderShadowCascades(x.Shadow), s.finish(), e.setGLViewport(this._rctx), this.performanceInfo.advance(fe.SHADOW_MAP));\n  }\n  _renderShadowCascades(e, t = this._shadowMap) {\n    for (const r of t.cascades) r.camera.setGLViewport(this._rctx), this._ensureBindParametersCamera(r.camera, r.camera), this._renderAllGeometry(e);\n  }\n  get _needsDepth() {\n    return this._plugins.consumes(x.Depth) || this.hasReflections || this._needsShadowHighlight || this._needsShadowCast || this._debugNeedsDepth;\n  }\n  _renderNoSSAOGeometryDepth(e) {\n    if (!this._needsDepth || !e) return void (this._bindParameters.depth = h(this._bindParameters.depth));\n    const {\n        width: t,\n        height: r\n      } = this._offscreen,\n      s = this.fboCache.acquire(t, r, \"depth\");\n    s.attachDepth(e), e.release(), this._rctx.bindFramebuffer(s.fbo), this._rctx.clearFramebuffer(void 0, !1, !0), this._renderGeometryExcludedFromSSAO(x.Depth), h(this._bindParameters.depth), this._bindParameters.depth = s.obtainDepthTexture(), s.release(), this.performanceInfo.advance(fe.DEPTH);\n  }\n  _renderAllGeometryDepth() {\n    if (!this._needsDepth) return void (this._bindParameters.depth = h(this._bindParameters.depth));\n    const {\n        width: e,\n        height: t\n      } = this._offscreen,\n      r = this.fboCache.acquire(e, t, \"depth\").acquireDepth(N.DEPTH_STENCIL_TEXTURE);\n    this._rctx.bindFramebuffer(r.fbo), this._rctx.clearFramebuffer(void 0, !0, !0), this._renderAllGeometry(x.Depth), h(this._bindParameters.depth), this._bindParameters.depth = r.obtainDepthTexture(), r.release(), this.performanceInfo.advance(fe.DEPTH);\n  }\n  _renderMultipassTerrainDepth(e) {\n    if (!e) return void (this._bindParameters.multipassTerrain.depth = h(this._bindParameters.multipassTerrain.depth));\n    const t = this._renderContext.output;\n    this._renderContext.output = x.Depth;\n    const {\n        width: r,\n        height: s\n      } = this._offscreen,\n      i = this.fboCache.acquire(r, s, \"terrain depth\").acquireDepth(N.DEPTH_STENCIL_TEXTURE);\n    this._rctx.bindFramebuffer(i.fbo), this._rctx.clearFramebuffer(void 0, !0, !0), this._renderTransparentTerrain(), h(this._bindParameters.multipassTerrain.depth), this._bindParameters.multipassTerrain.depth = i.obtainDepthTexture(), this._renderContext.output = t, i.release();\n  }\n  _renderMultipassGeometryDepth(e) {\n    if (!e) return void (this._bindParameters.multipassGeometry.depth = h(this._bindParameters.multipassGeometry.depth));\n    const t = this._renderContext.output,\n      {\n        width: r,\n        height: s\n      } = this._offscreen,\n      i = this.fboCache.acquire(r, s, \"geometry depth\").acquireDepth(N.DEPTH_STENCIL_TEXTURE);\n    this._rctx.bindFramebuffer(i.fbo), this._rctx.clearFramebuffer(void 0, !0, !0), this._renderOpaqueGeometryAndTransparentMaterial(x.Depth), this._renderContext.output = t, h(this._bindParameters.multipassGeometry.depth), this._bindParameters.multipassGeometry.depth = i.obtainDepthTexture(), i.release();\n  }\n  get _needsDepthRange() {\n    return this._shadowMap.enabled || this._needsShadowCast;\n  }\n  _computeDepthRange(e) {\n    if (!this._needsDepthRange) return W;\n    const t = Y(e, this._plugins.plugins, this._stage.layers);\n    return X(t, this._plugins.queryDepthRange(e)), t.near = Math.max(e.near, t.near), t.far = Math.min(e.far, t.far), t;\n  }\n  _renderNormals() {\n    const e = this._nodes.require(\"normals\", \"final-color\", \"composite-color\", \"opaque-color\", \"transparent-color\"),\n      t = (this.hasSSAO ? 1 : 0) + (this.hasLaserlines ? 1 : 0) + e;\n    if (0 === t) return;\n    const r = this._offscreen.renderToCachedFBO(null, \"normals\", () => this._renderGeometryForSSAO(x.Normal), [0, 0, 0, 0], y.RGBA, N.DEPTH_STENCIL_TEXTURE),\n      s = this._nodes.optional(\"normals\", \"final-color\", \"composite-color\", \"opaque-color\", \"transparent-color\") + (this._viewshedEnabled ? 1 : 0);\n    return r.retain(t + s - 1), this.performanceInfo.advance(fe.NORMALS), r;\n  }\n  _renderSSAO() {\n    const e = this._pluginInput.get(\"normals\");\n    if (!this.hasSSAO || !e) return void e?.detachDepth();\n    const t = this._nodes.render(\"ssao\", this._pluginInput);\n    return this._bindParameters.ssao = t, e.detachDepth(), this._pluginInput.release(\"normals\"), this.performanceInfo.advance(fe.SSAO), t;\n  }\n  _renderAllGeometry(e) {\n    this._renderContext.output = e, this._plugins.prepare(ie.TRANSPARENT_TERRAIN), this._renderOpaqueGeometryAndTransparentMaterial(e), this._renderTransparentTerrain();\n  }\n  _renderOpaqueGeometryAndTransparentMaterial(e) {\n    this._renderContext.output = e, this._plugins.prepare(ie.TRANSPARENT_MATERIAL, ie.TRANSPARENT_NO_SSAO_DEPTH), this._renderOpaqueGeometry(), this._renderTransparentMaterial();\n  }\n  _renderGeometryForSSAO(e) {\n    this._renderContext.output = e, this._plugins.render(this._pluginInput, ie.INTEGRATED_MESH, ie.OPAQUE_TERRAIN, ie.OPAQUE_MATERIAL, ie.TRANSPARENT_MATERIAL), this._renderTransparentTerrain();\n  }\n  _renderGeometryExcludedFromSSAO(e) {\n    this._renderContext.output = e, this._plugins.render(this._pluginInput, ie.OPAQUE_NO_SSAO_DEPTH, ie.TRANSPARENT_NO_SSAO_DEPTH);\n  }\n  _prepareOpaqueGeometry() {\n    this._plugins.prepare(...we, ie.OPAQUE_ENVIRONMENT);\n  }\n  _renderOpaqueGeometry() {\n    this._plugins.render(this._pluginInput, ...we);\n  }\n  _renderTransparentMaterial() {\n    this._plugins.render(this._pluginInput, ...Ie);\n  }\n  _renderTransparentTerrain() {\n    const e = this._renderContext.output;\n    if (!this._plugins.produces(e, ie.TRANSPARENT_TERRAIN)) return;\n    const t = () => this._plugins.render(this._pluginInput, ie.TRANSPARENT_TERRAIN);\n    if (e !== x.Color) return void t();\n    const {\n        width: r,\n        height: s,\n        depth: i\n      } = this._offscreen,\n      a = this.fboCache.acquire(r, s, \"transparent terrain\");\n    return this._offscreen.renderToTargets(t, a, i, [0, 0, 0, 0]), a;\n  }\n  _renderHUDVisibility() {\n    this._plugins.produces(this._renderContext.output, ie.OCCLUSION_PIXELS) ? (this._bindParameters.hudVisibility = this._offscreen.renderHUDVisibility(this._bindParameters.hudVisibility, () => this._plugins.render(this._pluginInput, ie.OCCLUSION_PIXELS), this._bindParameters.multipassGeometry.depth), this._offscreen.bindFbo(), this.performanceInfo.advance(fe.HUD_VISIBILITY)) : this._bindParameters.hudVisibility = h(this._bindParameters.hudVisibility);\n  }\n  _renderLineCallouts(e) {\n    if (this._bindParameters.hudRenderStyle = e, e === v.Occluded) {\n      const e = () => this._plugins.render(this._pluginInput, ie.LINE_CALLOUTS),\n        {\n          width: t,\n          height: r,\n          color: s\n        } = this._offscreen,\n        i = this.fboCache.acquireDepth(N.DEPTH16_BUFFER, t, r, \"line callouts\");\n      this._offscreen.renderToTargets(e, s, i, void 0, !0, !0), i.release();\n    } else this._plugins.render(this._pluginInput, ie.LINE_CALLOUTS);\n  }\n  _renderLaserlines() {\n    if (!this.hasLaserlines) return;\n    this._plugins.render(this._pluginInput, ie.LASERLINES);\n    if (this._plugins.produces(this._renderContext.output, ie.LASERLINES_CONTRAST_CONTROL)) {\n      const e = this._offscreen,\n        {\n          width: t,\n          height: r,\n          depth: s\n        } = e,\n        i = this.fboCache.acquire(t, r, \"laser lines\"),\n        a = () => this._plugins.render(this._pluginInput, ie.LASERLINES_CONTRAST_CONTROL);\n      e.renderToTargets(a, i, s, Ce), e.compositeToFramebuffer(this._bindParameters, i.getTexture(), ue.PremultipliedAlpha, 1), i.release();\n    }\n    this._pluginInput.release(\"normals\"), this.performanceInfo.advance(fe.LASER_LINES);\n  }\n  _renderHUD(e, t) {\n    if (this._pluginsHas.hudElements) {\n      if (this._oitEnabled) {\n        const r = this._renderOITPass(Re.HUD, e);\n        this._rctx.bindFramebuffer(t.fbo), this._compositingHelper.composite(this._bindParameters, r.getTexture(), ue.PremultipliedAlpha), r.release();\n      } else if (e === v.Occluded) {\n        this._renderContext.output = x.Color;\n        const t = () => this._renderHUDElements(e),\n          {\n            width: r,\n            height: s,\n            color: i\n          } = this._offscreen,\n          a = this.fboCache.acquireDepth(N.DEPTH16_BUFFER, r, s, \"hud\");\n        this._offscreen.renderToTargets(t, i, a, void 0, !0, !0), a.release();\n      } else this._renderContext.output = x.Color, t.acquireDepth(N.DEPTH16_BUFFER), this._rctx.bindFramebuffer(t.fbo), this._renderHUDElements(e), t.detachDepth();\n      this.performanceInfo.advance(e === v.Occluded ? fe.HUD_OCCLUDED : fe.HUD);\n    }\n  }\n  _renderHUDElements(e) {\n    this._bindParameters.hudRenderStyle = e, this._plugins.prepare(ie.LINE_CALLOUTS_HUD_DEPTH, ie.HUD_MATERIAL, ie.LABEL_MATERIAL), this._plugins.render(this._pluginInput, ie.LINE_CALLOUTS_HUD_DEPTH, ie.HUD_MATERIAL, ie.LABEL_MATERIAL);\n  }\n  get _needsShadowHighlight() {\n    return this._shadowMap.enabled && this._plugins.produces(x.ShadowHighlight, ie.OPAQUE_MATERIAL);\n  }\n  _renderHighlightPrepass() {\n    if (!this.hasHighlights) return;\n    const e = () => {\n        this._renderAllGeometry(x.Highlight), this._rctx.clear(Ae.DEPTH_BUFFER_BIT), this._renderHUDElements(v.Both);\n      },\n      t = this._offscreen.renderToCachedFBO(null, \"highlights\", e, [0, 0, 0, 0], y.RGBA4, N.DEPTH_STENCIL_TEXTURE);\n    return t.detachDepth(), t;\n  }\n  get _needsShadowCast() {\n    return this._shadowAccumulator.isAccumulating;\n  }\n  _renderShadowAccumulation(e, t, r) {\n    this._needsShadowCast && this._bindParameters.depth && this._shadowAccumulator.renderAccumulation(this._bindParameters.depth, e, t, r) && this.performanceInfo.advance(fe.ACCUMULATED_SHADOWS);\n  }\n  _prepareTransparencySlots() {\n    this._renderContext.output = x.Color, this._bindParameters.transparencyPassType = de.ColorAlpha, this._plugins.prepare(...Ie), this._bindParameters.transparencyPassType = de.FrontFace, this._plugins.prepare(...Ie), this._bindParameters.transparencyPassType = de.NONE, this._techniques.acquire(ce).release();\n  }\n  _renderOITPass(e, t = v.Both) {\n    const r = e === Re.HUD,\n      s = r ? this.fboCache.acquire(this._offscreen.width, this._offscreen.height, \"oit hud composite\") : null,\n      i = r ? () => this._renderHUDElements(t) : () => this._renderTransparentMaterial(),\n      a = this._renderContext.output;\n    this._renderContext.output = x.Color, this._bindParameters.transparencyPassType = de.ColorAlpha;\n    const n = this._offscreen.renderOITPass(i, de.ColorAlpha, r);\n    this._bindParameters.transparencyPassType = de.FrontFace;\n    const h = this._offscreen.renderOITPass(i, de.FrontFace, r);\n    return this._offscreen.compositeOIT(this._bindParameters, n, h, s), s?.detachDepth(), h.release(), n.release(), this._bindParameters.transparencyPassType = de.NONE, this._renderContext.output = a, s;\n  }\n  _renderOccluded() {\n    let e = 0;\n    Oe.clear(), this._plugins.plugins.forAll(t => {\n      if (!t.materialReference) return;\n      t.queryRenderOccludedState(z.OccludeAndTransparentStencil) && (e |= z.OccludeAndTransparentStencil, Oe.push(t));\n    });\n    const t = this._offscreen,\n      r = (r, s, i, a, n) => {\n        if (!(e & s)) return;\n        const {\n            width: h,\n            height: o,\n            depth: d\n          } = t,\n          l = this.fboCache.acquire(h, o, \"tmp color\");\n        t.renderToTargets(i, l, d, [0, 0, 0, 0], a, n), t.compositeToFramebuffer(this._bindParameters, l.getTexture(), ue.PremultipliedAlpha, r), l.release();\n      },\n      s = (e, t) => {\n        this._bindParameters.slot = e, t.forAll(e => {\n          if (U(e)) {\n            const t = e.prepareTechnique(this._renderContext);\n            t && e.renderNode(this._renderContext, t);\n          }\n        });\n      };\n    0 !== Oe.length && (s(ie.OCCLUDER_MATERIAL, Oe), r(.5, z.OccludeAndTransparentStencil, () => s(ie.TRANSPARENT_OCCLUDER_MATERIAL, Oe), !1, !1));\n    const i = Oe.length > 0;\n    Oe.clear(), this._plugins.plugins.forAll(t => {\n      if (!t.materialReference) return;\n      const r = t.queryRenderOccludedState(z.OccludeAndTransparent),\n        s = t.queryRenderOccludedState(z.Transparent),\n        i = t.queryRenderOccludedState(z.Opaque);\n      (r || s || i) && (e |= r ? z.OccludeAndTransparent : s ? z.Transparent : z.Opaque, Oe.push(t));\n    });\n    const a = this._plugins.renderOccludedFlags;\n    if (e |= a, !e) return;\n    const n = e => {\n      this._renderContext.renderOccludedMask = e, a > z.Occlude && this._plugins.render(this._pluginInput, ie.OCCLUDED_TERRAIN), s(ie.OPAQUE_MATERIAL, Oe), s(ie.TRANSPARENT_MATERIAL, Oe), s(ie.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL, Oe), this._renderContext.renderOccludedMask = Z;\n    };\n    this._renderContext.output = x.Color, r(.5, z.OccludeAndTransparent, () => n(z.OccludeAndTransparent), !0, Q.OutlineVisualElementMask), r(.5, z.Transparent, () => n(z.Transparent), !0, Q.OutlineVisualElementMask), r(1, z.Opaque, () => n(z.Opaque), !0, Q.OutlineVisualElementMask), (i || Oe.length > 0) && this.performanceInfo.advance(fe.OCCLUDED), Oe.clear();\n  }\n  _renderTransparentEnvironment() {\n    this._shadowAccumulator.render(this._bindParameters), this._offscreen.bindFbo(), this._plugins.render(this._pluginInput, ie.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL, ie.TRANSPARENT_ENVIRONMENT), this.performanceInfo.advance(fe.TRANSPARENT_ENVIRONMENT);\n  }\n  _renderViewshed() {\n    this._viewshedEnabled && (this._viewshed.renderHighQuality = this.isFeatureEnabled(re.HighResolutionViewshed), this._plugins.render(this._pluginInput, ie.VIEWSHED), this._pluginInput.release(\"normals\"), this.performanceInfo.advance(fe.VIEWSHED));\n  }\n  _renderPlugins(e, t) {\n    this._plugins.produces(this._renderContext.output, e) && (this._plugins.render(this._pluginInput, e), this.performanceInfo.advance(t));\n  }\n  _renderNodes(e, t, r = !1) {\n    if (!this._nodes.produces(e)) return r && this.performanceInfo.advance(e), t;\n    t.setName(e), this._pluginInput.set(e, t);\n    const s = this._nodes.render(t, this._pluginInput, this._releaseNormals);\n    return this.performanceInfo.advance(e), s;\n  }\n  _blitToDefault(e, t = M, r = !0) {\n    this._blit || (this._blit = new V(this._techniques));\n    const s = this._blit.render(this._rctx, e, t, this._bindParameters, this._requestRender);\n    return this._pluginInput.set(e.name, s), r && e.release(), s;\n  }\n  _ensureBindParametersCamera(e, t) {\n    this._bindParameters.camera = e, this._bindParameters.contentCamera = t;\n  }\n  _ensureBindParametersSSR(e) {\n    if (this._bindParameters.ssr.lastFrameColor) {\n      null == this._ssrEnableTime && (this._ssrEnableTime = e), this._renderContext.lastFrameCamera.equals(this._bindParameters.camera) ? this._reprojectionMatrix = b : (g(ye, this._bindParameters.camera.viewMatrix), g(Ne, this._bindParameters.camera.projectionMatrix), T(De, ye, Ne), T(De, this._renderContext.lastFrameCamera.viewMatrix, De), T(De, this._renderContext.lastFrameCamera.projectionMatrix, De), this._reprojectionMatrix = De);\n      const t = this._stage.view.qualitySettings.fadeDuration;\n      this._bindParameters.ssr.fadeFactor = t > 0 ? Math.min(t, e - this._ssrEnableTime) / t : 1, this._bindParameters.ssr.fadeFactor < 1 && this._requestRender();\n    } else this._reprojectionMatrix = b, this._ssrEnableTime = null;\n  }\n  addRenderNode(e) {\n    this._nodes.add(e), this._requestRender();\n  }\n  removeRenderNode(e) {\n    this._nodes.remove(e), this._requestRender();\n  }\n  get usedMemory() {\n    return {\n      fbos: this.fboCache.usedMemory,\n      plugins: this._plugins.usedMemory,\n      edges: this.edgeView?.usedMemory ?? 0\n    };\n  }\n  get _viewshedEnabled() {\n    return this._viewshed.enabled && this._plugins.produces(this._renderContext.output, ie.VIEWSHED);\n  }\n  get test() {}\n}\nvar Re, Se;\ne([m({\n  readOnly: !0\n})], Pe.prototype, \"fullResolutionAtmosphere\", null), e([m()], Pe.prototype, \"_edgeView\", void 0), e([m()], Pe.prototype, \"updating\", null), function (e) {\n  e[e.Geometry = 0] = \"Geometry\", e[e.HUD = 1] = \"HUD\";\n}(Re || (Re = {})), function (e) {\n  e[e.Color = 0] = \"Color\", e[e.LinearDepth = 1] = \"LinearDepth\", e[e.ShadowMap = 2] = \"ShadowMap\", e[e.HudVisibility = 3] = \"HudVisibility\", e[e.ViewshedShadowMap = 4] = \"ViewshedShadowMap\";\n}(Se || (Se = {}));\nconst Ce = [0, 0, 0, 0],\n  we = [ie.INTEGRATED_MESH, ie.OPAQUE_TERRAIN, ie.OPAQUE_MATERIAL, ie.OPAQUE_NO_SSAO_DEPTH],\n  Ie = [ie.TRANSPARENT_MATERIAL, ie.TRANSPARENT_NO_SSAO_DEPTH],\n  Oe = new o(),\n  Ne = E(),\n  ye = E(),\n  De = E();\nfunction Me(e) {\n  return t => e.immediate.schedule(t);\n}\nexport { Se as FramebufferId, Pe as Renderer };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { disposeMaybe as t } from \"../../../../core/maybe.js\";\nimport { Default3D as r } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { Pos2 as e } from \"../lib/DefaultVertexBufferLayouts.js\";\nimport { VertexArrayObject as o } from \"../lib/VertexArrayObject.js\";\nimport { BufferObject as s } from \"../../../webgl/BufferObject.js\";\nimport { PrimitiveType as i, Usage as a } from \"../../../webgl/enums.js\";\nclass m {\n  constructor(t) {\n    this._rctx = t, this._vao = c(t);\n  }\n  destroy() {\n    this._vao = t(this._vao);\n  }\n  draw() {\n    null != this._vao && (this._rctx.bindVAO(this._vao), this._rctx.drawArrays(i.TRIANGLES, 0, 3));\n  }\n  get test() {}\n}\nfunction c(t, i = e, m = r) {\n  const c = new Float32Array([-1, -1, 3, -1, -1, 3]);\n  return new o(t, m, {\n    geometry: i\n  }, {\n    geometry: s.createVertex(t, a.STATIC_DRAW, c)\n  });\n}\nexport { m as ScreenSpaceGeometry };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { ScreenSpaceGeometry as e } from \"../effects/ScreenSpaceGeometry.js\";\nimport { AppleAmdDriverHelper as r } from \"../../../webgl/AppleAmdDriverHelper.js\";\nimport { RenderingContext as s } from \"../../../webgl/RenderingContext.js\";\nclass t extends s {\n  constructor(r, s, t) {\n    super(r, s), this.gl = r, this.newCache = t, this._appleAmdDriverHelper = null, this._refCount = 1, this.screen = new e(this);\n  }\n  destroy() {\n    --this._refCount > 0 || this.dispose();\n  }\n  ref() {\n    ++this._refCount;\n  }\n  dispose() {\n    super.dispose(), this._appleAmdDriverHelper?.dispose(), this.screen.destroy();\n  }\n  bindTechnique(e, r, s, t, i) {\n    return this.useProgram(e.program), this.setPipelineState(e.getPipeline(!!i)), e.program.bindPass(s, r), t && e.program.bindDraw(t, r, s), e.program;\n  }\n  runAppleAmdDriverHelper() {\n    this.driverTest.drawArraysRequiresIndicesTypeReset.result && (this._appleAmdDriverHelper ??= new r(this), this._appleAmdDriverHelper.run());\n  }\n  get test() {}\n}\nexport { t as RenderingContext };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(e) {\n  return !!e.frameUpdate;\n}\nexport { e as isFrameUpdateTexture };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport r from \"../../../../core/Evented.js\";\nimport s from \"../../../../core/Logger.js\";\nimport { isPromiseLike as o, isAbortError as i } from \"../../../../core/promiseUtils.js\";\nimport { property as n } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as u } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { RenderRequestType as a } from \"./basicInterfaces.js\";\nimport { ContentObjectType as h } from \"./ContentObjectType.js\";\nimport { isFrameUpdateTexture as c } from \"./ITexture.js\";\nimport { TextureTechnique as l } from \"./TextureTechnique.js\";\nimport { TextureTechniqueConfiguration as p } from \"./TextureTechniqueConfiguration.js\";\nimport { assert as d } from \"./Util.js\";\nimport { TaskPriority as m } from \"../../../support/Scheduler.js\";\nlet _ = class extends t {\n  constructor(e, t, s) {\n    super({}), this._stage = e, this._techniques = t, this._rctx = s, this._textures = new Map(), this._loadingCount = 0, this._frameUpdates = new Map(), this.events = new r(), this._frameTask = e.view.resourceController.scheduler.registerTask(m.TEXTURE_UNLOAD);\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  destroy() {\n    this._frameTask.remove(), this._stage.forEachOfType(h.Texture, e => e.unload());\n  }\n  get updating() {\n    return this._loadingCount > 0 || this._frameTask.updating;\n  }\n  get textureTechnique() {\n    return null == this._textureTechnique && (this._textureTechnique = this._techniques.acquire(l, new p())), this._textureTechnique;\n  }\n  acquire(e) {\n    const t = this._textures.get(e);\n    return t ? (t.ref(), t.loadingPromise ?? t) : this._createNewRef(e);\n  }\n  update() {\n    let e = !1;\n    this._frameUpdates.forEach(t => {\n      const r = t.texture.frameUpdate(t.previousToken);\n      r >= 0 && r !== t.previousToken && (t.previousToken = r, e = !0);\n    }), e && this.events.emit(\"changed\", a.BACKGROUND);\n  }\n  _createNewRef(e) {\n    const t = this._stage.getObject(e);\n    if (null == t) return d(void 0 !== t), null;\n    const r = t.events.on(\"unloaded\", () => {\n        r.remove(), this._onTextureUnloaded(e);\n      }),\n      n = new f(e, () => {\n        this._frameTask.schedule(() => {\n          n.isUnreferenced && t.unload();\n        });\n      });\n    return this._textures.set(e, n), n.ref(), t.glTexture ? (this._updateGLTexture(n, t.glTexture), c(t) && this._frameUpdates.set(e, {\n      texture: t,\n      previousToken: -1\n    }), n) : (this._loadingCount++, n.loadingPromise = this._stage.schedule(() => {\n      const r = t.load(this._rctx),\n        u = r => (this._loadingCount--, n.loadingPromise = null, this._updateGLTexture(n, r), c(t) && this._frameUpdates.set(e, {\n          texture: t,\n          previousToken: -1\n        }), n),\n        a = e => (this._loadingCount--, n.loadingPromise = null, i(e) || s.getLogger(this).error(e), null);\n      return o(r) ? r.then(u, a) : u(r);\n    }), n.loadingPromise);\n  }\n  _updateGLTexture(e, t) {\n    e.glTexture = t, this.events.emit(\"changed\", a.UPDATE);\n  }\n  _onTextureUnloaded(e) {\n    this._textures.delete(e), this._frameUpdates.delete(e);\n  }\n};\ne([n()], _.prototype, \"_loadingCount\", void 0), e([n()], _.prototype, \"_frameTask\", void 0), e([n()], _.prototype, \"updating\", null), _ = e([u(\"esri.views.3d.webgl-engine.lib.TextureRepository\")], _);\nclass f {\n  constructor(e, t) {\n    this.id = e, this._release = t, this._refCount = 0;\n  }\n  get isUnreferenced() {\n    return 0 === this._refCount;\n  }\n  ref() {\n    ++this._refCount;\n  }\n  release() {\n    --this._refCount, this._refCount > 0 || (0 !== this._refCount ? (s.getLogger(\"esri.views.3d.webgl-engine.lib.TextureRepository.RefCountedTextureImpl\").error(\"Cannot dereference texture that has no references!\"), this._refCount = 0) : this._release());\n  }\n}\nexport { _ as TextureRepository };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createMarkerTexture as r } from \"../../support/engineContent/marker.js\";\nimport { ProceduralTextureRepository as e } from \"./ProceduralTextureRepository.js\";\nfunction o(o, t) {\n  return new e(e => r(e, o), r => r, t);\n}\nexport { o as createMarkerTextureRepository };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"../../../../../chunks/tslib.es6.js\";\nimport { getAssetUrl as e } from \"../../../../../assets.js\";\nimport r from \"../../../../../core/Accessor.js\";\nimport { createTask as t } from \"../../../../../core/asyncUtils.js\";\nimport a from \"../../../../../core/Logger.js\";\nimport { abortMaybe as o, disposeMaybe as i } from \"../../../../../core/maybe.js\";\nimport { throwIfAborted as m } from \"../../../../../core/promiseUtils.js\";\nimport { property as p } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as c } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { requestImage as l } from \"../../../../../support/requestImageUtils.js\";\nimport { NoParameters as n } from \"../../core/shaderModules/interfaces.js\";\nimport { ResourceState as u } from \"../../lib/basicInterfaces.js\";\nimport { PixelFormat as h, TextureSamplingMode as g } from \"../../../../webgl/enums.js\";\nimport { Texture as d } from \"../../../../webgl/Texture.js\";\nimport { TextureDescriptor as _ } from \"../../../../webgl/TextureDescriptor.js\";\nlet w = class extends r {\n  constructor() {\n    super(...arguments), this._passParameters = new f(), this._resourcesTask = null;\n  }\n  get passParameters() {\n    return this._passParameters;\n  }\n  destroy() {\n    this._resourcesTask = o(this._resourcesTask), this._passParameters.waveNormal = i(this._passParameters.waveNormal), this._passParameters.wavePerturbation = i(this._passParameters.wavePerturbation);\n  }\n  get updating() {\n    return !!this._resourcesTask && !this._resourcesTask.finished;\n  }\n  ensureResources(s) {\n    return this._resourcesTask || (this._resourcesTask = t(async r => {\n      await Promise.allSettled([this._loadImageResource(s, e(\"esri/images/materials/water/normals.jpg\"), s => this._passParameters.waveNormal = s, r), this._loadImageResource(s, e(\"esri/images/materials/water/perturbation.jpg\"), s => this._passParameters.wavePerturbation = s, r)]);\n    })), this._resourcesTask.finished ? u.LOADED : u.LOADING;\n  }\n  async _loadImageResource(s, e, r, t) {\n    try {\n      const a = await l(e, {\n        signal: t\n      });\n      m(t);\n      const o = new _(a.width, a.height);\n      o.pixelFormat = h.RGB, o.samplingMode = g.LINEAR_MIPMAP_LINEAR, o.hasMipmap = !0, o.maxAnisotropy = 8, r(new d(s, o, a));\n    } catch (o) {\n      a.getLogger(this).error(\"Failed to load water material normal texture.\", o);\n    }\n  }\n};\ns([p()], w.prototype, \"_resourcesTask\", void 0), s([p({\n  type: Boolean,\n  readOnly: !0\n})], w.prototype, \"updating\", null), w = s([c(\"esri.views.3d.webgl-engine.materials.internal.WaterTextureRepository\")], w);\nclass f extends n {}\nexport { f as WaterTexturePassParameters, w as WaterTextureRepository };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst n = new Map();\nfunction t() {\n  return n;\n}\nexport { t as getContextCache };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { createResolver as e } from \"../../../../core/promiseUtils.js\";\nimport { clone as t } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { RenderRequestType as r, Decorations as s } from \"../lib/basicInterfaces.js\";\nimport { RendererTarget as i } from \"../lib/rendererUtils.js\";\nimport { RenderState as o } from \"../../../support/RenderState.js\";\nimport { resampleHermite as n } from \"../../../support/screenshotUtils.js\";\nimport { PixelFormat as a, DataType as c } from \"../../../webgl/enums.js\";\nimport { ensureAttachmentMaxSize as h } from \"../../../webgl/FramebufferObject.js\";\nimport { createEmptyImageData as l } from \"../../../../core/imageUtils.js\";\nclass d {\n  constructor(e, t, r) {\n    this.parameters = e, this.frameHasDecorations = t, this.fbos = r;\n  }\n}\nclass f {\n  constructor(e, t, r) {\n    this._rctx = e, this._renderFunctions = t, this._forceCameraHook = r, this.supersample = !0, this._screenshotQueue = new Array();\n  }\n  destroy() {\n    this._rctx = null;\n  }\n  async takeScreenshot(t) {\n    await this._renderFunctions.prepareOverlay(), this._renderFunctions.requestRenderScene(r.BACKGROUND);\n    const s = e();\n    return this._screenshotQueue.push({\n      settings: t,\n      resolver: s\n    }), s.promise;\n  }\n  update(e, t) {\n    for (const r of this._screenshotQueue) {\n      if (null == this._rctx) {\n        r.resolver.reject();\n        continue;\n      }\n      const s = {\n          ...r.settings,\n          pixelRatio: r.settings.pixelRatio * e.parameters.camera.pixelRatio\n        },\n        i = this._renderScreenshot(e, s, t);\n      r.resolver(i);\n    }\n    this._screenshotQueue.length = 0;\n  }\n  _renderScreenshotOverlay(e, t, r) {\n    e.width = t.width, e.height = t.height;\n    const i = e.getContext(\"2d\"),\n      o = r.pixelRatio;\n    return i.save(), i.translate(0, t.height), i.scale(1, -1), r.region && i.translate(-r.region.x, -r.region.y), i.scale(o, o), t = this._renderFunctions.renderOverlay(e, r.disableDecorations ? s.OFF : s.ON, t), i.restore(), t;\n  }\n  _readbackScreenshot(e, t) {\n    return e.resample ? this._readbackScreenshotResampled({\n      ...e,\n      resample: e.resample\n    }, t) : this._readbackScreenshotImmediate(e, t);\n  }\n  _readbackScreenshotResampled(e, t) {\n    const {\n        framebufferWidth: r,\n        framebufferHeight: s,\n        region: i,\n        resample: o\n      } = e,\n      h = this._ensureScreenshotEncodeCanvas();\n    let d = l(r, s, h);\n    this._rctx.gl.readPixels(0, 0, r, s, a.RGBA, c.UNSIGNED_BYTE, new Uint8Array(d.data.buffer)), t(), d = this._renderScreenshotOverlay(h, d, {\n      ...e,\n      region: void 0\n    });\n    const f = l(i.width, i.height, h);\n    return n(d, f, !0, o.region.x, s - (o.region.y + o.region.height), o.region.width, o.region.height);\n  }\n  _readbackScreenshotImmediate(e, t) {\n    const {\n        framebufferHeight: r,\n        region: s\n      } = e,\n      i = this._ensureScreenshotEncodeCanvas(),\n      o = l(s.width, s.height, i);\n    return this._rctx.gl.readPixels(s.x, r - (s.y + s.height), s.width, s.height, a.RGBA, c.UNSIGNED_BYTE, new Uint8Array(o.data.buffer)), t(), this._renderScreenshotOverlay(i, o, e);\n  }\n  _renderScreenshot(e, r, n) {\n    const a = e.parameters.camera,\n      c = {\n        width: r.framebufferWidth,\n        height: r.framebufferHeight\n      };\n    h(c, Math.min(this._rctx.parameters.maxTextureSize, this._rctx.parameters.maxRenderbufferSize));\n    let l = !1;\n    const d = r.disableDecorations && e.frameHasDecorations,\n      f = c.width !== a.fullWidth || c.height !== a.fullHeight,\n      m = r.ignorePadding && a.pixelRatio !== r.pixelRatio,\n      u = f || d || m || r.objectAndLayerIdColor;\n    let p = null,\n      g = null;\n    if (u) {\n      const e = a.clone();\n      if (r.ignorePadding) {\n        const s = t(e.padding);\n        for (let t = 0; t < 4; t++) s[t] = Math.round(s[t] / e.pixelRatio * r.pixelRatio);\n        e.padding = s;\n      }\n      e.fullWidth = c.width, e.fullHeight = c.height, e.pixelRatio = r.pixelRatio;\n      const h = a.fovX - e.fovX,\n        d = a.fovY - e.fovY;\n      h < 0 && h < d ? e.fovX = a.fovX : d < 0 && d < h && (e.fovY = a.fovY);\n      const f = {\n        camera: e,\n        contentCamera: e,\n        mode: o.IDLE,\n        alignPixelEnabled: !0,\n        contentPixelRatio: e.pixelRatio\n      };\n      this._forceCameraHook(f), l = !0;\n      const m = this._renderFunctions.renderScene(f, n, r.objectAndLayerIdColor ? i.ObjectAndLayerID : i.Screenshot, r.disableDecorations ? s.OFF : s.ON);\n      g = m.screen, p = m.oid;\n    }\n    const b = () => {\n      this._rctx.bindFramebuffer(null), g?.release();\n    };\n    this._rctx.bindFramebuffer(g?.fbo);\n    const _ = this._readbackScreenshot(r, b);\n    let x = null;\n    if (r.objectAndLayerIdColor) {\n      const e = () => {\n        this._rctx.bindFramebuffer(null), p?.release();\n      };\n      this._rctx.bindFramebuffer(p?.fbo), x = this._readbackScreenshot(r, e), this._rctx.bindFramebuffer(null);\n    }\n    if (u && !this._rctx.contextAttributes.alpha) for (let t = 3; t < _.data.length; t += 4) _.data[t] = 255;\n    if (x && !this._rctx.contextAttributes.alpha) for (let t = 3; t < x.data.length; t += 4) x.data[t] = 255;\n    return l && this._forceCameraHook(e.parameters), [_, x];\n  }\n  _ensureScreenshotEncodeCanvas() {\n    return this._screenshotEncodeCanvas || (this._screenshotEncodeCanvas = document.createElement(\"canvas\")), this._screenshotEncodeCanvas;\n  }\n}\nexport { d as ScreenshotContext, f as ScreenshotManager };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { getContextCache as e } from \"./contextCache.js\";\nconst o = {\n  enabled: !1,\n  disposeContextCache: () => {\n    const o = e();\n    o.forEach(e => e.dispose()), o.clear();\n  }\n};\nexport { o as contextCache };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport r from \"../../../../core/Evented.js\";\nimport has from \"../../../../core/has.js\";\nimport s from \"../../../../core/Logger.js\";\nimport { removeMaybe as i, destroyMaybe as n } from \"../../../../core/maybe.js\";\nimport { watch as o, initial as a, syncAndInitial as h } from \"../../../../core/reactiveUtils.js\";\nimport { addFrameTask as c } from \"../../../../core/scheduling.js\";\nimport { Milliseconds as d } from \"../../../../core/time.js\";\nimport { property as p } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as l } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { ComponentObjectCollection as m } from \"../collections/Component/ComponentObjectCollection.js\";\nimport { ShaderTechniqueRepository as u } from \"../core/shaderTechnique/ShaderTechniqueRepository.js\";\nimport { Highlight as _ } from \"../effects/highlight/Highlight.js\";\nimport { ShadowHighlight as f } from \"../effects/highlight/ShadowHighlight.js\";\nimport { MagnifierRenderNode as g } from \"../effects/magnifier/MagnifierRenderNode.js\";\nimport { SMAA as x } from \"../effects/smaa/SMAA.js\";\nimport { SSAO as b } from \"../effects/ssao/SSAO.js\";\nimport { RenderRequestType as v } from \"../lib/basicInterfaces.js\";\nimport w from \"../lib/CompositingHelper.js\";\nimport { textureToDepth as j } from \"../lib/depthRangeUtils.js\";\nimport { GLMaterialRepository as y } from \"../lib/GLMaterialRepository.js\";\nimport { UpdateParameters as R } from \"../lib/Material.js\";\nimport { ObjectAndLayerIdRenderHelper as A } from \"../lib/ObjectAndLayerIdRenderHelper.js\";\nimport { Renderer as T } from \"../lib/Renderer.js\";\nimport { RenderingContext as q } from \"../lib/RenderingContext.js\";\nimport { TextureRepository as C } from \"../lib/TextureRepository.js\";\nimport { createMarkerTextureRepository as U } from \"../materials/markerTextureRepository.js\";\nimport { createStippleTextureRepository as O } from \"../materials/stippleTextureRepository.js\";\nimport { WaterTextureRepository as S } from \"../materials/internal/WaterTextureRepository.js\";\nimport { getContextCache as L } from \"./contextCache.js\";\nimport { removeLoadedShaderModules as M } from \"./requireUtils.js\";\nimport { ScreenshotManager as D, ScreenshotContext as k } from \"./ScreenshotManager.js\";\nimport { contextCache as E } from \"./testUtils.js\";\nimport { RenderState as H } from \"../../../support/RenderState.js\";\nimport { createContext as W } from \"../../../webgl/contextUtils.js\";\nlet B = class extends t {\n  constructor(e) {\n    super({}), this.events = new r(), this.waterTextures = new S(), this.objectAndLayerIdRenderHelper = has(\"enable-feature:objectAndLayerId-rendering\") ? new A() : null, this._needsUpdate = !0, this._needsRender = !0, this._idleSuspend = !0, this._needsWaterReflectionUpdate = !1, this._lastAnimationUpdate = 0, this._container = e.container, this._viewingMode = e.viewingMode;\n    try {\n      this._initializeContext(e);\n    } catch (i) {\n      return void console.error(\"Failed to initialize context\", i);\n    }\n    const {\n      memoryController: t\n    } = e.view.resourceController;\n    this.stippleTextures = O(this._rctx, t), this.markerTextures = U(this._rctx, t), this._techniques = new u({\n      rctx: this._rctx,\n      viewingMode: e.viewingMode,\n      stippleTextures: this.stippleTextures,\n      waterTextures: this.waterTextures,\n      markerTextures: this.markerTextures\n    }), this._textures = new C(e, this._techniques, this._rctx), this.addHandles(this._textures.events.on(\"changed\", e => this.requestRender(e))), this._materials = new y(this._textures, this._techniques, () => this.requestRender(), () => this.requestRender()), this._compositingHelper = new w(this._rctx, this._techniques), this.renderer = new T(e, this._materials, this._techniques, this._rctx, this._compositingHelper, e => this.requestRender(e)), this.addHandles([o(() => e.view.ready, t => {\n      t && this._createRenderNodes(e.view, e.viewingMode);\n    }, a), o(() => this.waterTextures?.updating, () => this.requestRender(), a), o(() => e.view.qualityProfile, e => this.renderer?.updateRenderFeatures(e), h)]);\n    const s = {\n      renderScene: (e, t, r, s) => this.renderer.render(e, t, r, s),\n      requestRenderScene: e => this.requestRender(e),\n      prepareOverlay: () => e.options.screenshot.prepareOverlay(),\n      renderOverlay: (t, r, s) => e.options.screenshot.renderOverlay(t, r, s)\n    };\n    this._screenshotManager = new D(this._rctx, s, e => this.events.emit(\"force-camera-for-screenshot\", e)), this._registerFrameTask(e);\n  }\n  normalizeCtorArgs() {\n    return {};\n  }\n  destroy() {\n    this._container.contains(this._canvas) && this._container.removeChild(this._canvas), this._frameTask = i(this._frameTask), this._techniques = n(this._techniques), this._componentObjects = n(this._componentObjects), this._screenshotManager = n(this._screenshotManager), n(this.renderer), this._textures = n(this._textures), n(this.waterTextures), n(this.markerTextures), n(this.stippleTextures), this._canvas = null, this._container = null, this._rctx = n(this._rctx);\n  }\n  _createRenderNodes(e, t) {\n    new b({\n      view: e,\n      isEnabled: () => this.renderer.hasSSAO,\n      techniques: this._techniques\n    }), new x({\n      view: e,\n      isEnabled: () => this.renderer.hasSMAA,\n      techniques: this._techniques\n    }), new g({\n      view: e,\n      techniques: this._techniques\n    }), new _({\n      view: e,\n      techniques: this._techniques\n    }), new f({\n      view: e,\n      viewingMode: t,\n      techniques: this._techniques\n    });\n  }\n  requestRender(e = v.UPDATE) {\n    this._needsRender = !0, e === v.UPDATE && (this._needsUpdate = !0);\n  }\n  get updating() {\n    return this._needsUpdate || this._needsWaterReflectionUpdate || this.renderer.updating || this._textures.updating || this.waterTextures.updating;\n  }\n  get textures() {\n    return this._textures;\n  }\n  get compositingHelper() {\n    return this._compositingHelper;\n  }\n  setIdleSuspend(e) {\n    this._idleSuspend !== e && (this._idleSuspend = e, this.requestRender());\n  }\n  get renderingContext() {\n    return this._rctx;\n  }\n  get capabilities() {\n    return this._rctx.capabilities;\n  }\n  get canvas() {\n    return this._canvas;\n  }\n  takeScreenshot(e) {\n    return this._screenshotManager.takeScreenshot(e).then(e => e[0]);\n  }\n  takeScreenshotWithOID(e) {\n    return e.objectAndLayerIdColor = !0, this._screenshotManager.takeScreenshot(e);\n  }\n  getAlpha() {\n    return !!this._rctx.contextAttributes.alpha;\n  }\n  getMinimalDepthForArea(e, t, r, s, i, n = i) {\n    const o = s.constrainWindowSize(t, r, i * s.pixelRatio, n * s.pixelRatio),\n      a = this._ensureDepthBuffer(o);\n    this.renderer.readDepthPixels(o, a);\n    let h = Number.MAX_VALUE;\n    for (let c = 0; c < o[2] * o[3]; c++) {\n      const e = j(4 * c, a, s.nearFar);\n      h > e && e !== s.nearFar[0] && e !== s.nearFar[1] && (h = e);\n    }\n    if (e) {\n      const i = e.pickDepth(t * s.pixelRatio, r * s.pixelRatio, s);\n      null != i && h > i && i !== s.nearFar[0] && i !== s.nearFar[1] && (h = i);\n    }\n    return h === Number.MAX_VALUE ? void 0 : h;\n  }\n  _ensureDepthBuffer(e) {\n    const t = 4 * e[2] * e[3];\n    return (null == this._tmpDepthBuffer || this._tmpDepthBuffer.byteLength < t) && (this._tmpDepthBuffer = new Uint8Array(t)), this._tmpDepthBuffer;\n  }\n  async reloadShaders() {\n    M(), await this._techniques.reloadAll(), this.requestRender();\n  }\n  _registerFrameTask(e) {\n    const t = e.view.state;\n    let r = !1,\n      s = v.BACKGROUND,\n      i = !1;\n    const n = {\n      preRender: ({\n        time: i\n      }) => {\n        r = this.updating, s = this._needsUpdate ? v.UPDATE : v.BACKGROUND, e.commitSyncLayers();\n        const n = d(i - this._lastAnimationUpdate);\n        if (n > this.renderer.animationTimestep || null != t.forcedAnimationTime || r || this._needsRender) {\n          const e = d(n / this.renderer.animationTimeDilation),\n            r = new R(t.camera, e, t.forcedAnimationTime);\n          this.renderer.updateAnimation(r) && this.requestRender(v.BACKGROUND), this._lastAnimationUpdate = i;\n        }\n      },\n      render: ({\n        time: e\n      }) => {\n        if ((this._needsRender || !this._idleSuspend || !this.renderer.isCameraFinal || this._needsWaterReflectionUpdate) && t.camera.fullWidth > 0 && t.camera.fullHeight > 0) {\n          const r = this._needsUpdate && this._idleSuspend && this.renderer.isCameraFinal;\n          this._needsRender = !1, this._needsUpdate = !1, this._needsWaterReflectionUpdate = !1, this.renderer.render(t, e), i = !0, r && this.renderer.hasReflections && (this.requestRender(v.BACKGROUND), this._needsWaterReflectionUpdate = !0);\n        }\n      },\n      update: ({\n        time: e\n      }) => {\n        const r = this.renderer.hasSlicePlane || this.renderer.hasDecorations || this.renderer.hasHighlights,\n          s = new k(t, r, this.renderer.fboCache);\n        this._textures.update(), this._screenshotManager.update(s, e);\n      },\n      finish: () => {\n        i && (this.renderer.finish(t.mode === H.IDLE ? s : v.UPDATE), i = !1);\n      }\n    };\n    this._frameTask = c(n);\n  }\n  _initializeContext(e) {\n    const t = e.options;\n    this._canvas = t.canvas, this._canvas || (this._canvas = document.createElement(\"canvas\")), this._canvas.setAttribute(\"style\", \"width: 100%; height:100%; display:block;\");\n    const r = {\n        alpha: t.alpha || !1,\n        premultipliedAlpha: !0,\n        antialias: !1,\n        depth: !0,\n        stencil: t.stencil ?? !0,\n        powerPreference: \"high-performance\",\n        preserveDrawingBuffer: t.preserveDrawingBuffer ?? !1\n      },\n      i = W(this._canvas, r);\n    null != i ? (this._rctx = F(i, e), this._loadShaderOnlyExtensions(), !t.alpha && this._rctx.contextAttributes.alpha && s.getLogger(this).error(\"WebGL context has alpha channel even though no alpha channel was requested\"), !this._rctx.contextAttributes.alpha && has(\"safari\") >= 11 && (this._container.style.backgroundColor = \"black\"), this._container.appendChild(this._canvas)) : s.getLogger(this).error(\"A WebGL2 context could not be created.\");\n  }\n  _loadShaderOnlyExtensions() {\n    this._rctx.capabilities.enable(\"textureFloatLinear\");\n  }\n  getObjectAndLayerIdColor(e) {\n    return null != this.objectAndLayerIdRenderHelper ? this.objectAndLayerIdRenderHelper.getObjectAndLayerIdColor(e) : null;\n  }\n  get componentObjectCollection() {\n    return null == this._componentObjects && (this._componentObjects = new m(this.renderer.renderPassManager, this._viewingMode)), this._componentObjects;\n  }\n  set componentObjectCollection(e) {\n    this._componentObjects = e;\n  }\n};\nfunction F(e, t) {\n  const r = {\n      disabledExtensions: t.options.deactivatedWebGLExtensions || {},\n      debugWebGLExtensions: t.options.debugWebGLExtensions || {},\n      maxAnisotropy: 8\n    },\n    s = (e, r) => t.view.resourceController.memoryController.newCache(e, r);\n  if (E.enabled) {\n    let t = I.get(e);\n    return t ? (t.configure(r), t.newCache = s, t.ref(), t) : (t = new q(e, r, s), I.set(e, t), t.ref(), t);\n  }\n  return new q(e, r, s);\n}\ne([p({\n  type: Boolean,\n  readOnly: !0\n})], B.prototype, \"updating\", null), e([p()], B.prototype, \"_rctx\", void 0), e([p()], B.prototype, \"_container\", void 0), e([p()], B.prototype, \"_canvas\", void 0), e([p()], B.prototype, \"stippleTextures\", void 0), e([p()], B.prototype, \"markerTextures\", void 0), e([p()], B.prototype, \"waterTextures\", void 0), e([p({\n  readOnly: !0\n})], B.prototype, \"objectAndLayerIdRenderHelper\", void 0), e([p()], B.prototype, \"_textures\", void 0), e([p({\n  readOnly: !0\n})], B.prototype, \"renderer\", void 0), e([p()], B.prototype, \"_screenshotManager\", void 0), e([p()], B.prototype, \"componentObjectCollection\", null), e([p()], B.prototype, \"_componentObjects\", void 0), e([p()], B.prototype, \"_needsUpdate\", void 0), e([p()], B.prototype, \"_needsWaterReflectionUpdate\", void 0), B = e([l(\"esri.views.3d.webgl-engine.parts.RenderView\")], B);\nconst I = L();\nexport { B as RenderView };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport \"../../../core/has.js\";\nimport r from \"../../../core/PooledArray.js\";\nimport { isPromiseLike as s } from \"../../../core/promiseUtils.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { isIntersectionHandler as o } from \"../state/helpers/SceneIntersectionHelper.js\";\nimport { ChangeSet as d } from \"./lib/ChangeSet.js\";\nimport { UpdatePolicy as a } from \"./lib/UpdatePolicy.js\";\nimport { isWebGLLayer as h } from \"./lib/WebGLLayer.js\";\nimport { Model as y } from \"./parts/Model.js\";\nimport { RenderView as c } from \"./parts/RenderView.js\";\nimport { TaskPriority as l, noBudget as m } from \"../../support/Scheduler.js\";\nimport { Yield as p } from \"../../support/Yield.js\";\nlet u = class extends t {\n  constructor(e) {\n    super(e), this._model = new y(), this._layers = new r(), this._asyncChangeSet = new d(), this._syncChangeSet = new d(), this._layerSyncSet = new Set();\n  }\n  initialize() {\n    this._set(\"renderView\", new c(this)), this._frameTask = this.view.resourceController.scheduler.registerTask(l.STAGE, this), this.addHandles(this._frameTask);\n  }\n  destroy() {\n    this.renderView.destroy();\n  }\n  get viewingMode() {\n    return this.view.state.viewingMode;\n  }\n  get updating() {\n    return this.running || this.renderView.updating || this._frameTask.updating;\n  }\n  get renderer() {\n    return this.renderView?.renderer;\n  }\n  add(e) {\n    this._model.add(e), h(e) && this._addLayer(e), this.renderView.requestRender();\n  }\n  remove(e) {\n    null != e && !this.destroyed && this._model.remove(e) && (h(e) && this._removeLayer(e), this.renderView.requestRender());\n  }\n  addMany(e) {\n    null != e && (this._model.addMany(e), this.renderView.requestRender());\n  }\n  removeMany(e) {\n    null != e && (this._model?.removeMany(e), this.renderView?.requestRender());\n  }\n  forEachOfType(e, t) {\n    this._model.forEachOfType(e, t);\n  }\n  handleEvent(e, t) {\n    this.destroyed || (this._model.dirtySet[e](t), this.renderView.requestRender());\n  }\n  get running() {\n    return this._model.dirtySet.dirty || !this._asyncChangeSet.empty;\n  }\n  runTask(e) {\n    if (this._frameTask.processQueue(e), this._commit(e), !e.hasProgressed) return p;\n  }\n  _commit(e) {\n    const t = this._model.dirtySet;\n    this._asyncChangeSet.empty || e.done || (this.renderer.modify(this._asyncChangeSet, e), this.renderView.requestRender(), e.madeProgress()), this._layers.forAll(r => {\n      if (e.done) return;\n      const s = this._layerSyncSet.has(r.id) || r.updatePolicy === a.SYNC,\n        i = s ? this._syncChangeSet : this._asyncChangeSet;\n      t.commitLayer(r.id, i), this._layerSyncSet.delete(r.id), i.empty || (this.renderer.modify(i, s ? m : e), this.renderView.requestRender(), e.madeProgress());\n    }), this._syncChangeSet.empty || (this.renderer.modify(this._syncChangeSet, m), this.renderView.requestRender(), e.madeProgress()), this._layers.forAll(r => {\n      e.done || this._layerSyncSet.has(r.id) || r.updatePolicy !== a.ASYNC || (t.commitLayer(r.id, this._asyncChangeSet), this._asyncChangeSet.empty || (this.renderer.modify(this._asyncChangeSet, e), this.renderView.requestRender(), e.madeProgress()));\n    }), this._layerSyncSet.clear(), this.notifyChange(\"running\");\n  }\n  commitSyncLayers() {\n    const e = this._model.dirtySet;\n    this._layers.forAll(t => {\n      this._layerSyncSet.has(t.id) || t.updatePolicy === a.SYNC ? (e.commitLayer(t.id, this._syncChangeSet), this._layerSyncSet.delete(t.id)) : e.commitSyncUpdates(t.id, this._syncChangeSet);\n    });\n    for (const t of this._layerSyncSet) e.commitLayer(t, this._syncChangeSet);\n    this._layerSyncSet.clear(), this._syncChangeSet.empty || (this.renderer.modify(this._syncChangeSet, m), this.renderView.requestRender());\n  }\n  _commitLayer(e) {\n    this._model.dirtySet.commitLayer(e.id, this._syncChangeSet), this._layerSyncSet.delete(e.id), this._syncChangeSet.empty || (this.renderer.modify(this._syncChangeSet, m), this.renderView.requestRender());\n  }\n  schedule(e, t) {\n    return this._frameTask.schedule(e, t);\n  }\n  reschedule(e, t) {\n    return this._frameTask.reschedule(e, t);\n  }\n  syncLayer(e) {\n    this._layerSyncSet.add(e), this.renderView.requestRender();\n  }\n  getObject(e) {\n    return this._model.getObject(e);\n  }\n  get layers() {\n    return this._layers;\n  }\n  _addLayer(e) {\n    this._layers.includes(e) || this._layers.push(e);\n  }\n  _removeLayer(e) {\n    this._commitLayer(e), null != this._layers.removeUnordered(e) && (this._model.dirtySet.getResidentRenderGeometries(e.id, this._syncChangeSet.removes), this.renderer.modify(this._syncChangeSet, m));\n  }\n  addRenderPlugin(e, t) {\n    const r = this.renderer.plugins.add(e, t),\n      i = () => {\n        o(e) && this.view.sceneIntersectionHelper.addIntersectionHandler(e);\n      };\n    if (s(r)) return r.then(i);\n    i();\n  }\n  removeRenderPlugin(e) {\n    this.destroyed || (o(e) && this.view.sceneIntersectionHelper.removeIntersectionHandler(e), this.renderer.plugins.remove(e));\n  }\n  get performanceInfo() {\n    return this._model.getStats();\n  }\n  get test() {}\n};\nu.DebugSettings = {\n  endFrameContentValidation: !1\n}, e([i({\n  constructOnly: !0\n})], u.prototype, \"view\", void 0), e([i({\n  constructOnly: !0\n})], u.prototype, \"options\", void 0), e([i({\n  readOnly: !0\n})], u.prototype, \"viewingMode\", null), e([i({\n  constructOnly: !0\n})], u.prototype, \"container\", void 0), e([i({\n  readOnly: !0\n})], u.prototype, \"updating\", null), e([i({\n  constructOnly: !0\n})], u.prototype, \"_model\", void 0), e([i()], u.prototype, \"renderView\", void 0), e([i({\n  readOnly: !0\n})], u.prototype, \"renderer\", null), e([i({\n  readOnly: !0\n})], u.prototype, \"running\", null), u = e([n(\"esri.views.3d.webgl-engine.Stage\")], u);\nexport { u as Stage };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport t from \"../DefaultUI.js\";\nlet e = class extends t {\n  constructor(o) {\n    super(o), this.components = [\"attribution\", \"zoom\", \"navigation-toggle\", \"compass\"];\n  }\n};\no([s()], e.prototype, \"components\", void 0), e = o([r(\"esri.views.ui.3d.DefaultUI3D\")], e);\nconst c = e;\nexport { c as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../Camera.js\";\nimport \"../geometry.js\";\nimport i from \"../Viewpoint.js\";\nimport r from \"../core/Collection.js\";\nimport { byId as s } from \"../core/domUtils.js\";\nimport n from \"../core/Error.js\";\nimport { on as a } from \"../core/events.js\";\nimport { makeHandle as o, handlesGroup as l } from \"../core/handleUtils.js\";\nimport has from \"../core/has.js\";\nimport p from \"../core/Logger.js\";\nimport { destroyMaybe as h, maybeProperty as d } from \"../core/maybe.js\";\nimport { ObservableChangesType as c } from \"../core/ObservableChangesType.js\";\nimport { throwIfAborted as u } from \"../core/promiseUtils.js\";\nimport { on as g, watch as m, initial as y, syncAndInitial as f, whenOnce as w, sync as _ } from \"../core/reactiveUtils.js\";\nimport { setFrameDuration as v } from \"../core/scheduling.js\";\nimport { createScreenPoint as b, createScreenPointArray as M } from \"../core/screenUtils.js\";\nimport { initialize as S } from \"../core/workers/workers.js\";\nimport { property as V } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as C } from \"../core/accessorSupport/decorators/cast.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as R } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { ensureType as j, ensureClass as T } from \"../core/accessorSupport/ensureType.js\";\nimport { overrideDefaultsFrom as O } from \"../core/accessorSupport/overrideDefaultsFrom.js\";\nimport { create as x } from \"../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { owningCollectionProperty as E } from \"../core/support/OwningCollection.js\";\nimport H from \"../geometry/HeightModelInfo.js\";\nimport { canProjectWithoutEngine as L, project as P } from \"../geometry/projection.js\";\nimport { projectBoundingRect as A } from \"../geometry/projection/projectBoundingRect.js\";\nimport { projectPointToVector as I } from \"../geometry/projection/projectPointToVector.js\";\nimport { create as G, toExtent as D } from \"../geometry/support/aaBoundingRect.js\";\nimport { B as F, c as U } from \"../chunks/boundedPlane.js\";\nimport { renderSRFromViewSR as W } from \"../geometry/support/coordinateSystem.js\";\nimport { getResolutionForScale as q } from \"../geometry/support/scaleUtils.js\";\nimport { isImageryTileLayer as k, isTiledLayer as z, isVoxelLayer as B, isIntegratedMeshLayer as N } from \"../layers/support/layerUtils.js\";\nimport { AnalysesCollection as Q } from \"../support/AnalysesCollection.js\";\nimport { BreakpointsOwner as Y } from \"./BreakpointsOwner.js\";\nimport { DOMContainer as Z } from \"./DOMContainer.js\";\nimport $ from \"./GroundView.js\";\nimport { PopupView as J } from \"./PopupView.js\";\nimport K from \"./View.js\";\nimport X from \"./ViewAnimation.js\";\nimport { ViewingMode as ee, stringFromViewingMode as te, viewingModeFromString as ie } from \"./ViewingMode.js\";\nimport { layerView3DImporter as re } from \"./3d/layerViewModuleImportUtils.js\";\nimport se from \"./3d/analysis/AnalysisViewManager3D.js\";\nimport { Constraints as ne } from \"./3d/constraints/Constraints.js\";\nimport ae from \"./3d/environment/SceneViewEnvironment.js\";\nimport { SceneViewEnvironmentManager as oe } from \"./3d/environment/SceneViewEnvironmentManager.js\";\nimport le from \"./3d/input/SceneInputManager.js\";\nimport { GraphicsDeconflictor as pe } from \"./3d/layers/graphics/GraphicsDeconflictor.js\";\nimport { Labeler as he } from \"./3d/layers/graphics/Labeler.js\";\nimport { FeatureTileTree3D as de } from \"./3d/layers/support/FeatureTileTree3D.js\";\nimport ce from \"./3d/state/ViewState.js\";\nimport { ViewStateManager as ue } from \"./3d/state/ViewStateManager.js\";\nimport { SceneIntersectionHelper as ge } from \"./3d/state/helpers/SceneIntersectionHelper.js\";\nimport { CombinedElevationProvider as me } from \"./3d/support/CombinedElevationProvider.js\";\nimport { debugFlags as ye } from \"./3d/support/debugFlags.js\";\nimport fe from \"./3d/support/DisplayQualityProfile.js\";\nimport { getElevationAtPoint as we } from \"./3d/support/ElevationProvider.js\";\nimport _e from \"./3d/support/HighlightOptions.js\";\nimport { toMap as ve, hitTest as be } from \"./3d/support/hitTest.js\";\nimport { MapCoordsHelper as Me } from \"./3d/support/MapCoordsHelper.js\";\nimport { popupHitTest as Se } from \"./3d/support/popupHitTest.js\";\nimport { PropertiesPool as Ve } from \"./3d/support/PropertiesPool.js\";\nimport Ce from \"./3d/support/QualitySettings.js\";\nimport { RenderCoordsHelper as Re } from \"./3d/support/RenderCoordsHelper.js\";\nimport { newResourceController as je } from \"./3d/support/ResourceController.js\";\nimport Te from \"./3d/support/SceneViewPerformanceInfo.js\";\nimport { SharedSymbolResources as Oe } from \"./3d/support/SharedSymbolResources.js\";\nimport { TextureCollection as xe } from \"./3d/support/TextureCollection.js\";\nimport { PointsOfInterest as Ee } from \"./3d/support/pointsOfInterest/PointsOfInterest.js\";\nimport He from \"./3d/terrain/TerrainSurface.js\";\nimport { isSurfaceLayerView as Le, getTiledLayerInfo as Pe, checkIfTileInfoSupportedForView as Ae } from \"./3d/terrain/terrainUtils.js\";\nimport { Stage as Ie } from \"./3d/webgl-engine/Stage.js\";\nimport { Decorations as Ge } from \"./3d/webgl-engine/lib/basicInterfaces.js\";\nimport { defaultTolerance as De } from \"./3d/webgl-engine/lib/Intersector.js\";\nimport { terrainId as Fe } from \"./3d/webgl-engine/lib/verticalOffsetUtils.js\";\nimport { occludeesSupported as Ue } from \"./support/layerViewUtils.js\";\nimport { encode as We, encodeData as qe, toRenderSettings as ke, screenshotSuperSampleSettings as ze } from \"./support/screenshotUtils.js\";\nimport { isSupportedScreenPointEvent as Be, createScreenPointFromSupportedEvent as Ne } from \"./support/screenUtils.js\";\nimport { isSpatialReferenceSupported as Qe } from \"./support/spatialReferenceSupport.js\";\nimport { check as Ye } from \"./support/WebGLRequirements.js\";\nimport Ze from \"./ui/DefaultUI.js\";\nimport $e from \"./ui/3d/DefaultUI3D.js\";\nimport Je from \"../webscene/Environment.js\";\nimport Ke from \"../geometry/Extent.js\";\nimport Xe from \"../geometry/SpatialReference.js\";\nimport et from \"../geometry/Point.js\";\nlet tt = class extends Y(J(Z(K))) {\n  constructor(e) {\n    super(e), this._userClippingArea = null, this._clippingArea = null, this._initialDefaultSpatialReference = null, this._createGraphicsViewController = null, this._resolveWhenReady = [], this._propertiesPool = new Ve({\n      slicePlane: F\n    }, this), this._resourceController = je(this), this._defaultToMapOptions = {\n      include: new Set()\n    }, this._defaultHitTestOptions = {\n      exclude: new Set()\n    }, this.deconflictor = new pe({\n      view: this\n    }), this.labeler = new he({\n      view: this,\n      deconflictor: this.deconflictor.labels\n    }), this.sharedSymbolResources = null, this.analyses = new Q(), this.basemapTerrain = null, this.elevationProvider = null, this.canvas = null, this.constraints = new ne(), this.environment = new ae(), this.environmentManager = new oe(), this.floors = new r(), this.fullOpacity = 1, this.graphicsView = null, this.analysisViewManager = new se({\n      view: this\n    }), this.groundView = null, this.map = null, this.screenSizePerspectiveEnabled = !0, this.state = new ce(), this.spatialReference = null, this.alphaCompositingEnabled = !1, this.preserveDrawingBufferEnabled = !1, this.supersampleScreenshotsEnabled = !0, this.type = \"3d\", this.ui = new $e(), this._numUpdating = 0, this._lastUpdateTime = 0, this.updatingProgress = .5, this.highlightOptions = new _e(), S();\n    const t = (e = null) => {\n      null != e && e.type === c.MOVE || (this._updatingChanged(), this.map && this.map.allLayers.forEach(async e => {\n        try {\n          await e.when();\n        } catch {}\n        this._updatingChanged();\n      }));\n    };\n    this.addHandles([g(() => this.map?.allLayers, \"after-changes\", e => t(e), {\n      onListenerAdd: () => t(),\n      onListenerRemove: () => t(),\n      sync: !0\n    }), this.allLayerViews.on(\"after-changes\", e => this._updateUpdatingMonitors(e)), m(() => this.map, e => {\n      e && \"load\" in e && e.load && e.load().catch(() => {});\n    })]), this.inputManager = new le({\n      view: this\n    }), this.stateManager = new ue({\n      view: this\n    });\n  }\n  initialize() {\n    this.groundView = new $({\n      view: this\n    }), this._updateUpdatingMonitors();\n    const e = () => this._updateDefaultToMapOptions();\n    this.addHandles(g(() => this.map?.allLayers, \"after-changes\", e, {\n      onListenerAdd: e,\n      onListenerRemove: e\n    })), this.updatingHandles.add(() => this.qualitySettings.memoryLimit, e => {\n      this.resourceController && (this.resourceController.memoryController.maxMemory = e);\n    }, y), this.updatingHandles.add(() => this.qualitySettings.additionalCacheMemory, e => {\n      this.resourceController && (this.resourceController.memoryController.additionalCacheMemory = e);\n    }, y), this.updatingHandles.add(() => this.qualitySettings.frameRate ?? 0, e => v(e > 0 ? 1e3 / Math.ceil(e) : 0), y), this.updatingHandles.add(() => this.map?.ground, e, f), this.updatingHandles.add(() => this.map?.ground?.opacity, () => this._updateDefaultHitTestOptions(), f), this.addHandles(m(() => this.spatialReference, () => this.notifyChange(\"clippingArea\"), _));\n  }\n  destroy() {\n    this.destroyed || (this.updatingHandles.removeAll(), this.invalidate(), this.activeTool = null, this.layerViewManager.clear(), this._exitSurface(), this._disposeGraphicsView(), this.sharedSymbolResources = h(this.sharedSymbolResources), this._set(\"labeler\", h(this.labeler)), this._set(\"deconflictor\", h(this.deconflictor)), this._resourceController = h(this._resourceController), this._set(\"stateManager\", h(this.stateManager)), this._set(\"inputManager\", h(this.inputManager)), this.state.destroy(), this._propertiesPool.destroy(), this.removeHandles(\"updatingMonitors\"), this._set(\"environmentManager\", h(this.environmentManager)), this._set(\"environment\", h(this.environment)), this.groundView = h(this.groundView), this._exitBasemapTerrain(), this._stage?.destroy());\n  }\n  get renderSpatialReference() {\n    return this.renderCoordsHelper && this.renderCoordsHelper.spatialReference;\n  }\n  get basemapSpatialReference() {\n    return this.basemapTerrain?.spatialReference;\n  }\n  get animation() {\n    return this.state?.animation;\n  }\n  get camera() {\n    return this.stateManager?.camera;\n  }\n  set camera(e) {\n    this.stateManager && (this.stateManager.camera = e);\n  }\n  get contentCamera() {\n    return this.stateManager?.contentCamera;\n  }\n  set contentCamera(e) {\n    this.stateManager && (this.stateManager.contentCamera = e);\n  }\n  installContentCameraReset(e = {\n    sticky: !1\n  }) {\n    return this.stateManager.installContentCameraReset(e);\n  }\n  get center() {\n    return this.stateManager?.center;\n  }\n  set center(e) {\n    this.stateManager && (this.stateManager.center = e);\n  }\n  get clippingArea() {\n    if (\"global\" === this.viewingMode) return null;\n    const e = this.map;\n    let t = this._userClippingArea || d(e, \"clippingArea\");\n    return !this._userClippingArea && !d(e, \"clippingEnabled\") || null == t ? (this._clippingArea = null, null) : t instanceof Ke ? this.spatialReference && (t = it(t, this.spatialReference), null == t) ? (p.getLogger(this).error(\"#clippingArea\", \"setting clippingArea with incompatible SpatialReference\"), this._clippingArea) : (t = t.clone(), null == t.intersection(this._groundAndLayersExtent) && (t.xmin = t.xmax, t.ymin = t.ymax), t.zmin = void 0, t.zmax = void 0, t.equals(this._clippingArea) || (this._clippingArea = t), this._clippingArea) : (p.getLogger(this).error(\"#clippingArea\", \"only clippingArea geometries of type Extent are supported\"), this._clippingArea);\n  }\n  set clippingArea(e) {\n    this.ready && \"global\" === this.viewingMode && null != e ? p.getLogger(this).error(\"#clippingArea=\", \"Clipping area is only supported in local viewingMode\") : this._userClippingArea = e;\n  }\n  get renderDataExtent() {\n    if (this.state.viewingMode === ee.Global) return null;\n    const e = this.renderSpatialReference,\n      t = this.dataExtent;\n    return null == t || null == e || t.spatialReference.equals(e) ? t : it(t, e);\n  }\n  get tileInfo() {\n    return this.basemapTerrain?.tilingScheme?.toTileInfo();\n  }\n  get dataExtent() {\n    let e = this._groundAndLayersExtent;\n    const t = this.spatialReference || Xe.WGS84,\n      i = it(this.clippingArea, t);\n    null != i && (e = null != e ? e.intersection(i) : i);\n    const r = this._get(\"dataExtent\");\n    return null != e && e.equals(r) ? r : e;\n  }\n  get _groundAndLayersExtent() {\n    const e = this.spatialReference || Xe.WGS84;\n    let t;\n    const i = i => {\n        const r = it(i, e);\n        null != r && (null != t ? t.union(r) : t = r.clone());\n      },\n      r = this.basemapTerrain;\n    if (r?.spatialReference) {\n      const e = r.groundExtent;\n      i(new Ke({\n        xmin: e[0],\n        ymin: e[1],\n        zmin: 0,\n        xmax: e[2],\n        ymax: e[3],\n        zmax: 0,\n        spatialReference: r.spatialReference\n      }));\n    }\n    if (this.map) {\n      const e = e => {\n        null == e.fullExtent || \"graphics\" === e.type && e.internal || i(e.fullExtent);\n      };\n      this.map.allLayers.forEach(t => e(t));\n    }\n    if (null == t) return null;\n    t.hasZ ? (t.zmin = Math.min(0, t.zmin ?? 0), t.zmax = Math.max(0, t.zmax ?? 0)) : (t.zmin = 0, t.zmax = 0);\n    const s = this._get(\"_groundAndLayersExtent\");\n    return t.equals(s) ? s : t;\n  }\n  castEnvironment(e) {\n    return e ? e instanceof ae ? e : e instanceof Je ? this.environment?.cloneWithWebsceneEnvironment(e) ?? ae.fromWebsceneEnvironment(e) : j(ae, e) : new ae();\n  }\n  get extent() {\n    return this.stateManager?.extent;\n  }\n  set extent(e) {\n    this.stateManager && (this.stateManager.extent = e);\n  }\n  get screenCenter() {\n    return this.stateManager?.screenCenter;\n  }\n  get frustum() {\n    return this.stateManager?.frustum;\n  }\n  get initialExtentRequired() {\n    return this.stateManager && !this.stateManager.hasInitialView;\n  }\n  get _defaultsFromMapSettings() {\n    return {\n      required: {\n        tileInfo: !1,\n        heightModelInfo: !0,\n        extent: !1\n      }\n    };\n  }\n  get interacting() {\n    return this.navigating || (this.toolViewManager?.interacting ?? !1);\n  }\n  get stationary() {\n    return !this.animation && !this.resizing && (null == this.state || this.state.stationary);\n  }\n  get navigating() {\n    return this.state?.navigating ?? !1;\n  }\n  get padding() {\n    return this.stateManager?.padding;\n  }\n  set padding(e) {\n    this.stateManager && (this.stateManager.padding = e);\n  }\n  set qualityProfile(e) {\n    fe.isValidProfile(e) && (fe.apply(e, this.qualitySettings), this._set(\"qualityProfile\", e));\n  }\n  get qualityProfile() {\n    return this._get(\"qualityProfile\") || fe.getDefaultProfile();\n  }\n  set slicePlane(e) {\n    if (null != this._stage && this._stage.renderer.setParameters({\n      slicePlane: e\n    }), null == e) return void this._set(\"slicePlane\", null);\n    const t = this._propertiesPool.get(\"slicePlane\");\n    U(e, t), this._set(\"slicePlane\", t);\n  }\n  get typeSpecificPreconditionsReady() {\n    return !!this.viewingMode && !!this.stateManager?.preinit(this.spatialReference);\n  }\n  get resolution() {\n    return null != this.spatialReference ? q(this.scale, this.spatialReference) : 0;\n  }\n  get scale() {\n    return this.stateManager?.scale;\n  }\n  set scale(e) {\n    this.stateManager && (this.stateManager.scale = e);\n  }\n  get terrainScale() {\n    return this.stateManager?.terrainScale;\n  }\n  get heightModelInfo() {\n    const e = this.getDefaultHeightModelInfo();\n    return null != e ? H.deriveUnitFromSR(e, this.spatialReference) : null;\n  }\n  get updating() {\n    if (this.destroyed) return !1;\n    let e = 0,\n      t = this.layerViewManager.updating,\n      i = t ? this.layerViewManager.updatingRemaining : 0;\n    this.allLayerViews.forEach(r => {\n      if (r.isFulfilled()) {\n        if (r.updating) {\n          if (t = !0, r.suspended || Le(r)) return;\n          ++i, e += r.updatingProgress;\n        }\n      } else ++i;\n    });\n    for (const s of this._updatingObjects) if (null != s && s.updating) {\n      const t = .1;\n      i += t, e += .5 * t;\n    }\n    for (const s of this._updatingObjectsWithProgress) null != s && s.updating && (++i, e += s.updatingProgress);\n    const r = !this.stateManager.test.updatingIgnoreRenderState && this.state.updating;\n    if (t = !!(t || i > 0 || this.updatingHandles.updating || !this.ready || !this.stationary || r || this._createGraphicsViewController || this.inputManager?.updating || this.map?.allLayers?.some(e => !e.isFulfilled()) || this.textures?.updating), t ? (this._numUpdating = Math.max(i, this._numUpdating), e += this._numUpdating - i) : this._numUpdating = 0, this._numUpdating > 0 ? e /= this._numUpdating : e = t ? 0 : 1, this._get(\"updatingProgress\") !== e) {\n      const i = performance.now();\n      if (e < 1) {\n        const t = Math.min((i - this._lastUpdateTime) / 2e3, 1);\n        e = this.updatingProgress * (1 - t) + e * t;\n      }\n      this._set(\"updatingProgress\", e), this._lastUpdateTime = t && e < 1 ? i : 0;\n    }\n    return t;\n  }\n  get _updatingObjects() {\n    return [this.graphicsView, this.basemapView, this._resourceController, this._stage, this.featureTiles, this.pointsOfInterest, this.environmentManager, this.overlay, this._featureTreeDebugger, this.toolViewManager, this.analysisViewManager];\n  }\n  get _updatingObjectsWithProgress() {\n    return [this.deconflictor, this.labeler, this.basemapTerrain];\n  }\n  get viewingMode() {\n    const e = this._predeterminedViewingMode;\n    if (null != e) return te(e);\n    const t = this.spatialReference;\n    return t ? null != this.defaultsFromMap?.viewingMode && t.equals(this.defaultsFromMap.spatialReference) ? te(this.defaultsFromMap.viewingMode) : Qe(t, ee.Global) ? \"global\" : \"local\" : \"global\";\n  }\n  set viewingMode(e) {\n    this.ready ? p.getLogger(this).error(\"#viewingMode\", \"viewingMode cannot be set once view is ready\") : this._overrideIfSome(\"viewingMode\", e);\n  }\n  get viewpoint() {\n    return this.stateManager?.viewpoint;\n  }\n  set viewpoint(e) {\n    this.stateManager && (this.stateManager.viewpoint = e);\n  }\n  get zoom() {\n    return this.stateManager.zoom;\n  }\n  set zoom(e) {\n    this.stateManager && (this.stateManager.zoom = e);\n  }\n  get resourceController() {\n    return this._resourceController;\n  }\n  get quality() {\n    return this._resourceController?.memoryController?.memoryFactor ?? 1;\n  }\n  get resolutionScale() {\n    return Math.sqrt(Math.min(1, this.quality / .75));\n  }\n  get performanceInfo() {\n    return new Te(this);\n  }\n  on(e, t, i, r) {\n    const s = this.viewEvents.on(e, t, i, r);\n    return s || super.on(e, t);\n  }\n  hasEventListener(e) {\n    return super.hasEventListener(e) || this.viewEvents.hasHandler(e);\n  }\n  toMap(e, t) {\n    if (!this.ready) return p.getLogger(this).error(\"#toMap()\", \"Scene view cannot be used before it is ready\"), null;\n    const i = Be(e) ? Ne(this, e) : e;\n    return ve(this, i, t, this._defaultToMapOptions);\n  }\n  toScreen(e) {\n    if (!this.ready) return p.getLogger(this).error(\"#toScreen()\", \"Scene view cannot be used before it is ready\"), null;\n    const t = (null == e.z ? we(this.elevationProvider, e) : null) ?? 0;\n    return I(e, rt, this.renderSpatialReference, t), this.state.camera.projectToScreen(rt, st), b(st[0], st[1]);\n  }\n  pixelSizeAt(e) {\n    return this.ready ? e ? (I(e, rt, this.renderSpatialReference), this.state.camera.computeScreenPixelSizeAt(rt)) : 0 : (p.getLogger(this).error(\"#pixelSizeAt()\", \"Scene view cannot be used before it is ready\"), null);\n  }\n  overlayPixelSizeInMapUnits(e) {\n    const t = this.basemapTerrain.overlayManager;\n    return t ? t.overlayPixelSizeInMapUnits(e, () => this.pixelSizeAt(e)) : 1;\n  }\n  hitTest(e, t) {\n    if (!this.ready) return p.getLogger(this).error(\"#hitTest()\", \"Scene view cannot be used before it is ready\"), null;\n    const i = Be(e) ? Ne(this, e) : e;\n    return be(this, i, t, this._defaultHitTestOptions);\n  }\n  async popupHitTest(e) {\n    return Se(this, e);\n  }\n  goTo(e, t) {\n    return this.updatingHandles.addPromise(this.stateManager.goTo(e, t));\n  }\n  async whenAnalysisView(e) {\n    if (null == e.parent) throw new n(\"view:no-analysisview-for-analysis\", \"The analysis has not been added to view.analyses\", {\n      analysis: e\n    });\n    switch (e.parent.type) {\n      case \"line-of-sight\":\n      case \"dimension\":\n        return (await this.whenLayerView(e.parent)).whenAnalysisView();\n      default:\n        return this.analysisViewManager.whenAnalysisView(e);\n    }\n  }\n  whenLayerView(e) {\n    return super.whenLayerView(e);\n  }\n  async takeScreenshot(e) {\n    const t = this._completeSettings(e);\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshot(t);\n    return We(i, t, this._pixelFormat());\n  }\n  async _takeScreenshot(e) {\n    const t = this._completeSettings(e);\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshot(t);\n    return qe(i, this._pixelFormat());\n  }\n  async _takeScreenshotWithObjectAndLayerId(e) {\n    const t = this._completeSettings(e);\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshotWithOID(t);\n    return [qe(i[0], this._pixelFormat()), qe(i[1], this._pixelFormat())];\n  }\n  _completeSettings(e) {\n    const t = ke(e, this);\n    return t.pixelRatio /= this.state.pixelRatio, ze(t, this.supersampleScreenshotsEnabled, this.padding);\n  }\n  _pixelFormat() {\n    return {\n      flipY: !0,\n      premultipliedAlpha: this._stage.renderView.getAlpha()\n    };\n  }\n  get test() {}\n  async takeScreenshotWithObjectAndLayerId(e) {\n    if (!has(\"enable-feature:objectAndLayerId-rendering\")) throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");\n    const t = this._completeSettings(e);\n    await this.whenReady();\n    const i = await this._stage.renderView.takeScreenshotWithOID(t),\n      r = We(i[0], t, this._pixelFormat()),\n      s = this._completeSettings(e);\n    s.format = \"png\";\n    return [r, We(i[1], s, this._pixelFormat())];\n  }\n  getColorToObjectAndLayerIdMapping() {\n    if (null == this._stage.renderView.objectAndLayerIdRenderHelper) throw new Error(\"has enable-feature:objectAndLayerId-rendering must be true\");\n    return this._stage.renderView.objectAndLayerIdRenderHelper.getColorToObjectAndLayerIdMapping();\n  }\n  addUpdatingPromise(e) {\n    return this.updatingHandles.addPromise(e);\n  }\n  importLayerView(e) {\n    return re.importLayerView(e);\n  }\n  hasLayerViewModule(e) {\n    return re.hasLayerViewModule(e);\n  }\n  forceDOMReadyCycle() {\n    this.forceReadyCycle();\n  }\n  getDefaultSpatialReference() {\n    return this.map && \"initialViewProperties\" in this.map && this.map.initialViewProperties?.spatialReference || this.defaultsFromMap?.spatialReference || this.defaultsFromMap?.ready && this._initialDefaultSpatialReference || null;\n  }\n  async validate() {\n    let e = Ye(this.type);\n    const t = has(\"safari\");\n    if (t && t < 9 && (e = new n(\"sceneview:browser-not-supported\", \"This browser is not supported by SceneView (Safari < 9)\", {\n      type: \"safari\",\n      requiredVersion: 9,\n      detectedVersion: t\n    })), null != e) throw p.getLogger(this).warn(\"#validate()\", e.message), e;\n  }\n  get _predeterminedViewingMode() {\n    const e = this._isOverridden(\"viewingMode\") ? this._get(\"viewingMode\") : (this.map && \"initialViewProperties\" in this.map ? this.map.initialViewProperties?.viewingMode : null) ?? null;\n    return null != e ? ie(e) : null;\n  }\n  getSpatialReferenceSupport(e, t) {\n    const i = this._predeterminedViewingMode;\n    if (null != i) return this._validateSpatialReferenceForViewingMode(e, t, i) ? {\n      constraints: this._makeSpatialReferenceConstraints(e, t, i)\n    } : null;\n    const r = this._validateSpatialReferenceForViewingMode(e, t, ee.Local),\n      s = this._validateSpatialReferenceForViewingMode(e, t, ee.Global);\n    return r || s ? r && s ? {\n      constraints: this._makeSpatialReferenceConstraints(e, t, null)\n    } : r ? {\n      constraints: this._makeSpatialReferenceConstraints(e, t, ee.Local)\n    } : {\n      constraints: this._makeSpatialReferenceConstraints(e, t, ee.Global)\n    } : null;\n  }\n  _validateSpatialReferenceForViewingMode(e, t, i) {\n    return !!Qe(e, i) && (null == t || !!k(t) || (!z(t) || null != Pe(t, e, i)) && (!B(t) || i !== ee.Global));\n  }\n  _makeSpatialReferenceConstraints(e, t, i) {\n    if (null == t) return [{\n      spatialReference: e,\n      viewingMode: i\n    }];\n    const {\n      isWebMercator: r,\n      isWGS84: s\n    } = e;\n    if (k(t) && (r || s)) {\n      return !s || i === ee.Local || null === Ae(t.tileInfo, t.fullExtent, e, ee.Global) ? [{\n        spatialReference: e,\n        viewingMode: i\n      }, {\n        spatialReference: Xe.WebMercator,\n        viewingMode: i\n      }] : [{\n        spatialReference: r ? Xe.WGS84 : Xe.WebMercator,\n        viewingMode: i\n      }];\n    }\n    return z(t) || B(t) || !r && !s ? z(t) && r && i !== ee.Global ? [{\n      spatialReference: e,\n      viewingMode: i\n    }, {\n      spatialReference: Xe.WGS84,\n      viewingMode: ee.Local\n    }] : [{\n      spatialReference: e,\n      viewingMode: i\n    }] : [{\n      spatialReference: e,\n      viewingMode: i\n    }, {\n      spatialReference: r ? Xe.WGS84 : Xe.WebMercator,\n      viewingMode: i\n    }];\n  }\n  _validateSpatialReference(e) {\n    const t = null != this.getSpatialReferenceSupport(e),\n      i = this._predeterminedViewingMode;\n    return t || (null != i ? p.getLogger(this).warnOnce(`Spatial reference defined on view not supported in ${te(i)} viewing mode.`) : e.isGeographic && p.getLogger(this).warnOnce(\"Spatial reference is geographic but not supported.\")), t;\n  }\n  whenReady() {\n    return new Promise(e => {\n      this.ready ? e(this) : this._resolveWhenReady.push(e);\n    });\n  }\n  trackGraphicState(e) {\n    if (!e.graphic) return p.getLogger(this).error(\"trackGraphicState\", \"GraphicState.graphic must not be null or undefined to start tracking\"), null;\n    const t = this.getViewForGraphic(e.graphic);\n    let i = null,\n      r = !1;\n    const s = t => {\n      !r && null != t && \"processor\" in t && \"graphics-3d\" === t.processor?.type && t.processor.graphicsCore && (i = t.processor.graphicsCore.trackGraphicState(e));\n    };\n    return null != t ? s(t) : this.whenViewForGraphic(e.graphic, {\n      waitForLayer: !0\n    }).then(e => s(e), () => {}).catch(() => {}), o(() => {\n      r = !0, null != i && (i.remove(), i = null);\n    });\n  }\n  highlight(e) {\n    if (Array.isArray(e)) return l(e.map(e => this.highlight(e)));\n    if (r.isCollection(e)) return l(e.toArray().map(e => this.highlight(e)));\n    const t = this.getViewForGraphic(e);\n    return t && \"highlight\" in t ? t.highlight(e) : o();\n  }\n  maskOccludee(e) {\n    if (!e) return p.getLogger(this).error(\"maskOccludee\", \"GraphicState.graphic must not be null or undefined to mask an occludee\"), null;\n    const t = this.getViewForGraphic(e);\n    let i = null,\n      r = !1;\n    const s = t => {\n      !r && null != t && Ue(t) && (i = t.maskOccludee(e));\n    };\n    return null != t ? s(t) : this.whenViewForGraphic(e, {\n      waitForLayer: !0\n    }).then(e => s(e), () => {}).catch(() => {}), o(() => {\n      r = !0, null != i && (i.remove(), i = null);\n    });\n  }\n  getViewForGraphic(e) {\n    return e.layer === this.graphics ? this.graphicsView : e.layer ? this.allLayerViews.find(t => t.layer === e.layer) : null;\n  }\n  graphicChanged(e) {\n    null != this.graphicsView && this.graphicsView.graphicChanged(e);\n  }\n  async whenViewForGraphic(e, t) {\n    if (e.layer === this) return await w(() => this.graphicsView), this.graphicsView;\n    if (!e.layer || !this.map) throw new n(\"no-view-for-graphic\");\n    return t && t.waitForLayer && !this.map.allLayers.includes(e.layer) ? new Promise((t, i) => {\n      const r = this.map.allLayers.on(\"change\", s => {\n        s.added.includes(e.layer) && (r.remove(), this.whenLayerView(e.layer).then(t, i));\n      });\n    }) : this.whenLayerView(e.layer);\n  }\n  _initBasemapTerrain() {\n    this._set(\"basemapTerrain\", new He({\n      view: this\n    })), this._set(\"elevationProvider\", new me({\n      view: this\n    })), this.elevationProvider.register(\"ground\", this.basemapTerrain);\n  }\n  _exitBasemapTerrain() {\n    this.basemapTerrain && (this.elevationProvider.unregister(this.basemapTerrain), this.elevationProvider.destroy(), this._set(\"elevationProvider\", null), this.basemapTerrain.destroy(), this._set(\"basemapTerrain\", null));\n  }\n  _initGlobe() {\n    this._initCoordinateSystem(), this.state.createInitialCamera(), this._initBasemapTerrain(), this._set(\"pointsOfInterest\", new Ee({\n      view: this\n    })), this._set(\"featureTiles\", new de({\n      renderCoordsHelper: this.renderCoordsHelper,\n      cameraOnSurface: this.pointsOfInterest.cameraOnSurface,\n      focus: this.pointsOfInterest.focus,\n      tilingSchemeOwner: this.basemapTerrain,\n      viewState: this.state,\n      scheduler: this._resourceController.scheduler,\n      terrain: this.basemapTerrain\n    }));\n    const e = () => {\n      const e = this.basemapTerrain?.extent;\n      if (this.clippingArea || e) {\n        if (e && this.basemapTerrain.spatialReference) {\n          const e = null != this.basemapTerrain.extent && null != this.basemapTerrain.spatialReference ? P(D(this.basemapTerrain.extent, this.basemapTerrain.spatialReference), this.spatialReference) : null;\n          null != this.clippingArea ? this.featureTiles.filterExtent = this.clippingArea.intersection(e) : this.featureTiles.filterExtent = e;\n        } else this.featureTiles.filterExtent = this.clippingArea;\n      } else this.featureTiles.filterExtent = null;\n    };\n    this.addHandles([this.updatingHandles.add(() => ye.FEATURE_TILE_TREE_SHOW_TILES, e => {\n      e && this.featureTiles && !this._featureTreeDebugger ? this.updatingHandles.addPromise(import(\"./3d/layers/support/FeatureTileTree3DDebugger.js\")).then(({\n        FeatureTileTree3DDebugger: e\n      }) => {\n        !this._featureTreeDebugger && ye.FEATURE_TILE_TREE_SHOW_TILES && (this._featureTreeDebugger = new e({\n          view: this\n        }));\n      }) : e || !this._featureTreeDebugger || ye.FEATURE_TILE_TREE_SHOW_TILES || (this._featureTreeDebugger.destroy(), this._featureTreeDebugger = null);\n    }, f), this.updatingHandles.add(() => this.clippingArea, e, f), this.updatingHandles.add(() => this.basemapTerrain.extent, e, f)], \"feature-tiles\"), this.stateManager.init();\n  }\n  _exitGlobe() {\n    this.state && (this.stateManager.exit(), this.removeHandles(\"render-coords-helper\"), this.removeHandles(\"feature-tiles\"), this.featureTiles.destroy(), this._set(\"featureTiles\", null), this.pointsOfInterest.destroy(), this._set(\"pointsOfInterest\", null), this._exitBasemapTerrain(), this.state.exit(), this._exitCoordinateSystem());\n  }\n  _initCoordinateSystem() {\n    if (this.spatialReference) {\n      const e = this.spatialReference;\n      this.mapCoordsHelper && this.mapCoordsHelper.spatialReference.equals(e) || this._set(\"mapCoordsHelper\", new Me(this.map, e));\n      const t = this.state.isGlobal,\n        i = W(t, e);\n      i !== this.renderSpatialReference && (this._set(\"renderCoordsHelper\", Re.create(this.state.viewingMode, i)), t || this.addHandles(m(() => this.basemapTerrain?.extent, e => {\n        const t = this.renderCoordsHelper.spatialReference;\n        null == e || 0 === e[0] && 0 === e[1] && 0 === e[2] && 0 === e[3] || !A(e, this.basemapTerrain.spatialReference, nt, t) || (this.renderCoordsHelper.extent = nt);\n      }, _), \"render-coords-helper\"), this.sceneIntersectionHelper && this.sceneIntersectionHelper.setTolerance(De / this.renderCoordsHelper.unitInMeters));\n    } else this._set(\"mapCoordsHelper\", null), this._set(\"renderCoordsHelper\", null);\n  }\n  _exitCoordinateSystem() {\n    this.mapCoordsHelper && (this.removeHandles(\"render-coords-helper\"), this._set(\"renderCoordsHelper\", null), this._set(\"mapCoordsHelper\", null));\n  }\n  _updatingChanged() {\n    this.notifyChange(\"updating\");\n  }\n  _updateUpdatingMonitors(e = null) {\n    null != e && e.type === c.MOVE || (this.removeHandles(\"updatingMonitors\"), this.allLayerViews.forEach(e => {\n      e.destroyed || (this.addHandles(m(() => [e.updating, e.updatingProgress], () => this._updatingChanged(), _), \"updatingMonitors\"), e.when(() => this._updatingChanged(), () => this._updatingChanged()));\n    }), this._updatingChanged());\n  }\n  async _prepareScreenshotOverlay() {\n    this.overlay && (await this.overlay.prepare());\n  }\n  _renderScreenshotOverlay(e, t, i) {\n    if (!this.overlay || !this.overlay.hasVisibleItems) return i;\n    const r = e.getContext(\"2d\");\n    return r.putImageData(i, 0, 0), this.overlay.renderCanvas(e, {\n      disableDecorations: t === Ge.OFF\n    }), r.getImageData(0, 0, i.width, i.height);\n  }\n  _initStage() {\n    const e = {\n        deactivatedWebGLExtensions: this.deactivatedWebGLExtensions,\n        debugWebGLExtensions: this.debugWebGLExtensions,\n        alpha: this.alphaCompositingEnabled,\n        preserveDrawingBuffer: this.preserveDrawingBufferEnabled,\n        canvas: this.renderCanvas,\n        screenshot: {\n          prepareOverlay: () => this._prepareScreenshotOverlay(),\n          renderOverlay: (e, t, i) => this._renderScreenshotOverlay(e, t, i)\n        }\n      },\n      t = new ge(this.state.viewingMode, e => this._stage.layers.forAll(e), this);\n    this._set(\"sceneIntersectionHelper\", t);\n    const i = s(this.surface);\n    this._stage = new Ie({\n      view: this,\n      options: e,\n      container: i\n    }), this._stage.renderer.setParameters({\n      slicePlane: this.slicePlane\n    }), this.addHandles([this.updatingHandles.add(() => this.qualitySettings.highQualityTransparency, e => this._stage.renderer.setParameters({\n      highQualityTransparency: e\n    }), y), this.on(\"pointer-move\", () => this._stage?.renderer.resetAnimation()), a(this._stage.renderView.canvas, \"webglcontextlost\", e => {\n      this.fatalError = new n(\"webgl-context-lost\", e.statusMessage);\n    })], \"stage\"), this.renderCoordsHelper && this.sceneIntersectionHelper.setTolerance(De / this.renderCoordsHelper.unitInMeters), this._set(\"canvas\", this._stage.renderView.canvas);\n  }\n  _exitStage() {\n    this._set(\"sceneIntersectionHelper\", null), this._stage = h(this._stage), this.removeHandles(\"stage\"), this._set(\"canvas\", null);\n  }\n  _initSurface(e) {\n    this._exitSurface(), this.state.init(e, this.spatialReference), this._initStage(), this._initGlobe(), this.sharedSymbolResources = new Oe({\n      view: this,\n      viewingMode: e,\n      resourceController: this._resourceController,\n      pointsOfInterest: this.pointsOfInterest,\n      viewState: this.state\n    });\n  }\n  _exitSurface() {\n    this.sharedSymbolResources && (this.sharedSymbolResources.objectResourceCache.destroy(), this.sharedSymbolResources.destroy(), this.sharedSymbolResources = null, this._exitGlobe(), this._exitStage());\n  }\n  _createGraphicsViewIfNeeded() {\n    if (this.graphicsView || this._createGraphicsViewController) return;\n    if (0 === this.graphics.length) return;\n    this.removeHandles(\"graphics-view\"), this._createGraphicsViewController = new AbortController();\n    const e = () => {\n      this._createGraphicsViewController = null, this._updatingChanged();\n    };\n    this._createGraphicsViewAsync(this._createGraphicsViewController.signal).then(e, e), this._updatingChanged();\n  }\n  async _createGraphicsViewAsync(e) {\n    const t = (await import(\"./3d/layers/GraphicsView3D.js\")).default;\n    u(e), await w(() => this.basemapTerrain?.ready, e), this._set(\"graphicsView\", new t({\n      view: this\n    }));\n  }\n  _disposeGraphicsView() {\n    this._createGraphicsViewController && (this._createGraphicsViewController.abort(), this._createGraphicsViewController = null), this.removeHandles(\"graphics-view\"), null != this.graphicsView && (this.removeHandles(this.graphicsView.processor.layer.id), this.graphicsView.destroy(), this._set(\"graphicsView\", null));\n  }\n  _startup() {\n    const e = ie(this.viewingMode);\n    e === ee.Global && (this._clippingArea = null), this._initSurface(e), this._set(\"ready\", !0), this.addHandles(g(() => this.graphics, \"after-changes\", () => this._createGraphicsViewIfNeeded()), \"graphics-view\"), this._createGraphicsViewIfNeeded();\n    const t = this.map && \"initialViewProperties\" in this.map ? this.map.initialViewProperties : null,\n      i = t?.environment;\n    i && O(this.environment, i), this.timeExtent = t?.timeExtent, this.labeler.setup(), this.environmentManager.connectView(this), this.inputManager.connect(), this._set(\"textures\", new xe(this._stage, this.resourceController.scheduler));\n    const r = this._resolveWhenReady;\n    this._resolveWhenReady = [], r.forEach(e => e(this));\n  }\n  _teardown() {\n    this._initialDefaultSpatialReference = null, this.inputManager.disconnect(), this.environmentManager.disconnectView(), this.labeler.dispose(), this._disposeGraphicsView(), this.removeHandles(\"graphics-view\"), this._set(\"textures\", h(this.textures)), this._exitSurface(), this._set(\"ready\", !1);\n  }\n  _updateDefaultToMapOptions() {\n    if (this._defaultToMapOptions.include.clear(), this.map) {\n      this.map.ground && this._defaultToMapOptions.include.add(Fe);\n      for (const e of this.map.allLayers.items) N(e.type) && this._defaultToMapOptions.include.add(e.uid);\n    }\n  }\n  _updateDefaultHitTestOptions() {\n    if (this._defaultHitTestOptions.exclude.clear(), this.map) {\n      this.map.ground && this.map.ground.opacity < 1 && this._defaultHitTestOptions.exclude.add(Fe);\n      for (const e of this.map.allLayers.items) N(e.type) && e.opacity < 1 && this._defaultHitTestOptions.exclude.add(e.uid);\n    }\n  }\n};\nfunction it(e, t) {\n  return null != e && L(e.spatialReference, t) ? P(e, t) : null;\n}\ntt.type = \"3d\", e([V()], tt.prototype, \"_userClippingArea\", void 0), e([V()], tt.prototype, \"_resourceController\", void 0), e([V()], tt.prototype, \"_stage\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"deconflictor\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"labeler\", void 0), e([V(E(Q, \"analyses\"))], tt.prototype, \"analyses\", void 0), e([V({\n  type: X,\n  readOnly: !0\n})], tt.prototype, \"animation\", null), e([V({\n  readOnly: !0\n})], tt.prototype, \"basemapTerrain\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"elevationProvider\", void 0), e([V()], tt.prototype, \"camera\", null), e([V({\n  type: t\n})], tt.prototype, \"contentCamera\", null), e([V({\n  readOnly: !0\n})], tt.prototype, \"canvas\", void 0), e([V({\n  type: et\n})], tt.prototype, \"center\", null), e([V({\n  type: Ke\n})], tt.prototype, \"clippingArea\", null), e([V({\n  type: ne\n})], tt.prototype, \"constraints\", void 0), e([V({\n  type: Ke,\n  readOnly: !0\n})], tt.prototype, \"renderDataExtent\", null), e([V({\n  readOnly: !0\n})], tt.prototype, \"tileInfo\", null), e([V({\n  type: Ke,\n  readOnly: !0\n})], tt.prototype, \"dataExtent\", null), e([V({\n  type: Ke,\n  readOnly: !0\n})], tt.prototype, \"_groundAndLayersExtent\", null), e([V({\n  type: ae\n})], tt.prototype, \"environment\", void 0), e([C(\"environment\")], tt.prototype, \"castEnvironment\", null), e([V({\n  readOnly: !0\n})], tt.prototype, \"environmentManager\", void 0), e([V({\n  type: Ke\n})], tt.prototype, \"extent\", null), e([V()], tt.prototype, \"floors\", void 0), e([V()], tt.prototype, \"screenCenter\", null), e([V()], tt.prototype, \"frustum\", null), e([V({\n  type: Number,\n  readOnly: !0\n})], tt.prototype, \"fullOpacity\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"graphicsView\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"analysisViewManager\", void 0), e([V()], tt.prototype, \"groundView\", void 0), e([V({\n  type: Boolean\n})], tt.prototype, \"initialExtentRequired\", null), e([V()], tt.prototype, \"_defaultsFromMapSettings\", null), e([V()], tt.prototype, \"interacting\", null), e([V()], tt.prototype, \"stationary\", null), e([V()], tt.prototype, \"navigating\", null), e([V()], tt.prototype, \"map\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"mapCoordsHelper\", void 0), e([V()], tt.prototype, \"padding\", null), e([V({\n  type: Ee,\n  readOnly: !0\n})], tt.prototype, \"pointsOfInterest\", void 0), e([V({\n  type: de,\n  readOnly: !0\n})], tt.prototype, \"featureTiles\", void 0), e([V()], tt.prototype, \"_featureTreeDebugger\", void 0), e([V({\n  type: Boolean\n})], tt.prototype, \"screenSizePerspectiveEnabled\", void 0), e([V({\n  constructOnly: !0\n})], tt.prototype, \"deactivatedWebGLExtensions\", void 0), e([V({\n  constructOnly: !0\n})], tt.prototype, \"debugWebGLExtensions\", void 0), e([V({\n  constructOnly: !0\n})], tt.prototype, \"renderCanvas\", void 0), e([V({\n  constructOnly: !0\n})], tt.prototype, \"state\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"inputManager\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"stateManager\", void 0), e([V({\n  type: [\"low\", \"medium\", \"high\"]\n})], tt.prototype, \"qualityProfile\", null), e([V({\n  type: Ce,\n  get() {\n    let e = this._get(\"qualitySettings\");\n    return e || (e = new Ce(), fe.apply(this.qualityProfile, e)), e;\n  }\n})], tt.prototype, \"qualitySettings\", void 0), e([V()], tt.prototype, \"slicePlane\", null), e([V({\n  readOnly: !0\n})], tt.prototype, \"typeSpecificPreconditionsReady\", null), e([V({\n  readOnly: !0\n})], tt.prototype, \"renderCoordsHelper\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"sceneIntersectionHelper\", void 0), e([V({\n  type: Number,\n  dependsOn: [\"scale\", \"spatialReference\"],\n  readOnly: !0\n})], tt.prototype, \"resolution\", null), e([V({\n  type: Number\n})], tt.prototype, \"scale\", null), e([V()], tt.prototype, \"heightModelInfo\", null), e([V()], tt.prototype, \"spatialReference\", void 0), e([V({\n  type: Boolean,\n  constructOnly: !0\n})], tt.prototype, \"alphaCompositingEnabled\", void 0), e([V({\n  constructOnly: !0\n})], tt.prototype, \"preserveDrawingBufferEnabled\", void 0), e([V({\n  type: Boolean\n})], tt.prototype, \"supersampleScreenshotsEnabled\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"type\", void 0), e([V(), C(e => e instanceof Ze ? e : T($e, e))], tt.prototype, \"ui\", void 0), e([V({\n  type: Boolean,\n  readOnly: !0,\n  dependsOn: [\"graphicsView.updating\", \"basemapView.updating\", \"basemapTerrain.updating\", \"layerViewManager.updating\", \"layerViewManager.updatingRemaining\", \"_resourceController.updating\", \"_stage.updating\", \"featureTiles.updating\", \"pointsOfInterest.updating\", \"environmentManager.updating\", \"overlay.updating\", \"updatingHandles.updating\", \"featureTreeDebugger.updating\", \"labeler.updating\", \"deconflictor.updating\", \"ready\", \"stationary\", \"inputManager.updating\", \"toolViewManager.updating\", \"analysisViewManager.updating\", \"state.updating\", \"textures.updating\"]\n})], tt.prototype, \"updating\", null), e([V()], tt.prototype, \"_updatingObjects\", null), e([V()], tt.prototype, \"_updatingObjectsWithProgress\", null), e([V({\n  type: Number,\n  readOnly: !0,\n  dependsOn: [\"updating\"]\n})], tt.prototype, \"updatingProgress\", void 0), e([V({\n  type: [\"global\", \"local\"]\n})], tt.prototype, \"viewingMode\", null), e([V({\n  type: i\n})], tt.prototype, \"viewpoint\", null), e([V({\n  type: Number\n})], tt.prototype, \"zoom\", null), e([V({\n  type: _e\n})], tt.prototype, \"highlightOptions\", void 0), e([V({\n  readOnly: !0\n})], tt.prototype, \"quality\", null), e([V({\n  readOnly: !0\n})], tt.prototype, \"resolutionScale\", null), e([V()], tt.prototype, \"textures\", void 0), tt = e([R(\"esri.views.SceneView\")], tt);\nconst rt = x(),\n  st = M(),\n  nt = G(),\n  at = tt;\nexport { at as default };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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AG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KA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AAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,K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AC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGA,IAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGF;AACxxB,GAAG;AARL,IASEkB,MAAI;AACN,SAASP,IAAEX,KAAGC,KAAG;AACf,MAAIC,MAAI;AACR,WAASE,MAAI,GAAGA,MAAIc,KAAGd,OAAK;AAC1B,UAAMC,MAAIL,IAAE,eAAeC,IAAEG,GAAC,CAAC;AAC/B,QAAIC,MAAI,EAAG,QAAO;AAClB,UAAMA,QAAMH,OAAK,KAAKE;AAAA,EACxB;AACA,SAAOF;AACT;AACA,IAAM4B,MAAI7B,IAAE;AAAZ,IACEwB,MAAIxB,IAAE;AADR,IAEEO,MAAIH,GAAE;AAFR,IAGE0B,MAAI1B,GAAE;AAHR,IAIEqB,MAAIrB,GAAE;AAJR,IAKE2B,MAAI3B,GAAE;AALR,IAME4B,MAAI5B,GAAE;;;ACnIR,IAAM6B,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAG;AACb,SAAK,WAAWA;AAAA,EAClB;AAAA,EACA,OAAOA,KAAGD,KAAG;AACX,SAAK,SAAS,UAAUA,GAAC,GAAG,KAAK,SAAS,eAAe,OAAO,CAAAE,QAAKA,IAAE,WAAW,SAAS,OAAOD,KAAGD,KAAGE,GAAC,CAAC;AAAA,EAC5G;AAAA,EACA,4BAA4BF,KAAG;AAC7B,WAAO,KAAK,SAAS,eAAe,SAASG,IAAEH,KAAG,KAAK,SAAS,cAAc,IAAI;AAAA,EACpF;AACF;;;ACTA,IAAMI,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,gBAAgBC,IAAE,GAAG,KAAK,uBAAuBA,IAAE,UAAU,KAAK,cAAc,MAAI,KAAK,WAAW,MAAI,KAAK,kBAAkB;AAAA,EACtI;AACF;;;AC8BA,IAAMC,MAAI,MAAM,EAAE,UAAU,4EAA4E;AACxG,IAAMC,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAGC,KAAG;AAChB,SAAK,iBAAiBD,KAAG,KAAK,eAAeC,KAAG,KAAK,qCAAqC,KAAK,KAAK,0BAA0B,KAAK,KAAK,0BAA0B,KAAK,KAAK,WAAW,IAAIC,GAAE,GAAG,KAAK,UAAU,IAAIA,GAAE,GAAG,KAAK,gBAAgB,IAAIF,IAAE,IAAI,GAAG,KAAK,eAAe,SAAS,KAAK,aAAa,GAAG,KAAK,uBAAuB,IAAI,2CAA2C,GAAG,KAAK,0BAA0B,IAAIG,IAAEH,IAAE,MAAM,KAAK,KAAK,uBAAuB,IAAI,EAAE;AAAA,EAChd;AAAA,EACA,UAAU;AACR,IAAAI,IAAE,MAAM,KAAK,QAAQ,UAAU,MAAM,KAAK,SAAS,QAAQ,gDAAgD,GAAG,KAAK,wBAAwB,QAAQ,GAAG,KAAK,SAAS,OAAO,CAAAJ,QAAKA,IAAE,QAAQ,CAAC,GAAG,KAAK,QAAQ,OAAO,CAAAA,QAAKA,IAAE,QAAQ,CAAC,GAAG,KAAK,SAAS,MAAM,GAAG,KAAK,QAAQ,MAAM;AAAA,EACjR;AAAA,EACA,aAAaA,KAAG;AACd,UAAMK,MAAIL,IAAE,UACVC,MAAI,IAAID,IAAE,KAAK,yBAAyBK,GAAEA,IAAE,gBAAgB,CAAC,GAC7DC,MAAI,KAAK,kBAAkBN,KAAGC,GAAC,GAC/BM,MAAI,IAAIC,IAAE,KAAK,cAAcH,IAAE,cAAcJ,GAAC,GAC9CE,MAAI,IAAIH,IAAEA,IAAE,WAAWA,IAAE,YAAYA,IAAE,IAAI,MAAM,GAAGC,KAAGK,KAAGC,GAAC;AAC7D,YAAQJ,IAAE,UAAU,KAAK,WAAW,KAAK,SAAS,KAAKA,GAAC,GAAGA;AAAA,EAC7D;AAAA,EACA,cAAcH,KAAG;AACf,UAAMK,MAAIL;AACV,KAACK,IAAE,UAAU,KAAK,WAAW,KAAK,SAAS,gBAAgBA,GAAC,GAAGA,IAAE,QAAQ,GAAG,KAAK,aAAa;AAAA,EAChG;AAAA,EACA,oBAAoBL,KAAGK,KAAG;AACxB,UAAMJ,MAAID;AACV,IAAAK,QAAMJ,IAAE,YAAYI,OAAK,KAAK,QAAQ,gBAAgBJ,GAAC,GAAG,KAAK,SAAS,KAAKA,GAAC,MAAM,KAAK,SAAS,gBAAgBA,GAAC,GAAG,KAAK,QAAQ,KAAKA,GAAC,IAAIA,IAAE,UAAUI,KAAG,KAAK,aAAa;AAAA,EAChL;AAAA,EACA,UAAUL,KAAG;AACX,UAAMK,MAAIL,IAAE,OAAO;AACnB,SAAK,eAAe,OAAO,CAAAA,QAAKA,IAAE,WAAW,KAAK,qBAAqBS,GAAEJ,KAAGL,IAAE,IAAI,MAAM,CAAC;AAAA,EAC3F;AAAA,EACA,YAAYA,KAAG;AACb,WAAOA,IAAE,WAAW;AAAA,EACtB;AAAA,EACA,eAAeA,KAAGK,KAAG;AACnB,UAAMJ,MAAID,IAAE,WAAW;AACvB,IAAAK,IAAEJ,GAAC,GAAGA,IAAE,SAAS,KAAK,aAAa;AAAA,EACrC;AAAA,EACA,4BAA4BD,KAAGK,KAAG;AAChC,UAAMJ,MAAID;AACV,IAAAC,IAAE,WAAW,WAAW,MAAMI,GAAC,GAAGJ,IAAE,WAAW,gBAAgB,GAAG,KAAK,aAAa;AAAA,EACtF;AAAA,EACA,wBAAwBD,KAAGK,KAAG;AAC5B,WAAOL,IAAE,WAAW,WAAW,iBAAiBK,GAAC;AAAA,EACnD;AAAA,EACA,kBAAkBL,KAAG;AACnB,UAAMK,MAAIL,KACRC,MAAII,IAAE,WAAW,WAAW;AAC9B,WAAO;AAAA,MACL,SAASJ;AAAA,MACT,WAAWI,IAAE,WAAW,QAAQJ;AAAA,IAClC;AAAA,EACF;AAAA,EACA,iBAAiBD,KAAGK,KAAG;AACrB,UAAMJ,MAAID,KACRM,MAAIL,IAAE,WAAW,UACjBM,MAAIN,IAAE,YACNE,MAAII,IAAE,oBACNH,MAAIG,IAAE,qBACNG,MAAI,IAAIN,IAAE,GACVF,MAAIC,IAAE,eACNQ,MAAI,IAAI,WAAW,CAAC,GACpBF,MAAI,IAAI,YAAYE,IAAE,MAAM;AAC9B,QAAIC,MAAI,GACNC,MAAI,GACJC,MAAI,GACJN,MAAID,IAAE,iBACNQ,MAAI,IAAI,GACRC,MAAI,KAAK,GACTC,MAAI,OACJC,MAAI,OACJC,MAAI;AACN,aAASC,MAAI,GAAGA,MAAIb,IAAE,OAAOa,OAAK;AAChC,MAAAf,IAAEe,KAAGV,GAAC,GAAGE,OAAK,EAAEF,IAAE,cAAc,CAAC,IAAI,IAAIG,OAAK,EAAEH,IAAE,yBAAyBJ,IAAE,WAAW,MAAMI,IAAE,cAAc,CAAC,IAAII,OAAK,CAACJ,IAAE,aAAaP,IAAEO,IAAE,eAAeA,IAAE,sBAAsBC,GAAC,GAAGA,IAAE,CAAC,IAAI,MAAMA,IAAE,CAAC,IAAI,CAACD,IAAE,aAAaR,IAAE,QAAQE,IAAEgB,GAAC,GAAG,GAAGT,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,CAAC,GAAGM,QAAMG,MAAI,KAAKD,QAAMV,IAAE,CAAC,GAAGU,MAAIV,IAAE,CAAC,GAAGS,QAAM,MAAMR,IAAE,iBAAiBQ,OAAK,QAAQV,QAAMA,MAAI,IAAI,MAAMY,GAAC,EAAE,KAAK,CAAC,IAAI,QAAQZ,QAAMA,IAAEY,GAAC,IAAIV,IAAE,kBAAkBK,MAAI,KAAK,IAAIA,KAAGL,IAAE,eAAe,GAAGM,MAAI,KAAK,IAAIA,KAAGN,IAAE,eAAe,GAAGO,GAAEP,IAAE,iBAAiBC,GAAC,GAAGT,IAAE,QAAQE,IAAEgB,GAAC,GAAG,GAAGT,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,CAAC;AAC5iB,YAAMX,MAAIU,IAAE;AACZ,cAAQV,OAAKE,IAAE,QAAQE,IAAEgB,GAAC,GAAG,GAAGpB,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,CAAC,GAAGU,IAAE,aAAaH,IAAEA,IAAE,aAAaa,GAAC,MAAMb,IAAE,cAAcD,IAAEC,IAAE,aAAaA,IAAE,OAAOa,KAAGV,IAAE,QAAQ;AAAA,IACzJ;AACA,IAAAH,IAAE,kBAAkBW,MAAIV,MAAI,MAAMP,IAAE,YAAYiB,MAAIG,GAAEpB,IAAE,KAAKc,KAAGC,KAAG,KAAK,cAAcf,IAAE,aAAaA,IAAE,IAAI,MAAM,CAAC,IAAI,MAAMgB,OAAKC,OAAK,KAAK,wBAAwBZ,IAAE,sBAAsB,IAAIY,IAAE,GAAGZ,IAAE,oBAAoB,cAAcgB,IAAER,KAAGP,IAAE,KAAK,GAAGD,IAAE,oBAAoB,cAAcgB,IAAEV,KAAGL,IAAE,KAAK,GAAGD,IAAE,oBAAoB,iBAAiBgB,IAAET,KAAGN,IAAE,KAAK,GAAGD,IAAE,oBAAoB,UAAUJ,KAAGA,IAAE,cAAc,MAAMI,IAAE,sBAAsB,IAAIiB,GAAE,GAAGjB,IAAE,oBAAoB,cAAcI,IAAE,cAAcc,GAAE,MAAMA,GAAE,MAAMlB,IAAE,oBAAoB,gBAAgBI,IAAE,eAAeJ,IAAE,oBAAoB,uBAAuBI,IAAE,uBAAuB,KAAK,qCAAqC,KAAK,KAAK,aAAa;AAAA,EAC9rB;AAAA,EACA,iBAAiBV,KAAGK,KAAGJ,KAAGK,MAAI,OAAI;AAChC,IAAAN,IAAE,qBAAqB,iBAAiBK,KAAGJ,GAAC;AAC5C,UAAMM,MAAIP,KACRG,MAAII,IAAE,WAAW;AACnB,QAAID,OAAK,QAAQH,IAAG,QAAOF;AAC3B,UAAMG,MAAID,IAAEE,GAAC;AACb,QAAI,KAAK,iBAAiBH,GAAE,SAAS,MAAME,IAAG,QAAOH,IAAE,CAAC,KAAKG,KAAGH,IAAE,CAAC,KAAKG,KAAGH;AAC3E,UAAMS,MAAIW,GAAEjB,GAAC;AACb,WAAOM,IAAE,cAAcH,IAAE,UAAU,UAAUG,IAAE,YAAYT,GAAC;AAAA,EAC9D;AAAA,EACA,gBAAgBD,KAAG;AACjB,WAAOA,IAAE;AAAA,EACX;AAAA,EACA,mBAAmBA,KAAG;AACpB,WAAOA,IAAE;AAAA,EACX;AAAA,EACA,sBAAsBA,KAAGK,KAAGJ,KAAG;AAC7B,WAAOD,IAAE,qBAAqB,sBAAsBK,KAAGJ,GAAC;AAAA,EAC1D;AAAA,EACA,6CAA6CD,KAAGK,KAAGJ,KAAGK,KAAG;AACvD,WAAO,MAAM,KAAK,kCAAkC,KAAK,KAAK,uCAAuCD,OAAKC,IAAE,2BAA2B,KAAK,yBAAyB,KAAK,uBAAuB;AACjM,UAAMC,MAAIP,KACRG,MAAII,IAAE,YACNH,MAAID,IAAE,OACNO,MAAIP,IAAE,iBACND,MAAIK,IAAE,sBACNkB,MAAI,KAAK,iBAAiBvB,GAAE,OAC5BwB,MAAIxB,IAAE,kBAAkB,GACxBkB,MAAIO;AACN,QAAIlB,MAAI,IAAI,GACVG,MAAI,KAAK;AACX,aAASD,MAAI,GAAGA,MAAIP,KAAGO,OAAK;AAC1B,YAAMX,MAAI,IAAIW,KACZR,MAAIO,MAAIC,GAAC,KAAK;AAChB,UAAIP,MAAI,IAAI,GACVF,MAAI,KAAK;AACX,UAAIuB,IAAG,CAAArB,MAAIsB,IAAE1B,MAAI,CAAC,IAAIG,MAAIE,KAAGH,MAAIwB,IAAE1B,MAAI,CAAC,IAAIG,MAAIE;AAAA,WAAO;AACrD,YAAIe,IAAE,CAAC,IAAIM,IAAE1B,GAAC,GAAGoB,IAAE,CAAC,IAAIM,IAAE1B,MAAI,CAAC,GAAGoB,IAAE,CAAC,IAAIM,IAAE1B,MAAI,CAAC,GAAGoB,IAAE,CAAC,IAAIM,IAAE1B,MAAI,CAAC,GAAGoB,IAAE,CAAC,IAAIM,IAAE1B,MAAI,CAAC,GAAGoB,IAAE,CAAC,IAAIM,IAAE1B,MAAI,CAAC,GAAG,MAAMG,KAAG;AAC7G,gBAAMH,MAAIqB,GAAElB,GAAC;AACb,UAAAH,IAAE,cAAcO,IAAE,UAAU,UAAUP,IAAE,YAAYoB,GAAC;AAAA,QACvD;AACA,cAAMhB,MAAI,KAAK,IAAI,KAAK,IAAIgB,IAAE,CAAC,CAAC,GAAG,KAAK,IAAIA,IAAE,CAAC,CAAC,CAAC,GAC/CV,MAAI,KAAK,IAAI,KAAK,IAAIU,IAAE,CAAC,CAAC,GAAG,KAAK,IAAIA,IAAE,CAAC,CAAC,CAAC,GAC3ClB,MAAIG,MAAIe,IAAE,CAAC,IAAInB;AACjB,QAAAK,IAAE,2BAA2BD,MAAIe,IAAE,CAAC,GAAG,KAAK,KAAKhB,MAAIA,MAAIM,MAAIA,MAAIR,MAAIA,GAAC,IAAID,GAAC;AAAA,MAC7E;AACA,MAAAK,IAAE,2BAA2BF,KAAGF,GAAC,GAAGO,MAAI,KAAK,IAAIA,KAAGL,GAAC,GAAGQ,MAAI,KAAK,IAAIA,KAAGV,GAAC;AAAA,IAC3E;AACA,SAAK,qCAAqCG,KAAG,KAAK,0BAA0BI,KAAG,KAAK,0BAA0BG;AAAA,EAChH;AAAA,EACA,UAAUZ,KAAGK,KAAGJ,KAAGK,KAAGC,KAAGJ,KAAGC,KAAG;AAC7B,UAAMM,MAAIV,KACR;AAAA,MACE,WAAWE;AAAA,IACb,IAAIQ,KACJ;AAAA,MACE,UAAUC;AAAA,IACZ,IAAIT;AACN,WAAO,QAAQK,QAAMA,IAAE,cAAcI,MAAID,IAAE,qBAAqB,UAAUL,KAAGJ,KAAGK,KAAGC,KAAGG,IAAE,WAAW,iBAAiBR,KAAGC,KAAGC,GAAC;AAAA,EAC7H;AAAA,EACA,SAASJ,KAAGK,KAAGJ,KAAGK,KAAGC,KAAG;AACtB,UAAMJ,MAAIH,KACR;AAAA,MACE,SAASI;AAAA,MACT,WAAWM;AAAA,IACb,IAAIP,IAAE,sBACND,MAAIC,IAAE,WAAW;AACnB,WAAOE,IAAE,mBAAmBF,KAAGO,KAAGN,KAAGF,KAAGD,KAAGK,KAAGC,GAAC;AAAA,EACjD;AAAA,EACM,uBAAuBP,KAAGK,KAAGJ,KAAG;AAAA;AACpC,YAAMK,MAAIN,KACRG,MAAIG,IAAE,WAAW;AACnB,UAAIH,IAAE,aAAa,EAAG,QAAO;AAAA,QAC3B,QAAQsB,IAAE,aAAa,CAAC;AAAA,QACxB,QAAQ,CAAC,GAAG,GAAG,CAAC;AAAA,MAClB;AACA,YAAM;AAAA,QACF,SAASrB;AAAA,QACT,WAAWO;AAAA,MACb,IAAIL,IAAE,sBACNmB,MAAInB,IAAE,WAAW,SACjBoB,MAAIE,GAAE,aAAajB,IAAE,SAAS,CAAC;AACjC,MAAAN,IAAEqB,IAAE,SAAS,aAAaf,KAAGe,IAAE,SAAS,mBAAmB,CAAC,GAAGvB,IAAEuB,IAAE,UAAUA,IAAE,UAAUpB,IAAE,UAAU,aAAa,GAAG,KAAK,qBAAqBoB,IAAE,gBAAgBtB,KAAGqB,GAAC;AACrK,YAAML,MAAIM,IAAE,OACVjB,MAAI,KAAK,0BAA0BL,KAAGD,KAAGsB,KAAGL,GAAC;AAC/C,aAAO;AAAA,QACL,QAAQf,GAAEC,IAAE,UAAU,QAAQ;AAAA,QAC9B,QAAQ,MAAMD,IAAE,+BAA+B;AAAA,UAC7C,SAASI;AAAA,UACT,eAAeA,IAAE;AAAA,UACjB,iBAAiB;AAAA,UACjB,MAAMiB;AAAA,UACN,gBAAgB;AAAA,YACd,kBAAkB;AAAA,YAClB,UAAU;AAAA,UACZ;AAAA,QACF,GAAGzB,GAAC;AAAA,MACN;AAAA,IACF;AAAA;AAAA,EACA,qBAAqBD,KAAGK,KAAGJ,KAAG;AAC5B,QAAIK,MAAI;AACR,aAASC,MAAI,GAAGA,MAAIN,IAAE,SAAS,GAAGM,OAAK;AACrC,YAAMJ,MAAIF,IAAEM,GAAC,GACXH,MAAIH,IAAEM,MAAI,CAAC;AACb,eAASN,MAAIE,KAAGF,MAAIG,KAAGH,OAAK;AAC1B,cAAMM,MAAIF,MAAIA,IAAEJ,GAAC,IAAIA;AACrB,QAAAD,IAAE,IAAIO,KAAGD,GAAC;AAAA,MACZ;AACA,MAAAA;AAAA,IACF;AAAA,EACF;AAAA,EACA,0BAA0BN,KAAGK,KAAGC,KAAGC,KAAG;AACpC,QAAIP,OAAKK,IAAE,WAAW,EAAG,QAAOL;AAChC,QAAIG,MAAI;AACR,IAAAE,IAAE,sBAAsB,CAACL,KAAGK,SAAOF,OAAKG,IAAED,GAAC,IAAIC,IAAEN,GAAC,GAAG,KAAG;AACxD,UAAMI,MAAI,EAAEJ,GAAC,IAAI,IAAI,MAAMG,GAAC,IAAI,MAAMH,KAAG,qBAAqBO,OAAK,QAAQ,IAAI,YAAYJ,GAAC,IAAI,IAAI,YAAYA,GAAC;AACjH,QAAIO,MAAI;AACR,WAAOL,IAAE,sBAAsB,CAACA,KAAGJ,QAAM;AACvC,YAAMM,MAAID,IAAED,GAAC,GACXF,MAAIG,IAAEL,GAAC;AACT,eAASK,MAAIC,KAAGD,MAAIH,KAAGG,MAAK,CAAAF,IAAEM,KAAG,IAAIV,MAAIA,IAAEM,GAAC,IAAIA;AAChD,aAAO;AAAA,IACT,CAAC,GAAGF;AAAA,EACN;AAAA,EACA,sBAAsBJ,KAAGK,KAAG;AAC1B,UAAMJ,MAAID,IAAE;AACZ,YAAQC,IAAE,oBAAoBA,IAAE,kBAAkB,IAAI,YAAYA,IAAE,QAAQ,CAAC;AAC7E,UAAMA,IAAE,gBAAgBI,GAAC,QAAQJ,IAAE,gBAAgB,GAAG,KAAK,aAAa,IAAIA,IAAE,gBAAgBA,IAAE,KAAK;AAAA,EACvG;AAAA,EACA,yBAAyBD,KAAGK,KAAG;AAC7B,UAAMJ,MAAID,IAAE;AACZ,QAAI,QAAQC,IAAE,gBAAiB,QAAO,KAAKH,IAAE,EAAE,KAAK,kCAAkC;AACtF,UAAMQ,MAAIL,IAAE,gBAAgBI,GAAC,GAC3BE,MAAIN,IAAE,gBAAgBA,IAAE,KAAK;AAC/B,QAAI,MAAMK,KAAG;AACX,UAAIA,MAAI,EAAG,QAAOL,IAAE,gBAAgBI,GAAC,IAAIC,MAAI,GAAG,MAAML,IAAE,gBAAgBA,IAAE,KAAK,IAAIM,MAAI;AACvF,MAAAN,IAAE,gBAAgBI,GAAC,IAAI,GAAGJ,IAAE,gBAAgB,GAAG,KAAK,aAAa,GAAG,MAAMM,MAAIN,IAAE,kBAAkB,OAAOA,IAAE,gBAAgBA,IAAE,KAAK,IAAIM,MAAI;AAAA,IAC5I,MAAO,CAAAT,IAAE,EAAE,KAAK,kCAAkC;AAAA,EACpD;AAAA,EACA,gBAAgBE,KAAG;AACjB,UAAMK,MAAIL,IAAE;AACZ,YAAQK,IAAE,oBAAoBA,IAAE,kBAAkB,MAAMA,IAAE,gBAAgB,GAAG,KAAK,aAAa;AAAA,EACjG;AAAA,EACA,wBAAwBL,KAAG;AACzB,WAAOA,IAAE,WAAW,KAAK;AAAA,EAC3B;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,kBAAkBA,KAAGK,KAAG;AACtB,UAAMJ,MAAI,KAAK,eAAe,MAC5BK,MAAIN,IAAE,UACNO,MAAID,IAAE,SAAS,kBACfH,MAAIQ,GAAE,aAAaV,KAAG4B,GAAE,aAAavB,IAAE,SAAS,IAAI,GACpDF,MAAIE,IAAE,UAAUK,GAAE,YAAYV,KAAG4B,GAAE,aAAavB,IAAE,OAAO,IAAI,MAC7DI,MAAIL,GAAEJ,IAAEM,GAAC,CAAC,GACVL,MAAI,IAAI,YAAYI,IAAE,SAAS,KAAK;AACtC,aAASG,MAAI,GAAGA,MAAIJ,IAAE,OAAOI,OAAK;AAChC,YAAMT,MAAIK,IAAE,QAAQI,GAAC,GACnBR,MAAII,IAAE,QAAQI,MAAI,CAAC,GACnBF,MAAIF,IAAE,oBAAoBI,GAAC;AAC7B,UAAI,QAAQH,IAAE,QAAS,UAASD,MAAIL,KAAGK,MAAIJ,KAAGI,OAAK;AACjD,QAAAH,IAAEI,IAAE,QAAQD,GAAC,CAAC,IAAIE;AAAA,MACpB;AAAA,UAAO,UAASF,MAAIL,KAAGK,MAAIJ,KAAGI,MAAK,CAAAH,IAAEG,GAAC,IAAIE;AAAA,IAC5C;AACA,UAAMI,MAAIA,GAAE,aAAaV,KAAG4B,GAAE,aAAa3B,IAAE,MAAM,GACjDuB,MAAI,IAAIK,GAAE9B,IAAE,WAAWA,IAAE,UAAU,GACnC0B,MAAI,IAAIzB,IAAEA,KAAG8B,KAAG;AAAA,MACd,MAAMrB;AAAA,MACN,kBAAkBa;AAAA,IACpB,GAAG;AAAA,MACD,MAAMpB;AAAA,MACN,kBAAkBQ;AAAA,IACpB,GAAGP,GAAC,GACJgB,MAAI,IAAIhB,IAAEsB,KAAGE,GAAE,WAAWrB,KAAG,QAAQH,GAAC,GACtCQ,MAAI;AAAA,MACF,oBAAoB;AAAA,MACpB,mBAAmBT,IAAE,aAAaQ,IAAE,cAAc,QAAQP,MAAIA,IAAE,aAAa;AAAA,IAC/E;AACF,WAAO,IAAIC,IAAEoB,KAAGL,KAAGR,GAAC;AAAA,EACtB;AAAA,EACA,eAAe;AACb,SAAK,eAAe,YAAY;AAAA,EAClC;AACF;AACA,IAAMW,KAAIlB,GAAEiB,GAAE,EAAE,IAAItB,IAAE,cAAc,CAAC;AACrC,SAASsB,IAAEtB,KAAGK,KAAG;AACf,SAAOL,QAAMK,MAAImB,GAAE,MAAM,MAAMxB,MAAIwB,GAAE,OAAOA,GAAE;AAChD;AACA,IAAMG,MAAIpB,GAAE;;;ACtSZ,IAAMyB,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBC,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,GAAGC,EAAC;AAAA,EAChD;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,UAAUC,IAAEC,GAAE,WAAWA,GAAE,KAAKA,GAAE,qBAAqBA,GAAE,mBAAmB;AAAA,MAC5E,YAAYC;AAAA,IACd,CAAC;AAAA,EACH;AACF;AACAP,IAAE,SAAS,IAAIQ,IAAEC,KAAG,MAAM,OAAO,mCAAsC,CAAC;;;ACZxE,IAAMC,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBA,KAAG;AACnB,WAAO,IAAIA,IAAEA,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,GAAGC,EAAC;AAAA,EAChD;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,YAAYC;AAAA,IACd,CAAC;AAAA,EACH;AACF;AACAJ,IAAE,SAAS,IAAIK,IAAEC,KAAG,MAAM,OAAO,kCAAqC,CAAC;;;ACVvE,IAAMC,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBC,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,GAAGC,EAAC;AAAA,EAChD;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,YAAYC;AAAA,IACd,CAAC;AAAA,EACH;AACF;AACAL,IAAE,SAAS,IAAIM,IAAEC,KAAG,MAAM,OAAO,wCAA2C,CAAC;;;ACb7E,IAAMC,MAAN,cAAgBC,IAAE;AAAA,EAChB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,QAAQD,GAAE,GAAG,GAAG,GAAG,CAAC,GAAG,KAAK,YAAYA,GAAE,GAAG,GAAG,GAAG,CAAC,GAAG,KAAK,cAAc,GAAG,KAAK,sBAAsB,MAAK,KAAK,cAAc,KAAI,KAAK,sBAAsB,MAAK,KAAK,mBAAmBA,GAAE,GAAG,CAAC;AAAA,EAC9N;AACF;;;ACmBA,IAAIE,MAAI,cAAcC,IAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,WAAW,mBAAmB,KAAK,WAAW;AAAA,MAC3D,UAAU,CAAC,mBAAmB,YAAY;AAAA,IAC5C,GAAG,KAAK,kBAAkB,IAAIC,IAAE,GAAG,KAAK,4BAA4B,IAAIC,IAAE,GAAG,KAAK,sBAAsB,IAAIC,IAAE,GAAG,KAAK,mBAAmB,IAAI,KAAK,IAAIL,GAAE,OAAOA,GAAE,OAAO,KAAK,QAAQ;AAAA,MACnL,UAAU;AAAA,MACV,KAAK;AAAA,MACL,mBAAmB;AAAA,MACnB,qBAAqB;AAAA,MACrB,eAAe;AAAA,MACf,gBAAgB;AAAA,IAClB,GAAG,KAAK,iBAAiBE,IAAE,WAAW,QAAQI,GAAC,GAAG,KAAK,uBAAuBJ,IAAE,WAAW,QAAQK,GAAC,GAAG,KAAK,kBAAkBL,IAAE,WAAW,QAAQM,GAAC;AAAA,EACtJ;AAAA,EACA,aAAa;AACX,SAAK,WAAW,CAACH,GAAE,MAAM,KAAK,KAAK,iBAAiB,OAAO,CAAAH,QAAK;AAC9D,WAAK,gBAAgB,QAAQO,GAAEP,OAAKC,GAAC,GAAG,KAAK,KAAK,iBAAiB,cAAc,KAAK,gBAAgB,YAAY,KAAK,gBAAgB,QAAQ,KAAK,cAAcO,GAAE,MAAM;AAAA,IAC5K,GAAGC,EAAC,GAAGN,GAAE,MAAM,KAAK,KAAK,iBAAiB,WAAW,CAAAH,QAAK;AACxD,WAAK,gBAAgB,YAAY,QAAQA,MAAIO,GAAEP,GAAC,IAAI,KAAK,gBAAgB,OAAO,KAAK,cAAcQ,GAAE,MAAM;AAAA,IAC7G,GAAGC,EAAC,GAAGN,GAAE,MAAM,KAAK,KAAK,iBAAiB,aAAa,CAAAH,QAAK;AAC1D,WAAK,gBAAgB,cAAcA,OAAKA,KAAG,KAAK,gBAAgB,sBAAsB,OAAM,KAAK,gBAAgB,aAAa,KAAK,cAAcQ,GAAE,MAAM;AAAA,IAC3J,GAAGC,EAAC,GAAGN,GAAE,MAAM,KAAK,KAAK,iBAAiB,aAAa,CAAAH,QAAK;AAC1D,WAAK,gBAAgB,cAAcA,OAAKM,KAAG,KAAK,gBAAgB,sBAAsB,OAAM,KAAK,gBAAgB,aAAa,KAAK,cAAcE,GAAE,MAAM;AAAA,IAC3J,GAAGC,EAAC,CAAC,CAAC;AAAA,EACR;AAAA,EACA,UAAU;AACR,SAAK,eAAe,QAAQ,GAAG,KAAK,qBAAqB,QAAQ,GAAG,KAAK,gBAAgB,QAAQ,GAAG,KAAK,MAAM,WAAWC,GAAE,KAAK,MAAM,QAAQ,GAAG,KAAK,MAAM,MAAMT,GAAE,KAAK,MAAM,GAAG;AAAA,EACrL;AAAA,EACA,OAAOD,KAAG;AACR,QAAI,KAAK,eAAe,gBAAgBW,IAAE,IAAK,QAAOX,IAAE,KAAK,CAAC;AAAA,MAC5D,MAAMA;AAAA,IACR,MAAM,sBAAsBA,GAAC;AAC7B,QAAI,EAAE,KAAK,eAAe,YAAY,KAAK,qBAAqB,YAAY,KAAK,gBAAgB,UAAW,QAAO,KAAK,cAAcQ,GAAE,MAAM,GAAGR,IAAE,KAAK,CAAC;AAAA,MACvJ,MAAMA;AAAA,IACR,MAAM,sBAAsBA,GAAC;AAC7B,UAAMC,MAAID,IAAE,KAAK,CAAC;AAAA,MACd,MAAMA;AAAA,IACR,MAAM,iBAAiBA,GAAC,EAAE,WAAW,GACrCU,MAAI,KAAK,eAAe,QACxBC,MAAID,IAAE,WACNE,MAAIF,IAAE,YACNR,MAAIQ,IAAE,YACNN,MAAI,KAAK,KAAKO,MAAIT,GAAC,GACnBW,MAAI,KAAK,KAAKD,MAAIV,GAAC,GACnBH,MAAI,KAAK;AACX,SAAK,qBAAqBE,GAAC,GAAG,KAAK,qBAAqBA,KAAG,KAAK,cAAc,GAAG,KAAK,gBAAgB,mBAAmBA,KAAG,KAAK,gBAAgB,kBAAkB,KAAK,MAAM,UAAU,WAAW;AACnM,UAAM;AAAA,MACJ,OAAOK;AAAA,MACP,QAAQQ;AAAA,IACV,IAAIb,IAAE;AACN,IAAAC,IAAE,KAAK,gBAAgB,kBAAkBI,OAAK,KAAK,KAAKA,MAAIA,GAAC,IAAIA,MAAIQ,OAAK,KAAK,KAAKA,MAAIR,GAAC,IAAIA,IAAE;AAC/F,UAAMS,MAAI,KAAK,MAAM;AACrB,IAAAhB,IAAE,QAAQgB,GAAC;AACX,UAAMC,MAAI,KAAK,SAAS,QAAQZ,KAAGS,KAAG,kBAAkB,KAAK,gBAAgB;AAC7E,IAAAd,IAAE,cAAciB,IAAE,KAAK,YAAY,GAAGjB,IAAE,gBAAgBiB,IAAE,GAAG,GAAGjB,IAAE,cAAc,GAAG,GAAG,GAAG,CAAC,GAAGA,IAAE,MAAMkB,GAAE,gBAAgB,GAAGlB,IAAE,YAAY,GAAG,GAAGK,KAAGS,GAAC,GAAG,KAAK,oBAAoB,mBAAmBZ,KAAGC,IAAE,KAAK,oBAAoB,UAAU,IAAIE,KAAG,CAAC;AACjP,UAAMc,MAAInB,IAAE,cAAc,KAAK,gBAAgB,KAAK,gBAAgB,KAAK,iBAAiB,KAAK,mBAAmB;AAClH,IAAAA,IAAE,WAAW,KAAK,eAAe,eAAe,GAAGY,GAAEI,KAAG,UAAU,CAAC;AACnE,UAAMZ,MAAI,KAAK,SAAS,QAAQC,KAAGS,KAAG,kBAAkB,KAAK,gBAAgB;AAC7E,IAAAd,IAAE,cAAcI,IAAE,KAAK,YAAY,GAAGJ,IAAE,gBAAgBI,IAAE,GAAG,GAAGJ,IAAE,cAAc,GAAG,GAAG,GAAG,CAAC,GAAGA,IAAE,MAAMkB,GAAE,gBAAgB,GAAG,KAAK,oBAAoB,mBAAmBD,IAAE,WAAW,GAAGd,IAAE,KAAK,oBAAoB,UAAU,GAAG,IAAIW,GAAC,GAAGK,IAAE,SAAS,KAAK,qBAAqB,KAAK,gBAAgB,KAAK,eAAe,GAAGnB,IAAE,WAAW,KAAK,eAAe,eAAe,GAAGY,GAAEI,KAAG,UAAU,CAAC;AAC1X,UAAMI,MAAInB,IAAE,KAAK,CAAC;AAAA,MAChB,MAAMA;AAAA,IACR,MAAM,sBAAsBA,GAAC;AAC7B,WAAOD,IAAE,gBAAgBoB,IAAE,GAAG,GAAGpB,IAAE,eAAeW,IAAE,YAAY,GAAG,KAAK,gBAAgB,cAAcP,IAAE,WAAW,GAAGJ,IAAE,cAAc,KAAK,iBAAiB,KAAK,gBAAgB,KAAK,eAAe,GAAGA,IAAE,WAAW,KAAK,gBAAgB,eAAe,GAAGY,GAAEI,KAAG,UAAU,CAAC,GAAGC,IAAE,QAAQ,GAAGb,IAAE,QAAQ,GAAGgB;AAAA,EAC3S;AAAA,EACA,qBAAqBnB,KAAG;AACtB,UAAMC,MAAI,KAAK,kBACbS,MAAI,KAAK,OACTC,MAAI,KAAK,KAAKX,IAAE,WAAW,SAASM,GAAC,GACrCM,MAAI,KAAK,KAAKZ,IAAE,WAAW,QAAQM,GAAC;AACtC,QAAII,IAAE,OAAOA,IAAE,sBAAsBC,OAAKD,IAAE,wBAAwBE,IAAG;AACvE,IAAAF,IAAE,oBAAoBC,KAAGD,IAAE,sBAAsBE;AACjD,UAAMV,MAAIS,MAAI,GACZP,MAAIQ,MAAI,GACRC,MAAI,IAAIF,KACRN,MAAI,IAAIO,KACRb,MAAI,IAAI,aAAa,IAAI,IAAIG,MAAIE,GAAC;AACpC,QAAIE,MAAI;AACR,aAASQ,MAAI,GAAGA,MAAIZ,KAAGY,MAAK,UAASd,MAAI,GAAGA,MAAII,KAAGJ,MAAK,CAAAD,IAAEO,KAAG,KAAKN,MAAI,OAAMK,MAAI,IAAI,GAAGN,IAAEO,KAAG,KAAKQ,MAAI,OAAMD,MAAI,IAAI,GAAGd,IAAEO,KAAG,IAAIN,MAAIK,KAAGN,IAAEO,KAAG,IAAIQ,MAAID,KAAGd,IAAEO,KAAG,KAAKN,MAAI,OAAMK,MAAI,IAAI,GAAGN,IAAEO,KAAG,KAAKQ,MAAI,OAAMD,MAAI,IAAI,GAAGd,IAAEO,KAAG,IAAIN,MAAIK,KAAGN,IAAEO,KAAG,IAAIQ,MAAID,KAAGd,IAAEO,KAAG,KAAKN,MAAI,OAAMK,MAAI,IAAI,GAAGN,IAAEO,KAAG,KAAKQ,MAAI,OAAMD,MAAI,IAAI,GAAGd,IAAEO,KAAG,IAAIN,MAAIK,KAAGN,IAAEO,KAAG,IAAIQ,MAAID,KAAGd,IAAEO,KAAG,KAAKN,MAAI,OAAMK,MAAI,IAAI,GAAGN,IAAEO,KAAG,KAAKQ,MAAI,OAAMD,MAAI,IAAI,GAAGd,IAAEO,KAAG,IAAIN,MAAIK,KAAGN,IAAEO,KAAG,IAAIQ,MAAID,KAAGd,IAAEO,KAAG,KAAKN,MAAI,OAAMK,MAAI,IAAI,GAAGN,IAAEO,KAAG,KAAKQ,MAAI,OAAMD,MAAI,IAAI,GAAGd,IAAEO,KAAG,IAAIN,MAAIK,KAAGN,IAAEO,KAAG,IAAIQ,MAAID,KAAGd,IAAEO,KAAG,KAAKN,MAAI,OAAMK,MAAI,IAAI,GAAGN,IAAEO,KAAG,KAAKQ,MAAI,OAAMD,MAAI,IAAI,GAAGd,IAAEO,KAAG,IAAIN,MAAIK,KAAGN,IAAEO,KAAG,IAAIQ,MAAID;AACzmB,IAAAH,IAAE,KAAK,QAAQ,GAAGA,IAAE,MAAM,IAAIT,IAAEA,KAAGO,IAAG;AAAA,MACpC,UAAUO;AAAA,IACZ,GAAG;AAAA,MACD,UAAUhB,GAAE,aAAaE,KAAGmB,GAAE,aAAarB,GAAC;AAAA,IAC9C,CAAC;AAAA,EACH;AAAA,EACA,qBAAqBC,KAAGC,KAAG;AACzB,UAAMS,MAAI,KAAK,kBACbC,MAAI,KAAK,OACTC,MAAIZ,IAAE,YACNE,MAAI,KAAK,KAAKU,IAAE,QAAQN,GAAC,GACzBF,MAAI,KAAK,KAAKQ,IAAE,SAASN,GAAC;AAC5B,SAAK,0BAA0B,QAAQN,KAAGW,IAAE,UAAU,QAAQ,GAAGA,IAAE,WAAW,KAAK,SAAS,QAAQT,KAAGE,KAAG,sBAAsBN,GAAE,EAAE,GAAGY,IAAE,cAAcC,IAAE,SAAS,KAAK,YAAY,GAAGD,IAAE,gBAAgBC,IAAE,SAAS,GAAG,GAAGD,IAAE,cAAc,KAAK,sBAAsBT,KAAG,KAAK,iBAAiB,KAAK,yBAAyB,GAAGS,IAAE,YAAY,GAAG,GAAGR,KAAGE,GAAC,GAAGM,IAAE,OAAO,KAAK;AAAA,EACzW;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACAV,GAAE,CAACqB,GAAE,CAAC,GAAGvB,IAAE,WAAW,YAAY,MAAM,GAAGE,GAAE,CAACqB,GAAE,CAAC,GAAGvB,IAAE,WAAW,YAAY,MAAM,GAAGE,GAAE,CAACqB,GAAE;AAAA,EACzF,eAAe;AACjB,CAAC,CAAC,GAAGvB,IAAE,WAAW,cAAc,MAAM,GAAGA,MAAIE,GAAE,CAACI,GAAE,wDAAwD,CAAC,GAAGN,GAAC;;;ACvH/G,IAAMwB,MAAN,cAAgBC,IAAE;AAAA,EAChB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,iBAAiB;AAAA,EAC7C;AACF;AACAC,GAAE,CAACC,IAAE,CAAC,GAAGH,IAAE,WAAW,kBAAkB,MAAM;;;ACG9C,IAAMI,MAAN,cAAgBC,GAAE;AAAA,EAChB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,cAAcC,GAAE,GAAG,GAAG,GAAG,CAAC,GAAG,KAAK,gBAAgB,KAAI,KAAK,wBAAwB,KAAI,KAAK,mBAAmB,GAAG,KAAK,qBAAqB;AAAA,EACxK;AACF;AACA,IAAMC,MAAN,MAAM,WAAUD,IAAE;AAAA,EAChB,YAAYA,KAAG;AACb,UAAMA,KAAG,IAAIE,IAAE,GAAG,MAAM,KAAK,QAAQ,CAAC;AAAA,EACxC;AAAA,EACA,kBAAkBF,KAAG;AACnB,WAAO,IAAIA,IAAEA,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAGG,EAAC;AAAA,EAClE;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,UAAUC,IAAEC,GAAE,WAAWA,GAAE,KAAKA,GAAE,qBAAqBA,GAAE,mBAAmB;AAAA,MAC5E,YAAYC;AAAA,MACZ,WAAW;AAAA,MACX,YAAY;AAAA,IACd,CAAC;AAAA,EACH;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAOC,GAAE;AAAA,EACX;AACF;AACAP,IAAE,SAAS,IAAIQ,IAAEC,IAAG,MAAM,OAAO,oCAAuC,CAAC;;;AClBzE,IAAMC,MAAI;AAAV,IACEC,MAAI;AADN,IAEEC,MAAI;AACN,IAAIC,MAAI,cAAcC,IAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,WAAW,mBAAmB,KAAK,WAAW;AAAA,MAC3D,UAAU,CAAC,mBAAmB,YAAY;AAAA,IAC5C,GAAG,KAAK,kBAAkB,IAAIC,IAAE,GAAG,KAAK,cAAc,GAAG,KAAK,oBAAoB,KAAI,KAAK,aAAaD,IAAE,WAAW,QAAQE,GAAC;AAAA,EAChI;AAAA,EACA,aAAa;AACX,SAAK,WAAW,CAACC,GAAE,MAAM,KAAK,KAAK,iBAAiB,eAAe,CAAAH,QAAK;AACtE,WAAK,gBAAgB,gBAAgBA,OAAKI,KAAG,KAAK,6BAA6B,GAAG,KAAK,kBAAkB;AAAA,IAC3G,GAAGC,EAAC,GAAGF,GAAE,MAAM,KAAK,KAAK,iBAAiB,kBAAkB,CAAAH,QAAK;AAC/D,WAAK,oBAAoBA,OAAKC,KAAG,KAAK,6BAA6B,GAAG,KAAK,kBAAkB;AAAA,IAC/F,GAAGI,EAAC,GAAGF,GAAE,MAAM,KAAK,KAAK,iBAAiB,aAAa,CAAAH,QAAK;AAC1D,WAAK,gBAAgB,cAAcM,GAAEN,OAAKO,GAAC,GAAG,KAAK,kBAAkB;AAAA,IACvE,GAAGF,EAAC,CAAC,CAAC;AAAA,EACR;AAAA,EACA,UAAU;AACR,SAAK,WAAW,QAAQ;AAAA,EAC1B;AAAA,EACA,+BAA+B;AAC7B,SAAK,gBAAgB,wBAAwB,KAAK,gBAAgB,iBAAiB,IAAI,KAAK;AAAA,EAC9F;AAAA,EACA,oBAAoB;AAClB,UAAML,MAAI,KAAK,IAAI,KAAK,gBAAgB,eAAe,KAAK,gBAAgB,qBAAqB;AACjG,SAAK,cAAcA,MAAI,KAAK,gBAAgB,YAAY,CAAC;AAAA,EAC3D;AAAA,EACA,OAAOA,KAAG;AACR,UAAMO,MAAIP,IAAE,KAAK,CAAC;AAAA,MACd,MAAMA;AAAA,IACR,MAAM,sBAAsBA,GAAC,GAC7BQ,MAAI,KAAK;AACX,QAAI,CAACA,IAAE,2BAA2B,CAACA,IAAE,SAAS,CAAC,KAAK,iBAAiBA,IAAE,QAAQA,IAAE,SAAS,UAAU,SAAS,EAAG,QAAOD;AACvH,QAAI,CAAC,KAAK,WAAW,SAAU,QAAO,KAAK,cAAcZ,GAAE,MAAM,GAAGY;AACpE,SAAK,gBAAgB,YAAYP,IAAE,KAAK,CAAC;AAAA,MACvC,MAAMA;AAAA,IACR,MAAM,iBAAiBA,GAAC,GAAG,WAAW,GAAG,KAAK,gBAAgB,SAASQ,IAAE,OAAO;AAChF,UAAMC,MAAI,KAAK;AACf,WAAOA,IAAE,gBAAgBF,IAAE,GAAG,GAAGE,IAAE,cAAc,KAAK,YAAYD,KAAG,KAAK,eAAe,GAAGC,IAAE,OAAO,KAAK,GAAGF;AAAA,EAC/G;AAAA,EACA,iBAAiBP,KAAGO,KAAG;AACrB,SAAK,gBAAgB,mBAAmB,IAAIN,GAAEL,KAAGC,KAAGG,IAAE,iBAAiB;AACvE,UAAMU,MAAI,KAAK,gBAAgBC,GAAE,SAAS,EAAEC,KAAGZ,IAAE,MAAM,IAAIa,GAAED,KAAG,GAAG,GAAG,CAAC,GACrEE,MAAIjB,GAAEa,KAAGH,GAAC;AACZ,WAAO,KAAK,gBAAgB,qBAAqBN,GAAE,GAAG,GAAGD,IAAE,KAAKc,KAAG,GAAG,CAAC,CAAC,GAAG,KAAK,cAAc,KAAK,gBAAgB,mBAAmB,KAAK,gBAAgB,sBAAsBnB;AAAA,EACnL;AACF;AACAK,GAAE,CAACe,GAAE,CAAC,GAAGjB,IAAE,WAAW,YAAY,MAAM,GAAGE,GAAE,CAACe,GAAE,CAAC,GAAGjB,IAAE,WAAW,YAAY,MAAM,GAAGE,GAAE,CAACe,GAAE;AAAA,EACzF,eAAe;AACjB,CAAC,CAAC,GAAGjB,IAAE,WAAW,eAAe,MAAM,GAAGE,GAAE,CAACe,GAAE;AAAA,EAC7C,eAAe;AACjB,CAAC,CAAC,GAAGjB,IAAE,WAAW,cAAc,MAAM,GAAGA,MAAIE,GAAE,CAACc,GAAE,8DAA8D,CAAC,GAAGhB,GAAC;AACrH,IAAMc,MAAII,GAAE;;;AC9DZ,IAAMC,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBC,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,GAAGC,EAAC;AAAA,EAChD;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,UAAUC,IAAEC,GAAE,KAAKA,GAAE,mBAAmB;AAAA,MACxC,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,YAAYC;AAAA,IACd,CAAC;AAAA,EACH;AACF;AACAP,IAAE,SAAS,IAAIQ,IAAEC,KAAG,MAAM,OAAO,8BAAiC,CAAC;;;ACInE,IAAIC,MAAI,cAAcC,IAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,WAAW,mBAAmB,KAAK,WAAW;AAAA,MAC3D,UAAU,CAAC,iBAAiB;AAAA,IAC9B,GAAG,KAAK,gBAAgB,MAAM,KAAK,iBAAiB,MAAM,KAAK,kBAAkB,IAAIC,IAAE,GAAG,KAAK,OAAO,MAAM,KAAK,aAAa,MAAM,KAAK,aAAa,MAAM,KAAK,kBAAkBC,GAAE,GAAG,KAAK,kBAAkBC,IAAE;AAAA,EACnN;AAAA,EACA,aAAa;AACX,SAAK,WAAW,CAACC,GAAE,MAAM,KAAK,KAAK,WAAW,CAAAJ,QAAK,KAAK,QAAQA,GAAC,GAAGK,EAAC,CAAC,CAAC;AAAA,EACzE;AAAA,EACA,QAAQL,KAAG;AACT,QAAIA,QAAM,KAAK,WAAY;AAC3B,SAAK,iBAAiB,GAAG,KAAK,aAAaA;AAC3C,UAAMG,MAAI,MAAM;AACd,YAAMH,MAAI,KAAK;AACf,MAAAA,OAAK,KAAK,eAAeA,GAAC,GAAG,KAAK,WAAW,qBAAqB,KAAK,WAAW,YAAY,KAAK,cAAc;AAAA,IACnH;AACA,SAAK,cAAc,KAAK,WAAWI,GAAE,MAAM,KAAK,YAAY,SAASD,GAAC,CAAC,GAAGA,IAAE;AAAA,EAC9E;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK,YAAY,WAAW,KAAK,YAAY,YAAY,KAAK,YAAY,OAAO,IAAI,KAAK,aAAa;AAAA,EAChH;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,YAAY,UAAU;AAAA,EACpC;AAAA,EACA,UAAU;AACR,SAAK,aAAa,MAAM,QAAQ,KAAK,mBAAmB,KAAK,eAAe,KAAK,MAAM,GAAG,KAAK,iBAAiB,OAAO,KAAK,iBAAiB,GAAG,KAAK,OAAOG,GAAE,KAAK,IAAI;AAAA,EACzK;AAAA,EACA,mBAAmB;AACjB,SAAK,gBAAgB,OAAOA,GAAE,KAAK,gBAAgB,IAAI,GAAG,KAAK,gBAAgB,UAAUA,GAAE,KAAK,gBAAgB,OAAO,GAAG,KAAK,gBAAgB,QAAQA,GAAE,KAAK,gBAAgB,KAAK;AAAA,EACrL;AAAA,EACA,OAAON,KAAG;AACR,UAAMG,MAAI,KAAK,iBACbG,MAAIN,IAAE,KAAK,CAAC;AAAA,MACV,MAAMA;AAAA,IACR,MAAM,sBAAsBA,GAAC;AAC/B,QAAI,QAAQG,IAAG,QAAOG;AACtB,QAAI,QAAQ,KAAK,cAAe,QAAO,KAAK,cAAcC,GAAE,MAAM,GAAGD;AACrE,UAAME,MAAI,KAAK,kBACbC,MAAI,KAAK,OAAO,YAChBC,MAAI,KAAK,KAAKD,MAAIN,IAAE,IAAI;AAC1B,QAAI,KAAK,SAASD,IAAEM,KAAGE,KAAGH,IAAG,GAAG,CAAC,GAAG,KAAK,eAAe,KAAK,WAAW,QAAQI,GAAC,GAAG,KAAK,wBAAwBH,KAAGE,GAAC,GAAG,CAAC,KAAK,YAAY,YAAY,CAAC,KAAK,gBAAgB,MAAO,QAAO,KAAK,cAAcH,GAAE,MAAM,GAAGD;AACxN,UAAMK,MAAI,KAAK,KAAK,IAAI,KAAK,UAAUD,GAAC,GACtCE,MAAI,KAAK,gBAAgB;AAC3B,IAAAA,IAAE,OAAOD,KAAGA,GAAC,GAAGP,GAAED,IAAE,UAAU,KAAK,eAAe;AAClD,UAAMU,MAAI,KAAK,OAAO,eAAe,KAAK,iBAAiB,KAAK,eAAe,GAC7EC,MAAI,KAAK,OAAO,WAChBC,MAAI,KAAK,OAAO,YAChBhB,MAAI,MAAKY,KACTK,MAAI,MAAKL;AACX,IAAAE,IAAE,CAAC,IAAIb,IAAEa,IAAE,CAAC,GAAGd,KAAGe,MAAIf,MAAI,CAAC,GAAGc,IAAE,CAAC,IAAIb,IAAEa,IAAE,CAAC,GAAGG,KAAGD,MAAIC,MAAI,CAAC;AACzD,UAAMC,MAAI,KAAK,MAAMJ,IAAE,CAAC,IAAId,GAAC,GAC3BmB,MAAI,KAAK,MAAML,IAAE,CAAC,IAAIG,GAAC;AACzB,IAAAR,IAAE,gBAAgBF,IAAE,GAAG;AACvB,WAAO,KAAK,WAAW,QAAQ,YAAY,gBAAgBM,GAAC,GAAGJ,IAAE,GAAG,eAAeI,IAAE,WAAW,QAAQ,GAAGA,IAAE,WAAW,aAAaK,KAAGC,KAAGP,KAAGA,KAAG,CAAC,GAAG,KAAK,gBAAgB,YAAYR,KAAGK,IAAE,cAAc,KAAK,YAAY,KAAK,gBAAgB,KAAK,eAAe,GAAGA,IAAE,QAAQ,KAAK,IAAI,GAAGA,IAAE,WAAWW,GAAE,gBAAgB,GAAG,CAAC,GAAGb;AAAA,EACpU;AAAA,EACA,eAAeN,KAAG;AAChB,UAAM;AAAA,MACJ,SAASE;AAAA,MACT,YAAYI;AAAA,IACd,IAAIN;AACJ,SAAK,gBAAgB,YAAYE,OAAK,KAAK,gBAAgB,eAAeI,QAAM,KAAK,gBAAgB,KAAK,MAAM,GAAG,KAAK,iBAAiB,KAAK,gBAAgB,OAAO,KAAK,iBAAiB,KAAK,mBAAmB,KAAK,iBAAiB;AAAA,MACvO,SAASJ;AAAA,MACT,YAAYI;AAAA,MACZ,MAAM,EAAE,CAAMN,QAAK;AACjB,cAAMG,MAAI,QAAQD,OAAK,QAAQI,MAAIH,IAAEH,GAAC,IAAI,MACxCQ,MAAI,QAAQN,MAAIM,IAAEN,KAAG;AAAA,UACnB,QAAQF;AAAA,QACV,CAAC,IAAIG,IAAE,KAAK,CAAAH,QAAKA,IAAE,IAAI,GACvBS,MAAI,QAAQH,MAAIE,IAAEF,KAAG;AAAA,UACnB,QAAQN;AAAA,QACV,CAAC,IAAIG,IAAE,KAAK,CAAAH,QAAKA,IAAE,OAAO;AAC5B,aAAK,gBAAgB;AAAA,UACnB,MAAM,MAAMQ;AAAA,UACZ,SAAS,MAAMC;AAAA,QACjB;AAAA,MACF,EAAC;AAAA,IACH;AAAA,EACF;AAAA,EACA,wBAAwBT,KAAGG,KAAG;AAC5B,QAAI,QAAQ,KAAK,iBAAiB,KAAK,gBAAgB,SAASA,OAAK,KAAK,gBAAgB,SAAS,KAAK,gBAAgB,QAAQ,KAAK,gBAAgB,QAAS;AAC9J,SAAK,iBAAiB,GAAG,KAAK,cAAc,QAAQ,QAAQ,KAAK,cAAc,KAAK,QAAQA,KAAG,KAAK,cAAc,QAAQ,SAAS,KAAK,cAAc,KAAK,SAASA;AACpK,UAAMD,MAAI,IAAIF,IAAE;AAChB,IAAAE,IAAE,iBAAiBkB,GAAE,MAAMlB,IAAE,WAAWmB,GAAE,eAAenB,IAAE,UAAU,MAAIA,IAAE,mBAAmB,CAAC,GAAE,KAAK,cAAc,QAAQ,GAAG,KAAK,CAACF,IAAE,WAAW,sBAAsB,QAAQ,KAAK,gBAAgB,UAAU,IAAID,GAAEC,KAAGE,KAAG,KAAK,cAAc,OAAO,GAAGA,IAAE,cAAcA,IAAE,iBAAiBkB,GAAE,OAAOlB,IAAE,mBAAmB,OAAI,KAAK,gBAAgB,OAAO,IAAIH,GAAEC,KAAGE,KAAG,KAAK,cAAc,IAAI,GAAGA,IAAE,cAAcA,IAAE,iBAAiBkB,GAAE,MAAMlB,IAAE,UAAU,OAAI,KAAK,gBAAgB,QAAQ,IAAIH,GAAEC,KAAGE,GAAC;AAAA,EACne;AACF;AACAF,GAAE,CAACsB,GAAE,CAAC,GAAGxB,IAAE,WAAW,YAAY,MAAM,GAAGE,GAAE,CAACsB,GAAE,CAAC,GAAGxB,IAAE,WAAW,YAAY,MAAM,GAAGE,GAAE,CAACsB,GAAE,CAAC,GAAGxB,IAAE,WAAW,iBAAiB,MAAM,GAAGE,GAAE,CAACsB,GAAE,CAAC,GAAGxB,IAAE,WAAW,kBAAkB,MAAM,GAAGE,GAAE,CAACsB,GAAE;AAAA,EAC1L,eAAe;AACjB,CAAC,CAAC,GAAGxB,IAAE,WAAW,cAAc,MAAM,GAAGA,MAAIE,GAAE,CAACS,GAAE,kEAAkE,CAAC,GAAGX,GAAC;;;ACzGzH,IAAMyB,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBC,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,GAAGC,EAAC;AAAA,EAChD;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,YAAYC;AAAA,IACd,CAAC;AAAA,EACH;AACF;AACAL,IAAE,SAAS,IAAIM,IAAEC,IAAG,MAAM,OAAO,iCAAoC,CAAC;;;ACVtE,IAAMC,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBA,KAAG;AACnB,WAAO,IAAIA,IAAEA,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,GAAGC,EAAC;AAAA,EAChD;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,YAAYC;AAAA,IACd,CAAC;AAAA,EACH;AACF;AACAJ,IAAE,SAAS,IAAIK,IAAEC,KAAG,MAAM,OAAO,yBAA4B,CAAC;;;ACV9D,IAAMC,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBC,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,GAAGC,EAAC;AAAA,EAChD;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,YAAYC;AAAA,IACd,CAAC;AAAA,EACH;AACF;AACAL,IAAE,SAAS,IAAIM,IAAEC,KAAG,MAAM,OAAO,+BAAkC,CAAC;;;ACfpE,IAAMC,MAAN,cAAgBC,IAAE;AAAC;;;ACmBnB,IAAIC,MAAI,cAAcC,IAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,WAAW,YAAY,KAAK,WAAW;AAAA,MACpD,UAAU,CAAC,YAAY,iBAAiB;AAAA,IAC1C,GAAG,KAAK,eAAe,MAAM,KAAK,iBAAiB,MAAM,KAAK,kBAAkB,IAAIC,IAAE,GAAG,KAAK,iBAAiBD,IAAE,WAAW,QAAQE,GAAC,GAAG,KAAK,kBAAkBF,IAAE,WAAW,QAAQG,GAAC,GAAG,KAAK,iBAAiBH,IAAE,WAAW,QAAQG,GAAC;AAAA,EACtO;AAAA,EACA,aAAa;AACX,SAAK,WAAW,CAACC,GAAE,MAAM,KAAK,UAAU,GAAG,CAAAJ,QAAKA,MAAI,KAAK,OAAO,IAAI,KAAK,QAAQ,GAAGK,EAAC,CAAC,CAAC;AAAA,EACzF;AAAA,EACM,SAAS;AAAA;AACb,UAAI,KAAK,WAAW,YAAY,KAAK,oBAAoB,KAAK,gBAAgB,KAAK,eAAgB;AACnG,WAAK,mBAAmB,IAAI,gBAAgB;AAC5C,YAAML,MAAI,KAAK,iBAAiB;AAChC,UAAI;AACF,cAAMM,MAAI,MAAM,OAAO,wBAAe;AACtC,cAAM,KAAK,cAAcA,KAAGN,GAAC,GAAG,KAAK,cAAcO,GAAE,MAAM;AAAA,MAC7D,QAAQ;AAAA,MAAC;AACT,WAAK,mBAAmB;AAAA,IAC1B;AAAA;AAAA,EACM,cAAcP,KAAGM,KAAG;AAAA;AACxB,MAAAL,GAAEK,GAAC;AACH,YAAM,CAACL,KAAGO,GAAC,IAAI,MAAM,QAAQ,WAAW,CAACC,IAAET,IAAE,aAAa;AAAA,QACxD,QAAQM;AAAA,MACV,CAAC,GAAGG,IAAET,IAAE,cAAc;AAAA,QACpB,QAAQM;AAAA,MACV,CAAC,CAAC,CAAC;AACH,UAAIL,GAAEK,GAAC,GAAG,gBAAgBL,IAAE,UAAU,gBAAgBO,IAAE,OAAQ;AAChE,YAAME,MAAI,KAAK;AACf,WAAK,eAAeC,IAAED,KAAGE,GAAE,QAAQC,GAAE,KAAKZ,IAAE,KAAK,GAAG,KAAK,iBAAiBU,IAAED,KAAGE,GAAE,SAASC,GAAE,WAAWL,IAAE,KAAK;AAAA,IAChH;AAAA;AAAA,EACA,UAAU;AACR,SAAK,WAAW;AAAA,EAClB;AAAA,EACA,UAAU;AACR,SAAK,iBAAiBF,GAAE,KAAK,cAAc,GAAG,KAAK,eAAeA,GAAE,KAAK,YAAY,GAAG,KAAK,eAAe,QAAQ,GAAG,KAAK,gBAAgB,QAAQ,GAAG,KAAK,eAAe,QAAQ;AAAA,EACrL;AAAA,EACA,OAAON,KAAG;AACR,UAAMM,MAAIN,IAAE,KAAK,CAAC;AAAA,MAChB,MAAMA;AAAA,IACR,MAAM,eAAeA,GAAC;AACtB,QAAI,EAAE,KAAK,eAAe,YAAY,KAAK,gBAAgB,YAAY,KAAK,eAAe,YAAY,KAAK,gBAAgB,KAAK,gBAAiB,QAAO,KAAK,cAAcO,GAAE,MAAM,GAAGD;AACvL,UAAMG,MAAIT,IAAE,KAAK,CAAC;AAAA,MACd,MAAMA;AAAA,IACR,MAAM,sBAAsBA,GAAC,GAC7BC,MAAIQ,IAAE,IAAI,OACVD,MAAIC,IAAE,IAAI,QACVC,MAAI,KAAK;AACX,IAAAA,IAAE,YAAY,GAAG,GAAGT,KAAGO,GAAC;AACxB,UAAML,MAAI,KAAK,SAAS,QAAQF,KAAGO,KAAG,cAAcM,GAAE,EAAE;AACxD,IAAAJ,IAAE,cAAcP,IAAE,KAAK,YAAY,GAAGO,IAAE,gBAAgBP,IAAE,GAAG,GAAGO,IAAE,cAAc,GAAG,GAAG,GAAG,CAAC,GAAGA,IAAE,MAAMK,GAAE,gBAAgB,GAAG,KAAK,gBAAgB,QAAQN,IAAE,WAAW,GAAGC,IAAE,cAAc,KAAK,gBAAgB,MAAM,KAAK,eAAe,GAAGA,IAAE,OAAO,KAAK;AACvP,UAAMM,MAAI,KAAK,SAAS,QAAQf,KAAGO,KAAG,YAAY;AAClD,WAAOE,IAAE,cAAcM,IAAE,KAAK,YAAY,GAAGN,IAAE,gBAAgBM,IAAE,GAAG,GAAGN,IAAE,cAAc,GAAG,GAAG,GAAG,CAAC,GAAGA,IAAE,MAAMK,GAAE,gBAAgB,GAAG,KAAK,gBAAgB,eAAeZ,IAAE,WAAW,GAAG,KAAK,gBAAgB,cAAc,KAAK,cAAc,KAAK,gBAAgB,gBAAgB,KAAK,gBAAgBO,IAAE,cAAc,KAAK,iBAAiB,MAAM,KAAK,eAAe,GAAGA,IAAE,OAAO,KAAK,GAAGP,IAAE,QAAQ,GAAGO,IAAE,gBAAgBJ,IAAE,GAAG,GAAGI,IAAE,cAAc,GAAG,GAAG,GAAG,CAAC,GAAGA,IAAE,MAAMK,GAAE,gBAAgB,GAAG,KAAK,gBAAgB,eAAeC,IAAE,WAAW,GAAGN,IAAE,cAAc,KAAK,gBAAgB,MAAM,KAAK,eAAe,GAAGA,IAAE,OAAO,KAAK,GAAGM,IAAE,QAAQ,GAAGV;AAAA,EAChnB;AACF;AACA,SAASK,IAAEX,KAAGM,KAAGG,KAAGR,KAAG;AACrB,QAAMO,MAAI,IAAIR,IAAE;AAChB,SAAOQ,IAAE,cAAcC,KAAGD,IAAE,WAAWS,GAAE,eAAeT,IAAE,QAAQP,IAAE,OAAOO,IAAE,SAASP,IAAE,QAAQO,IAAE,eAAeF,KAAG,IAAIP,GAAEC,KAAGQ,KAAGP,GAAC;AACnI;AACAD,GAAE,CAACkB,GAAE,CAAC,GAAGpB,IAAE,WAAW,YAAY,MAAM,GAAGE,GAAE,CAACkB,GAAE,CAAC,GAAGpB,IAAE,WAAW,YAAY,MAAM,GAAGE,GAAE,CAACkB,GAAE;AAAA,EACzF,eAAe;AACjB,CAAC,CAAC,GAAGpB,IAAE,WAAW,aAAa,MAAM,GAAGE,GAAE,CAACkB,GAAE;AAAA,EAC3C,eAAe;AACjB,CAAC,CAAC,GAAGpB,IAAE,WAAW,cAAc,MAAM,GAAGE,GAAE,CAACkB,GAAE,CAAC,GAAGpB,IAAE,WAAW,oBAAoB,MAAM,GAAGA,MAAIE,GAAE,CAACG,GAAE,8CAA8C,CAAC,GAAGL,GAAC;;;AChFxJ,IAAIqB;AACJ,CAAC,SAAUC,KAAG;AACZ,EAAAA,IAAEA,IAAE,OAAO,CAAC,IAAI,QAAQA,IAAEA,IAAE,QAAQ,CAAC,IAAI,SAASA,IAAEA,IAAE,qBAAqB,CAAC,IAAI,sBAAsBA,IAAEA,IAAE,QAAQ,CAAC,IAAI;AACzH,EAAED,QAAMA,MAAI,CAAC,EAAE;AACf,IAAME,MAAN,cAAgBD,IAAE;AAAA,EAChB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,YAAYD,IAAE,MAAM,KAAK,mBAAmB,OAAI,KAAK,cAAc;AAAA,EAC/F;AACF;AACAG,GAAE,CAACC,IAAE;AAAA,EACH,OAAOJ,IAAE;AACX,CAAC,CAAC,GAAGE,IAAE,WAAW,aAAa,MAAM,GAAGC,GAAE,CAACC,IAAE,CAAC,GAAGF,IAAE,WAAW,oBAAoB,MAAM,GAAGC,GAAE,CAACC,IAAE,CAAC,GAAGF,IAAE,WAAW,eAAe,MAAM;;;ACLtI,IAAMG,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBC,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAGC,EAAC;AAAA,EAClE;AAAA,EACA,qBAAqB;AACnB,YAAQ,KAAK,cAAc,WAAW;AAAA,MACpC,KAAKC,IAAE;AACL,eAAOC,GAAE;AAAA,UACP,YAAYC;AAAA,QACd,CAAC;AAAA,MACH,KAAKF,IAAE;AACL,eAAOC,GAAE;AAAA,UACP,UAAUE,IAAEC,GAAE,WAAWA,GAAE,KAAKA,GAAE,qBAAqBA,GAAE,mBAAmB;AAAA,UAC5E,YAAYF;AAAA,QACd,CAAC;AAAA,MACH,KAAKF,IAAE;AAAA,MACP,KAAKA,IAAE;AACL,eAAOC,GAAE;AAAA,UACP,UAAUI,IAAED,GAAE,KAAKA,GAAE,mBAAmB;AAAA,UACxC,YAAYF;AAAA,QACd,CAAC;AAAA,IACL;AAAA,EACF;AACF;AACAN,IAAE,SAAS,IAAIU,IAAEC,KAAG,MAAM,OAAO,gCAAuB,CAAC;;;AC1BzD,IAAMC,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBC,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,GAAGC,EAAC;AAAA,EAChD;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,YAAY;AAAA,QACV,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,MACL;AAAA,IACF,CAAC;AAAA,EACH;AACF;AACAJ,IAAE,SAAS,IAAIK,IAAEC,KAAG,MAAM,OAAO,mCAA0B,CAAC;;;ACd5D,IAAMC,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,kBAAkBC,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,GAAGC,EAAC;AAAA,EAChD;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,UAAUC,IAAEC,GAAE,WAAWA,GAAE,KAAKA,GAAE,qBAAqBA,GAAE,mBAAmB;AAAA,MAC5E,YAAYC;AAAA,IACd,CAAC;AAAA,EACH;AACF;AACAP,IAAE,SAAS,IAAIQ,IAAEC,KAAG,MAAM,OAAO,mCAA0B,CAAC;;;ACX5D,IAAMC,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAGC,KAAG;AAChB,SAAK,QAAQD,KAAG,KAAK,cAAcC,KAAG,KAAK,iBAAiB,IAAIC,IAAE,GAAG,KAAK,kBAAkB,IAAIC,IAAE,GAAG,KAAK,iBAAiB,IAAIH,IAAE,GAAG,KAAK,iBAAiB,IAAII,IAAE;AAAA,EAClK;AAAA,EACA,aAAaA,KAAGJ,KAAGK,KAAGJ,KAAG;AACvB,SAAK,eAAe,eAAeD,KAAG,KAAK,eAAe,eAAeK,KAAG,KAAK,eAAe,mBAAmBJ;AACnH,UAAMK,MAAI,KAAK,YAAY,QAAQC,GAAC;AACpC,SAAK,MAAM,cAAcD,KAAGF,KAAG,KAAK,cAAc,GAAG,KAAK,MAAM,OAAO,KAAK,GAAGE,IAAE,QAAQ;AAAA,EAC3F;AAAA,EACA,aAAaF,KAAGJ,KAAG;AACjB,SAAK,eAAe,UAAUA;AAC9B,UAAMK,MAAI,KAAK,YAAY,QAAQE,GAAC;AACpC,SAAK,MAAM,cAAcF,KAAGD,KAAG,KAAK,cAAc,GAAG,KAAK,MAAM,OAAO,KAAK,GAAGC,IAAE,QAAQ;AAAA,EAC3F;AAAA,EACA,UAAUD,KAAGC,KAAGC,MAAID,IAAE,MAAMG,MAAI,GAAG;AACjC,SAAK,eAAe,YAAYF,KAAG,KAAK,eAAe,mBAAmB,MAAME,KAAG,KAAK,gBAAgB,UAAUH,KAAG,KAAK,gBAAgB,UAAUG;AACpJ,UAAMD,MAAI,KAAK,YAAY,QAAQL,KAAG,KAAK,cAAc;AACzD,SAAK,MAAM,cAAcK,KAAGH,KAAG,KAAK,eAAe,GAAG,KAAK,MAAM,OAAO,KAAK,GAAGG,IAAE,QAAQ;AAAA,EAC5F;AAAA,EACA,uBAAuBH,KAAGJ,KAAG;AAC3B,SAAK,eAAe,cAAc,MAAI,KAAK,UAAUI,KAAGJ,GAAC,GAAG,KAAK,eAAe,cAAc;AAAA,EAChG;AACF;;;AChBA,IAAMS,MAAI;AAAV,IACEC,MAAI;AADN,IAEEC,MAAI;AAFN,IAGEC,MAAI;AAHN,IAIEC,MAAI;AACN,SAASC,IAAEC,KAAGC,KAAGC,KAAG;AAClB,SAAOD,GAAEA,KAAGD,GAAC,KAAKE,IAAE,CAAC,IAAIA,IAAE,CAAC,KAAKA,IAAE,CAAC;AACtC;AACA,SAASC,IAAEC,KAAGJ,KAAGC,KAAG;AAClB,MAAIC,MAAI;AACR,MAAI,CAACF,IAAE,KAAK,CAAAI,QAAK,CAAC,CAACA,IAAE,sBAAsBF,OAAKE,IAAE,eAAeF,OAAKR,IAAE,EAAG,QAAOW,IAAE,QAAQD,KAAGJ,GAAC;AAChG,QAAMM,MAAIC,IAAE;AACZ,SAAON,IAAE,OAAO,CAAAD,QAAKI,IAAEE,KAAGE,IAAEJ,KAAGJ,GAAC,CAAC,CAAC,GAAGM;AACvC;AACA,SAASE,IAAEJ,KAAGJ,KAAG;AACf,MAAI,CAACA,IAAE,QAAS;AAChB,QAAMC,MAAIM,IAAE,GACVL,MAAIF,IAAE,2BAA2B;AACnC,SAAOE,MAAIO,IAAER,KAAGG,KAAGF,GAAC,IAAIQ,IAAET,KAAGG,KAAGJ,IAAE,OAAO,GAAGC;AAC9C;AACA,SAASQ,IAAEL,KAAGJ,KAAGC,KAAG;AAClB,QAAMC,MAAIF,IAAE,KACVM,MAAIN,IAAE,aACNW,MAAIX,IAAE,SACNO,MAAI,CAAAH,QAAKA,IAAE,SACXQ,MAAIX,IAAE;AACR,MAAIW,MAAIhB,IAAG,CAAAI,IAAEa,KAAGb,IAAE,MAAM,KAAK,IAAII,IAAE,MAAMJ,IAAE,GAAG,CAAC,GAAGC,IAAE,oBAAoBC,KAAGI,KAAGQ,GAAE,WAAW,eAAeD,KAAG,CAACZ,KAAGC,QAAM;AACrH,IAAAa,IAAEX,KAAGJ,KAAGC,GAAC,GAAGY,IAAE,MAAMT,IAAE,MAAMF,IAAE,SAASW,GAAC;AAAA,EAC1C,GAAGF,KAAGJ,GAAC,GAAGP,IAAEa,KAAG,KAAK,IAAIT,IAAE,KAAKJ,IAAE,IAAI,GAAGA,IAAE,GAAG,GAAGC,IAAE,oBAAoBC,KAAGI,KAAGQ,GAAE,WAAW,eAAeD,KAAG,CAACZ,KAAGC,QAAM;AACnH,IAAAa,IAAEX,KAAGJ,KAAGC,GAAC,GAAGY,IAAE,OAAOT,IAAE,KAAKF,IAAE,SAASW,GAAC;AAAA,EAC1C,GAAGF,KAAGJ,GAAC;AAAA,OAAO;AACZ,UAAML,MAAI,KAAK,IAAI,KAAK,IAAIU,KAAGf,GAAC,GAAG,KAAK,KAAKe,MAAId,GAAC,CAAC,GACjDkB,MAAIf,IAAE,YAAYK,KAAGQ,GAAE,WAAW,eAAeH,KAAGJ,KAAGL,GAAC,GACxDe,MAAIhB,IAAE,YAAYK,KAAGQ,GAAE,WAAW,eAAeH,KAAGJ,KAAGL,GAAC;AAC1D,IAAAc,OAAKC,QAAMC,IAAEd,KAAGJ,KAAGgB,IAAE,yBAAyB,MAAM,GAAGE,IAAEd,KAAGJ,KAAGiB,IAAE,yBAAyB,MAAM;AAAA,EAClG;AACF;AACA,SAASP,IAAEN,KAAGJ,KAAGC,KAAG;AAClB,EAAAkB,IAAE,MAAM,GAAGlB,IAAE,OAAO,CAAAG,QAAK;AACvB,IAAAA,IAAE,WAAW,MAAMA,IAAE,WAAW,UAAUe,IAAE,IAAIf,GAAC;AAAA,EACnD,CAAC,GAAGe,IAAE,UAAUA,IAAE,KAAKnB,GAAC,GAAGA,IAAEa,KAAGb,IAAE,MAAM,KAAK,IAAII,IAAE,MAAMJ,IAAE,GAAG,CAAC,GAAGmB,IAAE,oBAAoBN,KAAGC,GAAE,WAAW,eAAe,CAACb,KAAGC,QAAM;AAC/H,IAAAA,MAAIE,IAAE,QAAQW,IAAEX,KAAGJ,KAAGC,GAAC;AAAA,EACzB,CAAC,GAAGD,IAAEa,KAAG,KAAK,IAAIT,IAAE,KAAKJ,IAAE,IAAI,GAAGA,IAAE,GAAG,GAAGmB,IAAE,oBAAoBN,KAAGC,GAAE,WAAW,eAAe,CAACd,KAAGC,KAAGC,QAAM;AAC1G,IAAAE,IAAE,MAAM,KAAK,IAAIA,IAAE,KAAKF,GAAC;AAAA,EAC3B,CAAC;AACH;AACA,SAASa,IAAEX,KAAGJ,KAAGE,KAAG;AAClB,MAAI,CAACA,IAAE,QAAS;AAChB,MAAI,CAACS,IAAEX,IAAE,SAASE,IAAE,yBAAyB,MAAM,EAAG;AACtD,QAAMI,MAAIJ,IAAE,gBACVS,MAAIS;AACN,EAAAlB,IAAE,WAAW,QAAQ,CAAAA,QAAK;AACxB,IAAAmB,GAAEV,KAAGL,KAAGJ,IAAE,cAAc;AACxB,UAAMK,MAAIe,GAAEX,GAAC;AACb,IAAAY,IAAEnB,KAAGJ,KAAGE,IAAE,cAAcS,KAAGJ,GAAC;AAAA,EAC9B,CAAC;AACH;AACA,SAASgB,IAAEnB,KAAGJ,KAAGC,KAAGC,KAAGI,KAAG;AACxB,MAAI,QAAQL,IAAG;AACf,EAAAO,GAAEgB,GAAEA,GAAC,GAAGvB,IAAE,QAAQC,GAAC;AACnB,QAAM;AAAA,IACF,KAAKK;AAAA,IACL,aAAaK;AAAA,EACf,IAAIZ,KACJiB,MAAIL,IAAE,CAAC,KAAKY,IAAE,CAAC,IAAIjB,IAAE,CAAC,KAAKK,IAAE,CAAC,KAAKY,IAAE,CAAC,IAAIjB,IAAE,CAAC,KAAKK,IAAE,CAAC,KAAKY,IAAE,CAAC,IAAIjB,IAAE,CAAC;AACtE,MAAIiB,IAAE,CAAC,IAAIvB,IAAE,SAASK,KAAG,EAAEW,MAAIO,IAAE,CAAC,IAAIpB,IAAE,QAAQa,MAAIO,IAAE,CAAC,IAAIpB,IAAE,QAAQO,IAAEX,IAAE,SAASwB,GAAC,EAAG,KAAIvB,IAAE,SAASN,OAAKM,IAAE,YAAY,EAAG,YAAWU,OAAKV,IAAE,YAAY,EAAG,CAAAsB,IAAEnB,KAAGJ,KAAGW,KAAGT,KAAGI,GAAC;AAAA,MAAO,CAAAmB,IAAE,wBAAwBrB,KAAGJ,IAAE,sBAAsBE,KAAGD,IAAE,OAAOA,IAAE,KAAK;AAC5P;AACA,SAASiB,IAAEd,KAAGJ,KAAGC,KAAG;AAClB,QAAMC,MAAIF,IAAE,KACVM,MAAIN,IAAE,aACNW,OAAKV,IAAE,CAAC,IAAIC,IAAE,CAAC,KAAKI,IAAE,CAAC,KAAKL,IAAE,CAAC,IAAIC,IAAE,CAAC,KAAKI,IAAE,CAAC,KAAKL,IAAE,CAAC,IAAIC,IAAE,CAAC,KAAKI,IAAE,CAAC;AACvE,EAAAF,IAAE,OAAO,KAAK,IAAIA,IAAE,MAAMO,MAAIV,IAAE,CAAC,CAAC,GAAGG,IAAE,MAAM,KAAK,IAAIA,IAAE,KAAKO,MAAIV,IAAE,CAAC,CAAC;AACvE;AACA,IAAMyB,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,SAAS,IAAIC,GAAE;AAAA,MAClB,WAAW,CAAAvB,QAAKA,OAAK;AAAA,QACnB,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,MAAM;AAAA,QACN,KAAK;AAAA,MACP;AAAA,MACA,aAAa,CAAAA,SAAMA,IAAE,SAAS,MAAMA,IAAE,WAAW,GAAGA,IAAE,OAAO,GAAGA,IAAE,MAAM,GAAGA;AAAA,IAC7E,CAAC;AAAA,EACH;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,MAAM,KAAK,OAAO;AAAA,EAC3B;AAAA,EACA,QAAQ;AACN,SAAK,OAAO,MAAM;AAAA,EACpB;AAAA,EACA,IAAIA,KAAG;AACL,SAAK,OAAO,QAAQ,EAAE,SAASA;AAAA,EACjC;AAAA,EACA,KAAKA,KAAG;AACN,UAAMJ,MAAII,IAAE,KACVH,MAAIG,IAAE;AACR,SAAK,OAAO,OAAO,CAAAA,QAAK;AACtB,YAAMF,MAAIE,IAAE,OAAO,yBAAyB,QAC1CE,OAAKJ,IAAE,CAAC,IAAIF,IAAE,CAAC,KAAKC,IAAE,CAAC,KAAKC,IAAE,CAAC,IAAIF,IAAE,CAAC,KAAKC,IAAE,CAAC,KAAKC,IAAE,CAAC,IAAIF,IAAE,CAAC,KAAKC,IAAE,CAAC;AACvE,MAAAG,IAAE,WAAWE,KAAGF,IAAE,OAAOE,MAAIJ,IAAE,CAAC,GAAGE,IAAE,MAAME,MAAIJ,IAAE,CAAC;AAAA,IACpD,CAAC,GAAG,KAAK,OAAO,KAAK,CAACE,KAAGJ,QAAMI,IAAE,WAAWJ,IAAE,QAAQ;AAAA,EACxD;AAAA,EACA,oBAAoBI,KAAGJ,KAAGC,KAAG;AAC3B,QAAID,QAAMc,GAAE,WAAW,cAAe,UAASZ,MAAI,GAAGA,MAAI,KAAK,OAAO,QAAQ,EAAEA,KAAG;AACjF,YAAMF,MAAI,KAAK,OAAO,KAAKE,GAAC;AAC5B,MAAAF,IAAE,MAAMI,IAAE,QAAQJ,IAAE,OAAOI,IAAE,OAAOH,IAAED,IAAE,QAAQA,IAAE,MAAMA,IAAE,GAAG;AAAA,IAC/D;AAAA,QAAO,UAASE,MAAI,KAAK,OAAO,SAAS,GAAGA,OAAK,GAAG,EAAEA,KAAG;AACvD,YAAMF,MAAI,KAAK,OAAO,KAAKE,GAAC;AAC5B,MAAAF,IAAE,MAAMI,IAAE,QAAQJ,IAAE,OAAOI,IAAE,OAAOH,IAAED,IAAE,QAAQA,IAAE,MAAMA,IAAE,GAAG;AAAA,IAC/D;AAAA,EACF;AACF;AACA,IAAM4B,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,QAAQxB,IAAE,GAAG,KAAK,YAAYA,IAAE,GAAG,KAAK,WAAWyB,GAAE,GAAG,KAAK,cAAc,IAAI,MAAM,GAAG,KAAK,QAAQ,CAAC,GAAG,KAAK,OAAO,CAAC,GAAG,KAAK,kBAAkB,CAAC,GAAG,KAAK,iBAAiB,CAAC,GAAG,KAAK,cAAc;AAAA,MACpM,MAAM;AAAA,MACN,KAAK;AAAA,IACP;AAAA,EACF;AAAA,EACA,QAAQzB,KAAGJ,KAAG;AACZ,SAAK,OAAO,GAAGM,GAAE,KAAK,OAAOF,IAAE,UAAU,GAAGiB,GAAE,KAAK,WAAWjB,IAAE,kBAAkB,KAAK,KAAK,GAAG,EAAE,KAAK,UAAUA,IAAE,OAAO;AACzH,UAAME,MAAI,KAAK,OACbK,MAAIL,IAAE,CAAC,GACPC,MAAID,IAAE,CAAC,GACPM,MAAIN,IAAE,EAAE,GACRU,MAAIV,IAAE,EAAE;AACV,IAAAN,IAAE,OAAO,CAAAI,QAAK;AACZ,MAAAA,IAAE,qBAAqBA,IAAE,mBAAmBA,IAAE,gBAAgB,CAAAA,QAAK;AACjE,YAAI,CAACA,IAAE,WAAW,CAACA,IAAE,WAAY;AACjC,cAAMJ,MAAII,IAAE,gBACVH,MAAIU,MAAIX,IAAE,CAAC,IAAIO,MAAIP,IAAE,CAAC,IAAIY,MAAIZ,IAAE,CAAC,IAAIgB,KACrCd,MAAID,MAAID,IAAE,CAAC,GACXM,MAAIL,MAAID,IAAE,CAAC;AACb,aAAK,YAAY,KAAKI,GAAC,GAAG,KAAK,MAAM,KAAK,CAACE,GAAC,GAAG,KAAK,KAAK,KAAK,CAACJ,GAAC;AAAA,MAClE,CAAC;AAAA,IACH,CAAC;AACD,UAAMe,MAAI,IAAIhB,IAAE;AAChB,QAAI,MAAM,KAAK,YAAY,OAAQ,QAAOgB;AAC1C,aAAShB,MAAI,GAAGA,MAAI,KAAK,YAAY,QAAQ,EAAEA,IAAG,MAAK,MAAMA,GAAC,IAAIgB,IAAE,QAAQA,IAAE,MAAM,KAAK,MAAMhB,GAAC,IAAI,KAAK,MAAMA,GAAC,IAAI,KAAK,KAAK,KAAKA,GAAC,IAAIgB,IAAE,SAASA,IAAE,OAAO,KAAK,KAAKhB,GAAC;AACvK,UAAM0B,MAAI,KAAK;AACf,IAAAA,IAAE,OAAO,KAAK,IAAI,MAAKV,IAAE,MAAM,CAAC,GAAGU,IAAE,MAAM,IAAIV,IAAE;AACjD,QAAIa,MAAI,GACNC,MAAI;AACN,aAAS9B,MAAI,GAAGA,MAAI,KAAK,YAAY,QAAQ,EAAEA,IAAG,MAAK,MAAMA,GAAC,IAAIgB,IAAE,SAAS,KAAK,MAAMhB,GAAC,KAAK0B,IAAE,OAAOV,IAAE,OAAO,KAAK,MAAMhB,GAAC,IAAI,KAAK,gBAAgB6B,KAAG,IAAI7B,MAAI,KAAK,KAAKA,GAAC,IAAIgB,IAAE,QAAQ,KAAK,KAAKhB,GAAC,KAAK0B,IAAE,MAAMV,IAAE,MAAM,KAAK,KAAKhB,GAAC,IAAI,KAAK,eAAe8B,KAAG,IAAI9B;AACnQ,QAAI,MAAM,KAAK,gBAAgB,UAAU,MAAM,KAAK,eAAe,OAAQ,QAAOgB;AAClF,SAAK,gBAAgB,KAAK,CAACb,KAAGJ,QAAM,KAAK,MAAMI,GAAC,IAAI,KAAK,MAAMJ,GAAC,IAAI,KAAK,KAAK,MAAMI,GAAC,IAAI,KAAK,MAAMJ,GAAC,IAAI,IAAI,CAAC,GAAG,KAAK,eAAe,KAAK,CAACI,KAAGJ,QAAM,KAAK,KAAKI,GAAC,IAAI,KAAK,KAAKJ,GAAC,IAAI,IAAI,KAAK,KAAKI,GAAC,IAAI,KAAK,KAAKJ,GAAC,IAAI,KAAK,CAAC;AAC1N,aAASC,MAAI,GAAGA,MAAI,KAAK,gBAAgB,QAAQ,EAAEA,KAAG;AACpD,YAAMG,MAAI,KAAK,gBAAgBH,GAAC;AAChC,UAAI,KAAK,MAAMG,GAAC,IAAIa,IAAE,MAAM;AAC1B,cAAMjB,MAAI,KAAK,YAAYI,GAAC,GAC1BH,MAAID,IAAE;AACR,aAAK,4BAA4BC,KAAGD,IAAE,sBAAsBiB,GAAC;AAAA,MAC/D;AAAA,IACF;AACA,aAAShB,MAAI,GAAGA,MAAI,KAAK,eAAe,QAAQ,EAAEA,KAAG;AACnD,YAAMG,MAAI,KAAK,eAAeH,GAAC;AAC/B,UAAI,KAAK,KAAKG,GAAC,IAAIa,IAAE,KAAK;AACxB,cAAMjB,MAAI,KAAK,YAAYI,GAAC,GAC1BH,MAAID,IAAE;AACR,aAAK,2BAA2BC,KAAGD,IAAE,sBAAsBiB,GAAC;AAAA,MAC9D;AAAA,IACF;AACA,WAAO,KAAK,OAAO,GAAGA;AAAA,EACxB;AAAA,EACA,SAAS;AACP,SAAK,YAAY,SAAS,GAAG,KAAK,MAAM,SAAS,GAAG,KAAK,KAAK,SAAS,GAAG,KAAK,gBAAgB,SAAS,GAAG,KAAK,eAAe,SAAS;AAAA,EAC1I;AAAA,EACA,4BAA4Bb,KAAGJ,KAAGC,KAAG;AACnC,QAAI,QAAQG,IAAG;AACf,UAAMF,MAAIE,IAAE;AACZ,IAAAI,GAAEgB,GAAEA,GAAC,GAAGtB,KAAGF,GAAC;AACZ,UAAMM,MAAIgB,GAAEtB,GAAC,GACXO,MAAIiB,IAAE,CAAC,GACPZ,MAAIY,IAAE,CAAC,GACPR,MAAIQ,IAAE,CAAC,GACPP,MAAIb,IAAE,SAASE,KACfe,MAAI,KAAK;AACX,QAAIA,IAAE,CAAC,EAAE,CAAC,IAAId,MAAIc,IAAE,CAAC,EAAE,CAAC,IAAIT,MAAIS,IAAE,CAAC,EAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,EAAE,CAAC,IAAIJ,OAAKI,IAAE,CAAC,EAAE,CAAC,IAAId,MAAIc,IAAE,CAAC,EAAE,CAAC,IAAIT,MAAIS,IAAE,CAAC,EAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,EAAE,CAAC,IAAIJ,OAAKI,IAAE,CAAC,EAAE,CAAC,IAAId,MAAIc,IAAE,CAAC,EAAE,CAAC,IAAIT,MAAIS,IAAE,CAAC,EAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,EAAE,CAAC,IAAIJ,OAAKI,IAAE,CAAC,EAAE,CAAC,IAAId,MAAIc,IAAE,CAAC,EAAE,CAAC,IAAIT,MAAIS,IAAE,CAAC,EAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,EAAE,CAAC,IAAIJ,IAAG;AACtO,UAAMa,MAAI,KAAK,MAAM,CAAC,IAAIvB,MAAI,KAAK,MAAM,CAAC,IAAIK,MAAI,KAAK,MAAM,EAAE,IAAII,MAAI,KAAK,MAAM,EAAE,GAClFgB,MAAIF,MAAIb;AACV,QAAI,EAAE,EAAEa,MAAIb,OAAK,KAAK,CAACe,OAAK/B,IAAE,MAAO,KAAI,CAAC+B,MAAI,KAAK,YAAY,KAAM,CAAA/B,IAAE,OAAO,CAAC+B;AAAA,SAAO;AACpF,UAAIf,MAAItB,KAAG;AACT,cAAMO,MAAIE,IAAE,YAAY;AACxB,YAAI,WAAWF,KAAG;AAChB,qBAAWE,OAAKF,IAAG,MAAK,4BAA4BE,KAAGJ,KAAGC,GAAC;AAC3D;AAAA,QACF;AAAA,MACF;AACA,MAAAwB,IAAE,wBAAwBxB,KAAG,KAAK,WAAWD,KAAGI,IAAE,OAAOA,IAAE,KAAK;AAAA,IAClE;AAAA,EACF;AAAA,EACA,2BAA2BA,KAAGJ,KAAGC,KAAG;AAClC,QAAI,QAAQG,IAAG;AACf,QAAIF,MAAIE,IAAE;AACV,UAAME,MAAIF,IAAE;AACZ,IAAAI,GAAEgB,GAAEA,GAAC,GAAGlB,KAAGN,GAAC;AACZ,UAAMO,MAAIe,GAAEtB,GAAC,GACXY,MAAIY,IAAE,CAAC,GACPR,MAAIQ,IAAE,CAAC,GACPP,MAAIO,IAAE,CAAC;AACT,IAAAtB,OAAKK;AACL,UAAMc,MAAI,KAAK;AACf,QAAIA,IAAE,CAAC,EAAE,CAAC,IAAIT,MAAIS,IAAE,CAAC,EAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,EAAE,CAAC,IAAIJ,MAAII,IAAE,CAAC,EAAE,CAAC,IAAInB,OAAKmB,IAAE,CAAC,EAAE,CAAC,IAAIT,MAAIS,IAAE,CAAC,EAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,EAAE,CAAC,IAAIJ,MAAII,IAAE,CAAC,EAAE,CAAC,IAAInB,OAAKmB,IAAE,CAAC,EAAE,CAAC,IAAIT,MAAIS,IAAE,CAAC,EAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,EAAE,CAAC,IAAIJ,MAAII,IAAE,CAAC,EAAE,CAAC,IAAInB,OAAKmB,IAAE,CAAC,EAAE,CAAC,IAAIT,MAAIS,IAAE,CAAC,EAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,EAAE,CAAC,IAAIJ,MAAII,IAAE,CAAC,EAAE,CAAC,IAAInB,IAAG;AACtO,UAAM4B,MAAI,KAAK,MAAM,CAAC,IAAIlB,MAAI,KAAK,MAAM,CAAC,IAAII,MAAI,KAAK,MAAM,EAAE,IAAIC,MAAI,KAAK,MAAM,EAAE,IAAIf;AACxF,QAAI,EAAE,CAAC4B,OAAK7B,IAAE,KAAM,KAAI,CAAC6B,MAAI,KAAK,YAAY,IAAK,CAAA7B,IAAE,MAAM,CAAC6B;AAAA,SAAO;AACjE,UAAI5B,MAAIP,KAAG;AACT,cAAMO,MAAIE,IAAE,YAAY;AACxB,YAAI,WAAWF,KAAG;AAChB,qBAAWE,OAAKF,IAAG,MAAK,2BAA2BE,KAAGJ,KAAGC,GAAC;AAC1D;AAAA,QACF;AAAA,MACF;AACA,MAAAwB,IAAE,wBAAwBxB,KAAG,KAAK,WAAWD,KAAGI,IAAE,OAAOA,IAAE,KAAK;AAAA,IAClE;AAAA,EACF;AACF;AACA,IAAM6B,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,iBAAiB7B,IAAE,GAAG,KAAK,gBAAgB,CAACE,IAAE,GAAGA,IAAE,GAAGA,IAAE,GAAGA,IAAE,GAAGA,IAAE,GAAGA,IAAE,GAAGA,IAAE,GAAGA,IAAE,CAAC;AAAA,EACzF;AAAA,EACA,wBAAwBF,KAAGJ,KAAGE,KAAGI,KAAGK,KAAG;AACrC,UAAMJ,MAAI,KAAK;AACf,IAAAc,GAAEd,KAAGP,KAAGE,GAAC;AACT,QAAIU,MAAI;AACR,aAASX,MAAI,GAAGA,MAAI,GAAG,EAAEA,KAAG;AAC1B,YAAMG,MAAI,KAAK,cAAcH,GAAC,GAC5BD,MAAI,MAAMC,OAAK,MAAMA,OAAK,MAAMA,OAAK,MAAMA,MAAIK,IAAE,CAAC,IAAIK,IAAE,CAAC,GACzDT,MAAI,MAAMD,OAAK,MAAMA,OAAK,MAAMA,OAAK,MAAMA,MAAIK,IAAE,CAAC,IAAIK,IAAE,CAAC,GACzDC,MAAIX,MAAI,IAAIK,IAAE,CAAC,IAAIK,IAAE,CAAC;AACxB,MAAAP,IAAE,CAAC,IAAIG,IAAE,CAAC,IAAIP,MAAIO,IAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,IAAIK,MAAIL,IAAE,EAAE,GAAGH,IAAE,CAAC,IAAIG,IAAE,CAAC,IAAIP,MAAIO,IAAE,CAAC,IAAIL,MAAIK,IAAE,CAAC,IAAIK,MAAIL,IAAE,EAAE,GAAGH,IAAE,CAAC,IAAIG,IAAE,CAAC,IAAIP,MAAIO,IAAE,CAAC,IAAIL,MAAIK,IAAE,EAAE,IAAIK,MAAIL,IAAE,EAAE,GAAGH,IAAE,CAAC,IAAIG,IAAE,CAAC,IAAIP,MAAIO,IAAE,CAAC,IAAIL,MAAIK,IAAE,EAAE,IAAIK,MAAIL,IAAE,EAAE;AAAA,IAC7L;AACA,aAASN,MAAI,GAAGA,MAAI,IAAI,EAAEA,KAAG;AAC3B,YAAMD,MAAIkC,IAAE,KAAK,cAAcC,IAAElC,GAAC,EAAE,CAAC,CAAC,GAAG,KAAK,cAAckC,IAAElC,GAAC,EAAE,CAAC,CAAC,GAAG,KAAK,cAAckC,IAAElC,GAAC,EAAE,CAAC,CAAC,CAAC;AACjG,UAAIC,MAAI;AACR,eAASE,MAAI,GAAGA,MAAIJ,IAAE,QAAQ,EAAEI,KAAG;AACjC,YAAIJ,IAAEI,GAAC,EAAE,CAAC,KAAK,GAAG;AAChB,UAAAF,MAAI;AACJ;AAAA,QACF;AAAA,MACF;AACA,UAAI,CAACA,KAAG;AACN,QAAAU,MAAI;AACJ,iBAASX,MAAI,GAAGA,MAAID,IAAE,QAAQ,EAAEC,KAAG;AACjC,gBAAMC,MAAIF,IAAEC,GAAC,EAAE,CAAC;AAChB,iBAAO,SAASC,GAAC,MAAME,IAAE,OAAO,KAAK,IAAIF,KAAGE,IAAE,IAAI,GAAGA,IAAE,MAAM,KAAK,IAAIF,KAAGE,IAAE,GAAG;AAAA,QAChF;AAAA,MACF;AAAA,IACF;AACA,WAAOQ;AAAA,EACT;AACF;AACA,SAASsB,IAAE9B,KAAGJ,KAAGC,KAAG;AAClB,MAAIC,MAAI,CAACE,KAAGJ,KAAGC,GAAC;AAChB,WAASK,MAAI,GAAGA,MAAI,GAAG,EAAEA,KAAG;AAC1B,UAAMF,MAAIF;AACV,IAAAA,MAAI,CAAC;AACL,aAASF,MAAI,GAAGA,MAAII,IAAE,QAAQ,EAAEJ,KAAG;AACjC,YAAMC,MAAIG,IAAEJ,GAAC,GACXW,MAAIP,KAAGJ,MAAI,KAAKI,IAAE,MAAM;AAC1B,MAAAgC,IAAEzB,KAAGL,GAAC,KAAK8B,IAAEnC,KAAGK,GAAC,KAAKJ,IAAE,KAAKmC,IAAEpC,KAAGU,KAAGL,GAAC,CAAC,GAAGJ,IAAE,KAAKS,GAAC,KAAKyB,IAAEnC,KAAGK,GAAC,KAAKJ,IAAE,KAAKmC,IAAEpC,KAAGU,KAAGL,GAAC,CAAC;AAAA,IACrF;AAAA,EACF;AACA,SAAOJ;AACT;AACA,SAASkC,IAAEhC,KAAGJ,KAAG;AACf,SAAO,MAAMA,MAAII,IAAE,CAAC,KAAK,CAACA,IAAE,CAAC,IAAI,MAAMJ,MAAII,IAAE,CAAC,KAAK,CAACA,IAAE,CAAC,IAAI,MAAMJ,MAAII,IAAE,CAAC,KAAKA,IAAE,CAAC,IAAI,MAAMJ,MAAII,IAAE,CAAC,KAAKA,IAAE,CAAC,IAAI,KAAKO,IAAE,KAAE;AACxH;AACA,SAAS0B,IAAEjC,KAAGJ,KAAGC,KAAG;AAClB,MAAIC,MAAI;AACR,SAAO,MAAMD,MAAIC,OAAK,CAACE,IAAE,CAAC,IAAIA,IAAE,CAAC,MAAMJ,IAAE,CAAC,IAAII,IAAE,CAAC,IAAIJ,IAAE,CAAC,IAAII,IAAE,CAAC,KAAK,MAAMH,MAAIC,OAAK,CAACE,IAAE,CAAC,IAAIA,IAAE,CAAC,MAAMJ,IAAE,CAAC,IAAII,IAAE,CAAC,IAAIJ,IAAE,CAAC,IAAII,IAAE,CAAC,KAAK,MAAMH,MAAIC,OAAKE,IAAE,CAAC,IAAIA,IAAE,CAAC,MAAMJ,IAAE,CAAC,IAAII,IAAE,CAAC,IAAIJ,IAAE,CAAC,IAAII,IAAE,CAAC,KAAK,MAAMH,QAAMC,OAAKE,IAAE,CAAC,IAAIA,IAAE,CAAC,MAAMJ,IAAE,CAAC,IAAII,IAAE,CAAC,IAAIJ,IAAE,CAAC,IAAII,IAAE,CAAC,KAAK2B,GAAEzB,IAAE,GAAGF,KAAGJ,KAAGE,GAAC;AAC3Q;AACA,IAAMiC,MAAI,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;AAA7I,IACEX,MAAIO,GAAE;AADR,IAEEX,MAAIhB,IAAE;AAFR,IAGES,MAAIN,IAAE;AAHR,IAIEY,MAAI,IAAIO,IAAE;AAJZ,IAKErB,MAAI,IAAIuB,IAAE;AALZ,IAMEH,MAAI,IAAIQ,IAAE;;;ACnSZ,IAAMK,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,gBAAgB,+DAA+D,KAAK,YAAY,IAAIC,GAAE,IAAI,YAAY,CAAC,CAAC,GAAG,KAAK,qBAAqB,IAAIC,IAAE,GAAG,KAAK,cAAc,oBAAI,IAAI,GAAG,KAAK,mCAAmC,IAAIA,IAAE,GAAG,KAAK,gBAAgB,oBAAI,IAAI,GAAG,KAAK,0BAA0B,oBAAI,IAAI;AAAA,EAC3T;AAAA,EACA,yBAAyBC,KAAGC,KAAGF,KAAGF,KAAGK,KAAGC,MAAI,MAAMC,MAAI,MAAMC,MAAI,MAAM;AACpE,IAAAL,OAAKC,OAAKF,OAAKF,QAAM,KAAK,cAAc,IAAIA,KAAGE,GAAC,GAAG,KAAK,wBAAwB,IAAIF,KAAGK,GAAC,GAAGA,OAAK,KAAK,iCAAiC,IAAIL,KAAGI,KAAG;AAAA,MAC9I,UAAUD;AAAA,MACV,iBAAiBG;AAAA,MACjB,gBAAgBC;AAAA,MAChB,YAAYC;AAAA,IACd,CAAC;AAAA,EACH;AAAA,EACA,yBAAyBL,KAAG;AAC1B,UAAMD,MAAI,KAAK,8BAA8BC,GAAC;AAC9C,WAAOC,GAAEF,IAAE,IAAI,GAAG,CAAC,GAAGA,IAAE,IAAI,GAAG,CAAC,GAAGA,IAAE,IAAI,GAAG,CAAC,GAAG,GAAG;AAAA,EACrD;AAAA,EACA,8BAA8BC,KAAG;AAC/B,QAAI,CAACA,IAAE,YAAY,CAACA,IAAE,WAAY,QAAO,KAAK;AAC9C,UAAMC,MAAI,KAAK,wBAAwB,IAAID,IAAE,QAAQ;AACrD,QAAI,WAAWC,IAAG,QAAO,KAAK;AAC9B,QAAI,UAAOA,IAAG,QAAO,KAAK;AAC1B,UAAMJ,MAAI,KAAK,iCAAiC,IAAIG,IAAE,UAAUA,IAAE,UAAU,GAAG;AAC/E,QAAI,CAACH,IAAG,QAAO,KAAK;AACpB,QAAIK,MAAI,KAAK,mBAAmB,IAAIF,IAAE,UAAUH,GAAC;AACjD,QAAI,CAACK,KAAG;AACN,aAAO,CAACA,OAAI;AACV,cAAMF,MAAI,KAAK,MAAM,WAAW,KAAK,OAAO,CAAC,IAAI;AACjD,aAAK,YAAY,IAAIA,GAAC,MAAME,MAAIF;AAAA,MAClC;AACA,UAAIE,MAAI,SAAU,OAAM,IAAI,MAAM,oBAAoB;AACtD,WAAK,mBAAmB,IAAIF,IAAE,UAAUH,KAAGK,GAAC,GAAG,KAAK,YAAY,IAAIA,KAAGF,GAAC;AAAA,IAC1E;AACA,UAAMG,MAAI,IAAI,YAAY,CAAC;AAC3B,QAAI,SAASA,GAAC,EAAE,UAAU,GAAGD,KAAG,KAAE;AAClC,WAAO,IAAIJ,GAAEK,GAAC;AAAA,EAChB;AAAA,EACA,oCAAoC;AAClC,UAAMH,MAAI,oBAAI,IAAI;AAClB,eAAW,CAACC,KAAGF,GAAC,KAAK,KAAK,YAAY,QAAQ,GAAG;AAC/C,YAAMF,MAAI,KAAK,iCAAiC,IAAIE,IAAE,UAAUA,IAAE,UAAU,GAC1EG,MAAI,KAAK,cAAc,IAAIH,IAAE,QAAQ;AACvC,MAAAF,OAAKK,OAAKF,IAAE,IAAIC,KAAGJ,IAAE,kBAAkB;AAAA,QACrC,MAAM;AAAA,QACN,KAAKA,IAAE;AAAA,QACP,KAAKK;AAAA,QACL,QAAQL,IAAE;AAAA,QACV,SAASA,IAAE;AAAA,QACX,YAAYA,IAAE;AAAA,MAChB,IAAI;AAAA,QACF,MAAM;AAAA,QACN,KAAKA,IAAE;AAAA,QACP,KAAKK;AAAA,MACP,CAAC;AAAA,IACH;AACA,WAAOF;AAAA,EACT;AACF;;;ACxDA,IAAIM;AAAJ,IAAOC;AACP,CAAC,SAAUC,KAAG;AACZ,EAAAA,IAAE,SAAS,gBAAgBA,IAAE,cAAc,qBAAqBA,IAAE,YAAY,mBAAmBA,IAAE,QAAQ;AAC7G,EAAEF,QAAMA,MAAI,CAAC,EAAE,GAAG,SAAUE,KAAG;AAC7B,EAAAA,IAAE,eAAe,YAAYA,IAAE,aAAa,mBAAmBA,IAAE,YAAY;AAC/E,EAAED,QAAMA,MAAI,CAAC,EAAE;;;ACRf,IAAME,MAAN,MAAQ;AAAA,EACN,YAAYA,KAAGC,KAAG;AAChB,SAAK,MAAMD,KAAG,KAAK,OAAOC,KAAG,KAAK,cAAc,GAAG,KAAK,YAAY;AAAA,EACtE;AAAA,EACA,OAAOD,MAAI,GAAG;AACZ,SAAK,aAAaA;AAAA,EACpB;AAAA,EACA,UAAU;AACR,WAAO,MAAM,KAAK,aAAa,QAAQ,IAAI,gDAAgD,IAAI,MAAM,EAAE,KAAK,EAAE,GAAG,SAAO,EAAE,KAAK,WAAW,MAAM,KAAK,cAAc,KAAK,KAAK,GAAG;AAAA,EAClL;AACF;AACA,IAAIC;AACJ,CAAC,SAAUD,KAAG;AACZ,EAAAA,IAAEA,IAAE,MAAM,CAAC,IAAI,OAAOA,IAAEA,IAAE,QAAQ,CAAC,IAAI,SAASA,IAAEA,IAAE,QAAQ,CAAC,IAAI;AACnE,EAAEC,QAAMA,MAAI,CAAC,EAAE;;;ACbf,IAAMC,MAAN,cAAgBA,IAAE;AAAA,EAChB,YAAYC,KAAGD,KAAGE,KAAG;AACnB,UAAMD,KAAGC,GAAC,GAAG,KAAK,aAAaF,KAAG,KAAK,OAAO;AAAA,EAChD;AAAA,EACA,UAAU;AACR,SAAK,WAAW,QAAQ;AAAA,EAC1B;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK,WAAW;AAAA,EACzB;AACF;;;ACTA,IAAMG,MAAN,cAAgBC,IAAE;AAAA,EAChB,YAAYC,KAAGF,KAAGG,KAAG;AACnB,UAAMD,KAAGF,KAAGG,GAAC,GAAG,KAAK,aAAaH,KAAG,KAAK,OAAOE,IAAE;AAAA,EACrD;AACF;;;ACJA,IAAME,MAAN,cAAgBC,IAAE;AAAA,EAChB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,OAAOC,IAAE;AAAA,EACrC;AACF;;;ACLA,SAASC,IAAEA,KAAG;AACZ,SAAOA,KAAG,WAAW,SAASA,IAAE;AAClC;;;ACCA,IAAMC,MAAN,cAAgBC,IAAE;AAAA,EAChB,YAAYC,KAAGD,KAAGE,KAAGC,KAAGC,KAAGL,KAAG;AAC5B,UAAME,KAAGF,GAAC,GAAG,KAAK,OAAOE,IAAE,KAAK,KAAK,UAAU,oBAAI,IAAI,GAAG,KAAK,QAAQ,mBAAmB,KAAK,eAAe,MAAM,KAAK,eAAe,MAAM,KAAK,QAAQD,KAAG,KAAK,MAAME,KAAG,KAAK,eAAeC,KAAG,KAAK,eAAeC;AAAA,EACzN;AAAA,EACA,UAAU;AACR,SAAK,KAAK,QAAQ;AAAA,EACpB;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK,KAAK,cAAc;AAAA,EACjC;AAAA,EACA,IAAI,OAAO;AACT,WAAO,KAAK;AAAA,EACd;AAAA,EACA,QAAQH,KAAG;AACT,SAAK,QAAQA;AAAA,EACf;AAAA,EACA,WAAWA,MAAII,GAAE,mBAAmB;AAClC,WAAOJ,QAAMA,KAAI,KAAK,KAAK,sBAAsB,KAAK,KAAK,gBAAgBA,GAAC;AAAA,EAC9E;AAAA,EACA,cAAcA,MAAII,GAAE,mBAAmB;AACrC,WAAOJ,QAAMA,KAAI,KAAK,SAAS,KAAK,QAAQ,IAAIA,GAAC;AAAA,EACnD;AAAA,EACA,YAAYA,KAAG;AACb,WAAOA,KAAG,OAAO,GAAG,KAAK,YAAY,GAAGA,OAAK,KAAK,KAAK,mBAAmBA,IAAE,UAAU,GAAG,KAAK,SAASA,KAAG;AAAA,EAC5G;AAAA,EACA,cAAc;AACZ,SAAK,KAAK,0BAA0B,GAAG,KAAK,KAAK,yBAAyB,GAAG,KAAK,SAASA,GAAE,KAAK,MAAM;AAAA,EAC1G;AAAA,EACA,qBAAqB;AACnB,UAAMA,MAAI,KAAK;AACf,WAAOD,IAAEC,GAAC,KAAK,KAAK,KAAK,0BAA0B,GAAG,KAAK,SAAS,MAAMA,OAAK;AAAA,EACjF;AAAA,EACA,YAAYA,KAAGD,KAAG;AAChB,WAAOC,IAAE,OAAO,GAAG,KAAK,YAAYD,GAAC,GAAG,KAAK,KAAK,mBAAmBC,IAAE,YAAYD,GAAC,GAAG,KAAK,QAAQ,IAAIA,KAAGC,GAAC,GAAG;AAAA,EACjH;AAAA,EACA,YAAYA,KAAG;AACb,SAAK,KAAK,mBAAmBA,GAAC;AAC9B,UAAMD,MAAI,KAAK,QAAQ,IAAIC,GAAC;AAC5B,SAAK,QAAQ,OAAOA,GAAC,GAAGD,KAAG,QAAQ;AAAA,EACrC;AAAA,EACA,YAAY;AACV,SAAK,QAAQ,QAAQ,CAACC,KAAGD,QAAM,KAAK,YAAYA,GAAC,CAAC,GAAG,KAAK,YAAY;AAAA,EACxE;AACF;;;AC7CA,IAAMM,MAAN,MAAQ;AAAA,EACN,YAAYA,KAAGC,KAAG;AAChB,SAAK,QAAQ,IAAIC,GAAE,GAAG,KAAK,eAAe,GAAG,KAAK,SAAS,IAAIC,IAAEH,KAAGC,GAAC;AAAA,EACvE;AAAA,EACA,UAAU;AACR,SAAK,OAAO,OAAO,CAAAG,QAAKA,IAAE,QAAQ,CAAC,GAAG,KAAK,QAAQ,MAAM,KAAK,OAAO,QAAQ;AAAA,EAC/E;AAAA,EACA,IAAI,YAAYA,KAAG;AACjB,IAAAA,OAAK,CAAC,KAAK,QAAQ,KAAK,QAAQ,IAAIF,GAAE,IAAIE,QAAM,KAAK,OAAO,OAAO,CAAAA,QAAKA,IAAE,QAAQ,CAAC,GAAG,KAAK,QAAQ;AAAA,EACrG;AAAA,EACA,QAAQ;AACN,SAAK,OAAO,cAAc,CAAAA,QAAK,EAAEA,IAAE,cAAc,KAAK,kBAAkB,KAAK,OAAO,IAAIA,IAAE,KAAKA,GAAC,GAAG,MAAG;AAAA,EACxG;AAAA,EACA,QAAQ;AACN,MAAE,KAAK;AAAA,EACT;AAAA,EACA,IAAIA,KAAG;AACL,QAAI,KAAK,OAAO;AACd,YAAMC,MAAI,KAAK,MAAM,KAAK,CAAAA,QAAKA,IAAE,QAAQD,GAAC;AAC1C,UAAIC,IAAG,QAAO,KAAK,MAAM,gBAAgBA,GAAC,GAAGA;AAAA,IAC/C;AACA,WAAO,KAAK,OAAO,IAAID,GAAC;AAAA,EAC1B;AAAA,EACA,IAAIA,KAAG;AACL,IAAAA,IAAE,cAAc,KAAK,cAAc,KAAK,QAAQ,KAAK,MAAM,KAAKA,GAAC,IAAI,KAAK,OAAO,IAAIA,IAAE,KAAKA,GAAC;AAAA,EAC/F;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK,OAAO,OAAO,CAACA,KAAGC,QAAMD,MAAIC,IAAE,YAAY,CAAC,KAAK;AAAA,EAC9D;AACF;;;ACnBA,IAAMC,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAG;AACb,SAAK,OAAOA,KAAG,KAAK,YAAY,oBAAI,IAAI,GAAG,KAAK,SAAS,IAAIC,IAAED,IAAE,UAAU,UAAU,GAAG,KAAK,cAAc,IAAIC,IAAED,IAAE,UAAU,sBAAsB,GAAG,KAAK,cAAc,IAAIC,IAAED,IAAE,UAAU,sBAAsB;AAAA,EACnN;AAAA,EACA,UAAU;AACR,SAAK,OAAO,QAAQ,GAAG,KAAK,YAAY,QAAQ,GAAG,KAAK,YAAY,QAAQ;AAAA,EAC9E;AAAA,EACA,QAAQ;AACN,SAAK,OAAO,MAAM,GAAG,KAAK,YAAY,MAAM,GAAG,KAAK,YAAY,MAAM;AAAA,EACxE;AAAA,EACA,aAAa;AACX,SAAK,OAAO,MAAM,GAAG,KAAK,YAAY,MAAM,GAAG,KAAK,YAAY,MAAM,GAAG,KAAK,iBAAiB,KAAK,cAAc;AAAA,EACpH;AAAA,EACA,WAAW;AACT,UAAMA,MAAI,KAAK;AACf,IAAAA,OAAK,KAAK,UAAU,QAAQ,CAAAE,QAAKA,IAAE,SAASA,IAAE,OAAOF,IAAEE,IAAE,MAAMA,IAAE,GAAG,CAAC;AAAA,EACvE;AAAA,EACA,IAAI,aAAa;AACf,WAAO,MAAM,KAAK,KAAK,UAAU,OAAO,CAAC,EAAE,OAAO,CAACF,KAAGE,QAAMF,OAAK,gBAAgBE,MAAIA,IAAE,WAAW,GAAG,cAAc,IAAIA,IAAE,aAAa,KAAK,OAAO,aAAa,KAAK,YAAY,aAAa,KAAK,YAAY,UAAU;AAAA,EAC1N;AAAA,EACA,IAAI,YAAYF,KAAG;AACjB,SAAK,OAAO,cAAc,KAAK,YAAY,cAAc,KAAK,YAAY,cAAcA;AAAA,EAC1F;AAAA,EACA,QAAQG,KAAGC,KAAGC,KAAGJ,MAAIK,GAAE,MAAM;AAC3B,UAAMC,MAAIC,IAAEP,KAAGE,KAAGC,GAAC;AACnB,QAAIK,MAAI,KAAK,OAAO,IAAIF,GAAC;AACzB,QAAIE,KAAG;AACL,MAAAA,IAAE,OAAO,GAAGA,IAAE,QAAQJ,GAAC;AACvB,YAAML,MAAI,KAAK,KAAK,0BAA0B;AAC9C,WAAK,KAAK,gBAAgBS,IAAE,GAAG,GAAG,KAAK,KAAK,eAAe,CAACC,GAAE,iBAAiB,CAAC,GAAG,KAAK,KAAK,gBAAgBV,GAAC;AAAA,IAChH,MAAO,CAAAS,MAAI,IAAIR,IAAEM,KAAGF,KAAG,IAAIM,IAAE,KAAK,MAAM,iCACnCC,IAAEX,GAAC,IADgC;AAAA,MAEtC,OAAOE;AAAA,MACP,QAAQC;AAAA,IACV,EAAC,GAAG,CAAAJ,QAAK;AACP,MAAAA,QAAMW,IAAE;AACR,YAAMR,MAAI,KAAK,cAAcH,KAAGS,IAAE,IAAI,OAAOA,IAAE,IAAI,QAAQ,GAAGA,IAAE,IAAI,QAAQ;AAC5E,aAAOA,IAAE,YAAYN,GAAC,GAAGA,IAAE,QAAQ,GAAGM;AAAA,IACxC,GAAG,CAACP,KAAGW,QAAM;AACX,MAAAA,QAAMP,GAAE;AACR,YAAMD,MAAI,KAAK,cAAcQ,KAAGV,KAAGC,KAAG,GAAGK,IAAE,IAAI,UAAUP,GAAC,EAAE;AAC5D,aAAOO,IAAE,YAAYJ,KAAGH,GAAC,GAAGG,IAAE,QAAQ,GAAGI;AAAA,IAC3C,GAAG,MAAM;AACP,WAAK,iBAAiB,KAAK,cAAcA,IAAE,MAAMA,IAAE,GAAG,GAAG,KAAK,UAAU,OAAOA,GAAC,GAAGA,IAAE,UAAU,GAAG,KAAK,OAAO,IAAIA,GAAC;AAAA,IACrH,CAAC;AACD,WAAO,KAAK,aAAaA,GAAC;AAAA,EAC5B;AAAA,EACA,aAAaT,KAAGE,KAAGC,KAAGC,KAAG;AACvB,WAAO,KAAK,cAAcJ,KAAGE,KAAGC,KAAGC,GAAC;AAAA,EACtC;AAAA,EACA,cAAcJ,KAAGG,KAAGU,KAAGR,KAAG;AACxB,UAAMJ,MAAIO,IAAER,KAAGG,KAAGU,GAAC,GACjBN,MAAI,KAAK,YAAY,IAAIN,GAAC;AAC5B,QAAIM,IAAG,QAAOA,IAAE,OAAO,GAAGA,IAAE,OAAOF,KAAG,KAAK,aAAaE,GAAC;AACzD,UAAME,MAAIT,QAAMW,IAAE,wBAAwB,IAAIR,IAAEF,KAAG,IAAIY,GAAE,KAAK,MAAM,iCAC/DC,IAAEd,GAAC,IAD4D;AAAA,MAElE,OAAOG;AAAA,MACP,QAAQU;AAAA,IACV,EAAC,GAAG,MAAM;AACR,WAAK,UAAU,OAAOJ,GAAC,GAAG,KAAK,YAAY,IAAIA,GAAC;AAAA,IAClD,CAAC,IAAI,IAAIN,IAAEF,KAAG,IAAIQ,IAAE,KAAK,MAAM,iCAC1BK,IAAEd,GAAC,IADuB;AAAA,MAE7B,OAAOG;AAAA,MACP,QAAQU;AAAA,IACV,EAAC,GAAG,MAAM;AACR,WAAK,UAAU,OAAOJ,GAAC,GAAG,KAAK,YAAY,IAAIA,GAAC;AAAA,IAClD,CAAC;AACD,WAAOA,IAAE,OAAOJ,KAAG,KAAK,aAAaI,GAAC;AAAA,EACxC;AAAA,EACA,cAAcT,KAAGE,KAAGE,KAAGS,KAAG;AACxB,UAAMR,MAAIG,IAAER,KAAGE,KAAGE,GAAC,GACjBH,MAAI,KAAK,YAAY,IAAII,GAAC;AAC5B,QAAIJ,IAAG,QAAOA,IAAE,OAAO,GAAGA,IAAE,OAAOY,KAAG,KAAK,aAAaZ,GAAC;AACzD,UAAMM,MAAI,IAAIE,IAAEJ,KAAG,IAAIQ,GAAE,KAAK,MAAM,iCAC/BD,IAAEZ,GAAC,IAD4B;AAAA,MAElC,OAAOE;AAAA,MACP,QAAQE;AAAA,IACV,EAAC,GAAG,MAAM;AACR,WAAK,UAAU,OAAOG,GAAC,GAAG,KAAK,YAAY,IAAIA,GAAC;AAAA,IAClD,CAAC;AACD,WAAOA,IAAE,OAAOM,KAAG,KAAK,aAAaN,GAAC;AAAA,EACxC;AAAA,EACA,aAAaP,KAAG;AACd,WAAO,KAAK,UAAU,IAAIA,GAAC,GAAGA;AAAA,EAChC;AACF;AACA,IAAMe,MAAI,IAAId,IAAE,WAAW,WAAW,MAAM,MAAMc,KAAG,MAAMA,KAAG,MAAM;AAAC,CAAC;AACtE,SAASP,IAAER,KAAGE,KAAGC,KAAG;AAClB,SAAO,GAAGH,GAAC,IAAIE,GAAC,IAAIC,GAAC;AACvB;AACA,IAAMa,MAAI,IAAIhB,IAAE;AAChBgB,IAAE,cAAcC,GAAE,KAAKD,IAAE,iBAAiBE,GAAE,IAAIF,IAAE,WAAWG,GAAE;AAC/D,IAAMC,MAAI,IAAIpB,IAAE;AAChBoB,IAAE,cAAcH,GAAE,IAAIG,IAAE,iBAAiBF,GAAE,KAAKE,IAAE,WAAWD,GAAE;AAC/D,IAAME,MAAI,IAAIrB,IAAE;AAChBqB,IAAE,iBAAiBH,GAAE,OAAOG,IAAE,WAAWC,GAAE,wBAAwBD,IAAE,WAAWF,GAAE;AAClF,IAAMb,MAAI,IAAIN,IAAE;AAChBM,IAAE,WAAWa,GAAE;AACf,IAAMI,MAAI,IAAIvB,IAAE;AAChBuB,IAAE,WAAWJ,GAAE,eAAeI,IAAE,eAAeC,GAAE,sBAAsBD,IAAE,YAAY,MAAIA,IAAE,gBAAgB;AAC3G,IAAMJ,MAAI,IAAInB,IAAE;AAChBmB,IAAE,cAAcF,GAAE,KAAKE,IAAE,WAAWG,GAAE,YAAYH,IAAE,iBAAiBD,GAAE,MAAMC,IAAE,eAAeK,GAAE;AAChG,IAAMC,MAAI,IAAIzB,IAAE;AAChByB,IAAE,WAAWH,GAAE,YAAYG,IAAE,iBAAiBP,GAAE,SAASO,IAAE,eAAeD,GAAE;AAC5E,IAAMZ,MAAI;AAAA,EACN,CAACN,GAAE,GAAG,GAAGU;AAAA,EACT,CAACV,GAAE,EAAE,GAAGc;AAAA,EACR,CAACd,GAAE,KAAK,GAAGe;AAAA,EACX,CAACf,GAAE,IAAI,GAAGA;AAAA,EACV,CAACA,GAAE,WAAW,GAAGiB;AAAA,EACjB,CAACjB,GAAE,IAAI,GAAGa;AAAA,EACV,CAACb,GAAE,OAAO,GAAGmB;AACf;AARF,IASER,MAAI,IAAIjB,IAAE;AACZiB,IAAE,cAAcA,GAAE,eAAeA,IAAE,WAAWK,GAAE,mBAAmBL,IAAE,eAAeO,GAAE,SAASP,IAAE,WAAWE,GAAE;AAC9G,IAAML,MAAI;AAAA,EACR,CAACH,IAAE,qBAAqB,GAAGM;AAAA,EAC3B,CAACN,IAAE,cAAc,GAAG,IAAIV,GAAEyB,GAAE,mBAAmB,CAAC;AAClD;;;AC/HA,IAAIC;AACJ,CAAC,SAAUC,KAAG;AACZ,EAAAA,IAAEA,IAAE,cAAc,CAAC,IAAI,eAAeA,IAAEA,IAAE,cAAc,CAAC,IAAI;AAC/D,EAAED,QAAMA,MAAI,CAAC,EAAE;AACf,IAAME,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAGC,KAAGF,MAAIF,IAAE,aAAa;AACnC,SAAK,QAAQG,KAAG,KAAK,cAAcC,KAAG,KAAK,WAAWF,KAAG,KAAK,SAAS,IAAIG,GAAE;AAAA,MAC3E,aAAa;AAAA,MACb,WAAW,CAAAJ,QAAKA,OAAK;AAAA,QACnB,UAAU;AAAA,QACV,UAAU;AAAA,QACV,gBAAgB;AAAA,QAChB,gBAAgB;AAAA,QAChB,kBAAkB;AAAA,QAClB,WAAW;AAAA,MACb;AAAA,IACF,CAAC,GAAG,KAAK,uBAAuB,oBAAI,IAAI;AAAA,EAC1C;AAAA,EACA,WAAWA,KAAGE,KAAGC,KAAGJ,KAAG;AACrB,UAAME,MAAI,KAAK,OAAO,QAAQ;AAC9B,IAAAA,IAAE,WAAWC,KAAGD,IAAE,iBAAiBE,KAAGF,IAAE,WAAWD,KAAGC,IAAE,mBAAmBF,KAAGE,IAAE,aAAaC,IAAE,UAAUA,IAAE,IAAI,YAAY,YAAY,SAAS;AAAA,EAClJ;AAAA,EACA,QAAQF,KAAGE,KAAG;AACZ,WAAO,KAAK,OAAO,IAAI,CAAAC,QAAKA,IAAE,SAAS,iBAAiB,KAAK,aAAaH,KAAGE,KAAGC,IAAE,SAAS,UAAU,CAAC;AAAA,EACxG;AAAA,EACA,SAASH,KAAGG,KAAGJ,KAAG;AAChB,UAAME,MAAI,KAAK;AACf,SAAK,qBAAqB,MAAM;AAChC,QAAII,MAAI;AACR,UAAMC,MAAI,KAAK,OAAO;AACtB,aAASF,MAAI,GAAGA,MAAIE,KAAGF,OAAK;AAC1B,YAAME,MAAIP,IAAEK,GAAC;AACb,MAAAE,QAAMD,OAAKC,IAAE,cAAc,yBAAyBA,IAAE,SAASL,IAAE,cAAcK,KAAGH,KAAGH,GAAC,GAAGK,MAAIC;AAC7F,YAAMC,MAAI,KAAK,OAAO,KAAKH,GAAC,GAC1BI,MAAID,IAAE;AACR,MAAAN,IAAE,QAAQO,IAAE,GAAG,GAAG,KAAK,qBAAqB,IAAIF,GAAC,MAAMC,IAAE,aAAaD,IAAE,QAAQ,SAASC,IAAE,UAAUJ,KAAGH,GAAC,GAAG,KAAK,qBAAqB,IAAIM,KAAGC,IAAE,QAAQ;AACvJ,YAAME,MAAIF,IAAE,gBACVG,MAAID,IAAE;AACR,UAAI,MAAMF,IAAE,WAAW;AACrB,cAAMP,MAAIW,IAAE,IAAIJ,IAAE,SAAS;AAC3B,iBAASL,MAAI,GAAGA,MAAIQ,KAAGR,OAAK,GAAG;AAC7B,gBAAMC,MAAIM,IAAEP,GAAC,GACXH,MAAIU,IAAEP,MAAI,CAAC;AACb,UAAAD,IAAE,aAAaO,IAAE,eAAeT,KAAGQ,IAAE,WAAWJ,MAAIH,GAAC;AAAA,QACvD;AAAA,MACF,MAAO,UAASA,MAAI,GAAGA,MAAIU,KAAGV,OAAK,GAAG;AACpC,cAAME,MAAIO,IAAET,GAAC,GACXG,MAAIM,IAAET,MAAI,CAAC;AACb,QAAAC,IAAE,WAAWO,IAAE,eAAeN,KAAGC,GAAC;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA,EACA,gBAAgB;AACd,SAAK,OAAO,MAAM;AAAA,EACpB;AAAA,EACA,eAAe;AACb,UAAMH,MAAI,KAAK,aAAaD,IAAE,cAAc,IAAI;AAChD,SAAK,OAAO,KAAK,CAACG,KAAGC,QAAM;AACzB,YAAMJ,MAAIC,OAAKE,IAAE,mBAAmBC,IAAE;AACtC,aAAO,MAAMJ,MAAIA,MAAIG,IAAE,SAAS,IAAI,WAAWC,IAAE,SAAS,IAAI;AAAA,IAChE,CAAC;AAAA,EACH;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,OAAO;AAAA,EACrB;AACF;AACA,IAAMQ,MAAI,oBAAI,IAAI;AAClBA,IAAE,IAAIC,GAAE,eAAe,CAAC,GAAGD,IAAE,IAAIC,GAAE,gBAAgB,CAAC,GAAGD,IAAE,IAAIC,GAAE,cAAc,CAAC;;;ACpD9E,IAAIC,MAAI,cAAcC,IAAE;AAAA,EACtB,cAAc;AACZ,UAAM,CAAC,CAAC,GAAG,KAAK,UAAU,MAAM,KAAK,WAAW,oBAAI,IAAI,CAAC,CAACC,IAAE,iBAAiB,CAAAC,QAAK,KAAK,UAAUA,GAAC,CAAC,GAAG,CAACD,IAAE,sBAAsB,CAAAC,QAAK,CAAC,EAAE,KAAK,WAAW,KAAK,QAAQ,oBAAoB,QAAQ,MAAM,KAAK,UAAUA,GAAC,CAAC,GAAG,CAACD,IAAE,iBAAiB,CAAAC,QAAK,KAAK,UAAUA,GAAC,CAAC,CAAC,CAAC,GAAG,KAAK,0BAA0B,IAAIC,IAAE,GAAG,KAAK,wBAAwB,IAAIC,IAAE,GAAG,KAAK,2BAA2B,IAAIC,IAAE,GAAG,KAAK,0BAA0B,IAAIC,IAAE,GAAG,KAAK,WAAW,oBAAI,IAAI;AAAA,EAClc;AAAA,EACA,wBAAwBJ,KAAG;AACzB,SAAK,WAAWA;AAChB,UAAMK,MAAIL,IAAE,cAAc,MACxBM,MAAIN,IAAE;AACR,SAAK,UAAU;AAAA,MACb,gBAAgB,IAAIF,IAAEO,KAAGC,GAAC;AAAA,MAC1B,qBAAqB,IAAIR,IAAEO,KAAGC,KAAGC,IAAE,WAAW;AAAA,MAC9C,wBAAwB,IAAIT,IAAEO,KAAGC,GAAC;AAAA,MAClC,WAAW,IAAIR,IAAEO,KAAGC,GAAC;AAAA,MACrB,WAAW,IAAIR,IAAEO,KAAGC,GAAC;AAAA,MACrB,yBAAyB,IAAIR,IAAEO,KAAGC,GAAC;AAAA,MACnC,oBAAoB,IAAIR,IAAEO,KAAGC,GAAC;AAAA,MAC9B,mBAAmB,IAAIR,IAAEO,KAAGC,GAAC;AAAA,MAC7B,kBAAkB,IAAIR,IAAEO,KAAGC,GAAC;AAAA,IAC9B;AAAA,EACF;AAAA,EACA,IAAI,OAAO;AACT,WAAO,KAAK,SAAS,cAAc;AAAA,EACrC;AAAA,EACA,4BAA4B;AAAA,EAAC;AAAA,EAC7B,UAAU;AACR,SAAK,WAAW,MAAM,KAAK,SAAS,MAAM;AAAA,EAC5C;AAAA,EACA,SAASN,KAAG;AACV,SAAK,SAAS,IAAIA,GAAC;AAAA,EACrB;AAAA,EACA,UAAUA,KAAG;AACX,WAAO,MAAM,KAAK,SAAS,QAAQ,SAAS,KAAK,YAAYA,QAAMQ,GAAE,YAAY,KAAK,QAAQ,UAAU,QAAQ,KAAK,KAAK,QAAQ,wBAAwB,QAAQ,IAAIR,QAAMQ,GAAE,mBAAmB,KAAK,QAAQ,UAAU,QAAQ;AAAA,EAClO;AAAA,EACA,cAAcR,KAAG;AACf,QAAI,MAAM,KAAK,SAAS,QAAQ,SAAS,KAAK,SAAS;AACrD,iBAAWA,OAAK,OAAO,OAAO,KAAK,OAAO,EAAG,CAAAA,IAAE,cAAc;AAC7D,WAAK,SAAS,QAAQ,CAAAK,QAAKA,IAAE,OAAO,KAAK,SAASL,IAAE,cAAc,CAAC;AACnE,iBAAWA,OAAK,OAAO,OAAO,KAAK,OAAO,EAAG,CAAAA,IAAE,aAAa;AAC5D,WAAK,SAAS,WAAW,YAAY;AAAA,IACvC;AAAA,EACF;AAAA,EACA,kBAAkBA,KAAG;AACnB,QAAI,MAAM,KAAK,SAAS,KAAM,QAAO;AACrC,UAAMK,MAAIL,IAAE,WAAWQ,GAAE,UAAUR,IAAE,WAAWQ,GAAE,mBAAmBR,IAAE,WAAWQ,GAAE,yBAAyB,KAAK,wBAAwBR,IAAE,WAAWQ,GAAE,iBAAiB,KAAK,0BAA0BR,IAAE,WAAWQ,GAAE,YAAY,KAAK,2BAA2B,KAAK,yBACvQF,MAAIN,IAAE;AACR,WAAO,KAAK,kBAAkBM,IAAE,QAAQD,KAAGC,IAAE,SAASP,IAAE,oBAAoB,GAAG,KAAK,wBAAwB,SAASC,IAAE,QAAQ,KAAK,QAAQA,KAAG,CAACK,KAAGC,QAAMD,IAAE,QAAQC,KAAGN,IAAE,cAAc,CAAC;AAAA,EACzL;AAAA,EACA,WAAWA,KAAGK,KAAG;AACf,SAAK,QAAQL,KAAG,CAACM,KAAGC,QAAMD,IAAE,SAASC,KAAGP,IAAE,gBAAgBK,GAAC,CAAC;AAAA,EAC9D;AAAA,EACA,QAAQL,KAAGK,KAAG;AACZ,QAAI,SAAS,KAAK,QAAS,QAAO;AAClC,YAAQL,IAAE,eAAe,MAAM;AAAA,MAC7B,KAAKD,IAAE;AACL,gBAAQC,IAAE,QAAQ;AAAA,UAChB,KAAKQ,GAAE;AAAA,UACP,KAAKA,GAAE;AAAA,UACP,KAAKA,GAAE;AAAA,UACP,KAAKA,GAAE;AACL,mBAAOH,IAAE,KAAK,QAAQ,gBAAgB,KAAK,uBAAuB;AAAA,UACpE,KAAKG,GAAE;AACL,mBAAOH,IAAE,KAAK,QAAQ,WAAW,KAAK,wBAAwB;AAAA,UAChE,KAAKG,GAAE;AACL,mBAAOH,IAAE,KAAK,QAAQ,WAAW,KAAK,qBAAqB;AAAA,UAC7D,KAAKG,GAAE;AACL,mBAAOH,IAAE,KAAK,QAAQ,oBAAoB,KAAK,qBAAqB;AAAA,UACtE,KAAKG,GAAE;AACL,mBAAOH,IAAE,KAAK,QAAQ,kBAAkB,KAAK,qBAAqB;AAAA,UACpE,KAAKG,GAAE;AACL,mBAAOH,IAAE,KAAK,QAAQ,mBAAmB,KAAK,uBAAuB;AAAA,QACzE;AACA;AAAA,MACF,KAAKN,IAAE;AACL,gBAAQC,IAAE,QAAQ;AAAA,UAChB,KAAKQ,GAAE;AAAA,UACP,KAAKA,GAAE;AAAA,UACP,KAAKA,GAAE;AAAA,UACP,KAAKA,GAAE;AACL,mBAAOH,IAAE,KAAK,QAAQ,qBAAqB,KAAK,uBAAuB;AAAA,QAC3E;AACA;AAAA,MACF,KAAKN,IAAE;AACL,gBAAQC,IAAE,QAAQ;AAAA,UAChB,KAAKQ,GAAE;AAAA,UACP,KAAKA,GAAE;AAAA,UACP,KAAKA,GAAE;AAAA,UACP,KAAKA,GAAE;AACL,mBAAOH,IAAE,KAAK,QAAQ,wBAAwB,KAAK,uBAAuB;AAAA,UAC5E,KAAKG,GAAE;AACL,mBAAOH,IAAE,KAAK,QAAQ,yBAAyB,KAAK,wBAAwB;AAAA,QAChF;AAAA,IACJ;AACA,WAAO;AAAA,EACT;AAAA,EACA,cAAc;AACZ,SAAK,SAAS,cAAc;AAAA,EAC9B;AAAA,EACA,gBAAgBL,KAAG;AACjB,UAAMK,MAAI,IAAII,IAAE;AAChB,WAAO,KAAK,SAAS,QAAQ,CAAAH,QAAKD,IAAEA,KAAGC,IAAE,4BAA4BN,GAAC,CAAC,CAAC,GAAGK;AAAA,EAC7E;AAAA,EACA,kBAAkBL,KAAGK,KAAGP,KAAG;AACzB,UAAMY,MAAIV,IAAE;AACZ,IAAAQ,GAAEG,KAAGD,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,EAAE,CAAC,GAAGE,IAAE,IAAID,GAAC,GAAGF,GAAEJ,IAAE,0BAA0BO,IAAE,IAAI,GAAGH,GAAEJ,IAAE,0BAA0BO,IAAE,GAAG,GAAGH,GAAEJ,IAAE,uBAAuBM,GAAC,GAAGR,IAAEE,IAAE,mCAAmCL,IAAE,UAAU,GAAGG,GAAEE,IAAE,uBAAuBL,IAAE,gBAAgB,GAAGK,IAAE,eAAeG,IAAE,aAAa,KAAK,wBAAwB,cAAcV,KAAGe,GAAEC,KAAGT,IAAE,iCAAiC,GAAGL,IAAEK,IAAE,+BAA+BS,GAAC;AAAA,EACpZ;AACF;AACAjB,MAAIQ,GAAE,CAACE,GAAE,gEAAgE,CAAC,GAAGV,GAAC;AAC9E,IAAMc,MAAIR,GAAE;AAAZ,IACEW,MAAIT,IAAE;AADR,IAEEO,MAAI,IAAIP,IAAE;;;AC/HZ,SAASU,IAAEA,KAAG;AACZ,SAAOA,IAAE;AACX;;;ACGA,IAAMC,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAG;AACb,SAAK,WAAWA,KAAG,KAAK,SAAS,IAAIC,GAAE;AAAA,EACzC;AAAA,EACA,UAAU;AACR,SAAK,OAAO,QAAQ,CAAAD,QAAKA,IAAE,QAAQ,CAAC,GAAG,KAAK,OAAO,MAAM;AAAA,EAC3D;AAAA,EACA,IAAIA,KAAG;AACL,SAAK,OAAO,KAAKA,GAAC,GAAGD,OAAK,QAAQ,IAAI,4BAA4B,KAAK,OAAO,IAAI,CAAC;AAAA,MACjF,eAAeC;AAAA,IACjB,MAAMA,GAAC,EAAE,KAAK,IAAI,CAAC,EAAE;AAAA,EACvB;AAAA,EACA,OAAOA,KAAG;AACR,SAAK,OAAO,OAAOA,GAAC,GAAGD,OAAK,QAAQ,IAAI,4BAA4B,KAAK,OAAO,IAAI,CAAC;AAAA,MACnF,eAAeC;AAAA,IACjB,MAAMA,GAAC,EAAE,KAAK,IAAI,CAAC,EAAE;AAAA,EACvB;AAAA,EACA,SAASA,KAAG;AACV,WAAO,KAAK,OAAO,KAAK,CAAC;AAAA,MACvB,UAAUE;AAAA,IACZ,MAAMA,QAAMF,GAAC;AAAA,EACf;AAAA,EACA,QAAQA,QAAME,KAAG;AACf,UAAMC,MAAI,KAAK;AACf,WAAOD,IAAE,OAAO,CAACA,KAAGE,QAAMF,MAAIC,IAAE,OAAO,CAACD,KAAG;AAAA,MACzC,UAAUC;AAAA,MACV,UAAUE;AAAA,IACZ,MAAMH,OAAKC,IAAE,SAAS,SAASH,GAAC,KAAKK,QAAMD,MAAI,IAAI,IAAI,CAAC,GAAG,CAAC;AAAA,EAC9D;AAAA,EACA,SAASJ,QAAME,KAAG;AAChB,UAAMC,MAAI,KAAK;AACf,WAAOD,IAAE,OAAO,CAACA,KAAGE,QAAMF,MAAIC,IAAE,OAAO,CAACD,KAAG;AAAA,MACzC,UAAUC;AAAA,MACV,UAAUE;AAAA,IACZ,MAAMH,OAAKC,IAAE,UAAU,SAASH,GAAC,KAAKK,QAAMD,MAAI,IAAI,IAAI,CAAC,GAAG,CAAC;AAAA,EAC/D;AAAA,EACA,kBAAkB;AAChB,WAAO,KAAK,OAAO,OAAO,CAACJ,KAAGE,QAAMA,IAAE,gBAAgB,KAAKF,KAAG,KAAE;AAAA,EAClE;AAAA,EACA,OAAOE,KAAGG,KAAGN,MAAI,MAAM;AAAA,EAAC,GAAG;AACzB,UAAMO,MAAIP,IAAEG,GAAC,IAAIA,IAAE,OAAOA,KACxBK,MAAI,KAAK,OAAO,OAAO,CAAC;AAAA,MACtB,UAAUP;AAAA,IACZ,MAAMA,QAAMM,GAAC;AACf,WAAO,MAAMC,IAAE,WAAWA,IAAE,QAAQ,CAAAH,QAAK;AACvC,YAAMG,MAAIR,IAAEG,GAAC,IAAI,CAACA,GAAC,IAAI,CAAC;AACxB,iBAAWF,OAAKI,IAAE,SAAS,UAAU;AACnC,YAAIJ,QAAMM,IAAG;AACb,cAAMJ,MAAIG,IAAE,IAAIL,GAAC;AACjB,YAAI,CAACE,IAAG,QAAO,MAAMH,OAAKA,IAAEQ,GAAC;AAC7B,QAAAA,IAAE,KAAKL,GAAC;AAAA,MACV;AACA,UAAIE,IAAE,SAAS,SAAU,YAAWJ,OAAKI,IAAE,SAAS,UAAU;AAC5D,YAAIJ,QAAMM,IAAG;AACb,cAAMJ,MAAIG,IAAE,IAAIL,GAAC;AACjB,QAAAE,OAAKK,IAAE,KAAKL,GAAC;AAAA,MACf;AACA,UAAI;AACF,cAAMF,MAAII,IAAE,SAASG,KAAG,KAAK,QAAQ;AACrC,QAAAP,OAAKA,QAAME,QAAMH,IAAEG,GAAC,KAAKA,IAAE,QAAQ,GAAGA,MAAIF,KAAGK,IAAE,IAAIC,KAAGJ,GAAC,KAAKA,MAAIF;AAAA,MAClE,SAASQ,KAAG;AACV,UAAE,UAAUJ,GAAC,EAAE,UAAUI,GAAC;AAAA,MAC5B;AACA,MAAAT,OAAKA,IAAEQ,GAAC;AAAA,IACV,CAAC,GAAG,KAAK,SAAS,KAAK,aAAa,IAAIR,IAAEG,GAAC,IAAIA,MAAIO;AAAA,EACrD;AACF;;;AC7DA,IAAMC,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAG;AACb,SAAK,WAAWA,KAAG,KAAK,iBAAiB,IAAIC,GAAE,GAAG,KAAK,qBAAqB,oBAAI,IAAI,GAAG,KAAK,SAAS,IAAI,MAAM,GAAG,KAAK,iBAAiBD,IAAE,CAAC;AAC3I,aAASE,MAAI,GAAGA,MAAIC,IAAE,WAAW,EAAED,IAAG,MAAK,OAAOA,GAAC,IAAI,CAAC;AAAA,EAC1D;AAAA,EACA,UAAU;AACR,SAAK,eAAe,QAAQ,CAAAA,QAAKA,IAAE,QAAQ,CAAC,GAAG,KAAK,eAAe,MAAM,GAAG,KAAK,mBAAmB,MAAM;AAAA,EAC5G;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAIA,KAAGE,KAAG;AACR,UAAMC,MAAI,MAAM;AACZ,UAAID,KAAG,QAAS,OAAMF,IAAE,0BAA0B,GAAGI,GAAE;AACvD,WAAK,eAAe,KAAKJ,GAAC,GAAGA,IAAE,qBAAqB,KAAK,mBAAmB,IAAIA,IAAE,mBAAmBA,GAAC,GAAGA,IAAE,SAAS,QAAQ,CAACF,KAAGO,QAAM;AACpI,aAAK,OAAOA,GAAC,EAAE,KAAKL,GAAC;AAAA,MACvB,CAAC,GAAG,KAAK,SAAS,cAAc,GAAG,KAAK,eAAe;AAAA,IACzD,GACAM,MAAIN,IAAE,wBAAwB,KAAK,UAAUE,GAAC;AAChD,QAAIK,GAAED,GAAC,EAAG,QAAOA,IAAE,KAAKH,GAAC;AACzB,IAAAA,IAAE;AAAA,EACJ;AAAA,EACA,OAAOH,KAAG;AACR,QAAI,QAAQA,IAAE,qBAAqB,KAAK,mBAAmB,OAAOA,IAAE,iBAAiB,GAAG,QAAQ,KAAK,eAAe,gBAAgBA,GAAC,GAAG;AACtI,eAASF,MAAI,GAAGA,MAAI,KAAK,OAAO,QAAQ,EAAEA,IAAG,MAAK,OAAOA,GAAC,IAAI,KAAK,OAAOA,GAAC,EAAE,OAAO,CAAAA,QAAKA,QAAME,GAAC;AAChG,MAAAA,IAAE,0BAA0B,GAAG,KAAK,SAAS,cAAc,GAAG,KAAK,eAAe;AAAA,IACpF;AAAA,EACF;AAAA,EACA,gBAAgB;AACd,SAAK,eAAe,OAAO,CAAAA,QAAK;AAC9B,MAAAA,IAAE,iBAAiBA,IAAE,cAAc,KAAK,SAAS,aAAa;AAAA,IAChE,CAAC;AAAA,EACH;AAAA,EACA,gBAAgBA,KAAG;AACjB,QAAIF,MAAI;AACR,WAAO,KAAK,eAAe,OAAO,CAAAO,QAAK;AACrC,MAAAA,IAAE,oBAAoBP,MAAIO,IAAE,gBAAgBL,GAAC,KAAKF;AAAA,IACpD,CAAC,GAAGA;AAAA,EACN;AAAA,EACA,uBAAuB;AACrB,SAAK,eAAe,OAAO,CAAAE,QAAK;AAC9B,MAAAA,IAAE,wBAAwBA,IAAE,qBAAqB;AAAA,IACnD,CAAC;AAAA,EACH;AAAA,EACA,WAAWA,KAAG;AACZ,eAAWF,OAAKE,IAAG,MAAK,SAAS,cAAc,eAAe,OAAOF,KAAG,KAAK,OAAOA,GAAC,EAAE,QAAQ,CAAAE,QAAK;AAClG,YAAMK,MAAIL,IAAE,SAAS,IAAIF,GAAC;AAC1B,MAAAO,MAAIG,GAAE,KAAK,MAAMC,IAAET,GAAC,KAAKA,IAAE,iBAAiB,KAAK,SAAS,aAAa,GAAGD,IAAEC,GAAC,KAAKA,IAAE,kBAAkB,KAAK,SAAS,aAAa;AAAA,IACnI,CAAC;AAAA,EACH;AAAA,EACA,kBAAkB;AAChB,UAAMA,MAAI,KAAK,SAAS,cAAc,eAAe,MACnDF,MAAI,KAAK,SAAS,cAAc,UAAUU,GAAE,OAC5CH,MAAI,oBAAI,IAAI;AACd,WAAO,KAAK,OAAOL,GAAC,EAAE,QAAQ,CAAAE,QAAK;AACjC,YAAMC,MAAID,IAAE,SAAS,IAAIF,GAAC;AAC1B,UAAIG,MAAIL,GAAC,MAAM,CAACI,IAAE,gBAAgB,KAAK,SAAS,cAAc,eAAe,gBAAgBI,IAAE,KAAM,KAAIG,IAAEP,GAAC,GAAG;AAC7G,cAAMF,MAAIE,IAAE,iBAAiB,KAAK,SAAS,aAAa;AACxD,gBAAQF,OAAKK,IAAE,IAAIH,KAAGF,GAAC;AAAA,MACzB,WAAWD,IAAEG,GAAC,GAAG;AACf,cAAMF,MAAIE,IAAE,kBAAkB,KAAK,SAAS,aAAa;AACzD,gBAAQF,OAAKK,IAAE,IAAIH,KAAGF,GAAC;AAAA,MACzB,MAAO,CAAAK,IAAE,IAAIH,KAAG,IAAI;AAAA,IACtB,CAAC,GAAGG;AAAA,EACN;AAAA,EACA,OAAOL,QAAMF,KAAG;AACd,eAAWO,OAAKP,IAAG,MAAK,SAAS,cAAc,eAAe,OAAOO,KAAG,KAAK,gBAAgB,EAAE,QAAQ,CAACP,KAAGO,QAAMA,IAAE,WAAW,KAAK,SAAS,eAAeP,KAAGE,GAAC,CAAC;AAAA,EAClK;AAAA,EACA,gBAAgBA,KAAG;AACjB,UAAMF,MAAI,IAAIA,IAAE;AAChB,WAAO,KAAK,eAAe,OAAO,CAAAO,QAAK;AACrC,YAAMH,MAAIG,IAAE,kBAAkBL,GAAC;AAC/B,MAAAA,IAAEF,KAAGI,GAAC;AAAA,IACR,CAAC,GAAGJ;AAAA,EACN;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,eAAe,SAAS,KAAK,KAAK,eAAe,KAAK,CAAAE,QAAKA,IAAE,OAAO;AAAA,EAClF;AAAA,EACA,SAASA,QAAMF,KAAG;AAChB,eAAWO,OAAKP,IAAG,KAAI,KAAK,OAAOO,GAAC,EAAE,KAAK,CAAAP,QAAK;AAC9C,YAAMI,MAAIJ,IAAE,SAAS,IAAIO,GAAC;AAC1B,aAAO,CAAC,CAACH,OAAKA,IAAEF,GAAC;AAAA,IACnB,CAAC,EAAG,QAAO;AACX,WAAO;AAAA,EACT;AAAA,EACA,SAASA,KAAG;AACV,WAAO,KAAK,eAAe,KAAK,CAAAF,QAAKA,IAAE,SAAS,EAAE,SAAS,SAASE,GAAC,CAAC;AAAA,EACxE;AAAA,EACA,oBAAoBA,KAAG;AACrB,WAAO,KAAK,mBAAmB,IAAIA,GAAC;AAAA,EACtC;AAAA,EACA,+BAA+B;AAC7B,SAAK,eAAe,cAAc,CAAAA,QAAK,CAACA,IAAE,qBAAqB,MAAMA,IAAE,kBAAkB,KAAK,mBAAmB,OAAOA,IAAE,iBAAiB,GAAGA,IAAE,QAAQ,GAAG,MAAG;AAAA,EAChK;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK,eAAe,KAAK,CAAAA,QAAKA,IAAE,YAAY;AAAA,EACrD;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,eAAe,KAAK,CAAAA,QAAKA,IAAE,YAAY;AAAA,EACrD;AAAA,EACA,IAAI,sBAAsB;AACxB,WAAO,KAAK,eAAe,OAAO,CAACA,KAAGF,QAAME,MAAIF,IAAE,qBAAqBD,GAAE,IAAI;AAAA,EAC/E;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK,eAAe,OAAO,CAACG,KAAGF,QAAM,SAASA,IAAE,oBAAoBE,MAAIA,OAAKF,IAAE,cAAc,IAAI,CAAC;AAAA,EAC3G;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;;;AChHA,IAAMY,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAG;AACb,SAAK,aAAaA,KAAG,KAAK,qBAAqB,IAAIC,IAAE,GAAG,KAAK,kBAAkB,IAAIC,IAAE;AAAA,EACvF;AAAA,EACA,OAAOC,KAAGC,KAAGL,KAAGM,KAAGC,KAAG;AACpB,IAAAH,IAAE,gBAAgBJ,IAAE,GAAG;AACvB,UAAMQ,MAAI,KAAK,WAAW,QAAQN,KAAG,KAAK,kBAAkB;AAC5D,WAAOE,IAAE,cAAc,GAAG,GAAG,GAAG,CAAC,GAAGA,IAAE,MAAMK,GAAE,gBAAgB,GAAGD,KAAG,YAAY,KAAK,gBAAgB,UAAUH,IAAE,WAAW,GAAGD,IAAE,cAAcI,KAAGF,KAAG,KAAK,eAAe,GAAGF,IAAE,OAAO,KAAK,GAAGI,IAAE,QAAQ,GAAGR,QAAMO,IAAEG,GAAE,MAAM,GAAGV;AAAA,EAC/N;AACF;;;ACXA,IAAMW,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,QAAQC,KAAG,KAAK,YAAY,GAAG,KAAK,iBAAiBC,GAAE,CAAC;AAAA,EAC/D;AAAA,EACA,MAAMF,KAAGG,KAAG;AACV,IAAAA,MAAI,MAAM,KAAK,mBAAmB,KAAK,iBAAiBD,GAAE,YAAY,IAAI,CAAC,KAAK,KAAK,iBAAiBA,GAAE,CAAC;AACzG,QAAI,CAAC,IAAI,mCAAmC,GAAG;AAC7C,YAAME,MAAID,MAAI,YAAY,IAAI,IAAI,KAAK,iBAAiB;AACxD,UAAIC,OAAKC,MAAIC,IAAG,QAAO,KAAK,QAAQJ,GAAE,IAAI,CAAC,GAAG,MAAM,KAAK,YAAY;AACrE,WAAK,YAAYE,OAAKC,MAAIE,MAAI;AAAA,IAChC,MAAO,MAAK,YAAY;AACxB,UAAML,MAAIF,IAAEA,MAAIQ,KAAGP,KAAGQ,GAAC;AACvB,SAAK,UAAU,IAAI,IAAI,KAAK,QAAQP,GAAEA,GAAC,IAAI,KAAK,QAAQA,GAAE,KAAK,QAAQQ,MAAIR,OAAK,IAAIQ,IAAE;AAAA,EACxF;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,QAAQ;AACN,SAAK,QAAQ,KAAK,iBAAiBR,GAAE,CAAC;AAAA,EACxC;AACF;AACA,IAAMM,MAAI;AAAV,IACEH,MAAIH,GAAE,IAAI;AADZ,IAEEI,MAAIJ,GAAE,GAAG;AAFX,IAGEK,MAAI;AAHN,IAIEG,MAAI;AAJN,IAKEP,MAAI;AALN,IAMEF,MAAIC,GAAE,MAAM,CAAC;AANf,IAOEO,MAAIP,GAAE,MAAMC,GAAC;;;ACzBf,IAAMQ,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAGC,KAAG;AAChB,SAAK,QAAQD,KAAG,KAAK,oBAAoBC,KAAG,KAAK,SAAS,GAAG,KAAK,UAAU,GAAG,KAAK,cAAcC,IAAE;AAAA,EACtG;AAAA,EACA,UAAU;AACR,SAAK,SAASF,GAAE,KAAK,MAAM,GAAG,KAAK,eAAe;AAAA,EACpD;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,MAAM,YAAY,KAAK,KAAK,GAAG,KAAK,MAAM;AAAA,EACxD;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,MAAM,WAAW;AAAA,EAC/B;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,MAAM;AAAA,EACpB;AAAA,EACA,gBAAgBA,KAAGG,KAAGC,KAAG;AACvB,SAAK,MAAM,cAAcA,QAAMD,IAAE;AACjC,UAAME,MAAI,KAAK,MAAM;AACrB,SAAK,SAASL,IAAE,WAAW,KAAK,UAAUA,IAAE,YAAYM,GAAE,MAAMD,IAAE,WAAW,cAAc;AAC3F,UAAME,MAAI,KAAK;AACf,WAAO,KAAK,SAAS,MAAM,KAAK,eAAe,GAAGC,GAAE,KAAK,aAAaL,GAAC,GAAGI;AAAA,EAC5E;AAAA,EACA,iBAAiB;AACf,SAAK,QAAQ,YAAY,GAAG,KAAK,SAASP,GAAE,KAAK,MAAM;AAAA,EACzD;AAAA,EACA,oBAAoBA,KAAGC,KAAGE,KAAG;AAC3B,WAAOH,KAAG,KAAK,UAAU,KAAK,UAAUA,KAAG,KAAK,WAAW,KAAK,YAAYA,KAAG,QAAQ,GAAGA,MAAI,KAAK,MAAM,QAAQ,KAAK,QAAQ,KAAK,SAAS,kBAAkBS,GAAE,KAAK,IAAIT,IAAE,YAAYG,OAAK,KAAK,KAAK,GAAG,KAAK,MAAM,KAAK,gBAAgBH,IAAE,GAAG,GAAG,KAAK,MAAM,KAAK,iBAAiBU,GAAC,GAAGT,IAAE,GAAGD,IAAE,YAAY,GAAGA;AAAA,EAC9S;AAAA,EACA,yBAAyBA,KAAGC,KAAG;AAC7B,SAAK,MAAM,KAAK,gBAAgBD,IAAE,eAAe,GAAG,GAAG,KAAK,kBAAkB,aAAaA,KAAGC,GAAC;AAAA,EACjG;AAAA,EACA,cAAcD,KAAGC,KAAGE,KAAG;AACrB,QAAIQ,KAAGH;AACP,UAAM;AAAA,MACJ,QAAQI;AAAA,MACR,SAASb;AAAA,IACX,IAAI;AACJ,YAAQE,KAAG;AAAA,MACT,KAAKM,IAAE;AACL,QAAAI,MAAI,KAAK,MAAM,QAAQC,KAAGb,KAAGI,MAAI,wBAAwB,mBAAmBM,GAAE,OAAO,GAAGE,IAAE,aAAaE,GAAE,mBAAmBJ,GAAE,IAAI,GAAGD,MAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AACpJ;AAAA,MACF,KAAKD,IAAE;AACL,QAAAI,MAAI,KAAK,MAAM,QAAQC,KAAGb,KAAGI,MAAI,kBAAkB,WAAW,GAAGK,MAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IACpF;AACA,WAAOL,MAAIQ,IAAE,aAAaG,IAAE,cAAc,IAAIH,IAAE,YAAY,KAAK,KAAK,GAAG,KAAK,MAAM,KAAK,gBAAgBA,IAAE,GAAG,GAAG,KAAK,MAAM,KAAK,iBAAiBH,KAAGL,KAAGA,GAAC,GAAGH,IAAE,GAAGW,IAAE,YAAY,GAAGA;AAAA,EACpL;AAAA,EACA,uBAAuBX,KAAGC,KAAGE,KAAGC,KAAG;AACjC,SAAK,QAAQ,GAAG,KAAK,kBAAkB,UAAUJ,KAAGC,KAAGE,KAAGC,GAAC;AAAA,EAC7D;AAAA,EACA,aAAaJ,KAAGC,KAAGE,KAAGC,KAAG;AACvB,IAAAA,OAAK,KAAK,MAAM,KAAK,gBAAgBA,IAAE,GAAG,GAAG,KAAK,MAAM,KAAK,cAAc,GAAG,GAAG,GAAG,KAAK,GAAG,KAAK,MAAM,KAAK,MAAMM,GAAE,gBAAgB,KAAK,KAAK,QAAQ,GAAG,KAAK,kBAAkB,aAAaV,KAAGC,IAAE,WAAW,GAAGA,IAAE,WAAWY,GAAE,iBAAiB,GAAGV,IAAE,WAAW,CAAC;AAAA,EACnQ;AAAA,EACA,oBAAoBH,KAAG;AACrB,SAAK,YAAY,KAAK,KAAK,GAAGA,IAAE,GAAG,KAAK,YAAY,KAAK,OAAO,KAAK,KAAK;AAAA,EAC5E;AAAA,EACA,kBAAkBC,KAAGE,KAAGQ,KAAGJ,KAAGQ,MAAIN,GAAE,MAAMD,MAAIM,IAAE,gBAAgBF,MAAI,KAAK,QAAQb,MAAI,KAAK,SAASW,MAAI,MAAM;AAC3G,WAAOT,KAAG,KAAK,UAAUW,OAAKX,KAAG,KAAK,WAAWF,QAAME,MAAID,GAAEC,GAAC,IAAIA,MAAIA,OAAK,KAAK,MAAM,QAAQW,KAAGb,KAAGI,KAAGY,GAAC,GAAGL,KAAG,QAAQ,CAAAV,QAAKC,IAAE,aAAaD,IAAE,YAAYA,IAAE,MAAM,CAAC,GAAG,QAAQQ,OAAKP,IAAE,aAAaO,GAAC,GAAG,KAAK,MAAM,KAAK,gBAAgBP,IAAE,GAAG,GAAG,KAAK,MAAM,KAAK,iBAAiBM,KAAG,MAAI,IAAE,GAAGI,IAAE,GAAGV;AAAA,EAChS;AAAA,EACA,gBAAgBD,KAAGC,KAAGE,KAAGC,KAAGC,MAAI,OAAIM,MAAI,OAAI;AAC1C,SAAK,YAAYV,KAAGE,GAAC,GAAG,KAAK,MAAM,KAAK,iBAAiBC,KAAGC,KAAGM,GAAC,GAAGX,IAAE,GAAGC,IAAE,YAAY;AAAA,EACxF;AAAA,EACA,UAAU;AACR,UAAMD,MAAI,QAAQ,KAAK;AACvB,QAAI,KAAK,YAAY,KAAK,OAAO,KAAK,KAAK,GAAGA,KAAG;AAC/C,YAAMA,MAAI,KAAK,MAAM;AACrB,MAAAA,IAAE,gBAAgB,CAAC,GAAGA,IAAE,cAAc,KAAK,YAAY,CAAC,GAAG,KAAK,YAAY,CAAC,GAAG,KAAK,YAAY,CAAC,GAAG,KAAK,YAAY,CAAC,CAAC,GAAGA,IAAE,MAAMU,GAAE,mBAAmBA,GAAE,mBAAmBA,GAAE,kBAAkB;AAAA,IACnM;AAAA,EACF;AAAA,EACA,YAAYV,KAAGC,KAAG;AAChB,IAAAD,IAAE,YAAYC,GAAC,GAAG,KAAK,MAAM,KAAK,gBAAgBD,IAAE,GAAG;AAAA,EACzD;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,aAAa;AAAA,EAC3B;AAAA,EACA,eAAe;AACb,WAAO,KAAK,WAAW,KAAK,SAAS,KAAK,MAAM,QAAQ,KAAK,QAAQ,KAAK,SAAS,iBAAiB,IAAI,KAAK;AAAA,EAC/G;AAAA,EACA,YAAYA,KAAG;AACb,UAAMC,MAAI,KAAK,aAAa;AAC5B,IAAAA,IAAE,YAAY,KAAK,KAAK,GAAG,KAAK,SAASD,IAAEC,GAAC;AAAA,EAC9C;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,WAAW,KAAK,SAAS,KAAK,MAAM,aAAaa,IAAE,uBAAuB,KAAK,QAAQ,KAAK,SAAS,OAAO,IAAI,KAAK;AAAA,EACnI;AACF;AACA,IAAMJ,MAAI,CAAC,GAAG,GAAG,GAAG,CAAC;;;ACrGrB,IAAMM,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,UAAU,oBAAI,IAAI;AAAA,EACzB;AAAA,EACA,IAAIA,KAAGC,KAAG;AACR,SAAK,QAAQ,IAAID,KAAGC,GAAC;AAAA,EACvB;AAAA,EACA,IAAID,KAAG;AACL,WAAO,KAAK,QAAQ,IAAIA,GAAC;AAAA,EAC3B;AAAA,EACA,IAAIA,KAAG;AACL,WAAO,KAAK,QAAQ,IAAIA,GAAC;AAAA,EAC3B;AAAA,EACA,QAAQA,KAAG;AACT,SAAK,QAAQ,IAAIA,GAAC,GAAG,QAAQ,KAAK,KAAK,QAAQ,OAAOA,GAAC;AAAA,EACzD;AACF;;;ACRA,IAAME,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,YAAYC,KAAGD,KAAG;AAChB,UAAMC,KAAGD,KAAG,MAAM,KAAK,QAAQ,CAAC;AAAA,EAClC;AAAA,EACA,kBAAkBC,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAGC,EAAC;AAAA,EAClE;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,UAAUC;AAAA,MACV,YAAYC;AAAA,MACZ,WAAW;AAAA,MACX,YAAY;AAAA,IACd,CAAC;AAAA,EACH;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAOC,GAAE;AAAA,EACX;AACF;AACAP,IAAE,SAAS,IAAIQ,IAAEC,KAAG,MAAM,OAAO,wCAA+B,CAAC;;;ACbjE,IAAMC,MAAI;AAAV,IACEC,MAAI;AADN,IAEEC,MAAI,IAAI;AACV,IAAIC,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAGC,KAAGC,KAAGC,KAAG;AACtB,UAAM,CAAC,CAAC,GAAG,KAAK,cAAcH,KAAG,KAAK,QAAQC,KAAG,KAAK,QAAQC,KAAG,KAAK,iBAAiBC,KAAG,KAAK,kBAAkB,IAAIN,IAAE,KAAK,KAAK,GAAG,KAAK,mBAAmB,IAAIO,IAAE,GAAG,KAAK,WAAW,OAAI,KAAK,OAAOD,IAAEF,GAAC;AAAA,EAC1M;AAAA,EACA,oBAAoB;AAClB,WAAO,CAAC;AAAA,EACV;AAAA,EACA,UAAU;AACR,SAAK,MAAM,GAAG,KAAK,OAAOG,GAAE,KAAK,IAAI,GAAG,KAAK,YAAY,QAAQ,KAAK,UAAU,GAAG,KAAK,aAAa;AAAA,EACvG;AAAA,EACA,IAAI,gCAAgC;AAClC,WAAO,KAAK,aAAa,KAAK,YAAY,kBAAkBN,KAAG,KAAK,kBAAkB,KAAK,UAAU,GAAG,KAAK;AAAA,EAC/G;AAAA,EACA,OAAOE,KAAG;AACR,QAAI,CAAC,KAAK,mBAAoB;AAC9B,SAAK,gBAAgB,cAAc,IAAI,KAAK,MAAM;AAClD,UAAMC,MAAI,KAAK;AACf,SAAK,MAAM,QAAQ,KAAK,IAAI,GAAG,KAAK,MAAM,cAAcA,KAAGD,KAAG,KAAK,eAAe,GAAG,KAAK,MAAM,WAAWC,IAAE,eAAe,GAAGE,GAAE,KAAK,MAAM,UAAU,CAAC;AAAA,EACzJ;AAAA,EACA,WAAWH,KAAG;AACZ,eAAWA,IAAE,WAAW,KAAK,YAAYA,IAAE,OAAO,GAAG,WAAWA,IAAE,SAAS,KAAK,UAAUA,IAAE,KAAK,GAAG,WAAWA,IAAE,cAAc,KAAK,aAAaA,IAAE,YAAY,WAAWA,IAAE,kBAAkB,KAAK,iBAAiBA,IAAE,gBAAgB,WAAWA,IAAE,aAAa,KAAK,YAAYA,IAAE,WAAW,WAAWA,IAAE,iBAAiB,KAAK,gBAAgBA,IAAE;AAAA,EACrV;AAAA,EACA,IAAI,uBAAuB;AACzB,WAAO,KAAK,gBAAgB;AAAA,EAC9B;AAAA,EACA,IAAI,qBAAqBA,KAAG;AAC1B,SAAK,gBAAgB,yBAAyBA,QAAM,KAAK,gBAAgB,uBAAuBA,KAAG,KAAK,aAAa,sBAAsB;AAAA,EAC7I;AAAA,EACA,IAAI,qBAAqB;AACvB,WAAO,KAAK,YAAY,KAAK,MAAM,kBAAkB,KAAK,KAAK,uBAAuBH;AAAA,EACxF;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK,gBAAgB;AAAA,EAC9B;AAAA,EACA,IAAI,WAAWG,KAAG;AAChB,SAAK,eAAeA,QAAM,KAAK,gBAAgB,YAAYA,KAAG,KAAK,wBAAwB;AAAA,EAC7F;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK,iBAAiB;AAAA,EAC/B;AAAA,EACA,IAAI,eAAeA,KAAG;AACpB,IAAAA,QAAM,KAAK,mBAAmB,KAAK,iBAAiB,gBAAgBA,KAAG,KAAK,YAAY,QAAQ,KAAK,UAAU,GAAG,KAAK,aAAa,MAAM,KAAK,wBAAwB;AAAA,EACzK;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK,gBAAgB;AAAA,EAC9B;AAAA,EACA,IAAI,UAAUA,KAAG;AACf,IAAAA,QAAM,KAAK,cAAc,KAAK,gBAAgB,WAAWA,KAAG,KAAK,wBAAwB;AAAA,EAC3F;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,iBAAiB;AAAA,EAC/B;AAAA,EACA,IAAI,cAAcA,KAAG;AACnB,IAAAA,QAAM,KAAK,kBAAkB,KAAK,iBAAiB,eAAeA,KAAG,KAAK,YAAY,QAAQ,KAAK,UAAU,GAAG,KAAK,aAAa,MAAM,KAAK,wBAAwB;AAAA,EACvK;AAAA,EACA,UAAUA,KAAG;AACX,UAAMC,MAAI,KAAK,gBAAgB;AAC/B,IAAAI,GAAEL,KAAGC,GAAC,MAAMK,GAAE,KAAK,gBAAgB,OAAON,GAAC,GAAG,KAAK,wBAAwB;AAAA,EAC7E;AAAA,EACA,YAAYA,KAAG;AACb,IAAAA,QAAM,KAAK,aAAaA,MAAI,KAAK,OAAO,IAAI,KAAK,MAAM;AAAA,EACzD;AAAA,EACA,0BAA0B;AACxB,SAAK,YAAY,KAAK,eAAe;AAAA,EACvC;AAAA,EACA,SAAS;AACP,SAAK,WAAW,MAAI,KAAK,eAAe;AAAA,EAC1C;AAAA,EACA,QAAQ;AACN,SAAK,WAAW,OAAI,KAAK,eAAe;AAAA,EAC1C;AACF;AACAA,GAAE,CAACO,GAAE,CAAC,GAAGT,IAAE,WAAW,wBAAwB,IAAI,GAAGA,MAAIE,GAAE,CAACM,GAAE,mDAAmD,CAAC,GAAGR,GAAC;;;ACjFtH,IAAMU,MAAN,MAAM,WAAUC,IAAE;AAAA,EAChB,YAAYC,KAAG;AACb,UAAMA,KAAG,IAAIC,IAAE,GAAG,MAAM,KAAK,QAAQ,CAAC;AAAA,EACxC;AAAA,EACA,kBAAkBD,KAAG;AACnB,WAAO,IAAID,IAAEC,IAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAGE,EAAC;AAAA,EAClE;AAAA,EACA,qBAAqB;AACnB,WAAOC,GAAE;AAAA,MACP,UAAUC,IAAEC,GAAE,KAAKA,GAAE,KAAKA,GAAE,KAAKA,GAAE,GAAG;AAAA,MACtC,YAAYC;AAAA,MACZ,WAAW;AAAA,MACX,YAAY;AAAA,IACd,CAAC;AAAA,EACH;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAOC,GAAE;AAAA,EACX;AACF;AACAT,IAAE,SAAS,IAAIU,IAAEC,KAAG,MAAM,OAAO,yCAAgC,CAAC;;;ACFlE,IAAIC,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAGC,KAAGC,KAAGC,KAAGC,KAAGC,KAAG;AAC5B,UAAM,CAAC,CAAC,GAAG,KAAK,OAAOL,KAAG,KAAK,SAASE,KAAG,KAAK,2BAA2BC,KAAG,KAAK,qBAAqBC,KAAG,KAAK,iBAAiBC,KAAG,KAAK,YAAY,GAAG,KAAK,eAAe,GAAG,KAAK,kBAAkB,IAAIC,GAAE,GAAG,KAAK,yBAAyB,CAAC,GAAG,KAAK,cAAcC,KAAG,KAAK,cAAc,OAAI,KAAK,6BAA6B,OAAI,KAAK,wBAAwB,qBAAqB,KAAK,QAAQP,IAAE,MAAM,KAAK,kBAAkB,IAAIQ,IAAE,IAAIC,GAAET,KAAGE,IAAE,WAAW,GAAG,IAAI,GAAG,KAAK,gBAAgB,UAAU,UAAU,MAAI,KAAK,OAAOA,IAAE,KAAK,KAAK,GAAG,KAAK,wBAAwB,IAAIM,IAAEP,KAAG,KAAK,OAAO,MAAMI,GAAC;AACzkB,UAAMK,MAAI,KAAK,OAAO,KAAK,mBAAmB;AAC9C,SAAK,WAAW,CAACA,IAAE,aAAaC,GAAE,oBAAoB,IAAI,GAAGC,GAAE,MAAMV,IAAE,YAAY,CAAAF,QAAK;AACtF,WAAK,cAAca,GAAC,GAAG,QAAQb,OAAK,KAAK,WAAWA,IAAE,OAAO,GAAG,+BAA+B,MAAM,KAAK,6BAA6B,IAAE,GAAGa,GAAC;AAAA,IAC/I,GAAGC,EAAC,GAAGF,GAAE,MAAM,KAAK,aAAa,MAAM,KAAK,wBAAwB,GAAG,CAAC,CAAC,GAAG,KAAK,qBAAqB;AAAA,EACxG;AAAA,EACA,oBAAoB;AAClB,WAAO,CAAC;AAAA,EACV;AAAA,EACA,UAAU;AACR,SAAK,SAAS,GAAG,KAAK,cAAc,KAAK,qBAAqB,GAAG,KAAK,wBAAwBT,GAAE,KAAK,qBAAqB,GAAG,KAAK,gBAAgB,UAAU,QAAQ,GAAG,KAAK,OAAOA,GAAE,KAAK,IAAI,GAAG,KAAK,OAAOA,GAAE,KAAK,IAAI,GAAG,KAAK,+BAA+BF,GAAE,KAAK,4BAA4B,GAAG,KAAK,uBAAuB,SAAS,GAAG,KAAK,eAAe;AAAA,EACnW;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,KAAK,MAAM;AAAA,EACpB;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK,iBAAiB,KAAK;AAAA,EACpC;AAAA,EACA,IAAI,yBAAyB;AAC3B,QAAI,QAAQ,KAAK,8BAA8B;AAC7C,YAAMD,MAAI;AAAA,QACR,MAAM,KAAK;AAAA,QACX,aAAa,KAAK,OAAO;AAAA,MAC3B;AACA,WAAK,+BAA+B,IAAIY,IAAEZ,GAAC;AAAA,IAC7C;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,aAAa,CAAC,KAAK,uBAAuB,CAAC,KAAK;AAAA,EAC9D;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,aAAa,KAAK;AAAA,EAChC;AAAA,EACA,IAAI,YAAY;AACd,WAAO,QAAQ,KAAK,QAAQ,KAAK,eAAe;AAAA,EAClD;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,QAAQ,KAAK,gBAAgB,SAAS,KAAK,gBAAgBO,OAAK,KAAK,wBAAwBQ;AAAA,EACtG;AAAA,EACA,IAAI,sBAAsB;AACxB,WAAO,KAAK,aAAa,KAAK;AAAA,EAChC;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,iBAAiBf,KAAG;AACtB,UAAMC,MAAI,KAAK;AACf,QAAI,EAAEA,KAAGD,KAAG,CAAC,EAAG;AAChB,UAAMG,MAAI,KAAK,IAAIG,KAAGN,IAAE,MAAM;AAC9B,IAAAC,IAAE,SAASE,KAAG,KAAK,eAAeA;AAClC,aAASD,MAAI,GAAGA,MAAIC,KAAG,EAAED,IAAG,CAAAD,IAAEC,GAAC,IAAIC,GAAEF,IAAEC,GAAC,KAAKc,GAAE,GAAGhB,IAAEE,GAAC,CAAC;AACtD,SAAK,YAAY;AAAA,EACnB;AAAA,EACA,IAAI,wBAAwB;AAC1B,WAAO,KAAK,sBAAsB;AAAA,EACpC;AAAA,EACA,IAAI,sBAAsBF,KAAG;AAC3B,SAAK,sBAAsB,uBAAuBA;AAAA,EACpD;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,eAAe,KAAK,iBAAiB,KAAK,YAAY;AAAA,EACpE;AAAA,EACA,QAAQA,KAAG;AACT,SAAK,KAAK,yBAAyB,KAAK,eAAe,GAAG,CAACA,IAAE,QAAQ,CAAC,KAAK,sBAAsB,MAAK,kBAAkB,GAAGA,IAAE,aAAa;AAC1I,SAAK,eAAe;AAAA,EACtB;AAAA,EACA,mBAAmBA,KAAGC,KAAGC,KAAGC,KAAG;AAC7B,QAAI,KAAK,cAAcF,KAAG,KAAK,cAAcC,GAAC,GAAG,KAAK,gBAAgB,gBAAgBC,KAAG,KAAK,gBAAgB,QAAQH,KAAG,KAAK,gBAAgB,SAAS,KAAK,gBAAgB,OAAO,QAAQ,KAAK,aAAa,eAAe,GAAG,CAAC,KAAK,kBAAkB,CAAC,KAAK,cAAe,QAAO;AACnR,KAAC,KAAK,eAAe,MAAM,KAAK,aAAa,KAAK,+BAA+B,KAAK,OAAO;AAC7F,UAAMI,MAAI,KAAK,6BAA6B,KAAK,eAAe,KAAK,IAAIa,KAAG,KAAK,eAAe,KAAK,SAAS;AAC9G,aAASZ,MAAI,GAAGA,MAAID,KAAG,EAAEC,IAAG,MAAK,kBAAkB;AACnD,WAAO,KAAK,6BAA6B,OAAI,KAAK,eAAe,GAAGD,MAAI;AAAA,EAC1E;AAAA,EACA,OAAOJ,KAAG;AACR,SAAK,sBAAsB,OAAOA,GAAC;AAAA,EACrC;AAAA,EACA,WAAWA,KAAG;AACZ,QAAI,WAAWA,IAAE,SAAS;AACxB,YAAMC,MAAI,QAAQ,KAAK;AACvB,MAAAD,IAAE,YAAYC,QAAMD,IAAE,UAAU,KAAK,QAAQ,IAAI,KAAK,SAAS;AAAA,IACjE;AACA,eAAWA,IAAE,eAAe,KAAK,cAAcA,IAAE,aAAa,WAAWA,IAAE,oBAAoB,KAAK,mBAAmBA,IAAE,kBAAkB,KAAK,sBAAsB,WAAWA,GAAC;AAAA,EACpL;AAAA,EACA,sBAAsBA,KAAGC,KAAG;AAC1B,WAAO,CAAC,KAAK,aAAa,CAAC,KAAK,QAAQ,KAAK,YAAY,KAAKD,MAAI,KAAKA,OAAK,KAAK,KAAK,SAASC,MAAI,KAAKA,OAAK,KAAK,KAAK,SAAS,KAAK,KAAK,KAAK,WAAWD,KAAGC,KAAG,GAAG,GAAGQ,GAAE,MAAMQ,GAAE,eAAeC,GAAC,GAAGA,IAAE,CAAC,IAAI,KAAK;AAAA,EACjN;AAAA,EACA,UAAU;AACR,SAAK,YAAY;AACjB,UAAMlB,MAAI,IAAIA,IAAE;AAChB,IAAAA,IAAE,cAAcS,GAAE,KAAKT,IAAE,iBAAiBmB,GAAE,IAAInB,IAAE,WAAWoB,GAAE,eAAe,KAAK,OAAO,IAAIC,IAAE,KAAK,OAAOrB,GAAC,GAAG,KAAK,eAAe;AAAA,EACtI;AAAA,EACA,WAAW;AACT,SAAK,OAAOG,GAAE,KAAK,IAAI,GAAG,KAAK,eAAe;AAAA,EAChD;AAAA,EACA,cAAc;AACZ,SAAK,YAAY,GAAG,KAAK,wBAAwB;AAAA,EACnD;AAAA,EACA,SAAS;AACP,SAAK,MAAM,gBAAgB,KAAK,IAAI,GAAG,KAAK,MAAM,cAAc,GAAG,GAAG,GAAG,CAAC,GAAG,KAAK,MAAM,MAAMmB,GAAE,gBAAgB,GAAG,KAAK,YAAY;AAAA,EACtI;AAAA,EACA,oBAAoB;AAClB,SAAK,mBAAmB,KAAK,iBAAiB,KAAK,iBAAiB,KAAK,WAAW,GAAG,KAAK,WAAW;AACvG,UAAMtB,MAAI,KAAK;AACf,SAAK,MAAM,gBAAgB,KAAK,IAAI,GAAG,KAAK,MAAM,cAAcA,KAAG,KAAK,iBAAiB,KAAK,eAAe,GAAG,KAAK,MAAM,QAAQ,KAAK,IAAI,GAAG,KAAK,MAAM,WAAWA,IAAE,eAAe,GAAGE,GAAE,KAAK,MAAM,UAAU,CAAC;AAAA,EACnN;AAAA,EACA,cAAcF,KAAG;AACf,UAAMC,MAAI,KAAK;AACf,QAAI,QAAQA,IAAG;AACf,UAAMC,MAAI,KAAK,gBAAgB;AAC/B,IAAAF,IAAE,OAAOE,GAAC,KAAKA,IAAE,SAASF,GAAC,GAAGC,IAAE,OAAOD,IAAE,WAAWA,IAAE,UAAU,GAAG,KAAK,wBAAwB,IAAIe,GAAER,KAAGG,KAAGV,IAAE,iBAAiB;AAAA,EACjI;AAAA,EACA,0BAA0B;AACxB,SAAK,QAAQ,KAAK,eAAe;AAAA,EACnC;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACAA,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,aAAa,MAAM,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,gBAAgB,MAAM,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,QAAQ,MAAM,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,eAAe,MAAM,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,eAAe,MAAM,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,yBAAyB,MAAM,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,eAAe,IAAI,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,aAAa,IAAI,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,iBAAiB,IAAI,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,uBAAuB,IAAI,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,yBAAyB,IAAI,GAAGE,GAAE,CAACuB,GAAE,CAAC,GAAGzB,IAAE,WAAW,WAAW,IAAI,GAAGA,MAAIE,GAAE,CAACwB,GAAE,kDAAkD,CAAC,GAAG1B,GAAC;AAC5mB,IAAMmB,MAAI;AAAV,IACEJ,MAAI;AADN,IAEEK,MAAI,IAAI,WAAW,CAAC;;;ACrJtB,IAAMO,MAAIC,GAAE;AACZ,IAAMC,MAAN,MAAQ;AAAA,EACN,cAAc;AACZ,SAAK,SAASD,GAAE;AAAA,EAClB;AAAA,EACA,IAAI,YAAY;AACd,WAAO,CAAC,GAAE,KAAK,OAAOD,GAAC;AAAA,EACzB;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,MAAMG,KAAG;AACX,MAAEA,OAAKH,KAAG,KAAK,MAAM;AAAA,EACvB;AACF;;;ACdA,SAASI,IAAEC,KAAGD,KAAG;AACf,QAAME,MAAID,IAAE,aAAa;AACzB,SAAO,QAAQC,MAAI,OAAO,IAAIC,IAAED,KAAGF,GAAC;AACtC;AACA,IAAMG,MAAN,MAAQ;AAAA,EACN,YAAYF,KAAGD,KAAG;AAChB,SAAK,SAASC,KAAG,KAAK,aAAa,IAAI,MAAM,GAAG,KAAK,gBAAgB,oBAAI,IAAI,GAAG,KAAK,gBAAgB,MAAMD,IAAE,QAAQ,CAAAC,QAAK;AACxH,YAAMD,MAAI,KAAK,OAAO,YAAY,GAChCG,MAAI,KAAK,OAAO,YAAY;AAC9B,WAAK,WAAW,KAAKH,KAAGG,GAAC,GAAG,KAAK,cAAc,IAAIF,KAAG,IAAI;AAAA,IAC5D,CAAC;AAAA,EACH;AAAA,EACA,QAAQ;AACN,IAAAG,QAAM,KAAK,gBAAgB,KAAK,WAAW,IAAI,GAAG,QAAQ,KAAK,kBAAkB,KAAK,OAAO,SAAS,GAAG,KAAK,OAAO,iBAAiB,KAAK,aAAa;AAAA,EAC1J;AAAA,EACA,KAAKH,KAAG;AACN,QAAI,KAAK,OAAO,SAAS,KAAK,QAAQ,KAAK,iBAAiB,CAAC,KAAK,cAAc,IAAIA,GAAC,EAAG,QAAO,KAAK,MAAM,GAAG;AAC7G,SAAK,OAAO,eAAe;AAC3B,UAAMD,MAAI,KAAK,cAAc,IAAIC,GAAC;AAClC,QAAI,QAAQD,IAAG,QAAO,KAAK,cAAc,IAAIC,KAAG,KAAK,aAAa,GAAG,KAAK,gBAAgB,MAAM;AAChG,QAAI,CAAC,KAAK,OAAO,gBAAgBD,GAAC,EAAG,QAAO,KAAK,WAAW,QAAQ,KAAK,aAAa,GAAG,KAAK,gBAAgB,MAAM;AACpH,UAAMG,MAAI,KAAK,OAAO,UAAUH,GAAC,IAAI;AACrC,WAAO,KAAK,WAAW,QAAQA,GAAC,GAAG,KAAK,cAAc,IAAIC,KAAG,KAAK,aAAa,GAAG,KAAK,gBAAgB,MAAME;AAAA,EAC/G;AAAA,EACA,QAAQ;AACN,YAAQ,KAAK,kBAAkB,KAAK,OAAO,YAAY,KAAK,aAAa,GAAG,KAAK,WAAW,QAAQ,KAAK,OAAO,YAAY,CAAC,GAAG,KAAK,gBAAgB;AAAA,EACvJ;AAAA,EACA,UAAU;AACR,YAAQ,KAAK,iBAAiB,KAAK,OAAO,YAAY,KAAK,aAAa,GAAG,KAAK,WAAW,QAAQ,CAAAF,QAAK;AACtG,WAAK,OAAO,YAAYA,GAAC;AAAA,IAC3B,CAAC,GAAG,KAAK,cAAc,QAAQ,CAAAA,QAAK;AAClC,cAAQA,OAAK,KAAK,OAAO,YAAYA,GAAC;AAAA,IACxC,CAAC;AAAA,EACH;AACF;;;AC9BA,IAAII;AACJ,CAAC,SAAUC,KAAG;AACZ,EAAAA,IAAE,UAAU,WAAWA,IAAE,UAAU,WAAWA,IAAE,aAAa,cAAcA,IAAE,QAAQ,SAASA,IAAE,sBAAsB,uBAAuBA,IAAE,4BAA4B,yBAAyBA,IAAE,UAAU,WAAWA,IAAE,OAAO,QAAQA,IAAE,eAAe,gBAAgBA,IAAE,QAAQ,SAASA,IAAE,cAAc,eAAeA,IAAE,oBAAoB,qBAAqBA,IAAE,iBAAiB,kBAAkBA,IAAE,sBAAsB,uBAAuBA,IAAE,qBAAqB,sBAAsBA,IAAE,0BAA0B,2BAA2BA,IAAE,cAAc,eAAeA,IAAE,WAAW,YAAYA,IAAE,WAAW,YAAYA,IAAE,MAAM,OAAOA,IAAE,eAAe,gBAAgBA,IAAE,SAAS;AAChrB,EAAED,QAAMA,MAAI,CAAC,EAAE;AACf,IAAME,MAAI,OAAO,OAAOC,GAAC,EAAE,OAAO,OAAO,OAAOC,GAAC,CAAC,EAAE,OAAO,OAAO,OAAOJ,GAAC,CAAC;AAA3E,IACEK,MAAI;AACN,IAAMC,MAAN,MAAQ;AAAA,EACN,YAAYL,KAAG;AACb,SAAK,QAAQA,KAAG,KAAK,qBAAqBE,GAAE,CAAC,GAAG,KAAK,oBAAoBA,GAAE,CAAC,GAAG,KAAK,gBAAgB,IAAII,GAAEF,GAAC,GAAG,KAAK,mBAAmB,IAAI,IAAIH,IAAE,IAAI,CAAAD,QAAK,CAACA,KAAG,IAAIM,GAAEN,GAAC,CAAC,CAAC,CAAC,GAAG,KAAK,kBAAkB,GAAG,KAAK,gBAAgB,IAAIM,GAAE,KAAK,GAAG,KAAK,mBAAmB,IAAI,IAAIL,IAAE,IAAI,CAAAD,QAAK,CAACA,KAAG,IAAIM,GAAEN,GAAC,CAAC,CAAC,CAAC,GAAG,KAAK,aAAaE,GAAE,CAAC,GAAG,KAAK,mBAAmB;AAAA,EACrV;AAAA,EACA,IAAI,sBAAsB;AACxB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,MAAM,KAAK,KAAK,iBAAiB,OAAO,CAAC;AAAA,EAClD;AAAA,EACA,IAAI,sBAAsB;AACxB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,MAAM,KAAK,KAAK,iBAAiB,OAAO,CAAC;AAAA,EAClD;AAAA,EACA,IAAI,qBAAqB;AACvB,WAAO,QAAQ,KAAK;AAAA,EACtB;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,cAAc;AAChB,WAAOA,GAAE,YAAY,IAAI,IAAI,KAAK,kBAAkB;AAAA,EACtD;AAAA,EACA,2BAA2B;AACzB,QAAI,QAAQ,KAAK,eAAe;AAC9B,YAAMF,MAAI,CAAC,GAAGC,KAAGG,GAAC;AAClB,WAAK,gBAAgBJ,IAAE,KAAK,OAAOA,GAAC;AAAA,IACtC;AACA,QAAI,QAAQ,KAAK,cAAe,QAAO;AAAA,MACrC,oBAAoB;AAAA,MACpB,QAAQ,MAAM;AAAA,MAAC;AAAA,IACjB;AACA,MAAE,KAAK;AACP,QAAIG,MAAI;AACR,WAAO;AAAA,MACL,oBAAoB;AAAA,MACpB,QAAQ,MAAM;AACZ,QAAAA,QAAMA,MAAI,MAAI,EAAE,KAAK,iBAAiB,MAAM,KAAK,oBAAoB,KAAK,gBAAgBI,GAAE,KAAK,aAAa;AAAA,MAChH;AAAA,IACF;AAAA,EACF;AAAA,EACA,aAAa;AACX,SAAK,qBAAqB,KAAK,oBAAoBL,GAAE,YAAY,IAAI,CAAC,GAAG,KAAK,iBAAiB,KAAK,cAAc,MAAM;AAAA,EAC1H;AAAA,EACA,QAAQF,KAAG;AACT,UAAMG,MAAID,GAAE,YAAY,IAAI,CAAC;AAC7B,QAAI,KAAK,iBAAiB,IAAIF,GAAC,EAAE,OAAOG,MAAI,KAAK,iBAAiB,GAAG,KAAK,oBAAoBA,KAAG,KAAK,eAAe;AACnH,YAAMA,MAAI,KAAK,cAAc,KAAKH,GAAC;AACnC,WAAK,iBAAiB,IAAIA,GAAC,EAAE,OAAOG,GAAC,GAAG,KAAK,cAAc,MAAM;AAAA,IACnE;AAAA,EACF;AAAA,EACA,cAAc;AACZ,QAAI,KAAK,eAAe;AACtB,YAAMH,MAAI,KAAK,cAAc,KAAKD,IAAE,MAAM;AAC1C,WAAK,iBAAiB,IAAIA,IAAE,MAAM,EAAE,OAAOC,GAAC,GAAG,KAAK,MAAM,GAAG,MAAM;AAAA,IACrE;AACA,UAAMA,MAAIE,GAAE,YAAY,IAAI,IAAI,KAAK,kBAAkB;AACvD,SAAK,aAAaA,GAAE,KAAK,aAAaF,GAAC,GAAG,KAAK,cAAc,OAAOA,GAAC,GAAG,KAAK,iBAAiB,KAAK,cAAc,OAAO,KAAK,gBAAgB,OAAO,CAACA,KAAGG,QAAMH,OAAKG,IAAE,QAAQ,IAAI,CAAC,CAAC,GAAG,EAAE,KAAK;AAAA,EAC/L;AACF;;;ACjBA,IAAMK,MAAN,MAAS;AAAA,EACP,YAAYC,KAAGC,KAAGC,KAAGC,KAAGC,KAAGC,KAAG;AAC5B,SAAK,SAASL,KAAG,KAAK,cAAcE,KAAG,KAAK,QAAQC,KAAG,KAAK,qBAAqBC,KAAG,KAAK,iBAAiBC,KAAG,KAAK,cAAc;AAAA,MAC9H,aAAa;AAAA,MACb,OAAO;AAAA,IACT,GAAG,KAAK,mBAAmB,OAAI,KAAK,gBAAgB,CAAAL,QAAK;AAAA,IAAC,GAAG,KAAK,eAAe,OAAI,KAAK,eAAe,OAAI,KAAK,mBAAmBE,GAAE,GAAG,GAAG,GAAG,CAAC,GAAG,KAAK,eAAe,IAAIG,IAAG,GAAG,KAAK,QAAQ,MAAM,KAAK,SAASH,IAAEI,GAAG,IAAI,GAAG,KAAK,kCAAkC,MAAI,KAAK,uBAAuBC,IAAE,QAAQ,KAAK,cAAc,OAAI,KAAK,iBAAiB,OAAI,KAAK,qBAAqB,IAAIP,IAAE,GAAG,KAAK,oBAAoB,MAAM,KAAK,qBAAqB,CAAC,GAAG,KAAK,6BAA6BE,IAAE,CAAC,GAAG,KAAK,gCAAgC,MAAM;AAAA,IAAC,GAAG,KAAK,eAAe,IAAID,IAAG,GAAG,KAAK,kBAAkB,CAAAD,QAAK;AAChlB,MAAAA,IAAE,KAAK,CAAC;AAAA,QACN,MAAMA;AAAA,MACR,MAAM,cAAcA,GAAC,KAAK,KAAK,aAAa,QAAQ,SAAS;AAAA,IAC/D,GAAG,KAAK,mBAAmB,OAAI,KAAK,WAAW,IAAIQ,IAAEL,GAAC,GAAG,KAAK,uBAAuBD,IAAEO,IAAG,CAAC,IAAI,mCAAmC,GAAGT,IAAE,KAAK,cAAc,CAAC,GAAG,KAAK,aAAa,IAAIQ,IAAE,KAAK,UAAU,KAAK,kBAAkB,GAAG,KAAK,kBAAkB,IAAIE,IAAG,KAAK,KAAK,GAAG,KAAK,aAAa,IAAIC,GAAG,KAAK,UAAUX,IAAE,WAAW,GAAG,KAAK,YAAY,IAAIY,GAAG;AAAA,MACxV,UAAU,KAAK;AAAA,MACf,MAAMZ,IAAE;AAAA,IACV,GAAG,CAACA,KAAGC,KAAGC,QAAM;AACd,MAAAD,IAAE,cAAc,KAAK,KAAK;AAC1B,YAAM;AAAA,QACJ,QAAQQ;AAAA,QACR,eAAeN;AAAA,MACjB,IAAIH;AACJ,WAAK,4BAA4BC,KAAGA,GAAC,GAAG,KAAK,mBAAmBC,GAAC,GAAG,KAAK,4BAA4BO,KAAGN,GAAC,GAAGH,IAAE,OAAO,cAAc,KAAK,KAAK;AAAA,IAC/I,CAAC,GAAG,KAAK,qBAAqB,IAAIa,IAAG,KAAK,UAAUX,KAAGF,KAAG,CAAAA,QAAK;AAC7D,YAAMC,MAAI,KAAK;AACf,WAAK,WAAW,UAAU,MAAI,KAAK,4BAA4BD,IAAE,QAAQA,IAAE,aAAa,GAAG,KAAK,SAAS,cAAc,GAAG,KAAK,WAAW,UAAUC;AAAA,IACtJ,GAAG,CAACD,KAAGC,KAAGC,QAAM;AACd,YAAMO,MAAI,KAAK,OAAO,KAAK,gBAAgB;AAC3C,MAAAT,IAAE,UAAU,MAAMA,IAAE,QAAQC,KAAGC,KAAG,MAAIO,GAAC,GAAG,KAAK,sBAAsBK,GAAE,QAAQd,IAAE,SAAS,GAAGA,IAAE,UAAU,OAAO,GAAGA,IAAE,OAAO,cAAc,KAAK,KAAK,GAAG,KAAK,4BAA4BA,IAAE,QAAQA,IAAE,aAAa;AAAA,IACnN,GAAGK,GAAC,GAAG,KAAK,iBAAiB,IAAIA,IAAE,KAAK,OAAO,KAAK,YAAY,KAAK,YAAY,KAAK,YAAY,GAAG,KAAK,SAAS,IAAIA,IAAE,KAAK,cAAc,GAAG,KAAK,WAAW,IAAIU,IAAE;AAAA,MACnK,eAAe,KAAK;AAAA,MACpB,YAAYb;AAAA,MACZ,WAAWD;AAAA,MACX,eAAeI;AAAA,MACf,YAAYL;AAAA,MACZ,MAAM,KAAK;AAAA,MACX,kBAAkB,CAAAA,QAAK,KAAK,iBAAiBA,GAAC;AAAA,IAChD,CAAC,GAAG,KAAK,oBAAoB,IAAIa,IAAE,GAAG,KAAK,SAAS,IAAI,KAAK,iBAAiB,GAAG,KAAK,SAAS,IAAI,KAAK,SAAS,GAAG,KAAK,WAAW,CAACG,GAAE,MAAM,KAAK,OAAO,KAAK,MAAM,QAAQ,MAAMX,IAAE,GAAGY,EAAC,GAAGD,GAAE,MAAMf,IAAE,qCAAqC,CAAAD,QAAK;AAC7O,WAAK,gCAAgCA,MAAI,MAAM,KAAK,aAAaiB,GAAG,WAAW,IAAI,MAAM;AAAA,MAAC,GAAGZ,IAAE;AAAA,IACjG,GAAG,CAAC,GAAGW,GAAE,MAAM,KAAK,OAAO,KAAK,YAAY,YAAY,OAAO,CAAAhB,QAAK;AAClE,YAAMC,MAAID,MAAIkB,GAAElB,GAAC,IAAImB;AACrB,MAAAV,IAAE,KAAK,kBAAkBR,IAAE,CAAC,IAAIA,IAAE,CAAC,GAAGA,IAAE,CAAC,IAAIA,IAAE,CAAC,GAAGA,IAAE,CAAC,IAAIA,IAAE,CAAC,GAAGA,IAAE,CAAC,CAAC,GAAGI,IAAE;AAAA,IAC3E,GAAGY,EAAC,GAAGD,GAAE,MAAM,KAAK,OAAO,KAAK,MAAM,OAAO,mBAAmB,CAAAhB,QAAK;AACnE,WAAK,gBAAgBA,OAAK,IAAI,MAAMc;AAAA,IACtC,GAAGG,EAAC,CAAC;AAAA,EACP;AAAA,EACA,UAAU;AACR,SAAK,SAAS,QAAQ,CAAAjB,QAAKA,IAAE,OAAO,CAAC,GAAG,KAAK,kBAAkB,EAAE,KAAK,eAAe,GAAG,KAAK,OAAO,QAAQ,GAAG,KAAK,WAAW,QAAQ,GAAG,KAAK,WAAW,QAAQ,GAAG,KAAK,mBAAmB,QAAQ,GAAG,KAAK,oBAAoB,EAAE,KAAK,iBAAiB,GAAG,KAAK,YAAY,EAAE,KAAK,SAAS,GAAG,KAAK,kBAAkB,QAAQ,GAAG,KAAK,aAAa,GAAG,KAAK,yBAAyB,GAAG,KAAK,SAAS,QAAQ,GAAG,KAAK,SAAS,QAAQ,GAAGc,IAAE,MAAM;AAAA,EACpb;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK,eAAe;AAAA,EAC7B;AAAA,EACA,qBAAqBd,MAAI,MAAMC,MAAI,CAAC,IAAI,mCAAmC,GAAG;AAC5E,SAAK,qBAAqB,QAAQQ,IAAGR,KAAGD,GAAC,GAAG,KAAK,SAAS,qBAAqB,GAAG,KAAK,eAAe;AAAA,EACxG;AAAA,EACA,iBAAiBA,KAAGC,MAAI,KAAK,OAAO,OAAO;AACzC,WAAO,KAAK,qBAAqB,MAAM,IAAIA,KAAGD,GAAC,KAAK;AAAA,EACtD;AAAA,EACA,kBAAkBA,KAAGC,KAAGC,KAAG;AACzB,SAAK,qBAAqB,OAAO,CAAAO,QAAKA,IAAE,IAAIR,KAAGD,KAAGE,GAAC,CAAC,GAAG,KAAK,eAAe;AAAA,EAC7E;AAAA,EACA,IAAI,2BAA2B;AAC7B,WAAO,KAAK,mCAAmC,KAAK,iBAAiBY,IAAG,uBAAuB;AAAA,EACjG;AAAA,EACA,IAAI,iBAAiB;AACnB,YAAQ,KAAK,YAAY,SAAS,KAAK,sBAAsB,KAAK,eAAe,KAAK,iBAAiBA,IAAG,eAAe;AAAA,EAC3H;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK,SAAS,kBAAkB,KAAK,OAAO,SAAS,iBAAiB;AAAA,EAC/E;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,SAAS,SAASA,GAAE,WAAWI,IAAG,iBAAiBA,IAAG,sBAAsBA,IAAG,eAAe;AAAA,EAC5G;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,SAAS,SAAS,KAAK,eAAe,QAAQA,IAAG,YAAYA,IAAG,2BAA2B;AAAA,EACzG;AAAA,EACA,IAAI,UAAU;AACZ,YAAQ,KAAK,OAAO,KAAK,gBAAgB,oBAAoB,KAAK,iBAAiBJ,IAAG,IAAI,MAAM,CAAC,KAAK;AAAA,EACxG;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,OAAO,KAAK,gBAAgB,uBAAuB,KAAK,iBAAiBA,IAAG,YAAY;AAAA,EACtG;AAAA,EACA,IAAI,2BAA2B;AAC7B,WAAO,KAAK,OAAO,KAAK,gBAAgB,4BAA4B,KAAK,iBAAiBA,IAAG,wBAAwB;AAAA,EACvH;AAAA,EACA,eAAe;AACb,SAAK,gBAAgB,IAAI,iBAAiBb,GAAE,KAAK,gBAAgB,IAAI,cAAc,GAAG,KAAK,gBAAgB,iBAAiB,QAAQA,GAAE,KAAK,gBAAgB,iBAAiB,KAAK,GAAG,KAAK,gBAAgB,kBAAkB,QAAQA,GAAE,KAAK,gBAAgB,kBAAkB,KAAK;AAAA,EACnR;AAAA,EACA,2BAA2B;AACzB,SAAK,WAAW,QAAQ,GAAG,KAAK,oBAAoB;AAAA,EACtD;AAAA,EACA,sBAAsB;AACpB,SAAK,WAAW,wBAAwB,GAAG,KAAK,UAAU,kBAAkB,wBAAwB,GAAG,KAAK,gBAAgB,QAAQA,GAAE,KAAK,gBAAgB,KAAK,GAAG,KAAK,gBAAgB,gBAAgBA,GAAE,KAAK,gBAAgB,aAAa;AAAA,EAC9O;AAAA,EACA,IAAI,WAAW;AACb,WAAO,QAAQ,KAAK,aAAa,KAAK,UAAU,YAAY,KAAK,mBAAmB,WAAW,KAAK,SAAS,YAAY,CAAC,KAAK;AAAA,EACjI;AAAA,EACA,eAAe;AACb,WAAO,KAAK,sBAAsB,KAAK,oBAAoB,EAAE,CAAMD,QAAK;AACtE,YAAM;AAAA,QACJ,UAAUC;AAAA,MACZ,IAAI,MAAM,OAAO,wBAA6B;AAC9C,MAAAQ,GAAET,GAAC;AACH,YAAME,MAAI,KAAK,YAAY,IAAID,IAAE;AAAA,QAC/B,MAAM,KAAK;AAAA,QACX,UAAU,KAAK,OAAO,KAAK;AAAA,QAC3B,aAAa,KAAK,OAAO;AAAA,QACzB,YAAY,KAAK;AAAA,QACjB,gBAAgB,MAAM,KAAK,eAAe;AAAA,QAC1C,UAAU,GAAG,KAAK,OAAO,KAAK,kBAAkB;AAAA,MAClD,CAAC;AACD,aAAO,KAAK,SAAS,KAAKe,GAAE,MAAMd,IAAE,UAAU,MAAM,KAAK,eAAe,GAAG,CAAC,CAAC,GAAG,KAAK,eAAe,GAAG,KAAK,mBAAmB,QAAQ,CAAAF,QAAKA,IAAEE,GAAC,CAAC,GAAG,KAAK,mBAAmB,SAAS,GAAGA;AAAA,IACzL,EAAC,IAAI,KAAK,kBAAkB;AAAA,EAC9B;AAAA,EACA,aAAaF,KAAG;AACd,SAAK,aAAa,GAAG,QAAQ,KAAK,YAAY,KAAK,mBAAmB,KAAKA,GAAC,IAAIA,IAAE,KAAK,SAAS;AAAA,EAClG;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,2BAA2B,SAAS,KAAKY,GAAE,KAAK,gBAAgB,IAAI,oBAAoBE,EAAC;AAAA,EACvG;AAAA,EACA,IAAI,oBAAoBd,KAAG;AACzB,MAAE,KAAK,gBAAgB,IAAI,oBAAoBA,GAAC,KAAK,KAAK,2BAA2B;AAAA,EACvF;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,CAAC,CAAC,KAAK,YAAY;AAAA,EAC5B;AAAA,EACA,cAAcA,KAAG;AACf,UAAM;AAAA,MACJ,YAAYC;AAAA,MACZ,iBAAiBC;AAAA,IACnB,IAAI;AACJ,QAAI,WAAWF,IAAE,iBAAiB,eAAe,KAAK,gBAAgBA,IAAE,gBAAgB,gBAAgB,KAAK,cAAcA,IAAE,gBAAgB,aAAa,KAAK,eAAe,IAAI,WAAWA,IAAE,aAAa,KAAK,WAAW,YAAYA,IAAE,cAAc,KAAK,WAAW,UAAUA,IAAE,WAAW,KAAK,eAAe,IAAI,WAAWA,IAAE,wBAAwBC,IAAE,gBAAgBD,IAAE,yBAAyBC,IAAE,cAAcD,IAAE,sBAAsB,KAAK,eAAe,IAAI,QAAQA,IAAE,aAAa;AAC9d,cAAQA,IAAE,YAAY,YAAY,KAAK,gBAAgB,UAAUA,IAAE,YAAY,SAAS,KAAK,gBAAgB,iBAAiB,CAAC,CAACA,IAAE;AAClI,YAAMC,MAAI,cAAcD,IAAE,YAAY,SAAS;AAC/C,MAAAE,IAAE,qBAAqBD,QAAMC,IAAE,mBAAmBD,KAAG,KAAK,eAAe;AAAA,IAC3E;AACA,eAAWD,IAAE,2BAA2B,KAAK,oCAAoCA,IAAE,4BAA4B,KAAK,kCAAkCA,IAAE,yBAAyB,KAAK,eAAe,IAAI,WAAWA,IAAE,mBAAmB,KAAK,qBAAqBA,IAAE,oBAAoB,KAAK,mBAAmBA,IAAE,iBAAiB,KAAK,eAAe,IAAI,WAAWA,IAAE,cAAc,KAAK,aAAa,UAAUA,IAAE,eAAe,KAAK,aAAa,QAAQA,IAAE,YAAY,KAAK,eAAe,IAAI,WAAWA,IAAE,uBAAuB,KAAK,yBAAyBA,IAAE,wBAAwB,KAAK,uBAAuBA,IAAE,qBAAqB,KAAK,eAAe,IAAI,WAAWA,IAAE,cAAc,KAAK,mBAAmB,WAAWA,IAAE,UAAU;AAAA,EACvtB;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,CAAC,CAAC,KAAK,aAAa;AAAA,EAC7B;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK,MAAM,WAAW,iBAAiB;AAAA,EAChD;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,4BAA4B,KAAK;AAAA,EAC/C;AAAA,EACA,OAAOA,KAAGC,KAAG;AACX,SAAK,gBAAgB,QAAQ,KAAK,wCAAwC;AAC1E,UAAM;AAAA,MACJ,MAAMC;AAAA,MACN,SAASO;AAAA,MACT,SAASN;AAAA,IACX,IAAIH;AACJ,QAAI,MAAME,IAAE,UAAU,MAAMO,IAAE,UAAU,MAAMN,IAAE,OAAQ;AACxD,UAAMC,MAAIC,IAAEL,GAAC;AACb,QAAIK,MAAI;AACR,IAAAD,IAAE,QAAQ,CAACF,KAAGO,QAAM;AAClB,UAAIR,IAAE,KAAM;AACZ,UAAIE,MAAI,KAAK,SAAS,oBAAoBM,GAAC;AAC3C,UAAI,QAAQN,OAAKD,IAAE,KAAK,SAAS,GAAG;AAClC,cAAMF,MAAI,IAAIoB,GAAG;AAAA,UACf,UAAUX;AAAA,QACZ,CAAC;AACD,QAAAT,IAAE,wBAAwB,KAAK,SAAS,QAAQ,GAAGG,MAAIH,KAAG,KAAK,SAAS,IAAIG,GAAC;AAAA,MAC/E;AACA,MAAAA,QAAMA,IAAE,OAAOD,GAAC,GAAG,MAAMC,IAAE,kBAAkBE,MAAI,QAAMH,IAAE,QAAQ,QAAQ,CAAAD,QAAKD,IAAE,QAAQ,gBAAgBC,GAAC,CAAC,GAAGC,IAAE,KAAK,QAAQ,CAAAD,QAAKD,IAAE,KAAK,gBAAgBC,GAAC,CAAC,GAAGC,IAAE,QAAQ,QAAQ,CAAAD,QAAKD,IAAE,QAAQ,gBAAgBC,GAAC,CAAC,GAAGA,IAAE,aAAa;AAAA,IACpO,CAAC,GAAGI,OAAK,KAAK,SAAS,6BAA6B,GAAG,KAAK,gBAAgB,GAAG,KAAK,eAAe;AAAA,EACrG;AAAA,EACA,kBAAkB;AAChB,UAAMgB,OAAM,KAAK;AACjB,IAAAA,KAAI,cAAc,KAAK,SAAS,SAASP,GAAE,OAAOI,IAAG,yBAAyBA,IAAG,cAAcA,IAAG,cAAc,GAAGG,KAAI,QAAQ,KAAK,SAAS,SAASP,GAAE,QAAQI,IAAG,YAAY,GAAG,KAAK,gBAAgB,eAAe,KAAK,SAAS;AAAA,EACtO;AAAA,EACA,gBAAgBlB,KAAG;AACjB,UAAMC,MAAI,KAAK;AACf,WAAO,KAAK,iBAAiB,KAAK,SAAS,gBAAgBD,GAAC,GAAG,KAAK,iBAAiB,KAAK,OAAO,gBAAgB,KAAK,KAAK,gBAAgB,KAAK,mBAAmBC,QAAM,KAAK,kBAAkBA,MAAI,EAAE,KAAK,eAAe,IAAI,KAAK,gBAAgB,yBAAyB,IAAI,KAAK;AAAA,EACvR;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,KAAK,mBAAmB;AAAA,EACjC;AAAA,EACA,IAAI,wBAAwB;AAC1B,WAAO,KAAK,mBAAmB;AAAA,EACjC;AAAA,EACA,iBAAiB;AACf,SAAK,mBAAmB,MAAM;AAAA,EAChC;AAAA,EACA,OAAO;AACL,SAAK,SAAS,MAAM;AAAA,EACtB;AAAA,EACA,OAAOD,KAAGC,KAAGC,MAAIA,IAAG,SAASO,MAAIN,IAAE,IAAI;AACrC,SAAK,eAAe,MAAI,KAAK,gBAAgB,WAAW,GAAG,KAAK,SAAS,WAAW,GAAG,KAAK,oBAAoB;AAChH,UAAMA,MAAI,KAAK,YACb;AAAA,MACE,QAAQC;AAAA,MACR,eAAeC;AAAA,MACf,MAAMS;AAAA,MACN,mBAAmBE;AAAA,IACrB,IAAIhB;AACN,SAAK,OAAO,QAAQc,KAAG,KAAK,gBAAgB,UAAU,KAAK,cAAcb,GAAC,GAAG,KAAK,gBAAgB,WAAW,KAAK,gBAAgB,QAAQG,IAAG,OAAO,GAAG,KAAK,eAAe,OAAOH,KAAG,KAAK,gBAAgB,uBAAuBa,IAAG,MAAM,KAAK,gBAAgB,oBAAoBE,KAAG,KAAK,gBAAgB,cAAcP,KAAG,KAAK,gBAAgB,YAAY,KAAK,gBAAgB,YAAY,MAAM,KAAK,gBAAgB,kBAAkB,KAAK,UAAU;AAC1b,UAAMa,MAAI,KAAK,OAAO,SAAS,iBAAiB,GAC9CH,MAAI,KAAK,OAAO,SAAS,aAAa,GACtCT,MAAIa,GAAE,KAAK,aAAa,KAAK;AAC/B,IAAAd,QAAMN,IAAE,QAAQ,KAAK,aAAa,QAAQ,OAAOC,IAAE,cAAc,KAAK,KAAK;AAC3E,UAAMoB,MAAIrB,IAAE,gBAAgBC,KAAG,KAAK,kBAAkBF,GAAC;AACvD,SAAK,iBAAiB,KAAK,gBAAgB,IAAI,iBAAiBsB,MAAIA,KAAG,QAAQ,GAAG,KAAK,4BAA4BpB,KAAGC,GAAC,GAAG,KAAK,SAAS,cAAc,GAAG,KAAK,gBAAgB,0BAA0B,KAAK,yBAAyBI,QAAMN,IAAE;AAC9O,UAAMsB,MAAI,KAAK,SAAS,SAASX,GAAE,OAAOI,IAAG,cAAc,MAAM,KAAK,yBAAyBX,IAAE,mBAAmB,KAAK,yBAAyBA,IAAE,wBAClJmB,MAAI,KAAK,4BAA4BD,KACrCjB,MAAI,KAAK,SAAS,SAASM,GAAE,OAAO,GAAG,EAAE;AAC3C,SAAK,gBAAgBY,KAAGlB,GAAC,GAAG,KAAK,gBAAgB,QAAQJ,IAAG,OAAO;AACnE,UAAMuB,MAAI,KAAK,mBAAmBvB,GAAC;AACnC,SAAK,iBAAiBA,KAAG,KAAK,gBAAgB,SAAS,UAAU,WAAWuB,GAAC,GAAG,KAAK,4BAA4BvB,KAAGC,GAAC;AACrH,QAAIuB,MAAI,KAAK,eAAe;AAC5B,QAAI,KAAK,aAAa,IAAI,WAAWA,GAAC,GAAGA,KAAG;AAC1C,UAAI5B,MAAI;AACR,WAAK,gBAAgBA,MAAI4B,IAAE,cAAc3B,EAAE,GAAGD,KAAG,OAAO,IAAI,KAAK,aAAa,IAAI,QAAQ,KAAK,YAAY,CAAC,GAAG,KAAK,2BAA2BA,GAAC,GAAG4B,MAAI;AAAA,IACzJ,MAAO,MAAK,wBAAwB;AACpC,SAAK,0BAA0BD,KAAGvB,KAAGC,GAAC,GAAG,KAAK,yBAAyBJ,GAAC,GAAG,KAAK,eAAe,SAASa,GAAE,OAAOX,IAAE,QAAQ,GAAG,KAAK,gBAAgB,YAAYA,IAAE,cAAc,KAAK,gBAAgB,YAAYA,IAAE;AAClN,UAAM0B,MAAI,KAAK,QAAQ,SAASf,GAAE,OAAO,GAAGgB,GAAE;AAC9C,IAAAD,OAAK,KAAK,sBAAsB,GAAG,KAAK,WAAW,YAAY,CAAA7B,QAAK,KAAK,aAAaK,IAAE,QAAQL,KAAG6B,GAAC,CAAC,GAAG,KAAK,SAAS,gBAAgB,gBAAgB,KAAK,WAAW,MAAM,GAAG,GAAG,KAAK,eAAeX,IAAG,oBAAoBd,IAAG,kBAAkB,GAAG,KAAK,6BAA6BsB,GAAC,GAAG,KAAK,qBAAqBA,GAAC,GAAG,KAAK,aAAaT,GAAG,MAAM,GAAGd,IAAE,QAAQ,GAAG,KAAK,eAAee,IAAG,OAAOd,IAAG,KAAK,GAAG,KAAK,8BAA8B,GAAGI,QAAM,KAAK,cAAc,KAAK,eAAeuB,IAAG,QAAQ,IAAI,KAAK,2BAA2B,IAAI,KAAK,WAAW,YAAY,CAAA/B,QAAK,KAAK,aAAaK,IAAE,aAAaL,KAAGQ,GAAC,CAAC,GAAG,KAAK,SAAS,gBAAgB,qBAAqB,KAAK,WAAW,MAAM,GAAG,GAAG,KAAK,8BAA8BkB,GAAC,GAAG,KAAK,qBAAqB,GAAGA,OAAK,KAAK,SAAS,OAAO,KAAK,cAAcR,IAAG,aAAa;AAC7yB,UAAMA,MAAIhB,QAAMA,IAAG,mBAAmB,KAAK,6BAA6B,IAAI;AAC5E,SAAK,aAAae,GAAG,WAAW;AAChC,UAAMA,MAAIQ,MAAI,KAAK,0BAA0B,IAAI;AACjD,IAAAR,QAAM,KAAK,gBAAgB,QAAQb,IAAG,mBAAmB,GAAG,KAAK,gBAAgB,kBAAkBsB,MAAI,KAAK,oBAAoBD,IAAE,QAAQ,IAAItB,IAAE,yBAAyB,KAAK,iBAAiBc,IAAE,WAAW,CAAC,GAAG,KAAK,WAAWQ,IAAE,UAAUtB,IAAE,KAAK,KAAK,KAAK,mBAAmB,KAAE,GAAGc,QAAMd,IAAE,uBAAuB,KAAK,iBAAiBc,IAAE,WAAW,GAAGd,IAAG,oBAAoB,CAAC,GAAGc,IAAE,QAAQ,GAAGS,QAAM,KAAK,aAAaT,GAAG,MAAM,GAAGT,QAAM,KAAK,cAAc,KAAK,eAAeuB,IAAG,QAAQ,IAAI,KAAK,2BAA2B,GAAG,KAAK,gBAAgB,QAAQ3B,IAAG,WAAW,IAAI,KAAK,aAAaa,GAAG,WAAW,KAAK,KAAK,gBAAgB,OAAOhB,GAAE,KAAK,gBAAgB,IAAI,GAAGyB,OAAK,KAAK,oBAAoBD,IAAE,WAAW,GAAG,KAAK,qBAAqB,KAAE,GAAG,KAAK,8BAA8B,GAAG,KAAK,gBAAgB,GAAG,KAAK,kBAAkB,GAAG,KAAK,gBAAgB,GAAG,KAAK,aAAa,IAAI,cAAc,KAAK,wBAAwB,CAAC,GAAG,KAAK,WAAW,YAAY,CAAAzB,QAAK,KAAK,aAAaK,IAAE,WAAWL,GAAC,CAAC;AACv9B,UAAMgC,MAAI,KAAK,OAAO,SAAS,UAAU,GACvCC,MAAI,EAAE/B,QAAMA,IAAG,WAAWiB,OAAKG,OAAKb,QAAMN,IAAE,MAAMD,QAAMA,IAAG,UAC3DI,MAAI,KAAK,aAAa,IAAI,iBAAiB,GAC3C4B,MAAID,MAAIL,MAAI,KAAK,SAAS,QAAQtB,IAAE,IAAI,OAAOA,IAAE,IAAI,QAAQ,UAAU,GACvE6B,MAAIH,MAAI,KAAK,aAAa/B,IAAE,cAAciC,GAAC,IAAI,KAAK,eAAe5B,KAAG4B,KAAG,KAAE;AAC7E,SAAK,aAAa,IAAIjC,IAAE,cAAckC,GAAC,GAAG,KAAK,WAAWV,IAAE,aAAaU,GAAC;AAC1E,UAAMC,MAAI,KAAK,aAAanC,IAAE,YAAYkC,GAAC;AAC3C,QAAIE,MAAI,KAAK,aAAapC,IAAE,WAAWmC,GAAC;AACxC,WAAOd,OAAKb,QAAMN,IAAE,MAAMD,QAAMA,IAAG,WAAW,CAACiB,QAAMkB,MAAI,KAAK,eAAeA,GAAC,IAAIlB,OAAKkB,IAAE,YAAYlC,IAAE,KAAK,GAAG,KAAK,eAAe,KAAK,aAAaE,IAAE,OAAOgC,GAAC,CAAC,GAAGA,IAAE,YAAY,KAAK,KAAK,aAAa,IAAIhC,IAAE,OAAOgC,GAAC,GAAG,KAAK,aAAa,QAAQ,YAAY,GAAG,KAAK,gBAAgB,KAAK,aAAa,GAAG,KAAK,aAAa,GAAG,KAAK,WAAW,eAAe,GAAG,KAAK,eAAe,gBAAgB,SAAS,KAAK,gBAAgB,MAAM,GAAG,KAAK,aAAa,QAAQ3B,KAAG,KAAK,eAAe,OAAI,KAAK,SAAS,SAAS,GAAG,KAAK,gBAAgB,YAAY,GAAGR,QAAMA,IAAG,YAAY,KAAK,aAAa,GAAG,KAAK,yBAAyB,IAAI;AAAA,MAC3mB,QAAQ,KAAK,aAAa,IAAI,aAAa;AAAA,MAC3C,KAAKgB;AAAA,IACP;AAAA,EACF;AAAA,EACA,gBAAgBlB,KAAGC,KAAG;AACpB,SAAK,eAAe,SAASa,GAAE,OAAO,KAAK,uBAAuB,GAAG,KAAK,qBAAqBd,GAAC,GAAG,KAAK,SAAS,QAAQkB,IAAG,mBAAmB,GAAG,KAAK,qBAAqB,KAAE,GAAGlB,OAAK,KAAK,SAAS,QAAQkB,IAAG,aAAa,GAAGjB,OAAK,KAAK,0BAA0B,GAAG,KAAK,SAAS,QAAQiB,IAAG,UAAUA,IAAG,2CAA2CA,IAAG,yBAAyBA,IAAG,UAAU,GAAG,KAAK,MAAM,GAAG,MAAM;AAAA,EACzZ;AAAA,EACA,+BAA+B;AAC7B,QAAI,CAAC,IAAI,2CAA2C,EAAG;AACvD,UAAMlB,MAAI,KAAK,eAAe,QAC5BC,MAAI,KAAK,SAAS,QAAQ,KAAK,WAAW,OAAO,KAAK,WAAW,QAAQ,KAAK;AAChF,WAAOA,IAAE,aAAaiB,IAAE,qBAAqB,GAAG,KAAK,MAAM,gBAAgBjB,IAAE,GAAG,GAAG,KAAK,SAAS,KAAK,iBAAiB,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,MAAI,IAAE,GAAG,KAAK,mBAAmBa,GAAE,qBAAqB,GAAG,KAAK,MAAM,gBAAgBb,IAAE,GAAG,GAAG,KAAK,SAAS,KAAK,iBAAiB,QAAQ,MAAI,IAAE,GAAG,KAAK,gBAAgB,iBAAiBwB,IAAE,aAAa,KAAK,SAAS,OAAO,KAAK,cAAcP,IAAG,YAAY,GAAG,KAAK,eAAe,SAASlB,KAAG,KAAK,gBAAgB,QAAQI,IAAG,yBAAyB,GAAGH;AAAA,EACre;AAAA,EACA,OAAOD,KAAG;AACR,SAAK,kBAAkB,KAAK,mBAAmB,MAAM;AACrD,UAAMC,MAAI,KAAK,gBAAgB,oBAC7BC,MAAIF,QAAMsC,GAAE;AACd,QAAIpC,OAAKD,KAAG;AACV,YAAMD,MAAIE,MAAI,KAAK,gBAAgB,cAAc,GAC/CO,MAAIR,MAAI,KAAK,gBAAgB,oBAAoB,OAAO,KAAK,MAAM,GAAG,SAAS,GAC/EE,MAAI,KAAK,IAAIH,KAAGS,GAAC;AACnB,WAAK,mBAAmB,MAAMN,KAAGD,GAAC;AAAA,IACpC;AAAA,EACF;AAAA,EACA,gBAAgBF,KAAGC,KAAG;AACpB,QAAI,CAAC,KAAK,gBAAgB,UAAW;AACrC,UAAM;AAAA,MACF,OAAOC;AAAA,MACP,QAAQO;AAAA,IACV,IAAI,KAAK,YACTN,MAAI,KAAK,SAAS,QAAQD,KAAGO,KAAG,cAAc;AAChD,SAAK,MAAM,gBAAgBN,IAAE,GAAG,GAAG,KAAK,gBAAgB,OAAO,cAAc,KAAK,KAAK,GAAG,KAAK,MAAM,iBAAiB,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,MAAI,IAAE,GAAG,KAAK,mBAAmB,uBAAuB,KAAK,iBAAiB,KAAK,gBAAgB,SAAS,GAAGA,IAAE,KAAK,WAAWH,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGA,IAAE,CAAC,GAAGW,GAAG,MAAM4B,GAAG,eAAetC,GAAC,GAAGE,IAAE,QAAQ;AAAA,EACxU;AAAA,EACA,kBAAkBH,KAAGC,KAAGC,KAAGO,KAAGN,KAAG;AAC/B,SAAK,gBAAgB,eAAe,KAAK,WAAWH,KAAGC,KAAGC,KAAGO,KAAGE,GAAG,MAAM4B,GAAG,eAAepC,GAAC;AAAA,EAC9F;AAAA,EACA,sBAAsBH,KAAG;AACvB,WAAO,KAAK,mBAAmB,sBAAsBA,IAAE,CAAC,GAAGA,IAAE,CAAC,CAAC;AAAA,EACjE;AAAA,EACA,qBAAqBA,KAAG;AACtB,SAAK,qBAAqBA,GAAC,GAAG,KAAK,mBAAmBA,GAAC;AAAA,EACzD;AAAA,EACA,qBAAqBA,KAAG;AACtB,SAAK,gBAAgB,mBAAmBA;AAAA,EAC1C;AAAA,EACA,mBAAmBA,KAAG;AACpB,SAAK,gBAAgB,iBAAiB,kBAAkBA;AAAA,EAC1D;AAAA,EACA,aAAaA,KAAG;AACd,UAAMC,MAAI,KAAK;AACf,QAAI,CAACA,KAAG,aAAa,EAAG;AACxB,UAAM;AAAA,MACF,OAAOC;AAAA,MACP,QAAQO;AAAA,MACR,OAAON;AAAA,IACT,IAAI,KAAK,YACTC,MAAI,KAAK,SAAS,QAAQF,KAAGO,KAAG,OAAO,GACvCJ,MAAI,MAAMJ,IAAE,OAAO,KAAK,iBAAiBD,GAAC,GAC1Ce,MAAI,KAAK,gBAAgB,kBAAkB;AAC7C,SAAK,WAAW,gBAAgBV,KAAGD,KAAGW,OAAKZ,KAAG,EAAE,GAAG,KAAK,WAAW,uBAAuB,KAAK,iBAAiBC,IAAE,WAAW,GAAGD,IAAG,OAAO,CAAC,GAAGC,IAAE,QAAQ,GAAG,KAAK,gBAAgB,QAAQJ,QAAMiB,GAAG,SAASb,IAAG,eAAeA,IAAG,iBAAiB;AAAA,EAClP;AAAA,EACA,iBAAiBJ,KAAGC,KAAGC,KAAG;AACxB,UAAMO,MAAI,KAAK;AACf,IAAAA,IAAE,YAAYA,IAAE,MAAMT,KAAGC,KAAGC,KAAG,KAAK,iBAAiBY,IAAG,qBAAqB,GAAG,KAAK,OAAO,KAAK,gBAAgB,iBAAiB,GAAG,KAAK,yBAAyB,KAAK,sBAAsBA,GAAE,iBAAiB,KAAK,UAAU,GAAGL,IAAE,aAAauB,GAAG,SAAS,GAAG,KAAK,sBAAsBlB,GAAE,wBAAwB,KAAK,UAAU,GAAGL,IAAE,aAAauB,GAAG,gBAAgB,GAAG,KAAK,sBAAsBlB,GAAE,iBAAiB,KAAK,UAAU,KAAK,KAAK,sBAAsBA,GAAE,MAAM,GAAGL,IAAE,OAAO,GAAGT,IAAE,cAAc,KAAK,KAAK,GAAG,KAAK,gBAAgB,QAAQI,IAAG,UAAU;AAAA,EAC1iB;AAAA,EACA,sBAAsBJ,KAAGC,MAAI,KAAK,YAAY;AAC5C,eAAWC,OAAKD,IAAE,SAAU,CAAAC,IAAE,OAAO,cAAc,KAAK,KAAK,GAAG,KAAK,4BAA4BA,IAAE,QAAQA,IAAE,MAAM,GAAG,KAAK,mBAAmBF,GAAC;AAAA,EACjJ;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,SAAS,SAASc,GAAE,KAAK,KAAK,KAAK,kBAAkB,KAAK,yBAAyB,KAAK,oBAAoB,KAAK;AAAA,EAC/H;AAAA,EACA,2BAA2Bd,KAAG;AAC5B,QAAI,CAAC,KAAK,eAAe,CAACA,IAAG,QAAO,MAAM,KAAK,gBAAgB,QAAQC,GAAE,KAAK,gBAAgB,KAAK;AACnG,UAAM;AAAA,MACF,OAAOA;AAAA,MACP,QAAQC;AAAA,IACV,IAAI,KAAK,YACTO,MAAI,KAAK,SAAS,QAAQR,KAAGC,KAAG,OAAO;AACzC,IAAAO,IAAE,YAAYT,GAAC,GAAGA,IAAE,QAAQ,GAAG,KAAK,MAAM,gBAAgBS,IAAE,GAAG,GAAG,KAAK,MAAM,iBAAiB,QAAQ,OAAI,IAAE,GAAG,KAAK,gCAAgCK,GAAE,KAAK,GAAGb,GAAE,KAAK,gBAAgB,KAAK,GAAG,KAAK,gBAAgB,QAAQQ,IAAE,mBAAmB,GAAGA,IAAE,QAAQ,GAAG,KAAK,gBAAgB,QAAQL,IAAG,KAAK;AAAA,EACtS;AAAA,EACA,0BAA0B;AACxB,QAAI,CAAC,KAAK,YAAa,QAAO,MAAM,KAAK,gBAAgB,QAAQH,GAAE,KAAK,gBAAgB,KAAK;AAC7F,UAAM;AAAA,MACF,OAAOD;AAAA,MACP,QAAQC;AAAA,IACV,IAAI,KAAK,YACTC,MAAI,KAAK,SAAS,QAAQF,KAAGC,KAAG,OAAO,EAAE,aAAaiB,IAAE,qBAAqB;AAC/E,SAAK,MAAM,gBAAgBhB,IAAE,GAAG,GAAG,KAAK,MAAM,iBAAiB,QAAQ,MAAI,IAAE,GAAG,KAAK,mBAAmBY,GAAE,KAAK,GAAGb,GAAE,KAAK,gBAAgB,KAAK,GAAG,KAAK,gBAAgB,QAAQC,IAAE,mBAAmB,GAAGA,IAAE,QAAQ,GAAG,KAAK,gBAAgB,QAAQE,IAAG,KAAK;AAAA,EAC1P;AAAA,EACA,6BAA6BJ,KAAG;AAC9B,QAAI,CAACA,IAAG,QAAO,MAAM,KAAK,gBAAgB,iBAAiB,QAAQC,GAAE,KAAK,gBAAgB,iBAAiB,KAAK;AAChH,UAAMA,MAAI,KAAK,eAAe;AAC9B,SAAK,eAAe,SAASa,GAAE;AAC/B,UAAM;AAAA,MACF,OAAOZ;AAAA,MACP,QAAQO;AAAA,IACV,IAAI,KAAK,YACTN,MAAI,KAAK,SAAS,QAAQD,KAAGO,KAAG,eAAe,EAAE,aAAaS,IAAE,qBAAqB;AACvF,SAAK,MAAM,gBAAgBf,IAAE,GAAG,GAAG,KAAK,MAAM,iBAAiB,QAAQ,MAAI,IAAE,GAAG,KAAK,0BAA0B,GAAGF,GAAE,KAAK,gBAAgB,iBAAiB,KAAK,GAAG,KAAK,gBAAgB,iBAAiB,QAAQE,IAAE,mBAAmB,GAAG,KAAK,eAAe,SAASF,KAAGE,IAAE,QAAQ;AAAA,EACpR;AAAA,EACA,8BAA8BH,KAAG;AAC/B,QAAI,CAACA,IAAG,QAAO,MAAM,KAAK,gBAAgB,kBAAkB,QAAQC,GAAE,KAAK,gBAAgB,kBAAkB,KAAK;AAClH,UAAMA,MAAI,KAAK,eAAe,QAC5B;AAAA,MACE,OAAOC;AAAA,MACP,QAAQO;AAAA,IACV,IAAI,KAAK,YACTN,MAAI,KAAK,SAAS,QAAQD,KAAGO,KAAG,gBAAgB,EAAE,aAAaS,IAAE,qBAAqB;AACxF,SAAK,MAAM,gBAAgBf,IAAE,GAAG,GAAG,KAAK,MAAM,iBAAiB,QAAQ,MAAI,IAAE,GAAG,KAAK,4CAA4CW,GAAE,KAAK,GAAG,KAAK,eAAe,SAASb,KAAGA,GAAE,KAAK,gBAAgB,kBAAkB,KAAK,GAAG,KAAK,gBAAgB,kBAAkB,QAAQE,IAAE,mBAAmB,GAAGA,IAAE,QAAQ;AAAA,EAC/S;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,WAAW,WAAW,KAAK;AAAA,EACzC;AAAA,EACA,mBAAmBH,KAAG;AACpB,QAAI,CAAC,KAAK,iBAAkB,QAAOwB;AACnC,UAAMvB,MAAIY,IAAEb,KAAG,KAAK,SAAS,SAAS,KAAK,OAAO,MAAM;AACxD,WAAOA,IAAEC,KAAG,KAAK,SAAS,gBAAgBD,GAAC,CAAC,GAAGC,IAAE,OAAO,KAAK,IAAID,IAAE,MAAMC,IAAE,IAAI,GAAGA,IAAE,MAAM,KAAK,IAAID,IAAE,KAAKC,IAAE,GAAG,GAAGA;AAAA,EACpH;AAAA,EACA,iBAAiB;AACf,UAAMD,MAAI,KAAK,OAAO,QAAQ,WAAW,eAAe,mBAAmB,gBAAgB,mBAAmB,GAC5GC,OAAK,KAAK,UAAU,IAAI,MAAM,KAAK,gBAAgB,IAAI,KAAKD;AAC9D,QAAI,MAAMC,IAAG;AACb,UAAMC,MAAI,KAAK,WAAW,kBAAkB,MAAM,WAAW,MAAM,KAAK,uBAAuBY,GAAE,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAGmB,GAAE,MAAMf,IAAE,qBAAqB,GACrJT,MAAI,KAAK,OAAO,SAAS,WAAW,eAAe,mBAAmB,gBAAgB,mBAAmB,KAAK,KAAK,mBAAmB,IAAI;AAC5I,WAAOP,IAAE,OAAOD,MAAIQ,MAAI,CAAC,GAAG,KAAK,gBAAgB,QAAQL,IAAG,OAAO,GAAGF;AAAA,EACxE;AAAA,EACA,cAAc;AACZ,UAAMF,MAAI,KAAK,aAAa,IAAI,SAAS;AACzC,QAAI,CAAC,KAAK,WAAW,CAACA,IAAG,QAAO,KAAKA,KAAG,YAAY;AACpD,UAAMC,MAAI,KAAK,OAAO,OAAO,QAAQ,KAAK,YAAY;AACtD,WAAO,KAAK,gBAAgB,OAAOA,KAAGD,IAAE,YAAY,GAAG,KAAK,aAAa,QAAQ,SAAS,GAAG,KAAK,gBAAgB,QAAQI,IAAG,IAAI,GAAGH;AAAA,EACtI;AAAA,EACA,mBAAmBD,KAAG;AACpB,SAAK,eAAe,SAASA,KAAG,KAAK,SAAS,QAAQkB,IAAG,mBAAmB,GAAG,KAAK,4CAA4ClB,GAAC,GAAG,KAAK,0BAA0B;AAAA,EACrK;AAAA,EACA,4CAA4CA,KAAG;AAC7C,SAAK,eAAe,SAASA,KAAG,KAAK,SAAS,QAAQkB,IAAG,sBAAsBA,IAAG,yBAAyB,GAAG,KAAK,sBAAsB,GAAG,KAAK,2BAA2B;AAAA,EAC9K;AAAA,EACA,uBAAuBlB,KAAG;AACxB,SAAK,eAAe,SAASA,KAAG,KAAK,SAAS,OAAO,KAAK,cAAckB,IAAG,iBAAiBA,IAAG,gBAAgBA,IAAG,iBAAiBA,IAAG,oBAAoB,GAAG,KAAK,0BAA0B;AAAA,EAC9L;AAAA,EACA,gCAAgClB,KAAG;AACjC,SAAK,eAAe,SAASA,KAAG,KAAK,SAAS,OAAO,KAAK,cAAckB,IAAG,sBAAsBA,IAAG,yBAAyB;AAAA,EAC/H;AAAA,EACA,yBAAyB;AACvB,SAAK,SAAS,QAAQ,GAAGY,KAAIZ,IAAG,kBAAkB;AAAA,EACpD;AAAA,EACA,wBAAwB;AACtB,SAAK,SAAS,OAAO,KAAK,cAAc,GAAGY,GAAE;AAAA,EAC/C;AAAA,EACA,6BAA6B;AAC3B,SAAK,SAAS,OAAO,KAAK,cAAc,GAAG,EAAE;AAAA,EAC/C;AAAA,EACA,4BAA4B;AAC1B,UAAM9B,MAAI,KAAK,eAAe;AAC9B,QAAI,CAAC,KAAK,SAAS,SAASA,KAAGkB,IAAG,mBAAmB,EAAG;AACxD,UAAMjB,MAAI,MAAM,KAAK,SAAS,OAAO,KAAK,cAAciB,IAAG,mBAAmB;AAC9E,QAAIlB,QAAMc,GAAE,MAAO,QAAO,KAAKb,IAAE;AACjC,UAAM;AAAA,MACF,OAAOC;AAAA,MACP,QAAQO;AAAA,MACR,OAAON;AAAA,IACT,IAAI,KAAK,YACTC,MAAI,KAAK,SAAS,QAAQF,KAAGO,KAAG,qBAAqB;AACvD,WAAO,KAAK,WAAW,gBAAgBR,KAAGG,KAAGD,KAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAGC;AAAA,EACjE;AAAA,EACA,uBAAuB;AACrB,SAAK,SAAS,SAAS,KAAK,eAAe,QAAQc,IAAG,gBAAgB,KAAK,KAAK,gBAAgB,gBAAgB,KAAK,WAAW,oBAAoB,KAAK,gBAAgB,eAAe,MAAM,KAAK,SAAS,OAAO,KAAK,cAAcA,IAAG,gBAAgB,GAAG,KAAK,gBAAgB,kBAAkB,KAAK,GAAG,KAAK,WAAW,QAAQ,GAAG,KAAK,gBAAgB,QAAQd,IAAG,cAAc,KAAK,KAAK,gBAAgB,gBAAgBH,GAAE,KAAK,gBAAgB,aAAa;AAAA,EACpc;AAAA,EACA,oBAAoBD,KAAG;AACrB,QAAI,KAAK,gBAAgB,iBAAiBA,KAAGA,QAAMyB,IAAE,UAAU;AAC7D,YAAMzB,MAAI,MAAM,KAAK,SAAS,OAAO,KAAK,cAAckB,IAAG,aAAa,GACtE;AAAA,QACE,OAAOjB;AAAA,QACP,QAAQC;AAAA,QACR,OAAOO;AAAA,MACT,IAAI,KAAK,YACTN,MAAI,KAAK,SAAS,aAAae,IAAE,gBAAgBjB,KAAGC,KAAG,eAAe;AACxE,WAAK,WAAW,gBAAgBF,KAAGS,KAAGN,KAAG,QAAQ,MAAI,IAAE,GAAGA,IAAE,QAAQ;AAAA,IACtE,MAAO,MAAK,SAAS,OAAO,KAAK,cAAce,IAAG,aAAa;AAAA,EACjE;AAAA,EACA,oBAAoB;AAClB,QAAI,CAAC,KAAK,cAAe;AACzB,SAAK,SAAS,OAAO,KAAK,cAAcA,IAAG,UAAU;AACrD,QAAI,KAAK,SAAS,SAAS,KAAK,eAAe,QAAQA,IAAG,2BAA2B,GAAG;AACtF,YAAMlB,MAAI,KAAK,YACb;AAAA,QACE,OAAOC;AAAA,QACP,QAAQC;AAAA,QACR,OAAOO;AAAA,MACT,IAAIT,KACJG,MAAI,KAAK,SAAS,QAAQF,KAAGC,KAAG,aAAa,GAC7CE,MAAI,MAAM,KAAK,SAAS,OAAO,KAAK,cAAcc,IAAG,2BAA2B;AAClF,MAAAlB,IAAE,gBAAgBI,KAAGD,KAAGM,KAAG,EAAE,GAAGT,IAAE,uBAAuB,KAAK,iBAAiBG,IAAE,WAAW,GAAGA,IAAG,oBAAoB,CAAC,GAAGA,IAAE,QAAQ;AAAA,IACtI;AACA,SAAK,aAAa,QAAQ,SAAS,GAAG,KAAK,gBAAgB,QAAQC,IAAG,WAAW;AAAA,EACnF;AAAA,EACA,WAAWJ,KAAGC,KAAG;AACf,QAAI,KAAK,YAAY,aAAa;AAChC,UAAI,KAAK,aAAa;AACpB,cAAMC,MAAI,KAAK,eAAe6B,IAAG,KAAK/B,GAAC;AACvC,aAAK,MAAM,gBAAgBC,IAAE,GAAG,GAAG,KAAK,mBAAmB,UAAU,KAAK,iBAAiBC,IAAE,WAAW,GAAGC,IAAG,kBAAkB,GAAGD,IAAE,QAAQ;AAAA,MAC/I,WAAWF,QAAMyB,IAAE,UAAU;AAC3B,aAAK,eAAe,SAASX,GAAE;AAC/B,cAAMb,MAAI,MAAM,KAAK,mBAAmBD,GAAC,GACvC;AAAA,UACE,OAAOE;AAAA,UACP,QAAQO;AAAA,UACR,OAAON;AAAA,QACT,IAAI,KAAK,YACTC,MAAI,KAAK,SAAS,aAAac,IAAE,gBAAgBhB,KAAGO,KAAG,KAAK;AAC9D,aAAK,WAAW,gBAAgBR,KAAGE,KAAGC,KAAG,QAAQ,MAAI,IAAE,GAAGA,IAAE,QAAQ;AAAA,MACtE,MAAO,MAAK,eAAe,SAASU,GAAE,OAAOb,IAAE,aAAaiB,IAAE,cAAc,GAAG,KAAK,MAAM,gBAAgBjB,IAAE,GAAG,GAAG,KAAK,mBAAmBD,GAAC,GAAGC,IAAE,YAAY;AAC5J,WAAK,gBAAgB,QAAQD,QAAMyB,IAAE,WAAWrB,IAAG,eAAeA,IAAG,GAAG;AAAA,IAC1E;AAAA,EACF;AAAA,EACA,mBAAmBJ,KAAG;AACpB,SAAK,gBAAgB,iBAAiBA,KAAG,KAAK,SAAS,QAAQkB,IAAG,yBAAyBA,IAAG,cAAcA,IAAG,cAAc,GAAG,KAAK,SAAS,OAAO,KAAK,cAAcA,IAAG,yBAAyBA,IAAG,cAAcA,IAAG,cAAc;AAAA,EACxO;AAAA,EACA,IAAI,wBAAwB;AAC1B,WAAO,KAAK,WAAW,WAAW,KAAK,SAAS,SAASJ,GAAE,iBAAiBI,IAAG,eAAe;AAAA,EAChG;AAAA,EACA,0BAA0B;AACxB,QAAI,CAAC,KAAK,cAAe;AACzB,UAAMlB,MAAI,MAAM;AACZ,WAAK,mBAAmBc,GAAE,SAAS,GAAG,KAAK,MAAM,MAAMK,GAAG,gBAAgB,GAAG,KAAK,mBAAmBM,IAAE,IAAI;AAAA,IAC7G,GACAxB,MAAI,KAAK,WAAW,kBAAkB,MAAM,cAAcD,KAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAGiC,GAAE,OAAOf,IAAE,qBAAqB;AAC7G,WAAOjB,IAAE,YAAY,GAAGA;AAAA,EAC1B;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,mBAAmB;AAAA,EACjC;AAAA,EACA,0BAA0BD,KAAGC,KAAGC,KAAG;AACjC,SAAK,oBAAoB,KAAK,gBAAgB,SAAS,KAAK,mBAAmB,mBAAmB,KAAK,gBAAgB,OAAOF,KAAGC,KAAGC,GAAC,KAAK,KAAK,gBAAgB,QAAQE,IAAG,mBAAmB;AAAA,EAC/L;AAAA,EACA,4BAA4B;AAC1B,SAAK,eAAe,SAASU,GAAE,OAAO,KAAK,gBAAgB,uBAAuBA,IAAG,YAAY,KAAK,SAAS,QAAQ,GAAG,EAAE,GAAG,KAAK,gBAAgB,uBAAuBA,IAAG,WAAW,KAAK,SAAS,QAAQ,GAAG,EAAE,GAAG,KAAK,gBAAgB,uBAAuBA,IAAG,MAAM,KAAK,YAAY,QAAQV,GAAE,EAAE,QAAQ;AAAA,EACnT;AAAA,EACA,eAAeJ,KAAGC,MAAIwB,IAAE,MAAM;AAC5B,UAAMvB,MAAIF,QAAM+B,IAAG,KACjBtB,MAAIP,MAAI,KAAK,SAAS,QAAQ,KAAK,WAAW,OAAO,KAAK,WAAW,QAAQ,mBAAmB,IAAI,MACpGC,MAAID,MAAI,MAAM,KAAK,mBAAmBD,GAAC,IAAI,MAAM,KAAK,2BAA2B,GACjFG,MAAI,KAAK,eAAe;AAC1B,SAAK,eAAe,SAASU,GAAE,OAAO,KAAK,gBAAgB,uBAAuBA,IAAG;AACrF,UAAMT,MAAI,KAAK,WAAW,cAAcF,KAAGW,IAAG,YAAYZ,GAAC;AAC3D,SAAK,gBAAgB,uBAAuBY,IAAG;AAC/C,UAAMC,MAAI,KAAK,WAAW,cAAcZ,KAAGW,IAAG,WAAWZ,GAAC;AAC1D,WAAO,KAAK,WAAW,aAAa,KAAK,iBAAiBG,KAAGU,KAAGN,GAAC,GAAGA,KAAG,YAAY,GAAGM,IAAE,QAAQ,GAAGV,IAAE,QAAQ,GAAG,KAAK,gBAAgB,uBAAuBS,IAAG,MAAM,KAAK,eAAe,SAASV,KAAGK;AAAA,EACvM;AAAA,EACA,kBAAkB;AAChB,QAAIT,MAAI;AACR,OAAG,MAAM,GAAG,KAAK,SAAS,QAAQ,OAAO,CAAAC,QAAK;AAC5C,UAAI,CAACA,IAAE,kBAAmB;AAC1B,MAAAA,IAAE,yBAAyBc,GAAE,4BAA4B,MAAMf,OAAKe,GAAE,8BAA8B,GAAG,KAAKd,GAAC;AAAA,IAC/G,CAAC;AACD,UAAMA,MAAI,KAAK,YACbC,MAAI,CAACA,KAAGO,KAAGN,KAAGC,KAAGC,QAAM;AACrB,UAAI,EAAEL,MAAIS,KAAI;AACd,YAAM;AAAA,QACF,OAAOM;AAAA,QACP,QAAQD;AAAA,QACR,OAAOE;AAAA,MACT,IAAIf,KACJqB,MAAI,KAAK,SAAS,QAAQP,KAAGD,KAAG,WAAW;AAC7C,MAAAb,IAAE,gBAAgBE,KAAGmB,KAAGN,KAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAGZ,KAAGC,GAAC,GAAGJ,IAAE,uBAAuB,KAAK,iBAAiBqB,IAAE,WAAW,GAAGnB,IAAG,oBAAoBD,GAAC,GAAGoB,IAAE,QAAQ;AAAA,IACtJ,GACAb,MAAI,CAACT,KAAGC,QAAM;AACZ,WAAK,gBAAgB,OAAOD,KAAGC,IAAE,OAAO,CAAAD,QAAK;AAC3C,YAAII,IAAEJ,GAAC,GAAG;AACR,gBAAMC,MAAID,IAAE,iBAAiB,KAAK,cAAc;AAChD,UAAAC,OAAKD,IAAE,WAAW,KAAK,gBAAgBC,GAAC;AAAA,QAC1C;AAAA,MACF,CAAC;AAAA,IACH;AACF,UAAM,GAAG,WAAWQ,IAAES,IAAG,mBAAmB,EAAE,GAAGhB,IAAE,KAAIa,GAAE,8BAA8B,MAAMN,IAAES,IAAG,+BAA+B,EAAE,GAAG,OAAI,KAAE;AAC5I,UAAMf,MAAI,GAAG,SAAS;AACtB,OAAG,MAAM,GAAG,KAAK,SAAS,QAAQ,OAAO,CAAAF,QAAK;AAC5C,UAAI,CAACA,IAAE,kBAAmB;AAC1B,YAAMC,MAAID,IAAE,yBAAyBc,GAAE,qBAAqB,GAC1DN,MAAIR,IAAE,yBAAyBc,GAAE,WAAW,GAC5CZ,MAAIF,IAAE,yBAAyBc,GAAE,MAAM;AACzC,OAACb,OAAKO,OAAKN,SAAOH,OAAKE,MAAIa,GAAE,wBAAwBN,MAAIM,GAAE,cAAcA,GAAE,QAAQ,GAAG,KAAKd,GAAC;AAAA,IAC9F,CAAC;AACD,UAAMG,MAAI,KAAK,SAAS;AACxB,QAAIJ,OAAKI,KAAG,CAACJ,IAAG;AAChB,UAAMK,MAAI,CAAAL,QAAK;AACb,WAAK,eAAe,qBAAqBA,KAAGI,MAAIW,GAAE,WAAW,KAAK,SAAS,OAAO,KAAK,cAAcG,IAAG,gBAAgB,GAAGT,IAAES,IAAG,iBAAiB,EAAE,GAAGT,IAAES,IAAG,sBAAsB,EAAE,GAAGT,IAAES,IAAG,2CAA2C,EAAE,GAAG,KAAK,eAAe,qBAAqBI;AAAA,IACtR;AACA,SAAK,eAAe,SAASR,GAAE,OAAOZ,IAAE,KAAIa,GAAE,uBAAuB,MAAMV,IAAEU,GAAE,qBAAqB,GAAG,MAAImB,GAAE,wBAAwB,GAAGhC,IAAE,KAAIa,GAAE,aAAa,MAAMV,IAAEU,GAAE,WAAW,GAAG,MAAImB,GAAE,wBAAwB,GAAGhC,IAAE,GAAGa,GAAE,QAAQ,MAAMV,IAAEU,GAAE,MAAM,GAAG,MAAImB,GAAE,wBAAwB,IAAI/B,OAAK,GAAG,SAAS,MAAM,KAAK,gBAAgB,QAAQC,IAAG,QAAQ,GAAG,GAAG,MAAM;AAAA,EACvW;AAAA,EACA,gCAAgC;AAC9B,SAAK,mBAAmB,OAAO,KAAK,eAAe,GAAG,KAAK,WAAW,QAAQ,GAAG,KAAK,SAAS,OAAO,KAAK,cAAcc,IAAG,2CAA2CA,IAAG,uBAAuB,GAAG,KAAK,gBAAgB,QAAQd,IAAG,uBAAuB;AAAA,EAC7P;AAAA,EACA,kBAAkB;AAChB,SAAK,qBAAqB,KAAK,UAAU,oBAAoB,KAAK,iBAAiBU,IAAG,sBAAsB,GAAG,KAAK,SAAS,OAAO,KAAK,cAAcI,IAAG,QAAQ,GAAG,KAAK,aAAa,QAAQ,SAAS,GAAG,KAAK,gBAAgB,QAAQd,IAAG,QAAQ;AAAA,EACrP;AAAA,EACA,eAAeJ,KAAGC,KAAG;AACnB,SAAK,SAAS,SAAS,KAAK,eAAe,QAAQD,GAAC,MAAM,KAAK,SAAS,OAAO,KAAK,cAAcA,GAAC,GAAG,KAAK,gBAAgB,QAAQC,GAAC;AAAA,EACtI;AAAA,EACA,aAAaD,KAAGC,KAAGC,MAAI,OAAI;AACzB,QAAI,CAAC,KAAK,OAAO,SAASF,GAAC,EAAG,QAAOE,OAAK,KAAK,gBAAgB,QAAQF,GAAC,GAAGC;AAC3E,IAAAA,IAAE,QAAQD,GAAC,GAAG,KAAK,aAAa,IAAIA,KAAGC,GAAC;AACxC,UAAMQ,MAAI,KAAK,OAAO,OAAOR,KAAG,KAAK,cAAc,KAAK,eAAe;AACvE,WAAO,KAAK,gBAAgB,QAAQD,GAAC,GAAGS;AAAA,EAC1C;AAAA,EACA,eAAeT,KAAGC,MAAI2B,KAAG1B,MAAI,MAAI;AAC/B,SAAK,UAAU,KAAK,QAAQ,IAAIY,IAAE,KAAK,WAAW;AAClD,UAAML,MAAI,KAAK,MAAM,OAAO,KAAK,OAAOT,KAAGC,KAAG,KAAK,iBAAiB,KAAK,cAAc;AACvF,WAAO,KAAK,aAAa,IAAID,IAAE,MAAMS,GAAC,GAAGP,OAAKF,IAAE,QAAQ,GAAGS;AAAA,EAC7D;AAAA,EACA,4BAA4BT,KAAGC,KAAG;AAChC,SAAK,gBAAgB,SAASD,KAAG,KAAK,gBAAgB,gBAAgBC;AAAA,EACxE;AAAA,EACA,yBAAyBD,KAAG;AAC1B,QAAI,KAAK,gBAAgB,IAAI,gBAAgB;AAC3C,cAAQ,KAAK,mBAAmB,KAAK,iBAAiBA,MAAI,KAAK,eAAe,gBAAgB,OAAO,KAAK,gBAAgB,MAAM,IAAI,KAAK,sBAAsBc,MAAKC,GAAEyB,KAAI,KAAK,gBAAgB,OAAO,UAAU,GAAGzB,GAAE,IAAI,KAAK,gBAAgB,OAAO,gBAAgB,GAAGU,GAAE,IAAIe,KAAI,EAAE,GAAGf,GAAE,IAAI,KAAK,eAAe,gBAAgB,YAAY,EAAE,GAAGA,GAAE,IAAI,KAAK,eAAe,gBAAgB,kBAAkB,EAAE,GAAG,KAAK,sBAAsB;AAC9a,YAAMxB,MAAI,KAAK,OAAO,KAAK,gBAAgB;AAC3C,WAAK,gBAAgB,IAAI,aAAaA,MAAI,IAAI,KAAK,IAAIA,KAAGD,MAAI,KAAK,cAAc,IAAIC,MAAI,GAAG,KAAK,gBAAgB,IAAI,aAAa,KAAK,KAAK,eAAe;AAAA,IAC7J,MAAO,MAAK,sBAAsBa,IAAG,KAAK,iBAAiB;AAAA,EAC7D;AAAA,EACA,cAAcd,KAAG;AACf,SAAK,OAAO,IAAIA,GAAC,GAAG,KAAK,eAAe;AAAA,EAC1C;AAAA,EACA,iBAAiBA,KAAG;AAClB,SAAK,OAAO,OAAOA,GAAC,GAAG,KAAK,eAAe;AAAA,EAC7C;AAAA,EACA,IAAI,aAAa;AACf,WAAO;AAAA,MACL,MAAM,KAAK,SAAS;AAAA,MACpB,SAAS,KAAK,SAAS;AAAA,MACvB,OAAO,KAAK,UAAU,cAAc;AAAA,IACtC;AAAA,EACF;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,UAAU,WAAW,KAAK,SAAS,SAAS,KAAK,eAAe,QAAQkB,IAAG,QAAQ;AAAA,EACjG;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACA,IAAIa;AAAJ,IAAQ;AACR/B,GAAE,CAACmC,GAAE;AAAA,EACH,UAAU;AACZ,CAAC,CAAC,GAAGpC,IAAG,WAAW,4BAA4B,IAAI,GAAGC,GAAE,CAACmC,GAAE,CAAC,GAAGpC,IAAG,WAAW,aAAa,MAAM,GAAGC,GAAE,CAACmC,GAAE,CAAC,GAAGpC,IAAG,WAAW,YAAY,IAAI,GAAG,SAAUC,KAAG;AACxJ,EAAAA,IAAEA,IAAE,WAAW,CAAC,IAAI,YAAYA,IAAEA,IAAE,MAAM,CAAC,IAAI;AACjD,EAAE+B,QAAOA,MAAK,CAAC,EAAE,GAAG,SAAU/B,KAAG;AAC/B,EAAAA,IAAEA,IAAE,QAAQ,CAAC,IAAI,SAASA,IAAEA,IAAE,cAAc,CAAC,IAAI,eAAeA,IAAEA,IAAE,YAAY,CAAC,IAAI,aAAaA,IAAEA,IAAE,gBAAgB,CAAC,IAAI,iBAAiBA,IAAEA,IAAE,oBAAoB,CAAC,IAAI;AAC3K,EAAE,OAAO,KAAK,CAAC,EAAE;AACjB,IAAM,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;AAAtB,IACE8B,MAAK,CAACZ,IAAG,iBAAiBA,IAAG,gBAAgBA,IAAG,iBAAiBA,IAAG,oBAAoB;AAD1F,IAEE,KAAK,CAACA,IAAG,sBAAsBA,IAAG,yBAAyB;AAF7D,IAGE,KAAK,IAAII,GAAE;AAHb,IAIE,KAAKtB,IAAE;AAJT,IAKEwC,MAAKxC,IAAE;AALT,IAME,KAAKA,IAAE;AACT,SAAS,GAAGA,KAAG;AACb,SAAO,CAAAC,QAAKD,IAAE,UAAU,SAASC,GAAC;AACpC;;;ACjoBA,IAAMwC,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAG;AACb,SAAK,QAAQA,KAAG,KAAK,OAAOC,IAAED,GAAC;AAAA,EACjC;AAAA,EACA,UAAU;AACR,SAAK,OAAOE,GAAE,KAAK,IAAI;AAAA,EACzB;AAAA,EACA,OAAO;AACL,YAAQ,KAAK,SAAS,KAAK,MAAM,QAAQ,KAAK,IAAI,GAAG,KAAK,MAAM,WAAWC,GAAE,WAAW,GAAG,CAAC;AAAA,EAC9F;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACA,SAASF,IAAED,KAAGI,MAAIC,KAAGN,MAAIO,IAAG;AAC1B,QAAML,MAAI,IAAI,aAAa,CAAC,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC;AACjD,SAAO,IAAIC,IAAEF,KAAGD,KAAG;AAAA,IACjB,UAAUK;AAAA,EACZ,GAAG;AAAA,IACD,UAAUH,GAAE,aAAaD,KAAGO,GAAE,aAAaN,GAAC;AAAA,EAC9C,CAAC;AACH;;;ACtBA,IAAMO,MAAN,cAAgBC,GAAE;AAAA,EAChB,YAAYC,KAAGC,KAAGH,KAAG;AACnB,UAAME,KAAGC,GAAC,GAAG,KAAK,KAAKD,KAAG,KAAK,WAAWF,KAAG,KAAK,wBAAwB,MAAM,KAAK,YAAY,GAAG,KAAK,SAAS,IAAII,IAAE,IAAI;AAAA,EAC9H;AAAA,EACA,UAAU;AACR,MAAE,KAAK,YAAY,KAAK,KAAK,QAAQ;AAAA,EACvC;AAAA,EACA,MAAM;AACJ,MAAE,KAAK;AAAA,EACT;AAAA,EACA,UAAU;AACR,UAAM,QAAQ,GAAG,KAAK,uBAAuB,QAAQ,GAAG,KAAK,OAAO,QAAQ;AAAA,EAC9E;AAAA,EACA,cAAcC,KAAGH,KAAGC,KAAGH,KAAGM,KAAG;AAC3B,WAAO,KAAK,WAAWD,IAAE,OAAO,GAAG,KAAK,iBAAiBA,IAAE,YAAY,CAAC,CAACC,GAAC,CAAC,GAAGD,IAAE,QAAQ,SAASF,KAAGD,GAAC,GAAGF,OAAKK,IAAE,QAAQ,SAASL,KAAGE,KAAGC,GAAC,GAAGE,IAAE;AAAA,EAC9I;AAAA,EACA,0BAA0B;AACxB,SAAK,WAAW,mCAAmC,WAAW,KAAK,0BAA0B,IAAIE,IAAE,IAAI,GAAG,KAAK,sBAAsB,IAAI;AAAA,EAC3I;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;;;ACxBA,SAASC,IAAEA,KAAG;AACZ,SAAO,CAAC,CAACA,IAAE;AACb;;;ACcA,IAAIC,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAGC,KAAGC,KAAG;AACnB,UAAM,CAAC,CAAC,GAAG,KAAK,SAASF,KAAG,KAAK,cAAcC,KAAG,KAAK,QAAQC,KAAG,KAAK,YAAY,oBAAI,IAAI,GAAG,KAAK,gBAAgB,GAAG,KAAK,gBAAgB,oBAAI,IAAI,GAAG,KAAK,SAAS,IAAIC,GAAE,GAAG,KAAK,aAAaH,IAAE,KAAK,mBAAmB,UAAU,aAAaI,GAAE,cAAc;AAAA,EAClQ;AAAA,EACA,oBAAoB;AAClB,WAAO,CAAC;AAAA,EACV;AAAA,EACA,UAAU;AACR,SAAK,WAAW,OAAO,GAAG,KAAK,OAAO,cAAcJ,IAAE,SAAS,CAAAA,QAAKA,IAAE,OAAO,CAAC;AAAA,EAChF;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,gBAAgB,KAAK,KAAK,WAAW;AAAA,EACnD;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,QAAQ,KAAK,sBAAsB,KAAK,oBAAoB,KAAK,YAAY,QAAQK,KAAG,IAAIC,IAAE,CAAC,IAAI,KAAK;AAAA,EACjH;AAAA,EACA,QAAQN,KAAG;AACT,UAAMC,MAAI,KAAK,UAAU,IAAID,GAAC;AAC9B,WAAOC,OAAKA,IAAE,IAAI,GAAGA,IAAE,kBAAkBA,OAAK,KAAK,cAAcD,GAAC;AAAA,EACpE;AAAA,EACA,SAAS;AACP,QAAIA,MAAI;AACR,SAAK,cAAc,QAAQ,CAAAC,QAAK;AAC9B,YAAMK,MAAIL,IAAE,QAAQ,YAAYA,IAAE,aAAa;AAC/C,MAAAK,OAAK,KAAKA,QAAML,IAAE,kBAAkBA,IAAE,gBAAgBK,KAAGN,MAAI;AAAA,IAC/D,CAAC,GAAGA,OAAK,KAAK,OAAO,KAAK,WAAWO,GAAE,UAAU;AAAA,EACnD;AAAA,EACA,cAAcP,KAAG;AACf,UAAMC,MAAI,KAAK,OAAO,UAAUD,GAAC;AACjC,QAAI,QAAQC,IAAG,QAAOC,IAAE,WAAWD,GAAC,GAAG;AACvC,UAAMK,MAAIL,IAAE,OAAO,GAAG,YAAY,MAAM;AACpC,MAAAK,IAAE,OAAO,GAAG,KAAK,mBAAmBN,GAAC;AAAA,IACvC,CAAC,GACDQ,MAAI,IAAIC,IAAET,KAAG,MAAM;AACjB,WAAK,WAAW,SAAS,MAAM;AAC7B,QAAAQ,IAAE,kBAAkBP,IAAE,OAAO;AAAA,MAC/B,CAAC;AAAA,IACH,CAAC;AACH,WAAO,KAAK,UAAU,IAAID,KAAGQ,GAAC,GAAGA,IAAE,IAAI,GAAGP,IAAE,aAAa,KAAK,iBAAiBO,KAAGP,IAAE,SAAS,GAAGD,IAAEC,GAAC,KAAK,KAAK,cAAc,IAAID,KAAG;AAAA,MAChI,SAASC;AAAA,MACT,eAAe;AAAA,IACjB,CAAC,GAAGO,QAAM,KAAK,iBAAiBA,IAAE,iBAAiB,KAAK,OAAO,SAAS,MAAM;AAC5E,YAAMF,MAAIL,IAAE,KAAK,KAAK,KAAK,GACzBS,MAAI,CAAAJ,SAAM,KAAK,iBAAiBE,IAAE,iBAAiB,MAAM,KAAK,iBAAiBA,KAAGF,GAAC,GAAGN,IAAEC,GAAC,KAAK,KAAK,cAAc,IAAID,KAAG;AAAA,QACtH,SAASC;AAAA,QACT,eAAe;AAAA,MACjB,CAAC,GAAGO,MACJG,MAAI,CAAAX,SAAM,KAAK,iBAAiBQ,IAAE,iBAAiB,MAAM,EAAER,GAAC,KAAK,EAAE,UAAU,IAAI,EAAE,MAAMA,GAAC,GAAG;AAC/F,aAAOD,GAAEO,GAAC,IAAIA,IAAE,KAAKI,KAAGC,GAAC,IAAID,IAAEJ,GAAC;AAAA,IAClC,CAAC,GAAGE,IAAE;AAAA,EACR;AAAA,EACA,iBAAiBR,KAAGC,KAAG;AACrB,IAAAD,IAAE,YAAYC,KAAG,KAAK,OAAO,KAAK,WAAWM,GAAE,MAAM;AAAA,EACvD;AAAA,EACA,mBAAmBP,KAAG;AACpB,SAAK,UAAU,OAAOA,GAAC,GAAG,KAAK,cAAc,OAAOA,GAAC;AAAA,EACvD;AACF;AACAA,GAAE,CAACY,GAAE,CAAC,GAAGd,IAAE,WAAW,iBAAiB,MAAM,GAAGE,GAAE,CAACY,GAAE,CAAC,GAAGd,IAAE,WAAW,cAAc,MAAM,GAAGE,GAAE,CAACY,GAAE,CAAC,GAAGd,IAAE,WAAW,YAAY,IAAI,GAAGA,MAAIE,GAAE,CAACW,GAAE,kDAAkD,CAAC,GAAGb,GAAC;AACtM,IAAMW,MAAN,MAAQ;AAAA,EACN,YAAYT,KAAGC,KAAG;AAChB,SAAK,KAAKD,KAAG,KAAK,WAAWC,KAAG,KAAK,YAAY;AAAA,EACnD;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,MAAM,KAAK;AAAA,EACpB;AAAA,EACA,MAAM;AACJ,MAAE,KAAK;AAAA,EACT;AAAA,EACA,UAAU;AACR,MAAE,KAAK,WAAW,KAAK,YAAY,MAAM,MAAM,KAAK,aAAa,EAAE,UAAU,wEAAwE,EAAE,MAAM,oDAAoD,GAAG,KAAK,YAAY,KAAK,KAAK,SAAS;AAAA,EAC1P;AACF;;;ACtFA,SAASY,IAAEA,KAAGC,KAAG;AACf,SAAO,IAAIA,IAAE,CAAAC,QAAKC,IAAED,KAAGF,GAAC,GAAG,CAAAI,QAAKA,KAAGH,GAAC;AACtC;;;ACaA,IAAII,MAAI,cAAcC,GAAE;AAAA,EACtB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,kBAAkB,IAAIC,IAAE,GAAG,KAAK,iBAAiB;AAAA,EAC7E;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,UAAU;AACR,SAAK,iBAAiB,EAAE,KAAK,cAAc,GAAG,KAAK,gBAAgB,aAAaC,GAAE,KAAK,gBAAgB,UAAU,GAAG,KAAK,gBAAgB,mBAAmBA,GAAE,KAAK,gBAAgB,gBAAgB;AAAA,EACrM;AAAA,EACA,IAAI,WAAW;AACb,WAAO,CAAC,CAAC,KAAK,kBAAkB,CAAC,KAAK,eAAe;AAAA,EACvD;AAAA,EACA,gBAAgBC,KAAG;AACjB,WAAO,KAAK,mBAAmB,KAAK,iBAAiB,EAAE,CAAMD,QAAK;AAChE,YAAM,QAAQ,WAAW,CAAC,KAAK,mBAAmBC,KAAGC,GAAE,yCAAyC,GAAG,CAAAD,QAAK,KAAK,gBAAgB,aAAaA,KAAGD,GAAC,GAAG,KAAK,mBAAmBC,KAAGC,GAAE,8CAA8C,GAAG,CAAAD,QAAK,KAAK,gBAAgB,mBAAmBA,KAAGD,GAAC,CAAC,CAAC;AAAA,IACpR,EAAC,IAAI,KAAK,eAAe,WAAWG,IAAE,SAASA,IAAE;AAAA,EACnD;AAAA,EACM,mBAAmBF,KAAGG,KAAGJ,KAAGK,KAAG;AAAA;AACnC,UAAI;AACF,cAAMF,MAAI,MAAME,IAAED,KAAG;AAAA,UACnB,QAAQC;AAAA,QACV,CAAC;AACD,QAAAJ,GAAEI,GAAC;AACH,cAAMC,MAAI,IAAIF,IAAED,IAAE,OAAOA,IAAE,MAAM;AACjC,QAAAG,IAAE,cAAcC,GAAE,KAAKD,IAAE,eAAeE,GAAE,sBAAsBF,IAAE,YAAY,MAAIA,IAAE,gBAAgB,GAAGN,IAAE,IAAIS,GAAER,KAAGK,KAAGH,GAAC,CAAC;AAAA,MACzH,SAASG,KAAG;AACV,UAAE,UAAU,IAAI,EAAE,MAAM,iDAAiDA,GAAC;AAAA,MAC5E;AAAA,IACF;AAAA;AACF;AACAF,GAAE,CAACM,GAAE,CAAC,GAAGb,IAAE,WAAW,kBAAkB,MAAM,GAAGO,GAAE,CAACM,GAAE;AAAA,EACpD,MAAM;AAAA,EACN,UAAU;AACZ,CAAC,CAAC,GAAGb,IAAE,WAAW,YAAY,IAAI,GAAGA,MAAIO,GAAE,CAACD,GAAE,sEAAsE,CAAC,GAAGN,GAAC;AACzH,IAAME,MAAN,cAAgBG,IAAE;AAAC;;;ACpDnB,IAAMS,MAAI,oBAAI,IAAI;AAClB,SAASC,MAAI;AACX,SAAOD;AACT;;;ACMA,IAAME,MAAN,MAAQ;AAAA,EACN,YAAYC,KAAGC,KAAGC,KAAG;AACnB,SAAK,aAAaF,KAAG,KAAK,sBAAsBC,KAAG,KAAK,OAAOC;AAAA,EACjE;AACF;AACA,IAAMC,MAAN,MAAQ;AAAA,EACN,YAAYH,KAAGC,KAAGC,KAAG;AACnB,SAAK,QAAQF,KAAG,KAAK,mBAAmBC,KAAG,KAAK,mBAAmBC,KAAG,KAAK,cAAc,MAAI,KAAK,mBAAmB,IAAI,MAAM;AAAA,EACjI;AAAA,EACA,UAAU;AACR,SAAK,QAAQ;AAAA,EACf;AAAA,EACM,eAAeD,KAAG;AAAA;AACtB,YAAM,KAAK,iBAAiB,eAAe,GAAG,KAAK,iBAAiB,mBAAmBG,GAAE,UAAU;AACnG,YAAMC,MAAI,EAAE;AACZ,aAAO,KAAK,iBAAiB,KAAK;AAAA,QAChC,UAAUJ;AAAA,QACV,UAAUI;AAAA,MACZ,CAAC,GAAGA,IAAE;AAAA,IACR;AAAA;AAAA,EACA,OAAOL,KAAGC,KAAG;AACX,eAAWC,OAAK,KAAK,kBAAkB;AACrC,UAAI,QAAQ,KAAK,OAAO;AACtB,QAAAA,IAAE,SAAS,OAAO;AAClB;AAAA,MACF;AACA,YAAMG,MAAI,iCACHH,IAAE,WADC;AAAA,QAEN,YAAYA,IAAE,SAAS,aAAaF,IAAE,WAAW,OAAO;AAAA,MAC1D,IACAM,MAAI,KAAK,kBAAkBN,KAAGK,KAAGJ,GAAC;AACpC,MAAAC,IAAE,SAASI,GAAC;AAAA,IACd;AACA,SAAK,iBAAiB,SAAS;AAAA,EACjC;AAAA,EACA,yBAAyBN,KAAGC,KAAGC,KAAG;AAChC,IAAAF,IAAE,QAAQC,IAAE,OAAOD,IAAE,SAASC,IAAE;AAChC,UAAMK,MAAIN,IAAE,WAAW,IAAI,GACzBO,MAAIL,IAAE;AACR,WAAOI,IAAE,KAAK,GAAGA,IAAE,UAAU,GAAGL,IAAE,MAAM,GAAGK,IAAE,MAAM,GAAG,EAAE,GAAGJ,IAAE,UAAUI,IAAE,UAAU,CAACJ,IAAE,OAAO,GAAG,CAACA,IAAE,OAAO,CAAC,GAAGI,IAAE,MAAMC,KAAGA,GAAC,GAAGN,MAAI,KAAK,iBAAiB,cAAcD,KAAGE,IAAE,qBAAqBI,IAAE,MAAMA,IAAE,IAAIL,GAAC,GAAGK,IAAE,QAAQ,GAAGL;AAAA,EAChO;AAAA,EACA,oBAAoBD,KAAGC,KAAG;AACxB,WAAOD,IAAE,WAAW,KAAK,6BAA6B,iCACjDA,MADiD;AAAA,MAEpD,UAAUA,IAAE;AAAA,IACd,IAAGC,GAAC,IAAI,KAAK,6BAA6BD,KAAGC,GAAC;AAAA,EAChD;AAAA,EACA,6BAA6BD,KAAGC,KAAG;AACjC,UAAM;AAAA,MACF,kBAAkBC;AAAA,MAClB,mBAAmBG;AAAA,MACnB,QAAQC;AAAA,MACR,UAAUC;AAAA,IACZ,IAAIP,KACJQ,MAAI,KAAK,8BAA8B;AACzC,QAAIT,MAAIM,IAAEH,KAAGG,KAAGG,GAAC;AACjB,SAAK,MAAM,GAAG,WAAW,GAAG,GAAGN,KAAGG,KAAGI,GAAE,MAAMC,GAAE,eAAe,IAAI,WAAWX,IAAE,KAAK,MAAM,CAAC,GAAGE,IAAE,GAAGF,MAAI,KAAK,yBAAyBS,KAAGT,KAAG,iCACtIC,MADsI;AAAA,MAEzI,QAAQ;AAAA,IACV,EAAC;AACD,UAAMG,MAAIE,IAAEC,IAAE,OAAOA,IAAE,QAAQE,GAAC;AAChC,WAAOG,GAAEZ,KAAGI,KAAG,MAAII,IAAE,OAAO,GAAGF,OAAKE,IAAE,OAAO,IAAIA,IAAE,OAAO,SAASA,IAAE,OAAO,OAAOA,IAAE,OAAO,MAAM;AAAA,EACpG;AAAA,EACA,6BAA6BP,KAAGC,KAAG;AACjC,UAAM;AAAA,MACF,mBAAmBC;AAAA,MACnB,QAAQG;AAAA,IACV,IAAIL,KACJM,MAAI,KAAK,8BAA8B,GACvCC,MAAIF,IAAEA,IAAE,OAAOA,IAAE,QAAQC,GAAC;AAC5B,WAAO,KAAK,MAAM,GAAG,WAAWD,IAAE,GAAGH,OAAKG,IAAE,IAAIA,IAAE,SAASA,IAAE,OAAOA,IAAE,QAAQI,GAAE,MAAMC,GAAE,eAAe,IAAI,WAAWH,IAAE,KAAK,MAAM,CAAC,GAAGN,IAAE,GAAG,KAAK,yBAAyBK,KAAGC,KAAGP,GAAC;AAAA,EACnL;AAAA,EACA,kBAAkBA,KAAGE,KAAGU,KAAG;AACzB,UAAMC,MAAIb,IAAE,WAAW,QACrBc,MAAI;AAAA,MACF,OAAOZ,IAAE;AAAA,MACT,QAAQA,IAAE;AAAA,IACZ;AACF,IAAAa,GAAED,KAAG,KAAK,IAAI,KAAK,MAAM,WAAW,gBAAgB,KAAK,MAAM,WAAW,mBAAmB,CAAC;AAC9F,QAAIE,MAAI;AACR,UAAMjB,MAAIG,IAAE,sBAAsBF,IAAE,qBAClCG,MAAIW,IAAE,UAAUD,IAAE,aAAaC,IAAE,WAAWD,IAAE,YAC9CI,MAAIf,IAAE,iBAAiBW,IAAE,eAAeX,IAAE,YAC1CgB,MAAIf,OAAKJ,OAAKkB,OAAKf,IAAE;AACvB,QAAIiB,MAAI,MACNC,MAAI;AACN,QAAIF,KAAG;AACL,YAAMlB,MAAIa,IAAE,MAAM;AAClB,UAAIX,IAAE,eAAe;AACnB,cAAMG,MAAIJ,GAAED,IAAE,OAAO;AACrB,iBAASC,MAAI,GAAGA,MAAI,GAAGA,MAAK,CAAAI,IAAEJ,GAAC,IAAI,KAAK,MAAMI,IAAEJ,GAAC,IAAID,IAAE,aAAaE,IAAE,UAAU;AAChF,QAAAF,IAAE,UAAUK;AAAA,MACd;AACA,MAAAL,IAAE,YAAYc,IAAE,OAAOd,IAAE,aAAac,IAAE,QAAQd,IAAE,aAAaE,IAAE;AACjE,YAAMM,MAAIK,IAAE,OAAOb,IAAE,MACnBD,MAAIc,IAAE,OAAOb,IAAE;AACjB,MAAAQ,MAAI,KAAKA,MAAIT,MAAIC,IAAE,OAAOa,IAAE,OAAOd,MAAI,KAAKA,MAAIS,QAAMR,IAAE,OAAOa,IAAE;AACjE,YAAMV,MAAI;AAAA,QACR,QAAQH;AAAA,QACR,eAAeA;AAAA,QACf,MAAMqB,GAAE;AAAA,QACR,mBAAmB;AAAA,QACnB,mBAAmBrB,IAAE;AAAA,MACvB;AACA,WAAK,iBAAiBG,GAAC,GAAGa,MAAI;AAC9B,YAAMC,MAAI,KAAK,iBAAiB,YAAYd,KAAGS,KAAGV,IAAE,wBAAwBA,IAAE,mBAAmBA,IAAE,YAAYA,IAAE,qBAAqBI,IAAE,MAAMA,IAAE,EAAE;AAClJ,MAAAc,MAAIH,IAAE,QAAQE,MAAIF,IAAE;AAAA,IACtB;AACA,UAAMK,MAAI,MAAM;AACd,WAAK,MAAM,gBAAgB,IAAI,GAAGF,KAAG,QAAQ;AAAA,IAC/C;AACA,SAAK,MAAM,gBAAgBA,KAAG,GAAG;AACjC,UAAMG,MAAI,KAAK,oBAAoBrB,KAAGoB,GAAC;AACvC,QAAIE,MAAI;AACR,QAAItB,IAAE,uBAAuB;AAC3B,YAAMF,MAAI,MAAM;AACd,aAAK,MAAM,gBAAgB,IAAI,GAAGmB,KAAG,QAAQ;AAAA,MAC/C;AACA,WAAK,MAAM,gBAAgBA,KAAG,GAAG,GAAGK,MAAI,KAAK,oBAAoBtB,KAAGF,GAAC,GAAG,KAAK,MAAM,gBAAgB,IAAI;AAAA,IACzG;AACA,QAAIkB,OAAK,CAAC,KAAK,MAAM,kBAAkB,MAAO,UAASjB,MAAI,GAAGA,MAAIsB,IAAE,KAAK,QAAQtB,OAAK,EAAG,CAAAsB,IAAE,KAAKtB,GAAC,IAAI;AACrG,QAAIuB,OAAK,CAAC,KAAK,MAAM,kBAAkB,MAAO,UAASvB,MAAI,GAAGA,MAAIuB,IAAE,KAAK,QAAQvB,OAAK,EAAG,CAAAuB,IAAE,KAAKvB,GAAC,IAAI;AACrG,WAAOe,OAAK,KAAK,iBAAiBhB,IAAE,UAAU,GAAG,CAACuB,KAAGC,GAAC;AAAA,EACxD;AAAA,EACA,gCAAgC;AAC9B,WAAO,KAAK,4BAA4B,KAAK,0BAA0B,SAAS,cAAc,QAAQ,IAAI,KAAK;AAAA,EACjH;AACF;;;ACvIA,IAAMC,MAAI;AAAA,EACR,SAAS;AAAA,EACT,qBAAqB,MAAM;AACzB,UAAMA,MAAIC,IAAE;AACZ,IAAAD,IAAE,QAAQ,CAAAE,QAAKA,IAAE,QAAQ,CAAC,GAAGF,IAAE,MAAM;AAAA,EACvC;AACF;;;AC8BA,IAAIG,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAM,CAAC,CAAC,GAAG,KAAK,SAAS,IAAIC,GAAE,GAAG,KAAK,gBAAgB,IAAIC,IAAE,GAAG,KAAK,+BAA+B,IAAI,2CAA2C,IAAI,IAAID,IAAE,IAAI,MAAM,KAAK,eAAe,MAAI,KAAK,eAAe,MAAI,KAAK,eAAe,MAAI,KAAK,8BAA8B,OAAI,KAAK,uBAAuB,GAAG,KAAK,aAAaD,IAAE,WAAW,KAAK,eAAeA,IAAE;AAC1W,QAAI;AACF,WAAK,mBAAmBA,GAAC;AAAA,IAC3B,SAASG,KAAG;AACV,aAAO,KAAK,QAAQ,MAAM,gCAAgCA,GAAC;AAAA,IAC7D;AACA,UAAM;AAAA,MACJ,kBAAkBC;AAAA,IACpB,IAAIJ,IAAE,KAAK;AACX,SAAK,kBAAkBK,IAAE,KAAK,OAAOD,GAAC,GAAG,KAAK,iBAAiBH,IAAE,KAAK,OAAOG,GAAC,GAAG,KAAK,cAAc,IAAIE,IAAE;AAAA,MACxG,MAAM,KAAK;AAAA,MACX,aAAaN,IAAE;AAAA,MACf,iBAAiB,KAAK;AAAA,MACtB,eAAe,KAAK;AAAA,MACpB,gBAAgB,KAAK;AAAA,IACvB,CAAC,GAAG,KAAK,YAAY,IAAIO,IAAEP,KAAG,KAAK,aAAa,KAAK,KAAK,GAAG,KAAK,WAAW,KAAK,UAAU,OAAO,GAAG,WAAW,CAAAA,QAAK,KAAK,cAAcA,GAAC,CAAC,CAAC,GAAG,KAAK,aAAa,IAAIQ,IAAE,KAAK,WAAW,KAAK,aAAa,MAAM,KAAK,cAAc,GAAG,MAAM,KAAK,cAAc,CAAC,GAAG,KAAK,qBAAqB,IAAIC,IAAE,KAAK,OAAO,KAAK,WAAW,GAAG,KAAK,WAAW,IAAIC,IAAEV,KAAG,KAAK,YAAY,KAAK,aAAa,KAAK,OAAO,KAAK,oBAAoB,CAAAA,QAAK,KAAK,cAAcA,GAAC,CAAC,GAAG,KAAK,WAAW,CAACW,GAAE,MAAMX,IAAE,KAAK,OAAO,CAAAI,QAAK;AACze,MAAAA,OAAK,KAAK,mBAAmBJ,IAAE,MAAMA,IAAE,WAAW;AAAA,IACpD,GAAG,CAAC,GAAGW,GAAE,MAAM,KAAK,eAAe,UAAU,MAAM,KAAK,cAAc,GAAG,CAAC,GAAGA,GAAE,MAAMX,IAAE,KAAK,gBAAgB,CAAAA,QAAK,KAAK,UAAU,qBAAqBA,GAAC,GAAGY,EAAC,CAAC,CAAC;AAC5J,UAAMJ,MAAI;AAAA,MACR,aAAa,CAACR,KAAGI,KAAGE,KAAGE,QAAM,KAAK,SAAS,OAAOR,KAAGI,KAAGE,KAAGE,GAAC;AAAA,MAC5D,oBAAoB,CAAAR,QAAK,KAAK,cAAcA,GAAC;AAAA,MAC7C,gBAAgB,MAAMA,IAAE,QAAQ,WAAW,eAAe;AAAA,MAC1D,eAAe,CAACI,KAAGE,KAAGE,QAAMR,IAAE,QAAQ,WAAW,cAAcI,KAAGE,KAAGE,GAAC;AAAA,IACxE;AACA,SAAK,qBAAqB,IAAIK,IAAE,KAAK,OAAOL,KAAG,CAAAR,QAAK,KAAK,OAAO,KAAK,+BAA+BA,GAAC,CAAC,GAAG,KAAK,mBAAmBA,GAAC;AAAA,EACpI;AAAA,EACA,oBAAoB;AAClB,WAAO,CAAC;AAAA,EACV;AAAA,EACA,UAAU;AACR,SAAK,WAAW,SAAS,KAAK,OAAO,KAAK,KAAK,WAAW,YAAY,KAAK,OAAO,GAAG,KAAK,aAAa,EAAE,KAAK,UAAU,GAAG,KAAK,cAAc,EAAE,KAAK,WAAW,GAAG,KAAK,oBAAoB,EAAE,KAAK,iBAAiB,GAAG,KAAK,qBAAqB,EAAE,KAAK,kBAAkB,GAAG,EAAE,KAAK,QAAQ,GAAG,KAAK,YAAY,EAAE,KAAK,SAAS,GAAG,EAAE,KAAK,aAAa,GAAG,EAAE,KAAK,cAAc,GAAG,EAAE,KAAK,eAAe,GAAG,KAAK,UAAU,MAAM,KAAK,aAAa,MAAM,KAAK,QAAQ,EAAE,KAAK,KAAK;AAAA,EACnd;AAAA,EACA,mBAAmBA,KAAGI,KAAG;AACvB,QAAIU,GAAE;AAAA,MACJ,MAAMd;AAAA,MACN,WAAW,MAAM,KAAK,SAAS;AAAA,MAC/B,YAAY,KAAK;AAAA,IACnB,CAAC,GAAG,IAAIe,IAAE;AAAA,MACR,MAAMf;AAAA,MACN,WAAW,MAAM,KAAK,SAAS;AAAA,MAC/B,YAAY,KAAK;AAAA,IACnB,CAAC,GAAG,IAAID,IAAE;AAAA,MACR,MAAMC;AAAA,MACN,YAAY,KAAK;AAAA,IACnB,CAAC,GAAG,IAAIgB,IAAE;AAAA,MACR,MAAMhB;AAAA,MACN,YAAY,KAAK;AAAA,IACnB,CAAC,GAAG,IAAIiB,IAAE;AAAA,MACR,MAAMjB;AAAA,MACN,aAAaI;AAAA,MACb,YAAY,KAAK;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EACA,cAAcJ,MAAIkB,GAAE,QAAQ;AAC1B,SAAK,eAAe,MAAIlB,QAAMkB,GAAE,WAAW,KAAK,eAAe;AAAA,EACjE;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,gBAAgB,KAAK,+BAA+B,KAAK,SAAS,YAAY,KAAK,UAAU,YAAY,KAAK,cAAc;AAAA,EAC1I;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,eAAelB,KAAG;AAChB,SAAK,iBAAiBA,QAAM,KAAK,eAAeA,KAAG,KAAK,cAAc;AAAA,EACxE;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,MAAM;AAAA,EACpB;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK;AAAA,EACd;AAAA,EACA,eAAeA,KAAG;AAChB,WAAO,KAAK,mBAAmB,eAAeA,GAAC,EAAE,KAAK,CAAAA,QAAKA,IAAE,CAAC,CAAC;AAAA,EACjE;AAAA,EACA,sBAAsBA,KAAG;AACvB,WAAOA,IAAE,wBAAwB,MAAI,KAAK,mBAAmB,eAAeA,GAAC;AAAA,EAC/E;AAAA,EACA,WAAW;AACT,WAAO,CAAC,CAAC,KAAK,MAAM,kBAAkB;AAAA,EACxC;AAAA,EACA,uBAAuBA,KAAGI,KAAGE,KAAGE,KAAGL,KAAGM,MAAIN,KAAG;AAC3C,UAAMF,MAAIO,IAAE,oBAAoBJ,KAAGE,KAAGH,MAAIK,IAAE,YAAYC,MAAID,IAAE,UAAU,GACtEW,MAAI,KAAK,mBAAmBlB,GAAC;AAC/B,SAAK,SAAS,gBAAgBA,KAAGkB,GAAC;AAClC,QAAIC,MAAI,OAAO;AACf,aAASC,MAAI,GAAGA,MAAIpB,IAAE,CAAC,IAAIA,IAAE,CAAC,GAAGoB,OAAK;AACpC,YAAMrB,MAAIF,IAAE,IAAIuB,KAAGF,KAAGX,IAAE,OAAO;AAC/B,MAAAY,MAAIpB,OAAKA,QAAMQ,IAAE,QAAQ,CAAC,KAAKR,QAAMQ,IAAE,QAAQ,CAAC,MAAMY,MAAIpB;AAAA,IAC5D;AACA,QAAIA,KAAG;AACL,YAAMG,MAAIH,IAAE,UAAUI,MAAII,IAAE,YAAYF,MAAIE,IAAE,YAAYA,GAAC;AAC3D,cAAQL,OAAKiB,MAAIjB,OAAKA,QAAMK,IAAE,QAAQ,CAAC,KAAKL,QAAMK,IAAE,QAAQ,CAAC,MAAMY,MAAIjB;AAAA,IACzE;AACA,WAAOiB,QAAM,OAAO,YAAY,SAASA;AAAA,EAC3C;AAAA,EACA,mBAAmBpB,KAAG;AACpB,UAAMI,MAAI,IAAIJ,IAAE,CAAC,IAAIA,IAAE,CAAC;AACxB,YAAQ,QAAQ,KAAK,mBAAmB,KAAK,gBAAgB,aAAaI,SAAO,KAAK,kBAAkB,IAAI,WAAWA,GAAC,IAAI,KAAK;AAAA,EACnI;AAAA,EACM,gBAAgB;AAAA;AACpB,MAAAJ,IAAE,GAAG,MAAM,KAAK,YAAY,UAAU,GAAG,KAAK,cAAc;AAAA,IAC9D;AAAA;AAAA,EACA,mBAAmBA,KAAG;AACpB,UAAMI,MAAIJ,IAAE,KAAK;AACjB,QAAIM,MAAI,OACNE,MAAIU,GAAE,YACNf,MAAI;AACN,UAAMM,MAAI;AAAA,MACR,WAAW,CAAC;AAAA,QACV,MAAMN;AAAA,MACR,MAAM;AACJ,QAAAG,MAAI,KAAK,UAAUE,MAAI,KAAK,eAAeU,GAAE,SAASA,GAAE,YAAYlB,IAAE,iBAAiB;AACvF,cAAMS,MAAIA,GAAEN,MAAI,KAAK,oBAAoB;AACzC,YAAIM,MAAI,KAAK,SAAS,qBAAqB,QAAQL,IAAE,uBAAuBE,OAAK,KAAK,cAAc;AAClG,gBAAMN,MAAIS,GAAEA,MAAI,KAAK,SAAS,qBAAqB,GACjDH,MAAI,IAAIK,GAAEP,IAAE,QAAQJ,KAAGI,IAAE,mBAAmB;AAC9C,eAAK,SAAS,gBAAgBE,GAAC,KAAK,KAAK,cAAcY,GAAE,UAAU,GAAG,KAAK,uBAAuBf;AAAA,QACpG;AAAA,MACF;AAAA,MACA,QAAQ,CAAC;AAAA,QACP,MAAMH;AAAA,MACR,MAAM;AACJ,aAAK,KAAK,gBAAgB,CAAC,KAAK,gBAAgB,CAAC,KAAK,SAAS,iBAAiB,KAAK,gCAAgCI,IAAE,OAAO,YAAY,KAAKA,IAAE,OAAO,aAAa,GAAG;AACtK,gBAAME,MAAI,KAAK,gBAAgB,KAAK,gBAAgB,KAAK,SAAS;AAClE,eAAK,eAAe,OAAI,KAAK,eAAe,OAAI,KAAK,8BAA8B,OAAI,KAAK,SAAS,OAAOF,KAAGJ,GAAC,GAAGG,MAAI,MAAIG,OAAK,KAAK,SAAS,mBAAmB,KAAK,cAAcY,GAAE,UAAU,GAAG,KAAK,8BAA8B;AAAA,QACxO;AAAA,MACF;AAAA,MACA,QAAQ,CAAC;AAAA,QACP,MAAMlB;AAAA,MACR,MAAM;AACJ,cAAMM,MAAI,KAAK,SAAS,iBAAiB,KAAK,SAAS,kBAAkB,KAAK,SAAS,eACrFE,MAAI,IAAIG,IAAEP,KAAGE,KAAG,KAAK,SAAS,QAAQ;AACxC,aAAK,UAAU,OAAO,GAAG,KAAK,mBAAmB,OAAOE,KAAGR,GAAC;AAAA,MAC9D;AAAA,MACA,QAAQ,MAAM;AACZ,QAAAG,QAAM,KAAK,SAAS,OAAOC,IAAE,SAASkB,GAAE,OAAOd,MAAIU,GAAE,MAAM,GAAGf,MAAI;AAAA,MACpE;AAAA,IACF;AACA,SAAK,aAAaS,GAAEH,GAAC;AAAA,EACvB;AAAA,EACA,mBAAmBT,KAAG;AACpB,UAAMI,MAAIJ,IAAE;AACZ,SAAK,UAAUI,IAAE,QAAQ,KAAK,YAAY,KAAK,UAAU,SAAS,cAAc,QAAQ,IAAI,KAAK,QAAQ,aAAa,SAAS,0CAA0C;AACzK,UAAME,MAAI;AAAA,MACN,OAAOF,IAAE,SAAS;AAAA,MAClB,oBAAoB;AAAA,MACpB,WAAW;AAAA,MACX,OAAO;AAAA,MACP,SAASA,IAAE,WAAW;AAAA,MACtB,iBAAiB;AAAA,MACjB,uBAAuBA,IAAE,yBAAyB;AAAA,IACpD,GACAD,MAAIC,IAAE,KAAK,SAASE,GAAC;AACvB,YAAQH,OAAK,KAAK,QAAQoB,IAAEpB,KAAGH,GAAC,GAAG,KAAK,0BAA0B,GAAG,CAACI,IAAE,SAAS,KAAK,MAAM,kBAAkB,SAAS,EAAE,UAAU,IAAI,EAAE,MAAM,4EAA4E,GAAG,CAAC,KAAK,MAAM,kBAAkB,SAAS,IAAI,QAAQ,KAAK,OAAO,KAAK,WAAW,MAAM,kBAAkB,UAAU,KAAK,WAAW,YAAY,KAAK,OAAO,KAAK,EAAE,UAAU,IAAI,EAAE,MAAM,wCAAwC;AAAA,EAC9b;AAAA,EACA,4BAA4B;AAC1B,SAAK,MAAM,aAAa,OAAO,oBAAoB;AAAA,EACrD;AAAA,EACA,yBAAyBJ,KAAG;AAC1B,WAAO,QAAQ,KAAK,+BAA+B,KAAK,6BAA6B,yBAAyBA,GAAC,IAAI;AAAA,EACrH;AAAA,EACA,IAAI,4BAA4B;AAC9B,WAAO,QAAQ,KAAK,sBAAsB,KAAK,oBAAoB,IAAIwB,IAAE,KAAK,SAAS,mBAAmB,KAAK,YAAY,IAAI,KAAK;AAAA,EACtI;AAAA,EACA,IAAI,0BAA0BxB,KAAG;AAC/B,SAAK,oBAAoBA;AAAA,EAC3B;AACF;AACA,SAASuB,IAAEvB,KAAGI,KAAG;AACf,QAAME,MAAI;AAAA,IACN,oBAAoBF,IAAE,QAAQ,8BAA8B,CAAC;AAAA,IAC7D,sBAAsBA,IAAE,QAAQ,wBAAwB,CAAC;AAAA,IACzD,eAAe;AAAA,EACjB,GACAI,MAAI,CAACR,KAAGM,QAAMF,IAAE,KAAK,mBAAmB,iBAAiB,SAASJ,KAAGM,GAAC;AACxE,MAAIL,IAAE,SAAS;AACb,QAAIG,MAAIkB,IAAE,IAAItB,GAAC;AACf,WAAOI,OAAKA,IAAE,UAAUE,GAAC,GAAGF,IAAE,WAAWI,KAAGJ,IAAE,IAAI,GAAGA,QAAMA,MAAI,IAAIA,IAAEJ,KAAGM,KAAGE,GAAC,GAAGc,IAAE,IAAItB,KAAGI,GAAC,GAAGA,IAAE,IAAI,GAAGA;AAAA,EACvG;AACA,SAAO,IAAIA,IAAEJ,KAAGM,KAAGE,GAAC;AACtB;AACAR,GAAE,CAACc,GAAE;AAAA,EACH,MAAM;AAAA,EACN,UAAU;AACZ,CAAC,CAAC,GAAGhB,IAAE,WAAW,YAAY,IAAI,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,SAAS,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,cAAc,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,WAAW,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,mBAAmB,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,kBAAkB,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,iBAAiB,MAAM,GAAGE,GAAE,CAACc,GAAE;AAAA,EAC1T,UAAU;AACZ,CAAC,CAAC,GAAGhB,IAAE,WAAW,gCAAgC,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,aAAa,MAAM,GAAGE,GAAE,CAACc,GAAE;AAAA,EAC1G,UAAU;AACZ,CAAC,CAAC,GAAGhB,IAAE,WAAW,YAAY,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,sBAAsB,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,6BAA6B,IAAI,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,qBAAqB,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,gBAAgB,MAAM,GAAGE,GAAE,CAACc,GAAE,CAAC,GAAGhB,IAAE,WAAW,+BAA+B,MAAM,GAAGA,MAAIE,GAAE,CAACmB,GAAE,6CAA6C,CAAC,GAAGrB,GAAC;AAClX,IAAMwB,MAAIlB,IAAE;;;ACzNZ,IAAIqB,MAAI,cAAcC,GAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,SAAS,IAAIC,IAAE,GAAG,KAAK,UAAU,IAAIC,GAAE,GAAG,KAAK,kBAAkB,IAAIC,IAAE,GAAG,KAAK,iBAAiB,IAAIA,IAAE,GAAG,KAAK,gBAAgB,oBAAI,IAAI;AAAA,EACvJ;AAAA,EACA,aAAa;AACX,SAAK,KAAK,cAAc,IAAIC,IAAE,IAAI,CAAC,GAAG,KAAK,aAAa,KAAK,KAAK,mBAAmB,UAAU,aAAaC,GAAE,OAAO,IAAI,GAAG,KAAK,WAAW,KAAK,UAAU;AAAA,EAC7J;AAAA,EACA,UAAU;AACR,SAAK,WAAW,QAAQ;AAAA,EAC1B;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,KAAK,MAAM;AAAA,EACzB;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,WAAW,KAAK,WAAW,YAAY,KAAK,WAAW;AAAA,EACrE;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,YAAY;AAAA,EAC1B;AAAA,EACA,IAAIL,KAAG;AACL,SAAK,OAAO,IAAIA,GAAC,GAAGM,IAAEN,GAAC,KAAK,KAAK,UAAUA,GAAC,GAAG,KAAK,WAAW,cAAc;AAAA,EAC/E;AAAA,EACA,OAAOA,KAAG;AACR,YAAQA,OAAK,CAAC,KAAK,aAAa,KAAK,OAAO,OAAOA,GAAC,MAAMM,IAAEN,GAAC,KAAK,KAAK,aAAaA,GAAC,GAAG,KAAK,WAAW,cAAc;AAAA,EACxH;AAAA,EACA,QAAQA,KAAG;AACT,YAAQA,QAAM,KAAK,OAAO,QAAQA,GAAC,GAAG,KAAK,WAAW,cAAc;AAAA,EACtE;AAAA,EACA,WAAWA,KAAG;AACZ,YAAQA,QAAM,KAAK,QAAQ,WAAWA,GAAC,GAAG,KAAK,YAAY,cAAc;AAAA,EAC3E;AAAA,EACA,cAAcA,KAAGO,KAAG;AAClB,SAAK,OAAO,cAAcP,KAAGO,GAAC;AAAA,EAChC;AAAA,EACA,YAAYP,KAAGO,KAAG;AAChB,SAAK,cAAc,KAAK,OAAO,SAASP,GAAC,EAAEO,GAAC,GAAG,KAAK,WAAW,cAAc;AAAA,EAC/E;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,OAAO,SAAS,SAAS,CAAC,KAAK,gBAAgB;AAAA,EAC7D;AAAA,EACA,QAAQP,KAAG;AACT,QAAI,KAAK,WAAW,aAAaA,GAAC,GAAG,KAAK,QAAQA,GAAC,GAAG,CAACA,IAAE,cAAe,QAAOQ;AAAA,EACjF;AAAA,EACA,QAAQR,KAAG;AACT,UAAMO,MAAI,KAAK,OAAO;AACtB,SAAK,gBAAgB,SAASP,IAAE,SAAS,KAAK,SAAS,OAAO,KAAK,iBAAiBA,GAAC,GAAG,KAAK,WAAW,cAAc,GAAGA,IAAE,aAAa,IAAI,KAAK,QAAQ,OAAO,CAAAS,QAAK;AACnK,UAAIT,IAAE,KAAM;AACZ,YAAMG,MAAI,KAAK,cAAc,IAAIM,IAAE,EAAE,KAAKA,IAAE,iBAAiBC,GAAE,MAC7DC,MAAIR,MAAI,KAAK,iBAAiB,KAAK;AACrC,MAAAI,IAAE,YAAYE,IAAE,IAAIE,GAAC,GAAG,KAAK,cAAc,OAAOF,IAAE,EAAE,GAAGE,IAAE,UAAU,KAAK,SAAS,OAAOA,KAAGR,MAAIO,KAAIV,GAAC,GAAG,KAAK,WAAW,cAAc,GAAGA,IAAE,aAAa;AAAA,IAC3J,CAAC,GAAG,KAAK,eAAe,UAAU,KAAK,SAAS,OAAO,KAAK,gBAAgBU,EAAC,GAAG,KAAK,WAAW,cAAc,GAAGV,IAAE,aAAa,IAAI,KAAK,QAAQ,OAAO,CAAAS,QAAK;AAC3J,MAAAT,IAAE,QAAQ,KAAK,cAAc,IAAIS,IAAE,EAAE,KAAKA,IAAE,iBAAiBC,GAAE,UAAUH,IAAE,YAAYE,IAAE,IAAI,KAAK,eAAe,GAAG,KAAK,gBAAgB,UAAU,KAAK,SAAS,OAAO,KAAK,iBAAiBT,GAAC,GAAG,KAAK,WAAW,cAAc,GAAGA,IAAE,aAAa;AAAA,IACpP,CAAC,GAAG,KAAK,cAAc,MAAM,GAAG,KAAK,aAAa,SAAS;AAAA,EAC7D;AAAA,EACA,mBAAmB;AACjB,UAAMA,MAAI,KAAK,OAAO;AACtB,SAAK,QAAQ,OAAO,CAAAO,QAAK;AACvB,WAAK,cAAc,IAAIA,IAAE,EAAE,KAAKA,IAAE,iBAAiBG,GAAE,QAAQV,IAAE,YAAYO,IAAE,IAAI,KAAK,cAAc,GAAG,KAAK,cAAc,OAAOA,IAAE,EAAE,KAAKP,IAAE,kBAAkBO,IAAE,IAAI,KAAK,cAAc;AAAA,IACzL,CAAC;AACD,eAAWA,OAAK,KAAK,cAAe,CAAAP,IAAE,YAAYO,KAAG,KAAK,cAAc;AACxE,SAAK,cAAc,MAAM,GAAG,KAAK,eAAe,UAAU,KAAK,SAAS,OAAO,KAAK,gBAAgBG,EAAC,GAAG,KAAK,WAAW,cAAc;AAAA,EACxI;AAAA,EACA,aAAaV,KAAG;AACd,SAAK,OAAO,SAAS,YAAYA,IAAE,IAAI,KAAK,cAAc,GAAG,KAAK,cAAc,OAAOA,IAAE,EAAE,GAAG,KAAK,eAAe,UAAU,KAAK,SAAS,OAAO,KAAK,gBAAgBU,EAAC,GAAG,KAAK,WAAW,cAAc;AAAA,EAC1M;AAAA,EACA,SAASV,KAAGO,KAAG;AACb,WAAO,KAAK,WAAW,SAASP,KAAGO,GAAC;AAAA,EACtC;AAAA,EACA,WAAWP,KAAGO,KAAG;AACf,WAAO,KAAK,WAAW,WAAWP,KAAGO,GAAC;AAAA,EACxC;AAAA,EACA,UAAUP,KAAG;AACX,SAAK,cAAc,IAAIA,GAAC,GAAG,KAAK,WAAW,cAAc;AAAA,EAC3D;AAAA,EACA,UAAUA,KAAG;AACX,WAAO,KAAK,OAAO,UAAUA,GAAC;AAAA,EAChC;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK;AAAA,EACd;AAAA,EACA,UAAUA,KAAG;AACX,SAAK,QAAQ,SAASA,GAAC,KAAK,KAAK,QAAQ,KAAKA,GAAC;AAAA,EACjD;AAAA,EACA,aAAaA,KAAG;AACd,SAAK,aAAaA,GAAC,GAAG,QAAQ,KAAK,QAAQ,gBAAgBA,GAAC,MAAM,KAAK,OAAO,SAAS,4BAA4BA,IAAE,IAAI,KAAK,eAAe,OAAO,GAAG,KAAK,SAAS,OAAO,KAAK,gBAAgBU,EAAC;AAAA,EACpM;AAAA,EACA,gBAAgBV,KAAGO,KAAG;AACpB,UAAME,MAAI,KAAK,SAAS,QAAQ,IAAIT,KAAGO,GAAC,GACtCI,MAAI,MAAM;AACR,MAAAC,IAAEZ,GAAC,KAAK,KAAK,KAAK,wBAAwB,uBAAuBA,GAAC;AAAA,IACpE;AACF,QAAID,GAAEU,GAAC,EAAG,QAAOA,IAAE,KAAKE,GAAC;AACzB,IAAAA,IAAE;AAAA,EACJ;AAAA,EACA,mBAAmBX,KAAG;AACpB,SAAK,cAAcY,IAAEZ,GAAC,KAAK,KAAK,KAAK,wBAAwB,0BAA0BA,GAAC,GAAG,KAAK,SAAS,QAAQ,OAAOA,GAAC;AAAA,EAC3H;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK,OAAO,SAAS;AAAA,EAC9B;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AACd;AACAF,IAAE,gBAAgB;AAAA,EAChB,2BAA2B;AAC7B,GAAGE,GAAE,CAACa,GAAE;AAAA,EACN,eAAe;AACjB,CAAC,CAAC,GAAGf,IAAE,WAAW,QAAQ,MAAM,GAAGE,GAAE,CAACa,GAAE;AAAA,EACtC,eAAe;AACjB,CAAC,CAAC,GAAGf,IAAE,WAAW,WAAW,MAAM,GAAGE,GAAE,CAACa,GAAE;AAAA,EACzC,UAAU;AACZ,CAAC,CAAC,GAAGf,IAAE,WAAW,eAAe,IAAI,GAAGE,GAAE,CAACa,GAAE;AAAA,EAC3C,eAAe;AACjB,CAAC,CAAC,GAAGf,IAAE,WAAW,aAAa,MAAM,GAAGE,GAAE,CAACa,GAAE;AAAA,EAC3C,UAAU;AACZ,CAAC,CAAC,GAAGf,IAAE,WAAW,YAAY,IAAI,GAAGE,GAAE,CAACa,GAAE;AAAA,EACxC,eAAe;AACjB,CAAC,CAAC,GAAGf,IAAE,WAAW,UAAU,MAAM,GAAGE,GAAE,CAACa,GAAE,CAAC,GAAGf,IAAE,WAAW,cAAc,MAAM,GAAGE,GAAE,CAACa,GAAE;AAAA,EACrF,UAAU;AACZ,CAAC,CAAC,GAAGf,IAAE,WAAW,YAAY,IAAI,GAAGE,GAAE,CAACa,GAAE;AAAA,EACxC,UAAU;AACZ,CAAC,CAAC,GAAGf,IAAE,WAAW,WAAW,IAAI,GAAGA,MAAIE,GAAE,CAACc,GAAE,kCAAkC,CAAC,GAAGhB,GAAC;;;AClIpF,IAAIiB,MAAI,cAAcC,IAAE;AAAA,EACtB,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,aAAa,CAAC,eAAe,QAAQ,qBAAqB,SAAS;AAAA,EACpF;AACF;AACAF,GAAE,CAACG,GAAE,CAAC,GAAGH,IAAE,WAAW,cAAc,MAAM,GAAGA,MAAIA,GAAE,CAACI,GAAE,8BAA8B,CAAC,GAAGJ,GAAC;AACzF,IAAMK,MAAIL;;;AC2EV,IAAIM,MAAK,cAAcC,IAAEC,GAAEC,GAAEC,EAAC,CAAC,CAAC,EAAE;AAAA,EAChC,YAAYC,KAAG;AACb,UAAMA,GAAC,GAAG,KAAK,oBAAoB,MAAM,KAAK,gBAAgB,MAAM,KAAK,kCAAkC,MAAM,KAAK,gCAAgC,MAAM,KAAK,oBAAoB,CAAC,GAAG,KAAK,kBAAkB,IAAIJ,IAAG;AAAA,MACrN,YAAYK;AAAA,IACd,GAAG,IAAI,GAAG,KAAK,sBAAsBC,IAAG,IAAI,GAAG,KAAK,uBAAuB;AAAA,MACzE,SAAS,oBAAI,IAAI;AAAA,IACnB,GAAG,KAAK,yBAAyB;AAAA,MAC/B,SAAS,oBAAI,IAAI;AAAA,IACnB,GAAG,KAAK,eAAe,IAAIC,IAAG;AAAA,MAC5B,MAAM;AAAA,IACR,CAAC,GAAG,KAAK,UAAU,IAAIC,GAAG;AAAA,MACxB,MAAM;AAAA,MACN,cAAc,KAAK,aAAa;AAAA,IAClC,CAAC,GAAG,KAAK,wBAAwB,MAAM,KAAK,WAAW,IAAIC,IAAE,GAAG,KAAK,iBAAiB,MAAM,KAAK,oBAAoB,MAAM,KAAK,SAAS,MAAM,KAAK,cAAc,IAAIC,IAAG,GAAG,KAAK,cAAc,IAAIC,IAAG,GAAG,KAAK,qBAAqB,IAAIC,IAAG,GAAG,KAAK,SAAS,IAAI,EAAE,GAAG,KAAK,cAAc,GAAG,KAAK,eAAe,MAAM,KAAK,sBAAsB,IAAID,IAAG;AAAA,MACpV,MAAM;AAAA,IACR,CAAC,GAAG,KAAK,aAAa,MAAM,KAAK,MAAM,MAAM,KAAK,+BAA+B,MAAI,KAAK,QAAQ,IAAIA,IAAG,GAAG,KAAK,mBAAmB,MAAM,KAAK,0BAA0B,OAAI,KAAK,+BAA+B,OAAI,KAAK,gCAAgC,MAAI,KAAK,OAAO,MAAM,KAAK,KAAK,IAAID,IAAG,GAAG,KAAK,eAAe,GAAG,KAAK,kBAAkB,GAAG,KAAK,mBAAmB,KAAI,KAAK,mBAAmB,IAAIT,IAAG,GAAGY,IAAE;AACrZ,UAAMJ,MAAI,CAACL,MAAI,SAAS;AACtB,cAAQA,OAAKA,IAAE,SAAS,EAAE,SAAS,KAAK,iBAAiB,GAAG,KAAK,OAAO,KAAK,IAAI,UAAU,QAAQ,CAAMA,QAAK;AAC5G,YAAI;AACF,gBAAMA,IAAE,KAAK;AAAA,QACf,QAAQ;AAAA,QAAC;AACT,aAAK,iBAAiB;AAAA,MACxB,EAAC;AAAA,IACH;AACA,SAAK,WAAW,CAACU,GAAE,MAAM,KAAK,KAAK,WAAW,iBAAiB,CAAAV,QAAKK,IAAEL,GAAC,GAAG;AAAA,MACxE,eAAe,MAAMK,IAAE;AAAA,MACvB,kBAAkB,MAAMA,IAAE;AAAA,MAC1B,MAAM;AAAA,IACR,CAAC,GAAG,KAAK,cAAc,GAAG,iBAAiB,CAAAL,QAAK,KAAK,wBAAwBA,GAAC,CAAC,GAAGW,GAAE,MAAM,KAAK,KAAK,CAAAX,QAAK;AACvG,MAAAA,OAAK,UAAUA,OAAKA,IAAE,QAAQA,IAAE,KAAK,EAAE,MAAM,MAAM;AAAA,MAAC,CAAC;AAAA,IACvD,CAAC,CAAC,CAAC,GAAG,KAAK,eAAe,IAAIY,IAAG;AAAA,MAC/B,MAAM;AAAA,IACR,CAAC,GAAG,KAAK,eAAe,IAAIC,IAAG;AAAA,MAC7B,MAAM;AAAA,IACR,CAAC;AAAA,EACH;AAAA,EACA,aAAa;AACX,SAAK,aAAa,IAAIV,IAAE;AAAA,MACtB,MAAM;AAAA,IACR,CAAC,GAAG,KAAK,wBAAwB;AACjC,UAAMH,MAAI,MAAM,KAAK,2BAA2B;AAChD,SAAK,WAAWU,GAAE,MAAM,KAAK,KAAK,WAAW,iBAAiBV,KAAG;AAAA,MAC/D,eAAeA;AAAA,MACf,kBAAkBA;AAAA,IACpB,CAAC,CAAC,GAAG,KAAK,gBAAgB,IAAI,MAAM,KAAK,gBAAgB,aAAa,CAAAA,QAAK;AACzE,WAAK,uBAAuB,KAAK,mBAAmB,iBAAiB,YAAYA;AAAA,IACnF,GAAG,CAAC,GAAG,KAAK,gBAAgB,IAAI,MAAM,KAAK,gBAAgB,uBAAuB,CAAAA,QAAK;AACrF,WAAK,uBAAuB,KAAK,mBAAmB,iBAAiB,wBAAwBA;AAAA,IAC/F,GAAG,CAAC,GAAG,KAAK,gBAAgB,IAAI,MAAM,KAAK,gBAAgB,aAAa,GAAG,CAAAA,QAAK,EAAEA,MAAI,IAAI,MAAM,KAAK,KAAKA,GAAC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,gBAAgB,IAAI,MAAM,KAAK,KAAK,QAAQA,KAAGc,EAAC,GAAG,KAAK,gBAAgB,IAAI,MAAM,KAAK,KAAK,QAAQ,SAAS,MAAM,KAAK,6BAA6B,GAAGA,EAAC,GAAG,KAAK,WAAWH,GAAE,MAAM,KAAK,kBAAkB,MAAM,KAAK,aAAa,cAAc,GAAG,CAAC,CAAC;AAAA,EACpX;AAAA,EACA,UAAU;AACR,SAAK,cAAc,KAAK,gBAAgB,UAAU,GAAG,KAAK,WAAW,GAAG,KAAK,aAAa,MAAM,KAAK,iBAAiB,MAAM,GAAG,KAAK,aAAa,GAAG,KAAK,qBAAqB,GAAG,KAAK,wBAAwB,EAAE,KAAK,qBAAqB,GAAG,KAAK,KAAK,WAAW,EAAE,KAAK,OAAO,CAAC,GAAG,KAAK,KAAK,gBAAgB,EAAE,KAAK,YAAY,CAAC,GAAG,KAAK,sBAAsB,EAAE,KAAK,mBAAmB,GAAG,KAAK,KAAK,gBAAgB,EAAE,KAAK,YAAY,CAAC,GAAG,KAAK,KAAK,gBAAgB,EAAE,KAAK,YAAY,CAAC,GAAG,KAAK,MAAM,QAAQ,GAAG,KAAK,gBAAgB,QAAQ,GAAG,KAAK,cAAc,kBAAkB,GAAG,KAAK,KAAK,sBAAsB,EAAE,KAAK,kBAAkB,CAAC,GAAG,KAAK,KAAK,eAAe,EAAE,KAAK,WAAW,CAAC,GAAG,KAAK,aAAa,EAAE,KAAK,UAAU,GAAG,KAAK,oBAAoB,GAAG,KAAK,QAAQ,QAAQ;AAAA,EAClwB;AAAA,EACA,IAAI,yBAAyB;AAC3B,WAAO,KAAK,sBAAsB,KAAK,mBAAmB;AAAA,EAC5D;AAAA,EACA,IAAI,0BAA0B;AAC5B,WAAO,KAAK,gBAAgB;AAAA,EAC9B;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,OAAOX,KAAG;AACZ,SAAK,iBAAiB,KAAK,aAAa,SAASA;AAAA,EACnD;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,cAAcA,KAAG;AACnB,SAAK,iBAAiB,KAAK,aAAa,gBAAgBA;AAAA,EAC1D;AAAA,EACA,0BAA0BA,MAAI;AAAA,IAC5B,QAAQ;AAAA,EACV,GAAG;AACD,WAAO,KAAK,aAAa,0BAA0BA,GAAC;AAAA,EACtD;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,OAAOA,KAAG;AACZ,SAAK,iBAAiB,KAAK,aAAa,SAASA;AAAA,EACnD;AAAA,EACA,IAAI,eAAe;AACjB,QAAI,aAAa,KAAK,YAAa,QAAO;AAC1C,UAAMA,MAAI,KAAK;AACf,QAAIK,MAAI,KAAK,qBAAqB,EAAEL,KAAG,cAAc;AACrD,WAAO,CAAC,KAAK,qBAAqB,CAAC,EAAEA,KAAG,iBAAiB,KAAK,QAAQK,OAAK,KAAK,gBAAgB,MAAM,QAAQA,eAAaU,KAAK,KAAK,qBAAqBV,MAAIW,IAAGX,KAAG,KAAK,gBAAgB,GAAG,QAAQA,QAAM,EAAE,UAAU,IAAI,EAAE,MAAM,iBAAiB,yDAAyD,GAAG,KAAK,kBAAkBA,MAAIA,IAAE,MAAM,GAAG,QAAQA,IAAE,aAAa,KAAK,sBAAsB,MAAMA,IAAE,OAAOA,IAAE,MAAMA,IAAE,OAAOA,IAAE,OAAOA,IAAE,OAAO,QAAQA,IAAE,OAAO,QAAQA,IAAE,OAAO,KAAK,aAAa,MAAM,KAAK,gBAAgBA,MAAI,KAAK,kBAAkB,EAAE,UAAU,IAAI,EAAE,MAAM,iBAAiB,2DAA2D,GAAG,KAAK;AAAA,EACjpB;AAAA,EACA,IAAI,aAAaL,KAAG;AAClB,SAAK,SAAS,aAAa,KAAK,eAAe,QAAQA,MAAI,EAAE,UAAU,IAAI,EAAE,MAAM,kBAAkB,sDAAsD,IAAI,KAAK,oBAAoBA;AAAA,EAC1L;AAAA,EACA,IAAI,mBAAmB;AACrB,QAAI,KAAK,MAAM,gBAAgBiB,GAAG,OAAQ,QAAO;AACjD,UAAMjB,MAAI,KAAK,wBACbK,MAAI,KAAK;AACX,WAAO,QAAQA,OAAK,QAAQL,OAAKK,IAAE,iBAAiB,OAAOL,GAAC,IAAIK,MAAIW,IAAGX,KAAGL,GAAC;AAAA,EAC7E;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,gBAAgB,cAAc,WAAW;AAAA,EACvD;AAAA,EACA,IAAI,aAAa;AACf,QAAIA,MAAI,KAAK;AACb,UAAMK,MAAI,KAAK,oBAAoBE,GAAG,OACpCW,MAAIF,IAAG,KAAK,cAAcX,GAAC;AAC7B,YAAQa,QAAMlB,MAAI,QAAQA,MAAIA,IAAE,aAAakB,GAAC,IAAIA;AAClD,UAAMC,MAAI,KAAK,KAAK,YAAY;AAChC,WAAO,QAAQnB,OAAKA,IAAE,OAAOmB,GAAC,IAAIA,MAAInB;AAAA,EACxC;AAAA,EACA,IAAI,yBAAyB;AAC3B,UAAMA,MAAI,KAAK,oBAAoBO,GAAG;AACtC,QAAIF;AACJ,UAAMa,MAAI,CAAAA,QAAK;AACX,YAAMC,MAAIH,IAAGE,KAAGlB,GAAC;AACjB,cAAQmB,QAAM,QAAQd,MAAIA,IAAE,MAAMc,GAAC,IAAId,MAAIc,IAAE,MAAM;AAAA,IACrD,GACAA,MAAI,KAAK;AACX,QAAIA,KAAG,kBAAkB;AACvB,YAAMnB,MAAImB,IAAE;AACZ,MAAAD,IAAE,IAAIH,GAAG;AAAA,QACP,MAAMf,IAAE,CAAC;AAAA,QACT,MAAMA,IAAE,CAAC;AAAA,QACT,MAAM;AAAA,QACN,MAAMA,IAAE,CAAC;AAAA,QACT,MAAMA,IAAE,CAAC;AAAA,QACT,MAAM;AAAA,QACN,kBAAkBmB,IAAE;AAAA,MACtB,CAAC,CAAC;AAAA,IACJ;AACA,QAAI,KAAK,KAAK;AACZ,YAAMnB,MAAI,CAAAA,QAAK;AACb,gBAAQA,IAAE,cAAc,eAAeA,IAAE,QAAQA,IAAE,YAAYkB,IAAElB,IAAE,UAAU;AAAA,MAC/E;AACA,WAAK,IAAI,UAAU,QAAQ,CAAAK,QAAKL,IAAEK,GAAC,CAAC;AAAA,IACtC;AACA,QAAI,QAAQA,IAAG,QAAO;AACtB,IAAAA,IAAE,QAAQA,IAAE,OAAO,KAAK,IAAI,GAAGA,IAAE,QAAQ,CAAC,GAAGA,IAAE,OAAO,KAAK,IAAI,GAAGA,IAAE,QAAQ,CAAC,MAAMA,IAAE,OAAO,GAAGA,IAAE,OAAO;AACxG,UAAMe,MAAI,KAAK,KAAK,wBAAwB;AAC5C,WAAOf,IAAE,OAAOe,GAAC,IAAIA,MAAIf;AAAA,EAC3B;AAAA,EACA,gBAAgBL,KAAG;AACjB,WAAOA,MAAIA,eAAaO,MAAKP,MAAIA,eAAaqB,KAAK,KAAK,aAAa,6BAA6BrB,GAAC,KAAKO,IAAG,wBAAwBP,GAAC,IAAIqB,GAAEd,KAAIP,GAAC,IAAI,IAAIO,IAAG;AAAA,EAC5J;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,OAAOP,KAAG;AACZ,SAAK,iBAAiB,KAAK,aAAa,SAASA;AAAA,EACnD;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,wBAAwB;AAC1B,WAAO,KAAK,gBAAgB,CAAC,KAAK,aAAa;AAAA,EACjD;AAAA,EACA,IAAI,2BAA2B;AAC7B,WAAO;AAAA,MACL,UAAU;AAAA,QACR,UAAU;AAAA,QACV,iBAAiB;AAAA,QACjB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,eAAe,KAAK,iBAAiB,eAAe;AAAA,EAClE;AAAA,EACA,IAAI,aAAa;AACf,WAAO,CAAC,KAAK,aAAa,CAAC,KAAK,aAAa,QAAQ,KAAK,SAAS,KAAK,MAAM;AAAA,EAChF;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK,OAAO,cAAc;AAAA,EACnC;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,QAAQA,KAAG;AACb,SAAK,iBAAiB,KAAK,aAAa,UAAUA;AAAA,EACpD;AAAA,EACA,IAAI,eAAeA,KAAG;AACpB,IAAAiB,IAAG,eAAejB,GAAC,MAAMiB,IAAG,MAAMjB,KAAG,KAAK,eAAe,GAAG,KAAK,KAAK,kBAAkBA,GAAC;AAAA,EAC3F;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK,KAAK,gBAAgB,KAAKiB,IAAG,kBAAkB;AAAA,EAC7D;AAAA,EACA,IAAI,WAAWjB,KAAG;AAChB,QAAI,QAAQ,KAAK,UAAU,KAAK,OAAO,SAAS,cAAc;AAAA,MAC5D,YAAYA;AAAA,IACd,CAAC,GAAG,QAAQA,IAAG,QAAO,KAAK,KAAK,KAAK,cAAc,IAAI;AACvD,UAAMK,MAAI,KAAK,gBAAgB,IAAI,YAAY;AAC/C,MAAEL,KAAGK,GAAC,GAAG,KAAK,KAAK,cAAcA,GAAC;AAAA,EACpC;AAAA,EACA,IAAI,iCAAiC;AACnC,WAAO,CAAC,CAAC,KAAK,eAAe,CAAC,CAAC,KAAK,cAAc,QAAQ,KAAK,gBAAgB;AAAA,EACjF;AAAA,EACA,IAAI,aAAa;AACf,WAAO,QAAQ,KAAK,mBAAmBT,IAAE,KAAK,OAAO,KAAK,gBAAgB,IAAI;AAAA,EAChF;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,MAAMI,KAAG;AACX,SAAK,iBAAiB,KAAK,aAAa,QAAQA;AAAA,EAClD;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,kBAAkB;AACpB,UAAMA,MAAI,KAAK,0BAA0B;AACzC,WAAO,QAAQA,MAAIU,GAAE,iBAAiBV,KAAG,KAAK,gBAAgB,IAAI;AAAA,EACpE;AAAA,EACA,IAAI,WAAW;AACb,QAAI,KAAK,UAAW,QAAO;AAC3B,QAAIA,MAAI,GACNK,MAAI,KAAK,iBAAiB,UAC1Ba,MAAIb,MAAI,KAAK,iBAAiB,oBAAoB;AACpD,SAAK,cAAc,QAAQ,CAAAc,QAAK;AAC9B,UAAIA,IAAE,YAAY,GAAG;AACnB,YAAIA,IAAE,UAAU;AACd,cAAId,MAAI,MAAIc,IAAE,aAAaX,GAAGW,GAAC,EAAG;AAClC,YAAED,KAAGlB,OAAKmB,IAAE;AAAA,QACd;AAAA,MACF,MAAO,GAAED;AAAA,IACX,CAAC;AACD,eAAWE,OAAK,KAAK,iBAAkB,KAAI,QAAQA,OAAKA,IAAE,UAAU;AAClE,YAAMf,MAAI;AACV,MAAAa,OAAKb,KAAGL,OAAK,MAAKK;AAAA,IACpB;AACA,eAAWe,OAAK,KAAK,6BAA8B,SAAQA,OAAKA,IAAE,aAAa,EAAEF,KAAGlB,OAAKoB,IAAE;AAC3F,UAAMD,MAAI,CAAC,KAAK,aAAa,KAAK,6BAA6B,KAAK,MAAM;AAC1E,QAAId,MAAI,CAAC,EAAEA,OAAKa,MAAI,KAAK,KAAK,gBAAgB,YAAY,CAAC,KAAK,SAAS,CAAC,KAAK,cAAcC,OAAK,KAAK,iCAAiC,KAAK,cAAc,YAAY,KAAK,KAAK,WAAW,KAAK,CAAAnB,QAAK,CAACA,IAAE,YAAY,CAAC,KAAK,KAAK,UAAU,WAAWK,OAAK,KAAK,eAAe,KAAK,IAAIa,KAAG,KAAK,YAAY,GAAGlB,OAAK,KAAK,eAAekB,OAAK,KAAK,eAAe,GAAG,KAAK,eAAe,IAAIlB,OAAK,KAAK,eAAeA,MAAIK,MAAI,IAAI,GAAG,KAAK,KAAK,kBAAkB,MAAML,KAAG;AACtc,YAAMkB,MAAI,YAAY,IAAI;AAC1B,UAAIlB,MAAI,GAAG;AACT,cAAMK,MAAI,KAAK,KAAKa,MAAI,KAAK,mBAAmB,KAAK,CAAC;AACtD,QAAAlB,MAAI,KAAK,oBAAoB,IAAIK,OAAKL,MAAIK;AAAA,MAC5C;AACA,WAAK,KAAK,oBAAoBL,GAAC,GAAG,KAAK,kBAAkBK,OAAKL,MAAI,IAAIkB,MAAI;AAAA,IAC5E;AACA,WAAOb;AAAA,EACT;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,CAAC,KAAK,cAAc,KAAK,aAAa,KAAK,qBAAqB,KAAK,QAAQ,KAAK,cAAc,KAAK,kBAAkB,KAAK,oBAAoB,KAAK,SAAS,KAAK,sBAAsB,KAAK,iBAAiB,KAAK,mBAAmB;AAAA,EAChP;AAAA,EACA,IAAI,+BAA+B;AACjC,WAAO,CAAC,KAAK,cAAc,KAAK,SAAS,KAAK,cAAc;AAAA,EAC9D;AAAA,EACA,IAAI,cAAc;AAChB,UAAML,MAAI,KAAK;AACf,QAAI,QAAQA,IAAG,QAAOsB,IAAGtB,GAAC;AAC1B,UAAMK,MAAI,KAAK;AACf,WAAOA,MAAI,QAAQ,KAAK,iBAAiB,eAAeA,IAAE,OAAO,KAAK,gBAAgB,gBAAgB,IAAIiB,IAAG,KAAK,gBAAgB,WAAW,IAAIH,IAAGd,KAAGY,GAAG,MAAM,IAAI,WAAW,UAAU;AAAA,EAC3L;AAAA,EACA,IAAI,YAAYjB,KAAG;AACjB,SAAK,QAAQ,EAAE,UAAU,IAAI,EAAE,MAAM,gBAAgB,8CAA8C,IAAI,KAAK,gBAAgB,eAAeA,GAAC;AAAA,EAC9I;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK,cAAc;AAAA,EAC5B;AAAA,EACA,IAAI,UAAUA,KAAG;AACf,SAAK,iBAAiB,KAAK,aAAa,YAAYA;AAAA,EACtD;AAAA,EACA,IAAI,OAAO;AACT,WAAO,KAAK,aAAa;AAAA,EAC3B;AAAA,EACA,IAAI,KAAKA,KAAG;AACV,SAAK,iBAAiB,KAAK,aAAa,OAAOA;AAAA,EACjD;AAAA,EACA,IAAI,qBAAqB;AACvB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,qBAAqB,kBAAkB,gBAAgB;AAAA,EACrE;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK,KAAK,KAAK,IAAI,GAAG,KAAK,UAAU,IAAG,CAAC;AAAA,EAClD;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,IAAIoB,IAAG,IAAI;AAAA,EACpB;AAAA,EACA,GAAGpB,KAAGK,KAAGa,KAAGC,KAAG;AACb,UAAMC,MAAI,KAAK,WAAW,GAAGpB,KAAGK,KAAGa,KAAGC,GAAC;AACvC,WAAOC,OAAK,MAAM,GAAGpB,KAAGK,GAAC;AAAA,EAC3B;AAAA,EACA,iBAAiBL,KAAG;AAClB,WAAO,MAAM,iBAAiBA,GAAC,KAAK,KAAK,WAAW,WAAWA,GAAC;AAAA,EAClE;AAAA,EACA,MAAMA,KAAGK,KAAG;AACV,QAAI,CAAC,KAAK,MAAO,QAAO,EAAE,UAAU,IAAI,EAAE,MAAM,YAAY,8CAA8C,GAAG;AAC7G,UAAMa,MAAItB,IAAGI,GAAC,IAAImB,IAAG,MAAMnB,GAAC,IAAIA;AAChC,WAAOuB,IAAG,MAAML,KAAGb,KAAG,KAAK,oBAAoB;AAAA,EACjD;AAAA,EACA,SAASL,KAAG;AACV,QAAI,CAAC,KAAK,MAAO,QAAO,EAAE,UAAU,IAAI,EAAE,MAAM,eAAe,8CAA8C,GAAG;AAChH,UAAMK,OAAK,QAAQL,IAAE,IAAIsB,IAAG,KAAK,mBAAmBtB,GAAC,IAAI,SAAS;AAClE,WAAOM,GAAEN,KAAGwB,KAAI,KAAK,wBAAwBnB,GAAC,GAAG,KAAK,MAAM,OAAO,gBAAgBmB,KAAIC,GAAE,GAAGnB,GAAEmB,IAAG,CAAC,GAAGA,IAAG,CAAC,CAAC;AAAA,EAC5G;AAAA,EACA,YAAYzB,KAAG;AACb,WAAO,KAAK,QAAQA,OAAKM,GAAEN,KAAGwB,KAAI,KAAK,sBAAsB,GAAG,KAAK,MAAM,OAAO,yBAAyBA,GAAE,KAAK,KAAK,EAAE,UAAU,IAAI,EAAE,MAAM,kBAAkB,8CAA8C,GAAG;AAAA,EACpN;AAAA,EACA,2BAA2BxB,KAAG;AAC5B,UAAMK,MAAI,KAAK,eAAe;AAC9B,WAAOA,MAAIA,IAAE,2BAA2BL,KAAG,MAAM,KAAK,YAAYA,GAAC,CAAC,IAAI;AAAA,EAC1E;AAAA,EACA,QAAQA,KAAGK,KAAG;AACZ,QAAI,CAAC,KAAK,MAAO,QAAO,EAAE,UAAU,IAAI,EAAE,MAAM,cAAc,8CAA8C,GAAG;AAC/G,UAAMa,MAAItB,IAAGI,GAAC,IAAImB,IAAG,MAAMnB,GAAC,IAAIA;AAChC,WAAO0B,GAAG,MAAMR,KAAGb,KAAG,KAAK,sBAAsB;AAAA,EACnD;AAAA,EACM,aAAaL,KAAG;AAAA;AACpB,aAAOK,IAAG,MAAML,GAAC;AAAA,IACnB;AAAA;AAAA,EACA,KAAKA,KAAGK,KAAG;AACT,WAAO,KAAK,gBAAgB,WAAW,KAAK,aAAa,KAAKL,KAAGK,GAAC,CAAC;AAAA,EACrE;AAAA,EACM,iBAAiBL,KAAG;AAAA;AACxB,UAAI,QAAQA,IAAE,OAAQ,OAAM,IAAI,EAAE,qCAAqC,oDAAoD;AAAA,QACzH,UAAUA;AAAA,MACZ,CAAC;AACD,cAAQA,IAAE,OAAO,MAAM;AAAA,QACrB,KAAK;AAAA,QACL,KAAK;AACH,kBAAQ,MAAM,KAAK,cAAcA,IAAE,MAAM,GAAG,iBAAiB;AAAA,QAC/D;AACE,iBAAO,KAAK,oBAAoB,iBAAiBA,GAAC;AAAA,MACtD;AAAA,IACF;AAAA;AAAA,EACA,cAAcA,KAAG;AACf,WAAO,MAAM,cAAcA,GAAC;AAAA,EAC9B;AAAA,EACM,eAAeA,KAAG;AAAA;AACtB,YAAMK,MAAI,KAAK,kBAAkBL,GAAC;AAClC,YAAM,KAAK,UAAU;AACrB,YAAMkB,MAAI,MAAM,KAAK,OAAO,WAAW,eAAeb,GAAC;AACvD,aAAOiB,IAAGJ,KAAGb,KAAG,KAAK,aAAa,CAAC;AAAA,IACrC;AAAA;AAAA,EACM,gBAAgBL,KAAG;AAAA;AACvB,YAAMK,MAAI,KAAK,kBAAkBL,GAAC;AAClC,YAAM,KAAK,UAAU;AACrB,YAAMkB,MAAI,MAAM,KAAK,OAAO,WAAW,eAAeb,GAAC;AACvD,aAAOc,IAAGD,KAAG,KAAK,aAAa,CAAC;AAAA,IAClC;AAAA;AAAA,EACM,oCAAoClB,KAAG;AAAA;AAC3C,YAAMK,MAAI,KAAK,kBAAkBL,GAAC;AAClC,YAAM,KAAK,UAAU;AACrB,YAAMkB,MAAI,MAAM,KAAK,OAAO,WAAW,sBAAsBb,GAAC;AAC9D,aAAO,CAACc,IAAGD,IAAE,CAAC,GAAG,KAAK,aAAa,CAAC,GAAGC,IAAGD,IAAE,CAAC,GAAG,KAAK,aAAa,CAAC,CAAC;AAAA,IACtE;AAAA;AAAA,EACA,kBAAkBlB,KAAG;AACnB,UAAMK,MAAIsB,IAAG3B,KAAG,IAAI;AACpB,WAAOK,IAAE,cAAc,KAAK,MAAM,YAAYuB,GAAGvB,KAAG,KAAK,+BAA+B,KAAK,OAAO;AAAA,EACtG;AAAA,EACA,eAAe;AACb,WAAO;AAAA,MACL,OAAO;AAAA,MACP,oBAAoB,KAAK,OAAO,WAAW,SAAS;AAAA,IACtD;AAAA,EACF;AAAA,EACA,IAAI,OAAO;AAAA,EAAC;AAAA,EACN,mCAAmCL,KAAG;AAAA;AAC1C,UAAI,CAAC,IAAI,2CAA2C,EAAG,OAAM,IAAI,MAAM,4DAA4D;AACnI,YAAMK,MAAI,KAAK,kBAAkBL,GAAC;AAClC,YAAM,KAAK,UAAU;AACrB,YAAMkB,MAAI,MAAM,KAAK,OAAO,WAAW,sBAAsBb,GAAC,GAC5Dc,MAAIG,IAAGJ,IAAE,CAAC,GAAGb,KAAG,KAAK,aAAa,CAAC,GACnCe,MAAI,KAAK,kBAAkBpB,GAAC;AAC9B,MAAAoB,IAAE,SAAS;AACX,aAAO,CAACD,KAAGG,IAAGJ,IAAE,CAAC,GAAGE,KAAG,KAAK,aAAa,CAAC,CAAC;AAAA,IAC7C;AAAA;AAAA,EACA,oCAAoC;AAClC,QAAI,QAAQ,KAAK,OAAO,WAAW,6BAA8B,OAAM,IAAI,MAAM,4DAA4D;AAC7I,WAAO,KAAK,OAAO,WAAW,6BAA6B,kCAAkC;AAAA,EAC/F;AAAA,EACA,mBAAmBpB,KAAG;AACpB,WAAO,KAAK,gBAAgB,WAAWA,GAAC;AAAA,EAC1C;AAAA,EACA,gBAAgBA,KAAG;AACjB,WAAOiB,IAAG,gBAAgBjB,GAAC;AAAA,EAC7B;AAAA,EACA,mBAAmBA,KAAG;AACpB,WAAOiB,IAAG,mBAAmBjB,GAAC;AAAA,EAChC;AAAA,EACA,qBAAqB;AACnB,SAAK,gBAAgB;AAAA,EACvB;AAAA,EACA,6BAA6B;AAC3B,WAAO,KAAK,OAAO,2BAA2B,KAAK,OAAO,KAAK,IAAI,uBAAuB,oBAAoB,KAAK,iBAAiB,oBAAoB,KAAK,iBAAiB,SAAS,KAAK,mCAAmC;AAAA,EACjO;AAAA,EACM,WAAW;AAAA;AACf,UAAIA,MAAIK,IAAG,KAAK,IAAI;AACpB,YAAMA,MAAI,IAAI,QAAQ;AACtB,UAAIA,OAAKA,MAAI,MAAML,MAAI,IAAI,EAAE,mCAAmC,2DAA2D;AAAA,QACzH,MAAM;AAAA,QACN,iBAAiB;AAAA,QACjB,iBAAiBK;AAAA,MACnB,CAAC,IAAI,QAAQL,IAAG,OAAM,EAAE,UAAU,IAAI,EAAE,KAAK,eAAeA,IAAE,OAAO,GAAGA;AAAA,IAC1E;AAAA;AAAA,EACA,IAAI,4BAA4B;AAC9B,UAAMA,MAAI,KAAK,cAAc,aAAa,IAAI,KAAK,KAAK,aAAa,KAAK,KAAK,OAAO,2BAA2B,KAAK,MAAM,KAAK,IAAI,uBAAuB,cAAc,SAAS;AACnL,WAAO,QAAQA,MAAIJ,IAAGI,GAAC,IAAI;AAAA,EAC7B;AAAA,EACA,2BAA2BA,KAAGK,KAAG;AAC/B,UAAMa,MAAI,KAAK;AACf,QAAI,QAAQA,IAAG,QAAO,KAAK,wCAAwClB,KAAGK,KAAGa,GAAC,IAAI;AAAA,MAC5E,aAAa,KAAK,iCAAiClB,KAAGK,KAAGa,GAAC;AAAA,IAC5D,IAAI;AACJ,UAAMC,MAAI,KAAK,wCAAwCnB,KAAGK,KAAGY,GAAG,KAAK,GACnEG,MAAI,KAAK,wCAAwCpB,KAAGK,KAAGY,GAAG,MAAM;AAClE,WAAOE,OAAKC,MAAID,OAAKC,MAAI;AAAA,MACvB,aAAa,KAAK,iCAAiCpB,KAAGK,KAAG,IAAI;AAAA,IAC/D,IAAIc,MAAI;AAAA,MACN,aAAa,KAAK,iCAAiCnB,KAAGK,KAAGY,GAAG,KAAK;AAAA,IACnE,IAAI;AAAA,MACF,aAAa,KAAK,iCAAiCjB,KAAGK,KAAGY,GAAG,MAAM;AAAA,IACpE,IAAI;AAAA,EACN;AAAA,EACA,wCAAwCjB,KAAGK,KAAGa,KAAG;AAC/C,WAAO,CAAC,CAACC,IAAGnB,KAAGkB,GAAC,MAAM,QAAQb,OAAK,CAAC,CAACK,GAAEL,GAAC,MAAM,CAACR,GAAEQ,GAAC,KAAK,QAAQwB,GAAGxB,KAAGL,KAAGkB,GAAC,OAAO,CAACY,GAAEzB,GAAC,KAAKa,QAAMD,GAAG;AAAA,EACpG;AAAA,EACA,iCAAiCjB,KAAGK,KAAGa,KAAG;AACxC,QAAI,QAAQb,IAAG,QAAO,CAAC;AAAA,MACrB,kBAAkBL;AAAA,MAClB,aAAakB;AAAA,IACf,CAAC;AACD,UAAM;AAAA,MACJ,eAAeC;AAAA,MACf,SAASC;AAAA,IACX,IAAIpB;AACJ,QAAIU,GAAEL,GAAC,MAAMc,OAAKC,MAAI;AACpB,aAAO,CAACA,OAAKF,QAAMD,GAAG,SAAS,SAASb,GAAGC,IAAE,UAAUA,IAAE,YAAYL,KAAGiB,GAAG,MAAM,IAAI,CAAC;AAAA,QACpF,kBAAkBjB;AAAA,QAClB,aAAakB;AAAA,MACf,GAAG;AAAA,QACD,kBAAkBX,GAAG;AAAA,QACrB,aAAaW;AAAA,MACf,CAAC,IAAI,CAAC;AAAA,QACJ,kBAAkBC,MAAIZ,GAAG,QAAQA,GAAG;AAAA,QACpC,aAAaW;AAAA,MACf,CAAC;AAAA,IACH;AACA,WAAOrB,GAAEQ,GAAC,KAAKyB,GAAEzB,GAAC,KAAK,CAACc,OAAK,CAACC,MAAIvB,GAAEQ,GAAC,KAAKc,OAAKD,QAAMD,GAAG,SAAS,CAAC;AAAA,MAChE,kBAAkBjB;AAAA,MAClB,aAAakB;AAAA,IACf,GAAG;AAAA,MACD,kBAAkBX,GAAG;AAAA,MACrB,aAAaU,GAAG;AAAA,IAClB,CAAC,IAAI,CAAC;AAAA,MACJ,kBAAkBjB;AAAA,MAClB,aAAakB;AAAA,IACf,CAAC,IAAI,CAAC;AAAA,MACJ,kBAAkBlB;AAAA,MAClB,aAAakB;AAAA,IACf,GAAG;AAAA,MACD,kBAAkBC,MAAIZ,GAAG,QAAQA,GAAG;AAAA,MACpC,aAAaW;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EACA,0BAA0BlB,KAAG;AAC3B,UAAMK,MAAI,QAAQ,KAAK,2BAA2BL,GAAC,GACjDkB,MAAI,KAAK;AACX,WAAOb,QAAM,QAAQa,MAAI,EAAE,UAAU,IAAI,EAAE,SAAS,sDAAsDI,IAAGJ,GAAC,CAAC,gBAAgB,IAAIlB,IAAE,gBAAgB,EAAE,UAAU,IAAI,EAAE,SAAS,oDAAoD,IAAIK;AAAA,EAC1O;AAAA,EACA,YAAY;AACV,WAAO,IAAI,QAAQ,CAAAL,QAAK;AACtB,WAAK,QAAQA,IAAE,IAAI,IAAI,KAAK,kBAAkB,KAAKA,GAAC;AAAA,IACtD,CAAC;AAAA,EACH;AAAA,EACA,kBAAkBA,KAAG;AACnB,QAAI,CAACA,IAAE,QAAS,QAAO,EAAE,UAAU,IAAI,EAAE,MAAM,qBAAqB,sEAAsE,GAAG;AAC7I,UAAMK,MAAI,KAAK,kBAAkBL,IAAE,OAAO;AAC1C,QAAIkB,MAAI,MACNC,MAAI;AACN,UAAMC,MAAI,CAAAf,QAAK;AACb,OAACc,OAAK,QAAQd,OAAK,eAAeA,OAAK,kBAAkBA,IAAE,WAAW,QAAQA,IAAE,UAAU,iBAAiBa,MAAIb,IAAE,UAAU,aAAa,kBAAkBL,GAAC;AAAA,IAC7J;AACA,WAAO,QAAQK,MAAIe,IAAEf,GAAC,IAAI,KAAK,mBAAmBL,IAAE,SAAS;AAAA,MAC3D,cAAc;AAAA,IAChB,CAAC,EAAE,KAAK,CAAAA,QAAKoB,IAAEpB,GAAC,GAAG,MAAM;AAAA,IAAC,CAAC,EAAE,MAAM,MAAM;AAAA,IAAC,CAAC,GAAGA,GAAE,MAAM;AACpD,MAAAmB,MAAI,MAAI,QAAQD,QAAMA,IAAE,OAAO,GAAGA,MAAI;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EACA,UAAUlB,KAAG;AACX,QAAI,MAAM,QAAQA,GAAC,EAAG,QAAO,EAAEA,IAAE,IAAI,CAAAA,QAAK,KAAK,UAAUA,GAAC,CAAC,CAAC;AAC5D,QAAI,EAAE,aAAaA,GAAC,EAAG,QAAO,EAAEA,IAAE,QAAQ,EAAE,IAAI,CAAAA,QAAK,KAAK,UAAUA,GAAC,CAAC,CAAC;AACvE,UAAMK,MAAI,KAAK,kBAAkBL,GAAC;AAClC,WAAOK,OAAK,eAAeA,MAAIA,IAAE,UAAUL,GAAC,IAAIA,GAAE;AAAA,EACpD;AAAA,EACA,aAAaA,KAAG;AACd,QAAI,CAACA,IAAG,QAAO,EAAE,UAAU,IAAI,EAAE,MAAM,gBAAgB,wEAAwE,GAAG;AAClI,UAAMK,MAAI,KAAK,kBAAkBL,GAAC;AAClC,QAAIkB,MAAI,MACNC,MAAI;AACN,UAAMC,MAAI,CAAAf,QAAK;AACb,OAACc,OAAK,QAAQd,OAAKL,IAAGK,GAAC,MAAMa,MAAIb,IAAE,aAAaL,GAAC;AAAA,IACnD;AACA,WAAO,QAAQK,MAAIe,IAAEf,GAAC,IAAI,KAAK,mBAAmBL,KAAG;AAAA,MACnD,cAAc;AAAA,IAChB,CAAC,EAAE,KAAK,CAAAA,QAAKoB,IAAEpB,GAAC,GAAG,MAAM;AAAA,IAAC,CAAC,EAAE,MAAM,MAAM;AAAA,IAAC,CAAC,GAAGA,GAAE,MAAM;AACpD,MAAAmB,MAAI,MAAI,QAAQD,QAAMA,IAAE,OAAO,GAAGA,MAAI;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EACA,kBAAkBlB,KAAG;AACnB,WAAOA,IAAE,UAAU,KAAK,WAAW,KAAK,eAAeA,IAAE,QAAQ,KAAK,cAAc,KAAK,CAAAK,QAAKA,IAAE,UAAUL,IAAE,KAAK,IAAI;AAAA,EACvH;AAAA,EACA,eAAeA,KAAG;AAChB,YAAQ,KAAK,gBAAgB,KAAK,aAAa,eAAeA,GAAC;AAAA,EACjE;AAAA,EACM,mBAAmBA,KAAGK,KAAG;AAAA;AAC7B,UAAIL,IAAE,UAAU,KAAM,QAAO,MAAM,EAAE,MAAM,KAAK,YAAY,GAAG,KAAK;AACpE,UAAI,CAACA,IAAE,SAAS,CAAC,KAAK,IAAK,OAAM,IAAI,EAAE,qBAAqB;AAC5D,aAAOK,OAAKA,IAAE,gBAAgB,CAAC,KAAK,IAAI,UAAU,SAASL,IAAE,KAAK,IAAI,IAAI,QAAQ,CAACK,KAAGa,QAAM;AAC1F,cAAMC,MAAI,KAAK,IAAI,UAAU,GAAG,UAAU,CAAAC,QAAK;AAC7C,UAAAA,IAAE,MAAM,SAASpB,IAAE,KAAK,MAAMmB,IAAE,OAAO,GAAG,KAAK,cAAcnB,IAAE,KAAK,EAAE,KAAKK,KAAGa,GAAC;AAAA,QACjF,CAAC;AAAA,MACH,CAAC,IAAI,KAAK,cAAclB,IAAE,KAAK;AAAA,IACjC;AAAA;AAAA,EACA,sBAAsB;AACpB,SAAK,KAAK,kBAAkB,IAAI+B,IAAG;AAAA,MACjC,MAAM;AAAA,IACR,CAAC,CAAC,GAAG,KAAK,KAAK,qBAAqB,IAAID,IAAG;AAAA,MACzC,MAAM;AAAA,IACR,CAAC,CAAC,GAAG,KAAK,kBAAkB,SAAS,UAAU,KAAK,cAAc;AAAA,EACpE;AAAA,EACA,sBAAsB;AACpB,SAAK,mBAAmB,KAAK,kBAAkB,WAAW,KAAK,cAAc,GAAG,KAAK,kBAAkB,QAAQ,GAAG,KAAK,KAAK,qBAAqB,IAAI,GAAG,KAAK,eAAe,QAAQ,GAAG,KAAK,KAAK,kBAAkB,IAAI;AAAA,EACzN;AAAA,EACA,aAAa;AACX,SAAK,sBAAsB,GAAG,KAAK,MAAM,oBAAoB,GAAG,KAAK,oBAAoB,GAAG,KAAK,KAAK,oBAAoB,IAAIE,IAAG;AAAA,MAC/H,MAAM;AAAA,IACR,CAAC,CAAC,GAAG,KAAK,KAAK,gBAAgB,IAAIjB,IAAG;AAAA,MACpC,oBAAoB,KAAK;AAAA,MACzB,iBAAiB,KAAK,iBAAiB;AAAA,MACvC,OAAO,KAAK,iBAAiB;AAAA,MAC7B,mBAAmB,KAAK;AAAA,MACxB,WAAW,KAAK;AAAA,MAChB,WAAW,KAAK,oBAAoB;AAAA,MACpC,SAAS,KAAK;AAAA,IAChB,CAAC,CAAC;AACF,UAAMf,MAAI,MAAM;AACd,YAAMA,MAAI,KAAK,gBAAgB;AAC/B,UAAI,KAAK,gBAAgBA,KAAG;AAC1B,YAAIA,OAAK,KAAK,eAAe,kBAAkB;AAC7C,gBAAMA,MAAI,QAAQ,KAAK,eAAe,UAAU,QAAQ,KAAK,eAAe,mBAAmBiC,GAAE3B,GAAE,KAAK,eAAe,QAAQ,KAAK,eAAe,gBAAgB,GAAG,KAAK,gBAAgB,IAAI;AAC/L,kBAAQ,KAAK,eAAe,KAAK,aAAa,eAAe,KAAK,aAAa,aAAaN,GAAC,IAAI,KAAK,aAAa,eAAeA;AAAA,QACpI,MAAO,MAAK,aAAa,eAAe,KAAK;AAAA,MAC/C,MAAO,MAAK,aAAa,eAAe;AAAA,IAC1C;AACA,SAAK,WAAW,CAAC,KAAK,gBAAgB,IAAI,MAAMK,IAAG,8BAA8B,CAAAL,QAAK;AACpF,MAAAA,OAAK,KAAK,gBAAgB,CAAC,KAAK,uBAAuB,KAAK,gBAAgB,WAAW,OAAO,yCAAkD,CAAC,EAAE,KAAK,CAAC;AAAA,QACvJ,2BAA2BA;AAAA,MAC7B,MAAM;AACJ,SAAC,KAAK,wBAAwBK,IAAG,iCAAiC,KAAK,uBAAuB,IAAIL,IAAE;AAAA,UAClG,MAAM;AAAA,QACR,CAAC;AAAA,MACH,CAAC,IAAIA,OAAK,CAAC,KAAK,wBAAwBK,IAAG,iCAAiC,KAAK,qBAAqB,QAAQ,GAAG,KAAK,uBAAuB;AAAA,IAC/I,GAAGS,EAAC,GAAG,KAAK,gBAAgB,IAAI,MAAM,KAAK,cAAcd,KAAGc,EAAC,GAAG,KAAK,gBAAgB,IAAI,MAAM,KAAK,eAAe,QAAQd,KAAGc,EAAC,CAAC,GAAG,eAAe,GAAG,KAAK,aAAa,KAAK;AAAA,EAC9K;AAAA,EACA,aAAa;AACX,SAAK,UAAU,KAAK,aAAa,KAAK,GAAG,KAAK,cAAc,sBAAsB,GAAG,KAAK,cAAc,eAAe,GAAG,KAAK,aAAa,QAAQ,GAAG,KAAK,KAAK,gBAAgB,IAAI,GAAG,KAAK,iBAAiB,QAAQ,GAAG,KAAK,KAAK,oBAAoB,IAAI,GAAG,KAAK,oBAAoB,GAAG,KAAK,MAAM,KAAK,GAAG,KAAK,sBAAsB;AAAA,EAC1U;AAAA,EACA,wBAAwB;AACtB,QAAI,KAAK,kBAAkB;AACzB,YAAMd,MAAI,KAAK;AACf,WAAK,mBAAmB,KAAK,gBAAgB,iBAAiB,OAAOA,GAAC,KAAK,KAAK,KAAK,mBAAmB,IAAIsB,IAAG,KAAK,KAAKtB,GAAC,CAAC;AAC3H,YAAMK,MAAI,KAAK,MAAM,UACnBa,MAAIgB,GAAE7B,KAAGL,GAAC;AACZ,MAAAkB,QAAM,KAAK,2BAA2B,KAAK,KAAK,sBAAsBR,GAAG,OAAO,KAAK,MAAM,aAAaQ,GAAC,CAAC,GAAGb,OAAK,KAAK,WAAWM,GAAE,MAAM,KAAK,gBAAgB,QAAQ,CAAAX,QAAK;AAC1K,cAAMK,MAAI,KAAK,mBAAmB;AAClC,gBAAQL,OAAK,MAAMA,IAAE,CAAC,KAAK,MAAMA,IAAE,CAAC,KAAK,MAAMA,IAAE,CAAC,KAAK,MAAMA,IAAE,CAAC,KAAK,CAACkB,IAAElB,KAAG,KAAK,eAAe,kBAAkBmC,KAAI9B,GAAC,MAAM,KAAK,mBAAmB,SAAS8B;AAAA,MAC/J,GAAG,CAAC,GAAG,sBAAsB,GAAG,KAAK,2BAA2B,KAAK,wBAAwB,aAAaC,MAAK,KAAK,mBAAmB,YAAY;AAAA,IACrJ,MAAO,MAAK,KAAK,mBAAmB,IAAI,GAAG,KAAK,KAAK,sBAAsB,IAAI;AAAA,EACjF;AAAA,EACA,wBAAwB;AACtB,SAAK,oBAAoB,KAAK,cAAc,sBAAsB,GAAG,KAAK,KAAK,sBAAsB,IAAI,GAAG,KAAK,KAAK,mBAAmB,IAAI;AAAA,EAC/I;AAAA,EACA,mBAAmB;AACjB,SAAK,aAAa,UAAU;AAAA,EAC9B;AAAA,EACA,wBAAwBpC,MAAI,MAAM;AAChC,YAAQA,OAAKA,IAAE,SAAS,EAAE,SAAS,KAAK,cAAc,kBAAkB,GAAG,KAAK,cAAc,QAAQ,CAAAA,QAAK;AACzG,MAAAA,IAAE,cAAc,KAAK,WAAWW,GAAE,MAAM,CAACX,IAAE,UAAUA,IAAE,gBAAgB,GAAG,MAAM,KAAK,iBAAiB,GAAG,CAAC,GAAG,kBAAkB,GAAGA,IAAE,KAAK,MAAM,KAAK,iBAAiB,GAAG,MAAM,KAAK,iBAAiB,CAAC;AAAA,IACvM,CAAC,GAAG,KAAK,iBAAiB;AAAA,EAC5B;AAAA,EACM,4BAA4B;AAAA;AAChC,WAAK,YAAY,MAAM,KAAK,QAAQ,QAAQ;AAAA,IAC9C;AAAA;AAAA,EACA,yBAAyBA,KAAGK,KAAGa,KAAG;AAChC,QAAI,CAAC,KAAK,WAAW,CAAC,KAAK,QAAQ,gBAAiB,QAAOA;AAC3D,UAAMC,MAAInB,IAAE,WAAW,IAAI;AAC3B,WAAOmB,IAAE,aAAaD,KAAG,GAAG,CAAC,GAAG,KAAK,QAAQ,aAAalB,KAAG;AAAA,MAC3D,oBAAoBK,QAAMa,IAAG;AAAA,IAC/B,CAAC,GAAGC,IAAE,aAAa,GAAG,GAAGD,IAAE,OAAOA,IAAE,MAAM;AAAA,EAC5C;AAAA,EACA,aAAa;AACX,UAAMlB,MAAI;AAAA,MACN,4BAA4B,KAAK;AAAA,MACjC,sBAAsB,KAAK;AAAA,MAC3B,OAAO,KAAK;AAAA,MACZ,uBAAuB,KAAK;AAAA,MAC5B,QAAQ,KAAK;AAAA,MACb,YAAY;AAAA,QACV,gBAAgB,MAAM,KAAK,0BAA0B;AAAA,QACrD,eAAe,CAACA,KAAGK,KAAGa,QAAM,KAAK,yBAAyBlB,KAAGK,KAAGa,GAAC;AAAA,MACnE;AAAA,IACF,GACAb,MAAI,IAAIqB,IAAG,KAAK,MAAM,aAAa,CAAA1B,QAAK,KAAK,OAAO,OAAO,OAAOA,GAAC,GAAG,IAAI;AAC5E,SAAK,KAAK,2BAA2BK,GAAC;AACtC,UAAMa,MAAIlB,GAAE,KAAK,OAAO;AACxB,SAAK,SAAS,IAAIG,IAAG;AAAA,MACnB,MAAM;AAAA,MACN,SAASH;AAAA,MACT,WAAWkB;AAAA,IACb,CAAC,GAAG,KAAK,OAAO,SAAS,cAAc;AAAA,MACrC,YAAY,KAAK;AAAA,IACnB,CAAC,GAAG,KAAK,WAAW,CAAC,KAAK,gBAAgB,IAAI,MAAM,KAAK,gBAAgB,yBAAyB,CAAAlB,QAAK,KAAK,OAAO,SAAS,cAAc;AAAA,MACxI,yBAAyBA;AAAA,IAC3B,CAAC,GAAG,CAAC,GAAG,KAAK,GAAG,gBAAgB,MAAM,KAAK,QAAQ,SAAS,eAAe,CAAC,GAAGJ,GAAE,KAAK,OAAO,WAAW,QAAQ,oBAAoB,CAAAI,QAAK;AACvI,WAAK,aAAa,IAAI,EAAE,sBAAsBA,IAAE,aAAa;AAAA,IAC/D,CAAC,CAAC,GAAG,OAAO,GAAG,KAAK,sBAAsB,KAAK,wBAAwB,aAAaoC,MAAK,KAAK,mBAAmB,YAAY,GAAG,KAAK,KAAK,UAAU,KAAK,OAAO,WAAW,MAAM;AAAA,EACnL;AAAA,EACA,aAAa;AACX,SAAK,KAAK,2BAA2B,IAAI,GAAG,KAAK,SAAS,EAAE,KAAK,MAAM,GAAG,KAAK,cAAc,OAAO,GAAG,KAAK,KAAK,UAAU,IAAI;AAAA,EACjI;AAAA,EACA,aAAapC,KAAG;AACd,SAAK,aAAa,GAAG,KAAK,MAAM,KAAKA,KAAG,KAAK,gBAAgB,GAAG,KAAK,WAAW,GAAG,KAAK,WAAW,GAAG,KAAK,wBAAwB,IAAIqC,IAAG;AAAA,MACxI,MAAM;AAAA,MACN,aAAarC;AAAA,MACb,oBAAoB,KAAK;AAAA,MACzB,kBAAkB,KAAK;AAAA,MACvB,WAAW,KAAK;AAAA,IAClB,CAAC;AAAA,EACH;AAAA,EACA,eAAe;AACb,SAAK,0BAA0B,KAAK,sBAAsB,oBAAoB,QAAQ,GAAG,KAAK,sBAAsB,QAAQ,GAAG,KAAK,wBAAwB,MAAM,KAAK,WAAW,GAAG,KAAK,WAAW;AAAA,EACvM;AAAA,EACA,8BAA8B;AAC5B,QAAI,KAAK,gBAAgB,KAAK,8BAA+B;AAC7D,QAAI,MAAM,KAAK,SAAS,OAAQ;AAChC,SAAK,cAAc,eAAe,GAAG,KAAK,gCAAgC,IAAI,gBAAgB;AAC9F,UAAMA,MAAI,MAAM;AACd,WAAK,gCAAgC,MAAM,KAAK,iBAAiB;AAAA,IACnE;AACA,SAAK,yBAAyB,KAAK,8BAA8B,MAAM,EAAE,KAAKA,KAAGA,GAAC,GAAG,KAAK,iBAAiB;AAAA,EAC7G;AAAA,EACM,yBAAyBA,KAAG;AAAA;AAChC,YAAMK,OAAK,MAAM,OAAO,8BAA+B,GAAG;AAC1D,MAAAe,GAAEpB,GAAC,GAAG,MAAM,EAAE,MAAM,KAAK,gBAAgB,OAAOA,GAAC,GAAG,KAAK,KAAK,gBAAgB,IAAIK,IAAE;AAAA,QAClF,MAAM;AAAA,MACR,CAAC,CAAC;AAAA,IACJ;AAAA;AAAA,EACA,uBAAuB;AACrB,SAAK,kCAAkC,KAAK,8BAA8B,MAAM,GAAG,KAAK,gCAAgC,OAAO,KAAK,cAAc,eAAe,GAAG,QAAQ,KAAK,iBAAiB,KAAK,cAAc,KAAK,aAAa,UAAU,MAAM,EAAE,GAAG,KAAK,aAAa,QAAQ,GAAG,KAAK,KAAK,gBAAgB,IAAI;AAAA,EACzT;AAAA,EACA,WAAW;AACT,UAAML,MAAIJ,IAAG,KAAK,WAAW;AAC7B,IAAAI,QAAMiB,GAAG,WAAW,KAAK,gBAAgB,OAAO,KAAK,aAAajB,GAAC,GAAG,KAAK,KAAK,SAAS,IAAE,GAAG,KAAK,WAAWU,GAAE,MAAM,KAAK,UAAU,iBAAiB,MAAM,KAAK,4BAA4B,CAAC,GAAG,eAAe,GAAG,KAAK,4BAA4B;AACpP,UAAML,MAAI,KAAK,OAAO,2BAA2B,KAAK,MAAM,KAAK,IAAI,wBAAwB,MAC3Fa,MAAIb,KAAG;AACT,IAAAa,OAAKS,IAAE,KAAK,aAAaT,GAAC,GAAG,KAAK,aAAab,KAAG,YAAY,KAAK,QAAQ,MAAM,GAAG,KAAK,mBAAmB,YAAY,IAAI,GAAG,KAAK,aAAa,QAAQ,GAAG,KAAK,KAAK,YAAY,IAAIa,IAAG,KAAK,QAAQ,KAAK,mBAAmB,SAAS,CAAC;AACxO,UAAMC,MAAI,KAAK;AACf,SAAK,oBAAoB,CAAC,GAAGA,IAAE,QAAQ,CAAAnB,QAAKA,IAAE,IAAI,CAAC;AAAA,EACrD;AAAA,EACA,YAAY;AACV,SAAK,kCAAkC,MAAM,KAAK,aAAa,WAAW,GAAG,KAAK,mBAAmB,eAAe,GAAG,KAAK,QAAQ,QAAQ,GAAG,KAAK,qBAAqB,GAAG,KAAK,cAAc,eAAe,GAAG,KAAK,KAAK,YAAY,EAAE,KAAK,QAAQ,CAAC,GAAG,KAAK,aAAa,GAAG,KAAK,KAAK,SAAS,KAAE;AAAA,EACtS;AAAA,EACA,6BAA6B;AAC3B,QAAI,KAAK,qBAAqB,QAAQ,MAAM,GAAG,KAAK,KAAK;AACvD,WAAK,IAAI,UAAU,KAAK,qBAAqB,QAAQ,IAAIe,EAAE;AAC3D,iBAAWf,OAAK,KAAK,IAAI,UAAU,MAAO,CAAAS,GAAET,IAAE,IAAI,KAAK,KAAK,qBAAqB,QAAQ,IAAIA,IAAE,GAAG;AAAA,IACpG;AAAA,EACF;AAAA,EACA,+BAA+B;AAC7B,QAAI,KAAK,uBAAuB,QAAQ,MAAM,GAAG,KAAK,KAAK;AACzD,WAAK,IAAI,UAAU,KAAK,IAAI,OAAO,UAAU,KAAK,KAAK,uBAAuB,QAAQ,IAAIe,EAAE;AAC5F,iBAAWf,OAAK,KAAK,IAAI,UAAU,MAAO,CAAAS,GAAET,IAAE,IAAI,KAAKA,IAAE,UAAU,KAAK,KAAK,uBAAuB,QAAQ,IAAIA,IAAE,GAAG;AAAA,IACvH;AAAA,EACF;AACF;AACA,SAASgB,IAAGhB,KAAGK,KAAG;AAChB,SAAO,QAAQL,OAAKsC,GAAEtC,IAAE,kBAAkBK,GAAC,IAAI4B,GAAEjC,KAAGK,GAAC,IAAI;AAC3D;AACAV,IAAG,OAAO,MAAMK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,qBAAqB,MAAM,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,uBAAuB,MAAM,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,UAAU,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACzK,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,gBAAgB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC/C,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,WAAW,MAAM,GAAGK,GAAE,CAACH,GAAEoB,IAAEZ,KAAG,UAAU,CAAC,CAAC,GAAGV,IAAG,WAAW,YAAY,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACtG,MAAMyB;AAAA,EACN,UAAU;AACZ,CAAC,CAAC,GAAG3B,IAAG,WAAW,aAAa,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC1C,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,kBAAkB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACjD,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,qBAAqB,MAAM,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,UAAU,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC5F,MAAMc;AACR,CAAC,CAAC,GAAGhB,IAAG,WAAW,iBAAiB,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC9C,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,UAAU,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACzC,MAAM;AACR,CAAC,CAAC,GAAGF,IAAG,WAAW,UAAU,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EACvC,MAAMkB;AACR,CAAC,CAAC,GAAGpB,IAAG,WAAW,gBAAgB,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC7C,MAAMS;AACR,CAAC,CAAC,GAAGX,IAAG,WAAW,eAAe,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC9C,MAAMkB;AAAA,EACN,UAAU;AACZ,CAAC,CAAC,GAAGpB,IAAG,WAAW,oBAAoB,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EACjD,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,YAAY,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EACzC,MAAMkB;AAAA,EACN,UAAU;AACZ,CAAC,CAAC,GAAGpB,IAAG,WAAW,cAAc,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC3C,MAAMkB;AAAA,EACN,UAAU;AACZ,CAAC,CAAC,GAAGpB,IAAG,WAAW,0BAA0B,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EACvD,MAAMU;AACR,CAAC,CAAC,GAAGZ,IAAG,WAAW,eAAe,MAAM,GAAGK,GAAE,CAACoB,GAAE,aAAa,CAAC,GAAGzB,IAAG,WAAW,mBAAmB,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC5G,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,sBAAsB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACrD,MAAMkB;AACR,CAAC,CAAC,GAAGpB,IAAG,WAAW,UAAU,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,UAAU,MAAM,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,gBAAgB,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,WAAW,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EACxK,MAAM;AAAA,EACN,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,eAAe,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC9C,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,gBAAgB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC/C,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,uBAAuB,MAAM,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,cAAc,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACpG,MAAM;AACR,CAAC,CAAC,GAAGF,IAAG,WAAW,yBAAyB,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,4BAA4B,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,eAAe,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,cAAc,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,cAAc,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,OAAO,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC5R,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,mBAAmB,MAAM,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,WAAW,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC3F,MAAMmC;AAAA,EACN,UAAU;AACZ,CAAC,CAAC,GAAGrC,IAAG,WAAW,oBAAoB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACnD,MAAMkB;AAAA,EACN,UAAU;AACZ,CAAC,CAAC,GAAGpB,IAAG,WAAW,gBAAgB,MAAM,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,wBAAwB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACvG,MAAM;AACR,CAAC,CAAC,GAAGF,IAAG,WAAW,gCAAgC,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC/D,eAAe;AACjB,CAAC,CAAC,GAAGF,IAAG,WAAW,8BAA8B,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC7D,eAAe;AACjB,CAAC,CAAC,GAAGF,IAAG,WAAW,wBAAwB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACvD,eAAe;AACjB,CAAC,CAAC,GAAGF,IAAG,WAAW,gBAAgB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC/C,eAAe;AACjB,CAAC,CAAC,GAAGF,IAAG,WAAW,SAAS,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACxC,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,gBAAgB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC/C,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,gBAAgB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC/C,MAAM,CAAC,OAAO,UAAU,MAAM;AAChC,CAAC,CAAC,GAAGF,IAAG,WAAW,kBAAkB,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC/C,MAAMS;AAAA,EACN,MAAM;AACJ,QAAIN,MAAI,KAAK,KAAK,iBAAiB;AACnC,WAAOA,QAAMA,MAAI,IAAIM,IAAG,GAAGW,IAAG,MAAM,KAAK,gBAAgBjB,GAAC,IAAIA;AAAA,EAChE;AACF,CAAC,CAAC,GAAGL,IAAG,WAAW,mBAAmB,MAAM,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,cAAc,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC9F,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,kCAAkC,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC/D,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,sBAAsB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACrD,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,2BAA2B,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC1D,MAAM;AAAA,EACN,WAAW,CAAC,SAAS,kBAAkB;AAAA,EACvC,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,cAAc,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC3C,MAAM;AACR,CAAC,CAAC,GAAGF,IAAG,WAAW,SAAS,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,mBAAmB,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,oBAAoB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC3I,MAAM;AAAA,EACN,eAAe;AACjB,CAAC,CAAC,GAAGF,IAAG,WAAW,2BAA2B,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC1D,eAAe;AACjB,CAAC,CAAC,GAAGF,IAAG,WAAW,gCAAgC,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC/D,MAAM;AACR,CAAC,CAAC,GAAGF,IAAG,WAAW,iCAAiC,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EAChE,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,QAAQ,MAAM,GAAGK,GAAE,CAACH,GAAE,GAAGuB,GAAE,CAAApB,QAAKA,eAAaG,MAAKH,MAAIuC,GAAEjC,KAAIN,GAAC,CAAC,CAAC,GAAGL,IAAG,WAAW,MAAM,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACrH,MAAM;AAAA,EACN,UAAU;AAAA,EACV,WAAW,CAAC,yBAAyB,wBAAwB,2BAA2B,6BAA6B,sCAAsC,gCAAgC,mBAAmB,yBAAyB,6BAA6B,+BAA+B,oBAAoB,4BAA4B,gCAAgC,oBAAoB,yBAAyB,SAAS,cAAc,yBAAyB,4BAA4B,gCAAgC,kBAAkB,mBAAmB;AACnjB,CAAC,CAAC,GAAGF,IAAG,WAAW,YAAY,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,oBAAoB,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,gCAAgC,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EACzJ,MAAM;AAAA,EACN,UAAU;AAAA,EACV,WAAW,CAAC,UAAU;AACxB,CAAC,CAAC,GAAGF,IAAG,WAAW,oBAAoB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACnD,MAAM,CAAC,UAAU,OAAO;AAC1B,CAAC,CAAC,GAAGF,IAAG,WAAW,eAAe,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC5C,MAAMY;AACR,CAAC,CAAC,GAAGd,IAAG,WAAW,aAAa,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EAC1C,MAAM;AACR,CAAC,CAAC,GAAGF,IAAG,WAAW,QAAQ,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EACrC,MAAMA;AACR,CAAC,CAAC,GAAGF,IAAG,WAAW,oBAAoB,MAAM,GAAGK,GAAE,CAACH,GAAE;AAAA,EACnD,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,WAAW,IAAI,GAAGK,GAAE,CAACH,GAAE;AAAA,EACxC,UAAU;AACZ,CAAC,CAAC,GAAGF,IAAG,WAAW,mBAAmB,IAAI,GAAGK,GAAE,CAACH,GAAE,CAAC,GAAGF,IAAG,WAAW,YAAY,MAAM,GAAGA,MAAKK,GAAE,CAACsB,GAAE,sBAAsB,CAAC,GAAG3B,GAAE;AAC/H,IAAM6B,MAAKG,GAAE;AAAb,IACEF,MAAKP,GAAE;AADT,IAEEiB,MAAKhC,GAAE;AAFT,IAGEqC,MAAK7C;",
  "names": ["n", "s", "i", "e", "t", "c", "f", "a", "m", "r", "S", "m", "o", "e", "l", "t", "c", "f", "r", "p", "y", "a", "u", "d", "S", "e", "u", "y", "a", "r", "a", "i", "e", "s", "l", "_", "p", "V", "e", "A", "S", "v", "u", "s", "i", "t", "a", "o", "n", "y", "f", "c", "S", "t", "f", "l", "e", "i", "h", "d", "k", "p", "y", "a", "u", "s", "i", "l", "u", "e", "y", "a", "o", "l", "t", "r", "e", "y", "s", "a", "p", "d", "c", "l", "t", "e", "y", "s", "a", "c", "l", "i", "o", "e", "y", "a", "s", "a", "o", "p", "e", "t", "i", "n", "r", "y", "d", "s", "c", "o", "i", "e", "r", "y", "a", "i", "d", "a", "t", "i", "S", "o", "e", "y", "a", "b", "d", "t", "i", "a", "l", "p", "n", "e", "y", "s", "f", "a", "u", "n", "p", "r", "e", "O", "S", "s", "R", "_", "l", "t", "F", "o", "t", "e", "r", "p", "r", "e", "O", "S", "l", "R", "_", "s", "t", "d", "B", "s", "i", "a", "u", "r", "d", "t", "E", "_", "o", "A", "n", "p", "m", "e", "h", "f", "c", "R", "l", "H", "v", "u", "r", "e", "t", "O", "S", "l", "R", "_", "f", "m", "S", "o", "u", "i", "t", "r", "e", "E", "y", "a", "n", "d", "r", "e", "O", "S", "s", "R", "T", "u", "_", "t", "b", "d", "r", "e", "O", "S", "t", "s", "R", "l", "_", "v", "d", "S", "e", "s", "E", "t", "i", "r", "y", "a", "A", "S", "e", "i", "m", "w", "n", "f", "t", "u", "s", "d", "o", "r", "T", "I", "M", "D", "E", "O", "B", "H", "Y", "a", "h", "c", "y", "m", "r", "e", "t", "O", "S", "l", "R", "_", "b", "b", "v", "x", "S", "t", "u", "e", "i", "m", "s", "n", "r", "E", "P", "o", "p", "g", "w", "A", "h", "y", "a", "h", "r", "e", "O", "S", "l", "R", "_", "t", "e", "A", "e", "t", "a", "i", "p", "r", "h", "y", "D", "c", "T", "v", "E", "o", "P", "s", "m", "O", "F", "n", "H", "e", "E", "G", "o", "H", "N", "k", "B", "z", "e", "t", "a", "p", "s", "d", "A", "i", "D", "c", "n", "r", "h", "Y", "g", "J", "u", "l", "f", "Z", "O", "F", "Q", "X", "K", "_", "v", "g", "n", "d", "r", "e", "h", "S", "l", "R", "O", "_", "t", "A", "g", "S", "e", "s", "t", "r", "i", "d", "o", "a", "f", "u", "c", "E", "h", "A", "_", "P", "F", "v", "y", "H", "u", "n", "e", "h", "r", "t", "O", "S", "l", "R", "_", "f", "x", "S", "t", "u", "h", "r", "F", "e", "s", "E", "V", "A", "I", "n", "U", "c", "i", "L", "C", "o", "a", "f", "O", "M", "R", "y", "H", "e", "U", "u", "e", "E", "I", "a", "n", "t", "s", "p", "r", "x", "g", "A", "i", "m", "d", "V", "O", "f", "D", "q", "B", "z", "l", "P", "y", "L", "o", "c", "i", "r", "l", "P", "e", "U", "t", "d", "A", "J", "f", "k", "n", "q", "E", "s", "S", "O", "a", "g", "h", "D", "V", "Q", "z", "m", "y", "I", "L", "O", "O", "r", "L", "n", "O", "e", "s", "a", "c", "o", "m", "n", "r", "a", "t", "i", "s", "L", "x", "g", "P", "l", "t", "r", "n", "s", "a", "p", "c", "m", "u", "x", "j", "C", "g", "M", "d", "A", "e", "o", "T", "y", "i", "O", "L", "f", "d", "e", "r", "n", "s", "t", "x", "l", "o", "O", "i", "y", "u", "p", "L", "g", "h", "I", "X", "k", "C", "j", "N", "v", "c", "a", "f", "m", "s", "n", "_", "i", "a", "f", "N", "A", "C", "e", "c", "l", "u", "g", "c", "i", "f", "m", "e", "n", "s", "P", "w", "t", "r", "n", "i", "V", "a", "U", "s", "p", "_", "O", "K", "g", "u", "z", "e", "J", "k", "o", "L", "B", "P", "c", "v", "q", "b", "Q", "H", "F", "N", "E", "m", "l", "G", "f", "h", "E", "t", "o", "n", "C", "s", "e", "i", "N", "U", "r", "a", "L", "p", "u", "O", "y", "T", "w", "l", "d", "P", "t", "n", "V", "i", "l", "e", "s", "v", "a", "q", "A", "f", "o", "h", "r", "S", "j", "T", "z", "u", "O", "k", "g", "_", "x", "b", "I", "y", "m", "c", "i", "n", "p", "P", "m", "s", "a", "o", "e", "h", "u", "r", "t", "s", "t", "n", "S", "e", "y", "a", "a", "n", "t", "u", "s", "e", "h", "a", "i", "c", "t", "e", "p", "n", "T", "l", "H", "y", "s", "t", "k", "m", "t", "r", "g", "g", "t", "r", "n", "o", "u", "s", "l", "t", "r", "n", "_", "v", "f", "v", "t", "k", "q", "e", "S", "s", "r", "p", "e", "n", "m", "X", "N", "t", "Q", "X", "Y", "Z", "$", "_", "at", "w", "it", "e", "n", "o", "p", "f", "v", "B", "O", "u", "lt", "S", "g", "ce", "r", "c", "a", "i", "s", "A", "ht", "h", "dt", "l", "P", "Pt", "J", "E", "m", "re", "M", "q", "V", "se", "b", "V", "H", "x", "A", "h", "n", "r", "L", "O", "_", "T", "t", "i", "e", "o", "at", "f", "s", "l", "I", "g", "p", "Z", "P", "$", "F", "u", "E", "y", "a", "M", "D", "F", "U", "h", "n", "r", "L", "O", "t", "e", "s", "p", "T", "l", "at", "C", "f", "o", "S", "j", "Z", "P", "$", "_", "u", "g", "i", "a", "m", "x", "A", "E", "s", "t", "o", "i", "r", "A", "U", "c", "t", "e", "i", "l", "M", "u", "s", "a", "m", "o", "x", "_", "w", "I", "E", "v", "j", "P", "g", "b", "d", "z", "y", "U", "f", "p", "r", "n", "h", "n", "S", "e", "t", "u", "s", "i", "y", "a", "_", "S", "t", "c", "d", "l", "n", "i", "C", "f", "a", "L", "h", "s", "E", "r", "O", "e", "y", "l", "n", "e", "s", "u", "i", "y", "a", "f", "t", "i", "e", "u", "a", "n", "m", "d", "o", "r", "Z", "l", "s", "E", "h", "w", "Q", "S", "e", "se", "o", "c", "X", "v", "d", "t", "A", "re", "ee", "Z", "ae", "i", "r", "a", "p", "_", "s", "n", "ie", "I", "l", "f", "g", "m", "w", "K", "Y", "U", "$", "te", "lt", "E", "y", "ne", "n", "ne", "r", "t", "s", "e", "y", "a", "V", "t", "H", "n", "e", "r", "L", "O", "i", "at", "it", "s", "o", "a", "k", "P", "h", "p", "m", "u", "g", "E", "c", "f", "d", "_", "b", "S", "y", "a", "t", "r", "e", "o", "i", "H", "B", "n", "s", "i", "r", "L", "O", "_", "t", "it", "e", "N", "at", "p", "T", "a", "Q", "P", "X", "Y", "g", "u", "E", "y", "m", "l", "V", "z", "n", "i", "r", "L", "O", "E", "t", "it", "s", "at", "e", "a", "o", "Q", "P", "k", "X", "C", "Y", "g", "u", "j", "lt", "A", "y", "m", "s", "t", "r", "e", "o", "i", "B", "z", "J", "n", "t", "r", "L", "O", "e", "i", "s", "o", "at", "E", "rt", "u", "g", "c", "ot", "j", "nt", "a", "m", "l", "p", "h", "d", "_", "b", "f", "v", "y", "N", "W", "st", "P", "Y", "tt", "$", "et", "it", "Q", "n", "t", "e", "a", "d", "J", "r", "e", "i", "t", "a", "l", "J", "i", "t", "e", "r", "A", "U", "t", "p", "a", "r", "L", "O", "t", "e", "E", "c", "p", "t", "O", "n", "o", "r", "g", "e", "a", "y", "p", "n", "u", "l", "o", "O", "t", "s", "i", "r", "_", "e", "y", "a", "c", "p", "t", "O", "o", "r", "m", "e", "y", "a", "p", "t", "O", "n", "o", "r", "i", "e", "y", "a", "C", "p", "t", "i", "O", "n", "s", "_", "e", "E", "l", "V", "y", "a", "e", "m", "u", "t", "e", "i", "s", "a", "l", "n", "o", "r", "h", "_", "v", "rt", "n", "t", "E", "i", "s", "a", "o", "c", "_", "r", "L", "O", "h", "d", "N", "at", "C", "p", "e", "V", "l", "j", "m", "v", "x", "M", "b", "f", "Y", "u", "g", "P", "y", "J", "r", "K", "n", "t", "E", "a", "c", "s", "i", "L", "O", "d", "_", "at", "u", "j", "C", "P", "w", "q", "f", "e", "V", "g", "o", "Y", "ht", "y", "m", "p", "i", "t", "e", "s", "r", "rt", "K", "e", "t", "e", "t", "t", "e", "i", "e", "t", "i", "o", "t", "e", "a", "i", "H", "V", "a", "t", "e", "i", "r", "s", "m", "g", "n", "h", "d", "o", "c", "l", "p", "_", "b", "S", "t", "l", "e", "m", "r", "s", "a", "d", "_", "i", "V", "n", "o", "z", "y", "E", "k", "C", "e", "n", "i", "l", "o", "s", "a", "c", "t", "u", "r", "h", "p", "f", "U", "n", "k", "H", "q", "J", "e", "K", "_", "Q", "m", "Z", "$", "u", "i", "t", "W", "S", "c", "s", "r", "O", "V", "l", "a", "o", "A", "f", "L", "d", "z", "g", "M", "E", "y", "X", "c", "p", "r", "A", "o", "t", "I", "e", "y", "a", "u", "A", "e", "d", "t", "I", "p", "n", "i", "s", "r", "_", "a", "L", "g", "e", "c", "f", "s", "u", "i", "l", "m", "G", "t", "o", "n", "r", "p", "N", "t", "e", "n", "c", "s", "a", "k", "l", "V", "v", "i", "U", "r", "H", "o", "at", "u", "lt", "P", "d", "$", "tt", "et", "_", "st", "h", "f", "m", "p", "T", "_t", "E", "R", "dt", "F", "Z", "I", "O", "S", "yt", "b", "J", "K", "g", "rt", "W", "nt", "it", "ot", "D", "Tt", "gt", "Et", "Rt", "Ft", "A", "G", "B", "M", "ut", "j", "x", "Ct", "wt", "qt", "ht", "L", "ft", "y", "C", "ct", "w", "q", "X", "Y", "jt", "Mt", "Gt", "xt", "Pt", "Bt", "Nt", "It", "Ot", "z", "Q", "pt", "mt", "St", "bt", "Lt", "At", "Vt", "vt", "Ht", "v", "e", "u", "N", "t", "r", "a", "d", "s", "R", "i", "o", "n", "c", "m", "h", "p", "_", "f", "S", "l", "K", "C", "y", "H", "w", "J", "T", "A", "j", "V", "I", "x", "E", "M", "g", "w", "S", "e", "t", "i", "u", "l", "d", "A", "I", "C", "v", "s", "O", "x", "m", "E", "y", "a", "_", "S", "o", "I", "l", "e", "t", "c", "s", "r", "a", "v", "w", "j", "y", "f", "U", "t", "r", "n", "l", "E", "m", "u", "T", "e", "D", "f", "o", "i", "g", "c", "a", "h", "L", "d", "p", "R", "P", "F", "S", "_", "I", "A", "v", "j", "x", "H", "s", "K", "y", "M", "k", "h", "o", "S", "e", "t", "s", "r", "n", "p", "i", "a", "l", "c", "f", "y", "a", "e", "i", "o", "l", "t", "n", "r", "u", "e", "n", "t", "m", "p", "d", "S", "r", "e", "n", "m", "t", "p", "y", "u", "a", "a", "i", "s", "m", "n", "e", "r", "t", "o", "c", "p", "f", "A", "E", "t", "a", "o", "l", "p", "m", "y", "c", "i", "u", "s", "n", "d", "f", "e", "h", "r", "A", "r", "S", "e", "y", "a", "p", "n", "l", "d", "c", "s", "t", "e", "i", "r", "e", "t", "b", "S", "e", "t", "s", "r", "I", "o", "a", "n", "O", "u", "Q", "E", "U", "i", "l", "A", "h", "c", "y", "T", "f", "S", "j", "e", "T", "y", "a", "F", "r", "g", "d", "b", "I", "E", "A", "t", "s", "o", "u", "e", "t", "s", "r", "E", "e", "a", "t", "o", "e", "l", "i", "n", "r", "A", "s", "f", "c", "i", "S", "e", "t", "I", "F", "r", "s", "a", "n", "y", "a", "i", "e", "t", "r", "s", "n", "l", "h", "u", "D", "N", "S", "e", "A", "a", "t", "s", "n", "i", "r", "d", "m", "o", "t", "w", "j", "z", "r", "i", "s", "d", "e", "S", "o", "y", "a", "g", "y", "e", "t", "o", "n", "v", "r", "_", "C", "l", "f", "G", "a", "j", "L", "e", "t", "o", "n", "C", "r", "s", "v", "g", "u", "G", "i", "a", "l", "I", "R", "y", "n", "s", "o", "e", "a", "L", "O", "e", "o", "d", "I", "t", "r", "i", "S", "s", "P", "n", "l", "C", "u", "A", "x", "R", "y", "a", "c", "S", "e", "n", "d", "v", "p", "t", "y", "a", "u", "S", "e", "o", "I", "l", "m", "t", "r", "s", "f", "h", "E", "y", "a", "n", "P", "S", "e", "n", "m", "o", "j", "t", "a", "c", "T", "u", "h", "d", "f", "L", "I", "y", "O", "p", "v", "r", "F", "s", "E", "i", "G", "w", "s", "a", "r", "t", "o", "s", "a", "i", "e", "l", "n", "h", "f", "m", "u", "c", "p", "M", "x", "d", "x", "S", "e", "t", "r", "d", "L", "o", "h", "l", "w", "g", "y", "a", "m", "c", "n", "i", "k", "s", "_", "e", "o", "s", "se", "ie", "ae", "ne", "S", "e", "$", "t", "T", "d", "I", "C", "O", "s", "n", "r", "G", "o", "i", "E", "a", "M", "oe", "p", "u", "ce", "l", "h", "c", "J", "L", "m", "z", "_", "v", "f", "b", "U", "N", "A", "y", "le", "o", "P", "t", "e", "s", "i", "r", "u", "n", "f", "d", "g", "h", "O", "t", "a", "s", "n", "o", "i", "r", "L", "l", "i", "t", "r", "n", "s", "H", "a", "e", "l", "e", "t", "s", "i", "H", "a", "r", "y", "n", "h", "d", "u", "o", "_", "p", "f", "c", "v", "q", "I", "t", "l", "e", "t", "l", "n", "s", "e", "E", "l", "t", "s", "o", "p", "r", "b", "m", "e", "E", "te", "ie", "u", "n", "_", "a", "re", "ae", "l", "oe", "e", "t", "E", "i", "s", "r", "A", "S", "h", "V", "v", "d", "c", "_e", "g", "me", "p", "f", "y", "M", "P", "T", "I", "D", "L", "x", "ne", "H", "o", "le", "se", "he", "ue", "z", "O", "J", "ce", "$", "Z", "X", "Y", "m", "de", "q", "K", "Q", "pe", "t", "r", "s", "e", "b", "r", "i", "l", "e", "S", "t", "s", "R", "O", "o", "_", "N", "f", "q", "G", "o", "i", "t", "e", "l", "E", "O", "r", "s", "a", "n", "J", "W", "g", "d", "h", "m", "f", "u", "c", "B", "ee", "q", "z", "K", "Q", "Y", "Z", "S", "A", "p", "y", "x", "v", "de", "C", "D", "j", "R", "w", "L", "N", "P", "F", "T", "te", "I", "re", "ie", "X", "U", "M", "k", "H", "_", "M", "S", "e", "t", "o", "s", "i", "a", "c", "l", "u", "d", "f", "m", "g", "p", "O", "x", "h", "pe", "fe", "L", "B", "P", "I", "re", "v", "b", "y", "X", "V", "W", "n", "r", "de", "oe", "C", "A", "E", "T", "D", "R", "U", "N", "w", "j", "F", "H", "q", "_", "G", "k", "z", "J", "K", "Q", "Y", "Z", "$", "ee", "te", "ne", "se", "ie", "ae", "ce", "le", "ue", "me", "ge", "he", "Me", "Se", "ye", "_", "ie", "e", "t", "r", "o", "i", "u", "s", "a", "l", "h", "d", "c", "m", "p", "n", "f", "oe", "E", "b", "w", "T", "R", "N", "U", "l", "n", "a", "S", "e", "t", "s", "r", "i", "y", "t", "n", "o", "s", "a", "y", "ie", "t", "e", "i", "s", "o", "_", "n", "r", "l", "a", "h", "u", "c", "p", "f", "m", "V", "oe", "L", "E", "b", "j", "d", "S", "O", "A", "g", "x", "v", "M", "H", "B", "I", "D", "R", "C", "F", "N", "U", "k", "w", "P", "q", "$", "G", "z", "W", "J", "K", "Q", "X", "Y", "Z", "tt", "et", "it", "st", "ot", "nt", "rt", "lt", "at", "ht", "ut", "dt", "ct", "pt", "T", "e", "S", "y", "a", "t", "H", "e", "t", "r", "c", "e", "s", "a", "o", "i", "n", "s", "t", "e", "r", "s", "o", "e", "O", "r", "b", "a", "l", "p", "r", "e", "O", "S", "s", "R", "_", "t", "g", "f", "s", "r", "o", "i", "a", "c", "y", "s", "j", "b", "u", "h", "x", "o", "p", "M", "f", "g", "S", "r", "e", "t", "l", "i", "p", "f", "s", "g", "t", "e", "i", "l", "n", "r", "a", "o", "d", "c", "h", "m", "O", "I", "u", "y", "_", "b", "S", "M", "w", "R", "L", "T", "P", "E", "j", "u", "r", "e", "O", "S", "s", "R", "_", "t", "z", "d", "o", "e", "i", "f", "E", "B", "O", "L", "e", "t", "f", "m", "i", "r", "s", "l", "p", "o", "E", "n", "a", "A", "h", "c", "d", "u", "b", "g", "T", "y", "C", "B", "q", "_", "M", "o", "l", "s", "t", "t", "e", "j", "e", "t", "r", "s", "o", "i", "C", "b", "L", "n", "l", "p", "m", "f", "_", "q", "v", "T", "A", "y", "u", "g", "S", "B", "E", "x", "d", "I", "N", "G", "F", "H", "a", "w", "O", "D", "M", "U", "z", "c", "V", "s", "o", "a", "c", "h", "l", "t", "e", "i", "n", "r", "d", "f", "R", "I", "N", "b", "p", "m", "x", "y", "u", "g", "d", "t", "o", "f", "c", "e", "r", "a", "oe", "le", "he", "i", "ce", "e", "de", "c", "l", "t", "n", "a", "d", "_", "s", "G", "h", "E", "w", "H", "A", "O", "C", "r", "ue", "pe", "o", "p", "f", "I", "g", "m", "T", "R", "x", "v", "P", "_e", "S", "D", "fe", "q", "N", "F", "u", "b", "y", "e", "m", "S", "e", "d", "t", "y", "u", "_", "k", "f", "l", "i", "o", "a", "t", "n", "s", "i", "e", "at", "nt", "o", "S", "e", "a", "n", "r", "H", "h", "F", "l", "t", "u", "f", "s", "ne", "y", "_", "i", "c", "de", "d", "I", "A", "m", "ie", "U", "ce", "G", "ot", "ct", "T", "ht", "V", "g", "dt", "ue", "p", "E", "q", "pt", "gt", "_t", "O", "z", "J", "ft", "ut", "C", "L", "x", "j", "b", "lt", "yt", "mt", "Tt", "a", "e", "t", "o", "r", "n", "S", "s", "m", "E", "I", "h", "y", "l", "g", "d", "h", "S", "m", "_", "t", "e", "s", "n", "o", "p", "r", "V", "y", "a", "t", "n", "e", "o", "s", "i", "r", "h", "e", "h", "i", "t", "s", "a", "n", "e", "t", "s", "i", "o", "r", "w", "n", "t", "r", "o", "c", "s", "u", "e", "i", "a", "f", "m", "h", "l", "M", "x", "y", "A", "b", "p", "F", "U", "d", "g", "j", "v", "k", "i", "t", "n", "r", "e", "s", "h", "a", "o", "c", "m", "l", "d", "M", "x", "u", "p", "f", "_", "g", "I", "B", "b", "V", "U", "C", "H", "R", "l", "t", "e", "r", "a", "n", "h", "o", "c", "m", "i", "F", "w", "s", "g", "u", "b", "y", "n", "i", "e", "s", "r", "a", "l", "c", "u", "f", "h", "B", "E", "b", "o", "t", "m", "t", "e", "o", "s", "i", "a", "c", "l", "f", "u", "n", "D", "y", "r", "h", "p", "_", "b", "B", "C", "v", "A", "x", "d", "M", "O", "V", "Z", "k", "j", "R", "I", "w", "G", "E", "F", "g", "b", "t", "s", "e", "n", "l", "a", "r", "h", "m", "c", "d", "C", "M", "A", "_", "v", "u", "S", "x", "g", "j", "f", "i", "o", "p", "t", "s", "e", "s", "i", "t", "e", "r", "n", "a", "t", "e", "f", "u", "w", "t", "e", "r", "a", "o", "n", "l", "P", "C", "f", "i", "M", "k", "u", "x", "R", "y", "O", "F", "z", "q", "v", "A", "V", "s", "B", "E", "h", "S", "p", "N", "D", "G", "H", "e", "t", "s", "w", "s", "n", "k", "q", "e", "o", "l", "r", "s", "t", "n", "i", "b", "p", "a", "c", "u", "d", "g", "y", "v", "C", "_", "w", "f", "L", "H", "W", "I", "m", "h", "X", "E", "F", "R", "S", "n", "r", "e", "O", "S", "l", "R", "_", "t", "d", "a", "r", "O", "S", "_", "t", "c", "l", "r", "e", "O", "S", "_", "t", "c", "r", "n", "R", "c", "e", "r", "o", "d", "a", "l", "n", "E", "O", "A", "t", "i", "s", "h", "u", "m", "p", "_", "g", "b", "F", "y", "s", "t", "e", "r", "p", "h", "r", "u", "s", "O", "S", "l", "R", "_", "E", "t", "D", "O", "v", "P", "b", "c", "e", "p", "u", "d", "m", "A", "E", "t", "s", "i", "r", "l", "j", "o", "a", "y", "n", "m", "r", "e", "O", "S", "s", "R", "_", "t", "w", "S", "c", "e", "f", "i", "s", "d", "A", "r", "O", "t", "a", "o", "m", "l", "h", "u", "p", "P", "T", "k", "E", "G", "D", "y", "a", "r", "e", "O", "S", "_", "t", "x", "a", "r", "O", "S", "_", "t", "f", "l", "r", "e", "O", "S", "_", "t", "s", "s", "n", "g", "c", "e", "s", "l", "a", "d", "A", "r", "O", "i", "t", "o", "w", "L", "G", "R", "_", "n", "D", "y", "i", "t", "p", "e", "r", "p", "r", "e", "O", "i", "S", "_", "l", "R", "s", "t", "c", "a", "r", "e", "O", "S", "t", "i", "a", "r", "e", "O", "S", "l", "R", "_", "t", "c", "n", "s", "e", "p", "l", "t", "i", "r", "a", "o", "v", "R", "j", "C", "A", "B", "t", "r", "i", "M", "e", "Q", "n", "a", "O", "x", "D", "s", "o", "G", "Y", "T", "h", "f", "I", "U", "k", "c", "m", "F", "V", "q", "y", "l", "P", "H", "u", "_", "d", "N", "E", "S", "W", "K", "o", "x", "t", "e", "r", "i", "d", "a", "s", "n", "t", "e", "e", "t", "e", "t", "s", "s", "e", "t", "a", "r", "e", "t", "e", "i", "e", "t", "h", "o", "r", "X", "i", "e", "l", "c", "t", "s", "f", "e", "i", "t", "r", "a", "h", "R", "o", "b", "s", "X", "E", "O", "c", "N", "T", "A", "G", "P", "D", "g", "M", "U", "F", "L", "x", "B", "a", "e", "i", "t", "r", "l", "s", "o", "p", "d", "c", "u", "n", "C", "M", "i", "E", "s", "h", "l", "n", "c", "e", "t", "a", "o", "r", "m", "j", "T", "u", "A", "n", "n", "e", "l", "o", "s", "r", "t", "c", "d", "i", "T", "h", "r", "l", "e", "E", "n", "s", "u", "t", "i", "S", "o", "a", "o", "e", "p", "l", "i", "t", "n", "a", "m", "_", "O", "e", "m", "n", "_", "t", "r", "o", "h", "s", "a", "l", "f", "t", "e", "n", "r", "i", "h", "A", "o", "a", "R", "_", "s", "l", "X", "E", "c", "t", "s", "m", "r", "e", "O", "S", "A", "_", "E", "t", "f", "u", "c", "p", "m", "S", "e", "s", "t", "i", "r", "E", "a", "y", "d", "r", "e", "s", "O", "S", "l", "R", "_", "E", "t", "g", "M", "S", "e", "t", "i", "r", "s", "o", "h", "u", "m", "G", "c", "I", "d", "L", "A", "p", "n", "U", "O", "P", "D", "E", "_", "y", "a", "t", "W", "n", "e", "e", "t", "u", "r", "E", "a", "e", "m", "n", "t", "l", "p", "s", "r", "Pe", "e", "t", "r", "i", "a", "n", "I", "ce", "f", "s", "p", "G", "C", "M", "o", "h", "d", "A", "E", "_", "S", "has", "l", "W", "u", "c", "m", "g", "T", "b", "we", "Re", "P", "R", "N", "y", "D", "L", "O", "U", "ye", "m", "t", "c", "r", "E", "i", "o", "O", "F", "t", "y", "r", "s", "m", "e", "i", "n", "e", "_", "S", "e", "t", "s", "o", "I", "m", "r", "O", "n", "f", "u", "a", "y", "o", "t", "e", "f", "r", "w", "S", "f", "r", "s", "n", "a", "e", "t", "o", "G", "L", "c", "y", "n", "t", "d", "e", "t", "r", "f", "O", "s", "i", "o", "h", "G", "C", "w", "n", "a", "c", "A", "l", "m", "u", "p", "g", "I", "b", "_", "x", "o", "t", "e", "B", "S", "e", "o", "w", "i", "t", "u", "r", "_", "s", "n", "Pe", "d", "A", "f", "y", "g", "R", "b", "O", "a", "h", "c", "I", "F", "q", "u", "S", "e", "h", "l", "s", "B", "I", "n", "t", "o", "r", "C", "i", "k", "y", "a", "e", "u", "o", "y", "a", "c", "tt", "o", "y", "H", "N", "e", "G", "j", "u", "V", "t", "c", "f", "L", "m", "v", "d", "C", "Q", "A", "w", "it", "l", "i", "r", "s", "b", "a", "I", "rt", "st", "U", "n", "M", "k", "h", "lt", "P", "K", "z", "nt", "E", "S", "J", "g", "at"]
}
