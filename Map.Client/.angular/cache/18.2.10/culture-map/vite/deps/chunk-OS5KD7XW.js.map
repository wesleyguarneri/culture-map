{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/support/fetchService.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fetchArcGISServiceJSON as e } from \"../../support/requestPresets.js\";\nconst a = new Set([\"Catalog Layer\", \"Feature Layer\", \"Oriented Imagery Layer\"]);\nasync function t(a, t) {\n  const {\n      loadContext: r,\n      ...n\n    } = t || {},\n    c = r ? await r.fetchServiceMetadata(a, n) : await e(a, n);\n  o(c), s(c);\n  const y = {\n    serviceJSON: c\n  };\n  if ((c.currentVersion ?? 0) < 10.5) return y;\n  const i = `${a}/layers`,\n    u = r ? await r.fetchServiceMetadata(i, n) : await e(i, n);\n  return o(u), s(u), y.layersJSON = {\n    layers: u.layers,\n    tables: u.tables\n  }, y;\n}\nfunction r(e) {\n  const {\n    type: t\n  } = e;\n  return !!t && a.has(t);\n}\nfunction n(e) {\n  return \"Table\" === e.type;\n}\nfunction s(e) {\n  e.layers = e.layers?.filter(r), e.tables = e.tables?.filter(n);\n}\nfunction c(e) {\n  e.type ||= \"Feature Layer\";\n}\nfunction y(e) {\n  e.type ||= \"Table\";\n}\nfunction o(e) {\n  e.layers?.forEach(c), e.tables?.forEach(y);\n}\nfunction i(e) {\n  switch (e) {\n    case \"Feature Layer\":\n    case \"Table\":\n      return \"FeatureLayer\";\n    case \"Oriented Imagery Layer\":\n      return \"OrientedImageryLayer\";\n    case \"Catalog Layer\":\n      return \"CatalogLayer\";\n  }\n  return \"FeatureLayer\";\n}\nexport { t as fetchFeatureService, i as getLayerModuleType };"],
  "mappings": ";;;;;;;;;AAKA,IAAM,IAAI,oBAAI,IAAI,CAAC,iBAAiB,iBAAiB,wBAAwB,CAAC;AAC9E,SAAeA,GAAEC,IAAGD,IAAG;AAAA;AACrB,UAGM,KAAAA,MAAK,CAAC,GAFR;AAAA,mBAAaE;AAAA,IARnB,IAUQ,IADCC,KAAA,UACD,IADC;AAAA,MADH;AAAA,QAGFC,KAAIF,KAAI,MAAMA,GAAE,qBAAqBD,IAAGE,EAAC,IAAI,MAAM,EAAEF,IAAGE,EAAC;AAC3D,MAAEC,EAAC,GAAG,EAAEA,EAAC;AACT,UAAMC,KAAI;AAAA,MACR,aAAaD;AAAA,IACf;AACA,SAAKA,GAAE,kBAAkB,KAAK,KAAM,QAAOC;AAC3C,UAAMC,KAAI,GAAGL,EAAC,WACZ,IAAIC,KAAI,MAAMA,GAAE,qBAAqBI,IAAGH,EAAC,IAAI,MAAM,EAAEG,IAAGH,EAAC;AAC3D,WAAO,EAAE,CAAC,GAAG,EAAE,CAAC,GAAGE,GAAE,aAAa;AAAA,MAChC,QAAQ,EAAE;AAAA,MACV,QAAQ,EAAE;AAAA,IACZ,GAAGA;AAAA,EACL;AAAA;AACA,SAAS,EAAE,GAAG;AACZ,QAAM;AAAA,IACJ,MAAML;AAAA,EACR,IAAI;AACJ,SAAO,CAAC,CAACA,MAAK,EAAE,IAAIA,EAAC;AACvB;AACA,SAAS,EAAE,GAAG;AACZ,SAAO,YAAY,EAAE;AACvB;AACA,SAAS,EAAE,GAAG;AACZ,IAAE,SAAS,EAAE,QAAQ,OAAO,CAAC,GAAG,EAAE,SAAS,EAAE,QAAQ,OAAO,CAAC;AAC/D;AACA,SAAS,EAAE,GAAG;AACZ,IAAE,SAAS;AACb;AACA,SAAS,EAAE,GAAG;AACZ,IAAE,SAAS;AACb;AACA,SAAS,EAAE,GAAG;AACZ,IAAE,QAAQ,QAAQ,CAAC,GAAG,EAAE,QAAQ,QAAQ,CAAC;AAC3C;AACA,SAAS,EAAE,GAAG;AACZ,UAAQ,GAAG;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,EACX;AACA,SAAO;AACT;",
  "names": ["t", "a", "r", "n", "c", "y", "i"]
}
