{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/identity/IdentityModal.js", "../../../../../../node_modules/@arcgis/core/identity/OAuthCredential.js", "../../../../../../node_modules/@arcgis/core/identity/OAuthInfo.js", "../../../../../../node_modules/@arcgis/core/identity/ServerInfo.js", "../../../../../../node_modules/@arcgis/core/identity/IdentityManagerBase.js", "../../../../../../node_modules/@arcgis/core/identity/IdentityManager.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport \"../intl.js\";\nimport { property as e } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as s } from \"../core/accessorSupport/decorators/subclass.js\";\nimport o from \"../widgets/Widget.js\";\nimport { loadCalciteComponents as i } from \"../widgets/support/componentsUtils.js\";\nimport \"../widgets/support/widgetUtils.js\";\nimport { messageBundle as n } from \"../widgets/support/decorators/messageBundle.js\";\nimport { tsx as r } from \"../widgets/support/jsxFactory.js\";\nimport { getCalciteThemeClass as l } from \"../support/themeUtils.js\";\nimport { substitute as a } from \"../intl/substitute.js\";\nconst c = \"esri-identity-modal\",\n  p = {\n    base: c,\n    info: `${c}__info`,\n    notice: `${c}__notice`\n  },\n  d = \"ArcGIS Online\";\nlet u = class extends o {\n  constructor(t, e) {\n    super(t, e), this.container = document.createElement(\"div\"), this.error = null, this.oAuthPrompt = !1, this.open = !1, this.signingIn = !1, this.server = null, this.resource = null, this._usernameInputNode = null, this._passwordInputNode = null, document.body.appendChild(this.container);\n  }\n  loadDependencies() {\n    return i({\n      button: () => import(\"@esri/calcite-components/dist/components/calcite-button.js\"),\n      input: () => import(\"@esri/calcite-components/dist/components/calcite-input.js\"),\n      label: () => import(\"@esri/calcite-components/dist/components/calcite-label.js\"),\n      modal: () => import(\"@esri/calcite-components/dist/components/calcite-modal.js\"),\n      notice: () => import(\"@esri/calcite-components/dist/components/calcite-notice.js\")\n    });\n  }\n  get title() {\n    return this.commonMessages?.auth.signIn;\n  }\n  render() {\n    const {\n        open: t,\n        title: e,\n        messages: s,\n        signingIn: o,\n        oAuthPrompt: i,\n        server: n,\n        resource: c,\n        error: u\n      } = this,\n      {\n        info: m,\n        oAuthInfo: h,\n        lblItem: g,\n        invalidUser: b,\n        noAuthService: v,\n        lblUser: y,\n        lblPwd: f,\n        lblCancel: _,\n        lblSigning: I,\n        lblOk: j\n      } = s;\n    return r(\"div\", {\n      class: this.classes(p.base, l())\n    }, r(\"form\", {\n      bind: this,\n      onsubmit: this._submit\n    }, r(\"calcite-modal\", {\n      bind: this,\n      open: t,\n      outsideCloseDisabled: !0,\n      scale: \"s\",\n      widthScale: \"s\",\n      onCalciteModalClose: this._cancel,\n      onCalciteModalOpen: this._focusUsernameInput\n    }, r(\"div\", {\n      slot: \"header\"\n    }, e), r(\"div\", {\n      slot: \"content\"\n    }, r(\"div\", {\n      class: p.info\n    }, a(i ? h : m, {\n      server: n && /\\.arcgis\\.com/i.test(n) ? d : n,\n      resource: `(${c || g})`\n    })), u ? r(\"calcite-notice\", {\n      class: p.notice,\n      icon: \"exclamation-mark-triangle\",\n      kind: \"danger\",\n      open: !0\n    }, r(\"div\", {\n      slot: \"message\"\n    }, u.details?.httpStatus ? b : v)) : null, i ? null : [r(\"calcite-label\", null, y, r(\"calcite-input\", {\n      afterCreate: t => this._usernameInputNode = t,\n      autocomplete: \"off\",\n      bind: this,\n      name: \"username\",\n      required: !0,\n      spellcheck: !1,\n      type: \"text\",\n      value: \"\"\n    })), r(\"calcite-label\", null, f, r(\"calcite-input\", {\n      afterCreate: t => this._passwordInputNode = t,\n      bind: this,\n      name: \"password\",\n      required: !0,\n      type: \"password\",\n      value: \"\"\n    }))]), r(\"calcite-button\", {\n      appearance: \"outline\",\n      bind: this,\n      onclick: this._cancel,\n      slot: \"secondary\",\n      type: \"button\",\n      width: \"full\"\n    }, _), r(\"calcite-button\", {\n      loading: !!o,\n      slot: \"primary\",\n      type: \"submit\",\n      width: \"full\"\n    }, o ? I : j))));\n  }\n  _focusUsernameInput() {\n    requestAnimationFrame(() => {\n      this._usernameInputNode?.setFocus();\n    });\n  }\n  _cancel() {\n    this._set(\"signingIn\", !1), this.open = !1, this._usernameInputNode && (this._usernameInputNode.value = \"\"), this._passwordInputNode && (this._passwordInputNode.value = \"\"), this.emit(\"cancel\");\n  }\n  _submit(t) {\n    t.preventDefault(), this._set(\"signingIn\", !0);\n    const e = this.oAuthPrompt ? {} : {\n      username: this._usernameInputNode?.value,\n      password: this._passwordInputNode?.value\n    };\n    this.emit(\"submit\", e);\n  }\n};\nt([e({\n  readOnly: !0\n})], u.prototype, \"container\", void 0), t([e(), n(\"esri/t9n/common\")], u.prototype, \"commonMessages\", void 0), t([e()], u.prototype, \"error\", void 0), t([e(), n(\"esri/identity/t9n/identity\")], u.prototype, \"messages\", void 0), t([e()], u.prototype, \"oAuthPrompt\", void 0), t([e()], u.prototype, \"open\", void 0), t([e()], u.prototype, \"signingIn\", void 0), t([e()], u.prototype, \"server\", void 0), t([e({\n  readOnly: !0\n})], u.prototype, \"title\", null), t([e()], u.prototype, \"resource\", void 0), u = t([s(\"esri.identity.IdentityModal\")], u);\nconst m = u;\nexport { m as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst t = \"esriJSAPIOAuth\";\nclass e {\n  constructor(t, e) {\n    this.oAuthInfo = null, this.storage = null, this.appId = null, this.codeVerifier = null, this.expires = null, this.refreshToken = null, this.ssl = null, this.stateUID = null, this.token = null, this.userId = null, this.oAuthInfo = t, this.storage = e, this._init();\n  }\n  isValid() {\n    let t = !1;\n    if (this.oAuthInfo && this.userId && (this.refreshToken || this.token)) if (null == this.expires && this.refreshToken) t = !0;else if (this.expires) {\n      const e = Date.now();\n      if (this.expires > e) {\n        (this.expires - e) / 1e3 > 60 * this.oAuthInfo.minTimeUntilExpiration && (t = !0);\n      }\n    }\n    return t;\n  }\n  save() {\n    if (!this.storage) return !1;\n    const e = this._load(),\n      s = this.oAuthInfo;\n    if (s?.authNamespace && s.portalUrl) {\n      let r = e[s.authNamespace];\n      r || (r = e[s.authNamespace] = {}), this.appId || (this.appId = s.appId), r[s.portalUrl] = {\n        appId: this.appId,\n        codeVerifier: this.codeVerifier,\n        expires: this.expires,\n        refreshToken: this.refreshToken,\n        ssl: this.ssl,\n        stateUID: this.stateUID,\n        token: this.token,\n        userId: this.userId\n      };\n      try {\n        this.storage.setItem(t, JSON.stringify(e));\n      } catch (i) {\n        return console.warn(i), !1;\n      }\n      return !0;\n    }\n    return !1;\n  }\n  destroy() {\n    const e = this._load(),\n      s = this.oAuthInfo;\n    if (s?.appId && s?.portalUrl && (null == this.expires || this.expires > Date.now()) && (this.refreshToken || this.token)) {\n      const t = s.portalUrl.replace(/^http:/i, \"https:\") + \"/sharing/rest/oauth2/revokeToken\",\n        e = new FormData();\n      if (e.append(\"f\", \"json\"), e.append(\"auth_token\", this.refreshToken || this.token), e.append(\"client_id\", s.appId), e.append(\"token_type_hint\", this.refreshToken ? \"refresh_token\" : \"access_token\"), \"function\" == typeof navigator.sendBeacon) navigator.sendBeacon(t, e);else {\n        const s = new XMLHttpRequest();\n        s.open(\"POST\", t), s.send(e);\n      }\n    }\n    if (s?.authNamespace && s.portalUrl && this.storage) {\n      const r = e[s.authNamespace];\n      if (r) {\n        delete r[s.portalUrl];\n        try {\n          this.storage.setItem(t, JSON.stringify(e));\n        } catch (i) {\n          console.log(i);\n        }\n      }\n    }\n    s && (s._oAuthCred = null, this.oAuthInfo = null);\n  }\n  _init() {\n    const t = this._load(),\n      e = this.oAuthInfo;\n    if (e?.authNamespace && e.portalUrl) {\n      let s = t[e.authNamespace];\n      s && (s = s[e.portalUrl], s && (this.appId = s.appId, this.codeVerifier = s.codeVerifier, this.expires = s.expires, this.refreshToken = s.refreshToken, this.ssl = s.ssl, this.stateUID = s.stateUID, this.token = s.token, this.userId = s.userId));\n    }\n  }\n  _load() {\n    let e = {};\n    if (this.storage) {\n      const i = this.storage.getItem(t);\n      if (i) try {\n        e = JSON.parse(i);\n      } catch (s) {\n        console.warn(s);\n      }\n    }\n    return e;\n  }\n}\ne.prototype.declaredClass = \"esri.identity.OAuthCredential\";\nexport { e as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../chunks/tslib.es6.js\";\nimport { JSONSupport as t } from \"../core/JSONSupport.js\";\nimport { property as r } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as e } from \"../core/accessorSupport/decorators/subclass.js\";\nvar p;\nlet s = p = class extends t {\n  constructor(o) {\n    super(o), this._oAuthCred = null, this.appId = null, this.authNamespace = \"/\", this.expiration = 20160, this.flowType = \"auto\", this.forceLogin = !1, this.forceUserId = !1, this.locale = null, this.minTimeUntilExpiration = 30, this.popup = !1, this.popupCallbackUrl = \"oauth-callback.html\", this.popupWindowFeatures = \"height=490,width=800,resizable,scrollbars,status\", this.portalUrl = \"https://www.arcgis.com\", this.preserveUrlHash = !1, this.userId = null;\n  }\n  clone() {\n    return p.fromJSON(this.toJSON());\n  }\n};\no([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"appId\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"authNamespace\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"expiration\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"flowType\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"forceLogin\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"forceUserId\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"locale\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"minTimeUntilExpiration\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"popup\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"popupCallbackUrl\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"popupWindowFeatures\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"portalUrl\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"preserveUrlHash\", void 0), o([r({\n  json: {\n    write: !0\n  }\n})], s.prototype, \"userId\", void 0), s = p = o([e(\"esri.identity.OAuthInfo\")], s);\nconst i = s;\nexport { i as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../chunks/tslib.es6.js\";\nimport { JSONSupport as r } from \"../core/JSONSupport.js\";\nimport { property as e } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as t } from \"../core/accessorSupport/decorators/subclass.js\";\nlet i = class extends r {\n  constructor(o) {\n    super(o), this.adminTokenServiceUrl = null, this.currentVersion = null, this.hasPortal = null, this.hasServer = null, this.owningSystemUrl = null, this.owningTenant = null, this.server = null, this.shortLivedTokenValidity = null, this.tokenServiceUrl = null, this.webTierAuth = null;\n  }\n};\no([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"adminTokenServiceUrl\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"currentVersion\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"hasPortal\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"hasServer\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"owningSystemUrl\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"owningTenant\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"server\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"shortLivedTokenValidity\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"tokenServiceUrl\", void 0), o([e({\n  json: {\n    write: !0\n  }\n})], i.prototype, \"webTierAuth\", void 0), i = o([t(\"esri.identity.ServerInfo\")], i);\nconst s = i;\nexport { s as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../config.js\";\nimport { id as r } from \"../kernel.js\";\nimport s from \"../request.js\";\nimport i from \"../core/Error.js\";\nimport o from \"../core/Evented.js\";\nimport { on as n } from \"../core/events.js\";\nimport { fixJson as a } from \"../core/lang.js\";\nimport { getDeepValue as h } from \"../core/object.js\";\nimport { createResolver as l, onAbort as c, isAborted as d } from \"../core/promiseUtils.js\";\nimport { urlToObject as u, hasSameOrigin as p, Url as _, queryToObject as f, base64UrlEncode as g, objectToQuery as m, normalize as v, getProxyRule as S, makeAbsolute as w, addQueryParameters as I } from \"../core/urlUtils.js\";\nimport { property as A } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport { subclass as k } from \"../core/accessorSupport/decorators/subclass.js\";\nimport y from \"./IdentityModal.js\";\nimport U from \"./OAuthCredential.js\";\nimport T from \"./OAuthInfo.js\";\nimport x from \"./ServerInfo.js\";\nimport { isSecureProxyService as O, normalizeArcGISOnlineOrgDomain as P } from \"../portal/support/urlUtils.js\";\nconst R = {},\n  C = e => {\n    const t = new _(e.owningSystemUrl).host,\n      r = new _(e.server).host,\n      s = /.+\\.arcgis\\.com$/i;\n    return s.test(t) && s.test(r);\n  },\n  b = (e, t) => !!(C(e) && t && t.some(t => t.test(e.server)));\nlet D = null,\n  q = null;\ntry {\n  D = window.localStorage, q = window.sessionStorage;\n} catch {}\nclass j extends o {\n  constructor() {\n    super(), this._portalConfig = globalThis.esriGeowConfig, this.serverInfos = [], this.oAuthInfos = [], this.credentials = [], this._soReqs = [], this._xoReqs = [], this._portals = [], this._defaultOAuthInfo = null, this._defaultTokenValidity = 60, this.dialog = null, this.tokenValidity = null, this.normalizeWebTierAuth = !1, this._appOrigin = \"null\" !== window.origin ? window.origin : window.location.origin, this._appUrlObj = u(window.location.href), this._busy = null, this._rejectOnPersistedPageShow = !1, this._oAuthLocationParams = null, this._gwTokenUrl = \"/sharing/rest/generateToken\", this._agsRest = \"/rest/services\", this._agsPortal = /\\/sharing(\\/|$)/i, this._agsAdmin = /(https?:\\/\\/[^/]+\\/[^/]+)\\/admin\\/?(\\/.*)?$/i, this._adminSvcs = /\\/rest\\/admin\\/services(\\/|$)/i, this._gwDomains = [{\n      regex: /^https?:\\/\\/www\\.arcgis\\.com/i,\n      customBaseUrl: \"maps.arcgis.com\",\n      tokenServiceUrl: \"https://www.arcgis.com/sharing/rest/generateToken\"\n    }, {\n      regex: /^https?:\\/\\/(?:dev|[a-z\\d-]+\\.mapsdev)\\.arcgis\\.com/i,\n      customBaseUrl: \"mapsdev.arcgis.com\",\n      tokenServiceUrl: \"https://dev.arcgis.com/sharing/rest/generateToken\"\n    }, {\n      regex: /^https?:\\/\\/(?:devext|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,\n      customBaseUrl: \"mapsdevext.arcgis.com\",\n      tokenServiceUrl: \"https://devext.arcgis.com/sharing/rest/generateToken\"\n    }, {\n      regex: /^https?:\\/\\/(?:qaext|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i,\n      customBaseUrl: \"mapsqa.arcgis.com\",\n      tokenServiceUrl: \"https://qaext.arcgis.com/sharing/rest/generateToken\"\n    }, {\n      regex: /^https?:\\/\\/[a-z\\d-]+\\.maps\\.arcgis\\.com/i,\n      customBaseUrl: \"maps.arcgis.com\",\n      tokenServiceUrl: \"https://www.arcgis.com/sharing/rest/generateToken\"\n    }], this._legacyFed = [], this._regexSDirUrl = /http.+\\/rest\\/services\\/?/gi, this._regexServerType = /(\\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|KnowledgeGraphServer|MapServer|MissionServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer|VideoServer)).*/gi, this._gwUser = /http.+\\/users\\/([^/]+).*/i, this._gwItem = /http.+\\/items\\/([^/]+).*/i, this._gwGroup = /http.+\\/groups\\/([^/]+).*/i, this._rePortalTokenSvc = /\\/sharing(\\/rest)?\\/generatetoken/i, this._createDefaultOAuthInfo = !0, this._hasTestedIfAppIsOnPortal = !1, this._getPlatformSelfError = null, this._getOAuthLocationParams(), window.addEventListener(\"pageshow\", e => {\n      this._pageShowHandler(e);\n    });\n  }\n  registerServers(e) {\n    const t = this.serverInfos;\n    t ? (e = e.filter(e => !this.findServerInfo(e.server)), this.serverInfos = t.concat(e)) : this.serverInfos = e, e.forEach(e => {\n      e.owningSystemUrl && this._portals.push(e.owningSystemUrl), e.hasPortal && this._portals.push(e.server);\n    });\n  }\n  registerOAuthInfos(e) {\n    const t = this.oAuthInfos;\n    if (t) {\n      for (const r of e) {\n        const e = this.findOAuthInfo(r.portalUrl);\n        e && t.splice(t.indexOf(e), 1);\n      }\n      this.oAuthInfos = t.concat(e);\n    } else this.oAuthInfos = e;\n  }\n  registerToken(e) {\n    e = {\n      ...e\n    };\n    const t = this._sanitizeUrl(e.server),\n      r = this._isServerRsrc(t);\n    let s,\n      i = this.findServerInfo(t),\n      o = !0;\n    i || (i = new x(), i.server = this._getServerInstanceRoot(t), r ? i.hasServer = !0 : (i.tokenServiceUrl = this._getTokenSvcUrl(t), i.hasPortal = !0), this.registerServers([i])), s = this._findCredential(t), s ? (delete e.server, Object.assign(s, e), o = !1) : (s = new E({\n      userId: e.userId,\n      server: i.server ?? void 0,\n      token: e.token,\n      expires: e.expires,\n      ssl: e.ssl,\n      scope: r ? \"server\" : \"portal\"\n    }), s.resources = [t], this.credentials.push(s)), s.emitTokenChange(!1), o || s.refreshServerTokens();\n  }\n  toJSON() {\n    return a({\n      serverInfos: this.serverInfos.map(e => e.toJSON()),\n      oAuthInfos: this.oAuthInfos.map(e => e.toJSON()),\n      credentials: this.credentials.map(e => e.toJSON())\n    });\n  }\n  initialize(e) {\n    if (!e) return;\n    \"string\" == typeof e && (e = JSON.parse(e));\n    const t = e.serverInfos,\n      r = e.oAuthInfos,\n      s = e.credentials;\n    if (t) {\n      const e = [];\n      t.forEach(t => {\n        t.server && t.tokenServiceUrl && e.push(t.declaredClass ? t : new x(t));\n      }), e.length && this.registerServers(e);\n    }\n    if (r) {\n      const e = [];\n      r.forEach(t => {\n        t.appId && e.push(t.declaredClass ? t : new T(t));\n      }), e.length && this.registerOAuthInfos(e);\n    }\n    s && s.forEach(e => {\n      e.server && e.token && e.expires && e.expires > Date.now() && ((e = e.declaredClass ? e : new E(e)).emitTokenChange(), this.credentials.push(e));\n    });\n  }\n  findServerInfo(e) {\n    let t;\n    e = this._sanitizeUrl(e);\n    for (const r of this.serverInfos) if (this._hasSameServerInstance(r.server, e)) {\n      t = r;\n      break;\n    }\n    return t;\n  }\n  findOAuthInfo(e) {\n    let t;\n    e = this._sanitizeUrl(e);\n    for (const r of this.oAuthInfos) if (this._hasSameServerInstance(r.portalUrl, e)) {\n      t = r;\n      break;\n    }\n    return t;\n  }\n  findCredential(e, t) {\n    if (!e) return;\n    let r;\n    e = this._sanitizeUrl(e);\n    const s = this._isServerRsrc(e) ? \"server\" : \"portal\";\n    if (t) {\n      for (const i of this.credentials) if (this._hasSameServerInstance(i.server, e) && t === i.userId && i.scope === s) {\n        r = i;\n        break;\n      }\n    } else for (const i of this.credentials) if (this._hasSameServerInstance(i.server, e) && -1 !== this._getIdenticalSvcIdx(e, i) && i.scope === s) {\n      r = i;\n      break;\n    }\n    return r;\n  }\n  getCredential(e, t) {\n    let r,\n      s,\n      o = !0;\n    t && (r = !!t.token, s = t.error, o = !1 !== t.prompt), t = {\n      ...t\n    }, e = this._sanitizeUrl(e);\n    const n = new AbortController(),\n      a = l();\n    if (t.signal && c(t.signal, () => {\n      n.abort();\n    }), c(n, () => {\n      a.reject(new i(\"identity-manager:user-aborted\", \"ABORTED\"));\n    }), d(n)) return a.promise;\n    t.signal = n.signal;\n    const h = this._isAdminResource(e),\n      u = r ? this.findCredential(e) : null;\n    let _;\n    if (u && s && s.details && 498 === s.details.httpStatus) u.destroy();else if (u) return _ = new i(\"identity-manager:not-authorized\", \"You are currently signed in as: '\" + u.userId + \"'. You do not have access to this resource: \" + e, {\n      error: s\n    }), a.reject(_), a.promise;\n    const f = this._findCredential(e, t);\n    if (f) return a.resolve(f), a.promise;\n    let g = this.findServerInfo(e);\n    if (g) !g.hasPortal && g.server && g.owningSystemUrl && this._hasSameServerInstance(g.server, g.owningSystemUrl) && (g.hasPortal = !0), !g.hasServer && this._isServerRsrc(e) && (g._restInfoPms = this._getTokenSvcUrl(e), g.hasServer = !0);else {\n      const t = this._getTokenSvcUrl(e);\n      if (!t) return _ = new i(\"identity-manager:unknown-resource\", \"Unknown resource - could not find token service endpoint.\"), a.reject(_), a.promise;\n      g = new x(), g.server = this._getServerInstanceRoot(e), \"string\" == typeof t ? (g.tokenServiceUrl = t, g.hasPortal = !0) : (g._restInfoPms = t, g.hasServer = !0), this.registerServers([g]);\n    }\n    return g.hasPortal && void 0 === g._selfReq && (o || p(g.tokenServiceUrl, this._appOrigin) || this._gwDomains.some(e => e.tokenServiceUrl === g.tokenServiceUrl)) && (g._selfReq = {\n      owningTenant: t?.owningTenant,\n      selfDfd: this._getPortalSelf(g.tokenServiceUrl.replace(this._rePortalTokenSvc, \"/sharing/rest/portals/self\"), e)\n    }), this._enqueue(e, g, t, a, h);\n  }\n  getResourceName(e) {\n    return this._isRESTService(e) ? e.replace(this._regexSDirUrl, \"\").replace(this._regexServerType, \"\") || \"\" : this._gwUser.test(e) && e.replace(this._gwUser, \"$1\") || this._gwItem.test(e) && e.replace(this._gwItem, \"$1\") || this._gwGroup.test(e) && e.replace(this._gwGroup, \"$1\") || \"\";\n  }\n  generateToken(e, t, r) {\n    const o = this._rePortalTokenSvc.test(e.tokenServiceUrl),\n      n = new _(this._appOrigin),\n      a = e.shortLivedTokenValidity;\n    let h, l, c, d, u, f, g, m;\n    t && (m = this.tokenValidity || a || this._defaultTokenValidity, m > a && a > 0 && (m = a)), r && (h = r.isAdmin, l = r.serverUrl, c = r.token, f = r.signal, g = r.ssl, e.customParameters = r.customParameters), h ? d = e.adminTokenServiceUrl : (d = e.tokenServiceUrl, u = new _(d.toLowerCase()), e.webTierAuth && r?.serverUrl && !g && \"http\" === n.scheme && (p(n.uri, d, !0) || \"https\" === u.scheme && n.host === u.host && \"7080\" === n.port && \"7443\" === u.port) && (d = d.replace(/^https:/i, \"http:\").replace(/:7443/i, \":7080\")));\n    const v = {\n      query: {\n        request: \"getToken\",\n        username: t?.username,\n        password: t?.password,\n        serverUrl: l,\n        token: c,\n        expiration: m,\n        referer: h || o ? this._appOrigin : null,\n        client: h ? \"referer\" : null,\n        f: \"json\",\n        ...e.customParameters\n      },\n      method: \"post\",\n      authMode: \"anonymous\",\n      useProxy: this._useProxy(e, r),\n      signal: f,\n      ...r?.ioArgs\n    };\n    o || (v.withCredentials = !1);\n    return s(d, v).then(r => {\n      const s = r.data;\n      if (!s?.token) return new i(\"identity-manager:authentication-failed\", \"Unable to generate token\");\n      const o = e.server;\n      return R[o] || (R[o] = {}), t && (R[o][t.username] = t.password), s.validity = m, s;\n    });\n  }\n  isBusy() {\n    return !!this._busy;\n  }\n  async checkSignInStatus(e) {\n    return (await this.checkAppAccess(e, \"\")).credential;\n  }\n  checkAppAccess(e, t, r) {\n    let o = !1;\n    return this.getCredential(e, {\n      prompt: !1\n    }).then(n => {\n      let a;\n      const h = {\n        f: \"json\"\n      };\n      if (\"portal\" === n.scope) {\n        if (t && (this._doPortalSignIn(e) || r?.force)) a = n.server + \"/sharing/rest/oauth2/validateAppAccess\", h.client_id = t;else {\n          if (!n.token) return {\n            credential: n\n          };\n          a = n.server + \"/sharing/rest\";\n        }\n      } else {\n        if (!n.token) return {\n          credential: n\n        };\n        a = n.server + \"/rest/services\";\n      }\n      return n.token && (h.token = n.token), s(a, {\n        query: h,\n        authMode: \"anonymous\"\n      }).then(e => {\n        if (!1 === e.data.valid) throw new i(\"identity-manager:not-authorized\", `You are currently signed in as: '${n.userId}'.`, e.data);\n        return o = !!e.data.viewOnlyUserTypeApp, {\n          credential: n\n        };\n      }).catch(e => {\n        if (\"identity-manager:not-authorized\" === e.name) throw e;\n        const t = e.details?.httpStatus;\n        if (498 === t) throw n.destroy(), new i(\"identity-manager:not-authenticated\", \"User is not signed in.\");\n        if (400 === t) throw new i(\"identity-manager:invalid-request\");\n        return {\n          credential: n\n        };\n      });\n    }).then(e => ({\n      credential: e.credential,\n      viewOnly: o\n    }));\n  }\n  setOAuthResponseHash(e) {\n    e && (\"#\" === e.charAt(0) && (e = e.substring(1)), this._processOAuthPopupParams(f(e)));\n  }\n  setOAuthRedirectionHandler(e) {\n    this._oAuthRedirectFunc = e;\n  }\n  setProtocolErrorHandler(e) {\n    this._protocolFunc = e;\n  }\n  signIn(e, t, r = {}) {\n    const s = l(),\n      o = () => {\n        h?.remove(), d?.remove(), this.dialog?.destroy(), this.dialog = h = d = null;\n      },\n      n = () => {\n        o(), this._oAuthDfd = null, s.reject(new i(\"identity-manager:user-aborted\", \"ABORTED\"));\n      };\n    r.signal && c(r.signal, () => {\n      n();\n    });\n    const a = new y({\n      open: !0,\n      resource: this.getResourceName(e),\n      server: t.server\n    });\n    this.dialog = a, this.emit(\"dialog-create\");\n    let h = a.on(\"cancel\", n),\n      d = a.on(\"submit\", e => {\n        this.generateToken(t, e, {\n          isAdmin: r.isAdmin,\n          signal: r.signal\n        }).then(i => {\n          o();\n          const n = new E({\n            userId: e.username,\n            server: t.server ?? void 0,\n            token: i.token,\n            expires: null != i.expires ? Number(i.expires) : null,\n            ssl: !!i.ssl,\n            isAdmin: r.isAdmin,\n            validity: i.validity\n          });\n          s.resolve(n);\n        }).catch(e => {\n          a.error = e, a.signingIn = !1;\n        });\n      });\n    return s.promise;\n  }\n  oAuthSignIn(e, t, r, s) {\n    this._oAuthDfd = l();\n    const o = this._oAuthDfd;\n    let n;\n    s?.signal && c(s.signal, () => {\n      const e = this._oAuthDfd && this._oAuthDfd.oAuthWin_;\n      e && !e.closed ? e.close() : this.dialog && u();\n    }), o.resUrl_ = e, o.sinfo_ = t, o.oinfo_ = r;\n    const a = r._oAuthCred;\n    if (a.storage && (\"authorization-code\" === r.flowType || \"auto\" === r.flowType && t.currentVersion >= 8.4)) {\n      let e = crypto.getRandomValues(new Uint8Array(32));\n      n = g(e), a.codeVerifier = n, e = crypto.getRandomValues(new Uint8Array(32)), a.stateUID = g(e), a.save() || (a.codeVerifier = n = null);\n    } else a.codeVerifier = null;\n    let h, d;\n    this._getCodeChallenge(n).then(i => {\n      const o = !s || !1 !== s.oAuthPopupConfirmation;\n      if (!r.popup || !o) return void this._doOAuthSignIn(e, t, r, i);\n      const n = new y({\n        oAuthPrompt: !0,\n        server: t.server,\n        open: !0\n      });\n      this.dialog = n, this.emit(\"dialog-create\"), h = n.on(\"cancel\", u), d = n.on(\"submit\", () => {\n        p(), this._doOAuthSignIn(e, t, r, i);\n      });\n    });\n    const u = () => {\n        p(), this._oAuthDfd = null, o.reject(new i(\"identity-manager:user-aborted\", \"ABORTED\"));\n      },\n      p = () => {\n        h?.remove(), d?.remove(), this.dialog?.destroy(), this.dialog = null;\n      };\n    return o.promise;\n  }\n  destroyCredentials() {\n    if (this.credentials) {\n      this.credentials.slice().forEach(e => {\n        e.destroy();\n      });\n    }\n    this.emit(\"credentials-destroy\");\n  }\n  enablePostMessageAuth(e = \"https://www.arcgis.com/sharing/rest\") {\n    this._postMessageAuthHandle && this._postMessageAuthHandle.remove(), this._postMessageAuthHandle = n(window, \"message\", t => {\n      if ((t.origin === this._appOrigin || t.origin.endsWith(\".arcgis.com\")) && \"arcgis:auth:requestCredential\" === t.data?.type) {\n        const r = t.source;\n        this.getCredential(e).then(e => {\n          r.postMessage({\n            type: \"arcgis:auth:credential\",\n            credential: {\n              expires: e.expires,\n              server: e.server,\n              ssl: e.ssl,\n              token: e.token,\n              userId: e.userId\n            }\n          }, t.origin);\n        }).catch(e => {\n          r.postMessage({\n            type: \"arcgis:auth:error\",\n            error: {\n              name: e.name,\n              message: e.message\n            }\n          }, t.origin);\n        });\n      }\n    });\n  }\n  disablePostMessageAuth() {\n    this._postMessageAuthHandle && (this._postMessageAuthHandle.remove(), this._postMessageAuthHandle = null);\n  }\n  _getOAuthLocationParams() {\n    let e = window.location.hash;\n    if (e) {\n      \"#\" === e.charAt(0) && (e = e.substring(1));\n      const t = f(e);\n      let r = !1;\n      if (t.access_token && t.expires_in && t.state && t.hasOwnProperty(\"username\")) try {\n        t.state = JSON.parse(t.state), t.state.portalUrl && (this._oAuthLocationParams = t, r = !0);\n      } catch {} else if (t.error && t.error_description && (console.log(\"IdentityManager OAuth Error: \", t.error, \" - \", t.error_description), \"access_denied\" === t.error && (r = !0, t.state))) try {\n        t.state = JSON.parse(t.state);\n      } catch {}\n      r && (window.location.hash = t.state?.hash || \"\");\n    }\n    let t = window.location.search;\n    if (t) {\n      \"?\" === t.charAt(0) && (t = t.substring(1));\n      const e = f(t);\n      let r = !1;\n      if (e.code && e.state) try {\n        e.state = JSON.parse(e.state), e.state.portalUrl && e.state.uid && (this._oAuthLocationParams = e, r = !0);\n      } catch {} else if (e.error && e.error_description && (console.log(\"IdentityManager OAuth Error: \", e.error, \" - \", e.error_description), \"access_denied\" === e.error && (r = !0, e.state))) try {\n        e.state = JSON.parse(e.state);\n      } catch {}\n      if (r) {\n        const t = {\n          ...e\n        };\n        [\"code\", \"error\", \"error_description\", \"message_code\", \"persist\", \"state\"].forEach(e => {\n          delete t[e];\n        });\n        const r = m(t),\n          s = window.location.pathname + (r ? `?${r}` : \"\") + (e.state?.hash || \"\");\n        window.history.replaceState(window.history.state, \"\", s);\n      }\n    }\n  }\n  _getOAuthToken(e, t, r, i, o) {\n    return e = e.replace(/^http:/i, \"https:\"), s(`${e}/sharing/rest/oauth2/token`, {\n      authMode: \"anonymous\",\n      method: \"post\",\n      query: i && o ? {\n        grant_type: \"authorization_code\",\n        code: t,\n        redirect_uri: i,\n        client_id: r,\n        code_verifier: o\n      } : {\n        grant_type: \"refresh_token\",\n        refresh_token: t,\n        client_id: r\n      }\n    }).then(e => e.data);\n  }\n  async _getCodeChallenge(e) {\n    if (e && globalThis.isSecureContext) {\n      const t = new TextEncoder().encode(e),\n        r = await crypto.subtle.digest(\"SHA-256\", t);\n      return g(new Uint8Array(r));\n    }\n    return null;\n  }\n  _pageShowHandler(e) {\n    if (e.persisted && this.isBusy() && this._rejectOnPersistedPageShow) {\n      const e = new i(\"identity-manager:user-aborted\", \"ABORTED\");\n      this._errbackFunc(e);\n    }\n  }\n  _findCredential(e, t) {\n    let r,\n      s,\n      i,\n      o,\n      n = -1;\n    const a = t?.token,\n      h = t?.resource,\n      l = this._isServerRsrc(e) ? \"server\" : \"portal\",\n      c = this.credentials.filter(t => this._hasSameServerInstance(t.server, e) && t.scope === l);\n    if (e = h || e, c.length) if (1 === c.length) {\n      if (r = c[0], i = this.findServerInfo(r.server), s = i?.owningSystemUrl, o = s ? this.findCredential(s, r.userId) : void 0, n = this._getIdenticalSvcIdx(e, r), !a) return -1 === n && r.resources.push(e), this._addResource(e, o), r;\n      -1 !== n && (r.resources.splice(n, 1), this._removeResource(e, o));\n    } else {\n      let t, r;\n      if (c.some(a => (r = this._getIdenticalSvcIdx(e, a), -1 !== r && (t = a, i = this.findServerInfo(t.server), s = i?.owningSystemUrl, o = s ? this.findCredential(s, t.userId) : void 0, n = r, !0))), a) t && (t.resources.splice(n, 1), this._removeResource(e, o));else if (t) return this._addResource(e, o), t;\n    }\n  }\n  _findOAuthInfo(e) {\n    let t = this.findOAuthInfo(e);\n    if (!t) for (const r of this.oAuthInfos) if (this._isIdProvider(r.portalUrl, e)) {\n      t = r;\n      break;\n    }\n    return t;\n  }\n  _addResource(e, t) {\n    t && -1 === this._getIdenticalSvcIdx(e, t) && t.resources.push(e);\n  }\n  _removeResource(e, t) {\n    let r = -1;\n    t && (r = this._getIdenticalSvcIdx(e, t), r > -1 && t.resources.splice(r, 1));\n  }\n  _useProxy(e, t) {\n    return t?.isAdmin && !p(e.adminTokenServiceUrl, this._appOrigin) || !this._isPortalDomain(e.tokenServiceUrl) && \"10.1\" === String(e.currentVersion) && !p(e.tokenServiceUrl, this._appOrigin);\n  }\n  _getOrigin(e) {\n    const t = new _(e);\n    return t.scheme + \"://\" + t.host + (null != t.port ? \":\" + t.port : \"\");\n  }\n  _getServerInstanceRoot(e) {\n    const t = e.toLowerCase();\n    let r = t.indexOf(this._agsRest);\n    return -1 === r && this._isAdminResource(e) && (r = this._agsAdmin.test(e) ? e.replace(this._agsAdmin, \"$1\").length : e.search(this._adminSvcs)), -1 !== r || O(t) || (r = t.indexOf(\"/sharing\")), -1 === r && t.endsWith(\"/\") && (r = t.length - 1), r > -1 ? e.substring(0, r) : e;\n  }\n  _hasSameServerInstance(e, t) {\n    return e.endsWith(\"/\") && (e = e.slice(0, -1)), e = e.toLowerCase(), t = this._getServerInstanceRoot(t).toLowerCase(), e = P(e), t = P(t), (e = e.substring(e.indexOf(\":\"))) === (t = t.substring(t.indexOf(\":\")));\n  }\n  _sanitizeUrl(e) {\n    const r = (t.request.proxyUrl || \"\").toLowerCase(),\n      s = r ? e.toLowerCase().indexOf(r + \"?\") : -1;\n    return -1 !== s && (e = e.substring(s + r.length + 1)), e = v(e), u(e).path;\n  }\n  _isRESTService(e) {\n    return e.includes(this._agsRest);\n  }\n  _isAdminResource(e) {\n    return this._agsAdmin.test(e) || this._adminSvcs.test(e);\n  }\n  _isServerRsrc(e) {\n    return this._isRESTService(e) || this._isAdminResource(e);\n  }\n  _isIdenticalService(e, t) {\n    let r = !1;\n    if (this._isRESTService(e) && this._isRESTService(t)) {\n      const s = this._getSuffix(e).toLowerCase(),\n        i = this._getSuffix(t).toLowerCase();\n      if (r = s === i, !r) {\n        const e = /(.*)\\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;\n        r = s.replaceAll(e, \"$1\") === i.replaceAll(e, \"$1\");\n      }\n    } else this._isAdminResource(e) && this._isAdminResource(t) ? r = !0 : this._isServerRsrc(e) || this._isServerRsrc(t) || !this._isPortalDomain(e) || (r = !0);\n    return r;\n  }\n  _isPortalDomain(e) {\n    const r = new _(e.toLowerCase()),\n      s = this._portalConfig;\n    let i = this._gwDomains.some(e => e.regex.test(r.uri));\n    return !i && s && (i = this._hasSameServerInstance(this._getServerInstanceRoot(s.restBaseUrl), r.uri)), i || t.portalUrl && (i = p(r, t.portalUrl, !0)), i || (i = this._portals.some(e => this._hasSameServerInstance(e, r.uri))), i = i || this._agsPortal.test(r.path), i;\n  }\n  _isIdProvider(e, t) {\n    let r = -1,\n      s = -1;\n    this._gwDomains.forEach((i, o) => {\n      -1 === r && i.regex.test(e) && (r = o), -1 === s && i.regex.test(t) && (s = o);\n    });\n    let i = !1;\n    if (r > -1 && s > -1 && (0 === r || 4 === r ? 0 !== s && 4 !== s || (i = !0) : 1 === r ? 1 !== s && 2 !== s || (i = !0) : 2 === r ? 2 === s && (i = !0) : 3 === r && 3 === s && (i = !0)), !i) {\n      const r = this.findServerInfo(t),\n        s = r?.owningSystemUrl;\n      s && C(r) && this._isPortalDomain(s) && this._isIdProvider(e, s) && (i = !0);\n    }\n    return i;\n  }\n  _getIdenticalSvcIdx(e, t) {\n    let r = -1;\n    for (let s = 0; s < t.resources.length; s++) {\n      const i = t.resources[s];\n      if (this._isIdenticalService(e, i)) {\n        r = s;\n        break;\n      }\n    }\n    return r;\n  }\n  _getSuffix(e) {\n    return e.replace(this._regexSDirUrl, \"\").replace(this._regexServerType, \"$1\");\n  }\n  _getTokenSvcUrl(e) {\n    let t, r, i;\n    if (this._isRESTService(e) || this._isAdminResource(e)) {\n      const i = this._getServerInstanceRoot(e);\n      return t = i + \"/admin/generateToken\", r = s(e = i + \"/rest/info\", {\n        query: {\n          f: \"json\"\n        }\n      }).then(e => e.data), {\n        adminUrl: t,\n        promise: r\n      };\n    }\n    if (this._isPortalDomain(e)) {\n      let t = \"\";\n      if (this._gwDomains.some(r => (r.regex.test(e) && (t = r.tokenServiceUrl), !!t)), t || this._portals.some(r => (this._hasSameServerInstance(r, e) && (t = r + this._gwTokenUrl), !!t)), t || (i = e.toLowerCase().indexOf(\"/sharing\"), -1 !== i && (t = e.substring(0, i) + this._gwTokenUrl)), t || (t = this._getOrigin(e) + this._gwTokenUrl), t) {\n        const r = new _(e).port;\n        /^http:\\/\\//i.test(e) && \"7080\" === r && (t = t.replace(/:7080/i, \":7443\")), t = t.replace(/http:/i, \"https:\");\n      }\n      return t;\n    }\n  }\n  _processOAuthResponseParams(e, t, r) {\n    const s = t._oAuthCred;\n    if (e.code) {\n      const i = s.codeVerifier;\n      return s.codeVerifier = null, s.stateUID = null, s.save(), this._getOAuthToken(r.server, e.code, t.appId, this._getRedirectURI(t, !0), i).then(i => {\n        const o = new E({\n          userId: i.username,\n          server: r.server ?? void 0,\n          token: i.access_token,\n          expires: Date.now() + 1e3 * i.expires_in,\n          ssl: i.ssl,\n          oAuthState: e.state,\n          _oAuthCred: s\n        });\n        return t.userId = o.userId, s.storage = i.persist ? D : q, s.refreshToken = i.refresh_token, s.token = null, s.expires = i.refresh_token_expires_in ? Date.now() + 1e3 * i.refresh_token_expires_in : null, s.userId = o.userId, s.ssl = o.ssl, s.save(), o;\n      });\n    }\n    const i = new E({\n      userId: e.username,\n      server: r.server ?? void 0,\n      token: e.access_token,\n      expires: Date.now() + 1e3 * Number(e.expires_in),\n      ssl: \"true\" === e.ssl,\n      oAuthState: e.state,\n      _oAuthCred: s\n    });\n    return t.userId = i.userId, s.storage = e.persist ? D : q, s.refreshToken = null, s.token = i.token, s.expires = i.expires, s.userId = i.userId, s.ssl = i.ssl, s.save(), Promise.resolve(i);\n  }\n  _processOAuthPopupParams(e) {\n    const t = this._oAuthDfd;\n    if (this._oAuthDfd = null, t) if (clearInterval(this._oAuthIntervalId), this._oAuthOnPopupHandle?.remove(), e.error) {\n      const r = \"access_denied\" === e.error,\n        s = new i(r ? \"identity-manager:user-aborted\" : \"identity-manager:authentication-failed\", r ? \"ABORTED\" : \"OAuth: \" + e.error + \" - \" + e.error_description);\n      t.reject(s);\n    } else this._processOAuthResponseParams(e, t.oinfo_, t.sinfo_).then(e => {\n      t.resolve(e);\n    }).catch(e => {\n      t.reject(e);\n    });\n  }\n  _setOAuthResponseQueryString(e) {\n    e && (\"?\" === e.charAt(0) && (e = e.substring(1)), this._processOAuthPopupParams(f(e)));\n  }\n  async _exchangeToken(e, t, r) {\n    return (await s(`${e}/sharing/rest/oauth2/exchangeToken`, {\n      authMode: \"anonymous\",\n      method: \"post\",\n      query: {\n        f: \"json\",\n        client_id: t,\n        token: r\n      }\n    })).data.token;\n  }\n  async _getPlatformSelf(e, t) {\n    if (this._getPlatformSelfError && Date.now() - this._getPlatformSelfError[1] < 1e3) throw this._getPlatformSelfError[0];\n    e = e.replace(/^http:/i, \"https:\");\n    try {\n      const r = await s(`${e}/sharing/rest/oauth2/platformSelf`, {\n        authMode: \"anonymous\",\n        headers: {\n          \"X-Esri-Auth-Client-Id\": t,\n          \"X-Esri-Auth-Redirect-Uri\": window.location.href.replace(/#.*$/, \"\")\n        },\n        method: \"post\",\n        query: {\n          f: \"json\",\n          expiration: 30\n        },\n        withCredentials: !0\n      });\n      return this._getPlatformSelfError = null, r.data;\n    } catch (r) {\n      throw \"OAUTH_0066\" === r.details?.messageCode && (this._getPlatformSelfError = [r, Date.now()]), r;\n    }\n  }\n  _getPortalSelf(e, t) {\n    let r;\n    if (this._gwDomains.some(t => (t.regex.test(e) && (r = t.customBaseUrl), !!r)), r) return Promise.resolve({\n      allSSL: !0,\n      currentVersion: \"8.4\",\n      customBaseUrl: r,\n      portalMode: \"multitenant\",\n      supportsOAuth: !0\n    });\n    this._appOrigin.startsWith(\"https:\") ? e = e.replace(/^http:/i, \"https:\").replace(/:7080/i, \":7443\") : /^http:/i.test(t) && (e = e.replace(/^https:/i, \"http:\").replace(/:7443/i, \":7080\"));\n    return s(e, {\n      query: {\n        f: \"json\"\n      },\n      authMode: \"anonymous\",\n      withCredentials: !0\n    }).then(e => e.data);\n  }\n  _doPortalSignIn(e) {\n    const t = this._portalConfig,\n      r = window.location.href,\n      s = this.findServerInfo(e);\n    return !(!t && !this._isPortalDomain(r) || !(s ? s.hasPortal || s.owningSystemUrl && this._isPortalDomain(s.owningSystemUrl) : this._isPortalDomain(e)) || !(this._isIdProvider(r, e) || t && (this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl), e) || this._isIdProvider(t.restBaseUrl, e)) || p(r, e, !0)));\n  }\n  _checkProtocol(e, t, r, s) {\n    let o = !0;\n    const n = s ? t.adminTokenServiceUrl : t.tokenServiceUrl;\n    if (n.trim().toLowerCase().startsWith(\"https:\") && !this._appOrigin.startsWith(\"https:\") && S(n) && (o = !!this._protocolFunc && !!this._protocolFunc({\n      resourceUrl: e,\n      serverInfo: t\n    }), !o)) {\n      r(new i(\"identity-manager:aborted\", \"Aborted the Sign-In process to avoid sending password over insecure connection.\"));\n    }\n    return o;\n  }\n  _enqueue(e, t, r, s, i, o) {\n    return s || (s = l()), s.resUrl_ = e, s.sinfo_ = t, s.options_ = r, s.admin_ = i, s.refresh_ = o, this._busy ? this._hasSameServerInstance(this._getServerInstanceRoot(e), this._busy.resUrl_) ? (this._oAuthDfd && this._oAuthDfd.oAuthWin_ && this._oAuthDfd.oAuthWin_.focus(), this._soReqs.push(s)) : this._xoReqs.push(s) : this._doSignIn(s), s.promise;\n  }\n  _doSignIn(e) {\n    this._busy = e, this._rejectOnPersistedPageShow = !1;\n    const t = t => {\n        const r = e.options_?.resource,\n          s = e.resUrl_,\n          i = e.refresh_;\n        let o = !1;\n        this.credentials.includes(t) || (i && this.credentials.includes(i) ? (i.userId = t.userId, i.token = t.token, i.expires = t.expires, i.validity = t.validity, i.ssl = t.ssl, i.creationTime = t.creationTime, o = !0, t = i) : this.credentials.push(t)), t.resources || (t.resources = []), t.resources.includes(r || s) || t.resources.push(r || s), t.scope = this._isServerRsrc(s) ? \"server\" : \"portal\", t.emitTokenChange();\n        const n = this._soReqs,\n          a = {};\n        this._soReqs = [], n.forEach(e => {\n          if (!this._isIdenticalService(s, e.resUrl_)) {\n            const r = this._getSuffix(e.resUrl_);\n            a[r] || (a[r] = !0, t.resources.push(e.resUrl_));\n          }\n        }), e.resolve(t), n.forEach(e => {\n          this._hasSameServerInstance(this._getServerInstanceRoot(s), e.resUrl_) ? e.resolve(t) : this._soReqs.push(e);\n        }), this._busy = e.resUrl_ = e.sinfo_ = e.refresh_ = null, o || this.emit(\"credential-create\", {\n          credential: t\n        }), this._soReqs.length ? this._doSignIn(this._soReqs.shift()) : this._xoReqs.length && this._doSignIn(this._xoReqs.shift());\n      },\n      r = t => {\n        e.reject(t), this._busy = e.resUrl_ = e.sinfo_ = e.refresh_ = null, this._soReqs.length ? this._doSignIn(this._soReqs.shift()) : this._xoReqs.length && this._doSignIn(this._xoReqs.shift());\n      },\n      s = (o, a, h, l) => {\n        const d = e.sinfo_,\n          u = !e.options_ || !1 !== e.options_.prompt,\n          _ = d.hasPortal && this._findOAuthInfo(e.resUrl_);\n        let f, g;\n        if (o) t(new E({\n          userId: o,\n          server: d.server ?? void 0,\n          token: h ?? void 0,\n          expires: null != l ? Number(l) : null,\n          ssl: !!a\n        }));else if (window !== window.parent && this._appUrlObj.query?.[\"arcgis-auth-origin\"] && this._appUrlObj.query?.[\"arcgis-auth-portal\"] && this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query[\"arcgis-auth-portal\"]), e.resUrl_)) {\n          window.parent.postMessage({\n            type: \"arcgis:auth:requestCredential\"\n          }, this._appUrlObj.query[\"arcgis-auth-origin\"]);\n          const s = n(window, \"message\", e => {\n            e.source === window.parent && e.data && (\"arcgis:auth:credential\" === e.data.type ? (s.remove(), e.data.credential.expires < Date.now() ? r(new i(\"identity-manager:credential-request-failed\", \"Parent application's token has expired.\")) : t(new E(e.data.credential))) : \"arcgis:auth:error\" === e.data.type && (s.remove(), \"tokenExpiredError\" === e.data.error.name ? r(new i(\"identity-manager:credential-request-failed\", \"Parent application's token has expired.\")) : r(i.fromJSON(e.data.error))));\n          });\n          c(e.options_?.signal, () => {\n            s.remove();\n          });\n        } else if (_) {\n          let o = _._oAuthCred;\n          if (!o) {\n            const e = new U(_, D),\n              t = new U(_, q);\n            e.isValid() && t.isValid() ? e.expires > t.expires ? (o = e, t.destroy()) : (o = t, e.destroy()) : o = e.isValid() ? e : t, _._oAuthCred = o;\n          }\n          if (o.isValid()) {\n            f = new E({\n              userId: o.userId ?? void 0,\n              server: d.server ?? void 0,\n              token: o.token ?? void 0,\n              expires: o.expires,\n              ssl: o.ssl ?? void 0,\n              _oAuthCred: o\n            });\n            const r = _.appId !== o.appId && this._doPortalSignIn(e.resUrl_);\n            r || o.refreshToken ? (e._pendingDfd = o.refreshToken ? this._getOAuthToken(d.server, o.refreshToken, o.appId).then(e => (f.expires = Date.now() + 1e3 * e.expires_in, f.token = e.access_token, f)) : Promise.resolve(f), e._pendingDfd.then(e => r ? this._exchangeToken(e.server, _.appId, e.token).then(t => (e.token = t, e)).catch(() => e) : e).then(e => {\n              t(e);\n            }).catch(() => {\n              o?.destroy(), s();\n            })) : t(f);\n          } else if (this._oAuthLocationParams && this._hasSameServerInstance(_.portalUrl, this._oAuthLocationParams.state.portalUrl) && (this._oAuthLocationParams.access_token || this._oAuthLocationParams.code && this._oAuthLocationParams.state.uid === o.stateUID && o.codeVerifier)) {\n            const s = this._oAuthLocationParams;\n            this._oAuthLocationParams = null, e._pendingDfd = this._processOAuthResponseParams(s, _, d).then(e => {\n              t(e);\n            }).catch(r);\n          } else {\n            const s = () => {\n              u ? e._pendingDfd = this.oAuthSignIn(e.resUrl_, d, _, e.options_).then(t, r) : (g = new i(\"identity-manager:not-authenticated\", \"User is not signed in.\"), r(g));\n            };\n            this._doPortalSignIn(e.resUrl_) ? e._pendingDfd = this._getPlatformSelf(d.server, _.appId).then(e => {\n              p(e.portalUrl, this._appOrigin, !0) ? (f = new E({\n                userId: e.username,\n                server: d.server ?? void 0,\n                expires: Date.now() + 1e3 * e.expires_in,\n                token: e.token\n              }), t(f)) : s();\n            }).catch(s) : s();\n          }\n        } else if (u) {\n          if (this._checkProtocol(e.resUrl_, d, r, e.admin_)) {\n            let s = e.options_;\n            e.admin_ && (s = s || {}, s.isAdmin = !0), e._pendingDfd = this.signIn(e.resUrl_, d, s).then(t, r);\n          }\n        } else g = new i(\"identity-manager:not-authenticated\", \"User is not signed in.\"), r(g);\n      },\n      o = () => {\n        const s = e.sinfo_,\n          i = s.owningSystemUrl,\n          o = e.options_;\n        let n, a, h, l;\n        if (o && (n = o.token, a = o.error, h = o.prompt), l = this._findCredential(i, {\n          token: n,\n          resource: e.resUrl_\n        }), !l) for (const e of this.credentials) if (this._isIdProvider(i, e.server)) {\n          l = e;\n          break;\n        }\n        if (l) {\n          const i = this.findCredential(e.resUrl_, l.userId);\n          if (i) t(i);else if (b(s, this._legacyFed)) {\n            const e = l.toJSON();\n            e.server = s.server, e.resources = null, t(new E(e));\n          } else {\n            (e._pendingDfd = this.generateToken(this.findServerInfo(l.server), null, {\n              serverUrl: e.resUrl_,\n              token: l.token,\n              signal: e.options_.signal,\n              ssl: l.ssl\n            })).then(r => {\n              t(new E({\n                userId: l?.userId,\n                server: s.server ?? void 0,\n                token: r.token,\n                expires: null != r.expires ? Number(r.expires) : null,\n                ssl: !!r.ssl,\n                isAdmin: e.admin_,\n                validity: r.validity\n              }));\n            }, r);\n          }\n        } else {\n          this._busy = null, n && (e.options_.token = null);\n          (e._pendingDfd = this.getCredential(i.replace(/\\/?$/, \"/sharing\"), {\n            resource: e.resUrl_,\n            owningTenant: s.owningTenant,\n            signal: e.options_.signal,\n            token: n,\n            error: a,\n            prompt: h\n          })).then(() => {\n            this._enqueue(e.resUrl_, e.sinfo_, e.options_, e, e.admin_);\n          }, t => {\n            e.resUrl_ = e.sinfo_ = e.refresh_ = null, e.reject(t);\n          });\n        }\n      };\n    this._errbackFunc = r;\n    const a = e.sinfo_.owningSystemUrl,\n      l = this._isServerRsrc(e.resUrl_),\n      d = e.sinfo_._restInfoPms;\n    d ? d.promise.then(t => {\n      const r = e.sinfo_;\n      if (r._restInfoPms) {\n        r.adminTokenServiceUrl = r._restInfoPms.adminUrl, r._restInfoPms = null, r.tokenServiceUrl = (h(\"authInfo.tokenServicesUrl\", t) || h(\"authInfo.tokenServiceUrl\", t) || h(\"tokenServiceUrl\", t)) ?? null, r.shortLivedTokenValidity = h(\"authInfo.shortLivedTokenValidity\", t) ?? null, r.currentVersion = t.currentVersion, r.owningTenant = t.owningTenant;\n        const e = r.owningSystemUrl = t.owningSystemUrl;\n        e && this._portals.push(e);\n      }\n      l && r.owningSystemUrl ? o() : s();\n    }, () => {\n      e.sinfo_._restInfoPms = null;\n      const t = new i(\"identity-manager:server-identification-failed\", \"Unknown resource - could not find token service endpoint.\");\n      r(t);\n    }) : l && a ? o() : e.sinfo_._selfReq ? e.sinfo_._selfReq.selfDfd.then(t => {\n      const r = {};\n      let s, i, o, n;\n      return t && (s = t.user?.username, r.username = s, r.allSSL = t.allSSL, i = t.supportsOAuth, n = parseFloat(t.currentVersion), \"multitenant\" === t.portalMode && (o = t.customBaseUrl), e.sinfo_.currentVersion = n), e.sinfo_.webTierAuth = !!s, s && this.normalizeWebTierAuth ? this.generateToken(e.sinfo_, null, {\n        ssl: r.allSSL\n      }).catch(() => null).then(e => (r.portalToken = e?.token, r.tokenExpiration = e?.expires, r)) : !s && i && n >= 4.4 && !this._findOAuthInfo(e.resUrl_) ? this._generateOAuthInfo({\n        portalUrl: e.sinfo_.server,\n        customBaseUrl: o,\n        owningTenant: e.sinfo_._selfReq.owningTenant\n      }).catch(() => null).then(() => r) : r;\n    }).catch(() => null).then(t => {\n      e.sinfo_._selfReq = null, t ? s(t.username, t.allSSL, t.portalToken, t.tokenExpiration) : s();\n    }) : s();\n  }\n  _generateOAuthInfo(e) {\n    let t,\n      r = null,\n      i = e.portalUrl;\n    const o = e.customBaseUrl,\n      n = e.owningTenant,\n      a = !this._defaultOAuthInfo && this._createDefaultOAuthInfo && !this._hasTestedIfAppIsOnPortal;\n    if (a) {\n      r = window.location.href;\n      let e = r.indexOf(\"?\");\n      e > -1 && (r = r.slice(0, e)), e = r.search(/\\/(apps|home)\\//), r = e > -1 ? r.slice(0, e) : null;\n    }\n    return a && r ? (this._hasTestedIfAppIsOnPortal = !0, t = s(r + \"/sharing/rest\", {\n      query: {\n        f: \"json\"\n      }\n    }).then(() => {\n      this._defaultOAuthInfo = new T({\n        appId: \"arcgisonline\",\n        popupCallbackUrl: r + \"/home/oauth-callback.html\"\n      });\n    })) : t = Promise.resolve(), t.then(() => {\n      if (this._defaultOAuthInfo) return i = i.replace(/^http:/i, \"https:\"), s(i + \"/sharing/rest/oauth2/validateRedirectUri\", {\n        query: {\n          accountId: n,\n          client_id: this._defaultOAuthInfo.appId,\n          redirect_uri: w(this._defaultOAuthInfo.popupCallbackUrl),\n          f: \"json\"\n        }\n      }).then(e => {\n        if (e.data.valid) {\n          const t = this._defaultOAuthInfo.clone();\n          e.data.urlKey && o ? t.portalUrl = \"https://\" + e.data.urlKey.toLowerCase() + \".\" + o : t.portalUrl = i, t.popup = window !== window.top || !(p(i, this._appOrigin) || this._gwDomains.some(e => e.regex.test(i) && e.regex.test(this._appOrigin))), this.oAuthInfos.push(t);\n        }\n      });\n    });\n  }\n  _doOAuthSignIn(e, t, r, s) {\n    const o = r._oAuthCred,\n      a = {\n        portalUrl: r.portalUrl\n      };\n    !r.popup && r.preserveUrlHash && window.location.hash && (a.hash = window.location.hash), o.stateUID && (a.uid = o.stateUID);\n    const h = {\n      client_id: r.appId,\n      response_type: o.codeVerifier ? \"code\" : \"token\",\n      state: JSON.stringify(a),\n      expiration: r.expiration,\n      locale: r.locale,\n      redirect_uri: this._getRedirectURI(r, !!o.codeVerifier)\n    };\n    r.forceLogin && (h.force_login = !0), r.forceUserId && r.userId && (h.prepopulatedusername = r.userId), !r.popup && this._doPortalSignIn(e) && (h.redirectToUserOrgUrl = !0), o.codeVerifier && (h.code_challenge = s || o.codeVerifier, h.code_challenge_method = s ? \"S256\" : \"plain\");\n    const l = r.portalUrl.replace(/^http:/i, \"https:\") + \"/sharing/oauth2/authorize\",\n      c = l + \"?\" + m(h);\n    if (r.popup) {\n      const e = window.open(c, \"esriJSAPIOAuth\", r.popupWindowFeatures);\n      if (e) e.focus(), this._oAuthDfd.oAuthWin_ = e, this._oAuthIntervalId = setInterval(() => {\n        if (e.closed) {\n          clearInterval(this._oAuthIntervalId), this._oAuthOnPopupHandle.remove();\n          const e = this._oAuthDfd;\n          if (e) {\n            const t = new i(\"identity-manager:user-aborted\", \"ABORTED\");\n            e.reject(t);\n          }\n        }\n      }, 500), this._oAuthOnPopupHandle = n(window, [\"arcgis:auth:hash\", \"arcgis:auth:location:search\"], e => {\n        \"arcgis:auth:hash\" === e.type ? this.setOAuthResponseHash(e.detail) : this._setOAuthResponseQueryString(e.detail);\n      });else {\n        const e = new i(\"identity-manager:popup-blocked\", \"ABORTED\");\n        this._oAuthDfd.reject(e);\n      }\n    } else this._rejectOnPersistedPageShow = !0, this._oAuthRedirectFunc ? this._oAuthRedirectFunc({\n      authorizeParams: h,\n      authorizeUrl: l,\n      resourceUrl: e,\n      serverInfo: t,\n      oAuthInfo: r\n    }) : window.location.href = c;\n  }\n  _getRedirectURI(e, t) {\n    const r = window.location.href.replace(/#.*$/, \"\");\n    if (e.popup) return w(e.popupCallbackUrl);\n    if (t) {\n      const e = u(r);\n      return e.query && [\"code\", \"error\", \"error_description\", \"message_code\", \"persist\", \"state\"].forEach(t => {\n        delete e.query[t];\n      }), I(e.path, e.query);\n    }\n    return r;\n  }\n}\nj.prototype.declaredClass = \"esri.identity.IdentityManagerBase\";\nlet E = class extends o.EventedAccessor {\n  constructor(e) {\n    super(e), this._oAuthCred = null, this.tokenRefreshBuffer = 2, e?._oAuthCred && (this._oAuthCred = e._oAuthCred);\n  }\n  initialize() {\n    this.resources = this.resources || [], null == this.creationTime && (this.creationTime = Date.now());\n  }\n  refreshToken() {\n    const e = r,\n      t = e.findServerInfo(this.server),\n      s = t?.owningSystemUrl,\n      i = !!s && \"server\" === this.scope,\n      o = i && b(t, e._legacyFed),\n      n = t.webTierAuth,\n      a = n && e.normalizeWebTierAuth,\n      h = R[this.server],\n      l = h?.[this.userId];\n    let c,\n      d = this.resources && this.resources[0],\n      u = i ? e.findServerInfo(s) : null,\n      p = {\n        username: this.userId,\n        password: l\n      };\n    if (n && !a) return;\n    i && !u && e.serverInfos.some(t => (e._isIdProvider(s, t.server) && (u = t), !!u));\n    const _ = u ? e.findCredential(u.server, this.userId) : null;\n    if (!i || _) {\n      if (!o) {\n        if (i) c = {\n          serverUrl: d,\n          token: _?.token,\n          ssl: _?.ssl\n        };else if (a) p = null, c = {\n          ssl: this.ssl\n        };else {\n          if (!l) {\n            let r;\n            return d && (d = e._sanitizeUrl(d), this._enqueued = 1, r = e._enqueue(d, t, null, null, this.isAdmin, this), r.then(() => {\n              this._enqueued = 0, this.refreshServerTokens();\n            }).catch(() => {\n              this._enqueued = 0;\n            })), r;\n          }\n          this.isAdmin && (c = {\n            isAdmin: !0\n          });\n        }\n        return e.generateToken(i ? u : t, i ? null : p, c).then(e => {\n          this.token = e.token, this.expires = null != e.expires ? Number(e.expires) : null, this.creationTime = Date.now(), this.validity = e.validity, this.emitTokenChange(), this.refreshServerTokens();\n        }).catch(() => {});\n      }\n      _?.refreshToken();\n    }\n  }\n  refreshServerTokens() {\n    if (\"portal\" === this.scope) {\n      const e = r;\n      e.credentials.forEach(t => {\n        const r = e.findServerInfo(t.server),\n          s = r?.owningSystemUrl;\n        t !== this && t.userId === this.userId && s && \"server\" === t.scope && (e._hasSameServerInstance(this.server, s) || e._isIdProvider(s, this.server)) && (b(r, e._legacyFed) ? (t.token = this.token, t.expires = this.expires, t.creationTime = this.creationTime, t.validity = this.validity, t.emitTokenChange()) : t.refreshToken());\n      });\n    }\n  }\n  emitTokenChange(e) {\n    clearTimeout(this._refreshTimer);\n    const t = r,\n      s = this.server ? t.findServerInfo(this.server) : null,\n      i = s?.owningSystemUrl,\n      o = i ? t.findServerInfo(i) : null;\n    !1 === e || i && \"portal\" !== this.scope && (!o?.webTierAuth || t.normalizeWebTierAuth) || null == this.expires && null == this.validity || this._startRefreshTimer(), this.emit(\"token-change\");\n  }\n  destroy() {\n    this.userId = this.server = this.token = this.expires = this.validity = this.resources = this.creationTime = null, this._oAuthCred && (this._oAuthCred.destroy(), this._oAuthCred = null);\n    const e = r,\n      t = e.credentials.indexOf(this);\n    t > -1 && e.credentials.splice(t, 1), this.emitTokenChange(), this.emit(\"destroy\");\n  }\n  toJSON() {\n    const e = a({\n        userId: this.userId,\n        server: this.server,\n        token: this.token,\n        expires: this.expires,\n        validity: this.validity,\n        ssl: this.ssl,\n        isAdmin: this.isAdmin,\n        creationTime: this.creationTime,\n        scope: this.scope\n      }),\n      t = this.resources;\n    return t && t.length > 0 && (e.resources = t.slice()), e;\n  }\n  _startRefreshTimer() {\n    clearTimeout(this._refreshTimer);\n    const e = 6e4 * this.tokenRefreshBuffer,\n      t = 2 ** 31 - 1;\n    let r = (this.validity ? this.creationTime + 6e4 * this.validity : this.expires) - Date.now();\n    r < 0 ? r = 0 : r > t && (r = t), this._refreshTimer = setTimeout(this.refreshToken.bind(this), r > e ? r - e : r);\n  }\n};\ne([A()], E.prototype, \"creationTime\", void 0), e([A()], E.prototype, \"expires\", void 0), e([A()], E.prototype, \"isAdmin\", void 0), e([A()], E.prototype, \"oAuthState\", void 0), e([A()], E.prototype, \"resources\", void 0), e([A()], E.prototype, \"scope\", void 0), e([A()], E.prototype, \"server\", void 0), e([A()], E.prototype, \"ssl\", void 0), e([A()], E.prototype, \"token\", void 0), e([A()], E.prototype, \"tokenRefreshBuffer\", void 0), e([A()], E.prototype, \"userId\", void 0), e([A()], E.prototype, \"validity\", void 0), E = e([k(\"esri.identity.Credential\")], E);\nexport { E as Credential, j as IdentityManagerBase };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { setId as e } from \"../kernel.js\";\nimport { IdentityManagerBase as t } from \"./IdentityManagerBase.js\";\nclass r extends t {}\nr.prototype.declaredClass = \"esri.identity.IdentityManager\";\nconst s = new r();\ne(s);\nexport { s as default };"],
  "mappings": "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",
  "names": ["c", "t", "e", "r", "s", "o", "i", "n", "u", "m", "b", "v", "y", "f", "_", "I", "j", "t", "e", "s", "r", "i", "p", "s", "o", "i", "o", "s", "e", "t", "r", "s", "o", "i", "n", "a", "u", "_", "f", "l", "c", "d", "m", "v", "p", "r", "s"]
}
