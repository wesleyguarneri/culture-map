{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/webgl/rasterUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ZEROS as e } from \"../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { PixelType as t, SizedPixelFormat as n, PixelFormat as r, TextureSamplingMode as a, TextureWrapMode as i, UniformType as o } from \"./enums.js\";\nimport { Texture as s } from \"./Texture.js\";\nimport { TextureDescriptor as u } from \"./TextureDescriptor.js\";\nfunction f(e, o, f = \"nearest\", c = !1) {\n  const m = !(c && \"u8\" === o.pixelType),\n    l = m ? t.FLOAT : t.UNSIGNED_BYTE,\n    _ = null == o.pixels || 0 === o.pixels.length ? null : m ? o.getAsRGBAFloat() : o.getAsRGBA(),\n    g = e.capabilities.textureFloatLinear,\n    p = new u();\n  return p.width = o.width, p.height = o.height, p.internalFormat = m ? n.RGBA32F : r.RGBA, p.samplingMode = !g || \"bilinear\" !== f && \"cubic\" !== f ? a.NEAREST : a.LINEAR, p.dataType = l, p.wrapMode = i.CLAMP_TO_EDGE, new s(e, p, _);\n}\nfunction c(e, r) {\n  const {\n      spacing: o,\n      offsets: f,\n      coefficients: c,\n      size: [m, l]\n    } = r,\n    _ = o[0] > 1,\n    g = new u();\n  g.width = _ ? 4 * m : m, g.height = l, g.internalFormat = n.RGBA32F, g.dataType = t.FLOAT, g.samplingMode = a.NEAREST, g.wrapMode = i.CLAMP_TO_EDGE;\n  const p = new Float32Array(_ ? m * l * 16 : 2 * f.length);\n  if (_ && null != c) for (let t = 0, n = 0; t < c.length; t++) p[n++] = c[t], t % 3 == 2 && (p[n++] = 1);else for (let t = 0; t < l; t++) for (let e = 0; e < m; e++) {\n    const n = 4 * (t * m + e),\n      r = 2 * (e * l + t);\n    p[n] = f[r], p[n + 1] = f[r + 1], p[n + 3] = -1 === f[r] ? 0 : 1;\n  }\n  return new s(e, g, p);\n}\nfunction m(e, t) {\n  const n = new u();\n  return n.internalFormat = r.RGBA, n.width = t.length / 4, n.height = 1, n.samplingMode = a.NEAREST, n.wrapMode = i.CLAMP_TO_EDGE, new s(e, n, t);\n}\nfunction l(t, n, r, a = 1, i = !0) {\n  return {\n    u_flipY: i,\n    u_applyTransform: !!t,\n    u_opacity: a,\n    u_transformSpacing: t ? t.spacing : e,\n    u_transformGridSize: t ? t.size : e,\n    u_targetImageSize: n,\n    u_srcImageSize: r\n  };\n}\nfunction _(e, t) {\n  return {\n    u_colormapOffset: t || 0,\n    u_colormapMaxIndex: e ? e.length / 4 - 1 : 0\n  };\n}\nfunction g(e, t) {\n  return {\n    u_scale: e,\n    u_offset: t\n  };\n}\nfunction p(e) {\n  return {\n    u_bandCount: e.bandCount,\n    u_minOutput: e.outMin,\n    u_maxOutput: e.outMax,\n    u_minCutOff: e.minCutOff,\n    u_maxCutOff: e.maxCutOff,\n    u_factor: e.factor,\n    u_useGamma: e.useGamma,\n    u_gamma: e.gamma,\n    u_gammaCorrection: e.gammaCorrection\n  };\n}\nfunction A(e) {\n  return {\n    u_hillshadeType: e.hillshadeType,\n    u_sinZcosAs: e.sinZcosAs,\n    u_sinZsinAs: e.sinZsinAs,\n    u_cosZs: e.cosZs,\n    u_weights: e.weights,\n    u_factor: e.factor,\n    u_minValue: e.minValue,\n    u_maxValue: e.maxValue\n  };\n}\nfunction T(e, t) {\n  const n = e.gl,\n    r = t.glName,\n    a = new Map();\n  if (null == r) return a;\n  const i = n.getProgramParameter(r, n.ACTIVE_UNIFORMS);\n  let o;\n  for (let s = 0; s < i; s++) o = n.getActiveUniform(r, s), o && a.set(o.name, {\n    location: n.getUniformLocation(r, o.name),\n    info: o\n  });\n  return a;\n}\nfunction h(e, t, n) {\n  Object.keys(n).forEach(r => {\n    const a = t.get(r) || t.get(r + \"[0]\");\n    a && E(e, r, n[r], a);\n  });\n}\nfunction O(e, t, n, r) {\n  n.length === r.length && (r.some(e => null == e) || n.some(e => null == e) || n.forEach((n, a) => {\n    t.setUniform1i(n, a), e.bindTexture(r[a], a);\n  }));\n}\nfunction E(e, t, n, r) {\n  if (null === r || null == n) return !1;\n  const {\n    info: a\n  } = r;\n  switch (a.type) {\n    case o.FLOAT:\n      a.size > 1 ? e.setUniform1fv(t, n) : e.setUniform1f(t, n);\n      break;\n    case o.FLOAT_VEC2:\n      e.setUniform2fv(t, n);\n      break;\n    case o.FLOAT_VEC3:\n      e.setUniform3fv(t, n);\n      break;\n    case o.FLOAT_VEC4:\n      e.setUniform4fv(t, n);\n      break;\n    case o.FLOAT_MAT3:\n      e.setUniformMatrix3fv(t, n);\n      break;\n    case o.FLOAT_MAT4:\n      e.setUniformMatrix4fv(t, n);\n      break;\n    case o.INT:\n      a.size > 1 ? e.setUniform1iv(t, n) : e.setUniform1i(t, n);\n      break;\n    case o.BOOL:\n      e.setUniform1i(t, n ? 1 : 0);\n      break;\n    case o.INT_VEC2:\n    case o.BOOL_VEC2:\n      e.setUniform2iv(t, n);\n      break;\n    case o.INT_VEC3:\n    case o.BOOL_VEC3:\n      e.setUniform3iv(t, n);\n      break;\n    case o.INT_VEC4:\n    case o.BOOL_VEC4:\n      e.setUniform4iv(t, n);\n      break;\n    default:\n      return !1;\n  }\n  return !0;\n}\nexport { m as createColormapTexture, f as createRasterTexture, c as createTransformTexture, g as getBasicGridUniforms, _ as getColormapUniforms, l as getCommonUniforms, A as getShadedReliefUniforms, p as getStretchUniforms, T as getUniformLocationInfos, O as setTextures, h as setUniforms };"],
  "mappings": "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",
  "names": ["e", "o", "f", "c", "m", "l", "_", "g", "p", "r", "a", "n"]
}
