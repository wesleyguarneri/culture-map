{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t, o) {\n    this._module = t, this._loadModule = o;\n  }\n  get() {\n    return this._module;\n  }\n  async reload() {\n    return this._module = await this._loadModule(), this._module;\n  }\n}\nexport { t as ReloadableShaderModule };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as i } from \"../../../../../core/maybe.js\";\nimport { PrimitiveType as t } from \"../../../../webgl/enums.js\";\nclass r {\n  constructor(i, t, r) {\n    this.release = r, this.initializeConfiguration(i, t), this._configuration = t.snapshot(), this._program = this.initializeProgram(i), this._pipeline = this.initializePipeline(i);\n  }\n  destroy() {\n    this._program = i(this._program), this._pipeline = this._configuration = null;\n  }\n  reload(t) {\n    i(this._program), this._program = this.initializeProgram(t), this._pipeline = this.initializePipeline(t);\n  }\n  get program() {\n    return this._program;\n  }\n  get compiled() {\n    return this.program.compiled;\n  }\n  get key() {\n    return this._configuration.key;\n  }\n  get configuration() {\n    return this._configuration;\n  }\n  ensureAttributeLocations(i) {\n    this.program.assertCompatibleVertexAttributeLocations(i);\n  }\n  get primitiveType() {\n    return t.TRIANGLES;\n  }\n  getPipeline(i, t, r) {\n    return this._pipeline;\n  }\n  initializeConfiguration(i, t) {}\n}\nexport { r as ShaderTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from \"../../../../core/PooledArray.js\";\nimport { webglDebugEnabled as e } from \"../../../webgl/checkWebGLError.js\";\nclass r {\n  constructor(r, i, s) {\n    this._context = r, this._locations = s, this._textures = new Map(), this._freeTextureUnits = new t({\n      deallocator: null\n    }), this._glProgram = r.programCache.acquire(i.generate(\"vertex\"), i.generate(\"fragment\"), s), this._glProgram.stop = () => {\n      throw new Error(\"Wrapped _glProgram used directly\");\n    }, this.bindPass = i.generateBindPass(this), this.bindDraw = i.generateBindDraw(this), this._fragmentUniforms = e() ? i.fragmentUniforms : null;\n  }\n  dispose() {\n    this._glProgram.dispose();\n  }\n  get glName() {\n    return this._glProgram.glName;\n  }\n  get hasTransformFeedbackVaryings() {\n    return this._glProgram.hasTransformFeedbackVaryings;\n  }\n  get compiled() {\n    return this._glProgram.compiled;\n  }\n  setUniform1b(t, e) {\n    this._glProgram.setUniform1i(t, e ? 1 : 0);\n  }\n  setUniform1i(t, e) {\n    this._glProgram.setUniform1i(t, e);\n  }\n  setUniform1f(t, e) {\n    this._glProgram.setUniform1f(t, e);\n  }\n  setUniform2fv(t, e) {\n    this._glProgram.setUniform2fv(t, e);\n  }\n  setUniform3fv(t, e) {\n    this._glProgram.setUniform3fv(t, e);\n  }\n  setUniform4fv(t, e) {\n    this._glProgram.setUniform4fv(t, e);\n  }\n  setUniformMatrix3fv(t, e) {\n    this._glProgram.setUniformMatrix3fv(t, e);\n  }\n  setUniformMatrix4fv(t, e) {\n    this._glProgram.setUniformMatrix4fv(t, e);\n  }\n  setUniform1fv(t, e) {\n    this._glProgram.setUniform1fv(t, e);\n  }\n  setUniform1iv(t, e) {\n    this._glProgram.setUniform1iv(t, e);\n  }\n  setUniform2iv(t, e) {\n    this._glProgram.setUniform3iv(t, e);\n  }\n  setUniform3iv(t, e) {\n    this._glProgram.setUniform3iv(t, e);\n  }\n  setUniform4iv(t, e) {\n    this._glProgram.setUniform4iv(t, e);\n  }\n  assertCompatibleVertexAttributeLocations(t) {\n    t.locations !== this._locations && console.error(\"VertexAttributeLocations are incompatible\");\n  }\n  stop() {\n    this._textures.clear(), this._freeTextureUnits.clear();\n  }\n  bindTexture(t, e) {\n    if (null == e?.glName) {\n      const e = this._textures.get(t);\n      return e && (this._context.bindTexture(null, e.unit), this._freeTextureUnit(e), this._textures.delete(t)), null;\n    }\n    let r = this._textures.get(t);\n    return null == r ? (r = this._allocTextureUnit(e), this._textures.set(t, r)) : r.texture = e, this._context.useProgram(this), this.setUniform1i(t, r.unit), this._context.bindTexture(e, r.unit), r.unit;\n  }\n  rebindTextures() {\n    this._context.useProgram(this), this._textures.forEach((t, e) => {\n      this._context.bindTexture(t.texture, t.unit), this.setUniform1i(e, t.unit);\n    }), this._fragmentUniforms?.forEach(t => {\n      \"sampler2D\" !== t.type && \"samplerCube\" !== t.type || this._textures.has(t.name) || console.error(`Texture sampler ${t.name} has no bound texture`);\n    });\n  }\n  _allocTextureUnit(t) {\n    return {\n      texture: t,\n      unit: 0 === this._freeTextureUnits.length ? this._textures.size : this._freeTextureUnits.pop()\n    };\n  }\n  _freeTextureUnit(t) {\n    this._freeTextureUnits.push(t.unit);\n  }\n}\nexport { r as Program };"],
  "mappings": "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",
  "names": ["t", "r", "t", "r", "t", "e"]
}
