{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/support/PropertiesPool.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReentrantObjectPool as e } from \"../../../core/ReentrantObjectPool.js\";\nimport { afterDispatch as t, isValueInUse as r } from \"../../../core/accessorSupport/watch.js\";\nclass o {\n  constructor(r, o) {\n    this._owner = o, this._properties = {}, this._afterDispatchHandle = null;\n    for (const t in r) {\n      const o = r[t],\n        s = new e(o, void 0, void 0, 2, 2);\n      this._properties[t] = {\n        pool: s,\n        acquired: []\n      };\n    }\n    this._afterDispatchHandle = t(() => this._release());\n  }\n  destroy() {\n    this._afterDispatchHandle && (this._afterDispatchHandle.remove(), this._afterDispatchHandle = null);\n    for (const e in this._properties) {\n      const t = this._properties[e];\n      for (const e of t.acquired) r(e) || t.pool.release(e);\n      t.pool.destroy(), t.pool = null, t.acquired = null;\n    }\n    this._properties = null, this._owner = null;\n  }\n  get(e) {\n    const t = this._owner._get(e),\n      r = this._properties[e];\n    let o = r.pool.acquire();\n    for (r.acquired.push(o); o === t;) r.acquired.push(o), o = r.pool.acquire();\n    return o;\n  }\n  _release() {\n    for (const e in this._properties) {\n      const t = this._properties[e];\n      let o = 0;\n      for (const e of t.acquired) r(e) ? t.acquired[o++] = e : t.pool.release(e);\n      t.acquired.length = o;\n    }\n  }\n}\nexport { o as PropertiesPool };"],
  "mappings": ";;;;;;;AAMA,IAAM,IAAN,MAAQ;AAAA,EACN,YAAY,GAAGA,IAAG;AAChB,SAAK,SAASA,IAAG,KAAK,cAAc,CAAC,GAAG,KAAK,uBAAuB;AACpE,eAAW,KAAK,GAAG;AACjB,YAAMA,KAAI,EAAE,CAAC,GACXC,KAAI,IAAI,EAAED,IAAG,QAAQ,QAAQ,GAAG,CAAC;AACnC,WAAK,YAAY,CAAC,IAAI;AAAA,QACpB,MAAMC;AAAA,QACN,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AACA,SAAK,uBAAuB,EAAE,MAAM,KAAK,SAAS,CAAC;AAAA,EACrD;AAAA,EACA,UAAU;AACR,SAAK,yBAAyB,KAAK,qBAAqB,OAAO,GAAG,KAAK,uBAAuB;AAC9F,eAAW,KAAK,KAAK,aAAa;AAChC,YAAM,IAAI,KAAK,YAAY,CAAC;AAC5B,iBAAWC,MAAK,EAAE,SAAU,GAAEA,EAAC,KAAK,EAAE,KAAK,QAAQA,EAAC;AACpD,QAAE,KAAK,QAAQ,GAAG,EAAE,OAAO,MAAM,EAAE,WAAW;AAAA,IAChD;AACA,SAAK,cAAc,MAAM,KAAK,SAAS;AAAA,EACzC;AAAA,EACA,IAAI,GAAG;AACL,UAAM,IAAI,KAAK,OAAO,KAAK,CAAC,GAC1B,IAAI,KAAK,YAAY,CAAC;AACxB,QAAIF,KAAI,EAAE,KAAK,QAAQ;AACvB,SAAK,EAAE,SAAS,KAAKA,EAAC,GAAGA,OAAM,IAAI,GAAE,SAAS,KAAKA,EAAC,GAAGA,KAAI,EAAE,KAAK,QAAQ;AAC1E,WAAOA;AAAA,EACT;AAAA,EACA,WAAW;AACT,eAAW,KAAK,KAAK,aAAa;AAChC,YAAM,IAAI,KAAK,YAAY,CAAC;AAC5B,UAAIA,KAAI;AACR,iBAAWE,MAAK,EAAE,SAAU,GAAEA,EAAC,IAAI,EAAE,SAASF,IAAG,IAAIE,KAAI,EAAE,KAAK,QAAQA,EAAC;AACzE,QAAE,SAAS,SAASF;AAAA,IACtB;AAAA,EACF;AACF;",
  "names": ["o", "s", "e"]
}
