{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/support/layerUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { id as e } from \"../../kernel.js\";\nimport t from \"../../request.js\";\nfunction n(e) {\n  return f(e) || o(e);\n}\nfunction r(e) {\n  return null != e && \"object\" == typeof e && \"type\" in e && \"feature\" === e.type;\n}\nfunction i(e) {\n  return null != e && \"object\" == typeof e && \"type\" in e && \"graphics\" === e.type;\n}\nfunction u(e) {\n  return null != e && \"object\" == typeof e && \"type\" in e && \"map-notes\" === e.type && \"sublayers\" in e;\n}\nfunction s(e) {\n  return null != e && \"object\" == typeof e && \"type\" in e && \"knowledge-graph\" === e.type && \"layers\" in e;\n}\nfunction a(e) {\n  return null != e && \"object\" == typeof e && \"type\" in e && \"link-chart\" === e.type && \"layers\" in e;\n}\nfunction o(e) {\n  return \"scene\" === e?.type;\n}\nfunction c(e) {\n  return null != e && \"object\" == typeof e && \"type\" in e && \"subtype-group\" === e.type && \"sublayers\" in e;\n}\nfunction l(e) {\n  return \"subtype-sublayer\" === e?.type;\n}\nfunction f(e) {\n  const t = e?.type;\n  return \"imagery-tile\" === t || \"tile\" === t || \"open-street-map\" === t || \"vector-tile\" === t || \"web-tile\" === t || \"wmts\" === t;\n}\nfunction y(e) {\n  const t = e?.type;\n  return \"base-tile\" === t || \"tile\" === t || \"elevation\" === t || \"imagery-tile\" === t || \"base-elevation\" === t || \"open-street-map\" === t || \"wcs\" === t || \"web-tile\" === t || \"wmts\" === t || \"vector-tile\" === t;\n}\nfunction p(e) {\n  return null != e && \"type\" in e && \"group\" === e.type;\n}\nconst g = {\n  Point: \"SceneLayer\",\n  \"3DObject\": \"SceneLayer\",\n  IntegratedMesh: \"IntegratedMeshLayer\",\n  PointCloud: \"PointCloudLayer\",\n  Building: \"BuildingSceneLayer\"\n};\nfunction b(e) {\n  const t = e?.type;\n  return \"building-scene\" === t || \"integrated-mesh\" === t || \"point-cloud\" === t || \"scene\" === t;\n}\nfunction d(e) {\n  return \"IntegratedMeshLayer\" === e || \"IntegratedMesh3DTilesLayer\" === e;\n}\nfunction m(e) {\n  return \"integrated-mesh\" === e || \"integrated-mesh-3dtiles\" === e;\n}\nfunction h(e) {\n  return \"voxel\" === e?.type;\n}\nfunction v(e) {\n  return \"imagery-tile\" === e?.type;\n}\nfunction j(e) {\n  return null != e?.parent && \"declaredClass\" in e.parent && \"esri.Basemap\" === e.parent.declaredClass && e.parent.baseLayers.includes(e);\n}\nfunction w(e) {\n  return \"feature\" === e?.type && !e.url && \"memory\" === e.source?.type;\n}\nfunction L(e) {\n  return (\"feature\" === e?.type || \"subtype-group\" === e?.type) && \"feature-layer\" === e.source?.type;\n}\nfunction E(e) {\n  return \"feature\" === e?.type && \"feature-layer\" === e.source?.type;\n}\nfunction S(e) {\n  const t = /[:;]/,\n    n = [];\n  let r = !1;\n  if (e && (e.forEach((e, i) => {\n    n.push([i, e]), !r && t.test(e) && (r = !0);\n  }), n.length > 0)) {\n    let e;\n    if (r) {\n      const t = {};\n      n.forEach(e => {\n        t[e[0]] = e[1];\n      }), e = JSON.stringify(t);\n    } else {\n      const t = [];\n      n.forEach(e => {\n        t.push(e[0] + \":\" + e[1]);\n      }), e = t.join(\";\");\n    }\n    return e;\n  }\n  return null;\n}\nfunction C(e) {\n  if (!e) return;\n  const t = [];\n  return e.forEach((e, n) => {\n    t.push('\"' + n + '\":' + JSON.stringify(e));\n  }), t.length ? \"{\" + t.join(\",\") + \"}\" : void 0;\n}\nfunction M(e) {\n  if (e.activeLayer) {\n    const t = e.activeLayer.tileMatrixSet;\n    if (t) return t;\n    const n = e.activeLayer.tileMatrixSets;\n    if (n) return n;\n  }\n  return null;\n}\nasync function x(n, r) {\n  const i = e?.findServerInfo(n);\n  if (null != i?.currentVersion) return i.owningSystemUrl || null;\n  const u = n.toLowerCase().indexOf(\"/rest/services\");\n  if (-1 === u) return null;\n  const s = `${n.substring(0, u)}/rest/info`,\n    a = null != r ? r.signal : null,\n    {\n      data: o\n    } = await t(s, {\n      query: {\n        f: \"json\"\n      },\n      responseType: \"json\",\n      signal: a\n    });\n  return o?.owningSystemUrl || null;\n}\nfunction I(e) {\n  if (!(\"capabilities\" in e)) return !1;\n  switch (e.type) {\n    case \"catalog\":\n    case \"catalog-footprint\":\n    case \"csv\":\n    case \"feature\":\n    case \"geojson\":\n    case \"imagery\":\n    case \"knowledge-graph-sublayer\":\n    case \"ogc-feature\":\n    case \"oriented-imagery\":\n    case \"scene\":\n    case \"sublayer\":\n    case \"subtype-group\":\n    case \"subtype-sublayer\":\n    case \"wfs\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction k(e) {\n  return null != e && \"object\" == typeof e && \"isTable\" in e && !!e.isTable;\n}\nfunction O(e) {\n  return I(e) ? \"effectiveCapabilities\" in e ? e.effectiveCapabilities : e.capabilities : null;\n}\nfunction T(e) {\n  if (!(\"editingEnabled\" in e)) return !1;\n  switch (e.type) {\n    case \"csv\":\n    case \"feature\":\n    case \"geojson\":\n    case \"oriented-imagery\":\n    case \"scene\":\n    case \"subtype-group\":\n    case \"subtype-sublayer\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction B(e) {\n  return !!T(e) && (\"effectiveEditingEnabled\" in e ? e.effectiveEditingEnabled : e.editingEnabled);\n}\nexport { B as getEffectiveEditingEnabled, O as getEffectiveLayerCapabilities, x as getOwningPortalUrl, M as getTileMaxtrixSetFromActiveLayer, j as isBaseLayer, n as isBasemap3DSupportedLayer, f as isBasemapSupportedTiledLayer, w as isFeatureCollectionLayer, r as isFeatureLayer, E as isFeatureServiceLayer, i as isGraphicsLayer, p as isGroupLayer, v as isImageryTileLayer, m as isIntegratedMeshLayer, d as isIntegratedMeshOperationalLayer, s as isKnowledgeGraphLayer, L as isLayerWithFeatureLayerSource, a as isLinkChartLayer, u as isMapNotesLayer, o as isSceneLayer, b as isSceneServiceLayer, c as isSubtypeGroupLayer, l as isSubtypeSublayer, k as isTable, y as isTiledLayer, h as isVoxelLayer, g as sceneServiceLayerTypeToClassName, S as serializeLayerDefinitions, C as serializeTimeOptions };"],
  "mappings": "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",
  "names": ["t", "t", "n", "r", "i", "u", "s", "a", "o"]
}
