{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ZEROS as e } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { ShaderOutput as r } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { ReloadableShaderModule as t } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as i } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as s } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { blendingDefault as o, oitBlending as l, oitDepthTest as n, oitDrawBuffers as a, getOITPolygonOffset as c } from \"../lib/OrderIndependentTransparency.js\";\nimport { Program as p } from \"../lib/Program.js\";\nimport { stencilWriteMaskOn as u, stencilToolMaskBaseParams as m, stencilBaseAllZerosParams as f } from \"../lib/StencilUtils.js\";\nimport { TransparencyPassType as d } from \"../lib/TransparencyPassType.js\";\nimport { VisualVariablePassParameters as h } from \"../materials/VisualVariablePassParameters.js\";\nimport { C as g } from \"../../../../chunks/ColorMaterial.glsl.js\";\nimport { SpecialDrawBuffers as b } from \"../../../webgl/enums.js\";\nimport { makePipelineState as P, cullingParams as j, defaultDepthWriteParams as y, defaultColorWriteParams as T } from \"../../../webgl/renderState.js\";\nclass O extends h {\n  constructor() {\n    super(...arguments), this.color = e;\n  }\n}\nclass S extends i {\n  initializeProgram(e) {\n    return new p(e.rctx, S.shader.get().build(this.configuration), s);\n  }\n  _createPipeline(e, t) {\n    const i = this.configuration,\n      s = e === d.NONE,\n      p = e === d.FrontFace;\n    return P({\n      blending: i.output === r.Color && i.transparent ? s ? o : l(e) : null,\n      culling: j(i.cullFace),\n      depthTest: i.draped ? null : {\n        func: n(e)\n      },\n      depthWrite: i.draped ? null : (s || p) && i.writeDepth ? y : null,\n      drawBuffers: i.output === r.Depth ? {\n        buffers: [b.NONE]\n      } : a(e),\n      colorWrite: T,\n      stencilWrite: i.hasOccludees ? u : null,\n      stencilTest: i.hasOccludees ? t ? m : f : null,\n      polygonOffset: s || p ? i.polygonOffset ? w : null : c(i.enableOffset)\n    });\n  }\n  initializePipeline() {\n    return this._occludeePipelineState = this._createPipeline(this.configuration.transparencyPassType, !0), this._createPipeline(this.configuration.transparencyPassType, !1);\n  }\n  getPipeline(e) {\n    return e ? this._occludeePipelineState : super.getPipeline();\n  }\n}\nS.shader = new t(g, () => import(\"./ColorMaterial.glsl.js\"));\nconst w = {\n  factor: 1,\n  units: 1\n};\nexport { O as ColorMaterialPassParameters, S as ColorMaterialTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { ShaderOutput as t } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { parameter as e } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { CullFaceOptions as s } from \"../lib/basicInterfaces.js\";\nimport { TransparencyPassType as r } from \"../lib/TransparencyPassType.js\";\nimport { DefaultTechniqueConfiguration as p } from \"../materials/DefaultTechniqueConfiguration.js\";\nclass i extends p {\n  constructor() {\n    super(...arguments), this.output = t.Color, this.cullFace = s.None, this.transparencyPassType = r.NONE, this.hasSlicePlane = !1, this.hasVertexColors = !1, this.transparent = !1, this.polygonOffset = !1, this.enableOffset = !0, this.writeDepth = !0, this.hasOccludees = !1, this.multipassEnabled = !1, this.cullAboveGround = !1, this.objectAndLayerIdColorInstanced = !1, this.vvColor = !1, this.draped = !1;\n  }\n}\no([e({\n  count: t.COUNT\n})], i.prototype, \"output\", void 0), o([e({\n  count: s.COUNT\n})], i.prototype, \"cullFace\", void 0), o([e({\n  count: r.COUNT\n})], i.prototype, \"transparencyPassType\", void 0), o([e()], i.prototype, \"hasSlicePlane\", void 0), o([e()], i.prototype, \"hasVertexColors\", void 0), o([e()], i.prototype, \"transparent\", void 0), o([e()], i.prototype, \"polygonOffset\", void 0), o([e()], i.prototype, \"enableOffset\", void 0), o([e()], i.prototype, \"writeDepth\", void 0), o([e()], i.prototype, \"hasOccludees\", void 0), o([e()], i.prototype, \"multipassEnabled\", void 0), o([e()], i.prototype, \"cullAboveGround\", void 0), o([e()], i.prototype, \"objectAndLayerIdColorInstanced\", void 0), o([e()], i.prototype, \"vvColor\", void 0), o([e()], i.prototype, \"draped\", void 0), o([e({\n  constValue: !1\n})], i.prototype, \"occlusionPass\", void 0), o([e({\n  constValue: !0\n})], i.prototype, \"hasVvInstancing\", void 0), o([e({\n  constValue: !1\n})], i.prototype, \"vvSize\", void 0), o([e({\n  constValue: !1\n})], i.prototype, \"vvOpacity\", void 0);\nexport { i as ColorMaterialTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from \"../../../../core/has.js\";\nimport { ZEROS as e } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { newLayout as r } from \"../../support/buffer/InterleavedLayout.js\";\nimport { ShaderOutput as t, isColorOrOID as s, isDepth as a, is2DGeometryOutput as i } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport { CullFaceOptions as o } from \"../lib/basicInterfaces.js\";\nimport n from \"../lib/GLMaterial.js\";\nimport { OITPolygonOffsetLimit as h } from \"../lib/OrderIndependentTransparency.js\";\nimport { RenderSlot as p } from \"../lib/RenderSlot.js\";\nimport { VertexAttribute as c } from \"../lib/VertexAttribute.js\";\nimport { DefaultBufferWriter as l } from \"./DefaultBufferWriter.js\";\nimport { TriangleMaterial as u } from \"./TriangleMaterial.js\";\nimport { VisualVariablePassParameters as m } from \"./VisualVariablePassParameters.js\";\nimport { ColorMaterialTechnique as f } from \"../shaders/ColorMaterialTechnique.js\";\nimport { ColorMaterialTechniqueConfiguration as _ } from \"../shaders/ColorMaterialTechniqueConfiguration.js\";\nclass d extends u {\n  constructor(e) {\n    super(e, new g()), this.supportsEdges = !0, this.produces = new Map([[p.OPAQUE_MATERIAL, e => e === t.Highlight || s(e) && !this._isTransparent], [p.OPAQUE_NO_SSAO_DEPTH, e => a(e) && this.parameters.writeLinearDepth && !this._isTransparent], [p.TRANSPARENT_MATERIAL, e => s(e) && this._isTransparent && this.parameters.writeDepth], [p.TRANSPARENT_NO_SSAO_DEPTH, e => a(e) && this.parameters.writeLinearDepth && this._isTransparent && this.parameters.writeDepth], [p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL, e => (s(e) || a(e) && this.parameters.writeLinearDepth) && this._isTransparent && !this.parameters.writeDepth], [p.DRAPED_MATERIAL, e => i(e)]]), this._configuration = new _();\n  }\n  getConfiguration(e, r) {\n    return this._configuration.output = e, this._configuration.cullFace = this.parameters.cullFace, this._configuration.hasVertexColors = this.parameters.hasVertexColors && !this.parameters.vvColor, this._configuration.hasSlicePlane = this.parameters.hasSlicePlane, this._configuration.transparent = this._isTransparent, this._configuration.polygonOffset = this.parameters.polygonOffset, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.hasOccludees = this.parameters.hasOccludees, this._configuration.transparencyPassType = r.transparencyPassType, this._configuration.enableOffset = r.camera.relativeElevation < h, this._configuration.multipassEnabled = r.multipassEnabled, this._configuration.cullAboveGround = r.multipassTerrain.cullAboveGround, this._configuration.vvColor = !!this.parameters.vvColor, this._configuration.draped = this.parameters.draped, this._configuration;\n  }\n  createGLMaterial(e) {\n    return new T(e);\n  }\n  createBufferWriter() {\n    const e = r().vec3f(c.POSITION);\n    return has(\"enable-feature:objectAndLayerId-rendering\") && e.vec4u8(c.OBJECTANDLAYERIDCOLOR), this.parameters.vvColor ? e.f32(c.COLORFEATUREATTRIBUTE) : e.vec4u8(c.COLOR), new l(e);\n  }\n  get _isTransparent() {\n    return this.parameters.color[3] < 1 || this.parameters.forceTransparentMode;\n  }\n}\nclass T extends n {\n  _updateOccludeeState(e) {\n    e.hasOccludees !== this._material.parameters.hasOccludees && this._material.setParameters({\n      hasOccludees: e.hasOccludees\n    });\n  }\n  beginSlot(e) {\n    return this._output === t.Color && this._updateOccludeeState(e), this.ensureTechnique(f, e);\n  }\n}\nclass g extends m {\n  constructor() {\n    super(...arguments), this.color = e, this.forceTransparentMode = !1, this.writeDepth = !0, this.writeLinearDepth = !1, this.hasVertexColors = !1, this.polygonOffset = !1, this.hasSlicePlane = !1, this.cullFace = o.None, this.hasOccludees = !1, this.draped = !1;\n  }\n}\nexport { d as ColorMaterial, g as Parameters };"],
  "mappings": "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",
  "names": ["S", "r", "e", "t", "i", "s", "o", "f", "_", "t", "e", "o", "r", "d", "e", "g", "E", "r", "S", "t"]
}
