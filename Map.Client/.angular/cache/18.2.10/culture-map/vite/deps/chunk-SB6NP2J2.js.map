{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/DisplayFeatureLimit.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsCorePerformanceInfo.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/symbolMemory.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e {\n  constructor(e, m, t) {\n    this.maximumTotalNumberOfVertices = e, this.maximumNumberOfFeatures = m, this.averageSymbolComplexity = t;\n  }\n}\nexport { e as DisplayFeatureLimit };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport r from \"../../../../core/Evented.js\";\nimport { property as o } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { projectPoint as i } from \"../../../../geometry/projection.js\";\nimport { create as a } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { getObjectId as c } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nimport { OptimizedFeature as p } from \"../../../../layers/graphics/OptimizedFeature.js\";\nimport n from \"../../../../layers/graphics/OptimizedGeometry.js\";\nimport { optimizedFeatureQueryEngineAdapter as h } from \"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";\nconst d = a();\nlet l = class extends e {\n  constructor(t) {\n    super(t), this.events = new r(), this.hasZ = null, this.hasM = null, this.objectIdField = null, this.featureAdapter = {\n      getAttribute: (t, e) => \"graphic\" in t ? t.graphic.attributes[e] : h.getAttribute(t, e),\n      getAttributes: t => \"graphic\" in t ? t.graphic.attributes : h.getAttributes(t),\n      getObjectId: t => \"graphic\" in t ? c(t.graphic, this.objectIdField) ?? void 0 : h.getObjectId(t),\n      getGeometry: t => \"graphic\" in t ? t.getAsOptimizedGeometry(this.hasZ, this.hasM) : h.getGeometry(t),\n      getCentroid: (t, e) => {\n        if (\"graphic\" in t) {\n          let r = null;\n          null != t.centroid ? r = t.centroid : \"point\" === t.graphic.geometry.type && i(t.graphic.geometry, u, this.viewSpatialReference) && (r = u);\n          const o = new Array(2 + (e.hasZ ? 1 : 0) + (e.hasM ? 1 : 0));\n          return null == r ? (o[0] = 0, o[1] = 0, o[2] = 0, o[3] = 0) : (o[0] = r.x, o[1] = r.y, e.hasZ && (o[2] = r.hasZ ? r.z : 0), e.hasM && (o[e.hasZ ? 3 : 2] = r.hasM ? r.m : 0)), new n([], o);\n        }\n        return h.getCentroid(t, e);\n      },\n      cloneWithGeometry: (t, e) => \"graphic\" in t ? new p(e, this.featureAdapter.getAttributes(t), null, this.featureAdapter.getObjectId(t)) : h.cloneWithGeometry(t, e)\n    };\n  }\n  forEachInBounds(t, e) {\n    this.getSpatialIndex().forEachInBounds(t, e);\n  }\n  forEachBounds(t, e) {\n    const r = this.getSpatialIndex();\n    for (const o of t) {\n      const t = this.featureAdapter.getObjectId(o);\n      null != r.getBounds(t, d) && e(d);\n    }\n  }\n};\nt([o({\n  constructOnly: !0\n})], l.prototype, \"getSpatialIndex\", void 0), t([o({\n  constructOnly: !0\n})], l.prototype, \"forEach\", void 0), t([o({\n  constructOnly: !0\n})], l.prototype, \"hasZ\", void 0), t([o({\n  constructOnly: !0\n})], l.prototype, \"hasM\", void 0), t([o({\n  constructOnly: !0\n})], l.prototype, \"objectIdField\", void 0), t([o({\n  constructOnly: !0\n})], l.prototype, \"viewSpatialReference\", void 0), t([o({\n  constructOnly: !0\n})], l.prototype, \"featureSpatialReference\", void 0), l = t([s(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")], l);\nconst u = {\n  type: \"point\",\n  x: 0,\n  y: 0,\n  hasZ: !1,\n  hasM: !1,\n  spatialReference: null\n};\nexport { l as Graphics3DFeatureStore };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { result as r } from \"../../../../core/asyncUtils.js\";\nimport { destroyMaybe as o } from \"../../../../core/maybe.js\";\nimport { throwIfAborted as t } from \"../../../../core/promiseUtils.js\";\nimport { make as a } from \"./Graphics3DCalloutSymbolLayerFactory.js\";\nimport { LineCalloutSymbolLayerRenderingInfo as l } from \"./Graphics3DLineCalloutSymbolLayer.js\";\nimport { Graphics3DSymbol as e } from \"./Graphics3DSymbol.js\";\nclass s extends e {\n  constructor(r, o, t) {\n    super(r, o, t), this._calloutSymbolLayer = null, this.symbol.hasVisibleCallout() && (this._calloutSymbolLayer = a(this.symbol, o));\n  }\n  async doLoad(o) {\n    const a = this._calloutSymbolLayer ? r(this._calloutSymbolLayer.load()) : null;\n    try {\n      await super.doLoad(o), t(o);\n    } catch (l) {\n      throw this._calloutSymbolLayer?.abortLoad(), l;\n    }\n    a && (await a);\n  }\n  destroy() {\n    super.destroy(), this._calloutSymbolLayer = o(this._calloutSymbolLayer);\n  }\n  createGraphics3DGraphic(r, o) {\n    const t = super.createGraphics3DGraphic(r, o);\n    if (null != this._calloutSymbolLayer && null != t) {\n      const o = this._createCalloutGraphic(r);\n      o && t.setCalloutGraphic(o);\n    }\n    return t;\n  }\n  globalPropertyChanged(r, o) {\n    return !!super.globalPropertyChanged(r, o) && (!this._calloutSymbolLayer || this._calloutSymbolLayer.globalPropertyChanged(r, o, r => r.calloutLayer));\n  }\n  updateGeometry(r, o) {\n    const t = super.updateGeometry(r, o);\n    if (t && this._calloutSymbolLayer) {\n      const t = r.calloutLayer;\n      if (t) return this._calloutSymbolLayer.updateGeometry(t, o);\n    }\n    return t;\n  }\n  _createCalloutGraphic(r) {\n    const o = r.renderingInfo;\n    return r.renderingInfo = new l(o.renderer, o.symbol), this._calloutSymbolLayer.createGraphics3DGraphic(r);\n  }\n}\nexport { s as Graphics3DPointSymbol };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Graphics3DPointSymbol as o } from \"./Graphics3DPointSymbol.js\";\nimport { Graphics3DSymbol as r } from \"./Graphics3DSymbol.js\";\nfunction t(t, i, n) {\n  return \"point-3d\" === t.type ? new o(t, i, n) : new r(t, i, n);\n}\nexport { t as make };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass s {\n  constructor(s, i, t) {\n    this.visible = s, this.missing = i, this.pending = t;\n  }\n}\nexport { s as GraphicsCorePerformanceInfo };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { remove as t } from \"../../../../core/arrayUtils.js\";\nimport { makeHandle as i } from \"../../../../core/handleUtils.js\";\nimport { getObjectId as s } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nclass e {\n  constructor(t) {\n    this._graphicsCore = t, this._idToState = new Map(), this._states = new Set();\n    const i = t.owner.layer?.objectIdField;\n    i ? (this._getGraphicId = t => s(t, i), this._getGraphics3DGraphicById = t => this._graphicsCore.getGraphics3DGraphicByObjectId(t)) : (this._getGraphicId = t => t.uid, this._getGraphics3DGraphicById = t => this._graphicsCore.getGraphics3DGraphicById(t));\n  }\n  destroy() {\n    this._idToState.clear(), this._states.forEach((t, i) => this.remove(i));\n  }\n  add(t) {\n    const s = i(() => this.remove(t));\n    if (this._states.has(t)) return s;\n    const e = this._getGraphicId(t.graphic),\n      a = this._getGraphics3DGraphicById(e);\n    this._states.has(t) || this._states.add(t);\n    return this._ensureStateList(e).push(t), t.displaying = null != a && a.isVisible(), t.isDraped = null != a && a.isDraped, t.tracking = !0, null != a && t.emit(\"changed\"), s;\n  }\n  remove(i) {\n    if (this._states.has(i)) {\n      if (this._idToState.size) {\n        const s = this._getGraphicId(i.graphic),\n          e = this._idToState.get(s);\n        e && (t(e, i), 0 === e.length && this._idToState.delete(s));\n      }\n      this._states.delete(i), i.tracking = !1, i.displaying = !1;\n    }\n  }\n  addGraphic(t) {\n    this._forEachState(t, i => {\n      i.displaying = t.isVisible(), i.isDraped = t.isDraped, i.emit(\"changed\");\n    });\n  }\n  removeGraphic(t) {\n    this._forEachState(t, t => {\n      t.displaying = !1, t.isDraped = !1;\n    });\n  }\n  updateGraphicGeometry(t) {\n    this._forEachState(t, t => t.emit(\"changed\"));\n  }\n  updateGraphicVisibility(t) {\n    this._forEachState(t, i => i.displaying = t.isVisible());\n  }\n  allGraphicsDeleted() {\n    this._states.forEach(t => t.displaying = !1);\n  }\n  _ensureStateList(t) {\n    const i = this._idToState.get(t);\n    if (i) return i;\n    const s = new Array();\n    return this._idToState.set(t, s), s;\n  }\n  _forEachState(t, i) {\n    if (0 === this._states.size || 0 === this._idToState.size) return;\n    const s = this._getGraphicId(t.graphic),\n      e = this._idToState.get(s);\n    null != e && e.forEach(i);\n  }\n}\nexport { e as GraphicStateTracking };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport has from \"../../../../core/has.js\";\nimport { destroyMaybe as s } from \"../../../../core/maybe.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { PooledRBush as n } from \"../../../../core/libs/rbush/PooledRBush.js\";\nimport { fromRect as o } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { getObjectId as a } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nlet d = class extends e {\n  constructor(t) {\n    super(t), this._index = new n(9, has(\"esri-csp-restrictions\") ? t => ({\n      minX: t.extent[0],\n      minY: t.extent[1],\n      maxX: t.extent[2],\n      maxY: t.extent[3]\n    }) : [\".extent[0]\", \".extent[1]\", \".extent[2]\", \".extent[3]\"]), this._missing = new Set(), this._boundsByFeature = new Map(), this.spatialReference = null, this.hasZ = null, this.hasM = null, this.objectIdField = null, this.updating = !1;\n  }\n  setup(t) {\n    this._addMany(t);\n  }\n  destroy() {\n    this._missing.clear(), this._index = s(this._index), this._boundsByFeature.clear(), this._boundsByFeature = null;\n  }\n  update() {\n    this._missing.size > 0 && (this._addMany(Array.from(this._missing.values())), this.updating = !1, this._missing.clear());\n  }\n  get updatingRemaining() {\n    return this._missing.size;\n  }\n  queryGraphicUIDsInExtent(t, e, s) {\n    null != e && e.equals(this.spatialReference) && (u.minX = t[0], u.minY = t[1], u.maxX = t[2], u.maxY = t[3], this.update(), this._index.search(u, t => s(t.graphic.uid)));\n  }\n  add(t) {\n    this._missing.add(t), this.updating = !0;\n  }\n  remove(t) {\n    if (this._missing.delete(t)) return void (this.updating = this._missing.size > 0);\n    if (!t.extent) return;\n    this._index.remove(t);\n    const e = a(t.graphic, this._get(\"objectIdField\"));\n    null != e && this._boundsByFeature.delete(e);\n  }\n  _addMany(t) {\n    if (0 === t.length) return;\n    const e = this._get(\"objectIdField\");\n    for (const s of t) {\n      s.computeExtent(this.spatialReference);\n      const t = a(s.graphic, e);\n      null != t && this._boundsByFeature.set(t, s.extent);\n    }\n    this._index.load(t);\n  }\n  clear() {\n    this._index.clear(), this._missing.clear(), this._boundsByFeature.clear(), this.updating = !1;\n  }\n  forEachInBounds(t, e) {\n    u.minX = t[0], u.minY = t[1], u.maxX = t[2], u.maxY = t[3], this.update(), this._index.search(u, t => {\n      e(t);\n    });\n  }\n  getBounds(t, e) {\n    this.update();\n    const s = this._boundsByFeature.get(t);\n    return s ? o(e, s) : null;\n  }\n};\nt([i({\n  constructOnly: !0\n})], d.prototype, \"spatialReference\", void 0), t([i({\n  constructOnly: !0\n})], d.prototype, \"hasZ\", void 0), t([i({\n  constructOnly: !0\n})], d.prototype, \"hasM\", void 0), t([i({\n  constructOnly: !0\n})], d.prototype, \"objectIdField\", void 0), t([i()], d.prototype, \"updating\", void 0), t([i({\n  readOnly: !0\n})], d.prototype, \"updatingRemaining\", null), d = t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")], d);\nconst u = {\n  minX: 0,\n  minY: 0,\n  maxX: 0,\n  maxY: 0\n};\nexport { d as SpatialIndex2D };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e = 2216,\n  o = 4096;\nfunction r(r) {\n  return e + o * r.symbolLayers.length + r.complexity.memory.resourceBytes;\n}\nexport { r as getSymbolMemorySize };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport r from \"../../../../core/Evented.js\";\nimport o from \"../../../../core/Logger.js\";\nimport { getMetersPerVerticalUnitForSR as s } from \"../../../../core/unitUtils.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { c as a } from \"../../../../chunks/vec32.js\";\nimport { create as l } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { empty as c, toRect as d, expandWithVec3 as m } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { getMetersPerUnit as p } from \"../../../../symbols/support/unitConversionUtils.js\";\nimport { ElevationUpdateEvent as h } from \"../../support/ElevationUpdateEvent.js\";\nimport { newIntersector as u } from \"../../webgl-engine/lib/Intersector.js\";\nimport { StoreResults as f } from \"../../webgl-engine/lib/IntersectorInterfaces.js\";\nimport { affectsGeometry as g } from \"../../webgl-engine/lib/VertexAttribute.js\";\nconst _ = 1,\n  v = Symbol(\"layerHandles\");\nlet y = class extends r.EventedMixin(t) {\n  get spatialReference() {\n    return this.view?.spatialReference;\n  }\n  constructor(e) {\n    super(e), this._elevationOffset = 0;\n  }\n  initialize() {\n    this._renderCoordsHelper = this.view.renderCoordsHelper, this._intersectLayers = [this.stageLayer], this._intersector = u(this.view.state.viewingMode), this._intersector.options.store = f.MIN;\n    const e = this._computeLayerExtent(this.spatialReference, this.stageLayer);\n    this._zmin = e[2], this._zmax = e[5];\n    const t = this.stageLayer.events;\n    this.addHandles([t.on([\"layerObjectAdded\", \"layerObjectRemoved\", \"geometryAdded\", \"geometryRemoved\"], ({\n      object: e\n    }) => this._objectChanged(e)), t.on(\"attributesChanged\", ({\n      attribute: e,\n      object: t\n    }) => g(e) && this._objectChanged(t)), t.on([\"transformationChanged\", \"shaderTransformationChanged\"], e => this._objectChanged(e))], v);\n  }\n  dispose() {\n    this.removeHandles(v);\n  }\n  elevationInfoChanged() {\n    const e = null != this.layer ? this.layer.elevationInfo : null;\n    if (null != e && \"on-the-ground\" !== e.mode) {\n      const t = s(this.layer.spatialReference),\n        r = p(e.unit ?? \"meters\");\n      this._elevationOffset = (e.offset ?? 0) * r / t;\n    } else this._elevationOffset = 0;\n  }\n  getElevation(e, t, r, s) {\n    if (x[0] = e, x[1] = t, x[2] = r, !this._renderCoordsHelper.toRenderCoords(x, s, x)) return o.getLogger(this).error(\"could not project point for elevation alignment\"), null;\n    const i = this._elevationOffset,\n      n = this._zmin + i,\n      a = this._zmax + i;\n    this._renderCoordsHelper.setAltitude(C, a, x), this._renderCoordsHelper.setAltitude(E, n, x);\n    const l = e => !!e.lastValidElevationBB;\n    return this._intersector.reset(C, E, null), this._intersector.intersect(this._intersectLayers, null, _, null, l), this._intersector.results.min.getIntersectionPoint(x) ? this._renderCoordsHelper.getAltitude(x) : null;\n  }\n  _objectChanged(e) {\n    const t = this.spatialReference;\n    if (!e.lastValidElevationBB || !t) return;\n    c(j);\n    const r = e.lastValidElevationBB;\n    r.isEmpty() || this._expandExtent(t, r.min, r.max, j);\n    const {\n      min: o,\n      max: s\n    } = e.boundingVolumeWorldSpace;\n    this._expandExtent(t, o, s, j), d(j, b.extent), this._zmin = Math.min(this._zmin, j[2]), this._zmax = Math.max(this._zmax, j[5]), b.spatialReference = t, this.emit(\"elevation-change\", b), a(r.min, o), a(r.max, s);\n  }\n  _computeLayerExtent(e, t) {\n    return c(j), null != e && t.objects.forAll(t => this._expandExtent(e, t.boundingVolumeWorldSpace.min, t.boundingVolumeWorldSpace.max, j)), j;\n  }\n  _expandExtent(e, t, r, o) {\n    for (let s = 0; s < 8; ++s) x[0] = 1 & s ? t[0] : r[0], x[1] = 2 & s ? t[1] : r[1], x[2] = 4 & s ? t[2] : r[2], this._renderCoordsHelper.fromRenderCoords(x, x, e), m(o, x);\n    return o;\n  }\n};\ne([i({\n  constructOnly: !0\n})], y.prototype, \"layer\", void 0), e([i({\n  constructOnly: !0\n})], y.prototype, \"stageLayer\", void 0), e([i({\n  constructOnly: !0\n})], y.prototype, \"view\", void 0), e([i()], y.prototype, \"spatialReference\", null), y = e([n(\"esri.views.3d.layers.support.StageLayerElevationProvider\")], y);\nconst j = c(),\n  b = new h(),\n  x = l(),\n  C = l(),\n  E = l();\nexport { y as StageLayerElevationProvider };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport \"../../../../renderers/ClassBreaksRenderer.js\";\nimport \"../../../../renderers/DictionaryRenderer.js\";\nimport \"../../../../renderers/DotDensityRenderer.js\";\nimport \"../../../../renderers/HeatmapRenderer.js\";\nimport \"../../../../renderers/PieChartRenderer.js\";\nimport \"../../../../renderers/Renderer.js\";\nimport \"../../../../renderers/SimpleRenderer.js\";\nimport t from \"../../../../renderers/UniqueValueRenderer.js\";\nimport \"../../../../renderers/support/jsonUtils.js\";\nimport i from \"../../../../core/Logger.js\";\nimport \"../../../../symbols.js\";\nimport r from \"../../../../core/Accessor.js\";\nimport { isSome as s } from \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport a from \"../../../../core/Error.js\";\nimport { makeHandle as n } from \"../../../../core/handleUtils.js\";\nimport { someMap as o, findInMap as l } from \"../../../../core/MapUtils.js\";\nimport { removeMaybe as h, destroyMaybe as d, disposeMaybe as p } from \"../../../../core/maybe.js\";\nimport { MinPriority as c } from \"../../../../core/MemCache.js\";\nimport y from \"../../../../core/PooledArray.js\";\nimport { throwIfAborted as g, createResolver as u, isAbortError as m, ignoreAbortErrors as b } from \"../../../../core/promiseUtils.js\";\nimport { watch as _, when as f, on as v, syncAndInitial as C, whenOnce as S } from \"../../../../core/reactiveUtils.js\";\nimport { schedule as G } from \"../../../../core/scheduling.js\";\nimport { property as w } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport { subclass as R } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { diff as x, isEmpty as P } from \"../../../../core/accessorSupport/diffUtils.js\";\nimport { s as D, g as E, j as I } from \"../../../../chunks/vec32.js\";\nimport { create as U } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { canProjectWithoutEngine as A } from \"../../../../geometry/projection.js\";\nimport { projectBuffer as L } from \"../../../../geometry/projection/projectBuffer.js\";\nimport { projectVectorToVector as j } from \"../../../../geometry/projection/projectVectorToVector.js\";\nimport { projectXYZToVector as O } from \"../../../../geometry/projection/projectXYZToVector.js\";\nimport { create as V, center as F, fromRect as M, equals as T } from \"../../../../geometry/support/aaBoundingBox.js\";\nimport { create as z } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { equals as k } from \"../../../../geometry/support/spatialReferenceUtils.js\";\nimport W from \"../../../../layers/Layer.js\";\nimport { getObjectId as H, computeAABB as N, hasGeometry as B } from \"../../../../layers/graphics/dehydratedFeatures.js\";\nimport { hydrateGraphic as q } from \"../../../../layers/graphics/hydratedFeatures.js\";\nimport { PromiseQueue as Y } from \"../../../../layers/support/PromiseQueue.js\";\nimport { isSupportedRenderer3D as Q, validateTo3D as $ } from \"../../../../renderers/support/rendererConversion.js\";\nimport { loadArcade as Z } from \"../../../../support/arcadeOnDemand.js\";\nimport { isBasemapLayer as J } from \"../../../../support/basemapUtils.js\";\nimport { getDefaultSymbol3D as X } from \"../../../../symbols/support/defaults3D.js\";\nimport { to3D as K } from \"../../../../symbols/support/symbolConversion.js\";\nimport { averageSymbolComplexities as ee, defaultSymbolComplexity as te } from \"./defaultSymbolComplexity.js\";\nimport { DisplayFeatureLimit as ie } from \"./DisplayFeatureLimit.js\";\nimport { ViewElevationProvider as re } from \"./ElevationQuery.js\";\nimport { VisibilityGroup as se, VisibilityFlag as ae } from \"./enums.js\";\nimport { extractExpressionInfo as ne, createContext as oe } from \"./featureExpressionInfoUtils.js\";\nimport { Graphics3DFeatureStore as le } from \"./Graphics3DFeatureStore.js\";\nimport { Graphics3DGraphicCreationContext as he } from \"./Graphics3DGraphicCreationContext.js\";\nimport { Graphics3DSymbolCreationContext as de } from \"./Graphics3DSymbolCreationContext.js\";\nimport { make as pe } from \"./Graphics3DSymbolFactory.js\";\nimport { Graphics3DWebStyleSymbol as ce } from \"./Graphics3DWebStyleSymbol.js\";\nimport { GraphicsCorePerformanceInfo as ye } from \"./GraphicsCorePerformanceInfo.js\";\nimport { GraphicStateTracking as ge } from \"./GraphicStateTracking.js\";\nimport { computeCentroid as ue } from \"./graphicUtils.js\";\nimport { ApplyRendererDiffResult as me } from \"./interfaces.js\";\nimport { LoadStatus as be } from \"./Loadable.js\";\nimport { SpatialIndex2D as _e } from \"./SpatialIndex2D.js\";\nimport { getSymbolMemorySize as fe } from \"./symbolMemory.js\";\nimport { StageLayerElevationProvider as ve } from \"../support/StageLayerElevationProvider.js\";\nimport { toBoundingRect as Ce } from \"../../support/extentUtils.js\";\nimport { PropertiesPool as Se } from \"../../support/PropertiesPool.js\";\nimport { GridLocalOriginFactory as Ge } from \"../../webgl-engine/lib/GridLocalOriginFactory.js\";\nimport { UpdatePolicy as we } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nimport { affectsGeometry as Re } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { WebGLLayer as xe } from \"../../webgl-engine/lib/WebGLLayer.js\";\nimport { hasPopupTemplate as Pe } from \"../../../layers/support/popupUtils.js\";\nimport { ImmediateTask as De, noBudget as Ee, TaskPriority as Ie } from \"../../../support/Scheduler.js\";\nimport { Yield as Ue } from \"../../../support/Yield.js\";\nimport Ae from \"../../../../geometry/Extent.js\";\nimport Le from \"../../../../geometry/Point.js\";\nimport je from \"../../../../symbols/LabelSymbol3D.js\";\nimport Oe from \"../../../../symbols/TextSymbol.js\";\nimport Ve from \"../../../../symbols/WebStyleSymbol.js\";\nvar Fe;\nconst Me = U(),\n  Te = V();\nlet ze = Fe = class extends r {\n  get _viewSpatialReference() {\n    return this.owner.view.spatialReference;\n  }\n  get spatialIndex() {\n    return this._spatialIndex || (this._spatialIndex = new _e({\n      objectIdField: this.owner.layer?.objectIdField,\n      spatialReference: this._viewSpatialReference,\n      hasZ: !!this.hasZ,\n      hasM: !!this.hasM\n    }), this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))), this._spatialIndex.update(), this._spatialIndex;\n  }\n  get deconflictor() {\n    return this._deconflictor;\n  }\n  get labeler() {\n    return this._labeler;\n  }\n  get numberOfGraphics() {\n    return this._numberOfGraphics;\n  }\n  get effectiveUpdatePolicy() {\n    return null != this.currentRenderer && \"dictionary\" === this.currentRenderer.type ? we.ASYNC : this._forcedUpdatePolicy ?? this.preferredUpdatePolicy;\n  }\n  get featureStore() {\n    return this._featureStore;\n  }\n  get initializePromise() {\n    return this._initializePromise;\n  }\n  get scaleVisibility() {\n    return this._scaleVisibility;\n  }\n  get elevationAlignment() {\n    return this._elevationAlignment;\n  }\n  get objectStates() {\n    return this._objectStates;\n  }\n  get filterVisibility() {\n    return this._filterVisibility;\n  }\n  get updating() {\n    return !!(this.dataUpdating || this._elevationAlignment?.updating || this._scaleVisibility?.updating || this._filterVisibility?.updating || this._rendererChangeAbortController || this._elevationInfoChangeAbortController || this._frameTaskHandle.updating || this.running);\n  }\n  get dataUpdating() {\n    return !!(this._graphicsWaitingForSymbol.size > 0 || this._pendingUpdates.size > 0 || this._spatialIndex?.updating || this._updatingPendingLoadedGraphicsChange || this._dataUpdateQueue.running || this._loadingSymbols > 0);\n  }\n  get running() {\n    return this._pendingUpdates.size > 0 || !!this._spatialIndex?.updating || this._dataUpdateQueue.running || this._updateQueue.running;\n  }\n  get suspendedOrOutsideOfView() {\n    return this.owner.suspended || !!this.owner.suspendInfo?.outsideOfView;\n  }\n  get updatingRemaining() {\n    return this.updating ? this._pendingUpdates.size + .1 * (this._spatialIndex?.updatingRemaining || 0) + .1 * (this._elevationAlignment?.updatingRemaining || 0) : 0;\n  }\n  get displayFeatureLimit() {\n    const e = this.owner && this.owner.view && this.owner.view.qualitySettings,\n      t = e?.graphics3D.minTotalNumberOfFeatures ?? 0,\n      i = e?.graphics3D.maxTotalNumberOfFeatures ?? 0,\n      r = e?.graphics3D.maxNumberOfDrawCalls ?? 0,\n      s = e?.graphics3D.maxTotalNumberOfVertices ?? 0,\n      a = this.averageSymbolComplexity,\n      n = Math.max(1, a?.verticesPerFeature ?? 1),\n      o = a && a.drawCallsPerFeature > 0 && r > 0 ? r / a.drawCallsPerFeature : i,\n      l = Math.ceil(s / n),\n      h = Math.max(t, Math.min(i, l, o)),\n      d = this._get(\"displayFeatureLimit\");\n    return d && d.maximumTotalNumberOfVertices === s && d.averageSymbolComplexity === a && d.maximumNumberOfFeatures === h ? d : new ie(s, h, a);\n  }\n  get averageSymbolComplexity() {\n    const e = ee(this._symbolComplexities),\n      t = this._get(\"averageSymbolComplexity\");\n    return 0 === e.numComplexities || null != t && (e.estimated && (t.verticesPerFeature >= e.verticesPerFeature || t.verticesPerCoordinate >= e.verticesPerCoordinate || t.drawCallsPerFeature >= e.drawCallsPerFeature) || t.verticesPerFeature === e.verticesPerFeature && t.verticesPerCoordinate === e.verticesPerCoordinate && t.drawCallsPerFeature === e.drawCallsPerFeature) ? t : e;\n  }\n  get usedMemory() {\n    const e = null != this.averageSymbolComplexity && this.labelsEnabled ? this.averageSymbolComplexity.memory.bytesPerFeatureLabel * this._numberOfGraphics : 0,\n      t = this._getSymbolComplexitiesUsed().reduce((e, t) => e + t.memory.resourceBytes, 0);\n    if (null == this._symbolMaterials) {\n      this._symbolMaterials = [];\n      for (const e of this._symbols.values()) if (null != e) for (const t of e.symbolLayers) if (t) for (const e of t.materials) e && this._symbolMaterials.push(e);\n    }\n    const i = this.owner.view._stage.renderer.plugins,\n      r = this.owner.view.basemapTerrain.overlayManager.renderer,\n      s = this._symbolMaterials.reduce((e, t) => e + ((i.getMaterialRenderer(t) || r.getMaterialRenderer(t))?.usedMemory ?? 0), 0);\n    return this._usedMemory + e + t + s;\n  }\n  get usedMemoryPerGraphic() {\n    if (this._usedMemory && this._numberOfGraphics) {\n      const e = this._numberOfGraphics / (this._numberOfGraphics + Math.max(this._pendingAdds, this._pendingRemoves));\n      return this._usedMemory / this._numberOfGraphics * e;\n    }\n    if (null != this.averageSymbolComplexity) {\n      const e = this.labelsEnabled ? this.averageSymbolComplexity.memory.bytesPerFeatureLabel : 0;\n      return this.averageSymbolComplexity.memory.bytesPerFeature + e;\n    }\n    return 0;\n  }\n  get unprocessedMemoryEstimate() {\n    return (this._pendingAdds - this._pendingRemoves) * this.usedMemoryPerGraphic;\n  }\n  get _symbolComplexities() {\n    return this.currentRenderer ? this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer) : this._getSymbolComplexitiesUsed();\n  }\n  get visible() {\n    return this._visible;\n  }\n  _getConvertedSymbol(e) {\n    if (\"web-style\" === e.type) return e.clone();\n    const t = this._symbolConversionCache.get(e.id);\n    if (null != t) return t;\n    const r = K(e, {\n        geometryType: this.layer?.geometryType ?? void 0,\n        retainId: !0,\n        hasLabelingContext: this._hasLabelingContext(e),\n        cimFallbackEnabled: !0\n      }),\n      s = r.symbol || null;\n    return null == s && r.error && i.getLogger(this).error(r.error.message), this._symbolConversionCache.set(e.id, s), s;\n  }\n  _getSymbolComplexitiesUsedOrRenderer(e) {\n    if (null == e) return [];\n    const t = e.getSymbols(),\n      i = \"backgroundFillSymbol\" in e ? e.backgroundFillSymbol : null;\n    if (!i && !t?.length) return [];\n    const r = [],\n      s = this._getSymbolComplexityUsedOrRenderer(i);\n    null != s && r.push(s);\n    for (const a of t) {\n      const e = this._getSymbolComplexityUsedOrRenderer(a);\n      null != e && r.push(e);\n    }\n    return r;\n  }\n  _getSymbolComplexityUsedOrRenderer(e) {\n    if (null == e) return null;\n    const t = this._symbols.get(e.id);\n    if (null != t) return t.complexity;\n    const i = this._getConvertedSymbol(e);\n    return null != i ? te(i) : null;\n  }\n  _getSymbolComplexitiesUsed() {\n    const e = [];\n    return this._symbols.forEach(t => {\n      null != t && e.push(t.complexity);\n    }), e;\n  }\n  get _objectIdField() {\n    return this.layer.objectIdField;\n  }\n  constructor(e) {\n    super(e), this._propertiesPool = new Se({\n      computedExtent: Ae\n    }, this), this.computedExtent = null, this.currentRenderer = null, this.rendererHasGeometryOperations = !1, this._graphicStateTracking = null, this.graphics3DGraphics = new Map(), this.stageLayer = null, this.stage = null, this._graphicsDrapedUids = new Set(), this._graphicsBySymbol = new Map(), this._symbolConversionCache = new Map(), this._symbols = new Map(), this._graphicsWithoutSymbol = new Map(), this._graphicsWaitingForSymbol = new Map(), this._graphicsUpdateId = 0, this._frameTaskHandle = De, this._dataUpdateQueue = new Y(), this._updateQueue = new Y(), this._suspendSymbolCleanup = !1, this._arcadeOnDemand = null, this._rendererChangeAbortController = null, this._elevationInfoChangeAbortController = null, this._initializeAbortController = null, this._elevationAlignment = null, this._scaleVisibility = null, this._filterVisibility = null, this._spatialIndex = null, this.extentPadding = 0, this._updatingPendingLoadedGraphicsChange = null, this._featureStore = null, this._deconflictor = null, this._labeler = null, this._objectStates = null, this._viewElevationProvider = null, this._stageLayerElevationProvider = null, this._sharedSymbolResourcesOwnerHandle = null, this._whenGraphics3DGraphicRequests = {}, this._pendingUpdates = new Map(), this._numberOfGraphics = 0, this._numberOfGraphicsProvidingElevation = 0, this._pendingAdds = 0, this._pendingRemoves = 0, this._applyPendingRemovesFirst = !1, this._loadingSymbols = 0, this._pendingUpdatesPool = new y({\n      allocator: e => e || new We(),\n      deallocator: e => (e.clear(), e)\n    }), this._symbolWarningLogged = !1, this._geometryWarningLogged = !1, this._objectIdInvisibleSet = new Set(), this._whenSymbolRemoved = new y(), this.preferredUpdatePolicy = we.SYNC, this._forcedUpdatePolicy = null, this.elevationFeatureExpressionEnabled = !0, this.owner = null, this.layer = null, this.graphicSymbolSupported = !0, this.getRenderingInfoWithoutRenderer = !1, this.setUidToIdOnAdd = !0, this.hasZ = null, this.hasM = null, this._usedMemory = 0, this._visible = !1, this._startCreateGraphics = !1, this._unusedSymbolsCache = e.owner.view.resourceController.memoryController.newCache(\"graphics-3d-unused-symbols\", e => e.destroy()), this.symbolCreationContext = new de(e.owner.view.resourceController.scheduler, (e, t) => this._updateQueue.push(e, t));\n  }\n  initialize() {\n    this._featureStore = new le({\n      objectIdField: this.owner.layer?.objectIdField,\n      hasZ: !!this.hasZ,\n      hasM: !!this.hasM,\n      viewSpatialReference: this._viewSpatialReference,\n      featureSpatialReference: this.owner.featureSpatialReference,\n      getSpatialIndex: () => this.spatialIndex,\n      forEach: e => this.graphics3DGraphics.forEach(e)\n    });\n    const e = (e, t, i) => this.spatialIndex.queryGraphicUIDsInExtent(e, t, i),\n      {\n        componentFactories: t\n      } = this;\n    this._elevationAlignment = t.elevationAlignment?.(this, e), this._scaleVisibility = t.scaleVisibility?.(this, e), this._filterVisibility = t.filterVisibility?.({\n      featureStore: this._featureStore,\n      getFeatureCount: () => this.graphics3DGraphics.size,\n      updateFeatureVisibilities: e => this.modifyGraphics3DGraphicVisibilities(t => t.setVisibilityFlag(se.GRAPHIC, ae.FILTER, e(H(t.graphic, this._objectIdField)))),\n      setAllFeaturesVisibility: e => this.modifyGraphics3DGraphicVisibilities(t => t.setVisibilityFlag(se.GRAPHIC, ae.FILTER, e)),\n      clearFeaturesVisibility: () => this.modifyGraphics3DGraphicVisibilities(e => e.setVisibilityFlag(se.GRAPHIC, ae.FILTER, !0))\n    }), this._deconflictor = t.deconflictor?.(this), this._labeler = t.labeler?.(this, this._scaleVisibility), this._objectStates = t.objectStates?.(this), this._initializeAbortController = new AbortController(), this._initializePromise = this._initializeAsync();\n  }\n  async _initializeAsync() {\n    const e = this._initializeAbortController?.signal,\n      t = this.owner.view;\n    this._viewElevationProvider = new re(this._viewSpatialReference, t), this._initializeStage(t, this.layer.uid);\n    const r = t.sharedSymbolResources;\n    this.symbolCreationContext.sharedResources = r, this._sharedSymbolResourcesOwnerHandle = r.addGraphicsOwner(this.owner), null != this.currentRenderer && (this.symbolCreationContext.renderer = this.currentRenderer), this.symbolCreationContext.stage = this.stage, this.symbolCreationContext.streamDataRequester = r.streamDataRequester, this.symbolCreationContext.renderCoordsHelper = t.renderCoordsHelper, this.symbolCreationContext.layer = this.layer, this.symbolCreationContext.graphicsCoreOwner = this.owner, this.symbolCreationContext.localOriginFactory = new Ge(t.renderSpatialReference), this.symbolCreationContext.elevationProvider = t.elevationProvider, this.symbolCreationContext.notifyGraphicGeometryChanged = e => this.notifyGraphicGeometryChanged(e), this.symbolCreationContext.notifyGraphicVisibilityChanged = e => this.notifyGraphicVisibilityChanged(e);\n    const s = ne(this.layer.elevationInfo, this.elevationFeatureExpressionEnabled);\n    if (this.symbolCreationContext.featureExpressionInfoContext = await oe(s, this._viewSpatialReference, e, i.getLogger(this)), g(e), this.symbolCreationContext.screenSizePerspectiveEnabled = t.screenSizePerspectiveEnabled && !!this.layer.screenSizePerspectiveEnabled, this.symbolCreationContext.slicePlaneEnabled = !!this.owner.slicePlaneEnabled, this.symbolCreationContext.physicalBasedRenderingEnabled = !!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled, this.symbolCreationContext.skipHighSymbolLods = !!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods, \"drapeSourceType\" in this.owner) {\n      const {\n        owner: e\n      } = this;\n      this.symbolCreationContext.drapeSourceRenderer = t.basemapTerrain.overlayManager.registerGeometryDrapeSource(e), this.addHandles(n(() => t.basemapTerrain.overlayManager.unregisterDrapeSource(e)));\n    }\n    this.addHandles([_(() => this.suspendedOrOutsideOfView, () => this._updateQueue.unshift(() => this._updateLayerVisibility(), null).catch(b)), _(() => [this.layer?.screenSizePerspectiveEnabled, this.owner.view?.screenSizePerspectiveEnabled], () => {\n      const e = t.screenSizePerspectiveEnabled && !!this.layer.screenSizePerspectiveEnabled;\n      e !== this.symbolCreationContext.screenSizePerspectiveEnabled && (this.symbolCreationContext.screenSizePerspectiveEnabled = e, this._labeler?.reset(), this.recreateAllGraphicsAndSymbols());\n    }), _(() => this.owner.slicePlaneEnabled, e => this._slicePlaneEnabledChange(!!e)), _(() => this.owner.view.state?.rasterPixelRatio, () => this._pixelRatioChange()), _(() => !!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled, e => this._physicalBasedRenderingChange(e)), _(() => !!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods, e => this._skipHighSymbolLoDsChange(e)), f(() => t.basemapTerrain?.tilingScheme, e => {\n      if (e.spatialReference.equals(this.symbolCreationContext.overlaySR) || null == t.basemapTerrain.spatialReference || (this.symbolCreationContext.overlaySR = t.basemapTerrain.spatialReference), this.hasHandles(\"loaded-graphics\")) this.recreateAllGraphics();else {\n        const e = () => this.owner?.loadedGraphics;\n        this.addHandles([v(e, \"change\", e => {\n          this._graphicsCollectionChanged(e), this._signalUpdatingDuringAsyncLoadedGraphicsChange();\n        }, {\n          onListenerAdd: () => {\n            this.recreateAllGraphics(), this._signalUpdatingDuringAsyncLoadedGraphicsChange();\n          }\n        })], \"loaded-graphics\");\n      }\n    }, {\n      initial: !0\n    }), _(() => this.effectiveUpdatePolicy, e => {\n      null != this.stageLayer && (this.stageLayer.updatePolicy = e), this.symbolCreationContext.isAsync = this.effectiveUpdatePolicy === we.ASYNC, e === we.SYNC && this.runTask(Ee);\n    }, C)]), this._frameTaskHandle = t.resourceController.scheduler.registerTask(Ie.GRAPHICS_CORE, this), this.layer && \"featureReduction\" in this.layer && this.addHandles(_(() => this.layer.featureReduction, () => this._deconflictor?.featureReductionChange())), this.notifyChange(\"averageSymbolComplexity\"), this.rendererChange(this.owner.renderer).catch(() => {}), this._initializeAbortController = null;\n  }\n  _abortInitialize() {\n    this._initializeAbortController && (this._initializeAbortController.abort(), this._initializeAbortController = null);\n  }\n  destroy() {\n    this._unusedSymbolsCache.destroy(), this._abortInitialize(), this._abortRendererChange(), this._abortElevationInfoChange(), this._frameTaskHandle.remove(), this._frameTaskHandle = De, this._dataUpdateQueue.cancelAll(), this._updateQueue.cancelAll(), this._deconflictor = h(this._deconflictor), this._labeler = h(this._labeler), this._elevationAlignment = d(this._elevationAlignment), this._scaleVisibility = d(this._scaleVisibility), this._filterVisibility = d(this._filterVisibility), this._objectStates = d(this._objectStates), this.clear(), this._featureStore = d(this._featureStore), this._updatingPendingLoadedGraphicsChange = h(this._updatingPendingLoadedGraphicsChange), this._graphicStateTracking = d(this._graphicStateTracking), this.stage && (this.stageLayer = d(this.stageLayer), this.stage = null), this._set(\"owner\", null);\n    for (const e in this._whenGraphics3DGraphicRequests) this._whenGraphics3DGraphicRequests[e].reject(new a(\"graphic:layer-destroyed\", \"Layer has been destroyed\"));\n    this._whenGraphics3DGraphicRequests = null, this._sharedSymbolResourcesOwnerHandle = h(this._sharedSymbolResourcesOwnerHandle), this._propertiesPool = d(this._propertiesPool), this._pendingUpdatesPool = null, this._symbolConversionCache.clear(), this._objectIdInvisibleSet.clear(), this._spatialIndex = d(this._spatialIndex);\n  }\n  clear() {\n    this._objectStates?.allGraphicsDeleted(), null != this._graphicStateTracking && this._graphicStateTracking.allGraphicsDeleted(), this.graphics3DGraphics.forEach(e => e.destroy()), this._spatialIndex?.clear(), this.graphics3DGraphics.clear(), this._numberOfGraphics = 0, this._usedMemory = 0, this._updateLayerVisibility(), this._symbols.forEach(d), this._symbols.clear(), this._symbolMaterials = null, this._graphicsBySymbol.clear(), this._graphicsWithoutSymbol.clear(), this._graphicsWaitingForSymbol.clear(), this._pendingUpdates.clear(), this._pendingUpdatesPool.clear(), this._pendingAdds = 0, this._pendingRemoves = 0, this._applyPendingRemovesFirst = !1, this.notifyChange(\"dataUpdating\"), this.notifyChange(\"running\"), this.notifyChange(\"updatingRemaining\"), this._featureStore.events.emit(\"changed\");\n  }\n  _initializeStage(e, t) {\n    this.stage = e._stage, this.stageLayer = new xe(this.stage, {\n      pickable: !this.suspendedOrOutsideOfView,\n      updatePolicy: this.effectiveUpdatePolicy\n    }, t);\n    const i = this.stageLayer.events;\n    i.on(\"transformationChanged\", e => this.notifyGraphicGeometryChanged(e.graphicUid)), i.on(\"shaderTransformationChanged\", e => this.notifyGraphicGeometryChanged(e.graphicUid)), i.on(\"visibilityChanged\", e => this.notifyGraphicVisibilityChanged(e.graphicUid)), i.on(\"geometryAdded\", e => this.notifyGraphicGeometryChanged(e.object.graphicUid)), i.on(\"geometryRemoved\", e => this.notifyGraphicGeometryChanged(e.object.graphicUid)), i.on(\"attributesChanged\", e => Re(e.attribute) && this.notifyGraphicGeometryChanged(e.object.graphicUid));\n  }\n  notifyGraphicGeometryChanged(e) {\n    if (null == this._graphicStateTracking || null == e) return;\n    const t = this.graphics3DGraphics.get(e);\n    t && this._graphicStateTracking.updateGraphicGeometry(t);\n  }\n  notifyGraphicVisibilityChanged(e) {\n    if (null == this._graphicStateTracking || null == e) return;\n    const t = this.graphics3DGraphics.get(e);\n    t && this._graphicStateTracking.updateGraphicVisibility(t);\n  }\n  _updateLayerVisibility() {\n    const e = this.displayFeatureLimit.maximumNumberOfFeatures,\n      t = this._numberOfGraphics > e * He,\n      i = !this.suspendedOrOutsideOfView && !t;\n    i !== this._visible && (this._visible = i, i ? (this.stageLayer.pickable = !0, this.updateAllGraphicsVisibility()) : (this.stageLayer.pickable = !1, this._hideAllGraphics()), this._updateStageLayerVisibility());\n  }\n  _updateStageLayerVisibility() {\n    this.stageLayer.visible = this._visible && (null == this.layer.opacity || this.layer.opacity > 0);\n  }\n  getGraphics3DGraphicById(e) {\n    return null != e ? this.graphics3DGraphics.get(e) : void 0;\n  }\n  getGraphics3DGraphicByObjectId(e) {\n    return this.owner.layer?.objectIdField ? this._findGraphics3DGraphicByObjectId(e) : null;\n  }\n  _getGraphicObjectID(e, t = this.owner.layer?.objectIdField) {\n    return H(e, t);\n  }\n  get graphics3DGraphicsByObjectID() {\n    const e = this.owner.layer?.objectIdField;\n    if (!e) return;\n    const t = new Map();\n    return this.graphics3DGraphics.forEach(i => {\n      if (!i) return;\n      const r = i.graphic,\n        s = this._getGraphicObjectID(r, e);\n      null != s && t.set(s, i);\n    }), t;\n  }\n  get labelsEnabled() {\n    return !!this._labeler?.layerLabelsEnabled();\n  }\n  async updateLabelingInfo(e) {\n    const t = this._deconflictor?.labelingInfoChange(e),\n      i = this._labeler?.labelingInfoChange(e);\n    await Promise.allSettled([t, i]);\n  }\n  updateVisibilityInfo() {\n    this._deconflictor?.labelingInfoChange(), this._labeler?.visibilityInfoChange();\n  }\n  get symbolUpdateType() {\n    if (this._pendingUpdates.size > 0) return \"unknown\";\n    let e = 0,\n      t = 0;\n    return o(this._symbols, (i, r) => {\n      if (null != i) {\n        const s = i.getFastUpdateStatus();\n        if (s.loading > 0) return !0;\n        this._graphicsBySymbol.has(r) && (t += s.fast, e += s.slow);\n      }\n      return !1;\n    }) ? \"unknown\" : t >= 0 && 0 === e ? \"fast\" : e >= 0 && 0 === t ? \"slow\" : \"mixed\";\n  }\n  runTask(e) {\n    if (this._dataUpdateQueue.runTask(e), this._updateQueue.runTask(e), this._applyPendingUpdates(e), this.notifyChange(\"running\"), this.running || this.notifyChange(\"dataUpdating\"), this.notifyChange(\"updatingRemaining\"), !e.hasProgressed) return Ue;\n  }\n  setObjectIdVisibility(e, t) {\n    t ? this._objectIdInvisibleSet.delete(e) : this._objectIdInvisibleSet.add(e);\n    const i = this._findGraphics3DGraphicByObjectId(e);\n    null != i && this._updateUserVisibility(i);\n  }\n  _findGraphics3DGraphicByObjectId(e) {\n    return l(this.graphics3DGraphics, t => this._getGraphicObjectID(t.graphic) === e);\n  }\n  _updateUserVisibility(e) {\n    if (null == e) return !1;\n    const t = e.graphic,\n      i = this._getGraphicObjectID(t),\n      r = t.visible && !this.owner.suspended && (null == i || !this._objectIdInvisibleSet.has(i));\n    return e.setVisibilityFlag(se.GRAPHIC, ae.USER, r);\n  }\n  _whenGraphics3DGraphic(e) {\n    const t = this.graphics3DGraphics.get(e.uid);\n    if (t) return Promise.resolve(t);\n    const i = this._whenGraphics3DGraphicRequests[e.uid];\n    if (i) return i.promise;\n    const r = u();\n    return this._whenGraphics3DGraphicRequests[e.uid] = r, r.promise;\n  }\n  async _boundsForGraphics3DGraphic(e, t) {\n    const i = this._viewSpatialReference,\n      r = this.owner.view.renderSpatialReference,\n      s = this.owner.view.basemapTerrain.spatialReference,\n      a = (e, t, s) => L(e, r, t, e, i, t, s),\n      n = (e, t, r) => L(e, s, t, e, i, t, r),\n      o = this._viewElevationProvider ? {\n        service: this._viewElevationProvider,\n        useViewElevation: null != t && !!t.useViewElevation,\n        minDemResolution: null != t ? t.minDemResolution : null,\n        minDemResolutionForPoints: this.owner.view.resolution\n      } : null,\n      l = await e.getProjectedBoundingBox(a, n, o, t?.signal);\n    if (!l) return null;\n    const h = l.boundingBox;\n    if (l.requiresDrapedElevation) {\n      const e = this.symbolCreationContext.elevationProvider;\n      if (e) {\n        F(h, Me);\n        const t = e.getElevation(Me[0], Me[1], 0, i, \"ground\") ?? 0;\n        h[2] = Math.min(h[2], t), h[5] = Math.max(h[5], t);\n      }\n    }\n    return {\n      boundingBox: h,\n      screenSpaceObjects: l.screenSpaceObjects\n    };\n  }\n  async whenGraphicBounds(e, t) {\n    await S(() => this.owner?.loadedGraphics);\n    const i = this.owner.layer?.objectIdField,\n      r = this.owner.loadedGraphics.find(t => t === e || null != i && null != t.attributes && e.attributes && t.attributes[i] === e.attributes[i]);\n    if (!r) throw new a(\"internal:graphic-not-part-of-view\", \"Graphic is not part of this view\");\n    const s = await this._whenGraphics3DGraphic(r);\n    return this._boundsForGraphics3DGraphic(s, t);\n  }\n  computeAttachmentOrigin(e, t) {\n    const i = this.graphics3DGraphics.get(e.uid);\n    if (!i) return null;\n    const r = i.computeAttachmentOrigin();\n    if (0 === r.render.num && 0 === r.draped.num) return null;\n    D(Ne, 0, 0, 0);\n    let s = 0;\n    if (r.render.num > 0) {\n      if (!j(r.render.origin, this.symbolCreationContext.renderCoordsHelper.spatialReference, Be, t)) return null;\n      E(Ne, Ne, Be), s++;\n    }\n    if (r.draped.num > 0) {\n      const [e, i] = r.draped.origin,\n        a = this._viewElevationProvider.getElevation(e, i, \"ground\") ?? 0;\n      if (D(Be, e, i, a), !j(Be, this._viewElevationProvider.spatialReference, Be, t)) return null;\n      E(Ne, Ne, Be), s++;\n    }\n    return s > 1 && I(Ne, Ne, 1 / s), new Le({\n      x: Ne[0],\n      y: Ne[1],\n      z: Ne[2],\n      spatialReference: t\n    });\n  }\n  getSymbolLayerSize(e, t) {\n    const i = this._symbols.get(e.id);\n    if (null == i) throw new a(\"internal:symbol-not-part-of-view\", \"Symbol is not part of this view\");\n    const r = e.symbolLayers.indexOf(t);\n    if (-1 === r) throw new a(\"internal:missing-symbol-layer\", \"Symbol layer is not in symbol\");\n    const s = i.getSymbolLayerSize(r);\n    if (null == s) throw new a(\"internal:missing-size\", \"Symbol layer has no valid size\");\n    return s;\n  }\n  _graphicsCollectionChanged(e) {\n    this._startCreateGraphics && (this.add(e.added), this.remove(e.removed));\n  }\n  graphicUpdateHandler(e) {\n    const t = e.graphic.uid,\n      i = this.graphics3DGraphics.get(t);\n    if (null != i || null != this._graphicsWithoutSymbol.get(t)) switch (e.property) {\n      case \"visible\":\n        this._graphicUpdateVisibleHandler(i);\n        break;\n      case \"geometry\":\n        this._graphicUpdateGeometryHandler(i, e);\n        break;\n      case \"symbol\":\n        this._graphicUpdateSymbolHandler(i, e);\n        break;\n      case \"attributes\":\n        break;\n      case \"origin-transform\":\n        this._graphicUpdateTransformHandler(i, e);\n    }\n  }\n  _graphicUpdateGeometryHandler(e, t) {\n    this._graphicUpdateGeometryOrTransformHandler(e, t, () => !(null == t.newValue || null == e || !e.graphics3DSymbol.updateGeometry(e, t.newValue) || !(this._labeler?.updateGraphicGeometry(e) ?? 1)) && (this._labeler?.setDirty(), !0));\n    const i = t.graphic.geometry;\n    null != i && this._expandComputedExtent(i);\n  }\n  _graphicUpdateTransformHandler(e, t) {\n    const i = t.graphic.geometry;\n    this._graphicUpdateGeometryOrTransformHandler(e, t, () => null != t.newValue && null != e && null != i && e.graphics3DSymbol.updateTransform(e, i.spatialReference, t.newValue, t.action));\n  }\n  _graphicUpdateGeometryOrTransformHandler(e, t, i) {\n    if (null != t.graphic.geometry) {\n      if (null != e) i() || this._recreateGraphic(e.graphic);else {\n        const e = t.graphic.symbol?.id;\n        if (e) {\n          const t = this._symbols.get(e);\n          if (null != t && t.loadStatus === be.LOADING) return;\n        }\n        this._recreateGraphic(t.graphic);\n      }\n    } else this._recreateGraphic(t.graphic);\n  }\n  _graphicUpdateSymbolHandler(e, t) {\n    const i = t.graphic,\n      r = null != e ? e.graphics3DSymbol : null != t.oldValue ? this._symbols.get(t.oldValue.id) : null;\n    if (null == r || null == t.newValue) return void this._recreateGraphic(i);\n    const s = r.symbol,\n      a = this._getConvertedSymbol(t.newValue);\n    if (null != a && (a.type !== s.type || \"web-style\" === a.type) || \"web-style\" === s.type) return void this._recreateGraphic(i);\n    const n = this._graphicsBySymbol.get(s.id);\n    if (n && 1 !== n.size) return void this._recreateGraphic(i);\n    const o = x(s, a);\n    if (null == o) return void this._updateSymbolMapping(s.id, a);\n    const l = {\n      diff: o,\n      graphics3DGraphicPatches: [],\n      symbolStatePatches: []\n    };\n    if (r.prepareSymbolPatch(l), !P(l.diff)) return void this._recreateGraphic(i);\n    const h = this._getRenderingInfo(i);\n    if (null == h) return void this._recreateGraphic(i);\n    const d = r.extentPadding;\n    for (const p of l.symbolStatePatches) p();\n    if (d !== r.extentPadding && this._recomputeExtentPadding(), null != e) for (const p of l.graphics3DGraphicPatches) p(e, h);\n    this._updateSymbolMapping(s.id, a);\n  }\n  _graphicUpdateVisibleHandler(e) {\n    this._updateUserVisibility(e) && (this._labeler?.setDirty(), this._deconflictor?.setDirty());\n  }\n  recreateGraphics(e) {\n    this._suspendSymbolCleanup = !0, this.remove(e), this.add(e), this._suspendSymbolCleanup = !1, this.effectiveUpdatePolicy === we.SYNC && this._cleanupSymbols();\n  }\n  _recreateGraphic(e) {\n    this.recreateGraphics([e]);\n  }\n  _beginGraphicUpdate(e) {\n    const t = this._graphicsUpdateId;\n    return this._graphicsUpdateId++, this._graphicsWaitingForSymbol.set(e.uid, t), 1 === this._graphicsWaitingForSymbol.size && this.notifyChange(\"dataUpdating\"), t;\n  }\n  _endGraphicUpdate(e) {\n    e && (this._graphicsWaitingForSymbol.delete(e.uid), 0 === this._graphicsWaitingForSymbol.size && (this._cleanupSymbols(), this.notifyChange(\"dataUpdating\")));\n  }\n  _recomputeExtentPadding() {\n    let e = 0;\n    this._symbols.forEach(t => {\n      null != t && (e = Math.max(e, t.extentPadding));\n    }), this._set(\"extentPadding\", e);\n  }\n  _expandComputedExtent(e) {\n    const t = Te,\n      i = e.spatialReference;\n    N(e, t);\n    const r = this._viewSpatialReference,\n      s = Fe.tmpVec;\n    if (k(i, r) || O(t[0], t[1], 0, i, s, r) && (t[0] = s[0], t[1] = s[1], O(t[3], t[4], 0, i, s, r), t[3] = s[0], t[4] = s[1]), !(isFinite(t[0]) && isFinite(t[3]) && isFinite(t[1]) && isFinite(t[4]))) return;\n    const a = this.computedExtent;\n    let n = null;\n    const o = isFinite(t[2]) && isFinite(t[5]),\n      l = o && (null == a?.zmin || t[2] < a.zmin),\n      h = o && (null == a?.zmax || t[5] > a.zmax);\n    if (a) {\n      (t[0] < a.xmin || t[1] < a.ymin || t[3] > a.xmax || t[4] > a.ymax || l || h) && (n = this._propertiesPool.get(\"computedExtent\"), n.xmin = Math.min(t[0], a.xmin), n.ymin = Math.min(t[1], a.ymin), n.xmax = Math.max(t[3], a.xmax), n.ymax = Math.max(t[4], a.ymax), n.spatialReference = r);\n    } else n = this._propertiesPool.get(\"computedExtent\"), n.xmin = t[0], n.ymin = t[1], n.xmax = t[3], n.ymax = t[4], n.spatialReference = r;\n    n && (l && (n.zmin = t[2]), h && (n.zmax = t[5]), this._set(\"computedExtent\", n));\n  }\n  _abortElevationInfoChange() {\n    this._elevationInfoChangeAbortController && (this._elevationInfoChangeAbortController.abort(), this._elevationInfoChangeAbortController = null);\n  }\n  async elevationInfoChange() {\n    this._abortElevationInfoChange();\n    const e = new AbortController();\n    this._elevationInfoChangeAbortController = e;\n    const t = ne(this.layer.elevationInfo, this.elevationFeatureExpressionEnabled);\n    this.symbolCreationContext.featureExpressionInfoContext = await oe(t, this._viewSpatialReference, e.signal, i.getLogger(this)), g(e.signal), this._elevationInfoChangeAbortController = null, this._labeler?.elevationInfoChange(), this.forEachGraphics3DSymbol((e, t, i) => {\n      e.globalPropertyChanged(\"elevationInfo\", t) ? t.forEach(e => {\n        const t = e.graphic,\n          i = e.labelLayers;\n        for (const r of i) {\n          r.graphics3DSymbolLayer.updateGraphicElevationContext(t, r);\n        }\n      }) : this._recreateSymbol(i);\n    }), this.updateStageLayerElevationProvider(), this._elevationAlignment?.elevationInfoChange();\n  }\n  updateStageLayerElevationProvider() {\n    this._stageLayerElevationProvider ? (this.layer.elevationInfo && \"relative-to-scene\" === this.layer.elevationInfo.mode || 0 === this._numberOfGraphicsProvidingElevation) && (this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider), this._stageLayerElevationProvider = p(this._stageLayerElevationProvider)) : (!this.layer.elevationInfo || this.layer.elevationInfo && \"relative-to-scene\" !== this.layer.elevationInfo.mode) && this._numberOfGraphicsProvidingElevation > 0 && (this._stageLayerElevationProvider = new ve({\n      layer: this.layer,\n      stageLayer: this.stageLayer,\n      view: this.owner.view\n    }), this.owner.view.elevationProvider.register(\"scene\", this._stageLayerElevationProvider));\n  }\n  _clearSymbolsAndGraphics() {\n    this.clear(), null != this._filterVisibility && this._filterVisibility.clear(), this._labeler?.reset(), this._deconflictor?.clear(), this._elevationAlignment?.clear(), this.stageLayer?.invalidateSpatialQueryAccelerator(), this._stageLayerElevationProvider && (this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider), this._stageLayerElevationProvider = p(this._stageLayerElevationProvider));\n  }\n  startCreateGraphics() {\n    this._startCreateGraphics = !0, this.recreateAllGraphics();\n  }\n  recreateAllGraphics() {\n    this._recreateAllGraphics(!1);\n  }\n  recreateAllGraphicsAndSymbols() {\n    this._recreateAllGraphics(!0);\n  }\n  _recreateAllGraphics(e = !1) {\n    if (!this._startCreateGraphics) return;\n    const {\n        loadedGraphics: t,\n        view: i\n      } = this.owner,\n      r = i.basemapTerrain.tilingScheme && t?.length ? t.toArray() : null;\n    !e && r || this._clearSymbolsAndGraphics(), this.symbolCreationContext.screenSizePerspectiveEnabled = this.owner.view.screenSizePerspectiveEnabled && !!this.layer.screenSizePerspectiveEnabled, this.symbolCreationContext.slicePlaneEnabled = !!this.owner.slicePlaneEnabled, this._set(\"computedExtent\", null), r && (e ? this.add(r) : this.recreateGraphics(r));\n  }\n  _recreateSymbol(e) {\n    const t = this._graphicsBySymbol.get(e),\n      i = [];\n    t && (t.forEach((e, t) => {\n      const r = e.usedMemory;\n      this._conditionalRemove(e, t), this._spatialIndex?.remove(e), i.push(e.graphic), e.destroy(), this._removeGraphics3DGraphic(t, r), this._updateLayerVisibility(), this._featureStore.events.emit(\"changed\");\n    }), this._graphicsBySymbol.set(e, new Map()));\n    const r = this._symbols.get(e);\n    d(r), this._symbols.delete(e), this._symbolMaterials = null, this.add(i);\n  }\n  _recreateGraphicsForSymbol(e) {\n    const t = this._graphicsBySymbol.get(e);\n    if (t) {\n      const e = [];\n      t.forEach(t => e.push(t.graphic)), this.recreateGraphics(e);\n    }\n  }\n  _conditionalRemove(e, t) {\n    this._graphicsDrapedUids.delete(t), this._objectStates?.removeGraphic(e), this._labeler?.removeGraphic(e), this._deconflictor?.removeGraphic(e), null != this._graphicStateTracking && this._graphicStateTracking.removeGraphic(e);\n  }\n  add(e) {\n    e && 0 !== e.length && (this.owner.view.basemapTerrain?.tilingScheme ? (this._updatePolicyForGraphics(e) === we.ASYNC ? this._addDelayed(e) : this._addImmediate(e), this.notifyChange(\"dataUpdating\")) : i.getLogger(this).error(\"#add()\", \"Cannot add graphics before terrain surface has been initialized\"));\n  }\n  _updatePolicyForGraphics(e) {\n    if (this.effectiveUpdatePolicy === we.SYNC && (\"mesh\" === this.layer.geometryType || null == this.layer.geometryType)) for (const t of e) if (null != t.geometry && \"mesh\" === t.geometry.type && !t.geometry.loaded) return we.ASYNC;\n    return this.effectiveUpdatePolicy;\n  }\n  _addImmediate(e) {\n    this._geometryWarningLogged = !1, this._symbolWarningLogged = !1;\n    for (const t of e) this._addGraphic(t, this._getRenderingInfo(t, i.getLogger(this)), we.SYNC);\n    this._cleanupSymbols(), this._labeler?.setDirty(), this._deconflictor?.setDirty();\n  }\n  _addDelayed(e) {\n    for (const t of e) {\n      const e = t.uid;\n      let i = this._pendingUpdates.get(e);\n      i ? i.add ? i.state !== ke.NEW && i.abortController?.abort() : this._pendingAdds++ : (i = this._pendingUpdatesPool.pushNew(), this._pendingAdds++, this._pendingUpdates.set(e, i)), i.add = t;\n    }\n    this.notifyChange(\"running\"), this.notifyChange(\"updatingRemaining\"), this.notifyChange(\"dataUpdating\");\n  }\n  remove(e) {\n    this.effectiveUpdatePolicy === we.ASYNC ? this._removeDelayed(e) : this._removeImmediate(e), this.notifyChange(\"dataUpdating\");\n  }\n  _removeImmediate(e) {\n    for (const t of e) this._removeGraphic(t);\n    this._cleanupSymbols(), this._labeler?.setDirty(), this._deconflictor?.setDirty();\n  }\n  _removeDelayed(e) {\n    for (const t of e) {\n      const e = t.uid,\n        i = this._pendingUpdates.get(e);\n      if (i) i.add && (i.remove ? i.add = null : this._pendingUpdates.delete(e), i.state === ke.LOADING && i.abortController?.abort(), this._pendingAdds--);else {\n        const i = this._pendingUpdatesPool.pushNew();\n        i.remove = t, this._pendingUpdates.set(e, i), this._pendingRemoves++, this._applyPendingRemovesFirst = !0;\n      }\n    }\n    0 === this._pendingUpdates.size && this._finishPendingUpdates(), this.notifyChange(\"running\"), this.notifyChange(\"updatingRemaining\"), this.notifyChange(\"dataUpdating\");\n  }\n  _finishPendingUpdates() {\n    this._pendingUpdatesPool.clear(), this._cleanupSymbols(), (this._pendingAdds || this._pendingRemoves) && i.getLogger(this).warn(\"pendingAdds/Removes in inconsistent state!\"), this._pendingAdds = 0, this._pendingRemoves = 0, this._applyPendingRemovesFirst = !1;\n  }\n  _applyPendingUpdates(e) {\n    if (this._geometryWarningLogged = !1, this._symbolWarningLogged = !1, 0 === this._pendingUpdates.size && this._spatialIndex?.updating) return this._spatialIndex.update(), void e.madeProgress();\n    if (this._applyPendingRemovesFirst) {\n      this._applyPendingRemovesFirst = !1;\n      for (const [t, i] of this._pendingUpdates) {\n        if (e.done) {\n          this._applyPendingRemovesFirst = !0;\n          break;\n        }\n        if (i.remove && !i.add && (this._pendingRemoves--, e.madeProgress(), this._removeGraphic(i.remove), i.remove = null, this._pendingUpdates.delete(t), 0 === this._pendingRemoves)) break;\n      }\n    }\n    for (const [t, i] of this._pendingUpdates) {\n      if (e.done) break;\n      i.add && i.state === ke.NEW && this._processPendingUpdateNew(i);\n      let r = this.effectiveUpdatePolicy;\n      if (!i.remove || i.add && i.state !== ke.READY || (this._pendingRemoves--, e.madeProgress(), this._removeGraphic(i.remove), i.remove = null, r = we.SYNC), i.add) switch (i.state) {\n        case ke.READY:\n          this._addGraphic(i.add, i.renderingInfo, r), i.add = null, this._pendingAdds--, e.madeProgress();\n          break;\n        case ke.REJECTED:\n          i.add = null, this._pendingAdds--;\n        case ke.LOADING:\n      }\n      null == i.remove && null == i.add && this._pendingUpdates.delete(t);\n    }\n    0 === this._pendingUpdates.size && (this._finishPendingUpdates(), this.notifyChange(\"running\"), this.notifyChange(\"dataUpdating\"));\n  }\n  _processPendingUpdateNew(e) {\n    if (!e.add) return void (e.state = ke.READY);\n    const t = e.add.geometry;\n    null == t || \"mesh\" !== t.type || t.loaded ? this._processPendingUpdateNewRenderingInfo(e) : this._processPendingUpdateNewMesh(e, t);\n  }\n  async _processPendingUpdateNewMesh(e, t) {\n    e.state = ke.LOADING, e.abortController = new AbortController();\n    const i = e.abortController.signal;\n    try {\n      await t.load({\n        signal: i\n      });\n    } catch (r) {\n      return this._processPendingUpdateNewError(e, r);\n    }\n    e.abortController = null, this._processPendingUpdateNewRenderingInfo(e);\n  }\n  _processPendingUpdateNewError(e, t) {\n    e.abortController = null, m(t) ? e.state = ke.NEW : e.state = ke.REJECTED;\n  }\n  async _processPendingUpdateNewRenderingInfo(e) {\n    if (null == this.layer.renderer || \"dictionary\" !== this.layer.renderer.type) return e.renderingInfo = this._getRenderingInfo(e.add, i.getLogger(this)), void (e.state = ke.READY);\n    e.state = ke.LOADING, e.abortController = new AbortController();\n    let t = null;\n    try {\n      t = await this._getRenderingInfoAsync(e.add, {\n        signal: e.abortController.signal\n      });\n    } catch (r) {\n      return e.abortController = null, void (m(r) ? e.state = ke.NEW : e.state = ke.REJECTED);\n    }\n    null == t?.symbol ? (this._symbolWarningLogged || (this._symbolWarningLogged = !0, i.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)), e.renderingInfo = null) : e.renderingInfo = t, e.state = ke.READY;\n  }\n  _addGraphic(e, t, i) {\n    if (this._graphicsWithoutSymbol.set(e.uid, e), null == t?.symbol || !B(e)) return;\n    if (null != this.stage.renderView.objectAndLayerIdRenderHelper && this.setUidToIdOnAdd) {\n      const t = J(this.owner.view.map, this.layer.uid);\n      this.stage.renderView.objectAndLayerIdRenderHelper.setUidToObjectAndLayerId(e.objectId, e.uid, this.layer.id, this.layer.uid, !!this.layer.popupEnabled && !t && Pe(this.layer, this.owner.view.popup?.defaultPopupTemplateEnabled));\n    }\n    const r = t.symbol,\n      s = this.getOrCreateGraphics3DSymbol(r, t.renderer);\n    if (null == s) return;\n    this._expandComputedExtent(e.geometry);\n    const a = this._beginGraphicUpdate(e),\n      n = new he(e, t, this.layer);\n    let o = !1;\n    const l = e => {\n      e === s.symbol.id && (o = !0);\n    };\n    this._whenSymbolRemoved.push(l);\n    const h = () => {\n        if (--this._loadingSymbols, this.destroyed) return;\n        this._whenSymbolRemoved.removeUnordered(l);\n        if (this._graphicsWaitingForSymbol.get(e.uid) !== a || o || s.destroyed || this.graphicSymbolSupported && e.symbol && e.symbol.id !== s.symbol.id) --s.referenced, this._cleanupSymbols();else {\n          const t = this._createGraphics3DGraphic(s, n);\n          this._spatialIndex && null != t && this._spatialIndex.add(t), --s.referenced, this._endGraphicUpdate(e);\n        }\n        this._featureStore.events.emit(\"changed\"), this._labeler?.setDirty();\n      },\n      d = t => {\n        --this._loadingSymbols, this.destroyed || (this._whenSymbolRemoved.removeUnordered(l), o || (m(t) ? this.add([e]) : s.destroyed || this._endGraphicUpdate(e)));\n      };\n    ++this._loadingSymbols, i === we.ASYNC ? s.load(() => this._dataUpdateQueue.push(h, null).catch(b), e => this._dataUpdateQueue.push(() => d(e), null).catch(b)) : s.load(h, d);\n  }\n  _removeGraphic(e) {\n    const t = e.uid,\n      i = this.graphics3DGraphics.get(t);\n    if (i) {\n      i.graphics3DSymbol.onRemoveGraphic(i);\n      const e = i.usedMemory,\n        r = i.isElevationSource;\n      this._conditionalRemove(i, t), this._spatialIndex?.remove(i);\n      const s = i.graphics3DSymbol.symbol.id;\n      this._graphicsBySymbol.get(s)?.delete(t), this._graphicsWithoutSymbol.delete(t), this._removeGraphics3DGraphic(t, e, r), i.destroy(), this._featureStore.events.emit(\"changed\");\n    } else this._graphicsWithoutSymbol.delete(t), this._graphicsWaitingForSymbol.delete(t), 0 === this._graphicsWaitingForSymbol.size && (this._cleanupSymbols(), this.notifyChange(\"dataUpdating\"));\n  }\n  _hasLabelingContext(e) {\n    if (e instanceof je || e instanceof Oe) {\n      const t = this.symbolCreationContext.layer;\n      return !!t.labelingInfo && t.labelingInfo.some(t => t.symbol === e);\n    }\n    return !1;\n  }\n  _hasValidSymbolCreationContext(e) {\n    return !(e instanceof je && !this._hasLabelingContext(e)) || (i.getLogger(this).error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"), !1);\n  }\n  _getRenderingInfo(e, t) {\n    const i = e.geometry;\n    if (null == i) return t && !this._geometryWarningLogged && (this._geometryWarningLogged = !0, t.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)), null;\n    if (!A(i.spatialReference, this._viewSpatialReference)) return t && !this._geometryWarningLogged && (this._geometryWarningLogged = !0, t.warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)), null;\n    if (!this.graphicSymbolSupported && null != e.symbol) return t && !this._symbolWarningLogged && (this._symbolWarningLogged = !0, t.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)), null;\n    const r = this.rendererHasGeometryOperations ? q(e, this.layer) : e;\n    let s;\n    if (this.owner.getRenderingInfo && (this.getRenderingInfoWithoutRenderer || null != this.currentRenderer)) s = this.owner.getRenderingInfo(r, this.currentRenderer, this._arcadeOnDemand);else {\n      s = {\n        symbol: r.symbol || X(r.geometry)\n      };\n    }\n    return null == s?.symbol ? (t && !this._symbolWarningLogged && (this._symbolWarningLogged = !0, t.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)), null) : s;\n  }\n  _getRenderingInfoAsync(e, t) {\n    if (null == e.geometry) return this._geometryWarningLogged || (this._geometryWarningLogged = !0, i.getLogger(this).warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)), null;\n    if (!this.graphicSymbolSupported && null != e.symbol) return this._symbolWarningLogged || (this._symbolWarningLogged = !0, i.getLogger(this).warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)), null;\n    const r = this.rendererHasGeometryOperations ? q(e, this.layer) : e;\n    return this.owner.getRenderingInfoAsync(r, this.currentRenderer, this._arcadeOnDemand, t);\n  }\n  _createGraphics3DSymbol(e, t) {\n    if (!this._hasValidSymbolCreationContext(e)) return null;\n    const i = this._getConvertedSymbol(e);\n    if (!i) return null;\n    let r;\n    if (null != t && \"backgroundFillSymbol\" in t && t.backgroundFillSymbol) {\n      const e = K(t.backgroundFillSymbol, {\n        ignoreDrivers: !0\n      });\n      null != e.symbol && (r = e.symbol.symbolLayers);\n    }\n    const s = pe(i, this.symbolCreationContext, r);\n    return s.load(() => {\n      const e = s.extentPadding;\n      e > this.extentPadding && this._set(\"extentPadding\", e), this.notifyChange(\"averageSymbolComplexity\");\n    }, () => {}), s;\n  }\n  getOrCreateGraphics3DSymbol(e, t) {\n    let i = this._symbols.get(e.id);\n    if (void 0 === i) {\n      const r = this._unusedSymbolsCache.pop(e.id);\n      i = null != r ? r : e instanceof Ve ? new ce(e, e => this._dataUpdateQueue.push(e, null), e => this._createGraphics3DSymbol(e, t)) : this._createGraphics3DSymbol(e, t), this._symbols.set(e.id, i), this._symbolMaterials = null;\n    }\n    return null != i && ++i.referenced, i;\n  }\n  trackGraphicState(e) {\n    return null == this._graphicStateTracking && (this._graphicStateTracking = new ge(this)), this._graphicStateTracking.add(e);\n  }\n  _addGraphics3DGraphic(e) {\n    this._usedMemory += e.usedMemory, this.graphics3DGraphics.set(e.graphic.uid, e), this._numberOfGraphics++, e.isElevationSource && (this._numberOfGraphicsProvidingElevation++, this.updateStageLayerElevationProvider()), this._updateLayerVisibility();\n  }\n  _removeGraphics3DGraphic(e, t, i = !1) {\n    this._usedMemory -= t, this.graphics3DGraphics.delete(e), this._numberOfGraphics--, i && (this._numberOfGraphicsProvidingElevation--, this.updateStageLayerElevationProvider()), this._updateLayerVisibility();\n  }\n  _createGraphics3DGraphic(e, t) {\n    const i = t.graphic;\n    if (this._graphicsWithoutSymbol.delete(i.uid), !this._symbols.has(e.symbol.id)) return this.add([i]), null;\n    if (this.graphics3DGraphics.has(i.uid)) return null;\n    const r = e.createGraphics3DGraphic(t);\n    if (null == r) return null;\n    this._addGraphics3DGraphic(r);\n    const s = e.symbol.id;\n    this._graphicsBySymbol.has(s) || this._graphicsBySymbol.set(s, new Map()), this._graphicsBySymbol.get(s).set(i.uid, r);\n    if (r.isDraped && this._graphicsDrapedUids.add(i.uid), r.centroid = null, null != i.geometry && \"point\" !== i.geometry.type && (r.centroid = ue(i.geometry, this._viewSpatialReference)), this._updateUserVisibility(r), null != this._scaleVisibility && this._scaleVisibility.updateVisibility(r), null != this._filterVisibility) {\n      const {\n        defaultVisibility: e\n      } = this._filterVisibility;\n      r.setVisibilityFlag(se.GRAPHIC, ae.FILTER, e), e || this._filterVisibility.reapply();\n    }\n    this._deconflictor?.addGraphic(r), this._labeler?.addGraphic(r), this._objectStates?.addGraphic(r), r.initialize(this.stageLayer, this.owner), null != this._graphicStateTracking && this._graphicStateTracking.addGraphic(r);\n    const a = this._whenGraphics3DGraphicRequests[i.uid];\n    return a && (delete this._whenGraphics3DGraphicRequests[i.uid], a.resolve(r)), this._symbolMaterials = null, r;\n  }\n  _abortRendererChange() {\n    this._rendererChangeAbortController && (this._rendererChangeAbortController.abort(), this._rendererChangeAbortController = null);\n  }\n  async rendererChange(e) {\n    if (this._abortRendererChange(), e !== this.currentRenderer) if (this._validateRenderer(e), null == e && this._currentRendererChange(null, !1), Q(e)) {\n      if (e?.arcadeRequired) {\n        const t = new AbortController();\n        this._rendererChangeAbortController = t;\n        const {\n          arcadeUtils: i\n        } = await this._ensureArcade();\n        g(t);\n        const r = i.hasGeometryOperations(e);\n        r && (await i.enableGeometryOperations(), g(t)), this.effectiveUpdatePolicy === we.ASYNC ? await this._updateQueue.push(() => this._currentRendererChange(e, r), t.signal) : this._currentRendererChange(e, r), this._rendererChangeAbortController = null;\n      } else if (this.effectiveUpdatePolicy === we.ASYNC) {\n        const t = new AbortController();\n        this._rendererChangeAbortController = t, await this._updateQueue.push(() => this._currentRendererChange(e, !1), t.signal), this._rendererChangeAbortController = null;\n      } else this._currentRendererChange(e, !1);\n    } else this._currentRendererChange(e, !1);\n  }\n  async _ensureArcade() {\n    return null == this._arcadeOnDemand ? (this._arcadeOnDemand = await Z(), this._arcadeOnDemand) : this._arcadeOnDemand;\n  }\n  _currentRendererChange(e, t) {\n    this.currentRenderer = e, this.rendererHasGeometryOperations = t, this.symbolCreationContext.arcade = this._arcadeOnDemand;\n    const i = this.symbolCreationContext.renderer;\n    if (e === i) return;\n    if (this._symbolConversionCache.clear(), this._unusedSymbolsCache.clear(), null == e) return this.symbolCreationContext.renderer = null, void this.recreateAllGraphicsAndSymbols();\n    const r = x(i, e);\n    this._updateUnchangedSymbolMappings(r, e, i), this.symbolCreationContext.renderer = e, null != r && (\"complete\" === r.type ? this.recreateAllGraphicsAndSymbols() : \"partial\" === r.type && (this._applyRendererDiff(r, e, i) ? this._labeler?.reset() : this.recreateAllGraphicsAndSymbols()), this.notifyChange(\"averageSymbolComplexity\"));\n  }\n  _diffHasSymbolChange(e) {\n    for (const t in e.diff) switch (t) {\n      case \"visualVariables\":\n      case \"defaultSymbol\":\n      case \"uniqueValueInfos\":\n        break;\n      case \"uniqueValueGroups\":\n      case \"authoringInfo\":\n      case \"fieldDelimiter\":\n        delete e.diff[t];\n        break;\n      default:\n        return !0;\n    }\n    return !1;\n  }\n  _applySymbolSetDiff(e, t, i) {\n    e = e || [], t = t || [];\n    const r = [];\n    for (const s of t) {\n      const t = this._graphicsBySymbol.get(s.id);\n      t && t.forEach((a, n) => {\n        const o = a.graphic,\n          l = this.layer instanceof W ? this.layer : null,\n          h = this._arcadeOnDemand;\n        if (s === i.defaultSymbol && i.getSymbol(q(o, l), {\n          arcade: h\n        }) === i.defaultSymbol) return;\n        const d = a.usedMemory;\n        e.length || i.defaultSymbol ? r.push(o) : this._graphicsWithoutSymbol.set(n, o);\n        const p = this.graphics3DGraphics.get(n);\n        this._conditionalRemove(p, n), a.destroy(), t.delete(n), this._removeGraphics3DGraphic(n, d), this._updateLayerVisibility();\n      }), this._whenSymbolRemoved.forAll(e => e(s.id));\n    }\n    (e.length || r.length) && (this._graphicsWithoutSymbol.forEach(e => r.push(e)), this._graphicsWithoutSymbol.clear(), this.add(r)), this._cleanupSymbols(), this._labeler?.setDirty(), this._deconflictor?.setDirty();\n  }\n  _applyUniqueValueRendererDiff(e, t, i) {\n    const r = e.diff.defaultSymbol,\n      a = e.diff.uniqueValueInfos;\n    if (r || a) {\n      const n = a ? a.added.map(e => e.symbol).filter(s) : [],\n        o = a ? a.removed.map(e => e.symbol).filter(s) : [];\n      if (a) for (let e = 0; e < a.changed.length; e++) n.push(a.changed[e].newValue.symbol), o.push(a.changed[e].oldValue.symbol);\n      return r ? (i.defaultSymbol && o.push(i.defaultSymbol), t.defaultSymbol && n.push(t.defaultSymbol)) : i.defaultSymbol && n.length && o.push(t.defaultSymbol), this._applySymbolSetDiff(n, o, t), delete e.diff.defaultSymbol, delete e.diff.uniqueValueInfos, !0;\n    }\n    return !1;\n  }\n  _calculateUnchangedSymbolMapping(e, t, i) {\n    if (\"unique-value\" !== t?.type || \"unique-value\" !== i?.type || null != e && \"partial\" !== e.type) return [];\n    const r = e => null != e ? e.id : null,\n      s = e && e.diff,\n      a = s?.defaultSymbol,\n      n = s && s.uniqueValueInfos;\n    let o;\n    if (n) o = n.unchanged.map(e => ({\n      oldId: r(e.oldValue.symbol),\n      newId: r(e.newValue.symbol)\n    }));else {\n      o = [];\n      for (const e of i.uniqueValueInfos ?? []) {\n        const i = r(e.symbol),\n          s = t.uniqueValueInfos?.find(t => t.value === e.value);\n        s && i !== r(s.symbol) && o.push({\n          oldId: i,\n          newId: r(s.symbol)\n        });\n      }\n    }\n    return !a && i.defaultSymbol && o.push({\n      oldId: r(i.defaultSymbol),\n      newId: r(t.defaultSymbol)\n    }), o;\n  }\n  _updateSymbolMapping(e, t) {\n    const i = null != t && t ? \"string\" == typeof t ? t : t.id : null;\n    if (null == e || e === i) return;\n    const r = this._graphicsBySymbol.get(e);\n    this._graphicsBySymbol.delete(e), void 0 !== r && this._graphicsBySymbol.set(i, r);\n    const s = this._symbols.get(e);\n    if (void 0 !== s && (this._symbols.delete(e), this._symbols.set(i, s), this._symbolMaterials = null, null != s)) {\n      const e = \"string\" == typeof t ? null : t;\n      null != e ? s.symbol = e : s.symbol.id = i;\n    }\n  }\n  _updateUnchangedSymbolMappings(e, t, i) {\n    const r = this._calculateUnchangedSymbolMapping(e, t, i);\n    for (const {\n      oldId: s,\n      newId: a\n    } of r) this._updateSymbolMapping(s, a);\n  }\n  _applyRendererDiff(e, i, r) {\n    if (this._diffHasSymbolChange(e)) return !1;\n    if (i instanceof t && r instanceof t && this._applyUniqueValueRendererDiff(e, i, r) && 0 === Object.keys(e.diff).length) return !0;\n    for (const [t] of this._graphicsBySymbol) {\n      const r = this._symbols.get(t);\n      if (null != r) switch (r.applyRendererDiff(e, i)) {\n        case me.RecreateSymbol:\n          this._recreateSymbol(t);\n          break;\n        case me.RecreateGraphics:\n          this._recreateGraphicsForSymbol(t);\n        case me.FastUpdate:\n      }\n    }\n    return !0;\n  }\n  opacityChange() {\n    this.forEachGraphics3DSymbol((e, t) => e.globalPropertyChanged(\"opacity\", t)), this._updateStageLayerVisibility();\n  }\n  _slicePlaneEnabledChange(e) {\n    e !== this.symbolCreationContext.slicePlaneEnabled && (this.symbolCreationContext.slicePlaneEnabled = e, this.stageLayer.sliceable = e, this.forEachGraphics3DSymbol((e, t) => e.globalPropertyChanged(\"slicePlaneEnabled\", t)), this._deconflictor?.slicePlaneEnabledChange(), this._labeler?.slicePlaneEnabledChange());\n  }\n  _physicalBasedRenderingChange(e) {\n    this.symbolCreationContext.physicalBasedRenderingEnabled = e, this.forEachGraphics3DSymbol((e, t, i) => {\n      e.globalPropertyChanged(\"physicalBasedRenderingEnabled\", t) || this._recreateSymbol(i);\n    });\n  }\n  _skipHighSymbolLoDsChange(e) {\n    this.symbolCreationContext.skipHighSymbolLods = e, this.forEachGraphics3DSymbol((e, t, i) => {\n      e.globalPropertyChanged(\"skipHighSymbolLods\", t) || this._recreateSymbol(i);\n    });\n  }\n  _pixelRatioChange() {\n    this.forEachGraphics3DSymbol((e, t, i) => {\n      e.globalPropertyChanged(\"pixelRatio\", t) || this._recreateSymbol(i);\n    });\n  }\n  _signalUpdatingDuringAsyncLoadedGraphicsChange() {\n    this._updatingPendingLoadedGraphicsChange && this._updatingPendingLoadedGraphicsChange.remove(), this._updatingPendingLoadedGraphicsChange = G(() => {\n      this._updatingPendingLoadedGraphicsChange = null;\n    });\n  }\n  setClippingExtent(e, t) {\n    const i = this.symbolCreationContext.clippingExtent,\n      r = z();\n    return Ce(e, r, t) ? this.symbolCreationContext.clippingExtent = M(V(), r) : this.symbolCreationContext.clippingExtent = null, !T(this.symbolCreationContext.clippingExtent, i);\n  }\n  modifyGraphics3DGraphicVisibilities(e) {\n    if (this.destroyed) return;\n    let t = !1;\n    this.graphics3DGraphics.forEach(i => {\n      e(i) && (t = !0);\n    }), t && (this._labeler?.setDirty(), this._deconflictor?.setDirty());\n  }\n  forEachGraphics3DSymbol(e) {\n    for (const [t, i] of this._symbols) {\n      if (null == i) return;\n      e(i, this._graphicsBySymbol.get(t) || qe, t);\n    }\n  }\n  updateAllGraphicsVisibility() {\n    null != this._filterVisibility && this._filterVisibility.reapply(), this.modifyGraphics3DGraphicVisibilities(e => {\n      const t = this._updateUserVisibility(e),\n        i = null != this._scaleVisibility && this._scaleVisibility.updateVisibility(e);\n      return t || i;\n    });\n  }\n  _hideAllGraphics() {\n    this.modifyGraphics3DGraphicVisibilities(e => e.setVisibilityFlag(se.GRAPHIC, ae.USER, !1));\n  }\n  _validateRenderer(e) {\n    const t = () => `'${this.layer.title ? `${this.layer.title}, ` : \"\"}id:${this.layer.id}'`,\n      r = $(e, {\n        geometryType: this.layer?.geometryType,\n        logWarning: e => i.getLogger(this).warn(`Symbology conversion for layer ${t()}: ${e}`)\n      });\n    if (r) {\n      const e = `Renderer for layer ${t} is not supported in a SceneView`;\n      i.getLogger(this).warn(e, r.message);\n    }\n  }\n  _cleanupSymbols() {\n    if (this._graphicsWaitingForSymbol.size > 0 || this._suspendSymbolCleanup) return;\n    let e = !1;\n    this._symbols.forEach((t, i) => {\n      if (null == t || t.referenced > 0) return;\n      const r = this._graphicsBySymbol.get(i);\n      r && 0 !== r.size || (this._graphicsBySymbol.delete(i), this._symbols.delete(i), this._symbolMaterials = null, this._unusedSymbolsCache.put(i, t, fe(t), c), e = !0);\n    }), e && (this._recomputeExtentPadding(), this.notifyChange(\"averageSymbolComplexity\"));\n  }\n  get test() {}\n  get performanceInfo() {\n    return new ye(this.graphics3DGraphics.size, this._graphicsWithoutSymbol.size, this._pendingUpdates.size);\n  }\n};\nvar ke;\nze.tmpVec = U(), e([w({\n  readOnly: !0\n})], ze.prototype, \"computedExtent\", void 0), e([w()], ze.prototype, \"currentRenderer\", void 0), e([w()], ze.prototype, \"rendererHasGeometryOperations\", void 0), e([w()], ze.prototype, \"_frameTaskHandle\", void 0), e([w()], ze.prototype, \"_dataUpdateQueue\", void 0), e([w()], ze.prototype, \"_updateQueue\", void 0), e([w({\n  readOnly: !0\n})], ze.prototype, \"_viewSpatialReference\", null), e([w()], ze.prototype, \"_rendererChangeAbortController\", void 0), e([w()], ze.prototype, \"_elevationInfoChangeAbortController\", void 0), e([w()], ze.prototype, \"_initializeAbortController\", void 0), e([w()], ze.prototype, \"_elevationAlignment\", void 0), e([w()], ze.prototype, \"_scaleVisibility\", void 0), e([w()], ze.prototype, \"_filterVisibility\", void 0), e([w()], ze.prototype, \"_initializePromise\", void 0), e([w()], ze.prototype, \"_spatialIndex\", void 0), e([w({\n  readOnly: !0\n})], ze.prototype, \"extentPadding\", void 0), e([w()], ze.prototype, \"_updatingPendingLoadedGraphicsChange\", void 0), e([w()], ze.prototype, \"_featureStore\", void 0), e([w()], ze.prototype, \"_objectStates\", void 0), e([w()], ze.prototype, \"_loadingSymbols\", void 0), e([w()], ze.prototype, \"preferredUpdatePolicy\", void 0), e([w()], ze.prototype, \"_forcedUpdatePolicy\", void 0), e([w({\n  readOnly: !0\n})], ze.prototype, \"effectiveUpdatePolicy\", null), e([w({\n  constructOnly: !0\n})], ze.prototype, \"elevationFeatureExpressionEnabled\", void 0), e([w({\n  constructOnly: !0\n})], ze.prototype, \"owner\", void 0), e([w({\n  constructOnly: !0\n})], ze.prototype, \"layer\", void 0), e([w({\n  constructOnly: !0\n})], ze.prototype, \"graphicSymbolSupported\", void 0), e([w({\n  constructOnly: !0\n})], ze.prototype, \"getRenderingInfoWithoutRenderer\", void 0), e([w({\n  constructOnly: !0\n})], ze.prototype, \"componentFactories\", void 0), e([w({\n  constructOnly: !0\n})], ze.prototype, \"setUidToIdOnAdd\", void 0), e([w()], ze.prototype, \"featureStore\", null), e([w()], ze.prototype, \"initializePromise\", null), e([w()], ze.prototype, \"scaleVisibility\", null), e([w()], ze.prototype, \"elevationAlignment\", null), e([w()], ze.prototype, \"objectStates\", null), e([w()], ze.prototype, \"filterVisibility\", null), e([w({\n  readOnly: !0\n})], ze.prototype, \"updating\", null), e([w({\n  readOnly: !0\n})], ze.prototype, \"dataUpdating\", null), e([w({\n  readOnly: !0\n})], ze.prototype, \"running\", null), e([w({\n  readOnly: !0\n})], ze.prototype, \"suspendedOrOutsideOfView\", null), e([w({\n  readOnly: !0,\n  dependsOn: []\n})], ze.prototype, \"updatingRemaining\", null), e([w({\n  readOnly: !0\n})], ze.prototype, \"displayFeatureLimit\", null), e([w({\n  readOnly: !0,\n  dependsOn: []\n})], ze.prototype, \"averageSymbolComplexity\", null), e([w({\n  constructOnly: !0\n})], ze.prototype, \"hasZ\", void 0), e([w({\n  constructOnly: !0\n})], ze.prototype, \"hasM\", void 0), e([w()], ze.prototype, \"_objectIdField\", null), ze = Fe = e([R(\"esri.views.3d.layers.graphics.Graphics3DCore\")], ze), function (e) {\n  e[e.NEW = 0] = \"NEW\", e[e.LOADING = 1] = \"LOADING\", e[e.READY = 2] = \"READY\", e[e.REJECTED = 3] = \"REJECTED\";\n}(ke || (ke = {}));\nclass We {\n  constructor() {\n    this.add = null, this.renderingInfo = null, this.state = ke.NEW, this.abortController = null, this.remove = null;\n  }\n  clear() {\n    this.add = null, this.renderingInfo = null, this.state = ke.NEW, this.abortController = null, this.remove = null;\n  }\n}\nconst He = 10,\n  Ne = U(),\n  Be = U(),\n  qe = new Map();\nexport { ze as Graphics3DCore };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport i from \"../../../../core/Accessor.js\";\nimport t from \"../../../../core/Logger.js\";\nimport { property as r } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { UpdatingHandles as a } from \"../../../../core/support/UpdatingHandles.js\";\nimport { projectBoundingRect as l } from \"../../../../geometry/projection/projectBoundingRect.js\";\nimport { create as n } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { VisibilityGroup as c, VisibilityFlag as o } from \"./enums.js\";\nimport { scaleBoundsPredicate as h } from \"../../../support/layerViewUtils.js\";\nimport { TaskPriority as p } from \"../../../support/Scheduler.js\";\nimport { Yield as d } from \"../../../support/Yield.js\";\nlet u = class extends i {\n  constructor(e) {\n    super(e), this._scaleRangeActive = !1, this._layerScaleRangeVisibilityQuery = !1, this._extent = null, this._updatingHandles = new a(), this.graphicsCoreOwner = null, this.layer = null, this.queryGraphicUIDsInExtent = null, this.graphicsCore = null, this.basemapTerrain = null, this.layerScaleEnabled = !0, this.suspended = !1, this._dirty = !0;\n  }\n  initialize() {\n    this.updateScaleRangeActive();\n    const e = this.graphicsCoreOwner.view.resourceController.scheduler;\n    this.addHandles(e.registerTask(p.SCALE_VISIBILITY, this)), this._updatingHandles.add(() => this.layer.effectiveScaleRange, () => this.layerMinMaxScaleChangeHandler());\n  }\n  destroy() {\n    this._updatingHandles.destroy(), this.removeHandles(), this._dirty = !1, this._extent = null, this.graphicsCoreOwner = null, this.layer = null, this.queryGraphicUIDsInExtent = null, this.graphicsCore = null, this.basemapTerrain = null;\n  }\n  get updating() {\n    return this._dirty || this._updatingHandles.updating;\n  }\n  _setDirty() {\n    this._dirty = !0;\n  }\n  setExtent(e) {\n    const i = this.graphicsCoreOwner.view.spatialReference,\n      t = this.graphicsCoreOwner.view.basemapTerrain.spatialReference;\n    if (i === t) this._extent = e ?? null;else {\n      const r = n();\n      l(e, i, r, t) ? this._extent = r : this._extent = null;\n    }\n    this._setDirty();\n  }\n  scaleRangeActive() {\n    return this._scaleRangeActive;\n  }\n  updateScaleRangeActive() {\n    const e = this.layer,\n      i = e.effectiveScaleRange;\n    let t = this.layerScaleEnabled && null != i && g(i.minScale, i.maxScale);\n    e.labelingInfo && !t && (t = e.labelingInfo.some(e => e && g(e.minScale ?? 0, e.maxScale ?? 0)));\n    const r = this._scaleRangeActive !== t;\n    return this._scaleRangeActive = t, t && !this.hasHandles(y) && this.basemapTerrain ? (this.addHandles(this.basemapTerrain.on(\"scale-change\", e => this._scaleUpdateHandler(e)), y), this.layerScaleEnabled && this.addHandles(this.basemapTerrain.on(\"tiles-visibility-changed\", () => this._setDirty()), y)) : !t && this.hasHandles(y) && this.removeHandles(y), r;\n  }\n  get running() {\n    return !(!this.graphicsCoreOwner.view.basemapTerrain || !this.updating);\n  }\n  runTask(e) {\n    const i = this.graphicsCoreOwner.view.basemapTerrain;\n    if (this._extent && i && i.ready && this._scaleRangeActive && this.layerScaleEnabled) {\n      if (this._layerScaleRangeVisibilityQuery) return d;\n      {\n        this._layerScaleRangeVisibilityQuery = !0;\n        const {\n          minScale: e,\n          maxScale: t\n        } = this.layer.effectiveScaleRange;\n        i.queryVisibleScaleRange(this._extent, e, t, e => this._finishUpdate(e));\n      }\n    } else this._finishUpdate(!0);\n    e.madeProgress();\n  }\n  _finishUpdate(e) {\n    this._layerScaleRangeVisibilityQuery = !1, this._set(\"suspended\", !e), this._dirty = !1;\n  }\n  _visibleAtLayerScale(e) {\n    const i = this.layer.effectiveScaleRange;\n    return !this.layerScaleEnabled || h(e, i.minScale || 0, i.maxScale || 0);\n  }\n  _visibleAtLabelScale(e, i) {\n    return h(e, i.minScale || 0, i.maxScale || 0);\n  }\n  _graphicScale(e) {\n    let i;\n    if (null != e.centroid ? i = e.centroid : null != e.graphic.geometry && \"point\" === e.graphic.geometry.type && (i = e.graphic.geometry), i) {\n      return this.graphicsCoreOwner.view.basemapTerrain ? this.graphicsCoreOwner.view.basemapTerrain.getScale(i) : 1;\n    }\n    return null;\n  }\n  _graphicVisible(e) {\n    if (!this.layerScaleEnabled) return !0;\n    const i = this._graphicScale(e);\n    return this._visibleAtLayerScale(i);\n  }\n  updateVisibility(e) {\n    if (this._scaleRangeActive) {\n      const i = this._graphicVisible(e);\n      return e.setVisibilityFlag(c.GRAPHIC, o.SCALE_RANGE, i);\n    }\n    return !1;\n  }\n  updateGraphicLabelScaleVisibility(e) {\n    if (!this._scaleRangeActive) return !1;\n    if (!e.labelLayers || 0 === e.labelLayers.length) return !1;\n    const i = this._graphicScale(e),\n      t = this._updateLabelScaleVisibility(e, i);\n    return t && (this.graphicsCore.deconflictor?.setDirty(), this.graphicsCore.labeler?.setDirty()), t;\n  }\n  _updateLabelScaleVisibility(e, i) {\n    if (!e.labelLayers || 0 === e.labelLayers.length) return !1;\n    const t = e.labelLayers[0]._labelClass;\n    if (null != t?.minScale && null != t.maxScale) {\n      const r = this._visibleAtLabelScale(i, t);\n      if (e.setVisibilityFlag(c.LABEL, o.SCALE_RANGE, r)) return !0;\n    }\n    return !1;\n  }\n  _scaleUpdateHandler(e) {\n    if (this._setDirty(), !this.graphicsCore.visible) return;\n    const i = e.extent,\n      r = e.scale,\n      s = this._visibleAtLayerScale(r);\n    let a = !1;\n    const n = this.graphicsCoreOwner.view.spatialReference,\n      h = e.spatialReference;\n    if (null == h) return void t.getLogger(this).error(\"scaleUpdate: Internal error, no SpatialReference given for tiles\");\n    const p = !h.equals(n);\n    if (p) {\n      if (!l(i, h, b, n)) return void t.getLogger(this).error(\"scaleUpdate: Internal error, cannot project AABR from \" + h + \" to wkid \" + n);\n    }\n    const d = p ? b : i;\n    this.queryGraphicUIDsInExtent(d, n, e => {\n      const t = this.graphicsCore.getGraphics3DGraphicById(e);\n      if (null == t) return;\n      const l = t.centroid;\n      null != l && (i[0] > l.x || i[1] > l.y || i[2] < l.x || i[3] < l.y) || (t.setVisibilityFlag(c.GRAPHIC, o.SCALE_RANGE, s) && (a = !0), this._updateLabelScaleVisibility(t, r) && (a = !0));\n    }), a && (this.graphicsCore.deconflictor?.setDirty(), this.graphicsCore.labeler?.setDirty());\n  }\n  layerMinMaxScaleChangeHandler() {\n    this.updateScaleRangeActive() && !this._scaleRangeActive ? this.graphicsCore.modifyGraphics3DGraphicVisibilities(e => e.setVisibilityFlag(c.GRAPHIC, o.SCALE_RANGE, !0)) : this._scaleRangeActive && this.graphicsCore.updateAllGraphicsVisibility(), this._setDirty();\n  }\n};\nfunction g(e, i) {\n  return e > 0 || i > 0;\n}\ne([r()], u.prototype, \"graphicsCoreOwner\", void 0), e([r()], u.prototype, \"layer\", void 0), e([r()], u.prototype, \"queryGraphicUIDsInExtent\", void 0), e([r()], u.prototype, \"graphicsCore\", void 0), e([r()], u.prototype, \"basemapTerrain\", void 0), e([r({\n  constructOnly: !0\n})], u.prototype, \"layerScaleEnabled\", void 0), e([r({\n  readOnly: !0\n})], u.prototype, \"suspended\", void 0), e([r({\n  readOnly: !0\n})], u.prototype, \"updating\", null), e([r()], u.prototype, \"_dirty\", void 0), u = e([s(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")], u);\nconst y = \"terrain-events\",\n  b = n();\nexport { u as Graphics3DScaleVisibility };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport t from \"../../../../core/PooledArray.js\";\nimport { create as e, copy as r, area as s, expand as n, contains as o } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { noBudget as i } from \"../../../support/Scheduler.js\";\nconst h = .05;\nclass a {\n  constructor() {\n    this._extents = new t({\n      allocator: t => t || e()\n    }), this._tmpExtent = e(), this._dirty = !1;\n  }\n  get empty() {\n    return 0 === this._extents.length;\n  }\n  get size() {\n    return this._extents.length;\n  }\n  clear() {\n    this._extents.clear();\n  }\n  add(t) {\n    this._contains(t) || (this._removeContained(t), r(this._extents.pushNew(), t), this._dirty = !0);\n  }\n  pop() {\n    return this._dirty && this._mergeTight(), this._extents.pop();\n  }\n  merge(t) {\n    return this._mergeTight(t), t.hasProgressed;\n  }\n  _mergeTight(t = i) {\n    const e = this._extents,\n      o = new Set();\n    let a = 0;\n    for (; a !== e.length;) {\n      e.sort((t, e) => t[0] - e[0]), a = e.length, o.clear();\n      for (let i = 0; i < e.length; ++i) {\n        if (t.done) return;\n        const a = e.at(i);\n        if (a) {\n          for (let t = i + 1; t < e.length; ++t) {\n            const r = e.at(t);\n            if (null == r || r[0] >= a[2]) break;\n            o.add(r);\n          }\n          o.forEach(i => {\n            if (a === i) return;\n            if (i[2] <= a[0]) return void o.delete(i);\n            const l = s(a),\n              _ = s(i),\n              c = this._tmpExtent;\n            n(a, i, c);\n            const d = l + _;\n            (s(c) - d) / d < h && (r(a, c), o.delete(i), e.remove(i), t.madeProgress());\n          }), o.add(a);\n        }\n      }\n    }\n    this._dirty = !1;\n  }\n  _contains(t) {\n    return this._extents.some(e => o(e, t));\n  }\n  _removeContained(t) {\n    this._extents.filterInPlace(e => !o(t, e));\n  }\n  get test() {}\n}\nexport { a as ExtentSet };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../core/Accessor.js\";\nimport i from \"../../../../core/Evented.js\";\nimport { watch as r } from \"../../../../core/reactiveUtils.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { ExtentSet as n } from \"./ExtentSet.js\";\nimport { UpdatePolicy as o } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nimport { TaskPriority as h } from \"../../../support/Scheduler.js\";\nlet p = class extends e {\n  constructor(t) {\n    super(t), this._dirtyExtents = new n(), this._globalDirty = !1, this._averageExtentUpdateSize = 0, this._dirtyGraphicsSet = new Set(), this._updateElevation = !1, this.graphicsCoreOwner = null, this.graphicsCore = null, this.events = new i();\n  }\n  initialize() {\n    const t = this.elevationProvider,\n      e = this.graphicsCoreOwner.view.resourceController.scheduler;\n    this._task = e.registerTask(d(this.graphicsCore.layer.elevationInfo?.mode), this), this.addHandles([t.on(\"elevation-change\", t => this._elevationChanged(t)), r(() => this.graphicsCoreOwner.suspended, () => this._suspendedChange()), this._task, r(() => d(this.graphicsCore.layer.elevationInfo?.mode), t => this._task.priority = t)]);\n  }\n  destroy() {\n    this._dirtyGraphicsSet.clear(), this.graphicsCoreOwner = null, this.graphicsCore = null, this.queryGraphicUIDsInExtent = null, this.elevationProvider = null;\n  }\n  clear() {\n    this._dirtyGraphicsSet.clear(), this.notifyChange(\"updating\");\n  }\n  _suspendedChange() {\n    !0 === this.graphicsCoreOwner.suspended ? this._updateElevation = !1 : !1 === this.graphicsCoreOwner.suspended && this._updateElevation && (this._globalDirty = !0, this.notifyChange(\"updating\"));\n  }\n  elevationInfoChange() {\n    this._globalDirty = !0, this.notifyChange(\"updating\");\n  }\n  get updating() {\n    return this.running;\n  }\n  get running() {\n    return this._dirtyGraphicsSet.size > 0 || this._dirtyExtents && !this._dirtyExtents.empty || this._globalDirty;\n  }\n  get updatingRemaining() {\n    return this._dirtyGraphicsSet.size + this._dirtyExtents.size * this._averageExtentUpdateSize;\n  }\n  runTask(t) {\n    for (this._globalDirty && (this._markAllGraphicsElevationDirty(), this._globalDirty = !1, t.madeProgress()), t.run(() => this._dirtyExtents.merge(t)); this.running && !t.done;) this._updateDirtyGraphics(t), this._updateDirtyExtents(t);\n    this.notifyChange(\"updating\");\n  }\n  _updateDirtyGraphics(t) {\n    const e = this.graphicsCoreOwner.view.renderCoordsHelper,\n      i = this.graphicsCore.effectiveUpdatePolicy === o.ASYNC;\n    for (const r of this._dirtyGraphicsSet.keys()) {\n      const s = this.graphicsCore.getGraphics3DGraphicById(r);\n      if (this._dirtyGraphicsSet.delete(r), null != s && (s.alignWithElevation(this.elevationProvider, e, i), this.graphicsCore.deconflictor?.setDirty(), t.madeProgress()), t.done) return;\n    }\n  }\n  _updateDirtyExtents(t) {\n    for (; !this._dirtyExtents.empty && !t.done;) {\n      const e = this._dirtyExtents.pop(),\n        i = this.elevationProvider.spatialReference;\n      this.events.emit(\"invalidate-elevation\", {\n        extent: e,\n        spatialReference: i\n      });\n      const r = this._dirtyGraphicsSet.size;\n      this.queryGraphicUIDsInExtent(e, i, t => {\n        const e = this.graphicsCore.getGraphics3DGraphicById(t);\n        null != e && e.needsElevationUpdates() && this._dirtyGraphicsSet.add(t);\n      }), this._averageExtentUpdateSize = .1 * (this._dirtyGraphicsSet.size - r) + .9 * this._averageExtentUpdateSize, t.madeProgress();\n    }\n  }\n  _markAllGraphicsElevationDirty() {\n    this._dirtyExtents.clear(), this._dirtyGraphicsSet.clear(), this.graphicsCore.graphics3DGraphics.forEach((t, e) => this._dirtyGraphicsSet.add(e));\n  }\n  _elevationChanged(t) {\n    if (\"scene\" === t.context && (!this.graphicsCore.layer.elevationInfo || \"relative-to-scene\" !== this.graphicsCore.layer.elevationInfo.mode)) return;\n    const e = t.extent;\n    if (this.graphicsCoreOwner.suspended) {\n      if (!this._updateElevation) {\n        const t = this.graphicsCore.computedExtent;\n        t && e[2] > t.xmin && e[0] < t.xmax && e[3] > t.ymin && e[1] < t.ymax && (this._updateElevation = !0);\n      }\n      this.events.emit(\"invalidate-elevation\", t);\n    } else e[0] === -1 / 0 ? this._globalDirty = !0 : this._dirtyExtents.add(e), this.notifyChange(\"updating\");\n  }\n};\nfunction d(t) {\n  return null == t ? h.ELEVATION_ALIGNMENT : \"relative-to-scene\" === t ? h.ELEVATION_ALIGNMENT_SCENE : h.ELEVATION_ALIGNMENT;\n}\nt([s()], p.prototype, \"graphicsCoreOwner\", void 0), t([s()], p.prototype, \"graphicsCore\", void 0), t([s()], p.prototype, \"queryGraphicUIDsInExtent\", void 0), t([s()], p.prototype, \"elevationProvider\", void 0), t([s({\n  readOnly: !0\n})], p.prototype, \"updating\", null), t([s({\n  readOnly: !0\n})], p.prototype, \"updatingRemaining\", null), p = t([a(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")], p);\nexport { p as Graphics3DElevationAlignment };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../core/Accessor.js\";\nimport { watch as s, sync as i, initial as r } from \"../../../../core/reactiveUtils.js\";\nimport { property as n } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { getReferenceEllipsoid as a } from \"../../../../geometry/ellipsoidUtils.js\";\nimport { FrustumExtentIntersection as p } from \"../../support/FrustumExtentIntersection.js\";\nimport { TaskPriority as c } from \"../../../support/Scheduler.js\";\nimport { Yield as l } from \"../../../support/Yield.js\";\nconst h = 1.2;\nlet u = class extends t {\n  constructor(e) {\n    super(e), this.suspended = !1, this._extent = null, this._extentIntersectionDirty = !0, this._isVisibleBelowSurfaceInternal = !1, this.graphicsCoreOwner = null, this.updating = !0;\n  }\n  initialize() {\n    const {\n      graphicsCoreOwner: e\n    } = this;\n    this._extentIntersection = new p({\n      renderCoordsHelper: e.view.renderCoordsHelper\n    });\n    const t = e.view,\n      n = t.basemapTerrain,\n      o = t.resourceController.scheduler;\n    this.addHandles([t.on(\"resize\", () => this._viewChange()), s(() => t.state.camera, () => this._viewChange(), i), o.registerTask(c.FRUSTUM_VISIBILITY, this), s(() => n.visibleElevationBounds, () => this._elevationBoundsChange())]), \"local\" === t.viewingMode ? this._isVisibleBelowSurface = !0 : this.addHandles([s(() => [n.baseOpacity, n.wireframe, t.map?.ground?.navigationConstraint?.type], () => this._updateIsVisibleBelowSurface(), r)]);\n  }\n  destroy() {\n    this._set(\"graphicsCoreOwner\", null), this._extent = null, this._extentIntersection = null;\n  }\n  _setDirty() {\n    this.updating || this._set(\"updating\", !0);\n  }\n  setExtent(e) {\n    this._extent = e, this._extentIntersectionDirty = !0, this._setDirty();\n  }\n  _viewChange() {\n    this._setDirty();\n  }\n  _elevationBoundsChange() {\n    this._setDirty(), this._extentIntersectionDirty = !0;\n  }\n  set _isVisibleBelowSurface(e) {\n    this._isVisibleBelowSurfaceInternal = e, this._setDirty(), this._extentIntersectionDirty = !0;\n  }\n  _updateIsVisibleBelowSurface() {\n    const e = this.graphicsCoreOwner.view,\n      t = e.basemapTerrain,\n      s = \"local\" === e.viewingMode,\n      i = \"none\" === e.map.ground?.navigationConstraint?.type;\n    this._isVisibleBelowSurface = s || !t.opaque || i;\n  }\n  _updateExtentIntersection() {\n    if (!this._extentIntersectionDirty) return;\n    this._extentIntersectionDirty = !1;\n    const e = this.graphicsCoreOwner.view;\n    let t;\n    if (this._isVisibleBelowSurfaceInternal) t = -.3 * a(e.spatialReference).radius;else {\n      const {\n        min: s,\n        max: i\n      } = e.basemapTerrain.visibleElevationBounds;\n      t = s - Math.max(1, (i - s) * (h - 1));\n    }\n    this._extentIntersection.update(this._extent, e.spatialReference, t);\n  }\n  get running() {\n    return this.updating;\n  }\n  runTask(e) {\n    if (this._set(\"updating\", !1), !this._extent) return this._set(\"suspended\", !1), l;\n    this._updateExtentIntersection();\n    const t = this.graphicsCoreOwner.view.frustum,\n      s = a(this.graphicsCoreOwner.view.spatialReference).radius;\n    this._set(\"suspended\", !this._extentIntersection.isVisibleInFrustum(t, s)), e.madeProgress();\n  }\n};\ne([n({\n  readOnly: !0\n})], u.prototype, \"suspended\", void 0), e([n({\n  constructOnly: !0\n})], u.prototype, \"graphicsCoreOwner\", void 0), e([n({\n  readOnly: !0\n})], u.prototype, \"updating\", void 0), u = e([o(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")], u);\nexport { u as Graphics3DFrustumVisibility };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Object3DState as e } from \"./basicInterfaces.js\";\nvar t;\n!function (e) {\n  e[e.Object = 0] = \"Object\", e[e.RenderGeometry = 1] = \"RenderGeometry\", e[e.External = 2] = \"External\", e[e.COUNT = 3] = \"COUNT\";\n}(t || (t = {}));\nclass r {\n  constructor() {\n    this._items = [];\n  }\n  addObject(e, r) {\n    this._items.push({\n      type: t.Object,\n      objectStateId: r,\n      object: e\n    });\n  }\n  addRenderGeometry(e, r, o) {\n    this._items.push({\n      type: t.RenderGeometry,\n      objectStateId: r,\n      renderGeometry: e,\n      owner: o\n    });\n  }\n  addExternal(e, r) {\n    this._items.push({\n      type: t.External,\n      objectStateId: r,\n      remove: e\n    });\n  }\n  remove(e) {\n    for (let t = this._items.length - 1; t >= 0; --t) {\n      const r = this._items[t];\n      r.objectStateId === e && (o(r), this._items.splice(t, 1));\n    }\n  }\n  removeObject(e) {\n    for (let r = this._items.length - 1; r >= 0; --r) {\n      const s = this._items[r];\n      s.type === t.Object && s.object === e && (o(s), this._items.splice(r, 1));\n    }\n  }\n  removeRenderGeometry(e) {\n    for (let r = this._items.length - 1; r >= 0; --r) {\n      const s = this._items[r];\n      s.type === t.RenderGeometry && s.renderGeometry === e && (o(s), this._items.splice(r, 1));\n    }\n  }\n  removeAll() {\n    this._items.forEach(e => {\n      o(e);\n    }), this._items = [];\n  }\n}\nfunction o(r) {\n  switch (r.type) {\n    case t.Object:\n      r.objectStateId.channel === e.Highlight ? r.object.removeHighlight(r.objectStateId) : r.objectStateId.channel === e.MaskOccludee && r.object.removeOcclude(r.objectStateId);\n      break;\n    case t.RenderGeometry:\n      r.owner.removeRenderGeometryObjectState(r.renderGeometry, r.objectStateId);\n      break;\n    case t.External:\n      r.remove(r.objectStateId);\n  }\n}\nexport { r as Object3DStateSet };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Object3DStateSet as t } from \"../../webgl-engine/lib/Object3DStateSet.js\";\nclass e {\n  constructor(e, i) {\n    this.stateType = e, this.objectIdField = i, this.objectStateSet = new t(), this.ids = new Set(), this.paused = !1;\n  }\n  hasGraphic(t) {\n    if (this.objectIdField) {\n      const e = t.graphic.attributes[this.objectIdField];\n      return this.ids.has(e);\n    }\n    return this.ids.has(t.graphic.uid);\n  }\n}\nexport { e as Graphics3DObjectStateSet };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { makeHandle as t } from \"../../../../core/handleUtils.js\";\nimport \"../../../../core/has.js\";\nimport { Graphics3DObjectStateSet as e } from \"./Graphics3DObjectStateSet.js\";\nclass s {\n  constructor(t) {\n    this._graphicsCore = t, this._stateSets = new Array();\n  }\n  destroy() {\n    this.reset(), this._stateSets = null;\n  }\n  reset() {\n    this._stateSets && (this._stateSets.forEach(t => t.objectStateSet.removeAll()), this._stateSets.length = 0);\n  }\n  acquireSet(s, a) {\n    const i = new e(s, a);\n    this._stateSets.push(i);\n    const h = t(() => this.releaseSet(i));\n    return {\n      set: i,\n      handle: h\n    };\n  }\n  releaseSet(t) {\n    t.objectStateSet.removeAll();\n    const e = this._stateSets ? this._stateSets.indexOf(t) : -1;\n    -1 !== e && this._stateSets.splice(e, 1);\n  }\n  setUid(t, e) {\n    t.ids.add(e);\n    const s = this._graphicsCore.graphics3DGraphics.get(e);\n    s && a(s, t);\n  }\n  setUids(t, e) {\n    e.forEach(e => this.setUid(t, e));\n  }\n  setObjectIds(t, e) {\n    e.forEach(e => t.ids.add(e)), this._initializeSet(t);\n  }\n  addGraphic(t) {\n    this._stateSets.forEach(e => {\n      !e.paused && e.hasGraphic(t) && a(t, e);\n    });\n  }\n  removeGraphic(t) {\n    this._stateSets.forEach(e => {\n      e.hasGraphic(t) && i(t, e);\n    });\n  }\n  allGraphicsDeleted() {\n    this._stateSets && this._stateSets.forEach(t => t.objectStateSet.removeAll());\n  }\n  _initializeSet(t) {\n    const e = this._graphicsCore.graphics3DGraphics;\n    t.objectIdField ? e.forEach(e => {\n      e && t.hasGraphic(e) && a(e, t);\n    }) : t.ids.forEach(s => {\n      const i = e.get(s);\n      i && a(i, t);\n    });\n  }\n  get test() {}\n}\nfunction a(t, e) {\n  t.addObjectStateSet(e.stateType, e.objectStateSet);\n}\nfunction i(t, e) {\n  t.removeObjectState(e.objectStateSet);\n}\nexport { s as Graphics3DObjectStates };"],
  "mappings": "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",
  "names": ["e", "m", "t", "d", "l", "t", "e", "o", "r", "u", "s", "c", "r", "o", "t", "e", "a", "l", "G", "t", "i", "n", "s", "c", "s", "i", "t", "e", "t", "i", "s", "a", "d", "t", "h", "e", "s", "u", "e", "o", "r", "_", "v", "y", "e", "t", "E", "L", "r", "s", "i", "n", "a", "C", "l", "P", "o", "S", "b", "n", "d", "C", "e", "t", "i", "r", "s", "a", "o", "l", "h", "g", "m", "w", "A", "L", "_", "v", "E", "u", "p", "F", "y", "S", "b", "u", "e", "h", "i", "t", "r", "g", "y", "o", "A", "L", "s", "a", "n", "p", "b", "d", "l", "h", "a", "l", "t", "u", "e", "C", "o", "i", "r", "_", "c", "d", "p", "t", "a", "e", "d", "i", "C", "r", "s", "h", "u", "e", "t", "n", "o", "d", "s", "i", "t", "e", "r", "o", "s", "e", "i", "r", "t", "s", "t", "a", "i", "e", "h"]
}
