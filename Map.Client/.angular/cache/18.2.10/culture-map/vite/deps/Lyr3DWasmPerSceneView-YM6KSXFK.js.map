{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/Lyr3DWorkerHandle.js", "../../../../../../node_modules/@arcgis/core/layers/Lyr3DWasmPerSceneView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { WorkerHandle as r } from \"../core/workers/WorkerHandle.js\";\nclass s extends r {\n  constructor(r) {\n    super(\"Lyr3DWorker\", \"process\", {\n      process: r => r.inputs\n    }, r, {\n      hasInitialize: !0\n    });\n  }\n  destroyWasm() {\n    return this.broadcast({}, \"destroyWasm\");\n  }\n}\nexport { s as Lyr3DWorkerHandle };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../request.js\";\nimport i from \"../core/Accessor.js\";\nimport r from \"../core/Logger.js\";\nimport { isAbortError as s } from \"../core/promiseUtils.js\";\nimport { watch as n } from \"../core/reactiveUtils.js\";\nimport { addFrameTask as a } from \"../core/scheduling.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as l } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { wasmFailedToInit as d, Lyr3DWasmWorkerOutputStatus as h, invalidLayerView as _ } from \"./ILyr3DWasmPerSceneView.js\";\nimport { Lyr3DWorkerHandle as u } from \"./Lyr3DWorkerHandle.js\";\nimport { loadLyr3DMainWASM as y } from \"../libs/lyr3d/Lyr3DModule.js\";\nimport { getElevationOffsetInMeters as g } from \"../support/elevationInfoUtils.js\";\nimport { makeScheduleFunction as m } from \"../views/3d/layers/support/makeScheduleFunction.js\";\nvar c, b;\n!function (e) {\n  e[e.Lifetime = 0] = \"Lifetime\", e[e.Jobs = 1] = \"Jobs\", e[e.Renderables = 2] = \"Renderables\";\n}(c || (c = {})), function (e) {\n  e[e.Critical = 0] = \"Critical\", e[e.Error = 1] = \"Error\", e[e.Warning = 2] = \"Warning\", e[e.Info = 3] = \"Info\";\n}(b || (b = {}));\nlet f = class extends i {\n  constructor(e) {\n    super(e), this._lyr3DMainPromise = null, this._lyr3DMain = null, this._layers = new Map(), this._debugFlags = new Set(), this._debugLevel = b.Critical, this._wasmNotLoaded = \"method requiring WASM was called when WASM isn't loaded\", this._pulseTaskHandle = null, this._session = null, this._debugFlags.add(c.Lifetime), this._debugFlags.add(c.Jobs), this._debugFlags.add(c.Renderables);\n  }\n  _debugLog(e, t, i, s = !0) {\n    if (this._debugFlags.has(e) && this._debugLevel >= t) {\n      const e = s ? `[js] ${i}` : `${i}`;\n      t === b.Critical || t === b.Error ? r.getLogger(this).error(e) : t === b.Warning && r.getLogger(this).warn(e), r.getLogger(this).info(e);\n    }\n  }\n  initialize() {\n    this._debugLevel > b.Warning && (r.getLogger(this).level = \"info\"), this._debugLog(c.Lifetime, b.Info, \"Lyr3DWasmPerSceneView.initialize()\"), this.addHandles([n(() => this.view.state?.contentCamera, () => this._updateWasmCamera())]), this._pulseTaskHandle = a({\n      preRender: () => this._pulseTask()\n    });\n  }\n  destroy() {\n    this._debugLog(c.Lifetime, b.Info, \"Lyr3DWasmPerSceneView.destroy()\"), this._lyr3DMain && (this._layers.forEach(e => {\n      e.abortController.abort();\n    }), this._lyr3DMain.uninitialize_lyr3d_wasm(), this._lyr3DMain = null);\n    const e = this._worker;\n    e && e.destroyWasm().then(() => {\n      this._worker?.destroy(), this._worker = null;\n    }), this._pulseTaskHandle?.remove(), this._pulseTaskHandle = null;\n  }\n  add3DTilesLayerView(e) {\n    return this._lyr3DMain ? this._add3DTilesLayerView(e) : (this._debugLog(c.Lifetime, b.Error, \"Lyr3DWasmPerSceneView.add3DTilesLayerView() called when WASM wasn't initialized\"), d);\n  }\n  remove3DTilesLayerView(e) {\n    if (!this._lyr3DMain) return this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded), 0;\n    this._doRemoveLayerView(e);\n    const t = this._layers.size;\n    return 0 === t && (this._debugLog(c.Lifetime, b.Info, \"Lyr3DWasmPerSceneView.remove3DTilesLayerView() no Lyr3D layers left after removing a layer, destroying\"), this.destroy()), t;\n  }\n  setEnabled(e, t) {\n    if (!this._lyr3DMain) return void this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded);\n    const i = this._layers.get(e.wasmLayerId);\n    i && (this._lyr3DMain.set_enabled(e.wasmLayerId, t), i.needMemoryUsageUpdate = !0, i.needFrame = !0, i.layerView.updatingFlagChanged());\n  }\n  setLayerOffset(e, t) {\n    if (!this._lyr3DMain) return void this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded);\n    this._layers.get(e.wasmLayerId) && this._lyr3DMain.set_carto_offset_z(e.wasmLayerId, t);\n  }\n  getAttributionText() {\n    if (!this._lyr3DMain) return this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded), [];\n    return this._lyr3DMain.get_current_attribution_text().split(\"|\");\n  }\n  onRenderableEvicted(e, t, i) {\n    if (!this._lyr3DMain) return void this._debugLog(c.Lifetime, b.Error, this._wasmNotLoaded);\n    this._layers.get(e.wasmLayerId) && this._lyr3DMain.on_renderable_evicted(e.wasmLayerId, t, i);\n  }\n  isUpdating(e) {\n    if (!this._lyr3DMain && this._lyr3DMainPromise) return !0;\n    const t = this._layers.get(e);\n    return !!t && (t.outstandingJobCount > 0 || t.outstandingRenderableCount > 0 || t.needFrame);\n  }\n  initializeWasm() {\n    return this._lyr3DMain ? Promise.resolve() : (this._debugLog(c.Lifetime, b.Info, \"Lyr3DWasmPerSceneView.initializeWasm()\"), this._lyr3DMainPromise || (this._lyr3DMainPromise = y().then(e => {\n      this._lyr3DMain = e, this._lyr3DMainPromise = null;\n      const t = this._lyr3DMain.addFunction(this._onNewJob.bind(this), \"v\"),\n        i = this._lyr3DMain.addFunction(this._onNewRenderable.bind(this), \"v\"),\n        r = this._lyr3DMain.addFunction(this._freeRenderables.bind(this), \"viii\"),\n        s = this._lyr3DMain.addFunction(this._setRenderableVisibility.bind(this), \"viiii\"),\n        n = this._lyr3DMain.addFunction(this._onWasmError.bind(this), \"viiii\"),\n        a = \"global\" === this.view.viewingMode,\n        o = this.view.renderSpatialReference?.isWebMercator ? 3857 : this.view.renderSpatialReference?.wkid ?? -1,\n        l = this.view.heightModelInfo?.heightModel,\n        d = !l || \"gravity-related-height\" === l;\n      return this._lyr3DMain.initialize_lyr3d_wasm(n, t, i, r, s, a, d, o, this._debugLevel) ? (this._worker = new u(m(this.view.resourceController)), this._worker.promise ? this._worker.promise : void 0) : (this._lyr3DMain = null, void this._debugLog(c.Lifetime, b.Critical, \"Lyr3d Main WASM failed to initialize\", !1));\n    }).catch(e => {\n      this._debugLog(c.Lifetime, b.Critical, `Lyr3d WASM failed to download error = ${e}`, !1);\n    })), this._lyr3DMainPromise);\n  }\n  _pulseTask() {\n    if (this._lyr3DMain) {\n      let e = 0,\n        t = 0;\n      this._layers.forEach(i => {\n        e += i.layerView.usedMemory, t += i.layerView.unloadedMemory;\n      }), e /= 1048576, t /= 1048576;\n      const i = this.view.resourceController.memoryController,\n        r = i.usedMemory * i.maxMemory - e;\n      this._lyr3DMain.frame_pulse(i.memoryFactor, e, t, r, i.maxMemory), this._layers.forEach(e => {\n        !0 === e.needFrame && (e.needFrame = !1, e.layerView.updatingFlagChanged());\n      });\n    }\n  }\n  _incrementJobCount(e) {\n    e.outstandingJobCount += 1, 1 === e.outstandingJobCount && e.outstandingRenderableCount < 1 && e.layerView.updatingFlagChanged();\n  }\n  _decrementJobCount(e) {\n    e.outstandingJobCount -= 1, 0 === e.outstandingJobCount && e.outstandingRenderableCount < 1 && e.layerView.updatingFlagChanged();\n  }\n  _incrementRenderableCount(e) {\n    e.outstandingRenderableCount += 1, e.outstandingJobCount < 1 && 1 === e.outstandingRenderableCount && e.layerView.updatingFlagChanged();\n  }\n  _decrementRenderableCount(e) {\n    e.outstandingRenderableCount -= 1, e.outstandingJobCount < 1 && 0 === e.outstandingRenderableCount && e.layerView.updatingFlagChanged();\n  }\n  _onJobFailed(e, t, i) {\n    t.error.length && this._debugLog(c.Jobs, b.Error, t.error, !1), this._lyr3DMain && this._lyr3DMain.on_job_failed(i.jobId, i.desc), this._decrementJobCount(e);\n  }\n  _onJobSucceeded(e, t, i) {\n    if (this._lyr3DMain) {\n      const e = t.data.byteLength,\n        r = this._lyr3DMain._malloc(e);\n      new Uint8Array(this._lyr3DMain.HEAPU8.buffer, r, e).set(t.data), this._lyr3DMain.on_job_completed(i.jobId, t.jobDescJson, r, e), this._lyr3DMain._free(r);\n    }\n    this._decrementJobCount(e);\n  }\n  _getRequestPromises(e, i, r) {\n    const s = [];\n    for (const n of e) {\n      const e = new URL(n),\n        a = e.searchParams.get(\"session\");\n      a ? this._session = a : !this._session || e.origin === r.origin && e.pathname === r.pathname || e.searchParams.append(\"session\", this._session), s.push(t(e.toString(), i).then(e => e.data));\n    }\n    return s;\n  }\n  _onNewJob() {\n    const e = this._lyr3DMain.get_next_job(),\n      t = this._layers.get(e.layerId);\n    if (!t) return;\n    this._incrementJobCount(t);\n    const i = t.abortController.signal,\n      r = {\n        responseType: \"array-buffer\",\n        signal: i,\n        query: {\n          ...t.customParameters,\n          token: t.apiKey\n        }\n      },\n      n = {\n        inputs: [],\n        jobDescJson: e.desc,\n        isMissingResourceCase: !1\n      },\n      a = new URL(t.layerView.layer.url),\n      o = this._getRequestPromises(e.urls, r, a);\n    Promise.all(o).then(e => (n.inputs = e, this._worker.invoke(n, i))).then(e => e).catch(t => (s(t) ? this._debugLog(c.Jobs, b.Warning, `job ${e.jobId} was cancelled.`) : this._debugLog(c.Jobs, b.Error, `job ${e.jobId} failed with error ${t}.`), {\n      status: h.Failed,\n      error: \"\",\n      jobDescJson: \"\",\n      data: new Uint8Array(0),\n      missingInputUrls: [],\n      inputs: []\n    })).then(o => {\n      if (o.status === h.Failed) this._onJobFailed(t, o, e);else if (o.status === h.Succeeded) this._onJobSucceeded(t, o, e);else if (o.status === h.MissingInputs) {\n        const l = this._getRequestPromises(o.missingInputUrls, r, a);\n        Promise.all(l).then(e => {\n          n.jobDescJson = o.jobDescJson, o.originalInputs ? n.inputs = o.originalInputs : n.inputs = [], n.isMissingResourceCase = !0;\n          for (const t of e) n.inputs.push(t);\n          return this._worker.invoke(n, i);\n        }).then(i => {\n          i.status === h.Failed ? this._onJobFailed(t, i, e) : i.status === h.Succeeded && this._onJobSucceeded(t, i, e);\n        }).catch(i => {\n          this._decrementJobCount(t), s(i) ? this._debugLog(c.Jobs, b.Warning, `job ${e.jobId} was cancelled.`) : this._debugLog(c.Jobs, b.Error, `job ${e.jobId} failed with error2 ${i}.`), this._lyr3DMain && this._lyr3DMain.on_job_failed(e.jobId, e.desc);\n        });\n      }\n    });\n  }\n  _onNewRenderable() {\n    const e = this._lyr3DMain.get_next_renderable(),\n      t = e.meshData;\n    if (t.data && t.data.byteLength > 0) {\n      const e = t.data.slice();\n      t.data = e;\n    }\n    const i = this._layers.get(e.layerId);\n    i && (this._incrementRenderableCount(i), i.layerView.createRenderable(e).then(t => {\n      this._lyr3DMain && this._lyr3DMain.on_renderable_created(!0, e.layerId, e.handle, t.memUsageBytes), this._decrementRenderableCount(i);\n    }).catch(t => {\n      s(t) || this._debugLog(c.Renderables, b.Error, `createRenderable failed with error ${t}.`), this._lyr3DMain && this._lyr3DMain.on_renderable_created(!1, e.layerId, e.handle, 0), this._decrementRenderableCount(i);\n    }));\n  }\n  _freeRenderables(e, t, i) {\n    if (i < 1) return;\n    const r = this._layers.get(e);\n    if (!r) return;\n    const s = r.layerView,\n      n = [],\n      a = new Uint32Array(this._lyr3DMain.HEAPU32.buffer, t, i);\n    for (let o = 0; o < i; ++o) n.push(a[o]);\n    for (let o = 0; o < i; ++o) s.freeRenderable(n[o]);\n  }\n  _setRenderableVisibility(e, t, i, r) {\n    if (r < 1) return;\n    const s = this._layers.get(e);\n    if (!s) return;\n    const n = s.layerView,\n      a = [],\n      o = [],\n      l = new Uint32Array(this._lyr3DMain.HEAPU32.buffer, t, r),\n      d = new Uint8Array(this._lyr3DMain.HEAPU8.buffer, i, r);\n    for (let h = 0; h < r; ++h) a.push(l[h]), o.push(1 === d[h]);\n    n.setRenderableVisibility(a, o, r);\n  }\n  _onWasmError(e, t, i, r) {\n    this._lyr3DMain && this._debugLog(i, r, this._lyr3DMain.UTF8ToString(e, t), !1);\n  }\n  _doRemoveLayerView(e) {\n    const t = this._layers.get(e.wasmLayerId);\n    return !!t && (t.abortController.abort(), this._lyr3DMain.remove_layer(e.wasmLayerId), this._layers.delete(e.wasmLayerId), !0);\n  }\n  _add3DTilesLayerView(e) {\n    const t = e.layer;\n    if (!t.url) return _;\n    const i = this._lyr3DMain.get_next_layer_id(),\n      r = new AbortController();\n    this._layers.set(i, {\n      layerView: e,\n      abortController: r,\n      needMemoryUsageUpdate: !1,\n      outstandingJobCount: 0,\n      outstandingRenderableCount: 0,\n      customParameters: t.customParameters,\n      apiKey: t.apiKey,\n      needFrame: !1\n    });\n    const s = g(t.elevationInfo);\n    return this._lyr3DMain.add_layer(t.url, i, s) ? (this._updateWasmCamera(), i) : (this._layers.delete(i), _);\n  }\n  _updateWasmCamera() {\n    const e = this.view.state?.contentCamera;\n    if (!e || !this._lyr3DMain) return;\n    const {\n        eye: t,\n        center: i,\n        up: r,\n        near: s,\n        far: n,\n        fovY: a\n      } = e,\n      o = [e.viewport[2], e.viewport[3]],\n      l = e.width / e.height;\n    this._lyr3DMain.set_camera_parameters({\n      eye: t,\n      center: i,\n      up: r,\n      near: s,\n      far: n,\n      fov: a,\n      aspectRatio: l,\n      viewport: o\n    });\n  }\n};\ne([o({\n  constructOnly: !0\n})], f.prototype, \"view\", void 0), f = e([l(\"esri.layers.Lyr3DWasmPerSceneView\")], f);\nconst w = f;\nexport { w as default };"],
  "mappings": "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",
  "names": ["r", "b", "e", "s", "d", "n", "a", "i", "t", "o", "h"]
}
