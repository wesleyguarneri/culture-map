{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend/styles/CardCSS.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend/styles/Card.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend/styles/ClassicCSS.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend/styles/Classic.js", "../../../../../../node_modules/@arcgis/core/widgets/Legend.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../renderers/visualVariables/SizeVariable.js\";\nfunction l(l, i, s) {\n  const a = l.effectiveClusterRenderer;\n  if (!a || !(\"visualVariables\" in a) || !a.visualVariables) return null;\n  const n = a.visualVariables.find(e => \"size\" === e.type);\n  if (!(\"stops\" in n) || !n.stops) return null;\n  const t = n.stops.find(e => e.useMinValue),\n    u = n.stops.find(e => e.useMaxValue);\n  if (null == t || null == u) return null;\n  const r = s.featuresTilingScheme.getClosestInfoForScale(s.scale).level,\n    f = n.field,\n    o = i.getDisplayStatistics(r, f);\n  return o ? new e({\n    field: n.field,\n    minSize: l.clusterMinSize,\n    minDataValue: o.minValue,\n    maxSize: l.clusterMaxSize,\n    maxDataValue: o.maxValue\n  }) : null;\n}\nexport { l as getEffectiveClusterSizeVariable };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../Color.js\";\nimport \"../../../intl.js\";\nimport { addTokenParameter as s } from \"../../../kernel.js\";\nimport i from \"../../../request.js\";\nimport \"../../../symbols.js\";\nimport l from \"../../../core/Accessor.js\";\nimport { isSome as r } from \"../../../core/arrayUtils.js\";\nimport n from \"../../../core/Collection.js\";\nimport { JSONMap as a } from \"../../../core/jsonMap.js\";\nimport o from \"../../../core/Logger.js\";\nimport { debounce as u } from \"../../../core/promiseUtils.js\";\nimport { on as c, watch as d, whenOnce as y, initial as h } from \"../../../core/reactiveUtils.js\";\nimport { px2pt as m } from \"../../../core/screenUtils.js\";\nimport { parseWhereClause as f } from \"../../../core/sql.js\";\nimport { addQueryParameters as p } from \"../../../core/urlUtils.js\";\nimport { property as g } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport { subclass as b } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { OriginId as S } from \"../../../core/accessorSupport/PropertyOrigin.js\";\nimport { EffectView as _ } from \"../../../layers/effects/EffectView.js\";\nimport { effectFunctionsFromJSON as v } from \"../../../layers/effects/jsonUtils.js\";\nimport { ExportImageParameters as w } from \"../../../layers/support/ExportImageParameters.js\";\nimport { isFeatureLayer as L } from \"../../../layers/support/layerUtils.js\";\nimport { getPixelValueRange as E } from \"../../../layers/support/rasterFormats/pixelRangeUtils.js\";\nimport { fromJSON as C } from \"../../../renderers/support/jsonUtils.js\";\nimport { isSupportedRenderer3D as I } from \"../../../renderers/support/rendererConversion.js\";\nimport R from \"../../../renderers/visualVariables/SizeVariable.js\";\nimport F from \"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";\nimport { updateReferenceSizeSymbol as V } from \"../../../smartMapping/renderers/support/referenceSizeUtils.js\";\nimport { applyCIMSymbolColor as x } from \"../../../symbols/support/cimSymbolUtils.js\";\nimport { SymbolSizeDefaults as z } from \"../../../symbols/support/previewUtils.js\";\nimport { renderSymbol as T } from \"../../../symbols/support/renderUtils.js\";\nimport { renderColorRampPreviewHTML as D, renderDotDensityPreviewHTML as j, renderPieChartPreviewHTML as O, renderPreviewHTML as P } from \"../../../symbols/support/symbolUtils.js\";\nimport { isVolumetricSymbol as A } from \"../../../symbols/support/utils.js\";\nimport { getEffectiveClusterSizeVariable as M } from \"./clusterUtils.js\";\nimport { getColorFromPointCloudStops as k, getRampStopsForPointCloud as U, getStretchRampStops as B, getRampStops as q } from \"./colorRampUtils.js\";\nimport { getHeatmapRampStops as N } from \"./heatmapRampUtils.js\";\nimport { getRotationAngleForFocus as H, getRelationshipRampElement as $ } from \"./relationshipRampUtils.js\";\nimport { getRampStops as W, realWorldMaxSize as G, realWorldMinSize as J } from \"./sizeRampUtils.js\";\nimport { specialCharsLessThan as Q, specialCharsGreaterThan as Z, getReferenceSizeAuthoringInfoVisualVariable as K, getSymbolForFlowRenderer as X, isRasterBandStatistics as Y, getMedianColor as ee, rgbImgSource as te, getDateFormatOptions as se } from \"./utils.js\";\nimport { formatNumberLabel as ie } from \"../../smartMapping/support/utils.js\";\nimport le from \"../../../symbols/SimpleMarkerSymbol.js\";\nimport re from \"../../../symbols/SimpleFillSymbol.js\";\nimport { fetchMessageBundle as ne } from \"../../../intl/messages.js\";\nimport { substitute as ae } from \"../../../intl/substitute.js\";\nconst oe = 16,\n  ue = \"https://utility.arcgis.com/sharing/tools/legend\",\n  ce = \"esri.layers.ImageryLayer\",\n  de = \"esri.layers.ImageryTileLayer\",\n  ye = \"esri.layers.WCSLayer\",\n  he = /^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,\n  me = new a({\n    esriGeometryPoint: \"point\",\n    esriGeometryMultipoint: \"multipoint\",\n    esriGeometryPolyline: \"polyline\",\n    esriGeometryPolygon: \"polygon\",\n    esriGeometryMultiPatch: \"multipatch\"\n  }),\n  fe = new le({\n    size: 6,\n    outline: {\n      color: [128, 128, 128, .5],\n      width: .5\n    }\n  }),\n  pe = new re({\n    style: \"solid\"\n  });\nfunction ge(e) {\n  return \"flow\" === e.type;\n}\nfunction be(e) {\n  return \"vector-field\" === e.type;\n}\nfunction Se(e) {\n  return \"raster-colormap\" === e.type;\n}\nfunction _e(e) {\n  return \"raster-stretch\" === e.type;\n}\nfunction ve(e) {\n  return \"raster-shaded-relief\" === e.type;\n}\nfunction we(e) {\n  return \"esri.renderers.SimpleRenderer\" === e.declaredClass;\n}\nfunction Le(e) {\n  return \"esri.renderers.ClassBreaksRenderer\" === e.declaredClass;\n}\nfunction Ee(e) {\n  return \"esri.renderers.UniqueValueRenderer\" === e.declaredClass;\n}\nfunction Ce(e) {\n  return \"esri.renderers.HeatmapRenderer\" === e.declaredClass;\n}\nfunction Ie(e) {\n  return Fe(e) || Ve(e) || xe(e) || Re(e);\n}\nfunction Re(e) {\n  return \"esri.renderers.PointCloudRGBRenderer\" === e.declaredClass;\n}\nfunction Fe(e) {\n  return \"esri.renderers.PointCloudClassBreaksRenderer\" === e.declaredClass;\n}\nfunction Ve(e) {\n  return \"esri.renderers.PointCloudStretchRenderer\" === e.declaredClass;\n}\nfunction xe(e) {\n  return \"esri.renderers.PointCloudUniqueValueRenderer\" === e.declaredClass;\n}\nfunction ze(e) {\n  return \"esri.renderers.DotDensityRenderer\" === e.declaredClass;\n}\nfunction Te(e) {\n  return \"esri.renderers.PieChartRenderer\" === e.declaredClass;\n}\nfunction De(e, t) {\n  return we(e) || Le(e) || Ee(e) || Ce(e) || ze(e) || Te(e) ? \"2d\" === t.type || I(e) : _e(e) || Se(e) || ve(e) || Fe(e) || Ve(e) || xe(e) || be(e) || ge(e);\n}\nfunction je(e) {\n  return \"esri.layers.BuildingSceneLayer\" === e.declaredClass;\n}\nfunction Oe(e) {\n  return \"esri.layers.SubtypeGroupLayer\" === e.declaredClass;\n}\nfunction Pe(e) {\n  return \"esri.layers.VoxelLayer\" === e.declaredClass;\n}\nfunction Ae(e) {\n  return \"esri.layers.WMSLayer\" === e.declaredClass;\n}\nfunction Me(e) {\n  return \"esri.layers.WMTSLayer\" === e.declaredClass;\n}\nfunction ke(e) {\n  return \"esri.layers.MapImageLayer\" === e.declaredClass;\n}\nfunction Ue(e) {\n  return \"esri.layers.TileLayer\" === e.declaredClass;\n}\nfunction Be(e) {\n  return e.declaredClass === ce;\n}\nfunction qe(e) {\n  return e.declaredClass === de;\n}\nfunction Ne(e) {\n  return e.declaredClass === ye;\n}\nfunction He(e) {\n  return \"stretch-ramp\" === e.type;\n}\nfunction $e(e) {\n  const t = \"authoringInfo\" in e ? e?.authoringInfo : null;\n  return \"univariate-color-size\" === t?.type;\n}\nfunction We(e) {\n  const t = \"authoringInfo\" in e ? e?.authoringInfo : null;\n  return \"univariate-color-size\" === t?.type && \"above-and-below\" === t?.univariateTheme;\n}\nfunction Ge(e) {\n  return \"sublayers\" in e;\n}\nasync function Je(e, t) {\n  const s = await ne(\"esri/widgets/Legend/t9n/Legend\");\n  return \"previewTemplateAriaLabel\" !== e || t || (e = \"previewAriaLabel\"), ae(s[e], {\n    label: t\n  });\n}\nconst Qe = new le({\n  style: \"path\",\n  path: \"M10,5 L5,0 0,5 M5,0 L5,15\",\n  size: 15,\n  outline: {\n    width: 1,\n    color: [85, 85, 85, 1]\n  }\n});\nlet Ze = {},\n  Ke = class extends l {\n    constructor(e) {\n      super(e), this._hasColorRamp = !1, this._hasOpacityRamp = !1, this._hasSizeRamp = !1, this._webStyleSymbolCache = new Map(), this._dotDensityUrlCache = new Map(), this._scaleDrivenSizeVariable = null, this._hasClusterSizeVariable = !1, this._layerDefinitionExpressionClause = null, this.children = new n(), this.layerView = null, this.layer = null, this.legendElements = [], this.parent = null, this.hideLayersNotInCurrentView = !1, this.keepCacheOnDestroy = !1, this.respectLayerDefinitionExpression = !1, this.respectLayerVisibility = !0, this.sublayerIds = [], this.title = null, this.view = null;\n    }\n    initialize() {\n      const e = () => this.notifyChange(\"ready\");\n      this.addHandles([c(() => this.children, \"change\", t => {\n        const {\n          added: s,\n          removed: i\n        } = t;\n        s.forEach(t => {\n          const s = `activeLayerInfo-ready-watcher-${t.layer.uid}`;\n          this.addHandles(d(() => t.ready, e, h), s);\n        }), i.forEach(e => this.removeHandles(e.layer.uid)), e();\n      })]), this.keepCacheOnDestroy || (Ze = {});\n    }\n    destroy() {\n      this._webStyleSymbolCache = null, this._dotDensityUrlCache = null, this._scaleDrivenSizeVariable = null, this.keepCacheOnDestroy || (Ze = null), this._layerDefinitionExpressionClause = null;\n    }\n    get effectList() {\n      const e = this.layer;\n      let t = null;\n      return \"effect\" in e && e.effect && (t = new _(), t.effect = e.effect, t.endTransitions(), t.scale = this.scale), t;\n    }\n    get opacity() {\n      const e = this.layer.opacity,\n        t = this.parent?.opacity,\n        s = this.layer.parent,\n        i = s && \"uid\" in s ? this._getParentLayerOpacity(s) : null;\n      return null != t ? t * e : null != i ? i * e : e;\n    }\n    get ready() {\n      return null === this.layer || (this.children.length > 0 ? this._isGroupActive() : this.legendElements.length > 0);\n    }\n    get scale() {\n      return this.view?.scale ?? 0;\n    }\n    get isScaleDriven() {\n      const e = this.layer;\n      if (null === e) return !1;\n      if (\"effect\" in e && e.effect && Array.isArray(e.effect)) return !0;\n      if (\"featureReduction\" in e && e.featureReduction) {\n        if (\"cluster\" === e.featureReduction.type) return !0;\n        if (\"binning\" === e.featureReduction.type && \"renderer\" in e.featureReduction && e.featureReduction.renderer) return this._isRendererScaleDriven(e.featureReduction.renderer);\n      }\n      return \"renderer\" in e && e.renderer ? this._isRendererScaleDriven(e.renderer) : this._isLayerScaleDriven(this.layer);\n    }\n    get version() {\n      return this._get(\"version\") + 1;\n    }\n    async buildLegendElementsForFeatureCollections(e) {\n      if (!(!this.hideLayersNotInCurrentView || (await this._isLayerInCurrentView()))) return this.legendElements = [], void this.notifyChange(\"ready\");\n      const t = Array.from(e, e => {\n        if (L(e)) return this._getRendererLegendElements(e.renderer, {\n          title: e.title\n        });\n        if (e.featureSet?.features.length) {\n          const t = e.layerDefinition,\n            s = t?.drawingInfo,\n            i = s && C(s.renderer),\n            l = me.read(t.geometryType);\n          return i ? this._getRendererLegendElements(i, {\n            title: e.name,\n            geometryType: l\n          }) : (o.getLogger(this).warn(\"drawingInfo not available!\"), null);\n        }\n        return null;\n      });\n      try {\n        const e = [],\n          s = await Promise.allSettled(t);\n        for (const t of s) if (\"fulfilled\" === t.status) for (const s of t.value ?? []) e.push(s);\n        this.legendElements = e, this.notifyChange(\"ready\");\n      } catch (s) {\n        o.getLogger(this).warn(\"error while building legend for layer!\", s);\n      }\n    }\n    async buildLegendElementsForRenderer(e) {\n      try {\n        const t = !this.hideLayersNotInCurrentView || (await this._isLayerInCurrentView());\n        this.legendElements = t ? await this._getRendererLegendElements(e) : [], this.notifyChange(\"ready\");\n      } catch (t) {\n        o.getLogger(this).warn(\"error while building legend for layer!\", t);\n      }\n    }\n    async buildLegendElementsForFeatureReduction(e) {\n      try {\n        const t = !this.hideLayersNotInCurrentView || (await this._isLayerInCurrentView());\n        this.legendElements = t ? await this._getLegendElementsForFeatureReduction(e) : [], this.notifyChange(\"ready\");\n      } catch (t) {\n        o.getLogger(this).warn(\"error while building legend for layer!\", t);\n      }\n    }\n    async buildLegendElementsForTools() {\n      const e = this.layer;\n      if (Pe(e)) this._constructLegendElementsForVoxelLayer();else if (Me(e)) this._constructLegendElementsForWMTSlayer();else if (Ae(e)) await this._constructLegendElementsForWMSSublayers();else if (je(e)) await this._constructLegendElementsForBuildingSceneLayer();else if (ke(e) || Ue(e) || Oe(e)) await this._constructLegendElementsForSublayers();else {\n        this.removeHandles(\"imageryLayers-watcher\");\n        let t = \"default\";\n        if (Be(e)) {\n          const s = e;\n          t = (s?.rasterFunction?.functionName || \"default\") + \"_\" + (e.bandIds?.length ? e.bandIds.join(\"\") : \"###\");\n        }\n        if (qe(e)) return;\n        await this._getLegendLayers(`${e.uid}-${t}`).then(async t => {\n          this.legendElements = [], this.notifyChange(\"ready\");\n          const s = t.map(async t => {\n            if (Be(e)) {\n              const t = d(() => [\"renderingRule\" in e && e.rasterFunction, e.bandIds], () => u(async () => {\n                Ze.default = null, e.renderer ? await this.buildLegendElementsForRenderer(e.renderer) : await this.buildLegendElementsForTools();\n              })());\n              this.addHandles(t, \"imageryLayers-watcher\");\n            }\n            const s = this._generateSymbolTableElementForLegendLayer(t);\n            s?.infos.length && (Be(e) && (s.title = e.title), this.legendElements.push(s)), this.notifyChange(\"ready\");\n          });\n          await Promise.allSettled(s);\n        }).catch(e => {\n          o.getLogger(this).warn(\"Request to server for legend has failed!\", e);\n        });\n      }\n    }\n    async _isLayerInCurrentView() {\n      const e = this.layer,\n        t = this.layerView,\n        s = t && \"createQuery\" in t && \"queryFeatureCount\" in t;\n      if (!s && !(t && \"createQuery\" in e && \"queryFeatureCount\" in e)) return !0;\n      await y(() => !t.updating);\n      const i = s ? \"createQuery\" in t && t.createQuery() : \"createQuery\" in e && e.createQuery();\n      if (!i) return !0;\n      i.geometry = this.view.extent;\n      return 0 !== (s ? \"queryFeatureCount\" in t && (await t.queryFeatureCount(i)) : \"queryFeatureCount\" in e && (await e.queryFeatureCount(i)));\n    }\n    _getParentLayerOpacity(e) {\n      let t = 1;\n      const s = e.parent;\n      return s && \"uid\" in s && (t = this._getParentLayerOpacity(s)), e.opacity * t;\n    }\n    _isGroupActive() {\n      return this.children.some(e => e.ready);\n    }\n    _isRendererScaleDriven(e) {\n      if (\"dot-density\" === e.type) return !0;\n      const t = \"valueExpression\" in e ? e.valueExpression : null;\n      if (he.test(t)) return !0;\n      const s = \"visualVariables\" in e ? e.visualVariables : null;\n      return !!s?.some(e => this._isScaleDrivenSizeVariable(e)) || this._hasScaleDrivenSymbols(e);\n    }\n    _hasScaleDrivenSymbols(e) {\n      switch (e.type) {\n        case \"simple\":\n          return this._isScaleDrivenSymbol(e.symbol);\n        case \"class-breaks\":\n          return this._isScaleDrivenSymbol(e.defaultSymbol) || e.classBreakInfos.some(e => this._isScaleDrivenSymbol(e.symbol));\n        case \"unique-value\":\n          return this._isScaleDrivenSymbol(e.defaultSymbol) || !!e.uniqueValueInfos?.some(e => this._isScaleDrivenSymbol(e.symbol));\n      }\n      return !1;\n    }\n    _isScaleDrivenSymbol(e) {\n      if (\"cim\" === e?.type) {\n        const {\n            primitiveOverrides: t,\n            minScale: s,\n            maxScale: i\n          } = e.data,\n          l = t?.some(e => /\\$view\\.scale/.test(e.valueExpressionInfo?.expression || \"\")) ?? !1;\n        return null != s || null != i || l;\n      }\n      return !1;\n    }\n    _isScaleDrivenSizeVariable(e) {\n      if (e && \"size\" !== e.type) return !1;\n      const t = e,\n        s = t.minSize,\n        i = t.maxSize;\n      return !(\"object\" != typeof s || !s || !this._isScaleDrivenSizeVariable(s)) || !(\"object\" != typeof i || !i || !this._isScaleDrivenSizeVariable(i)) || he.test(t.valueExpression);\n    }\n    _isLayerScaleDriven(e) {\n      if (\"minScale\" in e && e.minScale > 0 || \"maxScale\" in e && e.maxScale > 0) return !0;\n      if (\"sublayers\" in e && e.sublayers) return e.sublayers.some(e => this._isLayerScaleDriven(e));\n      const t = e.parent;\n      if (!1 === e.loaded && t && ke(t) && \"source\" in e && e.source && \"map-layer\" === e.source.type) for (const s of t.sourceJSON.layers ?? []) if (s.id === e.source.mapLayerId && (s.minScale > 0 || s.maxScale > 0)) return !0;\n      return !1;\n    }\n    async _constructLegendElementsForVoxelLayer() {\n      this.legendElements = [], this.removeHandles(\"voxel-style-watcher\"), this.removeHandles(\"voxel-current-variable\");\n      const e = this.layer;\n      this.addHandles(d(() => e.currentVariableId, () => this._constructLegendElementsForVoxelLayer()), \"voxel-current-variable\"), this.addHandles(d(() => e.getVariableStyles(), () => this._constructLegendElementsForVoxelLayer()), \"voxel-style-watcher\");\n      const t = e.getVariableStyle(null),\n        s = [];\n      if (t) if (t.uniqueValues?.length) {\n        const e = [];\n        t.uniqueValues.forEach(t => {\n          t.enabled && e.push({\n            label: t.label || `${t.value}`,\n            value: t.value,\n            symbol: new re({\n              color: t.color,\n              outline: null\n            })\n          });\n        }), e.length && s.push({\n          type: \"symbol-table\",\n          title: t.label,\n          infos: e\n        });\n      } else if (t.transferFunction) {\n        const {\n            colorStops: e,\n            stretchRange: i\n          } = t.transferFunction,\n          l = e.toArray().reverse(),\n          r = i.map((e, t) => `${0 === t ? Q : Z} ${ie(e)}`).reverse(),\n          n = l.map(e => ({\n            color: e.color,\n            value: null,\n            label: null\n          }));\n        n[0].label = r[0], n[n.length - 1].label = r[1], s.push({\n          type: \"color-ramp\",\n          title: t.label,\n          infos: n,\n          preview: D(l.map(e => e.color), {\n            ariaLabel: await Je(\"previewColorRampAriaLabel\")\n          })\n        });\n      }\n      const i = e.opacity,\n        l = s.reduce((e, t) => [...e, ...this._getAllInfos(t)], []).filter(e => !!e?.symbol).map(e => this._getSymbolPreview(e, i));\n      await Promise.allSettled(l), this.legendElements = s, this.notifyChange(\"ready\");\n    }\n    _constructLegendElementsForWMTSlayer() {\n      this.legendElements = [], this.removeHandles(\"wmts-activeLayer-watcher\");\n      const e = this.layer.activeLayer;\n      this.addHandles(d(() => {\n        const {\n          layer: e\n        } = this;\n        return e && \"activeLayer\" in e && e.activeLayer;\n      }, () => this._constructLegendElementsForWMTSlayer()), \"wmts-activeLayer-watcher\");\n      const t = e.styleId ? e.styles?.find(({\n        id: t\n      }) => t === e.styleId)?.legendUrl : void 0;\n      t && (this.legendElements = [{\n        type: \"symbol-table\",\n        title: e.title,\n        infos: [{\n          src: t,\n          opacity: this.opacity\n        }]\n      }]), this.notifyChange(\"ready\");\n    }\n    async _constructLegendElementsForWMSSublayers() {\n      this.legendElements = [], this.removeHandles(\"wms-sublayers-watcher\");\n      const e = this.layer;\n      let t = null;\n      (e.customParameters || e.customLayerParameters) && (t = {\n        ...e.customParameters,\n        ...e.customLayerParameters\n      }), this.addHandles(d(() => {\n        const {\n          layer: e\n        } = this;\n        return e && \"sublayers\" in e && e.sublayers;\n      }, () => this._constructLegendElementsForWMSSublayers()), \"wms-sublayers-watcher\"), this.legendElements = await this._generateLegendElementsForWMSSublayers(e.sublayers, t), this.notifyChange(\"ready\");\n    }\n    async _generateLegendElementsForWMSSublayers(e, t) {\n      const s = this.layer,\n        i = [];\n      this.addHandles(e.on(\"change\", () => this._constructLegendElementsForWMSSublayers()), \"wms-sublayers-watcher\");\n      const l = this.sublayerIds?.map(e => s.findSublayerById(e))?.filter(r) ?? [],\n        n = l.length ? l : e.toArray();\n      for (const r of n) {\n        const e = d(() => [r.title, r.visible, r.legendEnabled], () => this._constructLegendElementsForWMSSublayers());\n        if (this.addHandles(e, \"wms-sublayers-watcher\"), !this.respectLayerVisibility || r.visible && r.legendEnabled) {\n          const e = await this._generateSymbolTableElementForWMSSublayer(r, t);\n          e?.infos.length && i.unshift(e);\n        }\n      }\n      return i;\n    }\n    async _generateSymbolTableElementForWMSSublayer(e, t) {\n      if (!e.legendUrl && e.sublayers) {\n        const s = (await this._generateLegendElementsForWMSSublayers(e.sublayers, t)).filter(e => e);\n        return {\n          type: \"symbol-table\",\n          title: e.title,\n          infos: s\n        };\n      }\n      return this._generateSymbolTableElementForLegendUrl(e, t);\n    }\n    async _generateSymbolTableElementForLegendUrl(e, t) {\n      let s = e.legendUrl;\n      if (!s) return;\n      const l = {\n        type: \"symbol-table\",\n        title: e.title || e.name || String(e.id ?? \"\"),\n        infos: []\n      };\n      t && (s = p(s, t));\n      let r = null;\n      const n = e.layer?.opacity;\n      try {\n        r = (await i(s, {\n          responseType: \"image\"\n        })).data, r && (r.style.opacity = n);\n      } catch {}\n      return l.infos.push({\n        src: s,\n        preview: r,\n        opacity: n\n      }), l;\n    }\n    _getLegendLayers(e, t) {\n      const s = Ze && Ze[e];\n      return s ? Promise.resolve(s) : this._legendRequest(t).then(t => {\n        const s = t.layers;\n        return Ze[e] = s, s;\n      });\n    }\n    _legendRequest(e) {\n      const t = this.layer;\n      let s = {\n        f: \"json\",\n        dynamicLayers: e\n      };\n      if (Be(t)) {\n        const e = t.exportImageServiceParameters.rasterFunction;\n        if (e && (s.renderingRule = JSON.stringify(e.functionDefinition?.toJSON() || e.toJSON())), t.bandIds && (s.bandIds = t.bandIds.join()), t.raster || t.viewId || t.customParameters) {\n          const {\n            raster: e,\n            viewId: i,\n            customParameters: l\n          } = t;\n          s = {\n            raster: e,\n            viewId: i,\n            ...s,\n            ...l\n          };\n        }\n      }\n      let l = t.url.replace(/(\\/)+$/, \"\");\n      if (\"version\" in t && +t.version >= 10.01) {\n        const e = l.indexOf(\"?\");\n        e > -1 ? l = l.substring(0, e) + \"/legend\" + l.substring(e) : l += \"/legend\";\n      } else {\n        const e = l.toLowerCase().indexOf(\"/rest/\"),\n          t = l.substring(0, e) + l.substring(e + 5, l.length);\n        l = ue + \"?soapUrl=\" + encodeURI(t) + \"&returnbytes=true\";\n      }\n      return i(l, {\n        query: s\n      }).then(e => e.data);\n    }\n    async _constructLegendElementsForBuildingSceneLayer() {\n      this.legendElements = [], this.removeHandles(\"sublayers-watcher\");\n      const e = this.layer;\n      this.addHandles(d(() => e.sublayers, () => this._constructLegendElementsForBuildingSceneLayer()), \"sublayers-watcher\");\n      try {\n        this.legendElements = await this._generateLegendElementsForBuildingSublayers(e.sublayers, this.opacity), this.notifyChange(\"ready\");\n      } catch (t) {\n        o.getLogger(this).warn(\"Request to server for legend has failed!\", t);\n      }\n    }\n    async _generateLegendElementsForBuildingSublayers(e, t) {\n      let s = [];\n      this.addHandles(e.on(\"change\", () => this._constructLegendElementsForBuildingSceneLayer()), \"sublayers-watcher\");\n      const i = e.toArray();\n      for (const l of i) {\n        const e = d(() => [\"renderer\" in l && l.renderer, l.opacity, l.title, l.visible], () => this._constructLegendElementsForBuildingSceneLayer());\n        if (this.addHandles(e, \"sublayers-watcher\"), !this.respectLayerVisibility || l.visible) {\n          const e = null != l?.opacity ? l.opacity : null,\n            i = null != e ? e * t : t;\n          if (\"building-group\" === l.type) {\n            const e = {\n                type: \"symbol-table\",\n                title: l.title,\n                infos: []\n              },\n              t = await this._generateLegendElementsForBuildingSublayers(l.sublayers, i);\n            e.infos.push(...t), s = [e, ...s];\n          } else if (l.renderer) {\n            s = [...(await this._getRendererLegendElements(l.renderer, {\n              title: l.title,\n              opacity: i,\n              sublayer: l\n            })), ...s];\n          }\n        }\n      }\n      return s.filter(e => !!e && (!(\"infos\" in e) || !e.infos || e.infos.length > 0));\n    }\n    async _constructLegendElementsForSublayers() {\n      this.legendElements = [], this.removeHandles(\"sublayers-watcher\");\n      const e = this.layer;\n      if (ke(e) || Ue(e) || Oe(e)) {\n        this.addHandles(d(() => e.sublayers, () => this._constructLegendElementsForSublayers), \"sublayers-watcher\");\n        try {\n          this.legendElements = await this._generateLegendElementsForSublayers(e.sublayers, this.opacity), this.notifyChange(\"ready\");\n        } catch (t) {\n          o.getLogger(this).warn(\"Request to server for legend has failed!\", t);\n        }\n      }\n    }\n    async _generateLegendElementsForSublayers(e, t, s) {\n      const i = this.layer;\n      let l = [];\n      this.addHandles(e.on(\"change\", () => this._constructLegendElementsForSublayers()), \"sublayers-watcher\");\n      let n = e.toArray();\n      !s && this.sublayerIds && this.sublayerIds.length && (n = Oe(i) ? this.sublayerIds.map(e => i.findSublayerForSubtypeCode(e)).filter(r) : this.sublayerIds.map(e => i.findSublayerById(e)).filter(r));\n      for (const r of n) {\n        const e = d(() => [r.renderer, r.opacity, r.title, r.visible, r.legendEnabled], () => this._constructLegendElementsForSublayers());\n        if (this.addHandles(e, \"sublayers-watcher\"), !this.respectLayerVisibility || r.visible && r.legendEnabled && this._isSublayerInScale(r)) {\n          const e = null != r?.opacity ? r.opacity : null,\n            i = null != e ? e * t : t,\n            n = !Ge(r) || r.originIdOf(\"renderer\") > S.SERVICE && !r.sublayers;\n          if (r.renderer && n) {\n            await r.load();\n            l = [...(await this._getRendererLegendElements(r.renderer, {\n              title: r.title,\n              opacity: i,\n              sublayer: r\n            })), ...l];\n          } else if (Ge(r)) {\n            const e = await this._generateSymbolTableElementForSublayer(r, i, s);\n            e && l.unshift(e);\n          }\n        }\n      }\n      return l.filter(e => !!e && (!(\"infos\" in e) || !e.infos || e.infos.length > 0));\n    }\n    async _generateSymbolTableElementForSublayer(e, t, s) {\n      if (!s) {\n        s = new Map();\n        const t = this.layer,\n          i = e.source;\n        let l = null;\n        if (!(!i || \"map-layer\" === i.type && i.mapLayerId === e.id && (!i.gdbVersion || i.gdbVersion === (\"gdbVersion\" in t && t.gdbVersion))) || e.originIdOf(\"renderer\") > S.SERVICE || e.originIdOf(\"labelingInfo\") > S.SERVICE || e.originIdOf(\"labelsVisible\") > S.SERVICE) {\n          const e = new w({\n            layer: this.layer\n          });\n          l = e.hasDynamicLayers ? e.dynamicLayers : null, e.destroy();\n        }\n        const r = l || `${t.uid}-default`;\n        (await this._getLegendLayers(r, l)).forEach(e => s.set(e.layerId, e));\n      }\n      const i = s.get(e.id);\n      if ((!i || i?.subLayerIds && i.defaultVisibility) && e.sublayers) {\n        const i = await this._generateLegendElementsForSublayers(e.sublayers, t, s);\n        return {\n          type: \"symbol-table\",\n          title: e.title,\n          infos: i\n        };\n      }\n      return this._generateSymbolTableElementForLegendLayer(i, e, t);\n    }\n    _generateSymbolTableElementForLegendLayer(e, t, s) {\n      if (!e?.legend || this.respectLayerVisibility && !this._isLegendLayerInScale(e, t)) return null;\n      const i = t?.renderer;\n      let l = t?.title || e.layerName;\n      if (i && (!t || t?.originIdOf(\"renderer\") > S.SERVICE)) {\n        const e = t?.title || this._getRendererTitle(i, t);\n        e && (l && \"string\" != typeof e && \"title\" in e && (e.title = l), l = e);\n      }\n      const r = {\n          type: \"symbol-table\",\n          title: l,\n          legendType: e.legendType || null,\n          infos: []\n        },\n        n = t ? this._sanitizeLegendForSublayer(e.legend.slice(), t) : e.legend;\n      return e.legendGroups && e.legendGroups.length > 0 ? e.legendGroups.forEach(t => {\n        const i = {\n          type: \"symbol-table\",\n          title: t.heading,\n          legendType: e.legendType || null,\n          infos: this._generateSymbolTableElementInfosForLegendLayer(n.filter(e => e.groupId === t.id), e.layerId, s)\n        };\n        i.infos?.length > 0 && r.infos.push(i);\n      }) : r.infos = this._generateSymbolTableElementInfosForLegendLayer(n, e.layerId, s), r.infos.length > 0 ? r : null;\n    }\n    _generateSymbolTableElementInfosForLegendLayer(e, t, i) {\n      return e.map(e => {\n        let l = e.url;\n        if (e.imageData && e.imageData.length > 0) l = `data:image/png;base64,${e.imageData}`;else {\n          if (0 === l.indexOf(\"http\")) return null;\n          l = s(`${this.layer.url}/${t}/images/${l}`);\n        }\n        return {\n          label: e.label,\n          src: l,\n          opacity: i ?? this.opacity,\n          width: e.width,\n          height: e.height\n        };\n      }).filter(r);\n    }\n    _isSublayerInScale(e) {\n      const t = e.minScale || 0,\n        s = e.maxScale || 0;\n      return !(t > 0 && t < this.scale || s > this.scale);\n    }\n    _isLegendLayerInScale(e, t) {\n      const s = t || this.layer;\n      let i = null,\n        l = null,\n        r = !0;\n      return !s.minScale && 0 !== s.minScale || !s.maxScale && 0 !== s.maxScale ? (0 === e.minScale && s.tileInfo && (i = s.tileInfo.lods[0].scale), 0 === e.maxScale && s.tileInfo && (l = s.tileInfo.lods[s.tileInfo.lods.length - 1].scale)) : (i = Math.min(s.minScale, e.minScale) || s.minScale || e.minScale, l = Math.max(s.maxScale, e.maxScale)), (i > 0 && i < this.scale || l > this.scale) && (r = !1), r;\n    }\n    _sanitizeLegendForSublayer(e, t) {\n      if (\"version\" in this.layer && +this.layer.version < 10.1 || 0 === e.length) return e;\n      const s = t.renderer,\n        i = e.some(e => e.values);\n      let l = 0,\n        r = null;\n      return i && e.some((e, t) => (e.values || (l = t, r = e, r.label || (r.label = \"others\")), null != r)), s ? \"unique-value\" === s.type ? r && (e.splice(l, 1), e.push(r)) : \"class-breaks\" === s.type && (r && e.splice(l, 1), e.reverse(), r && e.push(r)) : r && (e.splice(l, 1), e.push(r)), e;\n    }\n    async _getRendererLegendElements(e, t = {}) {\n      if (!De(e, this.view)) return o.getLogger(this).warn(`Renderer of type '${e.type}' not supported!`), [];\n      if (Ie(e)) return this._constructPointCloudRendererLegendElements(e, t);\n      if (ze(e)) return this._constructDotDensityRendererLegendElements(e);\n      const s = await this._loadRenderer(e);\n      return Te(s) ? this._constructPieChartRendererLegendElements(s) : this._constructRendererLegendElements(s, t);\n    }\n    async _getLegendElementsForFeatureReduction(e) {\n      let t = null;\n      return \"binning\" === e.type ? t = e.renderer : \"cluster\" === e.type && (t = this._getClusterRenderer(e)), t ? this._getRendererLegendElements(t) : [];\n    }\n    _getPointCloudRendererTitle(e) {\n      return (e.legendOptions?.title || e.field) ?? \"\";\n    }\n    async _constructPointCloudRendererLegendElements(e, t = {}) {\n      const s = t.title,\n        i = [];\n      let l = null,\n        r = null;\n      if (Fe(e)) l = {\n        type: \"symbol-table\",\n        title: s || this._getPointCloudRendererTitle(e),\n        infos: []\n      }, e.colorClassBreakInfos.forEach(e => {\n        l.infos.unshift({\n          label: e.label || e.minValue + \" - \" + e.maxValue,\n          value: [e.minValue, e.maxValue],\n          symbol: this._getAppliedCloneSymbol(fe, e.color)\n        });\n      });else if (Ve(e)) {\n        const t = e.stops;\n        let i = null;\n        if (t?.length && (1 === t.length && (i = t[0].color), !i)) {\n          const e = t[0].value,\n            s = t[t.length - 1].value;\n          if (null != e && null != s) {\n            i = k(e + (s - e) / 2, t);\n          }\n        }\n        l = {\n          type: \"symbol-table\",\n          title: null,\n          infos: [{\n            label: null,\n            value: null,\n            symbol: this._getAppliedCloneSymbol(fe, i || fe.color)\n          }]\n        };\n        const n = U(e.stops ?? []) ?? [];\n        r = {\n          type: \"color-ramp\",\n          title: s || this._getPointCloudRendererTitle(e),\n          infos: n,\n          preview: D(n.map(e => e.color), {\n            ariaLabel: await Je(\"previewColorRampAriaLabel\")\n          })\n        };\n      } else xe(e) && (l = {\n        type: \"symbol-table\",\n        title: s || this._getPointCloudRendererTitle(e),\n        infos: []\n      }, e.colorUniqueValueInfos?.forEach(e => {\n        l.infos.push({\n          label: e.label || e.values.join(\", \"),\n          value: e.values.join(\", \"),\n          symbol: this._getAppliedCloneSymbol(fe, e.color)\n        });\n      }));\n      l?.infos.length && i.push(l), r?.infos.length && i.push(r);\n      const n = i.reduce((e, t) => [...e, ...(t.infos ?? [])], []).filter(e => !!e.symbol).map(t => this._getSymbolPreview(t, this.opacity, {\n        symbolConfig: {\n          applyColorModulation: !!e.colorModulation\n        }\n      }));\n      return await Promise.allSettled(n), i;\n    }\n    async _getElementInfoForDotDensity(e, t) {\n      const {\n          color: s,\n          label: i,\n          valueExpressionTitle: l\n        } = t,\n        {\n          backgroundColor: r,\n          outline: n,\n          dotSize: a\n        } = e,\n        o = this.effectList,\n        u = o?.effects.map(e => e.toJSON()),\n        c = v(u),\n        d = await Je(\"previewTemplateAriaLabel\", i || l),\n        y = a + \"-\" + s + \"-\" + r + \"-\" + (n && JSON.stringify(n.toJSON())) + \"-\" + c,\n        h = this._dotDensityUrlCache,\n        m = h.has(y) ? h.get(y) : j(e, s, {\n          ariaLabel: d\n        });\n      h.set(y, m);\n      const f = {\n          shape: {\n            type: \"image\",\n            x: 0,\n            y: 0,\n            width: m.width,\n            height: m.height,\n            src: m.src\n          },\n          fill: null,\n          stroke: null,\n          offset: [0, 0]\n        },\n        p = T([[f]], [m.width, m.height], {\n          effectView: this.effectList,\n          ariaLabel: d\n        });\n      return {\n        opacity: 1,\n        src: m.src,\n        preview: p,\n        width: m.width,\n        height: m.height\n      };\n    }\n    async _constructDotDensityRendererLegendElements(e) {\n      const t = e.calculateDotValue(this.view.scale),\n        s = e.legendOptions?.unit,\n        i = {\n          type: \"symbol-table\",\n          title: {\n            value: t && Math.round(t),\n            unit: s || \"\"\n          },\n          infos: []\n        };\n      for (const l of e.attributes) {\n        const t = await this._getElementInfoForDotDensity(e, l);\n        t.label = l.label || l.valueExpressionTitle || l.field, i.infos.push(t);\n      }\n      return [i];\n    }\n    async _constructPieChartRendererLegendElements(e) {\n      const t = this.layer.opacity,\n        s = [];\n      let i = null;\n      const l = e.outline;\n      e.attributes.forEach(e => {\n        const t = new le({\n            color: e.color,\n            outline: l\n          }),\n          i = e.label || e.valueExpressionTitle || e.field;\n        s.push({\n          label: i,\n          symbol: t\n        });\n      });\n      const r = s.length ? [...s] : [];\n      if (e.othersCategory?.color && 0 !== e.othersCategory?.threshold) {\n        const t = new le({\n          color: e.othersCategory.color,\n          outline: l\n        });\n        i = e.othersCategory.label || \"Other\", s.push({\n          label: i,\n          symbol: t\n        });\n      }\n      if (e.defaultColor?.a) {\n        const t = new le({\n          color: e.defaultColor,\n          outline: l\n        });\n        s.push({\n          label: e.defaultLabel,\n          symbol: t\n        });\n      }\n      const n = (await this._getVisualVariableLegendElements(e, this.layer)) || [];\n      if (s.length) {\n        n.unshift({\n          type: \"symbol-table\",\n          title: null,\n          infos: s\n        });\n        const t = r.filter(e => e.label !== i).map(e => e.symbol.color).filter(Boolean),\n          a = O(t, {\n            holePercentage: e.holePercentage,\n            backgroundColor: e.backgroundFillSymbol?.color,\n            effectList: this.effectList,\n            outline: l,\n            ariaLabel: await Je(\"previewPieChartAriaLabel\")\n          });\n        n.unshift({\n          type: \"pie-chart-ramp\",\n          title: this._getRendererTitle(e, this.layer),\n          infos: s,\n          preview: a\n        });\n      }\n      const a = n.reduce((e, t) => [...e, ...this._getAllInfos(t)], []).filter(e => !!e?.symbol && !e?.preview).map(e => this._getSymbolPreview(e, t, {\n        effectList: this.effectList\n      }));\n      return await Promise.allSettled(a), n;\n    }\n    async _constructRendererLegendElements(e, t = {}) {\n      const {\n          title: s,\n          sublayer: i\n        } = t,\n        l = i || this.layer,\n        r = K(e);\n      \"definitionExpression\" in l && l.definitionExpression && !this._layerDefinitionExpressionClause && this.respectLayerDefinitionExpression && (this._layerDefinitionExpressionClause = await f(l.definitionExpression, l.fieldsIndex)), this._hasColorRamp = !1, this._hasOpacityRamp = !1, this._hasSizeRamp = !1, this._scaleDrivenSizeVariable = null;\n      const n = (await this._getVisualVariableLegendElements(e, l)) || [],\n        a = {\n          type: \"symbol-table\",\n          title: s || this._getRendererTitle(e, l),\n          infos: []\n        };\n      let o = null,\n        u = !1;\n      const c = new Set();\n      if (ge(e) && !this._hasSizeRamp) {\n        const t = await X(e);\n        a.infos.push({\n          label: null,\n          symbol: t\n        });\n      } else if ($e(e)) {\n        let t = s;\n        const i = We(e) ? \"univariate-above-and-below-ramp\" : \"univariate-color-size-ramp\",\n          l = n.findIndex(e => \"color-ramp\" === e.type),\n          r = -1 !== l ? n.splice(l, 1)[0] : null,\n          a = n.findIndex(e => \"size-ramp\" === e.type),\n          o = -1 !== a ? n.splice(a, 1)[0] : null,\n          u = [];\n        r && (t = r.title, u.push(r)), o && (t = o.title, u.push(o)), u.length > 0 && n.push({\n          type: i,\n          title: t,\n          infos: u\n        });\n      } else if (Ce(e)) {\n        const t = N(e);\n        n.push({\n          type: \"heatmap-ramp\",\n          title: s || this._getRendererTitle(e, l),\n          infos: t,\n          preview: D(t.map(e => e.color), {\n            effectList: this.effectList,\n            ariaLabel: await Je(\"previewColorRampAriaLabel\")\n          })\n        });\n      } else if (Ee(e)) {\n        const t = e && e.authoringInfo;\n        if (t && \"relationship\" === t.type) {\n          const {\n              numClasses: s,\n              field1: i,\n              field2: r\n            } = t,\n            o = t.focus;\n          if (s && i && r) {\n            const t = [i, r];\n            let u = H(o) || 0;\n            for (const e of t) {\n              const {\n                  field: t,\n                  normalizationField: s,\n                  label: i\n                } = e,\n                r = i || {\n                  field: this._getFieldAlias(t, l),\n                  normField: s && this._getFieldAlias(s, l)\n                },\n                n = Qe.clone();\n              n.angle = u, a.infos.push({\n                label: r,\n                symbol: n\n              }), c.add(n), u += 90;\n            }\n            const d = $({\n              focus: o,\n              numClasses: s,\n              infos: e.uniqueValueInfos ?? []\n            });\n            n.unshift(d);\n          }\n        } else if (Be(this.layer) || qe(this.layer)) {\n          const {\n            field: t,\n            field2: s\n          } = e;\n          e.uniqueValueInfos?.forEach(e => {\n            e.symbol && (t && this._checkDefinitionExpression(t, e.value) || s) && a.infos.push({\n              label: e.label || e.value,\n              value: e.value,\n              symbol: e.symbol\n            });\n          });\n        } else {\n          const {\n              field: t,\n              field2: i,\n              field3: n,\n              fieldDelimiter: o,\n              valueExpression: c,\n              defaultSymbol: d\n            } = e,\n            y = !(!t && !c || !i && !n),\n            h = [];\n          if (e.uniqueValueGroups?.forEach(e => {\n            const s = {\n              type: \"symbol-table\",\n              title: e.heading,\n              infos: []\n            };\n            e.classes?.forEach(e => {\n              const {\n                symbol: a,\n                values: u\n              } = e;\n              if (a) {\n                const d = [],\n                  h = [];\n                for (const e of u ?? []) {\n                  const {\n                      value: s,\n                      value2: r,\n                      value3: a\n                    } = e,\n                    u = [],\n                    m = [];\n                  (t || c) && (u.push(s), m.push(this._getDomainName(t, s, l))), i && (u.push(r), m.push(this._getDomainName(i, r, l))), n && (u.push(a), m.push(this._getDomainName(n, a, l))), d.push(y ? u.join(o || \"\") : u[0]), h.push(m.join(\" - \"));\n                }\n                const m = d.join(\", \");\n                let f = e.label;\n                if (!f) {\n                  const e = h.filter(Boolean);\n                  f = e.length ? e.join(\", \") : m;\n                }\n                const p = a.clone();\n                \"cim\" === p.type && r && V(p, {\n                  innerDotSize: .5 * oe,\n                  outerRingSize: oe\n                }), (this._checkDefinitionExpression(t, m) || i) && s.infos.push({\n                  label: f,\n                  value: m,\n                  symbol: p\n                });\n              }\n            }), s.infos.length && h.push(s);\n          }), h.length) {\n            const t = h[0];\n            1 === h.length && \"title\" in t && !t.title ? a.infos.push(...(t.infos ?? [])) : (d && (h.push({\n              type: \"symbol-table\",\n              infos: [{\n                label: e.defaultLabel || \"others\",\n                symbol: d\n              }]\n            }), u = !0), a.infos.push(...h)), s || e.legendOptions?.title || e.valueExpressionTitle || (a.title = null);\n          }\n        }\n        e.defaultSymbol && !u && (a.infos.push({\n          label: e.defaultLabel || \"others\",\n          symbol: e.defaultSymbol\n        }), u = !0);\n      } else if (Le(e)) {\n        if (!r) {\n          o = this._isUnclassedRenderer(e);\n          if (!o || !this._hasSizeRamp) {\n            const t = e.classBreakInfos.filter(({\n              symbol: e\n            }) => e);\n            for (const {\n              label: e,\n              minValue: s,\n              maxValue: i,\n              symbol: l\n            } of t) a.infos.unshift({\n              label: e || (o ? null : `${s} - ${i}`),\n              value: [s, i],\n              symbol: l\n            });\n            o && (a.title = null), this._updateInfosForClassedSizeRenderer(e, a.infos);\n          }\n          e.defaultSymbol && !o && (a.infos.push({\n            label: e.defaultLabel || \"others\",\n            symbol: e.defaultSymbol\n          }), u = !0);\n        }\n      } else if (_e(e)) {\n        if (qe(this.layer) || Ne(this.layer)) {\n          const t = await this._constructTileImageryStretchRendererElements(e);\n          He(t) ? n.push(t) : a.infos = t;\n        } else {\n          const t = this.layer;\n          let s, i;\n          if (e.statistics?.length) {\n            const t = e.statistics[0];\n            Y(t) ? (s = t.min, i = t.max) : [s, i] = t;\n          }\n          let l = [],\n            r = t.serviceRasterInfo;\n          if (t.rasterFunction) try {\n            r = await t.generateRasterInfo(t.rasterFunction);\n          } catch {}\n          const o = E(r.pixelType);\n          if (1 === r.bandCount) {\n            const l = t.bandIds?.[0] || 0;\n            s = null != s ? s : r.statistics ? r.statistics[l].min : o[0], i = null != i ? i : r.statistics ? r.statistics[l].max : o[1], s || i ? n.push(await this._getStretchLegendElements(e, {\n              min: s,\n              max: i\n            })) : this._getServerSideLegend();\n          } else if (t.bandIds && 1 === t.bandIds.length) s = null != s ? s : r.statistics ? r.statistics[t.bandIds[0]].min : o[0], i = null != i ? i : r.statistics ? r.statistics[t.bandIds[0]].max : o[1], s || i ? n.push(await this._getStretchLegendElements(e, {\n            min: s,\n            max: i\n          })) : this._getServerSideLegend();else if (r.bandCount >= 3) {\n            const {\n                bandInfos: e\n              } = r,\n              {\n                bandIds: s\n              } = t;\n            e.length >= r.bandCount ? 3 === s?.length ? (l = s.map(t => e[t].name), a.infos = this._createSymbolTableElementMultiBand(l)) : \"lerc\" === t.format ? (l = [0, 1, 2].map(t => e[t].name), a.infos = this._createSymbolTableElementMultiBand(l)) : this._getServerSideLegend() : \"lerc\" === t.format ? (l = [\"band1\", \"band2\", \"band3\"], a.infos = this._createSymbolTableElementMultiBand(l)) : this._getServerSideLegend();\n          } else this._getServerSideLegend();\n        }\n      } else if (Se(e)) e.colormapInfos.forEach(e => {\n        a.infos.push({\n          label: e.label,\n          value: e.value,\n          symbol: this._getAppliedCloneSymbol(pe, e.color)\n        });\n      });else if (we(e)) {\n        let s = e.symbol;\n        switch (t.geometryType) {\n          case \"point\":\n            s = \"pointSymbol\" in l ? l.pointSymbol : null;\n            break;\n          case \"polyline\":\n            s = \"lineSymbol\" in l ? l.lineSymbol : null;\n            break;\n          case \"polygon\":\n            s = \"polygonSymbol\" in l ? l.polygonSymbol : null;\n        }\n        const i = this._hasClusterSizeVariable && this._getClusterSymbol() || !this._hasSizeRamp;\n        e.symbol && i && a.infos.push({\n          label: e.label,\n          symbol: s\n        });\n      } else if (be(e)) {\n        e.outputUnit && (this.title = \"(\" + e.toJSON().outputUnit + \")\"), a.title = e.attributeField;\n        const t = e.getClassBreakInfos();\n        t?.length ? t.forEach(e => {\n          a.infos.push({\n            label: e.minValue + \" - \" + e.maxValue,\n            symbol: e.symbol\n          });\n        }) : a.infos.push({\n          label: e.attributeField,\n          symbol: e.getDefaultSymbol()\n        });\n      } else ve(e) && n.push(await this._getStretchLegendElements(e, {\n        min: 0,\n        max: 255\n      }));\n      const d = e.defaultSymbol;\n      !d || u || we(e) || o && !this._hasColorRamp && !this._hasSizeRamp && !this._hasOpacityRamp || n.push({\n        type: \"symbol-table\",\n        infos: [{\n          label: e.defaultLabel || \"others\",\n          symbol: d\n        }]\n      }), a.infos.length && n.unshift(a);\n      const y = null == t.opacity ? this.opacity : t.opacity,\n        h = this._isTallSymbol(\"visualVariables\" in e ? e.visualVariables : null),\n        m = Be(this.layer) || qe(this.layer),\n        p = n.reduce((e, t) => [...e, ...this._getAllInfos(t)], []).filter(e => !!e?.symbol).filter(e => {\n          if (\"cim\" === e.symbol.type) {\n            const {\n              minScale: t,\n              maxScale: s\n            } = e.symbol.data;\n            if (t && t < this.scale || s && s > this.scale) return !1;\n          }\n          return !0;\n        }).map(e => this._getSymbolPreview(e, y, {\n          isDefault: e.symbol === d,\n          applyScaleDrivenSize: !c.has(e.symbol),\n          symbolConfig: {\n            isTall: h,\n            isSquareFill: m\n          },\n          effectList: c.has(e.symbol) ? null : this.effectList\n        }));\n      return e = null, await Promise.allSettled(p), n;\n    }\n    _checkDefinitionExpression(e, t) {\n      return !e || \"string\" != typeof e || !this._layerDefinitionExpressionClause || this._layerDefinitionExpressionClause.testFeature({\n        [e]: t\n      });\n    }\n    _getServerSideLegend() {\n      setTimeout(() => this.buildLegendElementsForTools(), 0);\n    }\n    _getAllInfos(e) {\n      const t = e?.infos;\n      return t ? t.reduce((e, t) => e.concat(this._getAllInfos(t)), []) : [e];\n    }\n    async _constructTileImageryStretchRendererElements(e) {\n      const t = this.layer,\n        s = t.symbolizer.rasterInfo ?? t.raster.rasterInfo;\n      let i, l;\n      const r = e?.statistics?.length ? e.statistics : s?.statistics;\n      if (r) {\n        const e = r[0];\n        Y(e) ? (i = e.min, l = e.max) : [i, l] = e;\n      } else {\n        const e = E(s.pixelType);\n        i = e[0], l = e[1];\n      }\n      if (t.hasStandardTime() && (i = t.getStandardTimeValue(i), l = t.getStandardTimeValue(l)), 1 === s.bandCount || 1 === t.bandIds?.length) return this._getStretchLegendElements(e, {\n        min: i,\n        max: l\n      });\n      const n = (t?.bandIds?.length ? t.bandIds : Array.from(Array(Math.min(s.bandCount, 3)).keys())).map(e => s.bandInfos[e].name);\n      return n.length < 3 ? n.push(n[1]) : n.length > 3 && n.splice(3), this._createSymbolTableElementMultiBand(n);\n    }\n    async _getStretchLegendElements(e, t) {\n      const s = e.colorRamp,\n        i = B(s, t);\n      return {\n        type: \"stretch-ramp\",\n        title: \"\",\n        infos: i,\n        preview: D(i.map(e => e.color), {\n          ariaLabel: await Je(\"previewColorRampAriaLabel\")\n        })\n      };\n    }\n    _getClusterSymbol() {\n      const e = this.layer,\n        t = \"featureReduction\" in e && e.featureReduction,\n        s = t && \"symbol\" in t && t.renderer;\n      return s && !0 !== s?.authoringInfo?.isAutoGenerated ? null : t && \"symbol\" in t ? t.symbol : null;\n    }\n    async _getSizeLegendElement(e, t, s, i) {\n      return {\n        type: \"size-ramp\",\n        title: this._hasClusterSizeVariable ? this._getClusterTitle(t) : e,\n        infos: await W(s, t, await ee(s), this.scale, this.view, i, this._hasClusterSizeVariable ? this._getClusterSymbol() : null)\n      };\n    }\n    _createSymbolTableElementMultiBand(e) {\n      const t = [],\n        s = [\"red\", \"green\", \"blue\"];\n      return e.forEach((e, i) => {\n        t.push({\n          label: {\n            colorName: s[i],\n            bandName: e\n          },\n          src: te[i],\n          opacity: this.opacity ?? 1\n        });\n      }), t;\n    }\n    _updateInfosForClassedSizeRenderer(e, t) {\n      const s = e.authoringInfo && \"class-breaks-size\" === e.authoringInfo.type,\n        i = e.classBreakInfos.some(e => A(e.symbol));\n      if (s && i) {\n        const s = G,\n          i = J,\n          l = e.classBreakInfos.length,\n          r = (s - i) / (l > 1 ? l - 1 : l);\n        t.forEach((e, t) => {\n          e.size = s - r * t;\n        });\n      }\n    }\n    _isTallSymbol(e) {\n      let t = !1,\n        s = !1;\n      if (e) for (let i = 0; i < e.length && (!t || !s); i++) {\n        const l = e[i];\n        \"size\" === l.type && (\"height\" === l.axis && (t = !0), \"width-and-depth\" === l.axis && (s = !0));\n      }\n      return t && s;\n    }\n    async _getSymbolPreview(e, t, s) {\n      let i = !s?.isDefault && null == e.size && this._hasSizeRamp ? m(z.size) : e.size;\n      if (this._scaleDrivenSizeVariable && s?.applyScaleDrivenSize) {\n        const {\n          getSize: t\n        } = await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");\n        i = t(this._scaleDrivenSizeVariable, null, {\n          view: this.view.type,\n          scale: this.scale,\n          shape: \"simple-marker\" === e.symbol.type ? e.symbol.style : null\n        });\n      }\n      const l = !s?.isDefault && this._hasSizeRamp || !(!this._scaleDrivenSizeVariable || !s?.applyScaleDrivenSize);\n      return P(e.symbol, {\n        size: i,\n        opacity: t,\n        scale: !1,\n        symbolConfig: s?.symbolConfig,\n        effectView: s?.effectList,\n        style: \"legend\",\n        cimOptions: {\n          allowScalingUp: l,\n          viewParams: this.isScaleDriven ? {\n            viewingMode: \"2d\" === this.view?.type ? \"map\" : this.view?.viewingMode,\n            scale: this.view?.scale\n          } : null\n        },\n        ariaLabel: e.label && \"string\" != typeof e.label ? null : await Je(\"previewTemplateAriaLabel\", e.label)\n      }).then(t => (e.preview = t, e)).catch(() => (e.preview = null, e));\n    }\n    _getClusterRenderer(e) {\n      this._hasClusterSizeVariable = !1;\n      const t = \"renderer\" in this.layer ? this.layer.renderer : null,\n        s = e.renderer?.clone() || t?.clone(),\n        i = M(e, this.layerView, this.view);\n      if (i && null != s && \"visualVariables\" in s) {\n        const t = s.visualVariables?.some(e => \"size\" === e.type && \"outline\" !== e.target && !he.test(e.valueExpression));\n        if (!t) {\n          if (\"clusterMinSize\" in e && \"clusterMaxSize\" in e) {\n            const {\n              clusterMinSize: t,\n              clusterMaxSize: s\n            } = e;\n            i.legendOptions = new F({\n              showLegend: t !== s\n            });\n          }\n          const t = s.visualVariables || [];\n          s.visualVariables = t.concat([i]), this._hasClusterSizeVariable = !0;\n        }\n      }\n      return s;\n    }\n    async _loadRenderer(e) {\n      const t = [],\n        s = e.clone(),\n        i = await ee(s);\n      if (Le(s) || Ee(s)) {\n        const e = (s.classBreakInfos || s.uniqueValueInfos).map(e => this._fetchSymbol(e.symbol, i).then(t => {\n          e.symbol = t;\n        }).catch(() => {\n          e.symbol = null;\n        }));\n        Array.prototype.push.apply(t, e);\n      }\n      return t.push(this._fetchSymbol(s.symbol || s.defaultSymbol, s.defaultSymbol ? null : i).then(e => {\n        this._applySymbolToRenderer(s, e, we(s));\n      }).catch(() => {\n        this._applySymbolToRenderer(s, null, we(s));\n      })), await Promise.allSettled(t), s;\n    }\n    _applySymbolToRenderer(e, t, s) {\n      s ? e.symbol = t : e.defaultSymbol = t;\n    }\n    async _fetchSymbol(e, t) {\n      if (!e) throw new Error();\n      if (\"web-style\" === e.type) {\n        const s = this._webStyleSymbolCache;\n        try {\n          const i = await (\"2d\" === this.view.type ? e.fetchCIMSymbol({\n            cache: s\n          }) : e.fetchSymbol({\n            cache: s\n          }));\n          return this._getAppliedCloneSymbol(i, t);\n        } catch {\n          throw o.getLogger(this).warn(\"Fetching web-style failed!\"), new Error();\n        }\n      }\n      return this._getAppliedCloneSymbol(e, t);\n    }\n    _getAppliedCloneSymbol(e, s) {\n      if (!e || !s) return e;\n      const i = e.clone(),\n        l = s && s.toRgba();\n      return i.type.includes(\"3d\") ? this._applyColorTo3dSymbol(i, l) : \"cim\" === i.type ? x(i, s) : i.color && (i.color = new t(l || i.color)), i;\n    }\n    _applyColorTo3dSymbol(e, s) {\n      s && e.symbolLayers.forEach(e => {\n        e && (e.material || (e.material = {}), e.material.color = new t(s));\n      });\n    }\n    async _getVisualVariableLegendElements(e, t) {\n      if (!(\"visualVariables\" in e) || \"vector-field\" === e.type) return null;\n      const s = e.visualVariables ?? [],\n        i = [],\n        l = [],\n        n = [],\n        a = K(e);\n      if (2 === a?.sizeStops?.length && (Le(e) || Ee(e))) {\n        const [e, t] = a.sizeStops;\n        l.push(new R({\n          field: a.field ?? void 0,\n          normalizationField: a.normalizationField,\n          minSize: e.size,\n          maxSize: t.size,\n          minDataValue: e.value,\n          maxDataValue: t.value\n        }));\n      }\n      for (const r of s) \"color\" === r.type ? i.push(r) : \"size\" === r.type ? l.push(r) : \"opacity\" === r.type && n.push(r);\n      const o = [...i, ...l, ...n];\n      let u, c;\n      if (0 === i.length && Le(e) && e.classBreakInfos && 1 === e.classBreakInfos.length) {\n        const t = e.classBreakInfos[0];\n        u = t && t.symbol;\n      }\n      if (0 === i.length && we(e) && (u = e.symbol), u) if (u.type.includes(\"3d\")) {\n        const e = u.symbolLayers.at(0);\n        \"water\" === e.type ? null != e.color && (c = e.color) : null != e.material?.color && (c = e.material.color);\n      } else u.url || (c = u.color);\n      const d = this.effectList;\n      return (await Promise.all(o.map(async s => {\n        if (!s.legendOptions || !1 !== s.legendOptions.showLegend) {\n          const i = ge(e) ? s.field : this._getRampTitle(s, t);\n          let l = null;\n          const r = se(t, s, this.view.timeZone);\n          if (\"color\" === s.type) {\n            const e = (await q(s, null, r)) ?? [];\n            l = {\n              type: \"color-ramp\",\n              title: i,\n              infos: e,\n              preview: D(e.map(e => e.color), {\n                effectList: d,\n                ariaLabel: await Je(\"previewColorRampAriaLabel\")\n              })\n            }, this._hasColorRamp || (this._hasColorRamp = e.length > 0);\n          } else if (\"size\" === s.type && \"outline\" !== s.target) he.test(s.valueExpression) ? this._hasClusterSizeVariable || (this._scaleDrivenSizeVariable = s) : (l = await this._getSizeLegendElement(i, s, e, r), this._hasSizeRamp || (this._hasSizeRamp = !(null == l.infos || !l.infos.length)));else if (\"opacity\" === s.type) {\n            const e = (await q(s, c, r)) ?? [];\n            l = {\n              type: \"opacity-ramp\",\n              title: i,\n              infos: e,\n              preview: D(e.map(e => e.color), {\n                effectList: d,\n                ariaLabel: await Je(\"previewColorRampAriaLabel\")\n              })\n            }, this._hasOpacityRamp || (this._hasOpacityRamp = e.length > 0);\n          }\n          return l?.infos ? l : null;\n        }\n      }))).filter(r);\n    }\n    _getDomainName(e, t, s) {\n      if (e && \"function\" != typeof e) {\n        const i = \"getField\" in s && s.getField?.(e),\n          l = i && \"getFieldDomain\" in s && s.getFieldDomain ? s.getFieldDomain(i.name) : null;\n        return \"coded-value\" === l?.type ? l.getName(t) : null;\n      }\n      return null;\n    }\n    _getClusterTitle(e) {\n      const t = this.layer,\n        s = e.field;\n      if (\"featureReduction\" in t && t.featureReduction && \"cluster\" === t.featureReduction.type) {\n        const e = t.featureReduction,\n          i = \"popupTemplate\" in e && e.popupTemplate,\n          l = i && i.fieldInfos;\n        if (l) for (const t of l) if (t.fieldName === s) return \"cluster_count\" === s ? t.label || {\n          showCount: !0\n        } : t.label;\n      }\n      return {\n        showCount: !0\n      };\n    }\n    _getRampTitle(e, t) {\n      let s = e.field,\n        i = e.normalizationField,\n        l = !1,\n        r = !1,\n        n = !1,\n        a = null;\n      s = \"function\" == typeof s ? null : s, i = \"function\" == typeof i ? null : i;\n      const o = e.legendOptions?.title;\n      if (null != o) a = o;else if (e.valueExpressionTitle) a = e.valueExpressionTitle;else {\n        if (\"renderer\" in t && t.renderer && \"authoringInfo\" in t.renderer && t.renderer.authoringInfo?.visualVariables) {\n          const e = t.renderer.authoringInfo.visualVariables;\n          for (let t = 0; t < e.length; t++) {\n            const s = e[t];\n            if (\"color\" === s.type) {\n              if (\"ratio\" === s.style) {\n                l = !0;\n                break;\n              }\n              if (\"percent\" === s.style) {\n                r = !0;\n                break;\n              }\n              if (\"percent-of-total\" === s.style) {\n                n = !0;\n                break;\n              }\n            }\n          }\n        }\n        a = {\n          field: s && this._getFieldAlias(s, t),\n          normField: i && this._getFieldAlias(i, t),\n          ratio: l,\n          ratioPercent: r,\n          ratioPercentTotal: n\n        };\n      }\n      return a;\n    }\n    _getRendererTitle(e, t) {\n      const s = e;\n      if (s.legendOptions?.title) return s.legendOptions.title;\n      if (s.valueExpressionTitle) return s.valueExpressionTitle;\n      let i = s.field,\n        l = null,\n        r = null;\n      if (Le(s) && (l = s.normalizationField, r = \"percent-of-total\" === s.normalizationType), i = \"function\" == typeof i ? null : i, l = \"function\" == typeof l ? null : l, Ee(s)) {\n        const {\n          field2: e,\n          field3: l,\n          fieldDelimiter: r\n        } = s;\n        let n = i && this._getFieldAlias(i, t);\n        return e && (n = `<${n}>${r}<${this._getFieldAlias(e, t)}>`, l && (n = `${n}${r}<${this._getFieldAlias(l, t)}>`)), n;\n      }\n      let n = null;\n      return (i || l) && (n = {\n        field: i && this._getFieldAlias(i, t),\n        normField: l && this._getFieldAlias(l, t),\n        normByPct: r\n      }), n;\n    }\n    _getFieldAlias(e, t) {\n      const s = \"popupTemplate\" in t ? t.popupTemplate : null,\n        i = s?.fieldInfos;\n      let l = i?.find(t => e === t.fieldName),\n        r = null;\n      \"getField\" in t && t.getField ? r = t.getField(e) : \"fieldsIndex\" in t && t.fieldsIndex && (r = t.fieldsIndex.get(e));\n      let n = null;\n      const a = \"featureReduction\" in t && t.featureReduction;\n      a && (l ??= \"popupTemplate\" in a ? a.popupTemplate?.fieldInfos?.find(t => e?.toLowerCase() === t.fieldName?.toLowerCase()) : void 0, \"fields\" in a && a.fields && (n = a.fields.find(t => t.name?.toLowerCase() === e?.toLowerCase())));\n      const o = l || r || n;\n      let u = null;\n      return o && (u = l?.label || r?.alias || n?.alias || \"name\" in o && o.name || \"fieldName\" in o && o.fieldName || null), u;\n    }\n    _isUnclassedRenderer(e) {\n      const t = e.visualVariables;\n      let s = !1;\n      return Le(e) && e.classBreakInfos && 1 === e.classBreakInfos.length && t && (s = e.field ? t.some(t => !(!t || e.field !== t.field || (e.normalizationField || t.normalizationField) && e.normalizationField !== t.normalizationField)) : !!t.length), s;\n    }\n  };\ne([g()], Ke.prototype, \"children\", void 0), e([g({\n  readOnly: !0\n})], Ke.prototype, \"effectList\", null), e([g()], Ke.prototype, \"layerView\", void 0), e([g()], Ke.prototype, \"layer\", void 0), e([g()], Ke.prototype, \"legendElements\", void 0), e([g({\n  readOnly: !0\n})], Ke.prototype, \"opacity\", null), e([g()], Ke.prototype, \"parent\", void 0), e([g({\n  readOnly: !0,\n  dependsOn: []\n})], Ke.prototype, \"ready\", null), e([g()], Ke.prototype, \"hideLayersNotInCurrentView\", void 0), e([g()], Ke.prototype, \"keepCacheOnDestroy\", void 0), e([g()], Ke.prototype, \"respectLayerDefinitionExpression\", void 0), e([g()], Ke.prototype, \"respectLayerVisibility\", void 0), e([g({\n  readOnly: !0\n})], Ke.prototype, \"scale\", null), e([g()], Ke.prototype, \"sublayerIds\", void 0), e([g({\n  readOnly: !0\n})], Ke.prototype, \"isScaleDriven\", null), e([g()], Ke.prototype, \"title\", void 0), e([g({\n  readOnly: !0,\n  dependsOn: [\"ready\"],\n  value: 0\n})], Ke.prototype, \"version\", null), e([g()], Ke.prototype, \"view\", void 0), Ke = e([b(\"esri.widgets.Legend.support.ActiveLayerInfo\")], Ke);\nconst Xe = Ke;\nexport { Xe as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../intl.js\";\nimport r from \"../../core/Accessor.js\";\nimport i from \"../../core/Collection.js\";\nimport { watch as t, initial as s, when as a } from \"../../core/reactiveUtils.js\";\nimport { property as n } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { get as l } from \"../../core/accessorSupport/get.js\";\nimport { getEffectiveFeatureReduction as y } from \"../../views/2d/layers/features/layerAdapters/featureReductionUtils.js\";\nimport d from \"./support/ActiveLayerInfo.js\";\nimport { onLocaleChange as c } from \"../../intl/locale.js\";\nconst h = {\n    state: \"state\",\n    view: \"view\",\n    allLayerViews: \"all-layer-views\",\n    legendProperties: \"legend-properties\"\n  },\n  L = i.ofType(d),\n  u = new Set([\"esri.layers.BuildingSceneLayer\", \"esri.layers.CatalogLayer\", \"esri.layers.CSVLayer\", \"esri.layers.FeatureLayer\", \"esri.layers.GeoJSONLayer\", \"esri.layers.GeoRSSLayer\", \"esri.layers.GroupLayer\", \"esri.layers.HeatmapLayer\", \"esri.layers.ImageryLayer\", \"esri.layers.ImageryTileLayer\", \"esri.layers.MapImageLayer\", \"esri.layers.OGCFeatureLayer\", \"esri.layers.OrientedImageryLayer\", \"esri.layers.PointCloudLayer\", \"esri.layers.StreamLayer\", \"esri.layers.SceneLayer\", \"esri.layers.SubtypeGroupLayer\", \"esri.layers.TileLayer\", \"esri.layers.VoxelLayer\", \"esri.layers.WFSLayer\", \"esri.layers.WMSLayer\", \"esri.layers.WMTSLayer\", \"esri.layers.WCSLayer\", \"esri.layers.LinkChartLayer\", \"esri.layers.catalog.CatalogFootprintLayer\", \"esri.layers.catalog.CatalogDynamicGroupLayer\", \"esri.layers.knowledgeGraph.KnowledgeGraphSublayer\"]),\n  p = \"view.basemapView.baseLayerViews\",\n  f = \"view.groundView.layerViews\",\n  v = \"view.basemapView.referenceLayerViews\",\n  _ = [p, f, \"view.layerViews\", v];\nlet w = class extends r {\n  constructor(e) {\n    super(e), this._layerViewByLayerId = {}, this._layerInfosByLayerViewId = {}, this._activeLayerInfosByLayerViewId = {}, this._activeLayerInfosWithNoParent = new i(), this.activeLayerInfos = new L(), this.basemapLegendVisible = !1, this.groundLegendVisible = !1, this.hideLayersNotInCurrentView = !1, this.keepCacheOnDestroy = !1, this.respectLayerDefinitionExpression = !1, this.respectLayerVisibility = !0, this.layerInfos = [], this.view = null;\n  }\n  initialize() {\n    this.addHandles(t(() => this.view, () => this._viewHandles(), s), h.view), this.addHandles(c(() => this._refresh()));\n  }\n  destroy() {\n    this._destroyViewActiveLayerInfos(), this.view = null;\n  }\n  get state() {\n    return this.view?.ready ? \"ready\" : \"disabled\";\n  }\n  _viewHandles() {\n    this.removeHandles(h.state), this.view && this.addHandles(t(() => this.state, () => this._stateHandles(), s), h.state);\n  }\n  _stateHandles() {\n    this._resetAll(), \"ready\" === this.state && this._watchPropertiesAndAllLayerViews();\n  }\n  _resetAll() {\n    this.removeHandles([h.allLayerViews, h.legendProperties]), this._destroyViewActiveLayerInfos(), this.activeLayerInfos.removeAll();\n  }\n  _destroyViewActiveLayerInfos() {\n    Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo, this);\n  }\n  _destroyViewActiveLayerInfo(e) {\n    this.removeHandles(e);\n    const r = this._activeLayerInfosByLayerViewId[e];\n    delete this._activeLayerInfosByLayerViewId[e], r?.parent && r.parent.children.remove(r);\n  }\n  _watchPropertiesAndAllLayerViews() {\n    const {\n      view: e\n    } = this;\n    if (!e) return;\n    const {\n      allLayerViews: r\n    } = e;\n    r.length && this._refresh(), this.addHandles(r.on(\"change\", e => this._propertiesChangeHandle()), h.allLayerViews), this.addHandles(t(() => [this.layerInfos, this.basemapLegendVisible, this.groundLegendVisible], () => this._propertiesChangeHandle()), h.legendProperties);\n  }\n  _propertiesChangeHandle() {\n    this._destroyViewActiveLayerInfos(), this._refresh();\n  }\n  _refresh() {\n    this._layerInfosByLayerViewId = {}, this.activeLayerInfos.removeAll(), this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos, this).filter(this._isLayerViewSupported, this).forEach(this._generateActiveLayerInfo, this), this._sortActiveLayerInfos(this.activeLayerInfos);\n  }\n  _sortActiveLayerInfos(e) {\n    const r = this.view;\n    if (e.length < 2 || !r) return;\n    const i = [];\n    e.forEach(r => {\n      if (!r.parent) {\n        const t = r.layer.parent,\n          s = t && \"uid\" in t && this._layerViewByLayerId[t.uid],\n          a = s && this._activeLayerInfosByLayerViewId[s.uid];\n        a && e.includes(a) && (i.push(r), r.parent = a, a.children.add(r), this._sortActiveLayerInfos(a.children));\n      }\n    }), e.removeMany(i);\n    const t = {};\n    r.allLayerViews.forEach((e, r) => t[e.layer.uid] = r), e.sort((e, r) => {\n      const i = t[e.layer.uid] || 0;\n      return (t[r.layer.uid] || 0) - i;\n    });\n  }\n  _generateLayerViews() {\n    const e = [];\n    return _.filter(this._filterLayerViews, this).map(e => l(this, e)).filter(e => null != e).forEach(this._collectLayerViews(\"layerViews\", e)), e;\n  }\n  _filterLayerViews(e) {\n    const r = !this.basemapLegendVisible && (e === p || e === v),\n      i = !this.groundLegendVisible && e === f;\n    return !r && !i;\n  }\n  _collectLayerViews(e, r) {\n    const i = t => (t && t.forEach(t => {\n      r.push(t), i(t[e]);\n    }), r);\n    return i;\n  }\n  _filterLayerViewsByLayerInfos(e) {\n    const r = this.layerInfos;\n    return !r || !r.length || r.some(r => this._hasLayerInfo(r, e));\n  }\n  _hasLayerInfo(e, r) {\n    const i = this._isLayerUIDMatching(e.layer, r.layer.uid);\n    return i && (this._layerInfosByLayerViewId[r.uid] = e), i;\n  }\n  _isLayerUIDMatching(e, r) {\n    return e && (e.uid === r || this._hasLayerUID(e.layers, r));\n  }\n  _hasLayerUID(e, r) {\n    return e && e.some(e => this._isLayerUIDMatching(e, r));\n  }\n  _isLayerViewSupported(e) {\n    return !!u.has(e.layer.declaredClass) && (this._layerViewByLayerId[e.layer.uid] = e, !0);\n  }\n  _generateActiveLayerInfo(e) {\n    this._isLayerActive(e) ? this._buildActiveLayerInfo(e) : (this.removeHandles(e.uid), this.addHandles(t(() => [e.legendEnabled, e.layer?.legendEnabled], () => this._layerActiveHandle(e)), e.uid));\n  }\n  _layerActiveHandle(e) {\n    this._isLayerActive(e) && (this.removeHandles(e.uid), this._buildActiveLayerInfo(e));\n  }\n  _isLayerActive(e) {\n    return !this.respectLayerVisibility || e.legendEnabled && e.layer?.legendEnabled;\n  }\n  _buildActiveLayerInfo(e) {\n    const r = e.layer,\n      i = e.uid,\n      n = this._layerInfosByLayerViewId[i];\n    let o = this._activeLayerInfosByLayerViewId[i];\n    if (!o) {\n      const t = void 0 !== n?.title && n.layer.uid === r.uid;\n      o = new d({\n        layer: r,\n        layerView: e,\n        title: t ? n.title : r.title,\n        view: this.view ?? void 0,\n        respectLayerDefinitionExpression: this.respectLayerDefinitionExpression,\n        respectLayerVisibility: this.respectLayerVisibility,\n        hideLayersNotInCurrentView: this.hideLayersNotInCurrentView,\n        keepCacheOnDestroy: this.keepCacheOnDestroy,\n        sublayerIds: n?.sublayerIds || []\n      }), this._activeLayerInfosByLayerViewId[i] = o;\n    }\n    const l = r.parent && \"uid\" in r.parent ? this._layerViewByLayerId[r.parent?.uid] : null;\n    if (o.parent = this._activeLayerInfosByLayerViewId[l?.uid], !this.hasHandles(i)) {\n      const n = [t(() => r.title, e => this._titleHandle(e, o)), t(() => [r.opacity, \"renderer\" in r && r.renderer, \"pointSymbol\" in r && r.pointSymbol, \"lineSymbol\" in r && r.lineSymbol, \"polygonSymbol\" in r && r.polygonSymbol], () => this._constructLegendElements(o)), a(() => !0 === this.view?.stationary, () => this._scaleHandle(o), s), t(() => e.layer ? y(e.layer, e.view) : null, () => this._constructLegendElements(o)), t(() => e.updating, () => {\n        if (null == e.layer) return;\n        null != y(e.layer, e.view) && this._constructLegendElements(o);\n      }), t(() => \"effect\" in r && r.effect, () => this._constructLegendElements(o)), a(() => this.view?.timeZone, () => this._constructLegendElements(o), s)];\n      if (this.respectLayerVisibility) {\n        const i = t(() => e.legendEnabled, e => this._legendEnabledHandle(e, o)),\n          s = t(() => r.legendEnabled, e => this._legendEnabledHandle(e, o));\n        n.push(i, s);\n      }\n      this.addHandles(n, i);\n    }\n    o.isScaleDriven || this._constructLegendElements(o), this._addActiveLayerInfo(o);\n  }\n  _titleHandle(e, r) {\n    r.title = e, this._constructLegendElements(r);\n  }\n  _legendEnabledHandle(e, r) {\n    e ? this._addActiveLayerInfo(r) : this._removeActiveLayerInfo(r);\n  }\n  _scaleHandle(e) {\n    (e.isScaleDriven || e.hideLayersNotInCurrentView) && this._constructLegendElements(e);\n  }\n  _addActiveLayerInfo(e) {\n    const {\n      layerView: r,\n      layer: i\n    } = e;\n    if (this._isLayerActive(r) && !this.activeLayerInfos.includes(e)) {\n      const r = e.parent;\n      if (r) r.children.includes(e) || r.children.push(e), this._sortActiveLayerInfos(r.children);else {\n        const r = this.layerInfos?.some(e => e.layer.uid === i.uid);\n        i.parent && \"uid\" in i.parent && !r ? this._activeLayerInfosWithNoParent.add(e) : (this.activeLayerInfos.add(e), this._sortActiveLayerInfos(this.activeLayerInfos));\n      }\n      if (this._activeLayerInfosWithNoParent.length) {\n        const e = [];\n        this._activeLayerInfosWithNoParent.forEach(r => {\n          const i = r.layer.parent,\n            t = i && \"uid\" in i ? this._layerViewByLayerId[i?.uid] : null,\n            s = this._activeLayerInfosByLayerViewId[t?.uid];\n          s && (e.push(r), r.parent = s);\n        }), e.length && (this._activeLayerInfosWithNoParent.removeMany(e), e.forEach(e => this._addActiveLayerInfo(e)));\n      }\n    }\n  }\n  _removeActiveLayerInfo(e) {\n    const r = e.parent;\n    r ? r.children.remove(e) : this.activeLayerInfos.remove(e);\n  }\n  _constructLegendElements(e) {\n    const r = e.layer;\n    \"featureCollections\" in r && r.featureCollections ? e.buildLegendElementsForFeatureCollections(r.featureCollections) : \"featureReduction\" in r && r.featureReduction && \"renderer\" in r.featureReduction && (\"binning\" === r.featureReduction.type || \"cluster\" === r.featureReduction.type) && (!this.view || r.featureReduction.maxScale <= this.view.scale) ? e.buildLegendElementsForFeatureReduction(r.featureReduction) : \"renderer\" in r && r.renderer && !(\"sublayers\" in r) ? e.buildLegendElementsForRenderer(r.renderer) : \"url\" in r && r.url && \"catalog\" !== r.type ? e.buildLegendElementsForTools() : e.children.forEach(e => this._constructLegendElements(e));\n  }\n};\ne([n({\n  type: L\n})], w.prototype, \"activeLayerInfos\", void 0), e([n()], w.prototype, \"basemapLegendVisible\", void 0), e([n()], w.prototype, \"groundLegendVisible\", void 0), e([n()], w.prototype, \"hideLayersNotInCurrentView\", void 0), e([n()], w.prototype, \"keepCacheOnDestroy\", void 0), e([n()], w.prototype, \"respectLayerDefinitionExpression\", void 0), e([n()], w.prototype, \"respectLayerVisibility\", void 0), e([n()], w.prototype, \"layerInfos\", void 0), e([n({\n  readOnly: !0\n})], w.prototype, \"state\", null), e([n()], w.prototype, \"view\", void 0), w = e([o(\"esri.widgets.Legend.LegendViewModel\")], w);\nconst I = w;\nexport { I as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e = \"esri-legend--card\",\n  a = \"esri-legend\",\n  r = {\n    activated: `${e}__carousel-indicator--activated`,\n    base: e,\n    stacked: `${a}--stacked`,\n    carouselTitle: `${e}__carousel-title`,\n    indicator: `${e}__carousel-indicator`,\n    intervalSeparator: `${e}__interval-separator`,\n    imageryLayerStretchedImage: `${e}__imagery-layer-image--stretched`,\n    imageLabel: `${e}__image-label`,\n    layerCaption: `${e}__layer-caption`,\n    labelElement: `${e}__label-element`,\n    layerRow: `${e}__layer-row`,\n    labelCell: `${e}__label-cell`,\n    message: `${e}__message`,\n    rampLabel: `${e}__ramp-label`,\n    section: `${e}__section`,\n    relationshipSection: `${e}__relationship-section`,\n    serviceCaptionText: `${e}__service-caption-text`,\n    serviceContent: `${e}__service-content`,\n    service: `${e}__service`,\n    groupLayer: `${e}__group-layer`,\n    groupLayerChild: `${e}__group-layer-child`,\n    symbol: `${e}__symbol`,\n    sizeRampRow: `${e}__size-ramp-row`,\n    symbolRow: `${e}__symbol-row`,\n    symbolCell: `${e}__symbol-cell`,\n    indicatorContainer: `${e}__carousel-indicator-container`,\n    intervalSeparatorsContainer: `${e}__interval-separators-container`,\n    relationshipLabelContainer: `${e}__relationship-label-container`,\n    labelContainer: `${e}__label-container`,\n    serviceCaptionContainer: `${e}__service-caption-container`,\n    symbolContainer: `${e}__symbol-container`,\n    sizeRampContainer: `${e}__size-ramp-container`,\n    sizeRampPreview: `${e}__size-ramp-preview`,\n    pieChartRampPreview: `${e}__pie-chart-ramp-preview`,\n    rampContainer: `${a}__ramps`,\n    sizeRampHorizontal: `${a}__size-ramp--horizontal`,\n    rampLabelsContainer: `${a}__ramp-labels`,\n    layerInfo: `${a}__layer-cell ${a}__layer-cell--info`,\n    univariateAboveAndBelowColorRamp: \"esri-univariate-above-and-below-ramp__color--card\"\n  };\nexport { r as css };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { pt2px as e } from \"../../../../core/screenUtils.js\";\nimport \"../../../../libs/maquette/projection.js\";\nimport { createProjector as t } from \"../../../../libs/maquette/projector.js\";\nimport { renderColorRampPreviewHTML as o } from \"../../../../symbols/support/symbolUtils.js\";\nimport \"../../../support/widgetUtils.js\";\nimport { tsx as i } from \"../../../support/jsxFactory.js\";\nconst l = t(),\n  n = 10,\n  r = 20,\n  s = 10,\n  a = 20,\n  c = {\n    univariateAboveAndBelowSymbol: \"esri-univariate-above-and-below-ramp__symbol\",\n    colorRamp: \"esri-legend__color-ramp\"\n  };\nfunction f(e = \"vertical\") {\n  const t = \"stroke:rgb(200, 200, 200);stroke-width:1\";\n  return \"vertical\" === e ? i(\"svg\", {\n    height: \"4\",\n    width: \"10\"\n  }, i(\"line\", {\n    style: t,\n    x1: \"0\",\n    x2: \"10\",\n    y1: \"2\",\n    y2: \"2\"\n  })) : i(\"svg\", {\n    height: \"10\",\n    width: \"10\"\n  }, i(\"line\", {\n    style: t,\n    x1: \"5\",\n    x2: \"5\",\n    y1: \"0\",\n    y2: \"10\"\n  }));\n}\nfunction p(e, t = \"vertical\") {\n  const o = document.createElement(\"div\");\n  return o.style.height = `${r}px`, o.className = c.univariateAboveAndBelowSymbol, null != e && (o.style.opacity = e.toString()), l.append(o, f.bind(null, t)), o;\n}\nfunction m(t, o, i = \"vertical\", l) {\n  t.infos.forEach((t, n) => {\n    if (l && 2 === n) t.preview = p(o, i);else {\n      const o = e(t.size) + (\"horizontal\" === i ? a : s),\n        l = t.preview,\n        n = \"div\" === l?.tagName.toLowerCase(),\n        r = n ? l : document.createElement(\"div\");\n      r.className = c.univariateAboveAndBelowSymbol, \"horizontal\" === i ? r.style.width = `${o}px` : r.style.height = `${o}px`, !n && l && r.appendChild(l), t.preview = r;\n    }\n  });\n}\nfunction u(t, o = \"classic\") {\n  const i = t.infos;\n  return \"classic\" === o ? (e(i[0].size) + s) / 2 : (e(i[0].size) - e(i[i.length - 1].size)) / 2;\n}\nfunction h(e, t) {\n  if (!e) return null;\n  const i = e.infos.map(e => e.color),\n    l = o(\"full\" === t.type ? i : \"above\" === t.type ? i.slice(0, 3) : i.slice(2, 5), {\n      width: t.width,\n      height: t.height,\n      align: t.rampAlignment,\n      effectList: t.effectList,\n      ariaLabel: t.ariaLabel\n    });\n  return l.className = c.colorRamp, null != t.opacity && (l.style.opacity = t.opacity.toString()), l;\n}\nfunction v(t, o, i, l = \"vertical\") {\n  let c = 0;\n  const f = t.infos,\n    p = Math.floor(f.length / 2),\n    m = \"full\" === o || \"above\" === o ? 0 : p,\n    u = \"full\" === o || \"below\" === o ? f.length - 1 : p;\n  for (let h = m; h <= u; h++) if (i && h === p) c += \"horizontal\" === l ? n : r;else {\n    c += e(f[h].size) + (\"horizontal\" === l ? a : s);\n  }\n  return Math.round(c);\n}\nfunction y(t, o, i, l = \"vertical\") {\n  const c = v(t, o, i, l),\n    f = t.infos,\n    p = Math.floor(f.length / 2),\n    m = \"full\" === o || \"above\" === o ? 0 : p,\n    u = \"full\" === o || \"below\" === o ? f.length - 1 : p,\n    h = \"full\" === o ? f[m].size + f[u].size : \"above\" === o ? f[m].size : f[u].size,\n    y = i ? \"vertical\" === l ? r : n : 0,\n    d = \"vertical\" === l ? s * (\"full\" === o ? 2 : 1) : a * (\"full\" === o ? 2 : 1);\n  return Math.round(c - (e(h) / 2 + y / 2 + d / 2));\n}\nfunction d(e, t, o = \"vertical\") {\n  const i = e.infos;\n  let l = i.find(({\n      type: e\n    }) => \"size-ramp\" === e),\n    n = i.find(({\n      type: e\n    }) => \"color-ramp\" === e);\n  return l && (l = {\n    ...l\n  }, l.infos = [...l.infos], m(l, t, o, !0)), n && (n = {\n    ...n\n  }, n.infos = [...n.infos]), \"horizontal\" === o && (l?.infos.reverse(), n?.infos.reverse()), {\n    sizeRampElement: l,\n    colorRampElement: n\n  };\n}\nfunction b(e, t = \"vertical\") {\n  const o = e.infos;\n  let i = o.find(({\n      type: e\n    }) => \"size-ramp\" === e),\n    l = o.find(({\n      type: e\n    }) => \"color-ramp\" === e);\n  return i && (i = {\n    ...i\n  }, i.infos = [...i.infos], m(i, null, t, !1)), l && (l = {\n    ...l\n  }, l.infos = [...l.infos]), \"horizontal\" === t && (i?.infos.reverse(), l?.infos.reverse()), {\n    sizeRampElement: i,\n    colorRampElement: l\n  };\n}\nexport { d as getUnivariateAboveAndBelowRampElements, u as getUnivariateColorRampMargin, h as getUnivariateColorRampPreview, y as getUnivariateColorRampSize, b as getUnivariateColorSizeRampElements, v as getUnivariateSizeRampSize };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../intl.js\";\nimport { stripHTML as e } from \"../../../core/string.js\";\nimport { substitute as t } from \"../../../intl/substitute.js\";\nimport { formatNumber as n } from \"../../../intl/number.js\";\nfunction r(e, t) {\n  return t;\n}\nfunction i(e) {\n  const t = this;\n  e.appendChild(t);\n}\nfunction o(n, i, o) {\n  if (!i) return;\n  if (\"number\" == typeof i) return i;\n  if (\"string\" == typeof i) return e(i);\n  if (\"value\" in i || \"unit\" in i) return t(n.dotValue, i);\n  if (\"colorName\" in i && \"bandName\" in i) return n[i.colorName] + \": \" + (n[i.bandName] || i.bandName);\n  if (\"showCount\" in i) return i.showCount ? n.clusterCountTitle : void 0;\n  let u = null;\n  return r(i, o) ? u = i.ratioPercentTotal ? \"showRatioPercentTotal\" : i.ratioPercent ? \"showRatioPercent\" : i.ratio ? \"showRatio\" : i.normField ? \"showNormField\" : i.field ? \"showField\" : null : l(i, o) && (u = i.normField ? \"showNormField\" : i.normByPct ? \"showNormPct\" : i.field ? \"showField\" : null), u ? t(\"showField\" === u ? \"{field}\" : n[u], {\n    field: i.field,\n    normField: i.normField\n  }) : void 0;\n}\nfunction l(e, t) {\n  return !t;\n}\nfunction u(e, t) {\n  return !!(t && \"Stretched\" === t && e.version >= 10.3 && \"esri.layers.ImageryLayer\" === e.declaredClass);\n}\nfunction a(e, t) {\n  return e.label ? t[e.label] + \": \" + (\"string\" == typeof e.value ? e.value : n(e.value ?? 0, {\n    style: \"decimal\",\n    notation: e.value?.toString().toLowerCase().includes(\"e\") ? \"scientific\" : \"standard\"\n  })) : \"\";\n}\nexport { i as attachToNode, a as getStretchStopLabel, o as getTitle, u as isImageryStretchedLegend, l as isRendererTitle };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../intl.js\";\nimport { watch as t } from \"../../../core/reactiveUtils.js\";\nimport { pt2px as s } from \"../../../core/screenUtils.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { renderSVG as r } from \"../../../symbols/support/svgUtils.js\";\nimport { getCSSFilterFromEffectList as o } from \"../../../symbols/support/utils.js\";\nimport l from \"../../Widget.js\";\nimport { css as n } from \"./CardCSS.js\";\nimport { renderRelationshipRamp as c } from \"./support/relationshipUtils.js\";\nimport { getUnivariateAboveAndBelowRampElements as p, getUnivariateSizeRampSize as d, getUnivariateColorRampSize as m, getUnivariateColorRampPreview as h, getUnivariateColorRampMargin as y, getUnivariateColorSizeRampElements as g } from \"./support/univariateUtils.js\";\nimport { getTitle as v, attachToNode as f, isImageryStretchedLegend as u, getStretchStopLabel as b } from \"../support/styleUtils.js\";\nimport { Heading as _, incrementHeadingLevel as w } from \"../../support/Heading.js\";\nimport { accessibleHandler as L } from \"../../support/decorators/accessibleHandler.js\";\nimport { messageBundle as x } from \"../../support/decorators/messageBundle.js\";\nimport { tsx as C } from \"../../support/jsxFactory.js\";\nimport { isRTL as S } from \"../../support/widgetUtils.js\";\nimport { substitute as R } from \"../../../intl/substitute.js\";\nconst $ = 25,\n  k = 25,\n  z = 768,\n  I = 100,\n  N = \"#ddd\",\n  A = window.devicePixelRatio;\nfunction j(e) {\n  if (e) {\n    if (e.type.includes(\"3d\")) {\n      const t = e.symbolLayers?.length;\n      if (!t) return;\n      const s = e.symbolLayers.at(t - 1),\n        i = s.resource?.primitive;\n      return \"circle\" === i || \"cross\" === i || \"kite\" === i || \"sphere\" === i || \"cube\" === i || \"diamond\" === i;\n    }\n    {\n      const t = e.style;\n      return \"circle\" === t || \"diamond\" === t || \"cross\" === t;\n    }\n  }\n}\nfunction E(e) {\n  if (e) {\n    if (e.type.includes(\"3d\")) {\n      const t = e.symbolLayers?.length;\n      if (!t) return;\n      const s = e.symbolLayers.at(t - 1).get(\"resource.primitive\");\n      return \"triangle\" === s || \"cone\" === s || \"tetrahedron\" === s;\n    }\n    return \"triangle\" === e.style;\n  }\n}\nlet F = class extends l {\n  constructor(e, t) {\n    super(e, t), this._hasIndicators = !1, this._selectedSectionName = null, this._sectionNames = [], this._sectionMap = new Map(), this.activeLayerInfos = null, this.headingLevel = 3, this.layout = \"stack\", this.messages = null, this.messagesCommon = null, this.type = \"card\", this.view = null;\n  }\n  initialize() {\n    this.addHandles(t(() => this.activeLayerInfos, e => {\n      this.removeAllHandles(), this._watchForSectionChanges(e);\n    }));\n  }\n  render() {\n    const {\n      view: e\n    } = this;\n    this._hasIndicators = \"auto\" === this.layout && e && e.container.clientWidth <= z || \"stack\" === this.layout;\n    const t = this.activeLayerInfos,\n      s = t?.toArray().map(e => this._renderLegendForLayer(e)).filter(e => !!e);\n    this._hasIndicators ? this._selectedSectionName && this._sectionNames.includes(this._selectedSectionName) || (this._selectedSectionName = this._sectionNames && this._sectionNames[0]) : this._selectedSectionName = null;\n    const i = this._sectionNames.length,\n      a = this._sectionNames.map((e, t) => {\n        const s = R(this.messagesCommon.pagination.pageText, {\n          index: t + 1,\n          total: i\n        });\n        return C(\"div\", {\n          \"aria-controls\": `${e}-panel`,\n          \"aria-label\": s,\n          \"aria-selected\": (this._selectedSectionName === e).toString(),\n          bind: this,\n          class: this.classes(n.indicator, {\n            [n.activated]: this._selectedSectionName === e\n          }),\n          \"data-section-name\": e,\n          id: e,\n          key: e,\n          onclick: this._selectSection,\n          onkeydown: this._focusSection,\n          role: \"tab\",\n          tabIndex: this._selectedSectionName === e ? 0 : -1,\n          title: s\n        });\n      }),\n      r = this._hasIndicators && i > 1 ? C(\"div\", {\n        class: n.indicatorContainer,\n        key: \"carousel-navigation\",\n        role: \"tablist\"\n      }, a) : null,\n      o = this._hasIndicators ? this._sectionMap.get(this._selectedSectionName) : s?.length ? s : null,\n      l = {\n        [n.stacked]: this._hasIndicators\n      };\n    return C(\"div\", {\n      class: this.classes(n.base, l)\n    }, o || C(\"div\", {\n      class: n.message\n    }, this.messages.noLegend), r);\n  }\n  _selectSection(e) {\n    const t = e.target.getAttribute(\"data-section-name\");\n    t && (this._selectedSectionName = t);\n  }\n  _focusSection(e) {\n    switch (e.key) {\n      case \"ArrowLeft\":\n      case \"ArrowRight\":\n        this._switchSectionOnArrowPress(e);\n        break;\n      case \"Enter\":\n      case \" \":\n        this._selectSection(e);\n    }\n  }\n  _switchSectionOnArrowPress(e) {\n    const t = e.key,\n      s = \"ArrowLeft\" === t ? -1 : 1,\n      i = e.target.getAttribute(\"data-section-name\"),\n      a = this._sectionNames.indexOf(i),\n      r = this._sectionNames;\n    let o = null;\n    -1 !== a && (r[a + s] ? o = document.getElementById(r[a + s]) : \"ArrowLeft\" === t ? o = document.getElementById(r[r.length - 1]) : \"ArrowRight\" === t && (o = document.getElementById(r[0])), o?.focus());\n  }\n  _watchForSectionChanges(e) {\n    if (this._generateSectionNames(), e) {\n      e.forEach(e => {\n        const s = `activeLayerInfo-${e.layer.uid}-version-change`;\n        this.removeHandles(s), this._watchForSectionChanges(e.children), this.addHandles(t(() => e.version, () => this._generateSectionNames()), s);\n      });\n      const s = \"activeLayerInfos-collection-change\";\n      this.removeHandles(s), this.addHandles(e.on(\"change\", () => this._watchForSectionChanges(e)), s);\n    }\n  }\n  _generateSectionNames() {\n    this._sectionNames.length = 0, this._selectedSectionName = null, this.activeLayerInfos && this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo, this);\n  }\n  _getSectionName(e, t, s) {\n    return `${this.id}${e.uid}-type-${t.type}-${s}`;\n  }\n  _generateSectionNamesForActiveLayerInfo(e) {\n    e.children.forEach(this._generateSectionNamesForActiveLayerInfo, this), e.legendElements && e.legendElements.forEach((t, s) => {\n      this._sectionNames.push(this._getSectionName(e.layer, t, s));\n    });\n  }\n  _renderLegendForLayer(e) {\n    if (!e.ready) return null;\n    if (e.children.length) {\n      const t = e.children.map(e => this._renderLegendForLayer(e)).toArray();\n      return C(\"div\", {\n        class: this.classes(n.service, n.groupLayer),\n        key: e.layer.uid\n      }, C(\"div\", {\n        class: n.serviceCaptionContainer\n      }, e.title), t);\n    }\n    {\n      const t = e.legendElements;\n      if (t && !t.length) return null;\n      const s = t.some(e => \"relationship-ramp\" === e.type),\n        i = t.map((t, i) => this._renderLegendForElement(t, e, i, s)).filter(e => !!e);\n      if (!i.length) return null;\n      const a = {\n        [n.groupLayerChild]: !!e.parent\n      };\n      return C(\"div\", {\n        class: this.classes(n.service, a),\n        key: e.layer.uid\n      }, C(\"div\", {\n        class: n.serviceCaptionContainer\n      }, C(\"div\", {\n        class: n.serviceCaptionText\n      }, e.title)), C(\"div\", {\n        class: n.serviceContent\n      }, i));\n    }\n  }\n  _renderLegendForElement(e, t, s, i = !1, a = !1) {\n    const r = \"color-ramp\" === e.type,\n      o = \"opacity-ramp\" === e.type,\n      l = t.layer;\n    let p = null;\n    if (\"string\" == typeof e.title) p = e.title;else if (e.title) {\n      const t = e.title,\n        s = v(this.messages, t, r || o);\n      p = t.title ? `${t.title} (${s})` : s;\n    }\n    const d = this._getSectionName(l, e, s),\n      m = this._hasIndicators && !a ? C(\"div\", null, C(_, {\n        class: n.carouselTitle,\n        level: this.headingLevel\n      }, t.title), C(_, {\n        class: n.layerCaption,\n        level: w(this.headingLevel)\n      }, p)) : p ? C(_, {\n        class: n.layerCaption,\n        level: this.headingLevel\n      }, p) : null,\n      h = t.effectList;\n    let y = null;\n    switch (e.type) {\n      case \"symbol-table\":\n        {\n          const s = e.infos.map((s, i) => this._renderLegendForElementInfo(s, t, e.legendType, i)).filter(e => !!e);\n          if (s.length) {\n            const e = s[0].properties.classes?.[n.symbolRow],\n              t = {\n                [n.labelContainer]: !e && !i,\n                [n.relationshipLabelContainer]: i\n              };\n            y = C(\"div\", {\n              class: this.classes(t)\n            }, s);\n          }\n          break;\n        }\n      case \"color-ramp\":\n      case \"opacity-ramp\":\n      case \"heatmap-ramp\":\n      case \"stretch-ramp\":\n        y = this._renderLegendForRamp(e, l.opacity, h);\n        break;\n      case \"size-ramp\":\n        y = this._renderSizeRamp(e, l.opacity);\n        break;\n      case \"pie-chart-ramp\":\n        y = this._renderPieChartRamp(e);\n        break;\n      case \"relationship-ramp\":\n        y = c(e, this.id, {\n          opacity: l.opacity,\n          effectList: h,\n          ariaLabel: this.messages.previewRelationshipRampAriaLabel\n        });\n        break;\n      case \"univariate-above-and-below-ramp\":\n        y = this._renderUnivariateAboveAndBelowRamp(e, l.opacity, h);\n        break;\n      case \"univariate-color-size-ramp\":\n        y = this._renderUnivariateColorSizeRamp(e, l.opacity, h);\n    }\n    if (!y) return null;\n    const g = C(\"div\", {\n      \"aria-labelledby\": d,\n      class: n.section,\n      id: `${d}-panel`,\n      key: d,\n      role: \"tabpanel\",\n      tabIndex: 0\n    }, [m, y]);\n    return a || this._sectionMap.set(d, g), g;\n  }\n  _renderPieChartRamp(e) {\n    return C(\"div\", {\n      afterCreate: f,\n      bind: e.preview,\n      class: n.pieChartRampPreview\n    });\n  }\n  _renderUnivariateAboveAndBelowRamp(e, t, s) {\n    const {\n      sizeRampElement: i,\n      colorRampElement: a\n    } = p(e, t, \"horizontal\");\n    if (!i) return null;\n    const r = d(i, \"full\", !0, \"horizontal\"),\n      o = m(i, \"above\", !0, \"horizontal\"),\n      l = m(i, \"below\", !0, \"horizontal\"),\n      c = 12,\n      g = this.messages?.previewColorRampAriaLabel,\n      v = h(a, {\n        width: o,\n        height: c,\n        rampAlignment: \"horizontal\",\n        opacity: t,\n        type: \"above\",\n        effectList: s,\n        ariaLabel: g\n      }),\n      u = h(a, {\n        width: l,\n        height: c,\n        rampAlignment: \"horizontal\",\n        opacity: t,\n        type: \"below\",\n        effectList: s,\n        ariaLabel: g\n      }),\n      b = y(i, \"card\"),\n      _ = i.infos.map(e => e.label),\n      w = _.length - 1,\n      L = _.map((e, t) => 0 === t || t === w ? C(\"div\", {\n        key: t\n      }, e) : null),\n      x = {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      R = {\n        display: \"flex\",\n        flexDirection: \"row\"\n      },\n      $ = {\n        marginTop: \"3px\",\n        display: \"flex\"\n      };\n    S(this.container) ? $.marginRight = `${b}px` : $.marginLeft = `${b}px`;\n    const k = {\n      width: `${r}px`,\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    };\n    return C(\"div\", {\n      class: n.layerRow,\n      key: \"size-ramp-preview\",\n      styles: x\n    }, C(\"div\", {\n      class: this.classes(n.symbolContainer, n.sizeRampHorizontal),\n      styles: R\n    }, i.infos.map((e, t) => C(\"div\", {\n      afterCreate: f,\n      bind: e.preview,\n      class: n.symbol,\n      key: t\n    }))), v ? C(\"div\", {\n      class: n.univariateAboveAndBelowColorRamp,\n      key: \"color-ramp-preview\",\n      styles: $\n    }, C(\"div\", {\n      afterCreate: f,\n      bind: v\n    }), C(\"div\", {\n      afterCreate: f,\n      bind: u\n    })) : null, C(\"div\", {\n      class: n.layerInfo\n    }, C(\"div\", {\n      class: n.rampLabelsContainer,\n      styles: k\n    }, L)));\n  }\n  _renderUnivariateColorSizeRamp(e, t, s) {\n    const {\n      sizeRampElement: i,\n      colorRampElement: a\n    } = g(e, \"horizontal\");\n    if (!i) return null;\n    const r = d(i, \"full\", !1, \"horizontal\"),\n      o = m(i, \"full\", !1, \"horizontal\"),\n      l = h(a, {\n        width: o,\n        height: 12,\n        rampAlignment: \"horizontal\",\n        opacity: t,\n        type: \"full\",\n        effectList: s,\n        ariaLabel: this.messages?.previewColorRampAriaLabel\n      }),\n      c = y(i, \"card\"),\n      p = i.infos.length - 1,\n      v = i.infos.map((e, t) => 0 === t || t === p ? C(\"div\", {\n        key: t\n      }, e.label) : null),\n      u = {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      b = {\n        display: \"flex\",\n        flexDirection: \"row\"\n      },\n      _ = {\n        marginTop: \"3px\",\n        display: \"flex\"\n      };\n    S(this.container) ? _.marginRight = `${c}px` : _.marginLeft = `${c}px`;\n    const w = {\n      width: `${r}px`,\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    };\n    return C(\"div\", {\n      class: n.layerRow,\n      key: \"size-ramp-preview\",\n      styles: u\n    }, C(\"div\", {\n      class: this.classes(n.symbolContainer, n.sizeRampHorizontal),\n      styles: b\n    }, i.infos.map((e, t) => C(\"div\", {\n      afterCreate: f,\n      bind: e.preview,\n      class: n.symbol,\n      key: t\n    }))), C(\"div\", {\n      class: n.univariateAboveAndBelowColorRamp,\n      key: \"color-ramp-preview\",\n      styles: _\n    }, C(\"div\", {\n      afterCreate: f,\n      bind: l\n    })), C(\"div\", {\n      class: n.layerInfo\n    }, C(\"div\", {\n      class: n.rampLabelsContainer,\n      styles: w\n    }, v)));\n  }\n  _renderLegendForElementInfo(e, t, s, i) {\n    const a = t.layer;\n    if (e.type) return this._renderLegendForElement(e, t, i, !1, !0);\n    const r = u(a, s),\n      l = v(this.messages, e.label, !1) ?? \"\";\n    if (e.preview) {\n      if (!e.symbol?.type.includes(\"simple-fill\")) {\n        if (!e.label) return C(\"div\", {\n          afterCreate: f,\n          bind: e.preview,\n          key: i\n        });\n        const t = {\n          [n.symbolCell]: this._hasIndicators\n        };\n        return C(\"div\", {\n          class: this.classes(n.layerRow, {\n            [n.symbolRow]: this._hasIndicators\n          }),\n          key: i\n        }, C(\"div\", {\n          afterCreate: f,\n          bind: e.preview,\n          class: this.classes(t)\n        }), C(\"div\", {\n          class: this.classes(n.imageLabel, {\n            [n.labelCell]: this._hasIndicators\n          })\n        }, l));\n      }\n      let s = 255,\n        r = 255,\n        c = 255,\n        p = 0,\n        d = 255,\n        m = 255,\n        h = 255,\n        y = 0;\n      const g = e.symbol.color?.a,\n        v = e.symbol.outline?.color?.a;\n      g && (s = e.symbol.color.r, r = e.symbol.color.g, c = e.symbol.color.b, p = e.symbol.color.a * a.opacity), v && (d = e.symbol.outline.color.r, m = e.symbol.outline.color.g, h = e.symbol.outline.color.b, y = e.symbol.outline.color.a * a.opacity);\n      const u = e.symbol.color?.isBright ?? !0,\n        b = u ? \"rgba(255, 255, 255, .6)\" : \"rgba(0, 0, 0, .6)\",\n        _ = {\n          background: g ? `rgba(${s}, ${r}, ${c}, ${p})` : \"none\",\n          color: u ? \"black\" : \"white\",\n          textShadow: `-1px -1px 0 ${b},\\n                                              1px -1px 0 ${b},\\n                                              -1px 1px 0 ${b},\\n                                              1px 1px 0 ${b}`,\n          border: v ? `1px solid rgba(${d}, ${m}, ${h}, ${y})` : \"none\",\n          filter: o(t.effectList) ?? void 0\n        };\n      return C(\"div\", {\n        class: n.layerRow,\n        key: i\n      }, C(\"div\", {\n        class: n.labelElement,\n        styles: _\n      }, l));\n    }\n    if (e.src) {\n      const t = this._renderImage(e, a, r);\n      return C(\"div\", {\n        class: n.layerRow,\n        key: i\n      }, t, C(\"div\", {\n        class: n.imageLabel\n      }, l));\n    }\n  }\n  _renderImage(e, t, s) {\n    const {\n        label: i,\n        src: a,\n        opacity: r\n      } = e,\n      o = {\n        [n.imageryLayerStretchedImage]: s,\n        [n.symbol]: !s\n      },\n      l = {\n        opacity: `${null != r ? r : t.opacity}`\n      };\n    return C(\"img\", {\n      alt: v(this.messages, i, !1),\n      \"aria-label\": v(this.messages, i, !1),\n      border: 0,\n      class: this.classes(o),\n      height: e.height,\n      src: a,\n      styles: l,\n      width: e.width\n    });\n  }\n  _renderSizeRampLines(e) {\n    const t = e.infos,\n      i = t[0],\n      a = t[t.length - 1],\n      r = i.symbol,\n      o = this._hasIndicators,\n      l = s(i.size + i.outlineSize) * A,\n      n = s(a.size + a.outlineSize) * A,\n      c = o ? l : l + 50 * A,\n      p = o ? l / 2 + 50 * A : l,\n      d = E(r),\n      m = j(r),\n      h = document.createElement(\"canvas\");\n    h.width = c, h.height = p, h.style.width = h.width / A + \"px\", h.style.height = h.height / A + \"px\";\n    const y = h.getContext(\"2d\");\n    if (o) {\n      y.beginPath();\n      const e = 0,\n        t = 0,\n        s = c / 2 - n / 2,\n        i = p;\n      y.moveTo(e, t), y.lineTo(s, i);\n      const a = c,\n        r = 0,\n        o = c / 2 + n / 2,\n        l = p;\n      y.moveTo(a, r), y.lineTo(o, l);\n    } else {\n      y.beginPath();\n      const e = 0,\n        t = p / 2 - n / 2,\n        s = c,\n        i = 0;\n      y.moveTo(e, t), y.lineTo(s, i);\n      const a = 0,\n        r = p / 2 + n / 2,\n        o = c,\n        l = p;\n      y.moveTo(a, r), y.lineTo(o, l);\n    }\n    return y.strokeStyle = N, y.stroke(), C(\"div\", {\n      afterCreate: f,\n      bind: h,\n      styles: o ? {\n        display: \"flex\",\n        marginTop: `-${d ? 0 : m ? l / 2 : 0}px`,\n        marginBottom: `-${d ? n : m ? n / 2 : 0}px`\n      } : {\n        display: \"flex\",\n        marginRight: `-${d ? 0 : m ? l / 2 : 0}px`,\n        marginLeft: `-${d ? 0 : m ? n / 2 : 0}px`\n      }\n    });\n  }\n  _renderSizeRamp(e, t) {\n    const s = e.infos,\n      i = s[0].label,\n      a = s[s.length - 1].label;\n    let r = s[0].preview,\n      o = s[s.length - 1].preview;\n    const l = this._hasIndicators,\n      c = {\n        \"flex-direction\": l ? \"column\" : \"row-reverse\"\n      };\n    r && (r = r.cloneNode(!0), r.style.display = \"flex\"), o && (o = o.cloneNode(!0), o.style.display = \"flex\");\n    const p = {\n      opacity: null != t ? `${t}` : \"\"\n    };\n    return C(\"div\", {\n      class: this.classes(n.layerRow, {\n        [n.sizeRampRow]: l\n      })\n    }, C(\"div\", {\n      class: n.rampLabel\n    }, l ? i : a), C(\"div\", {\n      class: n.sizeRampContainer,\n      styles: c\n    }, C(\"div\", {\n      afterCreate: f,\n      bind: r,\n      class: n.sizeRampPreview,\n      styles: p\n    }), this._renderSizeRampLines(e), C(\"div\", {\n      afterCreate: f,\n      bind: o,\n      class: n.sizeRampContainer,\n      styles: p\n    })), C(\"div\", {\n      class: n.rampLabel\n    }, l ? a : i));\n  }\n  _getRampStopLabel(e, t) {\n    switch (t) {\n      case \"heatmap-ramp\":\n        return this.messages[e.label];\n      case \"stretch-ramp\":\n        return b(e, this.messages);\n      default:\n        return e.label;\n    }\n  }\n  _renderLegendForRamp(e, t, s) {\n    const i = e.infos,\n      a = e.type,\n      l = \"heatmap-ramp\" === a,\n      c = i.length - 1,\n      p = k,\n      d = c > 2 && !l ? $ * c : I,\n      m = d + 20,\n      h = 10,\n      y = i.slice(0).reverse(),\n      g = y.length - 1,\n      v = y.length % 2 != 0 ? y[y.length / 2 | 0] : null,\n      f = v && C(\"div\", {\n        class: n.intervalSeparatorsContainer\n      }, C(\"div\", {\n        class: n.intervalSeparator\n      }, \"|\"), C(\"div\", {\n        class: n.rampLabel\n      }, this._getRampStopLabel(v, a))),\n      u = [[{\n        shape: {\n          type: \"path\",\n          path: `M0 ${p / 2} L${h} 0 L${h} ${p} Z`\n        },\n        fill: y[0].color,\n        stroke: {\n          width: 0\n        }\n      }, {\n        shape: {\n          type: \"rect\",\n          x: h,\n          y: 0,\n          width: d,\n          height: p\n        },\n        fill: {\n          type: \"linear\",\n          x1: h,\n          y1: 0,\n          x2: d + h,\n          y2: 0,\n          colors: y.map((e, t) => ({\n            color: e.color,\n            offset: l && \"ratio\" in e ? e.ratio : t / c\n          }))\n        },\n        stroke: {\n          width: 0\n        }\n      }, {\n        shape: {\n          type: \"path\",\n          path: `M${d + h} 0 L${m} ${p / 2} L${d + h} ${p} Z`\n        },\n        fill: y[g].color,\n        stroke: {\n          width: 0\n        }\n      }]],\n      b = r(u, m, p),\n      _ = {\n        filter: o(s) ?? void 0,\n        opacity: null == t ? void 0 : `${t}`\n      },\n      w = {\n        justifyContent: \"center\"\n      };\n    return C(\"div\", {\n      class: n.layerRow,\n      styles: w\n    }, C(\"div\", {\n      class: n.rampLabel\n    }, this._getRampStopLabel(y[0], a)), C(\"div\", {\n      class: n.symbolContainer\n    }, C(\"div\", {\n      styles: _\n    }, b), f), C(\"div\", {\n      class: n.rampLabel\n    }, this._getRampStopLabel(y[g], a)));\n  }\n};\ne([i()], F.prototype, \"activeLayerInfos\", void 0), e([i()], F.prototype, \"headingLevel\", void 0), e([i()], F.prototype, \"layout\", void 0), e([i(), x(\"esri/widgets/Legend/t9n/Legend\")], F.prototype, \"messages\", void 0), e([i(), x(\"esri/t9n/common\")], F.prototype, \"messagesCommon\", void 0), e([i({\n  readOnly: !0\n})], F.prototype, \"type\", void 0), e([i()], F.prototype, \"view\", void 0), e([L()], F.prototype, \"_selectSection\", null), F = e([a(\"esri.widgets.Legend.styles.Card\")], F);\nconst T = F;\nexport { T as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e = \"esri-legend\",\n  a = {\n    service: `${e}__service`,\n    label: `${e}__service-label`,\n    layer: `${e}__layer`,\n    groupLayer: `${e}__group-layer`,\n    groupLayerChild: `${e}__group-layer-child`,\n    layerTable: `${e}__layer-table`,\n    layerTableSizeRamp: `${e}__layer-table--size-ramp`,\n    layerChildTable: `${e}__layer-child-table`,\n    layerCaption: `${e}__layer-caption`,\n    layerBody: `${e}__layer-body`,\n    layerRow: `${e}__layer-row`,\n    layerCell: `${e}__layer-cell`,\n    layerInfo: `${e}__layer-cell ${e}__layer-cell--info`,\n    imageryLayerStretchedImage: `${e}__imagery-layer-image--stretched`,\n    imageryLayerCellStretched: `${e}__imagery-layer-cell--stretched`,\n    imageryLayerInfoStretched: `${e}__imagery-layer-info--stretched`,\n    symbolContainer: `${e}__layer-cell ${e}__layer-cell--symbols`,\n    symbol: `${e}__symbol`,\n    rampContainer: `${e}__ramps`,\n    sizeRamp: `${e}__size-ramp`,\n    colorRamp: `${e}__color-ramp`,\n    opacityRamp: `${e}__opacity-ramp`,\n    borderlessRamp: `${e}__borderless-ramp`,\n    rampTick: `${e}__ramp-tick`,\n    rampFirstTick: `${e}__ramp-tick-first`,\n    rampLastTick: `${e}__ramp-tick-last`,\n    rampLabelsContainer: `${e}__ramp-labels`,\n    rampLabel: `${e}__ramp-label`,\n    message: `${e}__message`,\n    univariateAboveAndBelowLabel: \"esri-univariate-above-and-below-ramp__label\"\n  };\nexport { a as css, e as legend };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as t } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport a from \"../../Widget.js\";\nimport { css as r, legend as i } from \"./ClassicCSS.js\";\nimport { renderRelationshipRamp as l } from \"./support/relationshipUtils.js\";\nimport { getUnivariateAboveAndBelowRampElements as o, getUnivariateColorRampSize as n, getUnivariateColorRampPreview as p, getUnivariateColorRampMargin as d, getUnivariateColorSizeRampElements as m } from \"./support/univariateUtils.js\";\nimport { getTitle as c, isRendererTitle as y, attachToNode as v, getStretchStopLabel as h, isImageryStretchedLegend as g } from \"../support/styleUtils.js\";\nimport { globalCss as u } from \"../../support/globalCss.js\";\nimport { Heading as b } from \"../../support/Heading.js\";\nimport \"../../support/widgetUtils.js\";\nimport { messageBundle as f } from \"../../support/decorators/messageBundle.js\";\nimport { tsx as L } from \"../../support/jsxFactory.js\";\nconst w = `${i}__`,\n  C = 24,\n  R = {\n    display: \"flex\",\n    alignItems: \"flex-start\"\n  },\n  A = {\n    marginLeft: \"3px\"\n  },\n  _ = {\n    display: \"table-cell\",\n    verticalAlign: \"middle\"\n  };\nlet j = class extends a {\n  constructor(e, s) {\n    super(e, s), this.activeLayerInfos = null, this.headingLevel = 3, this.messages = null, this.type = \"classic\";\n  }\n  render() {\n    const e = this.activeLayerInfos,\n      s = e?.toArray().map(e => this._renderLegendForLayer(e)).filter(e => !!e);\n    return L(\"div\", null, s?.length ? s : L(\"div\", {\n      class: r.message\n    }, this.messages.noLegend));\n  }\n  _renderLegendForLayer(e) {\n    if (!e.ready) return null;\n    const s = !!e.children.length,\n      t = `${w}${e.layer.uid}-version-${e.version}`,\n      a = e.title ? b({\n        level: this.headingLevel,\n        class: this.classes(u.heading, r.label)\n      }, e.title) : null;\n    if (s) {\n      const s = e.children.map(e => this._renderLegendForLayer(e)).toArray();\n      return L(\"div\", {\n        class: this.classes(r.service, r.groupLayer),\n        key: t\n      }, a, s);\n    }\n    {\n      const s = e.legendElements;\n      if (s && !s.length) return null;\n      const i = s.map(s => this._renderLegendForElement(s, e.layer, e.effectList)).filter(e => !!e);\n      if (!i.length) return null;\n      const l = {\n        [r.groupLayerChild]: !!e.parent\n      };\n      return L(\"div\", {\n        class: this.classes(r.service, l),\n        key: t\n      }, a, L(\"div\", {\n        class: r.layer\n      }, i));\n    }\n  }\n  _renderLegendForElement(e, s, t, a) {\n    const i = \"color-ramp\" === e.type,\n      o = \"opacity-ramp\" === e.type,\n      n = \"size-ramp\" === e.type;\n    let p = null;\n    if (\"symbol-table\" === e.type || n) {\n      const a = e.infos.map(a => this._renderLegendForElementInfo(a, s, t, n, e.legendType)).filter(e => !!e);\n      a.length && (p = L(\"div\", {\n        class: r.layerBody\n      }, a));\n    } else \"color-ramp\" === e.type || \"opacity-ramp\" === e.type || \"heatmap-ramp\" === e.type || \"stretch-ramp\" === e.type ? p = this._renderLegendForRamp(e, s.opacity) : \"relationship-ramp\" === e.type ? p = l(e, this.id, {\n      opacity: s.opacity,\n      effectList: t,\n      ariaLabel: this.messages.previewRelationshipRampAriaLabel\n    }) : \"pie-chart-ramp\" === e.type ? p = this._renderPieChartRamp(e) : \"univariate-above-and-below-ramp\" === e.type ? p = this._renderUnivariateAboveAndBelowRamp(e, s.opacity, t) : \"univariate-color-size-ramp\" === e.type && (p = this._renderUnivariateColorSizeRamp(e, s.opacity, t));\n    if (!p) return null;\n    const d = e.title;\n    let m = null;\n    if (\"string\" == typeof d) m = d;else if (d) {\n      const e = c(this.messages, d, i || o);\n      m = y(d, i || o) && d.title ? `${d.title} (${e})` : e;\n    }\n    const v = a ? r.layerChildTable : r.layerTable,\n      h = m ? L(\"div\", {\n        class: r.layerCaption\n      }, m) : null,\n      g = {\n        [r.layerTableSizeRamp]: n || !a\n      };\n    return L(\"div\", {\n      class: this.classes(v, g)\n    }, h, p);\n  }\n  _renderPieChartRamp(e) {\n    return L(\"div\", {\n      afterCreate: v,\n      bind: e.preview\n    });\n  }\n  _renderUnivariateAboveAndBelowRamp(e, s, t) {\n    const {\n      sizeRampElement: a,\n      colorRampElement: i\n    } = o(e, s);\n    if (!a) return null;\n    const l = this.messages?.previewColorRampAriaLabel,\n      m = n(a, \"above\", !0),\n      c = n(a, \"below\", !0),\n      y = 12,\n      h = p(i, {\n        width: y,\n        height: m,\n        rampAlignment: \"vertical\",\n        opacity: s,\n        type: \"above\",\n        effectList: t,\n        ariaLabel: l\n      }),\n      g = p(i, {\n        width: y,\n        height: c,\n        rampAlignment: \"vertical\",\n        opacity: s,\n        type: \"below\",\n        effectList: t,\n        ariaLabel: l\n      }),\n      u = d(a),\n      b = a.infos.map(e => e.label),\n      f = b.map((e, s) => {\n        const t = 2 === s;\n        return 0 === s ? L(\"div\", {\n          class: e ? h ? r.univariateAboveAndBelowLabel : r.rampLabel : void 0,\n          key: s\n        }, e) : t ? L(\"div\", null) : null;\n      }),\n      w = b.length - 1,\n      C = Math.floor(b.length / 2),\n      j = b.map((e, s) => s === C || s === w ? L(\"div\", {\n        class: e ? h ? r.univariateAboveAndBelowLabel : r.rampLabel : void 0,\n        key: s\n      }, e) : null),\n      $ = {\n        display: \"table-cell\",\n        verticalAlign: \"middle\"\n      },\n      I = {\n        marginTop: `${u}px`\n      },\n      x = {\n        height: `${m}px`\n      },\n      F = {\n        height: `${c}px`\n      };\n    return L(\"div\", {\n      key: \"univariate-above-and-below-ramp-preview\",\n      styles: R\n    }, L(\"div\", {\n      class: r.layerBody\n    }, a.infos.map((e, s) => L(\"div\", {\n      class: this.classes(r.layerRow, r.sizeRamp)\n    }, L(\"div\", {\n      afterCreate: v,\n      bind: e.preview,\n      class: r.symbol,\n      styles: $\n    }), h || s % 2 != 0 ? null : L(\"div\", {\n      class: r.layerInfo\n    }, b[s])))), h ? L(\"div\", {\n      key: \"color-ramp-preview\",\n      styles: I\n    }, L(\"div\", {\n      styles: A\n    }, L(\"div\", {\n      styles: _\n    }, L(\"div\", {\n      afterCreate: v,\n      bind: h,\n      class: r.rampContainer\n    })), L(\"div\", {\n      styles: _\n    }, L(\"div\", {\n      class: r.rampLabelsContainer,\n      styles: x\n    }, f))), L(\"div\", {\n      styles: A\n    }, L(\"div\", {\n      styles: _\n    }, L(\"div\", {\n      afterCreate: v,\n      bind: g,\n      class: r.rampContainer\n    })), L(\"div\", {\n      styles: _\n    }, L(\"div\", {\n      class: r.rampLabelsContainer,\n      styles: F\n    }, j)))) : null);\n  }\n  _renderUnivariateColorSizeRamp(e, s, t) {\n    const {\n      sizeRampElement: a,\n      colorRampElement: i\n    } = m(e);\n    if (!a) return null;\n    const l = d(a),\n      o = 12,\n      c = n(a, \"full\", !1),\n      y = p(i, {\n        width: o,\n        height: c,\n        rampAlignment: \"vertical\",\n        opacity: s,\n        type: \"full\",\n        effectList: t,\n        ariaLabel: this.messages?.previewColorRampAriaLabel\n      }),\n      h = a.infos.length - 1,\n      g = a.infos.map((e, s) => 0 === s || s === h ? L(\"div\", {\n        class: e.label ? i ? r.univariateAboveAndBelowLabel : r.rampLabel : void 0,\n        key: s\n      }, e.label) : null),\n      u = {\n        display: \"table-cell\",\n        verticalAlign: \"middle\"\n      },\n      b = {\n        marginTop: `${l}px`\n      },\n      f = {\n        height: `${c}px`\n      };\n    return L(\"div\", {\n      key: \"univariate-above-and-below-ramp-preview\",\n      styles: R\n    }, L(\"div\", {\n      class: r.layerBody\n    }, a.infos.map(e => L(\"div\", {\n      class: this.classes(r.layerRow, r.sizeRamp)\n    }, L(\"div\", {\n      afterCreate: v,\n      bind: e.preview,\n      class: r.symbol,\n      styles: u\n    })))), L(\"div\", {\n      key: \"color-ramp-preview\",\n      styles: b\n    }, L(\"div\", {\n      styles: A\n    }, L(\"div\", {\n      styles: _\n    }, L(\"div\", {\n      afterCreate: v,\n      bind: y,\n      class: r.rampContainer\n    })), L(\"div\", {\n      styles: _\n    }, L(\"div\", {\n      class: r.rampLabelsContainer,\n      styles: f\n    }, g)))));\n  }\n  _renderLegendForRamp(e, s) {\n    const t = e.infos,\n      a = \"opacity-ramp\" === e.type,\n      i = \"heatmap-ramp\" === e.type,\n      l = \"stretch-ramp\" === e.type,\n      o = e.preview,\n      n = a ? r.opacityRamp : \"\";\n    o.className = `${r.colorRamp} ${n}`, null != s && (o.style.opacity = s.toString());\n    const p = t.map(e => L(\"div\", {\n        class: e.label ? r.rampLabel : void 0\n      }, i ? this.messages[e.label] || e.label : l ? h(e, this.messages) : e.label)),\n      d = {\n        width: `${C}px`\n      },\n      m = {\n        height: o.style.height\n      };\n    return L(\"div\", {\n      class: r.layerRow\n    }, L(\"div\", {\n      class: r.symbolContainer,\n      styles: d\n    }, L(\"div\", {\n      afterCreate: v,\n      bind: o,\n      class: r.rampContainer\n    })), L(\"div\", {\n      class: r.layerInfo\n    }, L(\"div\", {\n      class: r.rampLabelsContainer,\n      styles: m\n    }, p)));\n  }\n  _renderLegendForElementInfo(e, s, t, a, i) {\n    if (e.type) return this._renderLegendForElement(e, s, t, !0);\n    let l = null;\n    const o = g(s, i);\n    if (e.preview ? l = L(\"div\", {\n      afterCreate: v,\n      bind: e.preview,\n      class: r.symbol\n    }) : e.src && (l = this._renderImage(e, s, o)), !l) return null;\n    const n = {\n        [r.imageryLayerInfoStretched]: o\n      },\n      p = {\n        [r.imageryLayerInfoStretched]: o,\n        [r.sizeRamp]: !o && a\n      };\n    return L(\"div\", {\n      class: r.layerRow\n    }, L(\"div\", {\n      class: this.classes(r.symbolContainer, p)\n    }, l), L(\"div\", {\n      class: this.classes(r.layerInfo, n)\n    }, c(this.messages, e.label, !1) || \"\"));\n  }\n  _renderImage(e, s, t) {\n    const {\n        label: a,\n        src: i,\n        opacity: l\n      } = e,\n      o = {\n        [r.imageryLayerStretchedImage]: t,\n        [r.symbol]: !t\n      },\n      n = {\n        opacity: `${null != l ? l : s.opacity}`\n      };\n    return L(\"img\", {\n      alt: c(this.messages, a, !1),\n      \"aria-label\": c(this.messages, a, !1),\n      border: 0,\n      class: this.classes(o),\n      height: e.height,\n      src: i,\n      styles: n,\n      width: e.width\n    });\n  }\n};\ne([s()], j.prototype, \"activeLayerInfos\", void 0), e([s()], j.prototype, \"headingLevel\", void 0), e([s(), f(\"esri/widgets/Legend/t9n/Legend\")], j.prototype, \"messages\", void 0), e([s({\n  readOnly: !0\n})], j.prototype, \"type\", void 0), j = e([t(\"esri.widgets.Legend.styles.Classic\")], j);\nconst $ = j;\nexport { $ as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport { on as t, watch as s, initial as i } from \"../core/reactiveUtils.js\";\nimport { property as r } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as o } from \"../core/accessorSupport/decorators/cast.js\";\nimport \"../core/RandomLCG.js\";\nimport \"../core/has.js\";\nimport { subclass as n } from \"../core/accessorSupport/decorators/subclass.js\";\nimport a from \"./Widget.js\";\nimport l from \"./Legend/LegendViewModel.js\";\nimport d from \"./Legend/styles/Card.js\";\nimport p from \"./Legend/styles/Classic.js\";\nimport { globalCss as c } from \"./support/globalCss.js\";\nimport \"./support/widgetUtils.js\";\nimport { messageBundle as y } from \"./support/decorators/messageBundle.js\";\nimport { tsx as h } from \"./support/jsxFactory.js\";\nconst v = {\n  base: \"esri-legend\"\n};\nlet g = class extends a {\n  constructor(e, t) {\n    super(e, t), this.headingLevel = 3, this.messages = null, this.style = new p(), this.viewModel = new l();\n  }\n  initialize() {\n    this.addHandles([t(() => this.view, \"resize\", () => this.scheduleRender()), t(() => this.activeLayerInfos, \"change\", () => this._refreshActiveLayerInfos(this.activeLayerInfos)), s(() => this.headingLevel, e => {\n      const {\n        style: t\n      } = this;\n      t && (t.headingLevel = e);\n    }), s(() => this.style, (e, t) => {\n      t && e !== t && t.destroy(), e && (e.activeLayerInfos = this.activeLayerInfos, \"card\" === e.type && (e.view = this.view), e.headingLevel = this.headingLevel);\n    }, i)]);\n  }\n  get activeLayerInfos() {\n    return this.viewModel.activeLayerInfos;\n  }\n  set activeLayerInfos(e) {\n    this.viewModel.activeLayerInfos = e;\n  }\n  get basemapLegendVisible() {\n    return this.viewModel.basemapLegendVisible;\n  }\n  set basemapLegendVisible(e) {\n    this.viewModel.basemapLegendVisible = e;\n  }\n  get groundLegendVisible() {\n    return this.viewModel.groundLegendVisible;\n  }\n  set groundLegendVisible(e) {\n    this.viewModel.groundLegendVisible = e;\n  }\n  get hideLayersNotInCurrentView() {\n    return this.viewModel.hideLayersNotInCurrentView;\n  }\n  set hideLayersNotInCurrentView(e) {\n    this.viewModel.hideLayersNotInCurrentView = e;\n  }\n  get keepCacheOnDestroy() {\n    return this.viewModel.keepCacheOnDestroy;\n  }\n  set keepCacheOnDestroy(e) {\n    this.viewModel.keepCacheOnDestroy = e;\n  }\n  get respectLayerDefinitionExpression() {\n    return this.viewModel.respectLayerDefinitionExpression;\n  }\n  set respectLayerDefinitionExpression(e) {\n    this.viewModel.respectLayerDefinitionExpression = e;\n  }\n  get respectLayerVisibility() {\n    return this.viewModel.respectLayerVisibility;\n  }\n  set respectLayerVisibility(e) {\n    this.viewModel.respectLayerVisibility = e;\n  }\n  get icon() {\n    return \"legend\";\n  }\n  set icon(e) {\n    this._overrideIfSome(\"icon\", e);\n  }\n  get label() {\n    return this.messages?.widgetLabel ?? \"\";\n  }\n  set label(e) {\n    this._overrideIfSome(\"label\", e);\n  }\n  get layerInfos() {\n    return this.viewModel.layerInfos;\n  }\n  set layerInfos(e) {\n    this.viewModel.layerInfos = e;\n  }\n  castStyle(e) {\n    if (e instanceof d || e instanceof p) return e;\n    if (\"string\" == typeof e) return \"card\" === e ? new d() : new p();\n    if (e && \"string\" == typeof e.type) {\n      const t = {\n        ...e\n      };\n      delete t.type;\n      return new (\"card\" === e.type ? d : p)(t);\n    }\n    return new p();\n  }\n  get view() {\n    return this.viewModel.view;\n  }\n  set view(e) {\n    this.viewModel.view = e;\n  }\n  render() {\n    return h(\"div\", {\n      class: this.classes(v.base, c.widget, this.style instanceof p ? c.panel : null)\n    }, this.style.render());\n  }\n  _refreshActiveLayerInfos(e) {\n    e.forEach(e => {\n      this.removeHandles(`version_${e.layer.uid}`), this._renderOnActiveLayerInfoChange(e);\n    }), this.scheduleRender();\n  }\n  _renderOnActiveLayerInfoChange(e) {\n    const r = s(() => e.version, () => this.scheduleRender());\n    this.addHandles(r, `version_${e.layer.uid}`);\n    const o = t(() => e.children, \"change\", () => e.children.forEach(e => this._renderOnActiveLayerInfoChange(e)), i);\n    this.addHandles(o, `version_${e.layer.uid}`), e.children.forEach(e => this._renderOnActiveLayerInfoChange(e));\n  }\n};\ne([r()], g.prototype, \"activeLayerInfos\", null), e([r()], g.prototype, \"basemapLegendVisible\", null), e([r()], g.prototype, \"groundLegendVisible\", null), e([r()], g.prototype, \"headingLevel\", void 0), e([r()], g.prototype, \"hideLayersNotInCurrentView\", null), e([r()], g.prototype, \"keepCacheOnDestroy\", null), e([r()], g.prototype, \"respectLayerDefinitionExpression\", null), e([r()], g.prototype, \"respectLayerVisibility\", null), e([r()], g.prototype, \"icon\", null), e([r()], g.prototype, \"label\", null), e([r()], g.prototype, \"layerInfos\", null), e([r(), y(\"esri/widgets/Legend/t9n/Legend\")], g.prototype, \"messages\", void 0), e([r()], g.prototype, \"style\", void 0), e([o(\"style\")], g.prototype, \"castStyle\", null), e([r()], g.prototype, \"view\", null), e([r()], g.prototype, \"viewModel\", void 0), g = e([n(\"esri.widgets.Legend\")], g);\nconst u = g;\nexport { u as default };"],
  "mappings": "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",
  "names": ["l", "i", "s", "a", "n", "e", "t", "u", "r", "f", "o", "n", "y", "S", "e", "t", "s", "i", "h", "l", "r", "a", "v", "u", "o", "c", "d", "m", "b", "f", "p", "g", "w", "V", "h", "L", "u", "p", "f", "v", "w", "e", "r", "i", "t", "s", "a", "n", "o", "l", "I", "e", "a", "r", "l", "n", "r", "s", "a", "c", "f", "e", "t", "p", "o", "m", "i", "u", "h", "v", "y", "d", "b", "r", "e", "t", "i", "o", "n", "s", "u", "l", "a", "k", "I", "e", "t", "s", "i", "a", "n", "r", "o", "l", "p", "d", "m", "h", "y", "g", "v", "c", "u", "b", "_", "w", "L", "R", "$", "f", "e", "a", "w", "e", "C", "A", "_", "j", "s", "n", "a", "t", "i", "l", "o", "p", "h", "d", "m", "v", "g", "y", "c", "u", "b", "f", "$", "I", "F", "v", "g", "e", "t", "$", "I", "n", "r", "o", "u"]
}
