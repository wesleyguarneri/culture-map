{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/webgl/WebGLDriverTestModule.js", "../../../../../../node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js", "../../../../../../node_modules/@arcgis/core/views/webgl/capabilities/DisjointTimerQuery.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as s } from \"../../core/maybe.js\";\nclass t {\n  constructor() {\n    this._result = !1;\n  }\n  dispose() {\n    this._program = s(this._program);\n  }\n  get result() {\n    return null != this._program && (this._result = this._test(this._program), this.dispose()), this._result;\n  }\n}\nexport { t as WebGLDriverTestModule };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Pos2us as e } from \"../2d/engine/webgl/DefaultVertexAttributeLayouts.js\";\nimport { BufferObject as r } from \"./BufferObject.js\";\nimport { TextureWrapMode as t, TextureSamplingMode as o, Usage as n, ClearBufferBit as s, PrimitiveType as i, PixelFormat as a, PixelType as p } from \"./enums.js\";\nimport { FramebufferObject as m } from \"./FramebufferObject.js\";\nimport { Texture as u } from \"./Texture.js\";\nimport { TextureDescriptor as c } from \"./TextureDescriptor.js\";\nimport { VertexArrayObject as d } from \"./VertexArrayObject.js\";\nimport { WebGLDriverTestModule as g } from \"./WebGLDriverTestModule.js\";\nclass f extends g {\n  constructor(e) {\n    super(), this._rctx = e;\n    const r = \"\\n    precision highp float;\\n\\n    attribute vec2 a_pos;\\n    varying vec2 v_uv;\\n\\n    void main() {\\n      v_uv = a_pos;\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",\n      t = \"\\n    precision highp float;\\n\\n    varying vec2 v_uv;\\n\\n    uniform sampler2D u_texture;\\n\\n    void main() {\\n      gl_FragColor = texture2D(u_texture, v_uv);\\n    }\\n    \";\n    this._program = e.programCache.acquire(r, t, new Map([[\"a_pos\", 0]]));\n  }\n  dispose() {\n    super.dispose();\n  }\n  _test(g) {\n    const f = this._rctx;\n    if (!f.gl) return g.dispose(), !0;\n    const l = new c(1);\n    l.wrapMode = t.CLAMP_TO_EDGE, l.samplingMode = o.NEAREST;\n    const w = new m(f, l),\n      v = r.createVertex(f, n.STATIC_DRAW, new Uint16Array([0, 0, 1, 0, 0, 1, 1, 1])),\n      x = new d(f, new Map([[\"a_pos\", 0]]), e, {\n        geometry: v\n      }),\n      h = new c();\n    h.samplingMode = o.LINEAR, h.wrapMode = t.CLAMP_TO_EDGE;\n    const b = new u(f, h, _);\n    f.useProgram(g), f.bindTexture(b, 0), g.setUniform1i(\"u_texture\", 0);\n    const A = f.getBoundFramebufferObject(),\n      {\n        x: E,\n        y: T,\n        width: j,\n        height: C\n      } = f.getViewport();\n    f.bindFramebuffer(w), f.setViewport(0, 0, 1, 1), f.setClearColor(0, 0, 0, 0), f.setBlendingEnabled(!1), f.clear(s.COLOR_BUFFER_BIT), f.bindVAO(x), f.drawArrays(i.TRIANGLE_STRIP, 0, 4);\n    const y = new Uint8Array(4);\n    return w.readPixels(0, 0, 1, 1, a.RGBA, p.UNSIGNED_BYTE, y), x.dispose(), w.dispose(), b.dispose(), f.setViewport(E, T, j, C), f.bindFramebuffer(A), 255 !== y[0];\n  }\n}\nconst _ = new Image();\n_.src = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\", _.width = 5, _.height = 5, _.decode();\nexport { f as SVGPremultipliedAlpha };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e {\n  constructor(e, E, t, T, r, _, i, u, n) {\n    this.createQuery = e, this.deleteQuery = E, this.resultAvailable = t, this.getResult = T, this.disjoint = r, this.beginTimeElapsed = _, this.endTimeElapsed = i, this.createTimestamp = u, this.timestampBits = n;\n  }\n}\nlet E = !1;\nfunction t(t, T) {\n  if (T.disjointTimerQuery) return null;\n  let r = t.getExtension(\"EXT_disjoint_timer_query_webgl2\");\n  return r ? new e(() => t.createQuery(), e => {\n    t.deleteQuery(e), E = !1;\n  }, e => t.getQueryParameter(e, t.QUERY_RESULT_AVAILABLE), e => t.getQueryParameter(e, t.QUERY_RESULT), () => t.getParameter(r.GPU_DISJOINT_EXT), e => {\n    E || (E = !0, t.beginQuery(r.TIME_ELAPSED_EXT, e));\n  }, () => {\n    t.endQuery(r.TIME_ELAPSED_EXT), E = !1;\n  }, e => r.queryCounterEXT(e, r.TIMESTAMP_EXT), () => t.getQuery(r.TIMESTAMP_EXT, r.QUERY_COUNTER_BITS_EXT)) : (r = t.getExtension(\"EXT_disjoint_timer_query\"), r ? new e(() => r.createQueryEXT(), e => {\n    r.deleteQueryEXT(e), E = !1;\n  }, e => r.getQueryObjectEXT(e, r.QUERY_RESULT_AVAILABLE_EXT), e => r.getQueryObjectEXT(e, r.QUERY_RESULT_EXT), () => t.getParameter(r.GPU_DISJOINT_EXT), e => {\n    E || (E = !0, r.beginQueryEXT(r.TIME_ELAPSED_EXT, e));\n  }, () => {\n    r.endQueryEXT(r.TIME_ELAPSED_EXT), E = !1;\n  }, e => r.queryCounterEXT(e, r.TIMESTAMP_EXT), () => r.getQueryEXT(r.TIMESTAMP_EXT, r.QUERY_COUNTER_BITS_EXT)) : null);\n}\nexport { e as DisjointTimerQuery, t as createDisjointTimerQuery, E as hasRunningElapsedTimer };"],
  "mappings": "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",
  "names": ["e", "r", "t", "f", "E", "c", "_", "e", "E", "t", "r", "_"]
}
