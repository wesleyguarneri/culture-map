{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/support/TileMatrixSet.js", "../../../../../../node_modules/@arcgis/core/layers/support/WMTSStyle.js", "../../../../../../node_modules/@arcgis/core/layers/support/WMTSSublayer.js", "../../../../../../node_modules/@arcgis/core/layers/support/wmtsUtils.js", "../../../../../../node_modules/@arcgis/core/layers/WMTSLayer.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport { JSONSupport as o } from \"../../core/JSONSupport.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport s from \"../../geometry/Extent.js\";\nimport i from \"./TileInfo.js\";\nvar l;\nlet n = l = class extends o {\n  constructor(t) {\n    super(t), this.fullExtent = null, this.id = null, this.tileInfo = null;\n  }\n  clone() {\n    const t = new l();\n    return this.hasOwnProperty(\"fullExtent\") && (t.fullExtent = this.fullExtent?.clone() ?? null), this.hasOwnProperty(\"id\") && (t.id = this.id), this.hasOwnProperty(\"tileInfo\") && (t.tileInfo = this.tileInfo?.clone() ?? null), t;\n  }\n};\nt([r({\n  type: s,\n  json: {\n    read: {\n      source: \"fullExtent\"\n    }\n  }\n})], n.prototype, \"fullExtent\", void 0), t([r({\n  type: String,\n  json: {\n    read: {\n      source: \"id\"\n    }\n  }\n})], n.prototype, \"id\", void 0), t([r({\n  type: i,\n  json: {\n    read: {\n      source: \"tileInfo\"\n    }\n  }\n})], n.prototype, \"tileInfo\", void 0), n = l = t([e(\"esri.layers.support.TileMatrixSet\")], n);\nconst p = n;\nexport { p as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../chunks/tslib.es6.js\";\nimport { JSONSupport as s } from \"../../core/JSONSupport.js\";\nimport { property as e } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as t } from \"../../core/accessorSupport/decorators/subclass.js\";\nvar o;\nlet i = o = class extends s {\n  constructor(r) {\n    super(r), this.id = null, this.title = null, this.description = null, this.legendUrl = null;\n  }\n  clone() {\n    const r = new o();\n    return this.hasOwnProperty(\"description\") && (r.description = this.description), this.hasOwnProperty(\"id\") && (r.id = this.id), this.hasOwnProperty(\"isDefault\") && (r.isDefault = this.isDefault), this.hasOwnProperty(\"keywords\") && (r.keywords = this.keywords && this.keywords.slice()), this.hasOwnProperty(\"legendUrl\") && (r.legendUrl = this.legendUrl), this.hasOwnProperty(\"title\") && (r.title = this.title), r;\n  }\n};\nr([e({\n  json: {\n    read: {\n      source: \"id\"\n    }\n  }\n})], i.prototype, \"id\", void 0), r([e({\n  json: {\n    read: {\n      source: \"title\"\n    }\n  }\n})], i.prototype, \"title\", void 0), r([e({\n  json: {\n    read: {\n      source: \"abstract\"\n    }\n  }\n})], i.prototype, \"description\", void 0), r([e({\n  json: {\n    read: {\n      source: \"legendUrl\"\n    }\n  }\n})], i.prototype, \"legendUrl\", void 0), r([e({\n  json: {\n    read: {\n      source: \"isDefault\"\n    }\n  }\n})], i.prototype, \"isDefault\", void 0), r([e({\n  json: {\n    read: {\n      source: \"keywords\"\n    }\n  }\n})], i.prototype, \"keywords\", void 0), i = o = r([t(\"esri.layers.support.WMTSStyle\")], i);\nconst p = i;\nexport { p as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Collection.js\";\nimport { JSONSupport as r } from \"../../core/JSONSupport.js\";\nimport { property as s } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { reader as i } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as o } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport l from \"../../geometry/Extent.js\";\nimport a from \"./TileMatrixSet.js\";\nimport n from \"./WMTSStyle.js\";\nvar p;\nlet m = p = class extends r {\n  constructor(t) {\n    super(t), this.description = null, this.fullExtent = null, this.fullExtents = null, this.id = null, this.imageFormats = null, this.layer = null, this.parent = null, this.styles = null, this.title = null, this.tileMatrixSetId = null, this.tileMatrixSets = null;\n  }\n  readFullExtent(t, e) {\n    return (t = e.fullExtent) ? l.fromJSON(t) : null;\n  }\n  readFullExtents(t, e) {\n    return e.fullExtents?.length ? e.fullExtents.map(t => l.fromJSON(t)) : e.tileMatrixSets?.map(t => l.fromJSON(t.fullExtent)).filter(t => t) ?? [];\n  }\n  get imageFormat() {\n    let t = this._get(\"imageFormat\");\n    return t || (t = this.imageFormats?.length ? this.imageFormats[0] : \"\"), t;\n  }\n  set imageFormat(t) {\n    const e = this.imageFormats;\n    t && (t.includes(\"image/\") || e && !e.includes(t)) && (t.includes(\"image/\") || (t = \"image/\" + t), e && !e.includes(t)) ? console.error(\"The layer doesn't support the format of \" + t) : this._set(\"imageFormat\", t);\n  }\n  get styleId() {\n    let t = this._get(\"styleId\");\n    return t || (t = this.styles?.at(0)?.id ?? \"\"), t;\n  }\n  set styleId(t) {\n    this._set(\"styleId\", t);\n  }\n  get tileMatrixSet() {\n    return this.tileMatrixSets ? this.tileMatrixSets.find(t => t.id === this.tileMatrixSetId) : null;\n  }\n  clone() {\n    const t = new p();\n    return this.hasOwnProperty(\"description\") && (t.description = this.description), this.hasOwnProperty(\"imageFormats\") && (t.imageFormats = this.imageFormats?.slice() ?? null), this.hasOwnProperty(\"imageFormat\") && (t.imageFormat = this.imageFormat), this.hasOwnProperty(\"fullExtent\") && (t.fullExtent = this.fullExtent?.clone()), this.hasOwnProperty(\"id\") && (t.id = this.id), this.hasOwnProperty(\"layer\") && (t.layer = this.layer), this.hasOwnProperty(\"styleId\") && (t.styleId = this.styleId), this.hasOwnProperty(\"styles\") && (t.styles = this.styles?.clone()), this.hasOwnProperty(\"tileMatrixSetId\") && (t.tileMatrixSetId = this.tileMatrixSetId), this.hasOwnProperty(\"tileMatrixSets\") && (t.tileMatrixSets = this.tileMatrixSets?.clone()), this.hasOwnProperty(\"title\") && (t.title = this.title), t;\n  }\n};\nt([s()], m.prototype, \"description\", void 0), t([s()], m.prototype, \"fullExtent\", void 0), t([i(\"fullExtent\", [\"fullExtent\"])], m.prototype, \"readFullExtent\", null), t([s({\n  readOnly: !0\n})], m.prototype, \"fullExtents\", void 0), t([i(\"fullExtents\", [\"fullExtents\", \"tileMatrixSets\"])], m.prototype, \"readFullExtents\", null), t([s()], m.prototype, \"id\", void 0), t([s()], m.prototype, \"imageFormat\", null), t([s({\n  json: {\n    read: {\n      source: \"formats\"\n    }\n  }\n})], m.prototype, \"imageFormats\", void 0), t([s()], m.prototype, \"layer\", void 0), t([s()], m.prototype, \"parent\", void 0), t([s()], m.prototype, \"styleId\", null), t([s({\n  type: e.ofType(n),\n  json: {\n    read: {\n      source: \"styles\"\n    }\n  }\n})], m.prototype, \"styles\", void 0), t([s({\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], m.prototype, \"title\", void 0), t([s()], m.prototype, \"tileMatrixSetId\", void 0), t([s({\n  readOnly: !0\n})], m.prototype, \"tileMatrixSet\", null), t([s({\n  type: e.ofType(a),\n  json: {\n    read: {\n      source: \"tileMatrixSets\"\n    }\n  }\n})], m.prototype, \"tileMatrixSets\", void 0), m = p = t([o(\"esri.layers.support.WMTSSublayer\")], m);\nconst u = m;\nexport { u as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { isSome as e } from \"../../core/arrayUtils.js\";\nimport t from \"../../core/Error.js\";\nimport { getReferenceEllipsoidFromWKID as n } from \"../../geometry/ellipsoidUtils.js\";\nimport i from \"../../geometry/Extent.js\";\nimport r from \"../../geometry/Point.js\";\nimport l from \"../../geometry/support/WKIDUnitConversion.js\";\nimport { isAxesOrderReversedForWkid as o } from \"../ogc/crsUtils.js\";\nimport { visitXML as s } from \"../ogc/xmlUtils.js\";\nimport a from \"./LOD.js\";\nimport c from \"./TileInfo.js\";\nconst u = 90.71428571428571;\nfunction p(e) {\n  const n = e.replaceAll(/ows:/gi, \"\");\n  if (!g(\"Contents\", new DOMParser().parseFromString(n, \"text/xml\").documentElement)) throw new t(\"wmtslayer:wmts-capabilities-xml-is-not-valid\", \"the wmts get capabilities response is not compliant\", {\n    text: e\n  });\n}\nfunction f(e, n) {\n  e = e.replaceAll(/ows:/gi, \"\");\n  const i = new DOMParser().parseFromString(e, \"text/xml\").documentElement,\n    r = new Map(),\n    l = new Map(),\n    o = g(\"Contents\", i);\n  if (!o) throw new t(\"wmtslayer:wmts-capabilities-xml-is-not-valid\");\n  const s = g(\"OperationsMetadata\", i),\n    a = s?.querySelector(\"[name='GetTile']\"),\n    c = a?.getElementsByTagName(\"Get\"),\n    u = c && Array.prototype.slice.call(c),\n    p = n.url?.indexOf(\"https\"),\n    f = void 0 !== p && p > -1;\n  let d,\n    m,\n    h = n.serviceMode,\n    T = n?.url;\n  if (u?.length && u.some(e => {\n    const t = g(\"Constraint\", e);\n    return !t || C(\"AllowedValues\", \"Value\", h, t) ? (T = e.attributes[0].nodeValue, !0) : (!t || C(\"AllowedValues\", \"Value\", \"RESTful\", t) || C(\"AllowedValues\", \"Value\", \"REST\", t) ? m = e.attributes[0].nodeValue : t && !C(\"AllowedValues\", \"Value\", \"KVP\", t) || (d = e.attributes[0].nodeValue), !1);\n  }), !T) if (m) T = m, h = \"RESTful\";else if (d) T = d, h = \"KVP\";else {\n    const e = g(\"ServiceMetadataURL\", i);\n    T = e?.getAttribute(\"xlink:href\");\n  }\n  const y = T.indexOf(\"1.0.0/\");\n  -1 === y && \"RESTful\" === h ? T += \"/\" : y > -1 && (T = T.substring(0, y)), \"KVP\" === h && (T += y > -1 ? \"\" : \"?\"), f && (T = T.replace(/^http:/i, \"https:\"));\n  const R = w(\"ServiceIdentification>ServiceTypeVersion\", i),\n    S = w(\"ServiceIdentification>AccessConstraints\", i),\n    A = S && /^none$/i.test(S) ? null : S,\n    V = x(\"Layer\", o),\n    b = x(\"TileMatrixSet\", o),\n    E = V.map(e => {\n      const t = w(\"Identifier\", e);\n      return r.set(t, e), M(t, e, b, f, R);\n    });\n  return {\n    copyright: A,\n    dimensionMap: l,\n    layerMap: r,\n    layers: E,\n    serviceMode: h,\n    tileUrl: T\n  };\n}\nfunction d(e) {\n  return e.layers.forEach(e => {\n    e.tileMatrixSets?.forEach(e => {\n      const t = e.tileInfo;\n      t && 96 !== t.dpi && (t.lods?.forEach(n => {\n        n.scale = 96 * n.scale / t.dpi, n.resolution = j(t.spatialReference?.wkid, n.scale * u / 96, e.id);\n      }), t.dpi = 96);\n    });\n  }), e;\n}\nfunction m(e) {\n  return e.nodeType === Node.ELEMENT_NODE;\n}\nfunction g(e, t) {\n  for (let n = 0; n < t.childNodes.length; n++) {\n    const i = t.childNodes[n];\n    if (m(i) && i.nodeName === e) return i;\n  }\n  return null;\n}\nfunction x(e, t) {\n  const n = [];\n  for (let i = 0; i < t.childNodes.length; i++) {\n    const r = t.childNodes[i];\n    m(r) && r.nodeName === e && n.push(r);\n  }\n  return n;\n}\nfunction h(t, n) {\n  const i = [];\n  for (let e = 0; e < n.childNodes.length; e++) {\n    const r = n.childNodes[e];\n    m(r) && r.nodeName === t && i.push(r);\n  }\n  return i.map(e => e.textContent).filter(e);\n}\nfunction w(e, t) {\n  return e.split(\">\").forEach(e => {\n    t && (t = g(e, t));\n  }), t && t.textContent;\n}\nfunction C(e, t, n, i) {\n  let r;\n  return Array.prototype.slice.call(i.childNodes).some(i => {\n    if (i.nodeName.includes(e)) {\n      const e = g(t, i),\n        l = e?.textContent;\n      if (l === n || n.split(\":\") && n.split(\":\")[1] === l) return r = i, !0;\n    }\n    return !1;\n  }), r;\n}\nfunction M(e, t, n, i, r) {\n  const l = w(\"Abstract\", t),\n    o = h(\"Format\", t);\n  return {\n    id: e,\n    fullExtent: A(t),\n    fullExtents: V(t),\n    description: l,\n    formats: o,\n    styles: b(t, i),\n    title: w(\"Title\", t),\n    tileMatrixSets: E(r, t, n)\n  };\n}\nfunction T(e, t) {\n  const n = [],\n    i = e.layerMap?.get(t);\n  if (!i) return null;\n  const r = x(\"ResourceURL\", i),\n    l = x(\"Dimension\", i);\n  let o, s, a, c;\n  return l.length && (o = w(\"Identifier\", l[0]), s = h(\"Default\", l[0]) || h(\"Value\", l[0])), l.length > 1 && (a = w(\"Identifier\", l[1]), c = h(\"Default\", l[1]) || h(\"Value\", l[1])), e.dimensionMap.set(t, {\n    dimensions: s,\n    dimensions2: c\n  }), r.forEach(e => {\n    let t = e.getAttribute(\"template\");\n    if (\"tile\" === e.getAttribute(\"resourceType\")) {\n      if (o && s.length) if (t.includes(\"{\" + o + \"}\")) t = t.replace(\"{\" + o + \"}\", \"{dimensionValue}\");else {\n        const e = t.toLowerCase().indexOf(\"{\" + o.toLowerCase() + \"}\");\n        e > -1 && (t = t.substring(0, e) + \"{dimensionValue}\" + t.substring(e + o.length + 2));\n      }\n      if (a && c.length) if (t.includes(\"{\" + a + \"}\")) t = t.replace(\"{\" + a + \"}\", \"{dimensionValue2}\");else {\n        const e = t.toLowerCase().indexOf(\"{\" + a.toLowerCase() + \"}\");\n        e > -1 && (t = t.substring(0, e) + \"{dimensionValue2}\" + t.substring(e + a.length + 2));\n      }\n      n.push({\n        template: t,\n        format: e.getAttribute(\"format\"),\n        resourceType: \"tile\"\n      });\n    }\n  }), n;\n}\nfunction y(e, t, n, i, r, l, o, s) {\n  const a = R(e, t, i);\n  if (!(a?.length > 0)) return \"\";\n  const {\n      dimensionMap: c\n    } = e,\n    u = c.get(t).dimensions?.[0],\n    p = c.get(t).dimensions2?.[0];\n  return a[o % a.length].template.replaceAll(/\\{Style\\}/gi, r ?? \"\").replaceAll(/\\{TileMatrixSet\\}/gi, n ?? \"\").replaceAll(/\\{TileMatrix\\}/gi, l).replaceAll(/\\{TileRow\\}/gi, \"\" + o).replaceAll(/\\{TileCol\\}/gi, \"\" + s).replaceAll(/\\{dimensionValue\\}/gi, u).replaceAll(/\\{dimensionValue2\\}/gi, p);\n}\nfunction R(e, t, n) {\n  const i = T(e, t),\n    r = i?.filter(e => e.format === n);\n  return (r?.length ? r : i) ?? [];\n}\nfunction S(e, t, n, i) {\n  const {\n      dimensionMap: r\n    } = e,\n    l = T(e, t);\n  let o = \"\";\n  if (l && l.length > 0) {\n    const e = r.get(t).dimensions?.[0],\n      s = r.get(t).dimensions2?.[0];\n    o = l[0].template, o.endsWith(\".xxx\") && (o = o.slice(0, -4)), o = o.replaceAll(/\\{Style\\}/gi, i), o = o.replaceAll(/\\{TileMatrixSet\\}/gi, n), o = o.replaceAll(/\\{TileMatrix\\}/gi, \"{level}\"), o = o.replaceAll(/\\{TileRow\\}/gi, \"{row}\"), o = o.replaceAll(/\\{TileCol\\}/gi, \"{col}\"), o = o.replaceAll(/\\{dimensionValue\\}/gi, e), o = o.replaceAll(/\\{dimensionValue2\\}/gi, s);\n  }\n  return o;\n}\nfunction A(e) {\n  const t = g(\"WGS84BoundingBox\", e),\n    n = t ? w(\"LowerCorner\", t).split(\" \") : [\"-180\", \"-90\"],\n    i = t ? w(\"UpperCorner\", t).split(\" \") : [\"180\", \"90\"];\n  return {\n    xmin: parseFloat(n[0]),\n    ymin: parseFloat(n[1]),\n    xmax: parseFloat(i[0]),\n    ymax: parseFloat(i[1]),\n    spatialReference: {\n      wkid: 4326\n    }\n  };\n}\nfunction V(e) {\n  const t = [];\n  return s(e, {\n    BoundingBox: e => {\n      if (!e.getAttribute(\"crs\")) return;\n      const n = e.getAttribute(\"crs\").toLowerCase(),\n        i = I(n),\n        r = n.includes(\"epsg\") && o(i.wkid);\n      let l, a, c, u;\n      s(e, {\n        LowerCorner: e => {\n          [l, a] = e.textContent.split(\" \").map(e => Number.parseFloat(e)), r && ([l, a] = [a, l]);\n        },\n        UpperCorner: e => {\n          [c, u] = e.textContent.split(\" \").map(e => Number.parseFloat(e)), r && ([c, u] = [u, c]);\n        }\n      }), t.push({\n        xmin: l,\n        ymin: a,\n        xmax: c,\n        ymax: u,\n        spatialReference: i\n      });\n    }\n  }), t;\n}\nfunction b(e, t) {\n  return x(\"Style\", e).map(e => {\n    const n = g(\"LegendURL\", e),\n      i = g(\"Keywords\", e),\n      r = i ? h(\"Keyword\", i) : [];\n    let l = n?.getAttribute(\"xlink:href\");\n    t && (l = l?.replace(/^http:/i, \"https:\"));\n    return {\n      abstract: w(\"Abstract\", e),\n      id: w(\"Identifier\", e),\n      isDefault: \"true\" === e.getAttribute(\"isDefault\"),\n      keywords: r,\n      legendUrl: l,\n      title: w(\"Title\", e)\n    };\n  });\n}\nfunction E(e, t, n) {\n  return x(\"TileMatrixSetLink\", t).map(t => L(e, t, n));\n}\nfunction L(e, t, n) {\n  const i = g(\"TileMatrixSet\", t).textContent,\n    r = h(\"TileMatrix\", t),\n    l = n.find(e => {\n      const t = g(\"Identifier\", e),\n        n = t?.textContent;\n      return !!(n === i || i.split(\":\") && i.split(\":\")[1] === n);\n    }),\n    o = g(\"TileMatrixSetLimits\", t),\n    s = o && x(\"TileMatrixLimits\", o),\n    a = new Map();\n  if (s?.length) for (const c of s) {\n    const e = g(\"TileMatrix\", c).textContent,\n      t = +g(\"MinTileRow\", c).textContent,\n      n = +g(\"MaxTileRow\", c).textContent,\n      i = +g(\"MinTileCol\", c).textContent,\n      r = +g(\"MaxTileCol\", c).textContent;\n    a.set(e, {\n      minCol: i,\n      maxCol: r,\n      minRow: t,\n      maxRow: n\n    });\n  }\n  const u = w(\"SupportedCRS\", l).toLowerCase(),\n    p = N(l, u),\n    f = p.spatialReference,\n    d = g(\"TileMatrix\", l),\n    m = [parseInt(w(\"TileWidth\", d), 10), parseInt(w(\"TileHeight\", d), 10)],\n    M = [];\n  if (r.length) r.forEach((e, t) => {\n    const n = C(\"TileMatrix\", \"Identifier\", e, l);\n    M.push(k(n, u, t, i, a));\n  });else {\n    x(\"TileMatrix\", l).forEach((e, t) => {\n      M.push(k(e, u, t, i, a));\n    });\n  }\n  const T = F(e, l, p, m, M[0]).toJSON(),\n    y = new c({\n      dpi: 96,\n      spatialReference: f,\n      size: m,\n      origin: p,\n      lods: M\n    }).toJSON();\n  return {\n    id: i,\n    fullExtent: T,\n    tileInfo: y\n  };\n}\nfunction I(e) {\n  e = e.toLowerCase();\n  let t = parseInt(e.split(\":\").pop(), 10);\n  900913 !== t && 3857 !== t || (t = 102100);\n  const n = O(e);\n  return null != n && (t = n), {\n    wkid: t\n  };\n}\nfunction N(e, t) {\n  return v(g(\"TileMatrix\", e), t);\n}\nfunction v(e, t) {\n  const n = I(t),\n    [i, l] = w(\"TopLeftCorner\", e).split(\" \").map(e => parseFloat(e)),\n    s = t.includes(\"epsg\") && o(n.wkid);\n  return new r(s ? {\n    x: l,\n    y: i,\n    spatialReference: n\n  } : {\n    x: i,\n    y: l,\n    spatialReference: n\n  });\n}\nfunction F(e, t, n, r, l) {\n  const o = g(\"BoundingBox\", t);\n  let s, a, c, u, p, f;\n  if (o && (s = w(\"LowerCorner\", o).split(\" \"), a = w(\"UpperCorner\", o).split(\" \")), s && s.length > 1 && a && a.length > 1) c = parseFloat(s[0]), p = parseFloat(s[1]), u = parseFloat(a[0]), f = parseFloat(a[1]);else {\n    const e = g(\"TileMatrix\", t),\n      i = parseInt(w(\"MatrixWidth\", e), 10),\n      o = parseInt(w(\"MatrixHeight\", e), 10);\n    c = n.x, f = n.y, u = c + i * r[0] * l.resolution, p = f - o * r[1] * l.resolution;\n  }\n  return U(e, n.spatialReference, n) ? new i(p, c, f, u, n.spatialReference) : new i(c, p, u, f, n.spatialReference);\n}\nfunction U(e, t, n) {\n  return \"1.0.0\" === e && o(t.wkid) && !(n.spatialReference.isGeographic && n.x < -90 && n.y >= -90);\n}\nvar D;\nfunction O(e) {\n  return e.includes(\"crs84\") || e.includes(\"crs:84\") ? D.CRS84 : e.includes(\"crs83\") || e.includes(\"crs:83\") ? D.CRS83 : e.includes(\"crs27\") || e.includes(\"crs:27\") ? D.CRS27 : null;\n}\nfunction k(e, t, n, i, r) {\n  const l = I(t),\n    o = w(\"Identifier\", e);\n  let s = parseFloat(w(\"ScaleDenominator\", e));\n  const c = j(l.wkid, s, i);\n  s *= 96 / u;\n  const p = +w(\"MatrixWidth\", e),\n    f = +w(\"MatrixHeight\", e),\n    {\n      maxCol: d = p - 1,\n      maxRow: m = f - 1,\n      minCol: g = 0,\n      minRow: x = 0\n    } = r.get(o) ?? {},\n    {\n      x: h,\n      y: C\n    } = v(e, t);\n  return new a({\n    cols: [g, d],\n    level: n,\n    levelValue: o,\n    origin: [h, C],\n    scale: s,\n    resolution: c,\n    rows: [x, m]\n  });\n}\nfunction j(e, t, i) {\n  let r;\n  return r = l.hasOwnProperty(\"\" + e) ? l.values[l[e]] : \"default028mm\" === i ? 6370997 * Math.PI / 180 : n(e).metersPerDegree, 7 * t / 25e3 / r;\n}\n!function (e) {\n  e[e.CRS84 = 4326] = \"CRS84\", e[e.CRS83 = 4269] = \"CRS83\", e[e.CRS27 = 4267] = \"CRS27\";\n}(D || (D = {}));\nexport { y as getTileUrlFromResourceUrls, S as getTileUrlTemplateFromResourceUrls, R as getTileUrlTemplates, f as parseCapabilities, d as parseResourceInfo, p as validateCapabilities };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../request.js\";\nimport { isSome as r } from \"../core/arrayUtils.js\";\nimport i from \"../core/Collection.js\";\nimport s from \"../core/Error.js\";\nimport { clone as a } from \"../core/lang.js\";\nimport { MultiOriginJSONMixin as o } from \"../core/MultiOriginJSONSupport.js\";\nimport { getDeepValue as l } from \"../core/object.js\";\nimport { throwIfAbortError as n } from \"../core/promiseUtils.js\";\nimport { watch as m, on as p, sync as c } from \"../core/reactiveUtils.js\";\nimport { urlToObject as u, objectToQuery as y } from \"../core/urlUtils.js\";\nimport { property as d } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport { reader as h } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as f } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as g } from \"../core/accessorSupport/decorators/writer.js\";\nimport v from \"../geometry/Extent.js\";\nimport w from \"./Layer.js\";\nimport I from \"./WebTileLayer.js\";\nimport { BlendLayer as L } from \"./mixins/BlendLayer.js\";\nimport { OperationalLayer as S } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as M } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as T } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as b } from \"./mixins/ScaleRangeLayer.js\";\nimport { createTileBitmap as j } from \"./support/imageBitmapUtils.js\";\nimport P from \"./support/TileInfo.js\";\nimport x from \"./support/TileInfoTilemapCache.js\";\nimport { WMTSLayerInfo as E } from \"./support/WMTSLayerInfo.js\";\nimport _ from \"./support/WMTSSublayer.js\";\nimport { getTileUrlFromResourceUrls as C, getTileUrlTemplateFromResourceUrls as U, validateCapabilities as R, parseCapabilities as O, parseResourceInfo as A } from \"./support/wmtsUtils.js\";\nvar W;\nconst F = {\n    \"image/png\": \".png\",\n    \"image/png8\": \".png\",\n    \"image/png24\": \".png\",\n    \"image/png32\": \".png\",\n    \"image/jpg\": \".jpg\",\n    \"image/jpeg\": \".jpeg\",\n    \"image/gif\": \".gif\",\n    \"image/bmp\": \".bmp\",\n    \"image/tiff\": \".tif\",\n    \"image/jpgpng\": \"\",\n    \"image/jpegpng\": \"\",\n    \"image/unknown\": \"\"\n  },\n  V = new Set([\"version\", \"service\", \"request\", \"layer\", \"style\", \"format\", \"tilematrixset\", \"tilematrix\", \"tilerow\", \"tilecol\"]);\nlet B = W = class extends L(T(b(S(M(o(w)))))) {\n  constructor(...e) {\n    super(...e), this.activeLayer = null, this.copyright = \"\", this.customParameters = null, this.customLayerParameters = null, this.fullExtent = null, this.operationalLayerType = \"WebTiledLayer\", this.resourceInfo = null, this.serviceMode = \"RESTful\", this.sublayers = null, this.type = \"wmts\", this.version = \"1.0.0\", this.addHandles([m(() => this.activeLayer, (e, t) => {\n      t && !this.sublayers?.includes(t) && (t.layer = null, t.parent = null), e && (e.layer = this, e.parent = this);\n    }, c), p(() => this.sublayers, \"after-add\", ({\n      item: e\n    }) => {\n      e.layer = this, e.parent = this;\n    }, c), p(() => this.sublayers, \"after-remove\", ({\n      item: e\n    }) => {\n      e.layer = null, e.parent = null;\n    }, c), m(() => this.sublayers, (e, t) => {\n      if (t) for (const r of t) r.layer = null, r.parent = null;\n      if (e) for (const r of e) r.layer = this, r.parent = this;\n    }, c)]);\n  }\n  normalizeCtorArgs(e, t) {\n    return \"string\" == typeof e ? {\n      url: e,\n      ...t\n    } : e;\n  }\n  load(e) {\n    return this.addResolvingPromise(this.loadFromPortal({\n      supportedTypes: [\"WMTS\"]\n    }, e).catch(n).then(() => this._fetchService(e)).catch(e => {\n      throw n(e), new s(\"wmtslayer:unsupported-service-data\", \"Invalid response from the WMTS service.\", {\n        error: e\n      });\n    })), Promise.resolve(this);\n  }\n  readActiveLayerFromService(e, t, r) {\n    this.activeLayer || (this.activeLayer = new _());\n    let i = t.layers.find(e => e.id === this.activeLayer.id);\n    return i || (i = t.layers[0]), this.activeLayer.read(i, r), this.activeLayer;\n  }\n  readActiveLayerFromItemOrWebDoc(e, t) {\n    const {\n        templateUrl: r,\n        wmtsInfo: i\n      } = t,\n      s = r ? this._getLowerCasedUrlParams(r) : null,\n      a = i?.layerIdentifier;\n    let o = null;\n    const l = i?.tileMatrixSet;\n    l && (Array.isArray(l) ? l.length && (o = l[0]) : o = l);\n    const n = s?.format,\n      m = s?.style;\n    return new _({\n      id: a,\n      imageFormat: n,\n      styleId: m,\n      tileMatrixSetId: o\n    });\n  }\n  writeActiveLayer(e, t, r, i) {\n    const s = this.activeLayer;\n    t.templateUrl = this.getUrlTemplate(s.id, s.tileMatrixSetId, s.imageFormat, s.styleId);\n    const a = l(\"tileMatrixSet.tileInfo\", s);\n    t.tileInfo = a ? a.toJSON(i) : null, t.wmtsInfo = {\n      ...t.wmtsInfo,\n      layerIdentifier: s.id,\n      tileMatrixSet: s.tileMatrixSetId\n    };\n  }\n  readCustomParameters(e, t) {\n    const r = t.wmtsInfo;\n    return r ? this._mergeParams(r.customParameters, r.url) : null;\n  }\n  get fullExtents() {\n    return this.activeLayer.fullExtents;\n  }\n  readServiceMode(e, t) {\n    return t.templateUrl.includes(\"?\") ? \"KVP\" : \"RESTful\";\n  }\n  readSublayersFromService(e, t, r) {\n    return $(t.layers, r);\n  }\n  get supportedSpatialReferences() {\n    return this.activeLayer.tileMatrixSets?.map(e => e.tileInfo?.spatialReference).toArray().filter(r) ?? [];\n  }\n  get tilemapCache() {\n    const e = this.activeLayer?.tileMatrixSet?.tileInfo;\n    return e ? new x(e) : void 0;\n  }\n  get title() {\n    return this.activeLayer?.title ?? \"Layer\";\n  }\n  set title(e) {\n    this._overrideIfSome(\"title\", e);\n  }\n  get url() {\n    return this._get(\"url\");\n  }\n  set url(e) {\n    e && \"/\" === e.substr(-1) ? this._set(\"url\", e.slice(0, -1)) : this._set(\"url\", e);\n  }\n  createWebTileLayer(e) {\n    const t = this.getUrlTemplate(this.activeLayer.id, this.activeLayer.tileMatrixSetId, this.activeLayer.imageFormat, this.activeLayer.styleId),\n      r = this._getTileMatrixSetById(e.tileMatrixSetId),\n      i = r?.tileInfo,\n      s = e.fullExtent,\n      a = new E({\n        layerIdentifier: e.id,\n        tileMatrixSet: e.tileMatrixSetId,\n        url: this.url\n      });\n    return this.customLayerParameters && (a.customLayerParameters = this.customLayerParameters), this.customParameters && (a.customParameters = this.customParameters), new I({\n      fullExtent: s,\n      urlTemplate: t,\n      tileInfo: i,\n      wmtsInfo: a\n    });\n  }\n  async fetchTile(e, r, i, s = {}) {\n    const {\n        signal: a\n      } = s,\n      o = this.getTileUrl(e, r, i),\n      {\n        data: l\n      } = await t(o, {\n        responseType: \"image\",\n        signal: a\n      });\n    return l;\n  }\n  async fetchImageBitmapTile(e, r, i, s = {}) {\n    const {\n      signal: a\n    } = s;\n    if (this.fetchTile !== W.prototype.fetchTile) {\n      const t = await this.fetchTile(e, r, i, s);\n      return j(t, e, r, i, a);\n    }\n    const o = this.getTileUrl(e, r, i),\n      {\n        data: l\n      } = await t(o, {\n        responseType: \"blob\",\n        signal: a\n      });\n    return j(l, e, r, i, a);\n  }\n  findSublayerById(e) {\n    return this.sublayers?.find(t => t.id === e);\n  }\n  getTileUrl(e, t, r) {\n    const i = this._getTileMatrixSetById(this.activeLayer.tileMatrixSetId),\n      s = i?.tileInfo?.lods[e],\n      a = s ? s.levelValue || `${s.level}` : `${e}`;\n    let o = this.resourceInfo ? \"\" : C({\n      dimensionMap: this.dimensionMap,\n      layerMap: this.layerMap\n    }, this.activeLayer.id, this.activeLayer.tileMatrixSetId, this.activeLayer.imageFormat, this.activeLayer.styleId, a, t, r);\n    if (!o) {\n      o = this.getUrlTemplate(this.activeLayer.id, this.activeLayer.tileMatrixSetId, this.activeLayer.imageFormat, this.activeLayer.styleId).replaceAll(/\\{level\\}/gi, a).replaceAll(/\\{row\\}/gi, `${t}`).replaceAll(/\\{col\\}/gi, `${r}`);\n    }\n    return o = this._appendCustomLayerParameters(o), o;\n  }\n  getUrlTemplate(e, t, r, i) {\n    if (!this.resourceInfo) {\n      const r = U({\n        dimensionMap: this.dimensionMap,\n        layerMap: this.layerMap\n      }, e, t, i);\n      if (r) return r;\n    }\n    if (\"KVP\" === this.serviceMode) return this.url + \"?SERVICE=WMTS&VERSION=\" + this.version + \"&REQUEST=GetTile&LAYER=\" + e + \"&STYLE=\" + i + \"&FORMAT=\" + r + \"&TILEMATRIXSET=\" + t + \"&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}\";\n    if (\"RESTful\" === this.serviceMode) {\n      let s = \"\";\n      return F[r.toLowerCase()] && (s = F[r.toLowerCase()]), this.url + e + \"/\" + i + \"/\" + t + \"/{level}/{row}/{col}\" + s;\n    }\n    return \"\";\n  }\n  async _fetchService(e) {\n    let t;\n    if (this.resourceInfo) \"KVP\" === this.resourceInfo.serviceMode && (this.url += this.url.includes(\"?\") ? \"\" : \"?\"), t = {\n      ssl: !1,\n      data: this.resourceInfo\n    };else try {\n      t = await this._getCapabilities(this.serviceMode, e), R(t.data);\n    } catch {\n      const i = \"KVP\" === this.serviceMode ? \"RESTful\" : \"KVP\";\n      try {\n        t = await this._getCapabilities(i, e), R(t.data), this.serviceMode = i;\n      } catch (r) {\n        throw new s(\"wmtslayer:unsupported-service-data\", \"Services does not support RESTful or KVP service modes.\", {\n          error: r\n        });\n      }\n    }\n    this.resourceInfo ? t.data = A(t.data) : t.data = O(t.data, {\n      serviceMode: this.serviceMode,\n      url: this.url\n    }), t.data && this.read(t.data, {\n      origin: \"service\"\n    });\n  }\n  async _getCapabilities(e, r) {\n    const i = this._getCapabilitiesUrl(e);\n    return await t(i, {\n      ...r,\n      responseType: \"text\"\n    });\n  }\n  _getTileMatrixSetById(e) {\n    const t = this.findSublayerById(this.activeLayer.id),\n      r = t?.tileMatrixSets?.find(t => t.id === e);\n    return r;\n  }\n  _appendCustomParameters(e) {\n    return this._appendParameters(e, this.customParameters);\n  }\n  _appendCustomLayerParameters(e) {\n    return this._appendParameters(e, {\n      ...a(this.customParameters),\n      ...this.customLayerParameters\n    });\n  }\n  _appendParameters(e, t) {\n    const r = u(e),\n      i = {\n        ...r.query,\n        ...t\n      },\n      s = y(i);\n    return \"\" === s ? r.path : `${r.path}?${s}`;\n  }\n  _getCapabilitiesUrl(e) {\n    this.url = u(this.url).path;\n    let t = this.url;\n    switch (e) {\n      case \"KVP\":\n        t += `?request=GetCapabilities&service=WMTS&version=${this.version}`;\n        break;\n      case \"RESTful\":\n        {\n          const e = `/${this.version}/WMTSCapabilities.xml`,\n            r = new RegExp(e, \"i\");\n          t = t.replace(r, \"\"), t += e;\n          break;\n        }\n    }\n    return this._appendCustomParameters(t);\n  }\n  _getLowerCasedUrlParams(e) {\n    if (!e) return null;\n    const t = u(e).query;\n    if (!t) return null;\n    const r = {};\n    return Object.keys(t).forEach(e => {\n      r[e.toLowerCase()] = t[e];\n    }), r;\n  }\n  _mergeParams(e, t) {\n    const r = this._getLowerCasedUrlParams(t);\n    if (r) {\n      const t = Object.keys(r);\n      t.length && (e = e ? a(e) : {}, t.forEach(t => {\n        e.hasOwnProperty(t) || V.has(t) || (e[t] = r[t]);\n      }));\n    }\n    return e;\n  }\n};\nfunction $(e, t) {\n  return e.map(e => {\n    const r = new _();\n    return r.read(e, t), r;\n  });\n}\ne([d()], B.prototype, \"dimensionMap\", void 0), e([d()], B.prototype, \"layerMap\", void 0), e([d({\n  type: _,\n  json: {\n    origins: {\n      \"web-document\": {\n        write: {\n          ignoreOrigin: !0\n        }\n      }\n    }\n  }\n})], B.prototype, \"activeLayer\", void 0), e([h(\"service\", \"activeLayer\", [\"layers\"])], B.prototype, \"readActiveLayerFromService\", null), e([h([\"web-document\", \"portal-item\"], \"activeLayer\", [\"wmtsInfo\"])], B.prototype, \"readActiveLayerFromItemOrWebDoc\", null), e([g([\"web-document\", \"portal-item\"], \"activeLayer\", {\n  templateUrl: {\n    type: String\n  },\n  tileInfo: {\n    type: P\n  },\n  \"wmtsInfo.layerIdentifier\": {\n    type: String\n  },\n  \"wmtsInfo.tileMatrixSet\": {\n    type: String\n  }\n})], B.prototype, \"writeActiveLayer\", null), e([d({\n  type: String,\n  value: \"\",\n  json: {\n    write: !0\n  }\n})], B.prototype, \"copyright\", void 0), e([d({\n  type: [\"show\", \"hide\"]\n})], B.prototype, \"listMode\", void 0), e([d({\n  json: {\n    read: !0,\n    write: !0\n  }\n})], B.prototype, \"blendMode\", void 0), e([d({\n  json: {\n    origins: {\n      \"web-document\": {\n        read: {\n          source: [\"wmtsInfo.customParameters\", \"wmtsInfo.url\"]\n        },\n        write: {\n          target: \"wmtsInfo.customParameters\"\n        }\n      },\n      \"portal-item\": {\n        read: {\n          source: [\"wmtsInfo.customParameters\", \"wmtsInfo.url\"]\n        },\n        write: {\n          target: \"wmtsInfo.customParameters\"\n        }\n      }\n    }\n  }\n})], B.prototype, \"customParameters\", void 0), e([h([\"portal-item\", \"web-document\"], \"customParameters\")], B.prototype, \"readCustomParameters\", null), e([d({\n  json: {\n    origins: {\n      \"web-document\": {\n        read: {\n          source: \"wmtsInfo.customLayerParameters\"\n        },\n        write: {\n          target: \"wmtsInfo.customLayerParameters\"\n        }\n      },\n      \"portal-item\": {\n        read: {\n          source: \"wmtsInfo.customLayerParameters\"\n        },\n        write: {\n          target: \"wmtsInfo.customLayerParameters\"\n        }\n      }\n    }\n  }\n})], B.prototype, \"customLayerParameters\", void 0), e([d({\n  type: v,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    },\n    origins: {\n      \"web-document\": {\n        read: {\n          source: \"fullExtent\"\n        }\n      },\n      \"portal-item\": {\n        read: {\n          source: \"fullExtent\"\n        }\n      }\n    }\n  }\n})], B.prototype, \"fullExtent\", void 0), e([d({\n  readOnly: !0\n})], B.prototype, \"fullExtents\", null), e([d({\n  type: [\"WebTiledLayer\"]\n})], B.prototype, \"operationalLayerType\", void 0), e([d()], B.prototype, \"resourceInfo\", void 0), e([d()], B.prototype, \"serviceMode\", void 0), e([h([\"portal-item\", \"web-document\"], \"serviceMode\", [\"templateUrl\"])], B.prototype, \"readServiceMode\", null), e([d({\n  type: i.ofType(_)\n})], B.prototype, \"sublayers\", void 0), e([h(\"service\", \"sublayers\", [\"layers\"])], B.prototype, \"readSublayersFromService\", null), e([d({\n  readOnly: !0\n})], B.prototype, \"supportedSpatialReferences\", null), e([d({\n  readOnly: !0\n})], B.prototype, \"tilemapCache\", null), e([d({\n  json: {\n    read: {\n      source: \"title\"\n    }\n  }\n})], B.prototype, \"title\", null), e([d({\n  json: {\n    read: !1\n  },\n  readOnly: !0,\n  value: \"wmts\"\n})], B.prototype, \"type\", void 0), e([d({\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"tileUrl\"\n        }\n      },\n      \"web-document\": {\n        read: {\n          source: \"wmtsInfo.url\"\n        },\n        write: {\n          target: \"wmtsInfo.url\"\n        }\n      },\n      \"portal-item\": {\n        read: {\n          source: \"wmtsInfo.url\"\n        },\n        write: {\n          target: \"wmtsInfo.url\"\n        }\n      }\n    }\n  }\n})], B.prototype, \"url\", null), e([d()], B.prototype, \"version\", void 0), B = W = e([f(\"esri.layers.WMTSLayer\")], B);\nconst K = B;\nexport { K as default };"],
  "mappings": "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",
  "names": ["l", "t", "a", "p", "o", "r", "a", "p", "p", "t", "e", "a", "u", "p", "e", "n", "f", "i", "r", "l", "o", "s", "a", "d", "m", "h", "T", "t", "C", "y", "R", "w", "S", "A", "V", "b", "E", "j", "I", "M", "O", "v", "U", "g", "x", "F", "V", "f", "t", "e", "v", "r", "a", "i", "s", "o", "l", "n", "m", "p", "I", "y", "S", "d"]
}
