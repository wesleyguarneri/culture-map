{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/geometry/projection/projectDirection.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/AreaMeasurement/support/MeasurementData.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/AreaMeasurement/support/AreaMeasurementController.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/AreaMeasurement/support/AreaMeasurementPathHelper.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/CheckerBoardTechnique.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/CheckerBoardTechniqueConfiguration.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/CheckerBoardMaterial.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementAreaVisualElement.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/AreaMeasurement/support/AreaMeasurementVisualization.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/AreaMeasurementAnalysisView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { c as o, g as r, f as c, n as s } from \"../../chunks/vec32.js\";\nimport { create as t } from \"../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { projectVectorToVector as e } from \"./projectVectorToVector.js\";\nfunction f(t, f, a, n, p) {\n  o(i, t), r(m, t, f), e(i, a, i, p), e(m, a, m, p), c(n, m, i), s(n, n);\n}\nconst i = t(),\n  m = t();\nexport { f as projectDirection };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { deg2rad as e } from \"../../../../../core/mathUtils.js\";\nimport { createLength as t, toUnit as s, createArea as i } from \"../../../../../core/quantityUtils.js\";\nimport { lengthUnitFromSpatialReference as o, areaUnitFromSpatialReference as n } from \"../../../../../core/unitUtils.js\";\nimport { set as r, distance as h } from \"../../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { create as a } from \"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { p as l, c as d, b as g, k as c, f as p, m, j as u, g as _, n as f } from \"../../../../../chunks/vec32.js\";\nimport { create as S } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as L } from \"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { getReferenceEllipsoid as C } from \"../../../../../geometry/ellipsoidUtils.js\";\nimport { canProjectWithoutEngine as M } from \"../../../../../geometry/projection.js\";\nimport { getSphericalPCPF as j } from \"../../../../../geometry/spatialReferenceEllipsoidUtils.js\";\nimport { projectDirection as P } from \"../../../../../geometry/projection/projectDirection.js\";\nimport { projectPointToVector as R } from \"../../../../../geometry/projection/projectPointToVector.js\";\nimport { projectVectorToVector as U } from \"../../../../../geometry/projection/projectVectorToVector.js\";\nimport { Axis as A } from \"../../../../../geometry/support/Axis.js\";\nimport { compactIndices as v } from \"../../../../../geometry/support/Indices.js\";\nimport { segmentIntersects as V } from \"../../../../../geometry/support/intersectsBase.js\";\nimport { c as I } from \"../../../../../chunks/sphere.js\";\nimport { areaPoints2d as w } from \"../../../../../geometry/support/triangle.js\";\nimport { MeasurementMode as W } from \"../../interfaces.js\";\nimport { bestFitPlane as F, fitHemisphere as y, triangleAreaGeodesic as G, planePointDistance as x, boundingSphere as T } from \"../../support/measurementUtils.js\";\nimport { getElevationAtPoint as z } from \"../../../support/ElevationProvider.js\";\nimport { midpoint3d as b, makeOrthonormal as q, tangentFrame as E } from \"../../../support/mathUtils.js\";\nimport { triangulate as k } from \"../../../../support/euclideanAreaMeasurementUtils.js\";\nimport { euclideanDistanceBetweenPoints as B } from \"../../../../support/euclideanLengthMeasurementUtils.js\";\nimport { geodesicDistance as D, geodesicDistanceBetweenPoints as H } from \"../../../../support/geodesicLengthMeasurementUtils.js\";\nimport { supportsGeodesicMeasurement as X } from \"../../../../support/geodesicMeasurementUtils.js\";\nimport { computeEuclideanMeasurementSR as Z } from \"../../../../support/measurementUtils.js\";\nclass J {\n  get numVertices() {\n    return this._length;\n  }\n  get hasStagedVertex() {\n    return this._hasCursorPoint;\n  }\n  constructor(e) {\n    this.validMeasurement = !1, this.positionsWorld = [], this.positionsRender = [], this.positionsFittedWorld = [], this.positionsFittedRender = [], this.positionsGeodesic = [], this.positionsSpherical = [], this.positionsStereographic = [], this.pathSegmentLengths = [], this.geodesicPathSegmentLengths = [], this.perimeterSegmentLengths = [], this.intersectingSegments = new Set(), this.geodesicIntersectingSegments = new Set(), this.triangleIndices = null, this.geodesicTriangleIndices = null, this.areaCentroidWorldCoords = S(), this.areaCentroidRenderCoords = S(), this.geodesicAreaCentroidRenderCoords = S(), this.fittingMode = null, this.area = null, this.geodesicArea = null, this.pathLength = null, this.geodesicPathLength = null, this.perimeterLength = null, this._length = 0, this._centroidRenderCoords = S(), this._planeWorldCoords = L(), this._worldUp = S(), this._worldTangent = S(), this._frame = [S(), S(), S()], this._pathVersion = -1, this._hasCursorPoint = !1, this._mode = null, this._tempU = S(), this._tempV = S(), this._tempVec3 = S(), this._tempSphere = I(), this._sceneView = e;\n    const t = Z(e.spatialReference);\n    this._measurementSR = t, this._lengthMeasurementUnit = o(t) ?? \"meters\", this._areaMeasurementUnit = n(t) ?? \"square-meters\";\n  }\n  update(e, t, s, i, o, n) {\n    const r = null != t,\n      h = this._pathVersion === e.version,\n      a = this._hasCursorPoint === r,\n      l = this._mode === o;\n    return !(h && !n && a && l && e.isValidPolygon) && (this._pathVersion = e.version, this._hasCursorPoint = r, this._updateCursorSegmentLength(e, t), this._update(e, t, s, i, o), !0);\n  }\n  _update(e, s, i, o, n) {\n    const r = this._sceneView.renderSpatialReference,\n      h = this._measurementSR,\n      a = i.spatialReference;\n    let l = e.numVertices;\n    const d = !(null == s || s.equals(e.lastPoint) || l > 2 && s.equals(e.firstPoint));\n    d && (l += 1);\n    const g = !e.polygonIsClosed && l > 2,\n      c = e.polygonIsClosed || g;\n    this._resize(l);\n    const p = j(a),\n      m = null != a && X(a) ? a : null,\n      u = null != m && M(a, p),\n      {\n        positionsGeodesic: _,\n        positionsWorld: S,\n        positionsRender: L,\n        positionsSpherical: C\n      } = this,\n      P = (e, t) => {\n        K(i.elevationProvider, e), R(e, S[t], h), R(e, L[t], r), u && (R(e, _[t], m), R(e, C[t], p), f(C[t], C[t]));\n      };\n    e.forEachVertexPosition((e, t) => P(e, t)), d && P(s, l - 1);\n    const U = this._updatePathLengths(c);\n    if (this.pathLength = this._length > 1 ? t(U, this._lengthMeasurementUnit) : null, u) {\n      const e = this._updateGeodesicPathLengths(c, m);\n      this.geodesicPathLength = null != e && this._length > 1 ? e : null;\n    } else this.geodesicPathLength = null;\n    if (this._updateMode(n), !c) return this.area = null, this.geodesicArea = null, this.perimeterLength = null, this.triangleIndices = null, this.geodesicTriangleIndices = null, this.intersectingSegments.clear(), this.geodesicIntersectingSegments.clear(), void (this.validMeasurement = !1);\n    this._updateAreaAndPerimeterLength(i, r, h, o), u && this._updateGeodesicArea(i, m), this.validMeasurement = !0;\n  }\n  getData() {\n    return {\n      validMeasurement: this.validMeasurement,\n      numVertices: this.numVertices,\n      hasStagedVertex: this.hasStagedVertex,\n      positionsRender: this.positionsRender,\n      positionsFittedWorld: this.positionsFittedWorld,\n      positionsFittedRender: this.positionsFittedRender,\n      intersectingSegments: this.intersectingSegments,\n      geodesicIntersectingSegments: this.geodesicIntersectingSegments,\n      triangleIndices: this.triangleIndices,\n      geodesicTriangleIndices: this.geodesicTriangleIndices,\n      areaCentroidRenderCoords: this.areaCentroidRenderCoords,\n      geodesicAreaCentroidRenderCoords: this.geodesicAreaCentroidRenderCoords,\n      area: this.area,\n      geodesicArea: this.geodesicArea,\n      pathLength: this.pathLength,\n      geodesicPathLength: this.geodesicPathLength,\n      perimeterLength: this.perimeterLength,\n      actualMeasurementMode: this.actualMeasurementMode\n    };\n  }\n  _resize(e) {\n    for (e < this._length && (this.positionsWorld.length = e, this.positionsRender.length = e, this.positionsFittedWorld.length = e, this.positionsFittedRender.length = e, this.positionsGeodesic.length = e, this.positionsSpherical.length = e, this.positionsStereographic.length = e, this.pathSegmentLengths.length = e, this.geodesicPathSegmentLengths.length = e, this.perimeterSegmentLengths.length = e, this._length = e); this._length < e;) this.positionsWorld.push(S()), this.positionsRender.push(S()), this.positionsFittedWorld.push(a()), this.positionsFittedRender.push(S()), this.positionsGeodesic.push(S()), this.positionsSpherical.push(S()), this.positionsStereographic.push(a()), this.pathSegmentLengths.push(0), this.geodesicPathSegmentLengths.push(0), this.perimeterSegmentLengths.push(0), ++this._length;\n  }\n  _updatePathLengths(e) {\n    const t = this.positionsWorld,\n      s = this.pathSegmentLengths;\n    let i = 0;\n    const o = this._length;\n    for (let n = 0; n < o; ++n) {\n      const r = s[n] = l(t[n], t[(n + 1) % o]);\n      (n < o - 1 || e) && (i += r);\n    }\n    return i;\n  }\n  _updateGeodesicPathLengths(e, i) {\n    const o = this.positionsGeodesic,\n      n = this.geodesicPathSegmentLengths;\n    let r = 0;\n    const h = this._length;\n    for (let t = 0; t < h; ++t) {\n      const a = D(o[t], o[(t + 1) % h], i);\n      if (null == a) return null;\n      const l = s(a, \"meters\").value,\n        d = n[t] = l;\n      (t < h - 1 || e) && (r += d);\n    }\n    return t(r, \"meters\");\n  }\n  _updateAreaAndPerimeterLength(e, t, s, i) {\n    const o = e.renderCoordsHelper,\n      n = this.positionsWorld,\n      h = this.positionsRender,\n      a = this.positionsFittedWorld,\n      l = this.positionsFittedRender,\n      f = this._planeWorldCoords,\n      S = this._centroidRenderCoords;\n    b(h, S), o.worldUpAtPosition(S, this._worldUp), o.worldBasisAtPosition(S, A.X, this._worldTangent), P(S, this._worldUp, t, this._worldUp, s), P(S, this._worldTangent, t, this._worldTangent, s), n.length > 2 && F(n, f), this.fittingMode = this._selectFittingMode(f, n, this._worldUp, i);\n    let L = 0;\n    if (\"horizontal\" === this.fittingMode) {\n      let e = -1 / 0;\n      h.forEach((t, s) => {\n        const i = o.getAltitude(h[s]);\n        i > e && (e = i, L = s);\n      });\n    }\n    const C = n[L];\n    let M = f,\n      j = this._worldTangent;\n    \"horizontal\" === this.fittingMode ? M = this._worldUp : \"vertical\" === this.fittingMode && (M = this._tempVec3, j = this._worldUp, q(f, this._worldUp, M)), d(this._frame[2], M), q(j, M, this._frame[0]), g(this._frame[1], this._frame[0], this._frame[2]), c(this._frame[1], this._frame[1]);\n    const R = this._tempVec3,\n      v = this._tempU,\n      V = this._tempV;\n    for (let d = 0; d < this._length; ++d) {\n      const e = a[d],\n        i = l[d];\n      p(R, n[d], C), r(e, m(this._frame[0], R), m(this._frame[1], R)), u(v, this._frame[0], e[0]), u(V, this._frame[1], e[1]), _(R, v, V), _(R, R, C), U(R, s, i, t);\n    }\n    this.perimeterLength = this._length > 0 ? this._updatePerimeterLengths() : null, b(l, this.areaCentroidRenderCoords), U(this.areaCentroidRenderCoords, t, this.areaCentroidWorldCoords, s), this._updateIntersectingSegments(), this.area = 0 === this.intersectingSegments.size ? this._computeArea() : null;\n  }\n  _updateGeodesicArea(e, t) {\n    const {\n        renderCoordsHelper: s,\n        spatialReference: i\n      } = e,\n      {\n        positionsSpherical: o,\n        positionsStereographic: n\n      } = this,\n      h = this._tempVec3,\n      a = y(o, h);\n    if (!a) return void (this.geodesicArea = null);\n    const l = this._tempU,\n      d = this._tempV;\n    E(h, l, d);\n    for (let g = 0; g < this._length; ++g) {\n      const e = m(o[g], l),\n        t = m(o[g], d),\n        s = m(o[g], h);\n      r(n[g], e / s, t / s);\n    }\n    u(h, h, C(i).radius), s.toRenderCoords(h, j(i), this.geodesicAreaCentroidRenderCoords), this._updateGeodesicIntersectingSegments(), this.geodesicArea = a && 0 === this.geodesicIntersectingSegments.size ? this._computeGeodesicArea(t) : null;\n  }\n  _updatePerimeterLengths() {\n    const e = this.positionsFittedWorld,\n      s = this.perimeterSegmentLengths;\n    let i = 0;\n    for (let t = 0; t < this._length; ++t) {\n      i += s[t] = h(e[t], e[(t + 1) % this._length]);\n    }\n    return t(i, this._lengthMeasurementUnit);\n  }\n  _updateIntersectingSegments() {\n    const e = this.positionsFittedWorld,\n      t = this.intersectingSegments;\n    t.clear();\n    for (let s = 0; s < this._length; ++s) for (let i = s + 2; i < this._length; ++i) {\n      if ((i + 1) % this._length === s) continue;\n      const o = e[s],\n        n = e[(s + 1) % this._length],\n        r = e[i],\n        h = e[(i + 1) % this._length];\n      V(o, n, r, h) && (t.add(s), t.add(i));\n    }\n  }\n  _computeArea() {\n    const e = this.positionsFittedWorld,\n      t = this.triangleIndices = v(k(e));\n    let s = 0;\n    for (let i = 0; i < t.length; i += 3) s += w(e[t[i]], e[t[i + 1]], e[t[i + 2]]);\n    return i(s, this._areaMeasurementUnit);\n  }\n  _updateGeodesicIntersectingSegments() {\n    const e = this.positionsStereographic,\n      t = this.geodesicIntersectingSegments;\n    t.clear();\n    for (let s = 0; s < this._length; ++s) for (let i = s + 2; i < this._length; ++i) {\n      if ((i + 1) % this._length === s) continue;\n      const o = e[s],\n        n = e[(s + 1) % this._length],\n        r = e[i],\n        h = e[(i + 1) % this._length];\n      V(o, n, r, h) && (t.add(s), t.add(i));\n    }\n  }\n  _computeGeodesicArea(e) {\n    const t = this.positionsGeodesic,\n      o = this.positionsStereographic,\n      n = this.geodesicTriangleIndices = v(k(o));\n    let r = 0;\n    for (let i = 0; i < n.length; i += 3) {\n      const o = G(t[n[i]], t[n[i + 1]], t[n[i + 2]], e);\n      if (null == o) return null;\n      r += s(o, \"square-meters\").value;\n    }\n    return i(r, \"square-meters\");\n  }\n  _selectFittingMode(t, s, i, o) {\n    const n = s.map(e => Math.abs(x(t, e))).reduce((e, t) => Math.max(e, t), 0);\n    T(s, this._tempSphere);\n    const r = n / (2 * this._tempSphere[3]),\n      h = r < o.maxRelativeErrorCoplanar,\n      a = r < o.maxRelativeErrorAlmostCoplanar;\n    let l = \"horizontal\";\n    if (h) l = \"oblique\";else if (a) {\n      l = Math.abs(m(i, t)) > Math.cos(e(o.verticalAngleThreshold)) ? \"horizontal\" : \"vertical\";\n    }\n    return l;\n  }\n  _updateCursorSegmentLength(e, t) {\n    const s = e.lastPoint;\n    e.isValidPolygon || null == s || null == t ? (this.geodesicStagedSegmentLength = null, this.stagedSegmentLength = null) : (this.geodesicStagedSegmentLength = H(s, t), this.stagedSegmentLength = B(s, t)?.direct);\n  }\n  _updateMode(e) {\n    if (e === W.Auto) {\n      this.actualMeasurementMode = \"euclidean\";\n      let e = 0;\n      null != this.geodesicPathLength && (e += this.geodesicPathLength.value), e > N && (this.actualMeasurementMode = \"geodesic\");\n    } else this.actualMeasurementMode = e === W.Euclidean ? \"euclidean\" : \"geodesic\";\n    null == this.geodesicPathLength && (this.actualMeasurementMode = \"euclidean\"), this._mode = e;\n  }\n}\nfunction K(e, t) {\n  t.hasZ || (t.z = z(e, t, \"ground\") ?? 0);\n}\nconst N = 1e5;\nexport { J as MeasurementDataManager };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../../chunks/tslib.es6.js\";\nimport a from \"../../../../../core/Accessor.js\";\nimport { watch as e, sync as s } from \"../../../../../core/reactiveUtils.js\";\nimport { property as r } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as o } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { MeasurementDataManager as i } from \"./MeasurementData.js\";\nlet n = class extends a {\n  constructor(t) {\n    super(t);\n  }\n  initialize() {\n    this._measurementDataManager = new i(this.view), this.addHandles([this.analysisViewData.path.on(\"change\", () => this._update()), e(() => this.analysisViewData.stagedPoint, () => this._update(), s), e(() => this.analysisViewData.mode, () => this._update(), s)]), this._update();\n  }\n  _update(t = !1) {\n    const {\n        analysisViewData: a,\n        view: e\n      } = this,\n      s = {\n        maxRelativeErrorCoplanar: .005,\n        maxRelativeErrorAlmostCoplanar: .01,\n        verticalAngleThreshold: 80\n      };\n    this._measurementDataManager.update(a.path, a.stagedPoint, e, s, a.mode, t) && (a.measurementData = this._measurementDataManager.getData());\n  }\n};\nt([r({\n  constructOnly: !0\n})], n.prototype, \"view\", void 0), t([r({\n  constructOnly: !0\n})], n.prototype, \"analysis\", void 0), t([r({\n  constructOnly: !0\n})], n.prototype, \"analysisViewData\", void 0), n = t([o(\"esri.views.3d.analysis.AreaMeasurement.support.AreaMeasurementController\")], n);\nexport { n as AreaMeasurementController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport t from \"../../../../../core/Evented.js\";\nimport o from \"../../../../../core/Logger.js\";\nimport { watch as r, syncAndInitial as i } from \"../../../../../core/reactiveUtils.js\";\nimport { property as n } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/has.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport l from \"../../../../../geometry/Point.js\";\nimport { tryProjectWithZConversion as m } from \"../../../../../geometry/projection.js\";\nimport { empty as c, expandPointInPlace as h } from \"../../../../../geometry/support/aaBoundingRect.js\";\nimport { logFailedGeometryProjectionError as a } from \"../../support/projectionUtils.js\";\nimport { createCoordinateHelper as u } from \"../../../../interactive/coordinateHelper.js\";\nimport { EditGeometry as d, Component as p } from \"../../../../interactive/editGeometry/EditGeometry.js\";\nimport { EditGeometryOperations as y } from \"../../../../interactive/editGeometry/EditGeometryOperations.js\";\nlet g = class extends t.EventedAccessor {\n  constructor(e = {}) {\n    super(e), this._version = 0, this._internalGeometryChange = !1, this._extent = c();\n  }\n  set areaMeasurement(e) {\n    this._set(\"areaMeasurement\", e), null != e && null != this.view && this._initialize(e, this.view);\n  }\n  set view(e) {\n    this._set(\"view\", e), null != e && null != this.areaMeasurement && this._initialize(this.areaMeasurement, e);\n  }\n  get constructed() {\n    return null != this.areaMeasurement && null != this.view;\n  }\n  get version() {\n    return this._version;\n  }\n  get isEmptyPolygon() {\n    return !this.constructed || 0 === this._editGeometry.components.length;\n  }\n  get isValidPolygon() {\n    return this.constructed && this.polygonIsClosed;\n  }\n  get extent() {\n    if (this.constructed && this._editGeometry.components.length > 0 && this._editGeometry.components[0].vertices.length > 0) {\n      const e = c(this._extent);\n      return this.forEachVertex(t => {\n        h(e, t.pos);\n      }), e;\n    }\n    return null;\n  }\n  get spatialReference() {\n    return this.constructed ? this._editGeometry.coordinateHelper.spatialReference : null;\n  }\n  _initialize(e, t) {\n    this.removeAllHandles(), this.addHandles(r(() => e.geometry, () => {\n      this._updateEditGeometryFromModelGeometry(e, t);\n    }, i)), this._makeDirty(!0);\n  }\n  _makeDirty(e = !1) {\n    this.notifyChange(\"polygonIsClosed\"), this.notifyChange(\"isValidPolygon\"), this.notifyChange(\"initialized\"), this.notifyChange(\"extent\"), e && this.notifyChange(\"numVertices\");\n  }\n  _updateEditGeometryFromModelGeometry(e, t) {\n    if (this._version++, this._internalGeometryChange) return;\n    this.removeHandles(\"EditGeometry\");\n    let r = e.geometry;\n    if (null != r) {\n      const i = m(r, t.spatialReference);\n      null == i && a(e, r.spatialReference, o.getLogger(this)), r = i;\n    }\n    this._editGeometryOperations = null != r ? y.fromGeometry(r, t.state.viewingMode) : new y(new d(\"polygon\", u(!0, !1, t.spatialReference)), t.state.viewingMode), this._makeDirty(!0), this.emit(\"change\"), this.addHandles(this._editGeometry.on(\"change\", t => {\n      this._makeDirty(null != t.addedVertices || null != t.removedVertices), this._internalGeometryChange = !0, e.geometry = this.numVertices > 0 ? this._editGeometry.geometry : null, this._internalGeometryChange = !1;\n    }), \"EditGeometry\");\n  }\n  get _editGeometry() {\n    return this._editGeometryOperations.data;\n  }\n  get vertices() {\n    const e = [];\n    return this.forEachVertex(t => {\n      e.push(t);\n    }), e;\n  }\n  get numVertices() {\n    return this.constructed && this._editGeometry.components.length > 0 ? this._editGeometry.components[0].vertices.length : 0;\n  }\n  get polygonIsClosed() {\n    return this._editGeometry.components.length > 0 && this._editGeometry.components[0].isClosed();\n  }\n  get firstPoint() {\n    if (this.constructed && this._editGeometry.components.length > 0) {\n      const e = this._editGeometry.components[0].getFirstVertex();\n      if (null != e) return this._editGeometry.coordinateHelper.vectorToPoint(e.pos);\n    }\n    return null;\n  }\n  get lastPoint() {\n    if (this.constructed && this._editGeometry.components.length > 0) {\n      const e = this._editGeometry.components[0].getLastVertex();\n      if (null != e) return this._editGeometry.coordinateHelper.vectorToPoint(e.pos);\n    }\n    return null;\n  }\n  getVertex(e) {\n    if (!this.constructed || 0 === this._editGeometry.components.length || 0 === this._editGeometry.components[0].vertices.length) return null;\n    const t = this._editGeometry.components[0].vertices[0];\n    let o = t;\n    do {\n      if (o.index === e) return o;\n      o = o.rightEdge.rightVertex;\n    } while (o !== t && null != o);\n    return null;\n  }\n  getVertexPositionAsPoint(e) {\n    return this._editGeometry.coordinateHelper.vectorToPoint(e.pos);\n  }\n  getVertexPositionAsPointFromIndex(e) {\n    return this._editGeometry.coordinateHelper.vectorToPoint(this.getVertex(e).pos);\n  }\n  forEachVertex(e) {\n    this.constructed && this._editGeometry.components.length > 0 && this._editGeometry.components[0].iterateVertices(e);\n  }\n  forEachVertexPosition(e) {\n    const t = this._editGeometry.coordinateHelper;\n    this.forEachVertex((o, r) => {\n      t.vectorToPoint(o.pos, _), e(_, r);\n    });\n  }\n  clear() {\n    null != this.areaMeasurement && (this.areaMeasurement.geometry = null);\n  }\n  add(e) {\n    if (!this.constructed) return null;\n    if (0 === this._editGeometry.components.length) {\n      const e = this.view;\n      this._editGeometry.components.push(new p(e.spatialReference, e.state.viewingMode));\n    }\n    const t = this._editGeometryOperations.appendVertex(this._editGeometry.coordinateHelper.pointToVector(e));\n    return this.emit(\"change\"), t;\n  }\n  close() {\n    if (!this.constructed || 0 === this._editGeometry.components.length) return null;\n    const e = this._editGeometryOperations.closeComponent(this._editGeometry.components[0]);\n    return this.emit(\"change\"), e;\n  }\n  ensureContains(e, t = \"\") {\n    let o = !1;\n    if (this._editGeometry.components.forEach(t => {\n      t.iterateVertices(t => {\n        t === e && (o = !0);\n      });\n    }), !o) throw new Error(`vertex doesnt exist ${t}`);\n    return o;\n  }\n  setVertexPosition(e, t) {\n    if (!this.constructed) return null;\n    const o = this._editGeometryOperations.setVertexPosition(e, this._editGeometry.coordinateHelper.pointToVector(t));\n    return this.emit(\"change\"), o;\n  }\n  equals(e) {\n    if (this.numVertices !== e.numVertices) return !1;\n    let t = !0;\n    return this.forEachVertexPosition((o, r) => {\n      const i = e.getVertexPositionAsPointFromIndex(r);\n      o.equals(i) || (t = !1);\n    }), !!t;\n  }\n};\ne([n({\n  value: null\n})], g.prototype, \"areaMeasurement\", null), e([n({\n  value: null\n})], g.prototype, \"view\", null), e([n()], g.prototype, \"isEmptyPolygon\", null), e([n()], g.prototype, \"isValidPolygon\", null), e([n()], g.prototype, \"extent\", null), e([n()], g.prototype, \"spatialReference\", null), e([n()], g.prototype, \"numVertices\", null), e([n()], g.prototype, \"polygonIsClosed\", null), g = e([s(\"esri.views.3d.analysis.AreaMeasurement.support.AreaMeasurementPathHelper\")], g);\nconst _ = new l();\nexport { g as AreaMeasurement3DPathHelper };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ReloadableShaderModule as e } from \"../core/shaderTechnique/ReloadableShaderModule.js\";\nimport { ShaderTechnique as r } from \"../core/shaderTechnique/ShaderTechnique.js\";\nimport { Default3D as t } from \"../lib/DefaultVertexAttributeLocations.js\";\nimport { oitBlending as i, oitDepthTest as n, oitDepthWrite as o, oitDrawBuffers as s } from \"../lib/OrderIndependentTransparency.js\";\nimport { Program as a } from \"../lib/Program.js\";\nimport { TransparencyPassType as l } from \"../lib/TransparencyPassType.js\";\nimport { C as p } from \"../../../../chunks/CheckerBoard.glsl.js\";\nimport { BlendFactor as c } from \"../../../webgl/enums.js\";\nimport { separateBlendingParams as f, makePipelineState as m, defaultDepthWriteParams as u, defaultColorWriteParams as d } from \"../../../webgl/renderState.js\";\nclass h extends r {\n  initializeProgram(e) {\n    return new a(e.rctx, h.shader.get().build(this.configuration), t);\n  }\n  _setPipelineState(e) {\n    const r = this.configuration,\n      t = e === l.NONE,\n      a = e === l.FrontFace;\n    return m({\n      blending: r.transparent ? t ? b : i(e) : null,\n      depthTest: {\n        func: n(e)\n      },\n      depthWrite: t ? r.writeDepth ? u : null : o(e),\n      drawBuffers: s(e),\n      colorWrite: d,\n      polygonOffset: t || a ? r.polygonOffset ? g : null : {\n        factor: -1,\n        units: -25\n      }\n    });\n  }\n  initializePipeline() {\n    return this._setPipelineState(this.configuration.transparencyPassType);\n  }\n}\nh.shader = new e(p, () => import(\"./CheckerBoard.glsl.js\"));\nconst g = {\n    factor: 0,\n    units: -25\n  },\n  b = f(c.SRC_ALPHA, c.ONE, c.ONE_MINUS_SRC_ALPHA, c.ONE_MINUS_SRC_ALPHA);\nexport { h as CheckerBoardTechnique };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../../chunks/tslib.es6.js\";\nimport { parameter as t } from \"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";\nimport { TransparencyPassType as e } from \"../lib/TransparencyPassType.js\";\nimport { DefaultTechniqueConfiguration as s } from \"../materials/DefaultTechniqueConfiguration.js\";\nclass r extends s {\n  constructor() {\n    super(...arguments), this.transparencyPassType = e.NONE, this.transparent = !1, this.writeDepth = !0, this.polygonOffset = !1, this.multipassEnabled = !1, this.cullAboveGround = !1;\n  }\n}\no([t({\n  count: e.COUNT\n})], r.prototype, \"transparencyPassType\", void 0), o([t()], r.prototype, \"transparent\", void 0), o([t()], r.prototype, \"writeDepth\", void 0), o([t()], r.prototype, \"polygonOffset\", void 0), o([t()], r.prototype, \"multipassEnabled\", void 0), o([t()], r.prototype, \"cullAboveGround\", void 0), o([t({\n  constValue: !1\n})], r.prototype, \"occlusionPass\", void 0);\nexport { r as CheckerBoardTechniqueConfiguration };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromValues as r } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { fromValues as t } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { isColor as e } from \"../core/shaderLibrary/ShaderOutput.js\";\nimport s from \"../lib/GLMaterial.js\";\nimport { MaterialParameters as i } from \"../lib/Material.js\";\nimport { RenderSlot as a } from \"../lib/RenderSlot.js\";\nimport { DefaultBufferWriter as o } from \"./DefaultBufferWriter.js\";\nimport { PositionUVLayout as n } from \"./DefaultLayouts.js\";\nimport { TriangleMaterial as p } from \"./TriangleMaterial.js\";\nimport { CheckerBoardTechnique as f } from \"../shaders/CheckerBoardTechnique.js\";\nimport { CheckerBoardTechniqueConfiguration as h } from \"../shaders/CheckerBoardTechniqueConfiguration.js\";\nclass u extends p {\n  constructor(r) {\n    super(r, new m()), this.produces = new Map([[a.OPAQUE_MATERIAL, r => e(r) && !this.parameters.transparent], [a.TRANSPARENT_MATERIAL, r => e(r) && this.parameters.transparent && this.parameters.writeDepth], [a.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL, r => e(r) && this.parameters.transparent && !this.parameters.writeDepth]]), this._configuration = new h();\n  }\n  getConfiguration(r, t) {\n    return this._configuration.transparent = this.parameters.transparent, this._configuration.writeDepth = this.parameters.writeDepth, this._configuration.polygonOffset = this.parameters.polygonOffset, this._configuration.transparencyPassType = t.transparencyPassType, this._configuration.multipassEnabled = t.multipassEnabled, this._configuration.cullAboveGround = t.multipassTerrain.cullAboveGround, this._configuration;\n  }\n  createGLMaterial(r) {\n    return new c(r);\n  }\n  createBufferWriter() {\n    return new o(n);\n  }\n}\nclass c extends s {\n  beginSlot(r) {\n    return this.ensureTechnique(f, r);\n  }\n}\nclass m extends i {\n  constructor() {\n    super(...arguments), this.size = r(1, 1), this.color1 = t(.75, .75, .75, 1), this.color2 = t(.5, .5, .5, 1), this.transparent = !1, this.writeDepth = !0, this.polygonOffset = !1;\n  }\n}\nexport { u as CheckerBoardMaterial, m as Parameters };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { getTranslation as e } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { copy as r } from \"../../../../core/libs/gl-matrix-2/math/vec2.js\";\nimport { fromValues as t } from \"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";\nimport { f as i } from \"../../../../chunks/vec32.js\";\nimport { create as o } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { a as s, c } from \"../../../../chunks/vec42.js\";\nimport { fromValues as a } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { Object3DVisualElement as l } from \"./Object3DVisualElement.js\";\nimport { Attribute as n } from \"../../webgl-engine/lib/Attribute.js\";\nimport { Geometry as h } from \"../../webgl-engine/lib/Geometry.js\";\nimport { RenderOccludedFlag as d } from \"../../webgl-engine/lib/Material.js\";\nimport { VertexAttribute as m } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { CheckerBoardMaterial as u } from \"../../webgl-engine/materials/CheckerBoardMaterial.js\";\nclass _ extends l {\n  constructor(e) {\n    super(e), this._checkerBoardMaterial = null, this._renderOccluded = d.OccludeAndTransparent, this._geometry = null, this._size = t(1, 1), this._color1 = a(1, .5, 0, .5), this._color2 = a(1, 1, 1, .5), this.applyProperties(e);\n  }\n  get renderOccluded() {\n    return this._renderOccluded;\n  }\n  set renderOccluded(e) {\n    e !== this._renderOccluded && (this._renderOccluded = e, this._updateMaterial());\n  }\n  get geometry() {\n    return this._geometry;\n  }\n  set geometry(e) {\n    this._geometry = e, this.recreateGeometry();\n  }\n  get size() {\n    return this._size;\n  }\n  set size(e) {\n    r(this._size, e), this._updateMaterial();\n  }\n  get color1() {\n    return this._color1;\n  }\n  set color1(e) {\n    s(e, this._color1) || (c(this._color1, e), this._updateMaterial());\n  }\n  get color2() {\n    return this._color2;\n  }\n  set color2(e) {\n    s(e, this._color2) || (c(this._color2, e), this._updateMaterial());\n  }\n  _updateMaterial() {\n    null != this._checkerBoardMaterial && this._checkerBoardMaterial.setParameters({\n      size: this._size,\n      color1: this._color1,\n      color2: this._color2,\n      renderOccluded: this._renderOccluded\n    });\n  }\n  createExternalResources() {\n    this._checkerBoardMaterial = new u({\n      size: this._size,\n      color1: this._color1,\n      color2: this._color2,\n      transparent: !0,\n      writeDepth: !1,\n      polygonOffset: !0,\n      renderOccluded: d.OccludeAndTransparent,\n      isDecoration: this.isDecoration\n    });\n  }\n  destroyExternalResources() {\n    this._checkerBoardMaterial = null;\n  }\n  forEachExternalMaterial(e) {\n    null != this._checkerBoardMaterial && e(this._checkerBoardMaterial);\n  }\n  createGeometries(r) {\n    if (null == this._geometry || null == this._checkerBoardMaterial) return;\n    const t = p;\n    e(t, this.transform);\n    const s = this._geometry,\n      c = [],\n      a = o();\n    s.position.forEach(e => {\n      i(a, e, t), c.push(a[0], a[1], a[2]);\n    });\n    const l = [];\n    s.uv.forEach(e => {\n      l.push(e[0], e[1]);\n    });\n    const d = new h(this._checkerBoardMaterial, [[m.POSITION, new n(c, s.triangleIndices, 3, !0)], [m.UV0, new n(l, s.triangleIndices, 2, !0)]]);\n    r.addGeometry(d);\n  }\n}\nconst p = o();\nexport { _ as MeasurementAreaVisualElement };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../../chunks/tslib.es6.js\";\nimport \"../../../../../intl.js\";\nimport t from \"../../../../../core/Accessor.js\";\nimport { unitRGBAFromColor as i, multiplyOpacityToUnitRGBA as s, getContrast as r, BrightnessThreshold as n, multiplyOpacity as a } from \"../../../../../core/colorUtils.js\";\nimport \"../../../../../core/has.js\";\nimport { nextHighestPowerOfTen as o } from \"../../../../../core/mathUtils.js\";\nimport { destroyMaybe as l } from \"../../../../../core/maybe.js\";\nimport { formatDecimal as c } from \"../../../../../core/quantityFormatUtils.js\";\nimport { toUnit as m } from \"../../../../../core/quantityUtils.js\";\nimport { watch as h, syncAndInitial as d, initial as p } from \"../../../../../core/reactiveUtils.js\";\nimport { lengthUnitFromSpatialReference as u, convertUnit as g, adaptiveImperialAreaUnit as _, adaptiveMetricAreaUnit as L, adaptiveImperialLengthUnit as v, adaptiveMetricLengthUnit as b } from \"../../../../../core/unitUtils.js\";\nimport { property as f } from \"../../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../../core/Logger.js\";\nimport \"../../../../../core/RandomLCG.js\";\nimport { subclass as w } from \"../../../../../core/accessorSupport/decorators/subclass.js\";\nimport { fromTranslation as S } from \"../../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as y } from \"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { f as j } from \"../../../../../chunks/vec32.js\";\nimport { create as C } from \"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { LabelVisualElement as A } from \"../../../interactive/visualElements/LabelVisualElement.js\";\nimport { LineVisualElement as D } from \"../../../interactive/visualElements/LineVisualElement.js\";\nimport { MeasurementAreaVisualElement as M } from \"../../../interactive/visualElements/MeasurementAreaVisualElement.js\";\nimport { GeodesicSegment as V, EuclideanSegment as x } from \"../../../interactive/visualElements/support/Segment.js\";\nimport { midpoint3d as P } from \"../../../support/mathUtils.js\";\nimport { RenderOccludedFlag as O } from \"../../../webgl-engine/lib/Material.js\";\nimport { createStipplePatternSimple as R } from \"../../../webgl-engine/materials/lineStippleUtils.js\";\nimport { onLocaleChange as q } from \"../../../../../intl/locale.js\";\nimport { fetchMessageBundle as k } from \"../../../../../intl/messages.js\";\nlet F = class extends t {\n  get _parameters() {\n    const {\n        accentColor: e,\n        textColor: t\n      } = this.view.effectiveTheme,\n      o = i(e),\n      l = s(e, .5),\n      c = s(r(e), .5),\n      m = r(t, n.Low);\n    return {\n      accentColor: o,\n      transparentAccentColor: l,\n      transparentContrastColor: c,\n      intersectingLineColor: [1, .2, 0, 1],\n      textColor: t,\n      textBackgroundColor: a(m, .6),\n      textCalloutColor: a(m, .5),\n      pathLineWidth: 3,\n      perimeterLineWidth: 2,\n      projectionLineWidth: 2,\n      projectionLineStippleSize: 5,\n      labelDistance: 25\n    };\n  }\n  get visible() {\n    return this.analysisViewData.visible;\n  }\n  get _renderUnits() {\n    const e = this.view.renderCoordsHelper.spatialReference;\n    return u(e) ?? \"meters\";\n  }\n  get testData() {}\n  constructor(e) {\n    super(e), this._path = null, this._intersectedPath = null, this._perimeter = null, this._intersectedPerimeter = null, this._projectionLines = null, this._measurementArea = null, this._areaLabel = null, this._perimeterLengthLabel = null, this._pathSegments = [], this._perimeterSegments = [], this._origin = C(), this._originTransform = y(), this.messages = null, this.viewData = B, this.areaLabel = null, this.perimeterLengthLabel = null, this.loadingMessages = !0;\n  }\n  initialize() {\n    const {\n      analysisViewData: e,\n      _parameters: t,\n      view: i\n    } = this;\n    this._path = new D({\n      view: i,\n      attached: !0,\n      width: t.pathLineWidth,\n      polygonOffset: !0,\n      renderOccluded: O.OccludeAndTransparent,\n      isDecoration: !0\n    }), this._intersectedPath = new D({\n      view: i,\n      attached: !0,\n      width: t.pathLineWidth,\n      polygonOffset: !0,\n      renderOccluded: O.OccludeAndTransparent,\n      isDecoration: !0\n    }), this._perimeter = new D({\n      view: i,\n      attached: !0,\n      width: t.perimeterLineWidth,\n      polygonOffset: !0,\n      renderOccluded: O.OccludeAndTransparent,\n      isDecoration: !0\n    }), this._intersectedPerimeter = new D({\n      view: i,\n      attached: !0,\n      width: t.perimeterLineWidth,\n      color: t.intersectingLineColor,\n      polygonOffset: !0,\n      renderOccluded: O.OccludeAndTransparent,\n      isDecoration: !0\n    }), this._projectionLines = new D({\n      view: i,\n      attached: !0,\n      width: t.projectionLineWidth,\n      stipplePattern: R(t.projectionLineStippleSize),\n      polygonOffset: !0,\n      renderOccluded: O.OccludeAndTransparent,\n      isDecoration: !0\n    }), this._measurementArea = new M({\n      view: i,\n      attached: !0,\n      isDecoration: !0\n    });\n    const s = {\n      attached: !0,\n      view: i,\n      isDecoration: !0\n    };\n    this._areaLabel = new A({\n      ...s,\n      fontSize: G.Large\n    }), this._perimeterLengthLabel = new A({\n      ...s,\n      fontSize: G.Small\n    }), this.addHandles([h(() => [e.mode, this.visible, e.unit, e.measurementData, e.stagedPoint], () => this._update(), d), h(() => i.state?.camera, () => this._updateLabels(), d), q(() => this._updateMessageBundle()), h(() => this._parameters, ({\n      accentColor: e,\n      transparentAccentColor: t,\n      transparentContrastColor: i,\n      textColor: s,\n      textBackgroundColor: r,\n      textCalloutColor: n\n    }) => {\n      const {\n        _path: a,\n        _intersectedPath: o,\n        _perimeter: l,\n        _projectionLines: c,\n        _measurementArea: m,\n        _areaLabel: h,\n        _perimeterLengthLabel: d\n      } = this;\n      a.color = e, o.color = e, l.color = e, c.color = e, m.color1 = t, m.color2 = i, h.textColor = s, h.backgroundColor = r, h.calloutColor = n, d.textColor = s, d.backgroundColor = r, d.calloutColor = n;\n    }, p)]), this._updateMessageBundle();\n  }\n  destroy() {\n    this._measurementArea = l(this._measurementArea), this._path = l(this._path), this._intersectedPath = l(this._intersectedPath), this._perimeter = l(this._perimeter), this._intersectedPerimeter = l(this._intersectedPerimeter), this._areaLabel = l(this._areaLabel), this._perimeterLengthLabel = l(this._perimeterLengthLabel), this._projectionLines = l(this._projectionLines), this.set(\"view\", null);\n  }\n  _update() {\n    if (this.destroyed || !this.view.ready || !this.view.renderCoordsHelper) return;\n    const {\n      analysisViewData: {\n        measurementData: e\n      },\n      analysisViewData: t\n    } = this;\n    null != e && (this._updateViewData(e, t.path), this._updateOrigin(), this._updatePathSegments(), this._updatePerimeterSegments(), this._updateArea(), this._updateProjectionLines(), this._updateLabels());\n  }\n  _updateViewData(e, t) {\n    const i = e.validMeasurement,\n      s = \"geodesic\" === e.actualMeasurementMode,\n      r = s ? e.geodesicArea : e.area;\n    let n = 1;\n    if (r) {\n      const e = I(r, this.analysisViewData.unit);\n      n = o(Math.sqrt(e.value) / Math.sqrt(300)), n *= Math.sqrt(g(1, e.unit, \"square-meters\")), n = g(n, \"meters\", this._renderUnits);\n    }\n    const a = {\n      validMeasurement: i,\n      numVertices: e.numVertices,\n      hasStagedVertex: e.hasStagedVertex,\n      path: t,\n      mode: e.actualMeasurementMode,\n      positionsRender: e.positionsRender,\n      positionsFittedWorld: e.positionsFittedWorld,\n      positionsFittedRender: e.positionsFittedRender,\n      intersectingSegments: s ? e.geodesicIntersectingSegments : e.intersectingSegments,\n      triangleIndices: s ? e.geodesicTriangleIndices : e.triangleIndices,\n      areaCentroid: s ? e.geodesicAreaCentroidRenderCoords : e.areaCentroidRenderCoords,\n      perimeterLengthLabelSegmentIndex: 0,\n      area: s ? e.geodesicArea : e.area,\n      pathLength: s ? e.geodesicPathLength : e.pathLength,\n      perimeterLength: e.perimeterLength,\n      checkerSize: n\n    };\n    this._set(\"viewData\", a);\n  }\n  _updateOrigin() {\n    const e = this.viewData;\n    P(e.positionsRender, this._origin), S(this._originTransform, this._origin), this._measurementArea.transform = this._originTransform, this._projectionLines.transform = this._originTransform;\n  }\n  _createSegments(e) {\n    const t = this.viewData,\n      i = this.view.renderCoordsHelper.spatialReference,\n      s = t.mode,\n      r = [],\n      n = [],\n      a = [],\n      o = t.numVertices,\n      l = t.validMeasurement ? o : o - 1;\n    for (let m = 0; m < l; ++m) {\n      const l = t[e][m],\n        c = t[e][(m + 1) % o];\n      let h = null;\n      switch (s) {\n        case \"euclidean\":\n          h = new x(l, c);\n          break;\n        case \"geodesic\":\n          h = new V(l, c, i);\n      }\n      t.intersectingSegments.has(m) ? a.push(h) : n.push(h), r.push(h);\n    }\n    let c = null;\n    return t.validMeasurement && t.hasStagedVertex && l >= 2 ? c = r[r.length - 2] : t.hasStagedVertex && l >= 1 && (c = r[r.length - 1]), {\n      all: r,\n      nonIntersecting: n,\n      intersecting: a,\n      stagedSegment: c\n    };\n  }\n  _updatePathSegments() {\n    const {\n        visible: e\n      } = this,\n      t = this._createSegments(\"positionsRender\");\n    this._path.setGeometryFromSegments(t.nonIntersecting, this._origin), this._path.visible = e, this._intersectedPath.setGeometryFromSegments(t.intersecting, this._origin), this._intersectedPath.visible = e, this._pathSegments = t.all;\n  }\n  _updatePerimeterSegments() {\n    const e = this.visible && \"euclidean\" === this.viewData.mode,\n      t = this._createSegments(\"positionsFittedRender\");\n    this._perimeter.setGeometryFromSegments(t.nonIntersecting, this._origin), this._perimeter.visible = e, this._intersectedPerimeter.setGeometryFromSegments(t.intersecting, this._origin), this._intersectedPerimeter.visible = e, this._perimeterSegments = t.all;\n  }\n  _updateArea() {\n    const e = this.viewData;\n    switch (e.mode) {\n      case \"euclidean\":\n        this._updateAreaEuclidean(e);\n        break;\n      case \"geodesic\":\n        this._updateAreaGeodesic();\n    }\n  }\n  _updateAreaEuclidean(e) {\n    const t = this.visible;\n    e.validMeasurement && 0 === e.intersectingSegments.size && e.triangleIndices ? (this._measurementArea.geometry = {\n      uv: e.positionsFittedWorld,\n      position: e.positionsFittedRender,\n      triangleIndices: e.triangleIndices\n    }, this._measurementArea.size = [e.checkerSize, e.checkerSize], this._measurementArea.visible = t) : this._measurementArea.visible = !1;\n  }\n  _updateAreaGeodesic() {\n    this._measurementArea.visible = !1;\n  }\n  _updateProjectionLines() {\n    const e = this.viewData,\n      t = this.visible,\n      i = e.mode,\n      s = e.numVertices;\n    if (s > 0 && e.validMeasurement && \"euclidean\" === i) {\n      const i = [];\n      for (let t = 0; t < s; ++t) {\n        const s = C();\n        j(s, e.positionsRender[t], this._origin);\n        const r = C();\n        j(r, e.positionsFittedRender[t], this._origin), i.push([s, r]);\n      }\n      this._projectionLines.geometry = i, this._projectionLines.visible = t;\n    } else this._projectionLines.geometry = null, this._projectionLines.visible = !1;\n  }\n  _updateLabels() {\n    if (this.destroyed) return;\n    const {\n        viewData: e\n      } = this,\n      {\n        area: t,\n        path: i\n      } = e;\n    if (!i) return;\n    const s = this.visible,\n      r = z(this.messages, t, this.analysisViewData.unit);\n    if (null != r ? (this._areaLabel.geometry = {\n      type: \"point\",\n      point: e.areaCentroid\n    }, this._areaLabel.text = r, this._areaLabel.visible = e.validMeasurement && 0 === e.intersectingSegments.size && s) : this._areaLabel.visible = !1, this._set(\"areaLabel\", r), e.validMeasurement && 0 === e.intersectingSegments.size) {\n      const t = \"geodesic\" === e.mode || !e.validMeasurement,\n        i = t ? e.pathLength : e.perimeterLength,\n        r = W(this.messages, i, this.analysisViewData.unit);\n      this._set(\"perimeterLengthLabel\", r), this._perimeterLengthLabel.distance = this._parameters.labelDistance, this._perimeterLengthLabel.anchor = \"top\", this._perimeterLengthLabel.text = r, this._perimeterLengthLabel.visible = !0;\n      let n = !0;\n      for (let s = 0; s < e.numVertices; ++s) {\n        const i = (e.perimeterLengthLabelSegmentIndex + s) % e.numVertices,\n          r = t ? this._pathSegments[i] : this._perimeterSegments[i];\n        if (n = !0, this._perimeterLengthLabel.geometry = {\n          type: \"segment\",\n          segment: r,\n          sampleLocation: \"center\"\n        }, !this._perimeterLengthLabel.overlaps(this._areaLabel)) break;\n        n = !1;\n      }\n      this._perimeterLengthLabel.visible = n && s;\n    } else this._perimeterLengthLabel.visible = !1;\n  }\n  _updateMessageBundle() {\n    this.loadingMessages = !0, k(\"esri/core/t9n/Units\").then(e => {\n      this.messages = e, this.view && this._update();\n    }).finally(() => {\n      this.loadingMessages = !1;\n    });\n  }\n};\nfunction z(e, t, i) {\n  return e && t && c(e, t, U(t, i));\n}\nfunction I(e, t) {\n  return m(e, U(e, t));\n}\nfunction U(e, t) {\n  switch (t) {\n    case \"metric\":\n      return L(e.value, e.unit);\n    case \"imperial\":\n      return _(e.value, e.unit);\n    default:\n      return t;\n  }\n}\nfunction W(e, t, i) {\n  return e && t && c(e, t, T(t, i));\n}\nfunction T(e, t) {\n  const i = E(t);\n  switch (i) {\n    case \"metric\":\n      return b(e.value, e.unit);\n    case \"imperial\":\n      return v(e.value, e.unit);\n    default:\n      return i;\n  }\n}\nfunction E(e) {\n  switch (e) {\n    case \"metric\":\n    case \"ares\":\n    case \"hectares\":\n      return \"metric\";\n    case \"imperial\":\n    case \"acres\":\n      return \"imperial\";\n    case \"square-inches\":\n      return \"inches\";\n    case \"square-feet\":\n      return \"feet\";\n    case \"square-yards\":\n      return \"yards\";\n    case \"square-miles\":\n      return \"miles\";\n    case \"square-us-feet\":\n      return \"us-feet\";\n    case \"square-millimeters\":\n      return \"millimeters\";\n    case \"square-centimeters\":\n      return \"centimeters\";\n    case \"square-decimeters\":\n      return \"decimeters\";\n    case \"square-meters\":\n      return \"meters\";\n    case \"square-kilometers\":\n      return \"kilometers\";\n  }\n  throw new Error(\"unhandled area unit\");\n}\nvar G;\ne([f()], F.prototype, \"_parameters\", null), e([f()], F.prototype, \"view\", void 0), e([f()], F.prototype, \"messages\", void 0), e([f()], F.prototype, \"analysis\", void 0), e([f()], F.prototype, \"viewData\", void 0), e([f()], F.prototype, \"analysisViewData\", void 0), e([f({\n  readOnly: !0\n})], F.prototype, \"areaLabel\", void 0), e([f({\n  readOnly: !0\n})], F.prototype, \"perimeterLengthLabel\", void 0), e([f()], F.prototype, \"loadingMessages\", void 0), e([f()], F.prototype, \"visible\", null), e([f()], F.prototype, \"_renderUnits\", null), F = e([w(\"esri.views.3d.analysis.AreaMeasurement.support.AreaMeasurementVisualization\")], F), function (e) {\n  e[e.Small = 12] = \"Small\", e[e.Large = 16] = \"Large\";\n}(G || (G = {}));\nconst B = {\n  validMeasurement: !1,\n  numVertices: 0,\n  hasStagedVertex: !1,\n  path: null,\n  mode: null,\n  positionsRender: null,\n  positionsFittedWorld: null,\n  positionsFittedRender: null,\n  intersectingSegments: null,\n  triangleIndices: null,\n  areaCentroid: null,\n  perimeterLengthLabelSegmentIndex: null,\n  checkerSize: null,\n  area: null,\n  pathLength: null,\n  perimeterLength: null\n};\nexport { F as AreaMeasurementVisualization };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Accessor.js\";\nimport \"../../../core/has.js\";\nimport { destroyMaybe as a } from \"../../../core/maybe.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { defaultUnitPropertyMetadata as i } from \"../../../properties/defaultUnit.js\";\nimport { AnalysisView3D as o } from \"./AnalysisView3D.js\";\nimport { MeasurementMode as n } from \"./interfaces.js\";\nimport { AreaMeasurementController as l } from \"./AreaMeasurement/support/AreaMeasurementController.js\";\nimport { AreaMeasurement3DPathHelper as p } from \"./AreaMeasurement/support/AreaMeasurementPathHelper.js\";\nimport { AreaMeasurementVisualization as u } from \"./AreaMeasurement/support/AreaMeasurementVisualization.js\";\nlet m = class extends o(t) {\n  constructor(e) {\n    super(e), this.type = \"area-measurement-view-3d\", this.analysis = null, this.measurementData = null, this.lastDraggedVertex = null, this.stagedPoint = null, this.mode = n.Auto;\n  }\n  initialize() {\n    const {\n      analysis: e,\n      view: t\n    } = this;\n    this.path = new p({\n      view: t,\n      areaMeasurement: e\n    }), this.analysisVisualization = new u({\n      view: t,\n      analysis: e,\n      analysisViewData: this\n    }), this.analysisController = new l({\n      view: t,\n      analysis: e,\n      analysisViewData: this\n    });\n  }\n  destroy() {\n    this.analysisController = a(this.analysisController), this.analysisVisualization = a(this.analysisVisualization), this.path.destroy();\n  }\n  get updating() {\n    return !!this.analysisVisualization?.loadingMessages;\n  }\n  get result() {\n    const {\n      measurementData: e\n    } = this;\n    return null == e ? {\n      area: null,\n      mode: null,\n      perimeter: null\n    } : \"euclidean\" === e.actualMeasurementMode ? {\n      area: e.area,\n      perimeter: e.perimeterLength,\n      mode: \"euclidean\"\n    } : {\n      area: e.geodesicArea,\n      perimeter: e.pathLength,\n      mode: \"geodesic\"\n    };\n  }\n  get viewData() {\n    return this.analysisVisualization.viewData;\n  }\n  get validMeasurement() {\n    return this.path.isValidPolygon;\n  }\n  get unit() {\n    return this.analysis.unit ?? this._defaultUnit;\n  }\n  get testData() {}\n};\ne([s({\n  readOnly: !0\n})], m.prototype, \"type\", void 0), e([s({\n  constructOnly: !0,\n  nonNullable: !0\n})], m.prototype, \"analysis\", void 0), e([s()], m.prototype, \"updating\", null), e([s()], m.prototype, \"analysisVisualization\", void 0), e([s()], m.prototype, \"analysisController\", void 0), e([s()], m.prototype, \"result\", null), e([s()], m.prototype, \"measurementData\", void 0), e([s()], m.prototype, \"viewData\", null), e([s()], m.prototype, \"validMeasurement\", null), e([s()], m.prototype, \"path\", void 0), e([s()], m.prototype, \"lastDraggedVertex\", void 0), e([s()], m.prototype, \"stagedPoint\", void 0), e([s()], m.prototype, \"mode\", void 0), e([s()], m.prototype, \"unit\", null), e([s(i)], m.prototype, \"_defaultUnit\", void 0), m = e([r(\"esri.views.3d.analysis.AreaMeasurementAnalysisView3D\")], m);\nconst y = m;\nexport { y as default };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,SAASA,GAAEC,IAAGD,IAAGE,IAAGC,IAAGC,IAAG;AACxB,IAAEC,IAAGJ,EAAC,GAAGK,GAAEC,IAAGN,IAAGD,EAAC,GAAGG,GAAEE,IAAGH,IAAGG,IAAGD,EAAC,GAAGD,GAAEI,IAAGL,IAAGK,IAAGH,EAAC,GAAGI,GAAEL,IAAGI,IAAGF,EAAC,GAAG,EAAEF,IAAGA,EAAC;AACvE;AACA,IAAME,KAAIF,GAAE;AAAZ,IACEI,KAAIJ,GAAE;;;ACqBR,IAAMM,KAAN,MAAQ;AAAA,EACN,IAAI,cAAc;AAChB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,YAAYC,IAAG;AACb,SAAK,mBAAmB,OAAI,KAAK,iBAAiB,CAAC,GAAG,KAAK,kBAAkB,CAAC,GAAG,KAAK,uBAAuB,CAAC,GAAG,KAAK,wBAAwB,CAAC,GAAG,KAAK,oBAAoB,CAAC,GAAG,KAAK,qBAAqB,CAAC,GAAG,KAAK,yBAAyB,CAAC,GAAG,KAAK,qBAAqB,CAAC,GAAG,KAAK,6BAA6B,CAAC,GAAG,KAAK,0BAA0B,CAAC,GAAG,KAAK,uBAAuB,oBAAI,IAAI,GAAG,KAAK,+BAA+B,oBAAI,IAAI,GAAG,KAAK,kBAAkB,MAAM,KAAK,0BAA0B,MAAM,KAAK,0BAA0BC,GAAE,GAAG,KAAK,2BAA2BA,GAAE,GAAG,KAAK,mCAAmCA,GAAE,GAAG,KAAK,cAAc,MAAM,KAAK,OAAO,MAAM,KAAK,eAAe,MAAM,KAAK,aAAa,MAAM,KAAK,qBAAqB,MAAM,KAAK,kBAAkB,MAAM,KAAK,UAAU,GAAG,KAAK,wBAAwBA,GAAE,GAAG,KAAK,oBAAoBA,GAAE,GAAG,KAAK,WAAWA,GAAE,GAAG,KAAK,gBAAgBA,GAAE,GAAG,KAAK,SAAS,CAACA,GAAE,GAAGA,GAAE,GAAGA,GAAE,CAAC,GAAG,KAAK,eAAe,IAAI,KAAK,kBAAkB,OAAI,KAAK,QAAQ,MAAM,KAAK,SAASA,GAAE,GAAG,KAAK,SAASA,GAAE,GAAG,KAAK,YAAYA,GAAE,GAAG,KAAK,cAAcC,GAAE,GAAG,KAAK,aAAaF;AAC1kC,UAAMG,KAAIC,GAAEJ,GAAE,gBAAgB;AAC9B,SAAK,iBAAiBG,IAAG,KAAK,yBAAyB,EAAEA,EAAC,KAAK,UAAU,KAAK,uBAAuB,GAAEA,EAAC,KAAK;AAAA,EAC/G;AAAA,EACA,OAAOH,IAAGG,IAAGE,IAAGC,IAAGC,IAAGN,IAAG;AACvB,UAAMO,MAAI,QAAQL,IAChBM,KAAI,KAAK,iBAAiBT,GAAE,SAC5BU,KAAI,KAAK,oBAAoBF,KAC7BJ,KAAI,KAAK,UAAUG;AACrB,WAAO,EAAEE,MAAK,CAACR,MAAKS,MAAKN,MAAKJ,GAAE,oBAAoB,KAAK,eAAeA,GAAE,SAAS,KAAK,kBAAkBQ,KAAG,KAAK,2BAA2BR,IAAGG,EAAC,GAAG,KAAK,QAAQH,IAAGG,IAAGE,IAAGC,IAAGC,EAAC,GAAG;AAAA,EACnL;AAAA,EACA,QAAQP,IAAGK,IAAGC,IAAGC,IAAGN,IAAG;AACrB,UAAMO,MAAI,KAAK,WAAW,wBACxBC,KAAI,KAAK,gBACTC,KAAIJ,GAAE;AACR,QAAIF,KAAIJ,GAAE;AACV,UAAMW,KAAI,EAAE,QAAQN,MAAKA,GAAE,OAAOL,GAAE,SAAS,KAAKI,KAAI,KAAKC,GAAE,OAAOL,GAAE,UAAU;AAChF,IAAAW,OAAMP,MAAK;AACX,UAAMQ,KAAI,CAACZ,GAAE,mBAAmBI,KAAI,GAClCS,KAAIb,GAAE,mBAAmBY;AAC3B,SAAK,QAAQR,EAAC;AACd,UAAMU,KAAIJ,GAAEA,EAAC,GACXK,KAAI,QAAQL,MAAKF,GAAEE,EAAC,IAAIA,KAAI,MAC5BM,KAAI,QAAQD,MAAKhB,GAAEW,IAAGI,EAAC,GACvB;AAAA,MACE,mBAAmBZ;AAAA,MACnB,gBAAgBe;AAAA,MAChB,iBAAiB;AAAA,MACjB,oBAAoBC;AAAA,IACtB,IAAI,MACJC,KAAI,CAACnB,IAAGG,OAAM;AACZ,MAAAiB,GAAEd,GAAE,mBAAmBN,EAAC,GAAGa,GAAEb,IAAGiB,GAAEd,EAAC,GAAGM,EAAC,GAAGI,GAAEb,IAAG,EAAEG,EAAC,GAAGK,GAAC,GAAGQ,OAAMH,GAAEb,IAAGE,GAAEC,EAAC,GAAGY,EAAC,GAAGF,GAAEb,IAAGkB,GAAEf,EAAC,GAAGW,EAAC,GAAG,EAAEI,GAAEf,EAAC,GAAGe,GAAEf,EAAC,CAAC;AAAA,IAC3G;AACF,IAAAH,GAAE,sBAAsB,CAACA,IAAGG,OAAMgB,GAAEnB,IAAGG,EAAC,CAAC,GAAGQ,MAAKQ,GAAEd,IAAGD,KAAI,CAAC;AAC3D,UAAMiB,KAAI,KAAK,mBAAmBR,EAAC;AACnC,QAAI,KAAK,aAAa,KAAK,UAAU,IAAIH,GAAEW,IAAG,KAAK,sBAAsB,IAAI,MAAML,IAAG;AACpF,YAAMhB,KAAI,KAAK,2BAA2Ba,IAAGE,EAAC;AAC9C,WAAK,qBAAqB,QAAQf,MAAK,KAAK,UAAU,IAAIA,KAAI;AAAA,IAChE,MAAO,MAAK,qBAAqB;AACjC,QAAI,KAAK,YAAYC,EAAC,GAAG,CAACY,GAAG,QAAO,KAAK,OAAO,MAAM,KAAK,eAAe,MAAM,KAAK,kBAAkB,MAAM,KAAK,kBAAkB,MAAM,KAAK,0BAA0B,MAAM,KAAK,qBAAqB,MAAM,GAAG,KAAK,6BAA6B,MAAM,GAAG,MAAM,KAAK,mBAAmB;AAC3R,SAAK,8BAA8BP,IAAGE,KAAGC,IAAGF,EAAC,GAAGS,MAAK,KAAK,oBAAoBV,IAAGS,EAAC,GAAG,KAAK,mBAAmB;AAAA,EAC/G;AAAA,EACA,UAAU;AACR,WAAO;AAAA,MACL,kBAAkB,KAAK;AAAA,MACvB,aAAa,KAAK;AAAA,MAClB,iBAAiB,KAAK;AAAA,MACtB,iBAAiB,KAAK;AAAA,MACtB,sBAAsB,KAAK;AAAA,MAC3B,uBAAuB,KAAK;AAAA,MAC5B,sBAAsB,KAAK;AAAA,MAC3B,8BAA8B,KAAK;AAAA,MACnC,iBAAiB,KAAK;AAAA,MACtB,yBAAyB,KAAK;AAAA,MAC9B,0BAA0B,KAAK;AAAA,MAC/B,kCAAkC,KAAK;AAAA,MACvC,MAAM,KAAK;AAAA,MACX,cAAc,KAAK;AAAA,MACnB,YAAY,KAAK;AAAA,MACjB,oBAAoB,KAAK;AAAA,MACzB,iBAAiB,KAAK;AAAA,MACtB,uBAAuB,KAAK;AAAA,IAC9B;AAAA,EACF;AAAA,EACA,QAAQf,IAAG;AACT,SAAKA,KAAI,KAAK,YAAY,KAAK,eAAe,SAASA,IAAG,KAAK,gBAAgB,SAASA,IAAG,KAAK,qBAAqB,SAASA,IAAG,KAAK,sBAAsB,SAASA,IAAG,KAAK,kBAAkB,SAASA,IAAG,KAAK,mBAAmB,SAASA,IAAG,KAAK,uBAAuB,SAASA,IAAG,KAAK,mBAAmB,SAASA,IAAG,KAAK,2BAA2B,SAASA,IAAG,KAAK,wBAAwB,SAASA,IAAG,KAAK,UAAUA,KAAI,KAAK,UAAUA,KAAI,MAAK,eAAe,KAAKC,GAAE,CAAC,GAAG,KAAK,gBAAgB,KAAKA,GAAE,CAAC,GAAG,KAAK,qBAAqB,KAAKA,GAAE,CAAC,GAAG,KAAK,sBAAsB,KAAKA,GAAE,CAAC,GAAG,KAAK,kBAAkB,KAAKA,GAAE,CAAC,GAAG,KAAK,mBAAmB,KAAKA,GAAE,CAAC,GAAG,KAAK,uBAAuB,KAAKA,GAAE,CAAC,GAAG,KAAK,mBAAmB,KAAK,CAAC,GAAG,KAAK,2BAA2B,KAAK,CAAC,GAAG,KAAK,wBAAwB,KAAK,CAAC,GAAG,EAAE,KAAK;AAAA,EACryB;AAAA,EACA,mBAAmBD,IAAG;AACpB,UAAMG,KAAI,KAAK,gBACbE,KAAI,KAAK;AACX,QAAIC,KAAI;AACR,UAAMC,KAAI,KAAK;AACf,aAASN,KAAI,GAAGA,KAAIM,IAAG,EAAEN,IAAG;AAC1B,YAAMO,MAAIH,GAAEJ,EAAC,IAAI,EAAEE,GAAEF,EAAC,GAAGE,IAAGF,KAAI,KAAKM,EAAC,CAAC;AACvC,OAACN,KAAIM,KAAI,KAAKP,QAAOM,MAAKE;AAAA,IAC5B;AACA,WAAOF;AAAA,EACT;AAAA,EACA,2BAA2BN,IAAGM,IAAG;AAC/B,UAAMC,KAAI,KAAK,mBACbN,KAAI,KAAK;AACX,QAAIO,MAAI;AACR,UAAMC,KAAI,KAAK;AACf,aAASN,KAAI,GAAGA,KAAIM,IAAG,EAAEN,IAAG;AAC1B,YAAMO,KAAIM,GAAET,GAAEJ,EAAC,GAAGI,IAAGJ,KAAI,KAAKM,EAAC,GAAGH,EAAC;AACnC,UAAI,QAAQI,GAAG,QAAO;AACtB,YAAMN,KAAIC,GAAEK,IAAG,QAAQ,EAAE,OACvBC,KAAIV,GAAEE,EAAC,IAAIC;AACb,OAACD,KAAIM,KAAI,KAAKT,QAAOQ,OAAKG;AAAA,IAC5B;AACA,WAAOD,GAAEF,KAAG,QAAQ;AAAA,EACtB;AAAA,EACA,8BAA8BR,IAAGG,IAAGE,IAAGC,IAAG;AACxC,UAAMC,KAAIP,GAAE,oBACVC,KAAI,KAAK,gBACTQ,KAAI,KAAK,iBACTC,KAAI,KAAK,sBACTN,KAAI,KAAK,uBACTkB,KAAI,KAAK,mBACTL,KAAI,KAAK;AACX,IAAAN,GAAEF,IAAGQ,EAAC,GAAGV,GAAE,kBAAkBU,IAAG,KAAK,QAAQ,GAAGV,GAAE,qBAAqBU,IAAGhB,GAAE,GAAG,KAAK,aAAa,GAAGqB,GAAEL,IAAG,KAAK,UAAUd,IAAG,KAAK,UAAUE,EAAC,GAAGiB,GAAEL,IAAG,KAAK,eAAed,IAAG,KAAK,eAAeE,EAAC,GAAGJ,GAAE,SAAS,KAAKQ,GAAER,IAAGqB,EAAC,GAAG,KAAK,cAAc,KAAK,mBAAmBA,IAAGrB,IAAG,KAAK,UAAUK,EAAC;AAC5R,QAAI,IAAI;AACR,QAAI,iBAAiB,KAAK,aAAa;AACrC,UAAIN,KAAI,KAAK;AACb,MAAAS,GAAE,QAAQ,CAACN,IAAGE,OAAM;AAClB,cAAMC,KAAIC,GAAE,YAAYE,GAAEJ,EAAC,CAAC;AAC5B,QAAAC,KAAIN,OAAMA,KAAIM,IAAG,IAAID;AAAA,MACvB,CAAC;AAAA,IACH;AACA,UAAMa,KAAIjB,GAAE,CAAC;AACb,QAAI,IAAIqB,IACNC,KAAI,KAAK;AACX,qBAAiB,KAAK,cAAc,IAAI,KAAK,WAAW,eAAe,KAAK,gBAAgB,IAAI,KAAK,WAAWA,KAAI,KAAK,UAAU,EAAED,IAAG,KAAK,UAAU,CAAC,IAAI,EAAE,KAAK,OAAO,CAAC,GAAG,CAAC,GAAG,EAAEC,IAAG,GAAG,KAAK,OAAO,CAAC,CAAC,GAAGrB,GAAE,KAAK,OAAO,CAAC,GAAG,KAAK,OAAO,CAAC,GAAG,KAAK,OAAO,CAAC,CAAC,GAAGqB,GAAE,KAAK,OAAO,CAAC,GAAG,KAAK,OAAO,CAAC,CAAC;AAC9R,UAAMC,KAAI,KAAK,WACbC,KAAI,KAAK,QACT,IAAI,KAAK;AACX,aAASd,KAAI,GAAGA,KAAI,KAAK,SAAS,EAAEA,IAAG;AACrC,YAAMX,KAAIU,GAAEC,EAAC,GACXL,KAAIF,GAAEO,EAAC;AACT,MAAAX,GAAEwB,IAAGvB,GAAEU,EAAC,GAAGO,EAAC,GAAGX,GAAEP,IAAGmB,GAAE,KAAK,OAAO,CAAC,GAAGK,EAAC,GAAGL,GAAE,KAAK,OAAO,CAAC,GAAGK,EAAC,CAAC,GAAG,EAAEC,IAAG,KAAK,OAAO,CAAC,GAAGzB,GAAE,CAAC,CAAC,GAAG,EAAE,GAAG,KAAK,OAAO,CAAC,GAAGA,GAAE,CAAC,CAAC,GAAGgB,GAAEQ,IAAGC,IAAG,CAAC,GAAGT,GAAEQ,IAAGA,IAAGN,EAAC,GAAGjB,GAAEuB,IAAGnB,IAAGC,IAAGH,EAAC;AAAA,IAC/J;AACA,SAAK,kBAAkB,KAAK,UAAU,IAAI,KAAK,wBAAwB,IAAI,MAAMQ,GAAEP,IAAG,KAAK,wBAAwB,GAAGH,GAAE,KAAK,0BAA0BE,IAAG,KAAK,yBAAyBE,EAAC,GAAG,KAAK,4BAA4B,GAAG,KAAK,OAAO,MAAM,KAAK,qBAAqB,OAAO,KAAK,aAAa,IAAI;AAAA,EAC3S;AAAA,EACA,oBAAoBL,IAAGG,IAAG;AACxB,UAAM;AAAA,MACF,oBAAoBE;AAAA,MACpB,kBAAkBC;AAAA,IACpB,IAAIN,IACJ;AAAA,MACE,oBAAoBO;AAAA,MACpB,wBAAwBN;AAAA,IAC1B,IAAI,MACJQ,KAAI,KAAK,WACTC,KAAIa,GAAEhB,IAAGE,EAAC;AACZ,QAAI,CAACC,GAAG,QAAO,MAAM,KAAK,eAAe;AACzC,UAAMN,KAAI,KAAK,QACbO,KAAI,KAAK;AACX,IAAAY,GAAEd,IAAGL,IAAGO,EAAC;AACT,aAASC,KAAI,GAAGA,KAAI,KAAK,SAAS,EAAEA,IAAG;AACrC,YAAMZ,KAAImB,GAAEZ,GAAEK,EAAC,GAAGR,EAAC,GACjBD,KAAIgB,GAAEZ,GAAEK,EAAC,GAAGD,EAAC,GACbN,KAAIc,GAAEZ,GAAEK,EAAC,GAAGH,EAAC;AACf,MAAAF,GAAEN,GAAEW,EAAC,GAAGZ,KAAIK,IAAGF,KAAIE,EAAC;AAAA,IACtB;AACA,MAAEI,IAAGA,IAAG,EAAEH,EAAC,EAAE,MAAM,GAAGD,GAAE,eAAeI,IAAGC,GAAEJ,EAAC,GAAG,KAAK,gCAAgC,GAAG,KAAK,oCAAoC,GAAG,KAAK,eAAeI,MAAK,MAAM,KAAK,6BAA6B,OAAO,KAAK,qBAAqBP,EAAC,IAAI;AAAA,EAC7O;AAAA,EACA,0BAA0B;AACxB,UAAMH,KAAI,KAAK,sBACbK,KAAI,KAAK;AACX,QAAIC,KAAI;AACR,aAASH,KAAI,GAAGA,KAAI,KAAK,SAAS,EAAEA,IAAG;AACrC,MAAAG,MAAKD,GAAEF,EAAC,IAAI,EAAEH,GAAEG,EAAC,GAAGH,IAAGG,KAAI,KAAK,KAAK,OAAO,CAAC;AAAA,IAC/C;AACA,WAAOO,GAAEJ,IAAG,KAAK,sBAAsB;AAAA,EACzC;AAAA,EACA,8BAA8B;AAC5B,UAAMN,KAAI,KAAK,sBACbG,KAAI,KAAK;AACX,IAAAA,GAAE,MAAM;AACR,aAASE,KAAI,GAAGA,KAAI,KAAK,SAAS,EAAEA,GAAG,UAASC,KAAID,KAAI,GAAGC,KAAI,KAAK,SAAS,EAAEA,IAAG;AAChF,WAAKA,KAAI,KAAK,KAAK,YAAYD,GAAG;AAClC,YAAME,KAAIP,GAAEK,EAAC,GACXJ,KAAID,IAAGK,KAAI,KAAK,KAAK,OAAO,GAC5BG,MAAIR,GAAEM,EAAC,GACPG,KAAIT,IAAGM,KAAI,KAAK,KAAK,OAAO;AAC9B,QAAEC,IAAGN,IAAGO,KAAGC,EAAC,MAAMN,GAAE,IAAIE,EAAC,GAAGF,GAAE,IAAIG,EAAC;AAAA,IACrC;AAAA,EACF;AAAA,EACA,eAAe;AACb,UAAMN,KAAI,KAAK,sBACbG,KAAI,KAAK,kBAAkBA,GAAE,EAAEH,EAAC,CAAC;AACnC,QAAIK,KAAI;AACR,aAASC,KAAI,GAAGA,KAAIH,GAAE,QAAQG,MAAK,EAAG,CAAAD,MAAKY,GAAEjB,GAAEG,GAAEG,EAAC,CAAC,GAAGN,GAAEG,GAAEG,KAAI,CAAC,CAAC,GAAGN,GAAEG,GAAEG,KAAI,CAAC,CAAC,CAAC;AAC9E,WAAOF,GAAEC,IAAG,KAAK,oBAAoB;AAAA,EACvC;AAAA,EACA,sCAAsC;AACpC,UAAML,KAAI,KAAK,wBACbG,KAAI,KAAK;AACX,IAAAA,GAAE,MAAM;AACR,aAASE,KAAI,GAAGA,KAAI,KAAK,SAAS,EAAEA,GAAG,UAASC,KAAID,KAAI,GAAGC,KAAI,KAAK,SAAS,EAAEA,IAAG;AAChF,WAAKA,KAAI,KAAK,KAAK,YAAYD,GAAG;AAClC,YAAME,KAAIP,GAAEK,EAAC,GACXJ,KAAID,IAAGK,KAAI,KAAK,KAAK,OAAO,GAC5BG,MAAIR,GAAEM,EAAC,GACPG,KAAIT,IAAGM,KAAI,KAAK,KAAK,OAAO;AAC9B,QAAEC,IAAGN,IAAGO,KAAGC,EAAC,MAAMN,GAAE,IAAIE,EAAC,GAAGF,GAAE,IAAIG,EAAC;AAAA,IACrC;AAAA,EACF;AAAA,EACA,qBAAqBN,IAAG;AACtB,UAAMG,KAAI,KAAK,mBACbI,KAAI,KAAK,wBACTN,KAAI,KAAK,0BAA0BE,GAAE,EAAEI,EAAC,CAAC;AAC3C,QAAIC,MAAI;AACR,aAASF,KAAI,GAAGA,KAAIL,GAAE,QAAQK,MAAK,GAAG;AACpC,YAAMC,KAAIQ,GAAEZ,GAAEF,GAAEK,EAAC,CAAC,GAAGH,GAAEF,GAAEK,KAAI,CAAC,CAAC,GAAGH,GAAEF,GAAEK,KAAI,CAAC,CAAC,GAAGN,EAAC;AAChD,UAAI,QAAQO,GAAG,QAAO;AACtB,MAAAC,OAAKH,GAAEE,IAAG,eAAe,EAAE;AAAA,IAC7B;AACA,WAAOH,GAAEI,KAAG,eAAe;AAAA,EAC7B;AAAA,EACA,mBAAmBL,IAAGE,IAAGC,IAAGC,IAAG;AAC7B,UAAMN,KAAII,GAAE,IAAI,CAAAL,OAAK,KAAK,IAAIc,GAAEX,IAAGH,EAAC,CAAC,CAAC,EAAE,OAAO,CAACA,IAAGG,OAAM,KAAK,IAAIH,IAAGG,EAAC,GAAG,CAAC;AAC1E,IAAAS,GAAEP,IAAG,KAAK,WAAW;AACrB,UAAMG,MAAIP,MAAK,IAAI,KAAK,YAAY,CAAC,IACnCQ,KAAID,MAAID,GAAE,0BACVG,KAAIF,MAAID,GAAE;AACZ,QAAIH,KAAI;AACR,QAAIK,GAAG,CAAAL,KAAI;AAAA,aAAmBM,IAAG;AAC/B,MAAAN,KAAI,KAAK,IAAIe,GAAEb,IAAGH,EAAC,CAAC,IAAI,KAAK,IAAIM,GAAEF,GAAE,sBAAsB,CAAC,IAAI,eAAe;AAAA,IACjF;AACA,WAAOH;AAAA,EACT;AAAA,EACA,2BAA2BJ,IAAGG,IAAG;AAC/B,UAAME,KAAIL,GAAE;AACZ,IAAAA,GAAE,kBAAkB,QAAQK,MAAK,QAAQF,MAAK,KAAK,8BAA8B,MAAM,KAAK,sBAAsB,SAAS,KAAK,8BAA8BmB,GAAEjB,IAAGF,EAAC,GAAG,KAAK,sBAAsBM,GAAEJ,IAAGF,EAAC,GAAG;AAAA,EAC7M;AAAA,EACA,YAAYH,IAAG;AACb,QAAIA,OAAMA,GAAE,MAAM;AAChB,WAAK,wBAAwB;AAC7B,UAAIA,KAAI;AACR,cAAQ,KAAK,uBAAuBA,MAAK,KAAK,mBAAmB,QAAQA,KAAI,MAAM,KAAK,wBAAwB;AAAA,IAClH,MAAO,MAAK,wBAAwBA,OAAMA,GAAE,YAAY,cAAc;AACtE,YAAQ,KAAK,uBAAuB,KAAK,wBAAwB,cAAc,KAAK,QAAQA;AAAA,EAC9F;AACF;AACA,SAASoB,GAAEpB,IAAGG,IAAG;AACf,EAAAA,GAAE,SAASA,GAAE,IAAIO,GAAEV,IAAGG,IAAG,QAAQ,KAAK;AACxC;AACA,IAAM,IAAI;;;AC/PV,IAAIuB,KAAI,cAAc,EAAE;AAAA,EACtB,YAAYC,IAAG;AACb,UAAMA,EAAC;AAAA,EACT;AAAA,EACA,aAAa;AACX,SAAK,0BAA0B,IAAIC,GAAE,KAAK,IAAI,GAAG,KAAK,WAAW,CAAC,KAAK,iBAAiB,KAAK,GAAG,UAAU,MAAM,KAAK,QAAQ,CAAC,GAAG,EAAE,MAAM,KAAK,iBAAiB,aAAa,MAAM,KAAK,QAAQ,GAAG,CAAC,GAAG,EAAE,MAAM,KAAK,iBAAiB,MAAM,MAAM,KAAK,QAAQ,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,QAAQ;AAAA,EACrR;AAAA,EACA,QAAQD,KAAI,OAAI;AACd,UAAM;AAAA,MACF,kBAAkBE;AAAA,MAClB,MAAMC;AAAA,IACR,IAAI,MACJC,KAAI;AAAA,MACF,0BAA0B;AAAA,MAC1B,gCAAgC;AAAA,MAChC,wBAAwB;AAAA,IAC1B;AACF,SAAK,wBAAwB,OAAOF,GAAE,MAAMA,GAAE,aAAaC,IAAGC,IAAGF,GAAE,MAAMF,EAAC,MAAME,GAAE,kBAAkB,KAAK,wBAAwB,QAAQ;AAAA,EAC3I;AACF;AACA,EAAE,CAAC,EAAE;AAAA,EACH,eAAe;AACjB,CAAC,CAAC,GAAGH,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EACtC,eAAe;AACjB,CAAC,CAAC,GAAGA,GAAE,WAAW,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC1C,eAAe;AACjB,CAAC,CAAC,GAAGA,GAAE,WAAW,oBAAoB,MAAM,GAAGA,KAAI,EAAE,CAAC,EAAE,0EAA0E,CAAC,GAAGA,EAAC;;;ACpBvI,IAAIM,KAAI,cAAc,EAAE,gBAAgB;AAAA,EACtC,YAAYC,KAAI,CAAC,GAAG;AAClB,UAAMA,EAAC,GAAG,KAAK,WAAW,GAAG,KAAK,0BAA0B,OAAI,KAAK,UAAU,EAAE;AAAA,EACnF;AAAA,EACA,IAAI,gBAAgBA,IAAG;AACrB,SAAK,KAAK,mBAAmBA,EAAC,GAAG,QAAQA,MAAK,QAAQ,KAAK,QAAQ,KAAK,YAAYA,IAAG,KAAK,IAAI;AAAA,EAClG;AAAA,EACA,IAAI,KAAKA,IAAG;AACV,SAAK,KAAK,QAAQA,EAAC,GAAG,QAAQA,MAAK,QAAQ,KAAK,mBAAmB,KAAK,YAAY,KAAK,iBAAiBA,EAAC;AAAA,EAC7G;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,QAAQ,KAAK,mBAAmB,QAAQ,KAAK;AAAA,EACtD;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,CAAC,KAAK,eAAe,MAAM,KAAK,cAAc,WAAW;AAAA,EAClE;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK,eAAe,KAAK;AAAA,EAClC;AAAA,EACA,IAAI,SAAS;AACX,QAAI,KAAK,eAAe,KAAK,cAAc,WAAW,SAAS,KAAK,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS,SAAS,GAAG;AACxH,YAAMA,KAAI,EAAE,KAAK,OAAO;AACxB,aAAO,KAAK,cAAc,CAAAC,OAAK;AAC7B,QAAAC,GAAEF,IAAGC,GAAE,GAAG;AAAA,MACZ,CAAC,GAAGD;AAAA,IACN;AACA,WAAO;AAAA,EACT;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,cAAc,KAAK,cAAc,iBAAiB,mBAAmB;AAAA,EACnF;AAAA,EACA,YAAYA,IAAGC,IAAG;AAChB,SAAK,iBAAiB,GAAG,KAAK,WAAW,EAAE,MAAMD,GAAE,UAAU,MAAM;AACjE,WAAK,qCAAqCA,IAAGC,EAAC;AAAA,IAChD,GAAG,CAAC,CAAC,GAAG,KAAK,WAAW,IAAE;AAAA,EAC5B;AAAA,EACA,WAAWD,KAAI,OAAI;AACjB,SAAK,aAAa,iBAAiB,GAAG,KAAK,aAAa,gBAAgB,GAAG,KAAK,aAAa,aAAa,GAAG,KAAK,aAAa,QAAQ,GAAGA,MAAK,KAAK,aAAa,aAAa;AAAA,EAChL;AAAA,EACA,qCAAqCA,IAAGC,IAAG;AACzC,QAAI,KAAK,YAAY,KAAK,wBAAyB;AACnD,SAAK,cAAc,cAAc;AACjC,QAAIE,MAAIH,GAAE;AACV,QAAI,QAAQG,KAAG;AACb,YAAMC,KAAI,EAAED,KAAGF,GAAE,gBAAgB;AACjC,cAAQG,MAAKH,GAAED,IAAGG,IAAE,kBAAkB,EAAE,UAAU,IAAI,CAAC,GAAGA,MAAIC;AAAA,IAChE;AACA,SAAK,0BAA0B,QAAQD,MAAIE,GAAE,aAAaF,KAAGF,GAAE,MAAM,WAAW,IAAI,IAAII,GAAE,IAAI,EAAE,WAAWC,GAAE,MAAI,OAAIL,GAAE,gBAAgB,CAAC,GAAGA,GAAE,MAAM,WAAW,GAAG,KAAK,WAAW,IAAE,GAAG,KAAK,KAAK,QAAQ,GAAG,KAAK,WAAW,KAAK,cAAc,GAAG,UAAU,CAAAA,OAAK;AAC9P,WAAK,WAAW,QAAQA,GAAE,iBAAiB,QAAQA,GAAE,eAAe,GAAG,KAAK,0BAA0B,MAAID,GAAE,WAAW,KAAK,cAAc,IAAI,KAAK,cAAc,WAAW,MAAM,KAAK,0BAA0B;AAAA,IACnN,CAAC,GAAG,cAAc;AAAA,EACpB;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,wBAAwB;AAAA,EACtC;AAAA,EACA,IAAI,WAAW;AACb,UAAMA,KAAI,CAAC;AACX,WAAO,KAAK,cAAc,CAAAC,OAAK;AAC7B,MAAAD,GAAE,KAAKC,EAAC;AAAA,IACV,CAAC,GAAGD;AAAA,EACN;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,eAAe,KAAK,cAAc,WAAW,SAAS,IAAI,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS,SAAS;AAAA,EAC3H;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK,cAAc,WAAW,SAAS,KAAK,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS;AAAA,EAC/F;AAAA,EACA,IAAI,aAAa;AACf,QAAI,KAAK,eAAe,KAAK,cAAc,WAAW,SAAS,GAAG;AAChE,YAAMA,KAAI,KAAK,cAAc,WAAW,CAAC,EAAE,eAAe;AAC1D,UAAI,QAAQA,GAAG,QAAO,KAAK,cAAc,iBAAiB,cAAcA,GAAE,GAAG;AAAA,IAC/E;AACA,WAAO;AAAA,EACT;AAAA,EACA,IAAI,YAAY;AACd,QAAI,KAAK,eAAe,KAAK,cAAc,WAAW,SAAS,GAAG;AAChE,YAAMA,KAAI,KAAK,cAAc,WAAW,CAAC,EAAE,cAAc;AACzD,UAAI,QAAQA,GAAG,QAAO,KAAK,cAAc,iBAAiB,cAAcA,GAAE,GAAG;AAAA,IAC/E;AACA,WAAO;AAAA,EACT;AAAA,EACA,UAAUA,IAAG;AACX,QAAI,CAAC,KAAK,eAAe,MAAM,KAAK,cAAc,WAAW,UAAU,MAAM,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS,OAAQ,QAAO;AACtI,UAAMC,KAAI,KAAK,cAAc,WAAW,CAAC,EAAE,SAAS,CAAC;AACrD,QAAIM,KAAIN;AACR,OAAG;AACD,UAAIM,GAAE,UAAUP,GAAG,QAAOO;AAC1B,MAAAA,KAAIA,GAAE,UAAU;AAAA,IAClB,SAASA,OAAMN,MAAK,QAAQM;AAC5B,WAAO;AAAA,EACT;AAAA,EACA,yBAAyBP,IAAG;AAC1B,WAAO,KAAK,cAAc,iBAAiB,cAAcA,GAAE,GAAG;AAAA,EAChE;AAAA,EACA,kCAAkCA,IAAG;AACnC,WAAO,KAAK,cAAc,iBAAiB,cAAc,KAAK,UAAUA,EAAC,EAAE,GAAG;AAAA,EAChF;AAAA,EACA,cAAcA,IAAG;AACf,SAAK,eAAe,KAAK,cAAc,WAAW,SAAS,KAAK,KAAK,cAAc,WAAW,CAAC,EAAE,gBAAgBA,EAAC;AAAA,EACpH;AAAA,EACA,sBAAsBA,IAAG;AACvB,UAAMC,KAAI,KAAK,cAAc;AAC7B,SAAK,cAAc,CAACM,IAAGJ,QAAM;AAC3B,MAAAF,GAAE,cAAcM,GAAE,KAAKC,EAAC,GAAGR,GAAEQ,IAAGL,GAAC;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EACA,QAAQ;AACN,YAAQ,KAAK,oBAAoB,KAAK,gBAAgB,WAAW;AAAA,EACnE;AAAA,EACA,IAAIH,IAAG;AACL,QAAI,CAAC,KAAK,YAAa,QAAO;AAC9B,QAAI,MAAM,KAAK,cAAc,WAAW,QAAQ;AAC9C,YAAMA,KAAI,KAAK;AACf,WAAK,cAAc,WAAW,KAAK,IAAIS,GAAET,GAAE,kBAAkBA,GAAE,MAAM,WAAW,CAAC;AAAA,IACnF;AACA,UAAMC,KAAI,KAAK,wBAAwB,aAAa,KAAK,cAAc,iBAAiB,cAAcD,EAAC,CAAC;AACxG,WAAO,KAAK,KAAK,QAAQ,GAAGC;AAAA,EAC9B;AAAA,EACA,QAAQ;AACN,QAAI,CAAC,KAAK,eAAe,MAAM,KAAK,cAAc,WAAW,OAAQ,QAAO;AAC5E,UAAMD,KAAI,KAAK,wBAAwB,eAAe,KAAK,cAAc,WAAW,CAAC,CAAC;AACtF,WAAO,KAAK,KAAK,QAAQ,GAAGA;AAAA,EAC9B;AAAA,EACA,eAAeA,IAAGC,KAAI,IAAI;AACxB,QAAIM,KAAI;AACR,QAAI,KAAK,cAAc,WAAW,QAAQ,CAAAN,OAAK;AAC7C,MAAAA,GAAE,gBAAgB,CAAAA,OAAK;AACrB,QAAAA,OAAMD,OAAMO,KAAI;AAAA,MAClB,CAAC;AAAA,IACH,CAAC,GAAG,CAACA,GAAG,OAAM,IAAI,MAAM,uBAAuBN,EAAC,EAAE;AAClD,WAAOM;AAAA,EACT;AAAA,EACA,kBAAkBP,IAAGC,IAAG;AACtB,QAAI,CAAC,KAAK,YAAa,QAAO;AAC9B,UAAMM,KAAI,KAAK,wBAAwB,kBAAkBP,IAAG,KAAK,cAAc,iBAAiB,cAAcC,EAAC,CAAC;AAChH,WAAO,KAAK,KAAK,QAAQ,GAAGM;AAAA,EAC9B;AAAA,EACA,OAAOP,IAAG;AACR,QAAI,KAAK,gBAAgBA,GAAE,YAAa,QAAO;AAC/C,QAAIC,KAAI;AACR,WAAO,KAAK,sBAAsB,CAACM,IAAGJ,QAAM;AAC1C,YAAMC,KAAIJ,GAAE,kCAAkCG,GAAC;AAC/C,MAAAI,GAAE,OAAOH,EAAC,MAAMH,KAAI;AAAA,IACtB,CAAC,GAAG,CAAC,CAACA;AAAA,EACR;AACF;AACA,EAAE,CAAC,EAAE;AAAA,EACH,OAAO;AACT,CAAC,CAAC,GAAGF,GAAE,WAAW,mBAAmB,IAAI,GAAG,EAAE,CAAC,EAAE;AAAA,EAC/C,OAAO;AACT,CAAC,CAAC,GAAGA,GAAE,WAAW,QAAQ,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,kBAAkB,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,kBAAkB,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,UAAU,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,oBAAoB,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,eAAe,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,mBAAmB,IAAI,GAAGA,KAAI,EAAE,CAAC,EAAE,0EAA0E,CAAC,GAAGA,EAAC;AAC3Y,IAAMS,KAAI,IAAI,EAAE;;;AC/JhB,IAAME,KAAN,MAAM,WAAUC,GAAE;AAAA,EAChB,kBAAkBC,IAAG;AACnB,WAAO,IAAID,GAAEC,GAAE,MAAM,GAAE,OAAO,IAAI,EAAE,MAAM,KAAK,aAAa,GAAG,CAAC;AAAA,EAClE;AAAA,EACA,kBAAkBA,IAAG;AACnB,UAAMD,MAAI,KAAK,eACbE,KAAID,OAAME,GAAE,MACZC,KAAIH,OAAME,GAAE;AACd,WAAOE,GAAE;AAAA,MACP,UAAUL,IAAE,cAAcE,KAAII,KAAIC,GAAEN,EAAC,IAAI;AAAA,MACzC,WAAW;AAAA,QACT,MAAMO,GAAEP,EAAC;AAAA,MACX;AAAA,MACA,YAAYC,KAAIF,IAAE,aAAaG,KAAI,OAAOM,GAAER,EAAC;AAAA,MAC7C,aAAaS,GAAET,EAAC;AAAA,MAChB,YAAYU;AAAA,MACZ,eAAeT,MAAKE,KAAIJ,IAAE,gBAAgBY,KAAI,OAAO;AAAA,QACnD,QAAQ;AAAA,QACR,OAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,qBAAqB;AACnB,WAAO,KAAK,kBAAkB,KAAK,cAAc,oBAAoB;AAAA,EACvE;AACF;AACAb,GAAE,SAAS,IAAIG,GAAEK,IAAG,MAAM,OAAO,iCAAwB,CAAC;AAC1D,IAAMK,KAAI;AAAA,EACN,QAAQ;AAAA,EACR,OAAO;AACT;AAHF,IAIEN,KAAI,EAAEO,GAAE,WAAWA,GAAE,KAAKA,GAAE,qBAAqBA,GAAE,mBAAmB;;;ACpCxE,IAAMC,MAAN,cAAgBC,GAAE;AAAA,EAChB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,uBAAuBC,GAAE,MAAM,KAAK,cAAc,OAAI,KAAK,aAAa,MAAI,KAAK,gBAAgB,OAAI,KAAK,mBAAmB,OAAI,KAAK,kBAAkB;AAAA,EACpL;AACF;AACA,EAAE,CAACF,GAAE;AAAA,EACH,OAAOE,GAAE;AACX,CAAC,CAAC,GAAGF,IAAE,WAAW,wBAAwB,MAAM,GAAG,EAAE,CAACA,GAAE,CAAC,GAAGA,IAAE,WAAW,eAAe,MAAM,GAAG,EAAE,CAACA,GAAE,CAAC,GAAGA,IAAE,WAAW,cAAc,MAAM,GAAG,EAAE,CAACA,GAAE,CAAC,GAAGA,IAAE,WAAW,iBAAiB,MAAM,GAAG,EAAE,CAACA,GAAE,CAAC,GAAGA,IAAE,WAAW,oBAAoB,MAAM,GAAG,EAAE,CAACA,GAAE,CAAC,GAAGA,IAAE,WAAW,mBAAmB,MAAM,GAAG,EAAE,CAACA,GAAE;AAAA,EACtS,YAAY;AACd,CAAC,CAAC,GAAGA,IAAE,WAAW,iBAAiB,MAAM;;;ACFzC,IAAMG,KAAN,cAAgBC,GAAE;AAAA,EAChB,YAAYC,KAAG;AACb,UAAMA,KAAG,IAAIC,GAAE,CAAC,GAAG,KAAK,WAAW,oBAAI,IAAI,CAAC,CAACC,GAAE,iBAAiB,CAAAF,QAAK,EAAEA,GAAC,KAAK,CAAC,KAAK,WAAW,WAAW,GAAG,CAACE,GAAE,sBAAsB,CAAAF,QAAK,EAAEA,GAAC,KAAK,KAAK,WAAW,eAAe,KAAK,WAAW,UAAU,GAAG,CAACE,GAAE,2CAA2C,CAAAF,QAAK,EAAEA,GAAC,KAAK,KAAK,WAAW,eAAe,CAAC,KAAK,WAAW,UAAU,CAAC,CAAC,GAAG,KAAK,iBAAiB,IAAIA,IAAE;AAAA,EACtW;AAAA,EACA,iBAAiBA,KAAGG,IAAG;AACrB,WAAO,KAAK,eAAe,cAAc,KAAK,WAAW,aAAa,KAAK,eAAe,aAAa,KAAK,WAAW,YAAY,KAAK,eAAe,gBAAgB,KAAK,WAAW,eAAe,KAAK,eAAe,uBAAuBA,GAAE,sBAAsB,KAAK,eAAe,mBAAmBA,GAAE,kBAAkB,KAAK,eAAe,kBAAkBA,GAAE,iBAAiB,iBAAiB,KAAK;AAAA,EACrZ;AAAA,EACA,iBAAiBH,KAAG;AAClB,WAAO,IAAII,GAAEJ,GAAC;AAAA,EAChB;AAAA,EACA,qBAAqB;AACnB,WAAO,IAAIA,GAAEK,EAAC;AAAA,EAChB;AACF;AACA,IAAMD,KAAN,cAAgBD,GAAE;AAAA,EAChB,UAAUH,KAAG;AACX,WAAO,KAAK,gBAAgBM,IAAGN,GAAC;AAAA,EAClC;AACF;AACA,IAAMC,KAAN,cAAgBH,GAAE;AAAA,EAChB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,OAAOE,GAAE,GAAG,CAAC,GAAG,KAAK,SAASA,GAAE,MAAK,MAAK,MAAK,CAAC,GAAG,KAAK,SAASA,GAAE,KAAI,KAAI,KAAI,CAAC,GAAG,KAAK,cAAc,OAAI,KAAK,aAAa,MAAI,KAAK,gBAAgB;AAAA,EACjL;AACF;;;ACrBA,IAAMO,KAAN,cAAgBC,GAAE;AAAA,EAChB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,wBAAwB,MAAM,KAAK,kBAAkBC,GAAE,uBAAuB,KAAK,YAAY,MAAM,KAAK,QAAQC,GAAE,GAAG,CAAC,GAAG,KAAK,UAAUA,GAAE,GAAG,KAAI,GAAG,GAAE,GAAG,KAAK,UAAUA,GAAE,GAAG,GAAG,GAAG,GAAE,GAAG,KAAK,gBAAgBF,EAAC;AAAA,EACjO;AAAA,EACA,IAAI,iBAAiB;AACnB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,eAAeA,IAAG;AACpB,IAAAA,OAAM,KAAK,oBAAoB,KAAK,kBAAkBA,IAAG,KAAK,gBAAgB;AAAA,EAChF;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,SAASA,IAAG;AACd,SAAK,YAAYA,IAAG,KAAK,iBAAiB;AAAA,EAC5C;AAAA,EACA,IAAI,OAAO;AACT,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,KAAKA,IAAG;AACV,IAAAE,GAAE,KAAK,OAAOF,EAAC,GAAG,KAAK,gBAAgB;AAAA,EACzC;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,OAAOA,IAAG;AACZ,MAAEA,IAAG,KAAK,OAAO,MAAMD,GAAE,KAAK,SAASC,EAAC,GAAG,KAAK,gBAAgB;AAAA,EAClE;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,OAAOA,IAAG;AACZ,MAAEA,IAAG,KAAK,OAAO,MAAMD,GAAE,KAAK,SAASC,EAAC,GAAG,KAAK,gBAAgB;AAAA,EAClE;AAAA,EACA,kBAAkB;AAChB,YAAQ,KAAK,yBAAyB,KAAK,sBAAsB,cAAc;AAAA,MAC7E,MAAM,KAAK;AAAA,MACX,QAAQ,KAAK;AAAA,MACb,QAAQ,KAAK;AAAA,MACb,gBAAgB,KAAK;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EACA,0BAA0B;AACxB,SAAK,wBAAwB,IAAIG,GAAE;AAAA,MACjC,MAAM,KAAK;AAAA,MACX,QAAQ,KAAK;AAAA,MACb,QAAQ,KAAK;AAAA,MACb,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,eAAe;AAAA,MACf,gBAAgBF,GAAE;AAAA,MAClB,cAAc,KAAK;AAAA,IACrB,CAAC;AAAA,EACH;AAAA,EACA,2BAA2B;AACzB,SAAK,wBAAwB;AAAA,EAC/B;AAAA,EACA,wBAAwBD,IAAG;AACzB,YAAQ,KAAK,yBAAyBA,GAAE,KAAK,qBAAqB;AAAA,EACpE;AAAA,EACA,iBAAiBE,KAAG;AAClB,QAAI,QAAQ,KAAK,aAAa,QAAQ,KAAK,sBAAuB;AAClE,UAAME,KAAIC;AACV,MAAED,IAAG,KAAK,SAAS;AACnB,UAAME,KAAI,KAAK,WACbC,KAAI,CAAC,GACLR,KAAIS,GAAE;AACR,IAAAF,GAAE,SAAS,QAAQ,CAAAN,OAAK;AACtB,MAAAA,GAAED,IAAGC,IAAGI,EAAC,GAAGG,GAAE,KAAKR,GAAE,CAAC,GAAGA,GAAE,CAAC,GAAGA,GAAE,CAAC,CAAC;AAAA,IACrC,CAAC;AACD,UAAMU,KAAI,CAAC;AACX,IAAAH,GAAE,GAAG,QAAQ,CAAAN,OAAK;AAChB,MAAAS,GAAE,KAAKT,GAAE,CAAC,GAAGA,GAAE,CAAC,CAAC;AAAA,IACnB,CAAC;AACD,UAAMU,KAAI,IAAIC,GAAE,KAAK,uBAAuB,CAAC,CAACX,GAAE,UAAU,IAAI,EAAEO,IAAGD,GAAE,iBAAiB,GAAG,IAAE,CAAC,GAAG,CAACN,GAAE,KAAK,IAAI,EAAES,IAAGH,GAAE,iBAAiB,GAAG,IAAE,CAAC,CAAC,CAAC;AAC3I,IAAAJ,IAAE,YAAYQ,EAAC;AAAA,EACjB;AACF;AACA,IAAML,KAAIG,GAAE;;;AC/DZ,IAAII,KAAI,cAAc,EAAE;AAAA,EACtB,IAAI,cAAc;AAChB,UAAM;AAAA,MACF,aAAaC;AAAA,MACb,WAAWC;AAAA,IACb,IAAI,KAAK,KAAK,gBACdC,KAAIC,GAAEH,EAAC,GACPI,KAAI,EAAEJ,IAAG,GAAE,GACXK,KAAI,EAAEC,GAAEN,EAAC,GAAG,GAAE,GACdO,KAAID,GAAEL,IAAGO,GAAE,GAAG;AAChB,WAAO;AAAA,MACL,aAAaN;AAAA,MACb,wBAAwBE;AAAA,MACxB,0BAA0BC;AAAA,MAC1B,uBAAuB,CAAC,GAAG,KAAI,GAAG,CAAC;AAAA,MACnC,WAAWJ;AAAA,MACX,qBAAqB,EAAEM,IAAG,GAAE;AAAA,MAC5B,kBAAkB,EAAEA,IAAG,GAAE;AAAA,MACzB,eAAe;AAAA,MACf,oBAAoB;AAAA,MACpB,qBAAqB;AAAA,MACrB,2BAA2B;AAAA,MAC3B,eAAe;AAAA,IACjB;AAAA,EACF;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,iBAAiB;AAAA,EAC/B;AAAA,EACA,IAAI,eAAe;AACjB,UAAMP,KAAI,KAAK,KAAK,mBAAmB;AACvC,WAAO,EAAEA,EAAC,KAAK;AAAA,EACjB;AAAA,EACA,IAAI,WAAW;AAAA,EAAC;AAAA,EAChB,YAAYA,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,QAAQ,MAAM,KAAK,mBAAmB,MAAM,KAAK,aAAa,MAAM,KAAK,wBAAwB,MAAM,KAAK,mBAAmB,MAAM,KAAK,mBAAmB,MAAM,KAAK,aAAa,MAAM,KAAK,wBAAwB,MAAM,KAAK,gBAAgB,CAAC,GAAG,KAAK,qBAAqB,CAAC,GAAG,KAAK,UAAUS,GAAE,GAAG,KAAK,mBAAmBT,GAAE,GAAG,KAAK,WAAW,MAAM,KAAK,WAAW,GAAG,KAAK,YAAY,MAAM,KAAK,uBAAuB,MAAM,KAAK,kBAAkB;AAAA,EAChd;AAAA,EACA,aAAa;AACX,UAAM;AAAA,MACJ,kBAAkBA;AAAA,MAClB,aAAaC;AAAA,MACb,MAAMS;AAAA,IACR,IAAI;AACJ,SAAK,QAAQ,IAAIC,GAAE;AAAA,MACjB,MAAMD;AAAA,MACN,UAAU;AAAA,MACV,OAAOT,GAAE;AAAA,MACT,eAAe;AAAA,MACf,gBAAgBW,GAAE;AAAA,MAClB,cAAc;AAAA,IAChB,CAAC,GAAG,KAAK,mBAAmB,IAAID,GAAE;AAAA,MAChC,MAAMD;AAAA,MACN,UAAU;AAAA,MACV,OAAOT,GAAE;AAAA,MACT,eAAe;AAAA,MACf,gBAAgBW,GAAE;AAAA,MAClB,cAAc;AAAA,IAChB,CAAC,GAAG,KAAK,aAAa,IAAID,GAAE;AAAA,MAC1B,MAAMD;AAAA,MACN,UAAU;AAAA,MACV,OAAOT,GAAE;AAAA,MACT,eAAe;AAAA,MACf,gBAAgBW,GAAE;AAAA,MAClB,cAAc;AAAA,IAChB,CAAC,GAAG,KAAK,wBAAwB,IAAID,GAAE;AAAA,MACrC,MAAMD;AAAA,MACN,UAAU;AAAA,MACV,OAAOT,GAAE;AAAA,MACT,OAAOA,GAAE;AAAA,MACT,eAAe;AAAA,MACf,gBAAgBW,GAAE;AAAA,MAClB,cAAc;AAAA,IAChB,CAAC,GAAG,KAAK,mBAAmB,IAAID,GAAE;AAAA,MAChC,MAAMD;AAAA,MACN,UAAU;AAAA,MACV,OAAOT,GAAE;AAAA,MACT,gBAAgBW,GAAEX,GAAE,yBAAyB;AAAA,MAC7C,eAAe;AAAA,MACf,gBAAgBW,GAAE;AAAA,MAClB,cAAc;AAAA,IAChB,CAAC,GAAG,KAAK,mBAAmB,IAAIC,GAAE;AAAA,MAChC,MAAMH;AAAA,MACN,UAAU;AAAA,MACV,cAAc;AAAA,IAChB,CAAC;AACD,UAAMI,KAAI;AAAA,MACR,UAAU;AAAA,MACV,MAAMJ;AAAA,MACN,cAAc;AAAA,IAChB;AACA,SAAK,aAAa,IAAIC,GAAE,iCACnBG,KADmB;AAAA,MAEtB,UAAUR,GAAE;AAAA,IACd,EAAC,GAAG,KAAK,wBAAwB,IAAIK,GAAE,iCAClCG,KADkC;AAAA,MAErC,UAAUR,GAAE;AAAA,IACd,EAAC,GAAG,KAAK,WAAW,CAAC,EAAE,MAAM,CAACN,GAAE,MAAM,KAAK,SAASA,GAAE,MAAMA,GAAE,iBAAiBA,GAAE,WAAW,GAAG,MAAM,KAAK,QAAQ,GAAG,CAAC,GAAG,EAAE,MAAMU,GAAE,OAAO,QAAQ,MAAM,KAAK,cAAc,GAAG,CAAC,GAAG,EAAE,MAAM,KAAK,qBAAqB,CAAC,GAAG,EAAE,MAAM,KAAK,aAAa,CAAC;AAAA,MACjP,aAAaV;AAAA,MACb,wBAAwBC;AAAA,MACxB,0BAA0BS;AAAA,MAC1B,WAAWI;AAAA,MACX,qBAAqBC;AAAA,MACrB,kBAAkBN;AAAA,IACpB,MAAM;AACJ,YAAM;AAAA,QACJ,OAAOO;AAAA,QACP,kBAAkBd;AAAA,QAClB,YAAYE;AAAA,QACZ,kBAAkBC;AAAA,QAClB,kBAAkBE;AAAA,QAClB,YAAYK;AAAA,QACZ,uBAAuBK;AAAA,MACzB,IAAI;AACJ,MAAAD,GAAE,QAAQhB,IAAGE,GAAE,QAAQF,IAAGI,GAAE,QAAQJ,IAAGK,GAAE,QAAQL,IAAGO,GAAE,SAASN,IAAGM,GAAE,SAASG,IAAGE,GAAE,YAAYE,IAAGF,GAAE,kBAAkBG,KAAGH,GAAE,eAAeH,IAAGQ,GAAE,YAAYH,IAAGG,GAAE,kBAAkBF,KAAGE,GAAE,eAAeR;AAAA,IACvM,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,qBAAqB;AAAA,EACrC;AAAA,EACA,UAAU;AACR,SAAK,mBAAmB,EAAE,KAAK,gBAAgB,GAAG,KAAK,QAAQ,EAAE,KAAK,KAAK,GAAG,KAAK,mBAAmB,EAAE,KAAK,gBAAgB,GAAG,KAAK,aAAa,EAAE,KAAK,UAAU,GAAG,KAAK,wBAAwB,EAAE,KAAK,qBAAqB,GAAG,KAAK,aAAa,EAAE,KAAK,UAAU,GAAG,KAAK,wBAAwB,EAAE,KAAK,qBAAqB,GAAG,KAAK,mBAAmB,EAAE,KAAK,gBAAgB,GAAG,KAAK,IAAI,QAAQ,IAAI;AAAA,EAC7Y;AAAA,EACA,UAAU;AACR,QAAI,KAAK,aAAa,CAAC,KAAK,KAAK,SAAS,CAAC,KAAK,KAAK,mBAAoB;AACzE,UAAM;AAAA,MACJ,kBAAkB;AAAA,QAChB,iBAAiBT;AAAA,MACnB;AAAA,MACA,kBAAkBC;AAAA,IACpB,IAAI;AACJ,YAAQD,OAAM,KAAK,gBAAgBA,IAAGC,GAAE,IAAI,GAAG,KAAK,cAAc,GAAG,KAAK,oBAAoB,GAAG,KAAK,yBAAyB,GAAG,KAAK,YAAY,GAAG,KAAK,uBAAuB,GAAG,KAAK,cAAc;AAAA,EAC1M;AAAA,EACA,gBAAgBD,IAAGC,IAAG;AACpB,UAAMS,KAAIV,GAAE,kBACVc,KAAI,eAAed,GAAE,uBACrBe,MAAID,KAAId,GAAE,eAAeA,GAAE;AAC7B,QAAIS,KAAI;AACR,QAAIM,KAAG;AACL,YAAMf,KAAIkB,GAAEH,KAAG,KAAK,iBAAiB,IAAI;AACzC,MAAAN,KAAI,EAAE,KAAK,KAAKT,GAAE,KAAK,IAAI,KAAK,KAAK,GAAG,CAAC,GAAGS,MAAK,KAAK,KAAK,EAAE,GAAGT,GAAE,MAAM,eAAe,CAAC,GAAGS,KAAI,EAAEA,IAAG,UAAU,KAAK,YAAY;AAAA,IACjI;AACA,UAAMO,KAAI;AAAA,MACR,kBAAkBN;AAAA,MAClB,aAAaV,GAAE;AAAA,MACf,iBAAiBA,GAAE;AAAA,MACnB,MAAMC;AAAA,MACN,MAAMD,GAAE;AAAA,MACR,iBAAiBA,GAAE;AAAA,MACnB,sBAAsBA,GAAE;AAAA,MACxB,uBAAuBA,GAAE;AAAA,MACzB,sBAAsBc,KAAId,GAAE,+BAA+BA,GAAE;AAAA,MAC7D,iBAAiBc,KAAId,GAAE,0BAA0BA,GAAE;AAAA,MACnD,cAAcc,KAAId,GAAE,mCAAmCA,GAAE;AAAA,MACzD,kCAAkC;AAAA,MAClC,MAAMc,KAAId,GAAE,eAAeA,GAAE;AAAA,MAC7B,YAAYc,KAAId,GAAE,qBAAqBA,GAAE;AAAA,MACzC,iBAAiBA,GAAE;AAAA,MACnB,aAAaS;AAAA,IACf;AACA,SAAK,KAAK,YAAYO,EAAC;AAAA,EACzB;AAAA,EACA,gBAAgB;AACd,UAAMhB,KAAI,KAAK;AACf,IAAAiB,GAAEjB,GAAE,iBAAiB,KAAK,OAAO,GAAG,EAAE,KAAK,kBAAkB,KAAK,OAAO,GAAG,KAAK,iBAAiB,YAAY,KAAK,kBAAkB,KAAK,iBAAiB,YAAY,KAAK;AAAA,EAC9K;AAAA,EACA,gBAAgBA,IAAG;AACjB,UAAMC,KAAI,KAAK,UACbS,KAAI,KAAK,KAAK,mBAAmB,kBACjCI,KAAIb,GAAE,MACNc,MAAI,CAAC,GACLN,KAAI,CAAC,GACLO,KAAI,CAAC,GACLd,KAAID,GAAE,aACNG,KAAIH,GAAE,mBAAmBC,KAAIA,KAAI;AACnC,aAASK,KAAI,GAAGA,KAAIH,IAAG,EAAEG,IAAG;AAC1B,YAAMH,KAAIH,GAAED,EAAC,EAAEO,EAAC,GACdF,KAAIJ,GAAED,EAAC,GAAGO,KAAI,KAAKL,EAAC;AACtB,UAAIU,KAAI;AACR,cAAQE,IAAG;AAAA,QACT,KAAK;AACH,UAAAF,KAAI,IAAIL,GAAEH,IAAGC,EAAC;AACd;AAAA,QACF,KAAK;AACH,UAAAO,KAAI,IAAIC,GAAET,IAAGC,IAAGK,EAAC;AAAA,MACrB;AACA,MAAAT,GAAE,qBAAqB,IAAIM,EAAC,IAAIS,GAAE,KAAKJ,EAAC,IAAIH,GAAE,KAAKG,EAAC,GAAGG,IAAE,KAAKH,EAAC;AAAA,IACjE;AACA,QAAIP,KAAI;AACR,WAAOJ,GAAE,oBAAoBA,GAAE,mBAAmBG,MAAK,IAAIC,KAAIU,IAAEA,IAAE,SAAS,CAAC,IAAId,GAAE,mBAAmBG,MAAK,MAAMC,KAAIU,IAAEA,IAAE,SAAS,CAAC,IAAI;AAAA,MACrI,KAAKA;AAAA,MACL,iBAAiBN;AAAA,MACjB,cAAcO;AAAA,MACd,eAAeX;AAAA,IACjB;AAAA,EACF;AAAA,EACA,sBAAsB;AACpB,UAAM;AAAA,MACF,SAASL;AAAA,IACX,IAAI,MACJC,KAAI,KAAK,gBAAgB,iBAAiB;AAC5C,SAAK,MAAM,wBAAwBA,GAAE,iBAAiB,KAAK,OAAO,GAAG,KAAK,MAAM,UAAUD,IAAG,KAAK,iBAAiB,wBAAwBC,GAAE,cAAc,KAAK,OAAO,GAAG,KAAK,iBAAiB,UAAUD,IAAG,KAAK,gBAAgBC,GAAE;AAAA,EACtO;AAAA,EACA,2BAA2B;AACzB,UAAMD,KAAI,KAAK,WAAW,gBAAgB,KAAK,SAAS,MACtDC,KAAI,KAAK,gBAAgB,uBAAuB;AAClD,SAAK,WAAW,wBAAwBA,GAAE,iBAAiB,KAAK,OAAO,GAAG,KAAK,WAAW,UAAUD,IAAG,KAAK,sBAAsB,wBAAwBC,GAAE,cAAc,KAAK,OAAO,GAAG,KAAK,sBAAsB,UAAUD,IAAG,KAAK,qBAAqBC,GAAE;AAAA,EAC/P;AAAA,EACA,cAAc;AACZ,UAAMD,KAAI,KAAK;AACf,YAAQA,GAAE,MAAM;AAAA,MACd,KAAK;AACH,aAAK,qBAAqBA,EAAC;AAC3B;AAAA,MACF,KAAK;AACH,aAAK,oBAAoB;AAAA,IAC7B;AAAA,EACF;AAAA,EACA,qBAAqBA,IAAG;AACtB,UAAMC,KAAI,KAAK;AACf,IAAAD,GAAE,oBAAoB,MAAMA,GAAE,qBAAqB,QAAQA,GAAE,mBAAmB,KAAK,iBAAiB,WAAW;AAAA,MAC/G,IAAIA,GAAE;AAAA,MACN,UAAUA,GAAE;AAAA,MACZ,iBAAiBA,GAAE;AAAA,IACrB,GAAG,KAAK,iBAAiB,OAAO,CAACA,GAAE,aAAaA,GAAE,WAAW,GAAG,KAAK,iBAAiB,UAAUC,MAAK,KAAK,iBAAiB,UAAU;AAAA,EACvI;AAAA,EACA,sBAAsB;AACpB,SAAK,iBAAiB,UAAU;AAAA,EAClC;AAAA,EACA,yBAAyB;AACvB,UAAMD,KAAI,KAAK,UACbC,KAAI,KAAK,SACTS,KAAIV,GAAE,MACNc,KAAId,GAAE;AACR,QAAIc,KAAI,KAAKd,GAAE,oBAAoB,gBAAgBU,IAAG;AACpD,YAAMA,KAAI,CAAC;AACX,eAAST,KAAI,GAAGA,KAAIa,IAAG,EAAEb,IAAG;AAC1B,cAAMa,KAAIL,GAAE;AACZ,QAAAT,GAAEc,IAAGd,GAAE,gBAAgBC,EAAC,GAAG,KAAK,OAAO;AACvC,cAAMc,MAAIN,GAAE;AACZ,QAAAT,GAAEe,KAAGf,GAAE,sBAAsBC,EAAC,GAAG,KAAK,OAAO,GAAGS,GAAE,KAAK,CAACI,IAAGC,GAAC,CAAC;AAAA,MAC/D;AACA,WAAK,iBAAiB,WAAWL,IAAG,KAAK,iBAAiB,UAAUT;AAAA,IACtE,MAAO,MAAK,iBAAiB,WAAW,MAAM,KAAK,iBAAiB,UAAU;AAAA,EAChF;AAAA,EACA,gBAAgB;AACd,QAAI,KAAK,UAAW;AACpB,UAAM;AAAA,MACF,UAAUD;AAAA,IACZ,IAAI,MACJ;AAAA,MACE,MAAMC;AAAA,MACN,MAAMS;AAAA,IACR,IAAIV;AACN,QAAI,CAACU,GAAG;AACR,UAAMI,KAAI,KAAK,SACbC,MAAII,GAAE,KAAK,UAAUlB,IAAG,KAAK,iBAAiB,IAAI;AACpD,QAAI,QAAQc,OAAK,KAAK,WAAW,WAAW;AAAA,MAC1C,MAAM;AAAA,MACN,OAAOf,GAAE;AAAA,IACX,GAAG,KAAK,WAAW,OAAOe,KAAG,KAAK,WAAW,UAAUf,GAAE,oBAAoB,MAAMA,GAAE,qBAAqB,QAAQc,MAAK,KAAK,WAAW,UAAU,OAAI,KAAK,KAAK,aAAaC,GAAC,GAAGf,GAAE,oBAAoB,MAAMA,GAAE,qBAAqB,MAAM;AACvO,YAAMC,KAAI,eAAeD,GAAE,QAAQ,CAACA,GAAE,kBACpCU,KAAIT,KAAID,GAAE,aAAaA,GAAE,iBACzBe,MAAI,EAAE,KAAK,UAAUL,IAAG,KAAK,iBAAiB,IAAI;AACpD,WAAK,KAAK,wBAAwBK,GAAC,GAAG,KAAK,sBAAsB,WAAW,KAAK,YAAY,eAAe,KAAK,sBAAsB,SAAS,OAAO,KAAK,sBAAsB,OAAOA,KAAG,KAAK,sBAAsB,UAAU;AACjO,UAAIN,KAAI;AACR,eAASK,KAAI,GAAGA,KAAId,GAAE,aAAa,EAAEc,IAAG;AACtC,cAAMJ,MAAKV,GAAE,mCAAmCc,MAAKd,GAAE,aACrDe,MAAId,KAAI,KAAK,cAAcS,EAAC,IAAI,KAAK,mBAAmBA,EAAC;AAC3D,YAAID,KAAI,MAAI,KAAK,sBAAsB,WAAW;AAAA,UAChD,MAAM;AAAA,UACN,SAASM;AAAA,UACT,gBAAgB;AAAA,QAClB,GAAG,CAAC,KAAK,sBAAsB,SAAS,KAAK,UAAU,EAAG;AAC1D,QAAAN,KAAI;AAAA,MACN;AACA,WAAK,sBAAsB,UAAUA,MAAKK;AAAA,IAC5C,MAAO,MAAK,sBAAsB,UAAU;AAAA,EAC9C;AAAA,EACA,uBAAuB;AACrB,SAAK,kBAAkB,MAAI,EAAE,qBAAqB,EAAE,KAAK,CAAAd,OAAK;AAC5D,WAAK,WAAWA,IAAG,KAAK,QAAQ,KAAK,QAAQ;AAAA,IAC/C,CAAC,EAAE,QAAQ,MAAM;AACf,WAAK,kBAAkB;AAAA,IACzB,CAAC;AAAA,EACH;AACF;AACA,SAASmB,GAAEnB,IAAGC,IAAGS,IAAG;AAClB,SAAOV,MAAKC,MAAKmB,GAAEpB,IAAGC,IAAG,EAAEA,IAAGS,EAAC,CAAC;AAClC;AACA,SAASQ,GAAElB,IAAGC,IAAG;AACf,SAAOa,GAAEd,IAAG,EAAEA,IAAGC,EAAC,CAAC;AACrB;AACA,SAAS,EAAED,IAAGC,IAAG;AACf,UAAQA,IAAG;AAAA,IACT,KAAK;AACH,aAAO,EAAED,GAAE,OAAOA,GAAE,IAAI;AAAA,IAC1B,KAAK;AACH,aAAOqB,GAAErB,GAAE,OAAOA,GAAE,IAAI;AAAA,IAC1B;AACE,aAAOC;AAAA,EACX;AACF;AACA,SAAS,EAAED,IAAGC,IAAGS,IAAG;AAClB,SAAOV,MAAKC,MAAKmB,GAAEpB,IAAGC,IAAG,EAAEA,IAAGS,EAAC,CAAC;AAClC;AACA,SAAS,EAAEV,IAAGC,IAAG;AACf,QAAMS,KAAIP,GAAEF,EAAC;AACb,UAAQS,IAAG;AAAA,IACT,KAAK;AACH,aAAO,EAAEV,GAAE,OAAOA,GAAE,IAAI;AAAA,IAC1B,KAAK;AACH,aAAO,EAAEA,GAAE,OAAOA,GAAE,IAAI;AAAA,IAC1B;AACE,aAAOU;AAAA,EACX;AACF;AACA,SAASP,GAAEH,IAAG;AACZ,UAAQA,IAAG;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,EACX;AACA,QAAM,IAAI,MAAM,qBAAqB;AACvC;AACA,IAAIM;AACJ,EAAE,CAAC,EAAE,CAAC,GAAGP,GAAE,WAAW,eAAe,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,oBAAoB,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC1Q,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,aAAa,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EAC3C,UAAU;AACZ,CAAC,CAAC,GAAGA,GAAE,WAAW,wBAAwB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,mBAAmB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,WAAW,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,gBAAgB,IAAI,GAAGA,KAAI,EAAE,CAAC,EAAE,6EAA6E,CAAC,GAAGA,EAAC,GAAG,SAAUC,IAAG;AACnS,EAAAA,GAAEA,GAAE,QAAQ,EAAE,IAAI,SAASA,GAAEA,GAAE,QAAQ,EAAE,IAAI;AAC/C,EAAEM,OAAMA,KAAI,CAAC,EAAE;AACf,IAAM,IAAI;AAAA,EACR,kBAAkB;AAAA,EAClB,aAAa;AAAA,EACb,iBAAiB;AAAA,EACjB,MAAM;AAAA,EACN,MAAM;AAAA,EACN,iBAAiB;AAAA,EACjB,sBAAsB;AAAA,EACtB,uBAAuB;AAAA,EACvB,sBAAsB;AAAA,EACtB,iBAAiB;AAAA,EACjB,cAAc;AAAA,EACd,kCAAkC;AAAA,EAClC,aAAa;AAAA,EACb,MAAM;AAAA,EACN,YAAY;AAAA,EACZ,iBAAiB;AACnB;;;AC/XA,IAAIgB,KAAI,cAAcC,GAAE,CAAC,EAAE;AAAA,EACzB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,OAAO,4BAA4B,KAAK,WAAW,MAAM,KAAK,kBAAkB,MAAM,KAAK,oBAAoB,MAAM,KAAK,cAAc,MAAM,KAAK,OAAOA,GAAE;AAAA,EAC7K;AAAA,EACA,aAAa;AACX,UAAM;AAAA,MACJ,UAAUA;AAAA,MACV,MAAMC;AAAA,IACR,IAAI;AACJ,SAAK,OAAO,IAAIC,GAAE;AAAA,MAChB,MAAMD;AAAA,MACN,iBAAiBD;AAAA,IACnB,CAAC,GAAG,KAAK,wBAAwB,IAAIG,GAAE;AAAA,MACrC,MAAMF;AAAA,MACN,UAAUD;AAAA,MACV,kBAAkB;AAAA,IACpB,CAAC,GAAG,KAAK,qBAAqB,IAAII,GAAE;AAAA,MAClC,MAAMH;AAAA,MACN,UAAUD;AAAA,MACV,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EACA,UAAU;AACR,SAAK,qBAAqB,EAAE,KAAK,kBAAkB,GAAG,KAAK,wBAAwB,EAAE,KAAK,qBAAqB,GAAG,KAAK,KAAK,QAAQ;AAAA,EACtI;AAAA,EACA,IAAI,WAAW;AACb,WAAO,CAAC,CAAC,KAAK,uBAAuB;AAAA,EACvC;AAAA,EACA,IAAI,SAAS;AACX,UAAM;AAAA,MACJ,iBAAiBA;AAAA,IACnB,IAAI;AACJ,WAAO,QAAQA,KAAI;AAAA,MACjB,MAAM;AAAA,MACN,MAAM;AAAA,MACN,WAAW;AAAA,IACb,IAAI,gBAAgBA,GAAE,wBAAwB;AAAA,MAC5C,MAAMA,GAAE;AAAA,MACR,WAAWA,GAAE;AAAA,MACb,MAAM;AAAA,IACR,IAAI;AAAA,MACF,MAAMA,GAAE;AAAA,MACR,WAAWA,GAAE;AAAA,MACb,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,sBAAsB;AAAA,EACpC;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,OAAO;AACT,WAAO,KAAK,SAAS,QAAQ,KAAK;AAAA,EACpC;AAAA,EACA,IAAI,WAAW;AAAA,EAAC;AAClB;AACA,EAAE,CAAC,EAAE;AAAA,EACH,UAAU;AACZ,CAAC,CAAC,GAAGF,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE;AAAA,EACtC,eAAe;AAAA,EACf,aAAa;AACf,CAAC,CAAC,GAAGA,GAAE,WAAW,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,YAAY,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,yBAAyB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,sBAAsB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,UAAU,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,mBAAmB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,YAAY,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,oBAAoB,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,qBAAqB,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,eAAe,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAGA,GAAE,WAAW,QAAQ,IAAI,GAAG,EAAE,CAAC,EAAEE,EAAC,CAAC,GAAGF,GAAE,WAAW,gBAAgB,MAAM,GAAGA,KAAI,EAAE,CAAC,EAAE,sDAAsD,CAAC,GAAGA,EAAC;AACzrB,IAAMO,KAAIP;",
  "names": ["f", "t", "a", "n", "p", "i", "u", "m", "e", "J", "e", "n", "_", "t", "l", "s", "i", "o", "r", "h", "a", "d", "g", "c", "p", "m", "u", "S", "C", "P", "K", "U", "f", "j", "R", "v", "n", "t", "J", "a", "e", "s", "g", "e", "t", "f", "r", "i", "E", "P", "o", "_", "a", "h", "r", "e", "t", "o", "a", "S", "b", "c", "f", "l", "s", "_", "g", "R", "r", "t", "o", "u", "e", "r", "m", "E", "t", "c", "f", "h", "_", "a", "e", "h", "r", "u", "t", "p", "s", "c", "n", "l", "d", "I", "F", "e", "t", "o", "E", "l", "c", "G", "m", "q", "n", "i", "f", "h", "_", "s", "r", "a", "d", "I", "z", "g", "A", "m", "s", "e", "t", "g", "F", "n", "y"]
}
