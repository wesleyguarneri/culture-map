{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { copy as e } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as s } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { VisualElement as r } from \"./VisualElement.js\";\nimport { Object3D as t } from \"../../webgl-engine/lib/Object3D.js\";\nimport { UpdatePolicy as i } from \"../../webgl-engine/lib/UpdatePolicy.js\";\nimport { WebGLLayer as o } from \"../../webgl-engine/lib/WebGLLayer.js\";\nclass a extends r {\n  constructor(e) {\n    super(e), this._resources = null, this._transform = s();\n  }\n  get object() {\n    return null != this._resources ? this._resources.object : null;\n  }\n  get transform() {\n    return this._transform;\n  }\n  set transform(s) {\n    e(this._transform, s), null != this._resources && (this._resources.object.transformation = this._transform);\n  }\n  recreate() {\n    this.attached && this.createResources();\n  }\n  recreateGeometry() {\n    if (null == this._resources) return;\n    const e = this._resources.object,\n      s = this.view._stage;\n    s.removeMany(e.geometries), e.removeAllGeometries(), this.createGeometries(e), e.visible = this.visible, s.addMany(e.geometries);\n  }\n  createResources() {\n    this.destroyResources();\n    const e = this.view._stage;\n    if (!e) return;\n    const s = new o(e, {\n        pickable: !1,\n        updatePolicy: i.SYNC\n      }),\n      r = new t({\n        castShadow: !1\n      });\n    r.transformation = this._transform, this.createExternalResources(), this.createGeometries(r), e.addMany(r.geometries), this.forEachExternalMaterial(s => e.add(s)), e.add(r), s.add(r), r.visible = this.visible, this._resources = {\n      layer: s,\n      object: r\n    };\n  }\n  destroyResources() {\n    const e = this.view._stage;\n    null != this._resources && e && (e.remove(this._resources.object), this._resources.layer.destroy(), this.forEachExternalMaterial(s => {\n      e.remove(s);\n    }), e.removeMany(this._resources.object.geometries), this._resources.object.dispose(), this.destroyExternalResources(), this._resources = null);\n  }\n  updateVisibility(e) {\n    null != this._resources && (this._resources.object.visible = e);\n  }\n}\nexport { a as Object3DVisualElement };"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAUA,IAAMA,KAAN,cAAgB,EAAE;AAAA,EAChB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,aAAa,MAAM,KAAK,aAAa,EAAE;AAAA,EACxD;AAAA,EACA,IAAI,SAAS;AACX,WAAO,QAAQ,KAAK,aAAa,KAAK,WAAW,SAAS;AAAA,EAC5D;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,UAAU,GAAG;AACf,MAAE,KAAK,YAAY,CAAC,GAAG,QAAQ,KAAK,eAAe,KAAK,WAAW,OAAO,iBAAiB,KAAK;AAAA,EAClG;AAAA,EACA,WAAW;AACT,SAAK,YAAY,KAAK,gBAAgB;AAAA,EACxC;AAAA,EACA,mBAAmB;AACjB,QAAI,QAAQ,KAAK,WAAY;AAC7B,UAAMA,KAAI,KAAK,WAAW,QACxB,IAAI,KAAK,KAAK;AAChB,MAAE,WAAWA,GAAE,UAAU,GAAGA,GAAE,oBAAoB,GAAG,KAAK,iBAAiBA,EAAC,GAAGA,GAAE,UAAU,KAAK,SAAS,EAAE,QAAQA,GAAE,UAAU;AAAA,EACjI;AAAA,EACA,kBAAkB;AAChB,SAAK,iBAAiB;AACtB,UAAMA,KAAI,KAAK,KAAK;AACpB,QAAI,CAACA,GAAG;AACR,UAAM,IAAI,IAAI,EAAEA,IAAG;AAAA,MACf,UAAU;AAAA,MACV,cAAc,EAAE;AAAA,IAClB,CAAC,GACD,IAAI,IAAI,EAAE;AAAA,MACR,YAAY;AAAA,IACd,CAAC;AACH,MAAE,iBAAiB,KAAK,YAAY,KAAK,wBAAwB,GAAG,KAAK,iBAAiB,CAAC,GAAGA,GAAE,QAAQ,EAAE,UAAU,GAAG,KAAK,wBAAwB,CAAAC,OAAKD,GAAE,IAAIC,EAAC,CAAC,GAAGD,GAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,KAAK,SAAS,KAAK,aAAa;AAAA,MAClO,OAAO;AAAA,MACP,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EACA,mBAAmB;AACjB,UAAMA,KAAI,KAAK,KAAK;AACpB,YAAQ,KAAK,cAAcA,OAAMA,GAAE,OAAO,KAAK,WAAW,MAAM,GAAG,KAAK,WAAW,MAAM,QAAQ,GAAG,KAAK,wBAAwB,OAAK;AACpI,MAAAA,GAAE,OAAO,CAAC;AAAA,IACZ,CAAC,GAAGA,GAAE,WAAW,KAAK,WAAW,OAAO,UAAU,GAAG,KAAK,WAAW,OAAO,QAAQ,GAAG,KAAK,yBAAyB,GAAG,KAAK,aAAa;AAAA,EAC5I;AAAA,EACA,iBAAiBA,IAAG;AAClB,YAAQ,KAAK,eAAe,KAAK,WAAW,OAAO,UAAUA;AAAA,EAC/D;AACF;",
  "names": ["a", "e", "s"]
}
