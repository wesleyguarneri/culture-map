import {
  E3 as E,
  I,
  b2,
  c
} from "./chunk-EGCRHOVQ.js";
import "./chunk-6PMC7Z2K.js";
import "./chunk-DABQKFI5.js";
import "./chunk-AMEKD7JM.js";
import "./chunk-ANZPTCB4.js";
import "./chunk-6562L2GA.js";
import "./chunk-SBTROJY3.js";
import "./chunk-ZUHJZKEM.js";
import "./chunk-B4EEJXBQ.js";
import "./chunk-TXBBE7ID.js";
import "./chunk-BB54E5CP.js";
import "./chunk-4DJIV2NV.js";
import "./chunk-CX4XTOUC.js";
import "./chunk-SXUHX735.js";
import "./chunk-Q77FSDLB.js";
import "./chunk-Y37SHKPH.js";
import "./chunk-T64NGWGJ.js";
import "./chunk-SRFJDSP2.js";
import "./chunk-RTZ7XMXL.js";
import "./chunk-EUVN3KSV.js";
import "./chunk-WBOVDU4O.js";
import "./chunk-TQYVLRAH.js";
import "./chunk-6A3XUATG.js";
import "./chunk-WX42XBL6.js";
import "./chunk-YZI2XBXY.js";
import "./chunk-WBUJP5OW.js";
import "./chunk-TVV62TZG.js";
import "./chunk-ZNDAVKXT.js";
import "./chunk-C2NHN5LF.js";
import "./chunk-OHXCVJMH.js";
import "./chunk-MD2IQSSQ.js";
import "./chunk-L3F4XA4B.js";
import "./chunk-2AV27Q4X.js";
import "./chunk-3HU4B6P4.js";
import "./chunk-5AUX2A3J.js";
import "./chunk-OUP4PSAG.js";
import "./chunk-WU7FVYT7.js";
import "./chunk-6V5NKLIC.js";
import "./chunk-CZQYBYHB.js";
import "./chunk-Q5ZRUB2Y.js";
import "./chunk-2XI572KI.js";
import "./chunk-R4P4UBKU.js";
import "./chunk-62WUYJJN.js";
import "./chunk-AWJPQWYU.js";
import "./chunk-JNWMZ6EJ.js";
import "./chunk-VS26W5Y5.js";
import "./chunk-LM2N2I5R.js";
import "./chunk-ZQ57XGAE.js";
import "./chunk-UXW277HY.js";
import "./chunk-OR5F5ACQ.js";
import "./chunk-E2WAKNLZ.js";
import "./chunk-Z3GMSC63.js";
import "./chunk-F35MWZH7.js";
import "./chunk-ED7UGR2X.js";
import "./chunk-YA5CTHMT.js";
import "./chunk-4QBFFLOC.js";
import "./chunk-O437BSYE.js";
import "./chunk-YZNT6QWD.js";
import "./chunk-C3UDKWXD.js";
import "./chunk-N3IR233K.js";
import "./chunk-DSMB46HB.js";
import "./chunk-Z4YAQ5JI.js";
import "./chunk-K2XCQKCC.js";
import "./chunk-AJS4B62I.js";
import "./chunk-S5EXT7FA.js";
import "./chunk-73Y7XDLH.js";
import "./chunk-OOGIXDXG.js";
import "./chunk-5453A3C5.js";
import "./chunk-AQJS6F3O.js";
import "./chunk-WUB6LJVL.js";
import "./chunk-QXSES7JX.js";
import "./chunk-5YIMTGEC.js";
import "./chunk-YPU2P4KO.js";
import "./chunk-UFVMJL32.js";
import "./chunk-B67FUUE5.js";
import "./chunk-ZE47C44H.js";
import "./chunk-5GIS2C3K.js";
import "./chunk-XCOHDMBF.js";
import "./chunk-ZR5BOILP.js";
import "./chunk-QCBC3RJX.js";
import "./chunk-6XGV55XZ.js";
import "./chunk-HOH445RO.js";
import "./chunk-63QCTVYB.js";
import "./chunk-ZWCV4HKG.js";
import "./chunk-N4KQPPPI.js";
import "./chunk-4OGGMTIH.js";
import "./chunk-NQVBBKAN.js";
import "./chunk-U74WRHVJ.js";
import "./chunk-TCPN7AEH.js";
import "./chunk-DY7FJHTG.js";
import "./chunk-Q4KYZS3X.js";
import "./chunk-KVKFHRJ3.js";
import "./chunk-VWML4J2J.js";
import "./chunk-JYODC3YQ.js";
import "./chunk-BQZBOYBD.js";
import "./chunk-TYQXPPSP.js";
import "./chunk-W2IRSMFY.js";
import "./chunk-TRSGUVSM.js";
import "./chunk-U3MA63JX.js";
import "./chunk-WYKKCLBI.js";
import "./chunk-PFMGJTQM.js";
import "./chunk-Q7SRMLJZ.js";
import "./chunk-PQ4T66BG.js";
import "./chunk-SWPHGZYB.js";
import "./chunk-DWASPXVI.js";
import "./chunk-TNWXOQKO.js";
import "./chunk-MAO5BVLA.js";
import "./chunk-T2S5VXNP.js";
import "./chunk-4U5GUJRA.js";
import "./chunk-7KRERHHR.js";
import "./chunk-T4AP6CTC.js";
import {
  d
} from "./chunk-HD65DNIO.js";
import "./chunk-4KWLMXIA.js";
import "./chunk-BIUXKPKA.js";
import "./chunk-N6TJI25E.js";
import "./chunk-634JLXD4.js";
import "./chunk-Y3EDGYWG.js";
import "./chunk-UF6JOUSJ.js";
import "./chunk-T5JGQSO3.js";
import "./chunk-CIW3KHOW.js";
import "./chunk-J55F4AC2.js";
import "./chunk-IQLBZKUD.js";
import "./chunk-7MZZCQ64.js";
import "./chunk-MIQZ6UDY.js";
import "./chunk-IMVP5ADD.js";
import "./chunk-H7WPOTQH.js";
import "./chunk-ZZEAVAVX.js";
import "./chunk-SJX5DIA7.js";
import "./chunk-6A7CWJED.js";
import "./chunk-LFKEQKEA.js";
import "./chunk-DUTZNK67.js";
import "./chunk-IN6BQCWS.js";
import "./chunk-MKJUISEU.js";
import "./chunk-CRNUMTSV.js";
import "./chunk-JM7HAEY6.js";
import "./chunk-YI35FRTC.js";
import "./chunk-LJEOBI2I.js";
import "./chunk-2OMCGIU4.js";
import "./chunk-DOK4SACJ.js";
import "./chunk-OUKUASAF.js";
import "./chunk-V5RMUGJJ.js";
import "./chunk-D2NB6D6N.js";
import "./chunk-UWJIHV6Q.js";
import "./chunk-ZUSCOMQM.js";
import "./chunk-DSEUCBVP.js";
import "./chunk-UPDWQH75.js";
import "./chunk-RXWBJSJ5.js";
import "./chunk-M2NS3MSU.js";
import "./chunk-HMNBB7ED.js";
import "./chunk-3RRMLFFN.js";
import "./chunk-DR5TVNEL.js";
import "./chunk-HT2T6PUB.js";
import "./chunk-K64AAM77.js";
import "./chunk-6EUVKE22.js";
import "./chunk-A3NNJ7XA.js";
import "./chunk-OKJHJ3CY.js";
import "./chunk-XTVPEVHA.js";
import "./chunk-DTUSTSEJ.js";
import "./chunk-JCWFGRHQ.js";
import "./chunk-JILEJ6R2.js";
import "./chunk-GAW5JHG4.js";
import "./chunk-OEKKQXBD.js";
import "./chunk-S3IO7V4Q.js";
import "./chunk-DZALMCYL.js";
import "./chunk-K226GFDN.js";
import "./chunk-4ZZRP4MA.js";
import "./chunk-7ZJ6P7J7.js";
import "./chunk-FPFZQCEQ.js";
import "./chunk-YVULORT6.js";
import "./chunk-PB33BAI3.js";
import "./chunk-CVB43GGP.js";
import "./chunk-EODIWR2E.js";
import "./chunk-LLDOZWVV.js";
import "./chunk-FYAEQPUY.js";
import "./chunk-7XMEZQ34.js";
import "./chunk-BDM2D6IC.js";
import "./chunk-U2ZVAEKG.js";
import "./chunk-EDSMXTFO.js";
import "./chunk-MNLT652N.js";
import "./chunk-OGZAGPIO.js";
import "./chunk-HJJIIYFF.js";
import "./chunk-7RMVJCDW.js";
import {
  j
} from "./chunk-T6GCUITX.js";
import "./chunk-TUIGM7TV.js";
import "./chunk-IHVSZYZS.js";
import "./chunk-6CA6K3O7.js";
import "./chunk-NYQ5CYNR.js";
import "./chunk-O7UDKFOW.js";
import "./chunk-TKPMIAIW.js";
import "./chunk-NQOJNTB3.js";
import "./chunk-MFOQYQFG.js";
import "./chunk-NKCPFCP3.js";
import "./chunk-3ZXOUEQG.js";
import "./chunk-AXVPJBVW.js";
import "./chunk-OXEPWRM7.js";
import "./chunk-POILQGXA.js";
import "./chunk-JJS7PR2U.js";
import "./chunk-L5YS4GSA.js";
import "./chunk-PRREDSOB.js";
import "./chunk-V5C6HSAM.js";
import "./chunk-SYATLP3H.js";
import "./chunk-V6AMQYXE.js";
import "./chunk-6WHTZNUH.js";
import "./chunk-EITGQLII.js";
import "./chunk-TIVJXVMN.js";
import "./chunk-XNUH25NY.js";
import "./chunk-WGAPNV7F.js";
import "./chunk-BXQGM56A.js";
import "./chunk-4Z5SGKRM.js";
import "./chunk-ANKOCGE2.js";
import "./chunk-7CJXZOFG.js";
import "./chunk-IRGZKO7V.js";
import "./chunk-5SELS7VU.js";
import "./chunk-DDYVXG4F.js";
import "./chunk-ANP42J2U.js";
import {
  D,
  b,
  s
} from "./chunk-HJY2YILU.js";
import "./chunk-7DA6A5LD.js";
import "./chunk-2MMLMOWS.js";
import "./chunk-4323ZVPF.js";
import {
  n2 as n
} from "./chunk-WYIDUUN2.js";
import {
  O
} from "./chunk-DXLOWWK7.js";
import {
  __async
} from "./chunk-JWIQHGQB.js";

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer/adapters/OrientedImageryViewerViewModelAdapter2D.js
var p = class {
  constructor(p2) {
    this.viewModel = p2, this.createFootprints = (t) => __async(this, null, function* () {
      yield D(t);
      const {
        coveragePolygons: i,
        currentBestFeature: r,
        isAdditionalCoverageVisible: s2
      } = this.viewModel;
      for (const o of i) o?.imageID === r.attributes.objectId ? this.viewModel.bestFeatureFootprint = new d({
        attributes: {
          imageID: o?.imageID
        },
        geometry: o,
        symbol: c,
        visible: false
      }) : this.viewModel.additionalFootprints.push(new d({
        attributes: {
          imageID: o?.imageID
        },
        geometry: o,
        symbol: b2.clone(),
        visible: s2
      }));
    }), this.updateFootprint = (o, n2) => __async(this, null, function* () {
      const {
        activeViewer: m,
        currentBestFeature: p3,
        currentCoverageVisible: g,
        footprintExtent: u
      } = this.viewModel, f = m?.imageSize;
      if (p3 && f && u) try {
        const i = yield E(o, {
          feature: p3,
          imageProperties: {
            width: f[0],
            height: f[1]
          },
          options: n2,
          footprintExtent: u
        });
        s(n2);
        const s2 = i.filter(O);
        if (!s2.length) return;
        const m2 = [s2.map(({
          x: e,
          y: t
        }) => [e, t, 1])];
        m2[0].push(m2[0][0]);
        const d2 = new j({
          rings: m2,
          spatialReference: s2[0].spatialReference
        });
        this.viewModel.updateCurrentCoveragePolygon(new d({
          geometry: d2,
          attributes: {
            imageID: p3.attributes.objectId
          },
          symbol: c,
          visible: g
        }));
      } catch (d2) {
        b(d2) || n.getLogger(this.viewModel).error("update-footprint", d2);
      }
    }), this.updateFootprintPanorama = (t, i) => __async(this, null, function* () {
      const {
        horizontalFieldOfView: o,
        pitch: s2,
        verticalFieldOfView: m,
        yaw: p3
      } = t, {
        activeViewer: g,
        currentBestFeature: u,
        currentCoverageVisible: f,
        footprintExtent: d2
      } = this.viewModel, h = g?.imageSize;
      if (!u || !h || !d2) return;
      const {
        cameraPitch: y,
        objectId: w
      } = u.attributes;
      if (s2 + y - m / 2 > 180) return void this.viewModel.updateCurrentCoveragePolygon(null);
      let v = [];
      if (s2 + y + m / 2 < 180) {
        v = [[-o / 2, m / 2], [o / 2, m / 2], ...s2 - m / 2 < 0 ? [[-o / 2, -m / 2], [o / 2, -m / 2]] : [[o / 2, -m / 2], [-o / 2, -m / 2]]];
      } else if (s2 + y - m / 2 < 180 && s2 + y + m / 2 > 180) {
        v = [[-o / 2, -m / 2]];
        const e = Math.floor(o / 6), t2 = o / e;
        for (let i2 = 0; i2 <= e; i2++) v.push([i2 * t2 - o / 2, 90 - s2]);
        v.push([o / 2, -m / 2]);
      }
      const b3 = v.map(([e, t2]) => I(p3 + e, s2 + t2, h[0], h[1])), j2 = yield E(b3, {
        feature: u,
        imageProperties: {
          width: h[0],
          height: h[1]
        },
        options: i,
        footprintExtent: d2
      });
      s(i);
      const I2 = [j2.map(({
        x: e,
        y: t2
      }) => [e, t2, 1])];
      I2[0].push(I2[0][0]);
      const F = new j({
        rings: I2,
        spatialReference: j2[0].spatialReference
      });
      this.viewModel.updateCurrentCoveragePolygon(new d({
        geometry: F,
        attributes: {
          imageID: w
        },
        symbol: c.clone(),
        visible: f
      }));
    });
  }
};
export {
  p as default
};
//# sourceMappingURL=OrientedImageryViewerViewModelAdapter2D-2KHFBVGG.js.map
