{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/IntegratedMeshLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport r from \"../../../Graphic.js\";\nimport has from \"../../../core/has.js\";\nimport { initial as t } from \"../../../core/reactiveUtils.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { I3SMeshView3D as o } from \"./I3SMeshView3D.js\";\nimport { DrapeTargetType as a } from \"./interfaces.js\";\nimport { LayerView3D as n } from \"./LayerView3D.js\";\nimport { updatingProgress as l } from \"../support/updatingProperties.js\";\nimport p from \"../../layers/LayerView.js\";\nimport { isInEffectiveScaleRange as d } from \"../../support/layerViewUtils.js\";\nconst c = .2;\nlet m = class extends o(n(p)) {\n  constructor() {\n    super(...arguments), this.type = \"integrated-mesh-3d\", this._elevationContext = \"im\", this._isIntegratedMesh = !0, this._supportsLabeling = !1, this._needsNormals = !has(\"disable-feature:im-shading\"), this.drapeTargetType = a.WithoutRasterImage;\n  }\n  get i3slayer() {\n    return this.layer;\n  }\n  get updatingProgressValue() {\n    return this._controller?.updatingProgress ?? 0;\n  }\n  get lodFactor() {\n    return this.view?.qualitySettings?.sceneService?.integratedMesh?.lodFactor ?? 1;\n  }\n  get progressiveLoadFactor() {\n    return this.lodFactor >= 1 ? c : 1;\n  }\n  get visibleAtCurrentScale() {\n    return d(this.i3slayer.effectiveScaleRange, this.view.terrainScale);\n  }\n  get layerPopupEnabledAndHasTemplate() {\n    return !1;\n  }\n  initialize() {\n    this._updatingHandles.add(() => this.layer.modifications, () => this._loadModifications(), t), this.view.basemapTerrain.overlayManager.registerDrapeTarget(this);\n  }\n  destroy() {\n    this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this);\n  }\n  _createLayerGraphic() {\n    return new r({\n      layer: this.layer,\n      sourceLayer: this.layer\n    });\n  }\n  canResume() {\n    return super.canResume() && (!this._controller || this._controller.rootNodeVisible);\n  }\n  _loadModifications() {\n    if (this.removeHandles(\"modifications\"), null == this.layer.modifications) return void (this._modifications = []);\n    const e = this.layer.modifications;\n    this.addHandles(this._updatingHandles.addOnCollectionChange(() => e, () => this._modifications = e.toArray(), t), \"modifications\");\n  }\n};\ne([i()], m.prototype, \"layer\", void 0), e([i()], m.prototype, \"i3slayer\", null), e([i(l)], m.prototype, \"updatingProgress\", void 0), e([i()], m.prototype, \"updatingProgressValue\", null), e([i()], m.prototype, \"lodFactor\", null), e([i({\n  readOnly: !0\n})], m.prototype, \"progressiveLoadFactor\", null), e([i({\n  readOnly: !0\n})], m.prototype, \"visibleAtCurrentScale\", null), m = e([s(\"esri.views.3d.layers.IntegratedMeshLayerView3D\")], m);\nconst u = m;\nexport { u as default };"],
  "mappings": "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",
  "names": ["c", "y", "t", "e"]
}
