{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/LineOfSightLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"../../../chunks/tslib.es6.js\";\nimport { createTask as i } from \"../../../core/asyncUtils.js\";\nimport e from \"../../../core/Error.js\";\nimport { destroyMaybe as a, abortMaybe as t } from \"../../../core/maybe.js\";\nimport { isAborted as r } from \"../../../core/promiseUtils.js\";\nimport { watch as n, syncAndInitial as l } from \"../../../core/reactiveUtils.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport { subclass as y } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { LayerView3D as w } from \"./LayerView3D.js\";\nimport h from \"../../layers/LayerView.js\";\nconst c = \"analysis-view-handles\";\nlet p = class extends w(h) {\n  constructor(s) {\n    super(s), this.type = \"line-of-sight-3d\", this._analysisModule = null;\n  }\n  initialize() {\n    this.addHandles(n(() => this.layer.analysis, s => {\n      this._destroyAnalysisView(), null != s && this._createAnalysisView(s);\n    }, l), c);\n  }\n  destroy() {\n    this.removeHandles(c), this._destroyAnalysisView();\n  }\n  async whenAnalysisView() {\n    if (null != this.analysisView) return this.analysisView;\n    if (null != this._createAnalysisViewTask) return this._createAnalysisViewTask.promise;\n    throw new e(\"layerview:no-analysisview-for-analysis\", \"The analysis has not been set on the LineOfSightLayer of this layer view\");\n  }\n  isUpdating() {\n    return null != this._createAnalysisViewTask || null != this.analysisView && this.analysisView.updating;\n  }\n  _createAnalysisView(s) {\n    const e = i(async i => (this.analysisView = await this._createAnalysisViewPromise(s, i), this._createAnalysisViewTask === e && (this._createAnalysisViewTask = null), this.analysisView));\n    this._createAnalysisViewTask = e;\n  }\n  _destroyAnalysisView() {\n    this.analysisView = a(this.analysisView), this._createAnalysisViewTask = t(this._createAnalysisViewTask);\n  }\n  async _createAnalysisViewPromise(s, i) {\n    let a = this._analysisModule;\n    if (null == a) {\n      const s = await this._loadAnalysisModule();\n      this._analysisModule = s, a = s;\n    }\n    const t = new a.default({\n      analysis: s,\n      view: this.view,\n      parent: this\n    });\n    if (await t.when(), r(i)) throw t.destroy(), new e(\"layerview:no-analysisview-for-analysis\", \"The analysis has not been added to the LineOfSightLayer of this layer view\", {\n      analysis: s\n    });\n    return t;\n  }\n  _loadAnalysisModule() {\n    return import(\"../analysis/LineOfSightAnalysisView3D.js\");\n  }\n};\ns([o()], p.prototype, \"type\", void 0), s([o()], p.prototype, \"layer\", void 0), s([o()], p.prototype, \"analysisView\", void 0), s([o()], p.prototype, \"_createAnalysisViewTask\", void 0), p = s([y(\"esri.views.3d.layers.LineOfSightLayerView3D\")], p);\nconst d = p;\nexport { d as default };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcA,IAAMA,KAAI;AACV,IAAI,IAAI,cAAc,EAAEC,EAAC,EAAE;AAAA,EACzB,YAAYC,IAAG;AACb,UAAMA,EAAC,GAAG,KAAK,OAAO,oBAAoB,KAAK,kBAAkB;AAAA,EACnE;AAAA,EACA,aAAa;AACX,SAAK,WAAWC,GAAE,MAAM,KAAK,MAAM,UAAU,CAAAD,OAAK;AAChD,WAAK,qBAAqB,GAAG,QAAQA,MAAK,KAAK,oBAAoBA,EAAC;AAAA,IACtE,GAAG,CAAC,GAAGF,EAAC;AAAA,EACV;AAAA,EACA,UAAU;AACR,SAAK,cAAcA,EAAC,GAAG,KAAK,qBAAqB;AAAA,EACnD;AAAA,EACM,mBAAmB;AAAA;AACvB,UAAI,QAAQ,KAAK,aAAc,QAAO,KAAK;AAC3C,UAAI,QAAQ,KAAK,wBAAyB,QAAO,KAAK,wBAAwB;AAC9E,YAAM,IAAI,EAAE,0CAA0C,0EAA0E;AAAA,IAClI;AAAA;AAAA,EACA,aAAa;AACX,WAAO,QAAQ,KAAK,2BAA2B,QAAQ,KAAK,gBAAgB,KAAK,aAAa;AAAA,EAChG;AAAA,EACA,oBAAoBE,IAAG;AACrB,UAAME,KAAI,EAAE,CAAM,MAAE;AAAI,kBAAK,eAAe,MAAM,KAAK,2BAA2BF,IAAG,CAAC,GAAG,KAAK,4BAA4BE,OAAM,KAAK,0BAA0B,OAAO,KAAK;AAAA,MAAa;AACxL,SAAK,0BAA0BA;AAAA,EACjC;AAAA,EACA,uBAAuB;AACrB,SAAK,eAAe,EAAE,KAAK,YAAY,GAAG,KAAK,0BAA0B,EAAE,KAAK,uBAAuB;AAAA,EACzG;AAAA,EACM,2BAA2BF,IAAG,GAAG;AAAA;AACrC,UAAIG,KAAI,KAAK;AACb,UAAI,QAAQA,IAAG;AACb,cAAMH,KAAI,MAAM,KAAK,oBAAoB;AACzC,aAAK,kBAAkBA,IAAGG,KAAIH;AAAA,MAChC;AACA,YAAM,IAAI,IAAIG,GAAE,QAAQ;AAAA,QACtB,UAAUH;AAAA,QACV,MAAM,KAAK;AAAA,QACX,QAAQ;AAAA,MACV,CAAC;AACD,UAAI,MAAM,EAAE,KAAK,GAAG,EAAE,CAAC,EAAG,OAAM,EAAE,QAAQ,GAAG,IAAI,EAAE,0CAA0C,8EAA8E;AAAA,QACzK,UAAUA;AAAA,MACZ,CAAC;AACD,aAAO;AAAA,IACT;AAAA;AAAA,EACA,sBAAsB;AACpB,WAAO,OAAO,yCAA0C;AAAA,EAC1D;AACF;AACAE,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,QAAQ,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,SAAS,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,gBAAgB,MAAM,GAAGA,GAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,2BAA2B,MAAM,GAAG,IAAIA,GAAE,CAAC,EAAE,6CAA6C,CAAC,GAAG,CAAC;AACnP,IAAMD,KAAI;",
  "names": ["c", "y", "s", "d", "e", "a"]
}
