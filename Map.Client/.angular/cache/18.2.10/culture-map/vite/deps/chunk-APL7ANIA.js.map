{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/webdoc/support/saveUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nasync function r(e) {\n  const r = [];\n  for (const o of e.allLayers) if (\"beforeSave\" in o && \"function\" == typeof o.beforeSave) {\n    const e = o.beforeSave();\n    e && r.push(e);\n  }\n  await Promise.allSettled(r);\n}\nconst o = new Set([\"layer:unsupported\", \"property:unsupported\", \"symbol:unsupported\", \"symbol-layer:unsupported\", \"url:unsupported\"]);\nfunction t(r, t, n) {\n  let s = (r.messages ?? []).filter(({\n    type: e\n  }) => \"error\" === e).map(({\n    name: r,\n    message: o,\n    details: t\n  }) => new e(r, o, t));\n  if (r.blockedRelativeUrls && (s = s.concat(r.blockedRelativeUrls.map(r => new e(\"url:unsupported\", `Relative url '${r}' is not supported`)))), n) {\n    const {\n      ignoreUnsupported: e,\n      supplementalUnsupportedErrors: r = [],\n      requiredPropertyChecksDisabled: t\n    } = n;\n    e && (s = s.filter(({\n      name: e\n    }) => !(o.has(e) || r.includes(e)))), t && (s = s.filter(e => \"web-document-write:property-required\" !== e.name));\n  }\n  if (s.length > 0) throw new e(t.errorName, \"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\", {\n    errors: s\n  });\n}\nexport { r as beforeSave, t as evaluateWriteErrors };"],
  "mappings": ";;;;;;;;AAKA,SAAe,EAAE,GAAG;AAAA;AAClB,UAAMA,KAAI,CAAC;AACX,eAAWC,MAAK,EAAE,UAAW,KAAI,gBAAgBA,MAAK,cAAc,OAAOA,GAAE,YAAY;AACvF,YAAMC,KAAID,GAAE,WAAW;AACvB,MAAAC,MAAKF,GAAE,KAAKE,EAAC;AAAA,IACf;AACA,UAAM,QAAQ,WAAWF,EAAC;AAAA,EAC5B;AAAA;AACA,IAAM,IAAI,oBAAI,IAAI,CAAC,qBAAqB,wBAAwB,sBAAsB,4BAA4B,iBAAiB,CAAC;AACpI,SAAS,EAAEA,IAAGG,IAAG,GAAG;AAClB,MAAIC,MAAKJ,GAAE,YAAY,CAAC,GAAG,OAAO,CAAC;AAAA,IACjC,MAAM;AAAA,EACR,MAAM,YAAY,CAAC,EAAE,IAAI,CAAC;AAAA,IACxB,MAAMA;AAAA,IACN,SAASC;AAAA,IACT,SAASE;AAAA,EACX,MAAM,IAAI,EAAEH,IAAGC,IAAGE,EAAC,CAAC;AACpB,MAAIH,GAAE,wBAAwBI,KAAIA,GAAE,OAAOJ,GAAE,oBAAoB,IAAI,CAAAA,OAAK,IAAI,EAAE,mBAAmB,iBAAiBA,EAAC,oBAAoB,CAAC,CAAC,IAAI,GAAG;AAChJ,UAAM;AAAA,MACJ,mBAAmB;AAAA,MACnB,+BAA+BA,KAAI,CAAC;AAAA,MACpC,gCAAgCG;AAAA,IAClC,IAAI;AACJ,UAAMC,KAAIA,GAAE,OAAO,CAAC;AAAA,MAClB,MAAMF;AAAA,IACR,MAAM,EAAE,EAAE,IAAIA,EAAC,KAAKF,GAAE,SAASE,EAAC,EAAE,IAAIC,OAAMC,KAAIA,GAAE,OAAO,CAAAF,OAAK,2CAA2CA,GAAE,IAAI;AAAA,EACjH;AACA,MAAIE,GAAE,SAAS,EAAG,OAAM,IAAI,EAAED,GAAE,WAAW,4GAA4G;AAAA,IACrJ,QAAQC;AAAA,EACV,CAAC;AACH;",
  "names": ["r", "o", "e", "t", "s"]
}
