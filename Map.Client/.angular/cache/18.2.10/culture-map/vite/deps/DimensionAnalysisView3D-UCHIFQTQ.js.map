{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/lengthDimensionUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/DimensionController.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/settings.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/lengthDimensionManipulatorUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/lengthDimensionConstraintUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionSubTool.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/DimensionTool.js", "../../../../../../node_modules/@arcgis/core/views/3d/interactive/visualElements/MarkerVisualElement.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionVisualization.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/DimensionVisualization.js", "../../../../../../node_modules/@arcgis/core/views/analysis/LengthDimensionResult.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/Dimension/LengthDimensionComputation.js", "../../../../../../node_modules/@arcgis/core/views/analysis/DimensionAnalysisView.js", "../../../../../../node_modules/@arcgis/core/views/3d/analysis/DimensionAnalysisView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { LengthDimensionMeasureType as e } from \"../../../../analysis/dimensionUtils.js\";\nimport { deg2rad as t } from \"../../../../core/mathUtils.js\";\nimport { toUnit as n } from \"../../../../core/quantityUtils.js\";\nimport { adaptiveVerticalLengthUnit as r, adaptiveLengthUnit as i } from \"../../../../core/unitUtils.js\";\nimport { fromRotation as o } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as a } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { c as s, r as d, z as l, G as c, m, w as u, h as p, b as S, n as g, q as f } from \"../../../../chunks/vec32.js\";\nimport { create as v, ZEROS as R } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { Axis as A } from \"../../../../geometry/support/Axis.js\";\nimport { sv3d as P } from \"../../../../geometry/support/vectorStacks.js\";\nimport { makeDehydratedPoint as y } from \"../../../../layers/graphics/dehydratedPoint.js\";\nimport { clonePoint as E } from \"../../../../layers/graphics/hydratedFeatures.js\";\nimport { EuclideanSegment as j } from \"../../interactive/visualElements/support/Segment.js\";\nimport { autoDistanceBetweenPoints2D as x } from \"../../../support/automaticLengthMeasurementUtils.js\";\nimport { euclideanDirectDistance as h, euclideanDirectDistanceBetweenPoints as H } from \"../../../support/euclideanLengthMeasurementUtils.js\";\nimport { geodesicDistanceThreshold as T } from \"../../../support/geodesicMeasurementUtils.js\";\nfunction w(t, o, a) {\n  if (null == t) return null;\n  let s;\n  if (o === e.Horizontal) s = x(t.elevationAlignedStartPoint, t.elevationAlignedEndPoint);else {\n    const {\n      startRenderSpace: e,\n      endRenderSpace: n\n    } = t.dimensionSegment;\n    s = h(e, n, t.spatialReference);\n  }\n  if (null == s) return null;\n  const d = o === e.Vertical ? r(s.value, s.unit, a) : i(s.value, s.unit, a);\n  return n(s, d);\n}\nfunction z(e) {\n  const {\n    elevationAlignedStartPoint: t,\n    elevationAlignedEndPoint: n,\n    dimension: {\n      offset: r,\n      measureType: i,\n      orientation: o\n    }\n  } = e;\n  return {\n    elevationAlignedStartPoint: t,\n    elevationAlignedEndPoint: n,\n    offset: r,\n    measureType: i,\n    orientation: o\n  };\n}\nfunction C({\n  elevationAlignedStartPoint: t,\n  elevationAlignedEndPoint: n,\n  offset: r,\n  measureType: i,\n  orientation: o\n}, a, d = null) {\n  if (null == t || null == n) return null;\n  const l = V(d?.directSegment ?? new j(), {\n      elevationAlignedStartPoint: t,\n      elevationAlignedEndPoint: n\n    }, a),\n    c = d?.primaryOffsetAxis ?? v();\n  B(c, {\n    measureType: i,\n    elevationAlignedStartPoint: t,\n    elevationAlignedEndPoint: n,\n    directSegment: l,\n    orientation: o,\n    renderCoordsHelper: a\n  });\n  const m = d?.dimensionSegment ?? new j();\n  return G({\n    elevationAlignedStartPoint: t,\n    elevationAlignedEndPoint: n\n  }) && i === e.Vertical ? (s(m.startRenderSpace, l.startRenderSpace), s(m.endRenderSpace, l.endRenderSpace)) : Y(m, {\n    offsetAxis: c,\n    offset: r,\n    relativeToSegment: l,\n    renderCoordsHelper: a\n  }), {\n    elevationAlignedStartPoint: t,\n    elevationAlignedEndPoint: n,\n    directSegment: l,\n    dimensionSegment: m,\n    primaryOffsetAxis: c,\n    spatialReference: a.spatialReference\n  };\n}\nfunction U(e, t, n, r) {\n  return t === b.Start ? (s(e.startRenderSpace, n.startRenderSpace), s(e.endRenderSpace, r.startRenderSpace)) : (s(e.startRenderSpace, n.endRenderSpace), s(e.endRenderSpace, r.endRenderSpace)), e;\n}\nvar b;\nfunction M(e, t, n, r) {\n  d(e.startRenderSpace, t.startRenderSpace, n, r), d(e.endRenderSpace, t.endRenderSpace, n, r);\n}\nfunction k(t, n, r, i) {\n  switch (n) {\n    case e.Direct:\n      return V(t, r, i);\n    case e.Horizontal:\n    case e.Vertical:\n      {\n        const {\n          elevationAlignedStartPoint: o,\n          elevationAlignedEndPoint: a,\n          dimension: s,\n          geometry: d\n        } = r;\n        let l;\n        if (s.measureType === e.Direct) {\n          l = D(d, i) === o.z > a.z, n === e.Horizontal && (l = !l);\n        } else l = !O(d);\n        const [c, m] = l ? [o, a] : [a, o],\n          u = E(m, q);\n        return n === e.Horizontal ? u.z = c.z : (u.x = c.x, u.y = c.y), i.toRenderCoords(c, t.startRenderSpace), i.toRenderCoords(u, t.endRenderSpace), t;\n      }\n  }\n}\nfunction V(e, t, n) {\n  return n.toRenderCoords(t.elevationAlignedStartPoint, e.startRenderSpace), n.toRenderCoords(t.elevationAlignedEndPoint, e.endRenderSpace), e;\n}\nfunction D(e, t) {\n  const n = e.directSegment.eval(.5, P.get()),\n    r = t.worldUpAtPosition(n, P.get()),\n    i = e.dimensionSegment.eval(.5, P.get()),\n    o = l(P.get(), i, n);\n  return !c(o, R) && m(o, r) > 0;\n}\nfunction O(e) {\n  const {\n      startRenderSpace: t,\n      endRenderSpace: n\n    } = e.dimensionSegment,\n    {\n      startRenderSpace: r,\n      endRenderSpace: i\n    } = e.directSegment;\n  return u(r, t) < u(i, n);\n}\n!function (e) {\n  e[e.Start = 0] = \"Start\", e[e.End = 1] = \"End\";\n}(b || (b = {}));\nconst q = y(0, 0, 0, null);\nfunction I(e, t, n, r) {\n  const {\n      directSegment: i\n    } = n,\n    o = B(P.get(), {\n      measureType: t,\n      directSegment: i,\n      renderCoordsHelper: r\n    }),\n    a = Y(L, {\n      offsetAxis: o,\n      offset: 0,\n      relativeToSegment: i,\n      renderCoordsHelper: r\n    }).eval(.5, P.get()),\n    s = l(P.get(), e, a);\n  return m(s, o) * r.unitInMeters;\n}\nconst L = new j();\nfunction B(n, r) {\n  const {\n      measureType: i,\n      elevationAlignedStartPoint: a,\n      elevationAlignedEndPoint: d,\n      directSegment: {\n        startRenderSpace: u,\n        endRenderSpace: f\n      },\n      directSegment: v,\n      renderCoordsHelper: y\n    } = r,\n    E = v.eval(.5, P.get()),\n    j = y.worldUpAtPosition(E, P.get()),\n    x = y.worldBasisAtPosition(E, A.Y, P.get());\n  switch (i) {\n    case e.Horizontal:\n      s(n, j);\n      break;\n    case e.Vertical:\n      m(u, j) < m(f, j) ? l(n, f, u) : l(n, u, f), S(n, n, j), S(n, n, j);\n      break;\n    case e.Direct:\n      {\n        const e = r.orientation ?? 0;\n        if (G({\n          elevationAlignedStartPoint: a,\n          elevationAlignedEndPoint: d\n        })) o(F, -t(e), j), p(n, x, F);else {\n          const r = l(P.get(), f, u),\n            i = S(P.get(), r, j);\n          S(i, i, r), o(F, t(e), r), p(n, i, F);\n        }\n        break;\n      }\n  }\n  return c(n, R) ? s(n, x) : g(n, n);\n}\nconst F = a();\nfunction G({\n  elevationAlignedStartPoint: e,\n  elevationAlignedEndPoint: t\n}) {\n  return null != e && null != t && e.x === t.x && e.y === t.y;\n}\nfunction Y(e, t) {\n  const {\n      offsetAxis: n,\n      offset: r,\n      relativeToSegment: {\n        startRenderSpace: i,\n        endRenderSpace: o\n      },\n      relativeToSegment: a,\n      renderCoordsHelper: s\n    } = t,\n    l = r / s.unitInMeters,\n    [c, m] = J(i, o, n, l);\n  return d(e.startRenderSpace, a.startRenderSpace, n, c), d(e.endRenderSpace, a.endRenderSpace, n, m), e;\n}\nfunction J(e, t, n, r = 0) {\n  const i = m(t, n),\n    o = m(e, n),\n    a = Math.abs(i - o) + r;\n  return i > o ? [a, r] : [r, a];\n}\nfunction K(e, t, n) {\n  const r = t.directSegment.eval(.5, P.get());\n  return n.worldUpAtPosition(r, e);\n}\nfunction N(e, t) {\n  const {\n    startRenderSpace: n,\n    endRenderSpace: r\n  } = t.directSegment;\n  return l(e, r, n);\n}\nfunction Q(e, t, n = {\n  invert: !1\n}) {\n  const {\n    startRenderSpace: r,\n    endRenderSpace: i\n  } = t.dimensionSegment;\n  return n.invert ? l(e, r, i) : l(e, i, r);\n}\nfunction W(e, t) {\n  const n = e.directSegment.eval(.5, P.get());\n  return t.headingAtPosition(n, e.primaryOffsetAxis);\n}\nfunction X(e, t) {\n  return f(Q(Z, e)) / t ** 2;\n}\nconst Z = v();\nfunction $(e) {\n  const {\n    elevationAlignedStartPoint: t,\n    elevationAlignedEndPoint: r\n  } = e;\n  if (null == t || null == r) return !1;\n  const i = H(t, r);\n  return null != i && n(i, \"meters\").value > T;\n}\nfunction _(e) {\n  return null != e.geometry;\n}\nexport { b as OffsetSegmentLocation, G as arePointsVerticallyAligned, z as computationToGeometryDependencies, C as computeGeometryFromDimension, w as computeLength, B as computeOffsetAxis, I as computeOffsetForPoint, k as computeSegmentForMeasureType, U as computeSpanningSegment, Q as dimensionStartToEnd, N as directStartToEnd, K as directUp, W as headingFromGeometry, $ as isGeodesicDimension, _ as isValidComputation, X as maxScreenLengthSquaredFromGeometry, M as offsetSegment };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport { LengthDimensionMeasureType as e } from \"../../../../analysis/dimensionUtils.js\";\nimport s from \"../../../../core/Accessor.js\";\nimport { destroyHandle as o } from \"../../../../core/handleUtils.js\";\nimport r from \"../../../../core/Logger.js\";\nimport { mapCollection as i, watch as n, syncAndInitial as a } from \"../../../../core/reactiveUtils.js\";\nimport { convertUnit as l } from \"../../../../core/unitUtils.js\";\nimport { property as m } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as p } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { getDefaultUnitForView as c } from \"../../../../support/getDefaultUnitForView.js\";\nimport { isGeodesicDimension as u, computeGeometryFromDimension as d, computeLength as y, computationToGeometryDependencies as h } from \"./lengthDimensionUtils.js\";\nimport { geodesicDistanceThreshold as f } from \"../../../support/geodesicMeasurementUtils.js\";\nlet g = class extends s {\n  constructor(t) {\n    super(t);\n  }\n  initialize() {\n    const t = i(() => this.analysisViewData.computations, ({\n      computation: t\n    }) => this._watchComputation(t));\n    this.addHandles(o(t));\n  }\n  get analysis() {\n    return this.analysisViewData.analysis;\n  }\n  get _defaultUnit() {\n    return c(this.view);\n  }\n  _watchComputation(t) {\n    return n(() => h(t), s => {\n      const {\n        measureType: o\n      } = s;\n      if (u(s) && o !== e.Direct) {\n        const e = Math.round(l(f, \"meters\", \"kilometers\"));\n        return r.getLogger(this).warnOnce(`A ${o} dimension in the analysis (id: '${this.analysis.id}') will not display, because only direct dimensions can measure lengths greater than ${e} km. Update the measureType of the affected dimension to \"direct\" to display it.`), void (t.geometry = null);\n      }\n      const i = d(s, this.view.renderCoordsHelper, t.geometry);\n      t.geometry = i, t.result.length = y(i, o, this._defaultUnit);\n    }, a);\n  }\n};\nt([m({\n  constructOnly: !0\n})], g.prototype, \"analysisViewData\", void 0), t([m({\n  constructOnly: !0\n})], g.prototype, \"view\", void 0), t([m()], g.prototype, \"analysis\", null), t([m()], g.prototype, \"_defaultUnit\", null), g = t([p(\"esri.views.3d.analysis.Dimension.DimensionController\")], g);\nexport { g as DimensionController };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from \"../../../../Color.js\";\nimport { multiplyOpacity as r, getContrast as t } from \"../../../../core/colorUtils.js\";\nfunction n(o) {\n  return r(o.accentColor, .5);\n}\nfunction c(o) {\n  return t(o.accentColor);\n}\nconst e = 5,\n  i = new o([127, 127, 127, .5]),\n  l = .8,\n  f = 4,\n  m = 6,\n  s = .1,\n  u = .5,\n  p = 18,\n  C = 2,\n  a = .3,\n  j = 2,\n  w = .25,\n  x = 20,\n  U = 5,\n  b = 5,\n  d = 10,\n  g = 2500,\n  h = 50,\n  k = 2;\nexport { d as constraintThresholdPx, i as disabledPointColor, m as focusedLinePaddingPx, c as getContrastColor, n as getTransparentAccentColor, h as initialOffsetPx, x as labelMarginPx, u as lengthFraction, f as linePaddingPx, l as markerLineSizeFraction, s as minLengthMeters, U as minScreenLengthFontSizeFactor, w as offsetLineSizeFraction, p as orientationCalloutOffsetPx, C as orientationCalloutWidth, a as orientationDiscScale, j as orientationFocusMultiplier, b as orientationSnapThresholdDegrees, e as pointRadius, g as pointerMoveTimeoutMs, k as smallScreenLengthLineSizeFactor };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../Color.js\";\nimport \"../../../../geometry.js\";\nimport { lengthDimensionMeasureType as t, LengthDimensionMeasureType as r } from \"../../../../analysis/dimensionUtils.js\";\nimport { cyclicalDegrees as n } from \"../../../../core/Cyclical.js\";\nimport { rad2deg as i } from \"../../../../core/mathUtils.js\";\nimport { watch as o, initial as a } from \"../../../../core/reactiveUtils.js\";\nimport { pt2px as s } from \"../../../../core/screenUtils.js\";\nimport { identity as c, scale as m } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as l } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { j as d, c as u, f as p, b as f, m as g, e as h, l as v, s as y, z as w } from \"../../../../chunks/vec32.js\";\nimport { create as S, ZEROS as j, fromValues as b } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { create as x } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { fromPositionAndNormal as H, create as M, signedDistance as P, getNormal as C } from \"../../../../geometry/support/plane.js\";\nimport { sv3d as T } from \"../../../../geometry/support/vectorStacks.js\";\nimport { clonePoint as O } from \"../../../../layers/graphics/hydratedFeatures.js\";\nimport { isValidComputation as U, computeGeometryFromDimension as R, computationToGeometryDependencies as z, headingFromGeometry as A, computeOffsetForPoint as D, computeSegmentForMeasureType as _, computeOffsetAxis as F, directUp as L, directStartToEnd as k, dimensionStartToEnd as E } from \"./lengthDimensionUtils.js\";\nimport { getTransparentAccentColor as I, pointRadius as G, lengthFraction as B, markerLineSizeFraction as N, orientationCalloutOffsetPx as V, orientationCalloutWidth as W, orientationDiscScale as q, orientationFocusMultiplier as J, orientationSnapThresholdDegrees as K, minLengthMeters as Q, linePaddingPx as X, focusedLinePaddingPx as Y } from \"./settings.js\";\nimport { Manipulator3D as Z } from \"../../interactive/Manipulator3D.js\";\nimport { createManipulatorMaterial as $, worldScaledManipulatorSettings as ee, calculateInputRotationTransform as te, calculateTranslateRotateFromBases as re, rotateManipulatorDefaults as ne } from \"../../interactive/manipulatorUtils.js\";\nimport { RenderObject as ie } from \"../../interactive/RenderObject.js\";\nimport { screenToMap3D as oe, screenToRenderPlane as ae, hideManipulatorWhileDragging as se } from \"../../interactive/editingTools/dragEventPipeline3D.js\";\nimport { EuclideanSegment as ce } from \"../../interactive/visualElements/support/Segment.js\";\nimport { markerSizePerLineWidth as me } from \"../../support/engineContent/marker.js\";\nimport { Attribute as le } from \"../../webgl-engine/lib/Attribute.js\";\nimport { Geometry as de } from \"../../webgl-engine/lib/Geometry.js\";\nimport { createSphereGeometry as ue, createPolylineGeometry as pe } from \"../../webgl-engine/lib/GeometryUtil.js\";\nimport { RenderOccludedFlag as fe } from \"../../webgl-engine/lib/Material.js\";\nimport { VertexAttribute as ge } from \"../../webgl-engine/lib/VertexAttribute.js\";\nimport { ImageMaterial as he } from \"../../webgl-engine/materials/ImageMaterial.js\";\nimport { RibbonLineMaterial as ve } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nimport { createManipulatorDragEventPipeline as ye, resetProperties as we, EventPipeline as Se } from \"../../../interactive/dragEventPipeline.js\";\nimport { ManipulatorStateCustomFlags as je, ManipulatorStateFlags as be } from \"../../../interactive/interfaces.js\";\nimport xe from \"../../../../geometry/Point.js\";\nclass He {\n  constructor(e) {\n    this.start = e.start, this.end = e.end, this.offset = e.offset, this.heading = e.heading, this.rotation = e.rotation, this.direct = e.direct, this.horizontal = e.horizontal, this.vertical = e.vertical;\n  }\n  manipulatorName(e) {\n    return Object.keys(this).find(t => this.hasOwnProperty(t) && e === this[t]);\n  }\n  values() {\n    return [this.start, this.end, this.offset, this.heading, this.rotation, this.direct, this.horizontal, this.vertical];\n  }\n  forEachMeasureTypeManipulator(e) {\n    for (const r of t) e(this.manipulatorForMeasureType(r), r);\n  }\n  manipulatorForMeasureType(e) {\n    switch (e) {\n      case r.Direct:\n        return this.direct;\n      case r.Horizontal:\n        return this.horizontal;\n      case r.Vertical:\n        return this.vertical;\n    }\n  }\n}\nclass Me extends Z {\n  constructor(t, r) {\n    const n = $(e.toUnitRGBA(I(t.effectiveTheme))),\n      i = [new ie(ue(n, 1, 32, 32), tt)];\n    super({\n      view: t,\n      renderObjects: i,\n      metadata: r.metadata,\n      available: !1,\n      grabCursor: \"crosshair\",\n      radius: G,\n      collisionPriority: 1\n    }), this._themeHandle = o(() => ({\n      color: e.toUnitRGBA(I(t.effectiveTheme))\n    }), e => n.setParameters(e));\n  }\n  destroy() {\n    this._themeHandle.remove(), super.destroy();\n  }\n}\nfunction Pe(e, t) {\n  const r = [b(-.5, 0, 0), b(.5, 0, 0)],\n    n = pe(t.unfocusedMaterial, r.map(e => d(S(), e, B))),\n    i = n.instantiate({\n      material: t.focusedMaterial\n    });\n  return new Z({\n    view: e,\n    renderObjects: [new ie(n, be.Unfocused | be.Selected | tt), new ie(i, be.Focused | tt)],\n    collisionType: {\n      type: \"line\",\n      paths: [r]\n    },\n    radius: $e(t.lineSizePt) / 2,\n    metadata: t.metadata,\n    available: !1,\n    ...ee\n  });\n}\nclass Ce extends Z {\n  constructor(t, {\n    lineSizePt: r,\n    material: n,\n    metadata: i\n  }) {\n    super({\n      view: t,\n      autoScaleRenderObjects: !1,\n      collisionPriority: 1,\n      metadata: i\n    }), this._options = {\n      calloutColor: x(),\n      lineSizePt: r,\n      material: n\n    }, this._themeHandle = o(() => e.toUnitRGBA(I(t.effectiveTheme)), e => {\n      this._options.calloutColor = e, et(this, Te({\n        ...this._options,\n        metadata: this.metadata\n      }));\n    }, a);\n  }\n  update({\n    lineSizePt: e,\n    material: t\n  }) {\n    this._options.lineSizePt = e, this._options.material = t, et(this, Te({\n      ...this._options,\n      metadata: this.metadata\n    }));\n  }\n  destroy() {\n    this._themeHandle.remove(), super.destroy();\n  }\n}\nfunction Te({\n  calloutColor: e,\n  lineSizePt: t,\n  material: r,\n  metadata: n\n}) {\n  return {\n    calloutLength: .25 * me * N * s(t) + V,\n    calloutColor: e,\n    calloutWidth: W,\n    customStateMask: tt,\n    discScale: q,\n    focusMultiplier: J,\n    material: r,\n    metadata: n\n  };\n}\nfunction Oe(e, t) {\n  const r = [b(-.5, 0, 0), b(.5, 0, 0)],\n    n = pe(t.thinOffsetManipulatorMaterial, r),\n    i = pe(t.unfocusedMaterial, r.map(e => d(S(), e, B))),\n    o = i.instantiate({\n      material: t.focusedMaterial\n    });\n  return new Z({\n    view: e,\n    renderObjects: [new ie(i, be.Unfocused | tt), new ie(o, be.Focused | tt), new ie(n, tt)],\n    collisionType: {\n      type: \"line\",\n      paths: [r]\n    },\n    radius: $e(t.lineSizePt) / 2,\n    available: !1,\n    metadata: t.metadata,\n    ...ee\n  });\n}\nfunction Ue(e, {\n  isStart: t,\n  createSnappingPipelineStep: r,\n  dimension: n,\n  onUpdate: i,\n  view: o\n}) {\n  const a = t ? \"startPoint\" : \"endPoint\",\n    s = ye(e, (e, t, s, c) => {\n      const m = se(e),\n        {\n          snappingStep: l,\n          cancelSnapping: d\n        } = r(c);\n      s = s.next(m).next(we(n, [a, \"measureType\", \"orientation\"])).next(d), t.next(m).next(oe(o)).next(...l).next(e => {\n        const t = O(e.mapEnd, new xe());\n        i(\"startPoint\" === a ? {\n          startPoint: t\n        } : {\n          endPoint: t\n        });\n      });\n    });\n  return [s];\n}\nfunction Re(e, {\n  computation: t,\n  view: r\n}) {\n  return [ye(e, (e, n, i) => {\n    if (!U(t) || !e.selected) return;\n    const {\n        geometry: o,\n        dimension: a\n      } = t,\n      s = se(e);\n    n.next(s).next(ke(r, a, o.dimensionSegment, o.primaryOffsetAxis)), i.next(s).next(we(a, [\"offset\"]));\n  })];\n}\nfunction ze(e, {\n  computation: t,\n  view: r\n}) {\n  return [ye(e, (e, n, i) => {\n    _e({\n      cancel: i,\n      computation: t,\n      settingHeading: !0,\n      steps: n,\n      view: r\n    });\n  })];\n}\nfunction Ae(e, {\n  computation: t,\n  view: r\n}) {\n  return [ye(e, (e, n, i) => {\n    _e({\n      cancel: i,\n      computation: t,\n      settingHeading: !1,\n      steps: n,\n      view: r\n    });\n  }), e.events.on(\"immediate-click\", e => {\n    De(e, t, r);\n  })];\n}\nfunction De(e, t, r) {\n  const {\n    dimension: i,\n    geometry: o\n  } = t;\n  if (90 === i.orientation || 270 === i.orientation) return i.orientation = 0, void e.stopPropagation();\n  if (null == o) return;\n  const {\n      renderCoordsHelper: a\n    } = r,\n    s = R({\n      ...z(t),\n      orientation: 90\n    }, a),\n    c = R({\n      ...z(t),\n      orientation: 270\n    }, a);\n  if (null == s || null == c) return;\n  const m = A(s, a),\n    l = A(c, a),\n    d = Ee(o, r),\n    u = n.shortestSignedDiff(d, m),\n    p = n.shortestSignedDiff(d, l);\n  i.orientation = Math.abs(u) < Math.abs(p) ? 90 : 270, e.stopPropagation();\n}\nfunction _e(e) {\n  const {\n    cancel: t,\n    computation: r,\n    settingHeading: n,\n    steps: o,\n    view: a\n  } = e;\n  if (!U(r)) return;\n  const {\n      renderCoordsHelper: s\n    } = a,\n    {\n      dimension: c,\n      geometry: m\n    } = r,\n    l = S(),\n    d = Je(S(), m, m.directSegment, s),\n    p = Ke(T.get(), {\n      forHeading: n,\n      geometry: m,\n      renderCoordsHelper: s\n    }),\n    f = H(d, p, M()),\n    g = n ? c.orientation ?? A(m, a.renderCoordsHelper) : c.orientation ?? 0;\n  o.next(ae(a, f)).next(e => {\n    \"start\" === e.action && u(l, e.renderStart);\n    const t = C(f),\n      r = te(l, e.renderEnd, d, t);\n    let o = g - i(r);\n    n || (o = Fe(o)), c.orientation = o;\n  }), t.next(we(c, [\"orientation\"]));\n}\nfunction Fe(e) {\n  const t = n.normalize(e) % 90;\n  return t < K ? e - t : 90 - t < K ? e + (90 - t) : e;\n}\nfunction Le(e, {\n  computation: t,\n  manipulatorMeasureType: n,\n  view: i\n}) {\n  let o = r.Direct,\n    a = 0,\n    s = 0;\n  return [e.events.on(\"grab-changed\", r => {\n    if (\"start\" !== r.action || !U(t)) return;\n    const {\n      dimension: c,\n      geometry: m\n    } = t;\n    o = c.measureType, a = c.offset, s = c.orientation;\n    const l = u(T.get(), e.renderLocation);\n    c.measureType = n, c.offset = D(l, n, m, i.renderCoordsHelper), c.orientation = 0;\n  }), ye(e, (e, r, c) => {\n    if (!U(t)) return;\n    const {\n        geometry: m,\n        dimension: l\n      } = t,\n      {\n        renderCoordsHelper: d\n      } = i,\n      u = _(ot, n, t, d),\n      p = F(T.get(), {\n        measureType: n,\n        directSegment: m.directSegment,\n        renderCoordsHelper: d\n      }),\n      f = se(e);\n    r.next(f).next(ke(i, l, u, p)), c.next(f).next(e => (l.measureType = o, l.offset = a, l.orientation = s, e));\n  })];\n}\nfunction ke(e, t, r, n) {\n  const i = p(T.get(), r.endRenderSpace, r.startRenderSpace);\n  f(i, i, n);\n  const o = H(r.startRenderSpace, i, M()),\n    a = H(r.startRenderSpace, n, M()),\n    s = t.offset;\n  let c,\n    m = 0;\n  const l = new Se();\n  return l.next(ae(e, o)).next(r => {\n    \"start\" === r.action && (m = P(a, r.renderStart));\n    const n = (P(a, r.renderEnd) - m) * e.renderCoordsHelper.unitInMeters;\n    t.offset = s + n, c = r;\n  }), e => (l.execute(e), c);\n}\nfunction Ee(e, t) {\n  const {\n      directSegment: r\n    } = e,\n    {\n      renderCoordsHelper: n\n    } = t,\n    i = L(T.get(), e, n),\n    o = k(T.get(), e),\n    a = f(T.get(), o, i),\n    {\n      viewForward: s\n    } = t.state.camera;\n  g(a, s) > 0 && d(a, a, -1);\n  const c = r.eval(.5, T.get());\n  return n.headingAtPosition(c, a);\n}\nfunction Ie(e, t, r) {\n  const {\n      dimensionSegment: n,\n      primaryOffsetAxis: i\n    } = t,\n    o = E(rt, t),\n    a = h(o, j) ? c(it) : re(o, i, j, it),\n    s = Math.max(v(o), Q / r.unitInMeters);\n  m(a, a, y(rt, s, s, s)), e.modelTransform = a, e.renderLocation = n.eval(.5, rt);\n}\nfunction Ge(e, t, r) {\n  Ne(e, t, r, {\n    forHeading: !0\n  });\n}\nfunction Be(e, t, r) {\n  Ne(e, t, r, {\n    forHeading: !1\n  });\n}\nfunction Ne(e, t, r, {\n  forHeading: n\n}) {\n  const {\n      dimension: i,\n      geometry: o\n    } = t,\n    {\n      primaryOffsetAxis: a\n    } = o,\n    s = d(Ve, a, i.offset >= 0 ? 1 : -1),\n    c = Ke(We, {\n      forHeading: n,\n      geometry: o,\n      renderCoordsHelper: r\n    });\n  f(c, c, s);\n  const m = re(s, c, j, it);\n  e.modelTransform = m, e.renderLocation = Je(rt, o, o.dimensionSegment, r);\n}\nconst Ve = S(),\n  We = S();\nfunction qe(e, t, r, n) {\n  const {\n      geometry: i\n    } = t,\n    o = _(ot, r, t, n),\n    a = F(rt, {\n      measureType: r,\n      directSegment: i.directSegment,\n      renderCoordsHelper: n\n    }),\n    s = w(nt, o.endRenderSpace, o.startRenderSpace),\n    c = re(s, a, j, it),\n    l = v(s);\n  m(c, c, y(nt, l, l, l)), e.modelTransform = c, e.renderLocation = o.eval(.5, nt);\n}\nfunction Je(e, t, r, n) {\n  const {\n      startRenderSpace: i,\n      endRenderSpace: o\n    } = r,\n    a = Qe(t, n) ? i : o;\n  return u(e, a);\n}\nfunction Ke(e, {\n  forHeading: t,\n  geometry: r,\n  renderCoordsHelper: n\n}) {\n  return t ? L(e, r, n) : E(e, r, {\n    invert: !0\n  });\n}\nfunction Qe(e, t) {\n  const r = k(Xe, e),\n    n = L(Ye, e, t);\n  return g(r, n) > 0;\n}\nconst Xe = S(),\n  Ye = S();\nfunction Ze(e) {\n  return s(e) + X;\n}\nfunction $e(e) {\n  return s(e) + Y;\n}\nfunction et(e, t) {\n  const r = t.material ?? new he({\n      transparent: !0,\n      writeDepth: !1,\n      textureId: t.texture?.id,\n      renderOccluded: fe.Opaque,\n      isDecoration: !0\n    }),\n    n = t.focusMultiplier ?? ne.focusMultiplier,\n    i = t.calloutLength ?? ne.calloutLength,\n    o = ne.discRadius * (t.discScale ?? 1),\n    a = o * n,\n    s = (e, t) => {\n      const r = [0, 1, 2, 2, 3, 0];\n      return new de(t, [[ge.POSITION, new le([i - e, -e, 0, i + e, -e, 0, i + e, e, 0, i - e, e, 0], r, 3, !0)], [ge.UV0, new le([0, 0, 1, 0, 1, 1, 0, 1], r, 2, !0)]]);\n    },\n    c = t.calloutWidth ?? ne.calloutWidth,\n    m = new ve({\n      width: c,\n      color: t.calloutColor,\n      renderOccluded: fe.OccludeAndTransparent,\n      isDecoration: !0\n    }),\n    l = pe(m, [[0, 0, 0], [i - o, 0, 0]]),\n    d = pe(m, [[0, 0, 0], [i - a, 0, 0]]),\n    u = t.customStateMask ?? je.None;\n  e.collisionType = {\n    type: \"disc\",\n    direction: [0, 0, 1],\n    offset: [i, 0, 0]\n  }, e.focusMultiplier = n, e.metadata = t.metadata, e.radius = o, e.renderObjects = [new ie(s(o, r), be.Unfocused | u), new ie(l, be.Unfocused | u), new ie(s(a, r), be.Focused | u), new ie(d, be.Focused | u)];\n}\nconst tt = je.Custom1,\n  rt = S(),\n  nt = S(),\n  it = l(),\n  ot = new ce();\nexport { tt as DidPointerMoveRecentlyFlag, He as LengthDimensionManipulators, Me as LengthDimensionPointManipulator, Ce as LineOfSightOrientationManipulator, Ee as automaticHeadingFromCamera, Oe as createMeasureTypeManipulator, Pe as createOffsetManipulator, $e as focusedOffsetWidth, ze as headingManipulatorHandles, Le as measureTypeManipulatorHandles, Re as offsetManipulatorHandles, Ue as pointManipulatorHandles, Ae as rotationManipulatorHandles, Fe as snapOrientationToNearestRightAngle, Ze as unfocusedOffsetWidth, Ge as updateHeadingManipulatorTransform, qe as updateMeasureTypeManipulatorTransform, Ie as updateOffsetManipulatorTransform, Be as updateRotationManipulatorTransform };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../../../geometry.js\";\nimport { LengthDimensionMeasureType as e } from \"../../../../analysis/dimensionUtils.js\";\nimport \"../../../../core/has.js\";\nimport { e as t, j as n, m as i, f as o, q as r } from \"../../../../chunks/vec32.js\";\nimport { sv3d as a } from \"../../../../geometry/support/vectorStacks.js\";\nimport { automaticHeadingFromCamera as s } from \"./lengthDimensionManipulatorUtils.js\";\nimport { isGeodesicDimension as l, directUp as c, directStartToEnd as d } from \"./lengthDimensionUtils.js\";\nimport { constraintThresholdPx as m } from \"./settings.js\";\nimport u from \"../../../../geometry/Point.js\";\nvar P;\nfunction p(e, t) {\n  return {\n    enabled: t.effectiveFeatureEnabled,\n    elevationAlignedStartPoint: e.elevationAlignedStartPoint,\n    elevationAlignedEndPoint: e.elevationAlignedEndPoint,\n    geometry: e.geometry\n  };\n}\nfunction f(e, s) {\n  if (l(e)) return P.Direct;\n  if (!e.enabled) return null;\n  const {\n    geometry: u\n  } = e;\n  if (null == u || t(u.directSegment.startRenderSpace, u.directSegment.endRenderSpace)) return null;\n  const {\n      camera: p\n    } = s.state,\n    f = c(a.get(), u, s.renderCoordsHelper),\n    g = d(a.get(), u),\n    S = n(a.get(), f, i(g, f)),\n    v = o(a.get(), g, S),\n    y = r(v),\n    A = r(S),\n    {\n      startRenderSpace: R,\n      endRenderSpace: j\n    } = u.directSegment,\n    z = Math.max(p.computeScreenPixelSizeAt(R) * m, p.computeScreenPixelSizeAt(j) * m) ** 2;\n  return y < z ? P.Vertical : A < z ? P.Horizontal : null;\n}\nfunction g(e, t, {\n  constraint: n,\n  view: i\n}) {\n  const {\n    unconstrainedGeometry: o\n  } = e;\n  if (null == o) return;\n  const {\n      renderCoordsHelper: r,\n      spatialReference: a\n    } = i,\n    {\n      startRenderSpace: s,\n      endRenderSpace: l\n    } = o.directSegment,\n    c = r.fromRenderCoords(s, new u({\n      spatialReference: a\n    })),\n    d = r.fromRenderCoords(l, new u({\n      spatialReference: a\n    }));\n  let m;\n  m = \"start\" === t ? {\n    startPoint: c\n  } : {\n    endPoint: d\n  }, S(e, m, {\n    constraint: n,\n    elevationAlignedStartPoint: e.elevationAlignedStartPoint,\n    elevationAlignedEndPoint: e.elevationAlignedEndPoint,\n    unconstrainedGeometry: o,\n    view: i\n  });\n}\nfunction S(t, n, i) {\n  const {\n      constraint: o,\n      elevationAlignedStartPoint: r,\n      elevationAlignedEndPoint: a,\n      unconstrainedGeometry: l,\n      view: c\n    } = i,\n    {\n      dimension: d,\n      previousConstraint: m,\n      preConstraintProperties: u\n    } = t;\n  if (null == r || null == a) return;\n  const p = () => {\n    \"startPoint\" in n ? d.startPoint = n.startPoint : \"endPoint\" in n && (d.endPoint = n.endPoint);\n  };\n  if (null == o) p(), null != m && null != u && (d.measureType = u.measureType, d.orientation = u.orientation);else switch (d.measureType = e.Direct, o) {\n    case P.Horizontal:\n      if (o !== m && (d.orientation = 0), \"startPoint\" in n) {\n        const e = n.startPoint;\n        null != e && (e.z = a.z), d.startPoint = e;\n      } else if (\"endPoint\" in n) {\n        const e = n.endPoint;\n        null != e && (e.z = r.z), d.endPoint = e;\n      }\n      break;\n    case P.Vertical:\n      if (o !== m && (d.orientation = s(l, c)), \"startPoint\" in n) {\n        const e = n.startPoint;\n        null != e && (e.x = a.x, e.y = a.y), d.startPoint = e;\n      } else if (\"endPoint\" in n) {\n        const e = n.endPoint;\n        null != e && (e.x = r.x, e.y = r.y), d.endPoint = e;\n      }\n      break;\n    case P.Direct:\n      o !== m && null != u && (d.orientation = u.orientation), p();\n  }\n  t.previousConstraint = o, t.unconstrainedGeometry = l;\n}\n!function (e) {\n  e[e.Horizontal = 0] = \"Horizontal\", e[e.Vertical = 1] = \"Vertical\", e[e.Direct = 2] = \"Direct\";\n}(P || (P = {}));\nexport { P as LengthDimensionConstraint, S as applyConstraint, f as computeConstraint, p as constraintDependencies, g as reapplyConstraint };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../Color.js\";\nimport \"../../../../geometry.js\";\nimport { LengthDimensionMeasureType as i } from \"../../../../analysis/dimensionUtils.js\";\nimport a from \"../../../../analysis/LengthDimension.js\";\nimport n from \"../../../../core/Accessor.js\";\nimport s from \"../../../../core/Handles.js\";\nimport { destroyHandle as o } from \"../../../../core/handleUtils.js\";\nimport \"../../../../core/has.js\";\nimport { equals as r } from \"../../../../core/lang.js\";\nimport { destroyMaybe as p } from \"../../../../core/maybe.js\";\nimport { memoize as l } from \"../../../../core/memoize.js\";\nimport { ignoreAbortErrors as u } from \"../../../../core/promiseUtils.js\";\nimport { watch as d, initial as c, mapCollection as m, sync as h, syncAndInitial as g, when as f } from \"../../../../core/reactiveUtils.js\";\nimport { property as _ } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport { subclass as M } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { create as v } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { UpdatingHandles as y } from \"../../../../core/support/UpdatingHandles.js\";\nimport { clonePoint as C } from \"../../../../layers/graphics/hydratedFeatures.js\";\nimport { reapplyConstraint as S, LengthDimensionConstraint as w, applyConstraint as b, computeConstraint as P, constraintDependencies as O } from \"./lengthDimensionConstraintUtils.js\";\nimport { LengthDimensionManipulators as D, LengthDimensionPointManipulator as j, pointManipulatorHandles as H, createOffsetManipulator as T, offsetManipulatorHandles as G, LineOfSightOrientationManipulator as x, headingManipulatorHandles as z, rotationManipulatorHandles as U, createMeasureTypeManipulator as V, measureTypeManipulatorHandles as I, updateOffsetManipulatorTransform as R, updateHeadingManipulatorTransform as A, updateRotationManipulatorTransform as k, updateMeasureTypeManipulatorTransform as E, unfocusedOffsetWidth as L, focusedOffsetWidth as F } from \"./lengthDimensionManipulatorUtils.js\";\nimport { isValidComputation as q, arePointsVerticallyAligned as B, computeGeometryFromDimension as N, computationToGeometryDependencies as J } from \"./lengthDimensionUtils.js\";\nimport { disabledPointColor as K, pointRadius as Q, getTransparentAccentColor as W, getContrastColor as X, initialOffsetPx as Y } from \"./settings.js\";\nimport { getRotateHeadingTexture as Z } from \"../images/Factory.js\";\nimport { SnappingVisualizer3D as $ } from \"../../interactive/SnappingVisualizer3D.js\";\nimport { LineVisualElement as tt } from \"../../interactive/visualElements/LineVisualElement.js\";\nimport { VerticesVisualElement as et } from \"../../interactive/visualElements/VerticesVisualElement.js\";\nimport { RenderOccludedFlag as it } from \"../../webgl-engine/lib/Material.js\";\nimport { ImageMaterial as at } from \"../../webgl-engine/materials/ImageMaterial.js\";\nimport { createStipplePatternSimple as nt } from \"../../webgl-engine/materials/lineStippleUtils.js\";\nimport { RibbonLineMaterial as st } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nimport { createCoordinateHelper as ot } from \"../../../interactive/coordinateHelper.js\";\nimport { EditGeometry as rt } from \"../../../interactive/editGeometry/EditGeometry.js\";\nimport { EditGeometryOperations as pt } from \"../../../interactive/editGeometry/EditGeometryOperations.js\";\nimport { SnappingContext as lt } from \"../../../interactive/snapping/SnappingContext.js\";\nimport { createSnapDragEventPipelineStep as ut } from \"../../../interactive/snapping/SnappingDragPipelineStep.js\";\nimport { acquire as dt } from \"../../../interactive/snapping/SnappingManagerPool.js\";\nimport { SnappingOperation as ct } from \"../../../interactive/snapping/SnappingOperation.js\";\nimport { setupSnappingToggleHandles as mt } from \"../../../interactive/snapping/snappingUtils.js\";\nimport ht from \"../../../../geometry/Point.js\";\nlet gt = class extends n {\n  constructor(t) {\n    super(t), this._stagedDimension = null, this._computationManipulators = new Map(), this._computationHandles = new s(), this._orientationManipulatorTexture = null, this._updatingHandles = new y(), this._getSnappingContext = l(t => new lt({\n      elevationInfo: {\n        mode: \"absolute-height\",\n        offset: 0\n      },\n      pointer: t,\n      editGeometryOperations: new pt(new rt(\"point\", ot(!0, !1, this.view.spatialReference)), this.view.state.viewingMode),\n      visualizer: new $()\n    }));\n    const {\n      view: i\n    } = t;\n    this._snappingManagerResult = dt(i), this.addHandles(this._snappingManagerResult), this._unfocusedOffsetManipulatorMaterial = this._createOffsetManipulatorMaterial(), this._focusedOffsetManipulatorMaterial = this._createOffsetManipulatorMaterial(), this._thinOffsetManipulatorMaterial = this._createOffsetManipulatorMaterial(), this._thinOffsetManipulatorMaterial.setParameters({\n      stipplePattern: nt(2)\n    }), this._constraintSnappingIndicator = new tt({\n      view: i,\n      attached: !0,\n      width: 1,\n      renderOccluded: it.OccludeAndTransparent,\n      stipplePattern: nt(5),\n      isDecoration: !0\n    });\n    const a = e.toUnitRGBA(K);\n    this._stagedStartIndicator = new et({\n      view: i,\n      attached: !1,\n      elevationInfo: {\n        mode: \"absolute-height\",\n        offset: 0\n      },\n      spatialReference: t.view.renderCoordsHelper.spatialReference,\n      color: a,\n      size: 2 * Q,\n      outlineSize: 0,\n      renderOccluded: it.OccludeAndTransparent,\n      isDecoration: !0\n    });\n  }\n  initialize() {\n    const {\n      view: t\n    } = this;\n    this._snappingOperation = new ct({\n      view: t\n    });\n    const i = !t._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result;\n    this._orientationManipulatorMaterial = new at({\n      transparent: !0,\n      writeDepth: !1,\n      renderOccluded: it.Opaque,\n      isDecoration: !0\n    }), this.addHandles(d(() => ({\n      accentColor: W(t.effectiveTheme),\n      contrastColor: X(t.effectiveTheme)\n    }), ({\n      accentColor: a,\n      contrastColor: n\n    }) => {\n      const s = this._orientationManipulatorTexture,\n        o = Z(t.textures, {\n          accentColor: a,\n          contrastColor: n,\n          preMultiplyAlpha: i\n        });\n      this._orientationManipulatorMaterial.setParameters({\n        textureId: o.texture.id\n      }), this._orientationManipulatorTexture = o, s?.release();\n      const r = e.toUnitRGBA(a);\n      this._unfocusedOffsetManipulatorMaterial.setParameters({\n        color: r\n      }), this._focusedOffsetManipulatorMaterial.setParameters({\n        color: r\n      }), this._thinOffsetManipulatorMaterial.setParameters({\n        color: r\n      }), this._constraintSnappingIndicator.color = r;\n    }, c));\n    const a = m(() => this.analysisViewData.computations, ({\n      computation: t\n    }) => this._createManipulators(t));\n    this.addHandles(o(a)), this.addHandles([d(() => ({\n      stagedPoint: this._snappingOperation.stagedPoint,\n      stagedComputation: this._stagedComputation\n    }), ({\n      stagedPoint: t,\n      stagedComputation: e\n    }) => {\n      if (null == e || null == t) return;\n      const i = C(t, new ht());\n      this._applyPointUpdate(e, {\n        endPoint: i\n      });\n    }, h), d(() => ({\n      stagedDimension: this._stagedDimension,\n      selectedComputation: this.analysisViewData.selectedComputation,\n      firstGrabbedManipulator: this.firstGrabbedManipulator\n    }), (t, e) => {\n      const {\n        stagedDimension: i,\n        selectedComputation: a,\n        firstGrabbedManipulator: n\n      } = t;\n      if (i === e?.stagedDimension && n === e?.firstGrabbedManipulator) {\n        for (const s of [a, e?.selectedComputation]) if (null != s) {\n          const e = this._computationManipulators.get(s);\n          null != e && this._updateManipulators(s, e, t);\n        }\n      } else for (const [s, o] of this._computationManipulators) this._updateManipulators(s, o, t);\n    }, g), d(() => this.analysis.style.lineSize, t => {\n      this._updateManipulatorStyle(t);\n    }, c), d(() => this.view.state.camera, () => {\n      null != this._stagedComputation && this._updateStagedDimensionOffset(this._stagedComputation);\n    }), d(() => {\n      const t = this._stagedComputation;\n      if (!t) return null;\n      const e = t.elevationAlignedStartPoint,\n        i = v();\n      return null != e && this.view.renderCoordsHelper.toRenderCoords(e, i) ? i : null;\n    }, t => {\n      null != t ? (this._stagedStartIndicator.vertices = [t], this._stagedStartIndicator.attached = !0) : this._stagedStartIndicator.attached = !1;\n    })]), this.addHandles(this._constraintHandles), this.addHandles(this._snappingIndicatorHandles), mt(this, () => {\n      const t = this._activeComputation,\n        e = this._stagedComputation;\n      if (null == t || null != e) {\n        const t = this.view.inputManager.latestPointerType ?? \"mouse\",\n          e = this._getSnappingContext(t);\n        this._updatingHandles.addPromise(u(this._snappingOperation.snapAgainNearPreviousMapPoint(this._snappingManager, e)));\n      }\n      if (null != t) {\n        const {\n          start: e,\n          end: i\n        } = this._computationManipulators.get(t);\n        if (e.grabbing || i.grabbing) {\n          const i = e.grabbing ? \"start\" : \"end\",\n            a = this._computeConstraint(t);\n          S(t, i, {\n            constraint: a,\n            view: this.view\n          });\n        }\n      }\n    });\n  }\n  destroy() {\n    this._snappingOperation = p(this._snappingOperation), this._computationHandles.destroy(), this._constraintSnappingIndicator.destroy(), this._stagedStartIndicator.destroy(), this._orientationManipulatorTexture?.release();\n  }\n  get updating() {\n    return this._updatingHandles.updating || this._snappingManager.updating;\n  }\n  get firstGrabbedManipulator() {\n    return this.parentTool.firstGrabbedManipulator;\n  }\n  get hasGrabbedManipulators() {\n    return this.parentTool.hasGrabbedManipulators;\n  }\n  get snappingOptions() {\n    return this._snappingManager.options;\n  }\n  get _snappingManager() {\n    return this._snappingManagerResult.snappingManager;\n  }\n  get _activeComputation() {\n    if (null != this._stagedComputation) return this._stagedComputation;\n    const {\n      selectedComputation: t\n    } = this.analysisViewData;\n    return this.hasGrabbedManipulators && null != t ? t : null;\n  }\n  get _stagedComputation() {\n    const t = this._stagedDimension,\n      e = this.analysisViewData.computations.at(-1)?.computation;\n    return null == t || null == e || e.dimension !== t ? null : e;\n  }\n  get _constraintHandles() {\n    return [f(() => this.analysisViewData.selectedComputation, t => {\n      t.previousConstraint = this._computeConstraint(t);\n    }, {\n      ...g,\n      equals: r\n    }), d(() => {\n      const t = this._activeComputation;\n      if (null == t) return null;\n      const {\n        measureType: e,\n        orientation: i\n      } = t.dimension;\n      return {\n        measureType: e,\n        orientation: i,\n        computation: t\n      };\n    }, (t, e) => {\n      if (null != t && null == e) {\n        const {\n          measureType: e,\n          orientation: a,\n          computation: n\n        } = t;\n        switch (n.previousConstraint) {\n          case w.Horizontal:\n            n.preConstraintProperties = {\n              measureType: i.Horizontal,\n              orientation: 0\n            };\n            break;\n          case w.Vertical:\n            n.preConstraintProperties = {\n              measureType: i.Vertical,\n              orientation: 0\n            };\n            break;\n          case w.Direct:\n            n.preConstraintProperties = {\n              measureType: i.Direct,\n              orientation: a\n            };\n            break;\n          default:\n            n.preConstraintProperties = {\n              measureType: e,\n              orientation: a\n            };\n        }\n      }\n      null == t && null != e && (e.computation.preConstraintProperties = null);\n    }, h)];\n  }\n  get _snappingIndicatorHandles() {\n    const t = \"snapping-indicator-event-handles\";\n    return [d(() => ({\n      stagedComputation: this._stagedComputation,\n      activeComputation: this._activeComputation\n    }), ({\n      stagedComputation: e,\n      activeComputation: i\n    }) => {\n      const a = this._constraintSnappingIndicator;\n      if (this.removeHandles(t), null != i) {\n        if (i === e) a.attached = !0;else {\n          const {\n              start: e,\n              end: n\n            } = this._computationManipulators.get(i),\n            s = () => {\n              a.attached = e.grabbing || n.grabbing;\n            };\n          s(), this.addHandles([e.events.on(\"grab-changed\", s), n.events.on(\"grab-changed\", s)], t);\n        }\n      } else a.attached = !1;\n    }), d(() => {\n      const t = this._activeComputation;\n      return null != t ? {\n        geometry: t.geometry,\n        constraint: t.previousConstraint\n      } : {};\n    }, ({\n      geometry: t,\n      constraint: e\n    }) => {\n      const i = this._constraintSnappingIndicator;\n      null != t && null != e && e !== w.Direct ? (i.visible = !0, i.setGeometryFromSegment(t.directSegment)) : i.visible = !1;\n    })];\n  }\n  removeStaged() {\n    return null != this._stagedDimension && (this.analysis.dimensions.remove(this._stagedDimension), this._stagedDimension = null, !0);\n  }\n  onDeactivate() {\n    this.removeStaged(), this._resetSnappingState();\n  }\n  onClick(t) {\n    const {\n      _stagedDimension: e\n    } = this;\n    if (null == e) {\n      const e = this._onUnstagedClick(t);\n      return this.analysis.dimensions.add(e), null;\n    }\n    return this._onStagedClick(t), e;\n  }\n  onPointerMove({\n    mapPoint: t,\n    pointerType: e\n  }) {\n    if (\"touch\" === e) return;\n    const i = this._getSnappingContext(e);\n    this._updatingHandles.addPromise(u(this._snappingOperation.snap({\n      point: t\n    }, this._snappingManager, i)));\n  }\n  onManipulatorSelectionChanged() {\n    if (null != this.analysisViewData.selectedComputation) {\n      this._computationManipulators.get(this.analysisViewData.selectedComputation).offset.selected || (this.analysisViewData.selectedDimension = null);\n    }\n  }\n  _onUnstagedClick({\n    mapPoint: t,\n    pointerType: e\n  }) {\n    let n = t;\n    if (\"mouse\" === e) {\n      const i = this._getSnappingContext(e);\n      n = this._snappingManager.update({\n        point: t,\n        context: i\n      });\n    }\n    const s = new a({\n      startPoint: C(n, new ht()),\n      endPoint: null,\n      measureType: i.Horizontal\n    });\n    return this._stagedDimension = s, this._resetSnappingState(), s;\n  }\n  _onStagedClick({\n    mapPoint: t,\n    pointerType: e\n  }) {\n    const i = this._stagedComputation;\n    if (null == i) return;\n    let a = t;\n    if (\"mouse\" === e) {\n      const i = this._getSnappingContext(e);\n      a = this._snappingManager.update({\n        point: t,\n        context: i\n      });\n    }\n    const n = C(a, new ht());\n    this._applyPointUpdate(i, {\n      endPoint: n\n    }), this._stagedDimension = null, this._resetSnappingState();\n  }\n  _resetSnappingState() {\n    this._snappingManager.doneSnapping(), this._snappingOperation.abort(), this._snappingOperation.stagedPoint = null;\n  }\n  _createManipulators(t) {\n    const e = this._setupPointManipulator(t, {\n        isStart: !0\n      }),\n      a = this._setupPointManipulator(t, {\n        isStart: !1\n      }),\n      n = this._setupOffsetManipulator(t),\n      s = this._setupHeadingManipulator(t),\n      o = this._setupRotationManipulator(t),\n      r = this._setupMeasureTypeManipulator(t, i.Direct),\n      p = this._setupMeasureTypeManipulator(t, i.Horizontal),\n      l = this._setupMeasureTypeManipulator(t, i.Vertical),\n      u = new D({\n        start: e,\n        end: a,\n        offset: n,\n        heading: s,\n        rotation: o,\n        direct: r,\n        horizontal: p,\n        vertical: l\n      });\n    return this._setupComputationToManipulatorsSync(t, u), this._computationManipulators.set(t, u), this.manipulators.addMany(u.values()), {\n      manipulators: u,\n      remove: () => {\n        this._computationHandles.remove(t), this._computationManipulators.delete(t);\n        for (const t of u.values()) this.manipulators.remove(t);\n      }\n    };\n  }\n  _setupComputationToManipulatorsSync(t, e) {\n    this._computationHandles.add([d(() => t.geometry, () => this._updateManipulators(t, e), {\n      ...g,\n      equals: r\n    })], t);\n  }\n  _setupPointManipulator(t, e) {\n    const {\n        view: i\n      } = this,\n      {\n        dimension: a\n      } = t,\n      n = new j(i, {\n        metadata: a\n      }),\n      s = H(n, {\n        isStart: e.isStart,\n        createSnappingPipelineStep: t => ut({\n          snappingContext: this._getSnappingContext(t),\n          snappingManager: this._snappingManager,\n          updatingHandles: this._updatingHandles\n        }),\n        dimension: a,\n        onUpdate: e => this._applyPointUpdate(t, e),\n        view: i\n      });\n    return this._computationHandles.add(s, t), n;\n  }\n  _setupOffsetManipulator(t) {\n    const {\n        view: e\n      } = this,\n      i = T(e, {\n        lineSizePt: this.analysis.style.lineSize,\n        unfocusedMaterial: this._unfocusedOffsetManipulatorMaterial,\n        focusedMaterial: this._focusedOffsetManipulatorMaterial,\n        metadata: t.dimension\n      }),\n      a = G(i, {\n        computation: t,\n        view: e\n      });\n    return this._computationHandles.add(a, t), i;\n  }\n  _setupHeadingManipulator(t) {\n    const {\n        view: e\n      } = this,\n      i = new x(e, {\n        lineSizePt: this.analysis.style.lineSize,\n        material: this._orientationManipulatorMaterial,\n        metadata: t.dimension\n      }),\n      a = z(i, {\n        computation: t,\n        view: e\n      });\n    return this._computationHandles.add(a, t), i;\n  }\n  _setupRotationManipulator(t) {\n    const {\n        view: e\n      } = this,\n      i = new x(e, {\n        lineSizePt: this.analysis.style.lineSize,\n        material: this._orientationManipulatorMaterial,\n        metadata: t.dimension\n      }),\n      a = U(i, {\n        computation: t,\n        view: e\n      });\n    return this._computationHandles.add(a, t), i;\n  }\n  _setupMeasureTypeManipulator(t, e) {\n    const {\n        view: i\n      } = this,\n      a = V(i, {\n        lineSizePt: this.analysis.style.lineSize,\n        unfocusedMaterial: this._unfocusedOffsetManipulatorMaterial,\n        focusedMaterial: this._focusedOffsetManipulatorMaterial,\n        thinOffsetManipulatorMaterial: this._thinOffsetManipulatorMaterial,\n        metadata: t.dimension\n      }),\n      n = I(a, {\n        computation: t,\n        manipulatorMeasureType: e,\n        view: i\n      });\n    return this._computationHandles.add(n, t), a;\n  }\n  _updateManipulators(t, e, a = {\n    stagedDimension: this._stagedDimension,\n    selectedComputation: this.analysisViewData.selectedComputation,\n    firstGrabbedManipulator: this.firstGrabbedManipulator\n  }) {\n    const {\n        stagedDimension: n,\n        selectedComputation: s,\n        firstGrabbedManipulator: o\n      } = a,\n      {\n        start: r,\n        end: p,\n        offset: l,\n        heading: u,\n        rotation: d\n      } = e,\n      c = s === t,\n      m = q(t),\n      {\n        dimension: h\n      } = t;\n    for (const i of e.values()) {\n      const t = m && null == n && (null == o || i === o);\n      i === l ? (i.available = t, i.selected = c) : i.available = t && c;\n    }\n    if (!m) return;\n    null != this._computeConstraint(t) ? e.forEachMeasureTypeManipulator(t => t.available = !1) : e.manipulatorForMeasureType(h.measureType).available = !1;\n    for (const _ of [u, d]) h.measureType === i.Direct && 0 !== h.offset || (_.available = !1);\n    B(t) ? d.available = !1 : u.available = !1;\n    const {\n      geometry: g\n    } = t;\n    r.renderLocation = g.directSegment.startRenderSpace, p.renderLocation = g.directSegment.endRenderSpace;\n    const {\n      renderCoordsHelper: f\n    } = this.view;\n    R(l, g, f), u.available && A(u, t, f), d.available && k(d, t, f), e.forEachMeasureTypeManipulator((e, i) => {\n      e.available && E(e, t, i, f);\n    });\n  }\n  _updateManipulatorStyle(t) {\n    const e = L(t),\n      i = F(t),\n      a = {\n        lineSizePt: t,\n        material: this._orientationManipulatorMaterial\n      };\n    for (const {\n      offset: n,\n      heading: s,\n      rotation: o\n    } of this._computationManipulators.values()) n.radius = i / 2, s.update(a), o.update(a);\n    this._unfocusedOffsetManipulatorMaterial.setParameters({\n      width: e\n    }), this._focusedOffsetManipulatorMaterial.setParameters({\n      width: i\n    });\n  }\n  _applyPointUpdate(t, e) {\n    const {\n        view: i\n      } = this,\n      a = J(t);\n    \"startPoint\" in e && (a.elevationAlignedStartPoint = e.startPoint), \"endPoint\" in e && (a.elevationAlignedEndPoint = e.endPoint);\n    const n = N(a, i.renderCoordsHelper);\n    if (null == n) return;\n    const s = this._computeConstraint({\n      ...a,\n      geometry: n\n    });\n    b(t, e, {\n      ...a,\n      constraint: s,\n      unconstrainedGeometry: n,\n      view: i\n    }), t === this._stagedComputation && this._updateStagedDimensionOffset(t);\n  }\n  _updateStagedDimensionOffset(t) {\n    if (null == t.geometry) return;\n    t.geometry.directSegment.eval(.5, ft);\n    const e = this.view.state.camera.computeScreenPixelSizeAt(ft);\n    t.dimension.offset = Y * e;\n  }\n  _computeConstraint(t) {\n    return P(O(t, this._snappingManager.options), this.view);\n  }\n  _createOffsetManipulatorMaterial() {\n    return new st({\n      width: 1,\n      renderOccluded: it.OccludeAndTransparent,\n      writeDepth: !1,\n      hasPolygonOffset: !0,\n      isDecoration: !0\n    });\n  }\n  get testInfo() {}\n};\nt([_({\n  constructOnly: !0\n})], gt.prototype, \"analysis\", void 0), t([_({\n  constructOnly: !0\n})], gt.prototype, \"analysisViewData\", void 0), t([_({\n  constructOnly: !0\n})], gt.prototype, \"manipulators\", void 0), t([_({\n  constructOnly: !0\n})], gt.prototype, \"parentTool\", void 0), t([_({\n  constructOnly: !0,\n  nonNullable: !0\n})], gt.prototype, \"view\", void 0), t([_({\n  readOnly: !0\n})], gt.prototype, \"updating\", null), t([_()], gt.prototype, \"firstGrabbedManipulator\", null), t([_()], gt.prototype, \"hasGrabbedManipulators\", null), t([_()], gt.prototype, \"snappingOptions\", null), t([_()], gt.prototype, \"_stagedDimension\", void 0), t([_()], gt.prototype, \"_activeComputation\", null), t([_()], gt.prototype, \"_stagedComputation\", null), gt = t([M(\"esri.views.3d.analysis.Dimension.LengthDimensionSubTool\")], gt);\nconst ft = v();\nexport { gt as LengthDimensionSubTool };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport \"../../../../geometry.js\";\nimport { clock as t } from \"../../../../core/clock.js\";\nimport { destroyHandle as i, makeHandle as o } from \"../../../../core/handleUtils.js\";\nimport \"../../../../core/has.js\";\nimport { removeMaybe as s } from \"../../../../core/maybe.js\";\nimport { watch as n, syncAndInitial as r, when as a } from \"../../../../core/reactiveUtils.js\";\nimport { property as l } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as c } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { sv3d as m } from \"../../../../geometry/support/vectorStacks.js\";\nimport { DidPointerMoveRecentlyFlag as p } from \"./lengthDimensionManipulatorUtils.js\";\nimport { LengthDimensionSubTool as u } from \"./LengthDimensionSubTool.js\";\nimport { pointerMoveTimeoutMs as h } from \"./settings.js\";\nimport { AnalysisToolBase as d } from \"../../../interactive/AnalysisToolBase.js\";\nimport { sketchKeys as v } from \"../../../interactive/keybindings.js\";\nimport { newToolIntersector as _ } from \"../../../interactive/ToolIntersector.js\";\nimport { createScreenPointArrayFromEvent as y } from \"../../../support/screenUtils.js\";\nimport T from \"../../../../geometry/Point.js\";\nvar g;\n!function (e) {\n  e.Ready = \"ready\", e.Creating = \"creating\", e.Created = \"created\";\n}(g || (g = {}));\nlet S = class extends d {\n  constructor(e) {\n    super(e), this.automaticManipulatorSelection = !1, this.removeIncompleteOnCancel = !1, this._pointerMoveTimerMs = h, this._prevPointerMoveTimeout = null;\n  }\n  initialize() {\n    this._intersector = _(this.view.state.viewingMode), this._lengthDimensionSubTool = new u({\n      analysis: this.analysis,\n      analysisViewData: this.analysisViewData,\n      manipulators: this.manipulators,\n      parentTool: this,\n      view: this.view\n    }), this.addHandles([i(this._lengthDimensionSubTool), o(() => this._clearPointerMoveTimeout()), n(() => this.state, e => {\n      e === g.Created && this.finishToolCreation();\n    }, r), a(() => this.firstGrabbedManipulator, e => {\n      this.selectedDimension = e.metadata;\n    }, r), n(() => this.selectedDimension, () => this._resetPointerMoveTimeout(), r)]);\n  }\n  get state() {\n    return this.analysis.dimensions.some(e => \"length\" === e.type) ? null != this._activeSubTool ? g.Creating : g.Created : g.Ready;\n  }\n  get updating() {\n    return this._lengthDimensionSubTool.updating;\n  }\n  get cursor() {\n    return this.active ? \"crosshair\" : null;\n  }\n  get selectedDimension() {\n    return this.analysisViewData.selectedDimension;\n  }\n  set selectedDimension(e) {\n    this.analysisViewData.selectedDimension = e;\n  }\n  onInputEvent(e) {\n    switch (e.type) {\n      case \"immediate-click\":\n        this._clickHandler(e);\n        break;\n      case \"immediate-double-click\":\n        this._doubleClickHandler(e);\n        break;\n      case \"pointer-move\":\n        this._pointerMoveHandler(e);\n        break;\n      case \"key-down\":\n        if (v.cancel === e.key) {\n          if (null != this._activeSubTool && this._activeSubTool.removeStaged()) return void e.stopPropagation();\n          this.active || (this.selectedDimension = null);\n        } else v.delete.includes(e.key) && this._deleteKeyHandler();\n    }\n  }\n  onActivate() {\n    this._activeSubTool = this._lengthDimensionSubTool;\n  }\n  onDeactivate() {\n    null != this._activeSubTool && (this._activeSubTool.onDeactivate(), this._activeSubTool = null);\n  }\n  onShow() {\n    this._resetPointerMoveTimeout();\n  }\n  onManipulatorSelectionChanged() {\n    this._lengthDimensionSubTool.onManipulatorSelectionChanged();\n  }\n  onHide() {\n    this.selectedDimension = null;\n  }\n  _clickHandler(e) {\n    if (this.hasFocusedManipulators) return void e.stopPropagation();\n    if (null == this._activeSubTool) return;\n    const t = this._intersectScreen(e);\n    null != t && (this.selectedDimension = this._activeSubTool.onClick({\n      mapPoint: t,\n      pointerType: e.pointerType\n    }), e.stopPropagation());\n  }\n  _doubleClickHandler(e) {\n    this.active && (this.view.activeTool = null, e.stopPropagation());\n  }\n  _pointerMoveHandler(e) {\n    if (this._resetPointerMoveTimeout(), null == this._activeSubTool) return;\n    if (this.hasFocusedManipulators) return;\n    const t = this._intersectScreen(e);\n    null != t && this._activeSubTool.onPointerMove({\n      mapPoint: t,\n      pointerType: e.pointerType\n    });\n  }\n  _deleteKeyHandler() {\n    null != this._activeSubTool && this._activeSubTool.removeStaged(), this._removeSelected();\n  }\n  _intersectScreen(e) {\n    const t = y(e);\n    this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(t, this._intersector);\n    const i = this._intersector.results.min,\n      o = m.get();\n    return i.getIntersectionPoint(o) ? this.view.renderCoordsHelper.fromRenderCoords(o, new T({\n      spatialReference: this.view.spatialReference\n    })) : null;\n  }\n  _removeSelected() {\n    null != this.selectedDimension && (this.analysis.dimensions.remove(this.selectedDimension), this.selectedDimension = null);\n  }\n  _clearPointerMoveTimeout() {\n    this._prevPointerMoveTimeout = s(this._prevPointerMoveTimeout);\n  }\n  _resetPointerMoveTimeout() {\n    this._clearPointerMoveTimeout(), this.manipulators.forEach(e => e.manipulator.state |= p), this._prevPointerMoveTimeout = t.setTimeout(() => {\n      this.manipulators.forEach(e => e.manipulator.state &= ~p);\n    }, this._pointerMoveTimerMs);\n  }\n  get testInfo() {}\n};\ne([l({\n  constructOnly: !0\n})], S.prototype, \"view\", void 0), e([l({\n  constructOnly: !0\n})], S.prototype, \"analysis\", void 0), e([l({\n  readOnly: !0\n})], S.prototype, \"state\", null), e([l({\n  readOnly: !0\n})], S.prototype, \"updating\", null), e([l({\n  readOnly: !0\n})], S.prototype, \"cursor\", null), e([l({\n  constructOnly: !0\n})], S.prototype, \"analysisViewData\", void 0), e([l()], S.prototype, \"selectedDimension\", null), e([l()], S.prototype, \"automaticManipulatorSelection\", void 0), e([l()], S.prototype, \"_activeSubTool\", void 0), e([l()], S.prototype, \"_lengthDimensionSubTool\", void 0), S = e([c(\"esri.views.3d.analysis.Dimension.DimensionTool\")], S);\nexport { S as DimensionTool };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { fromTranslation as e } from \"../../../../core/libs/gl-matrix-2/math/mat4.js\";\nimport { create as t } from \"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";\nimport { fromValues as r, clone as i } from \"../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";\nimport { Object3DVisualElement as a } from \"./Object3DVisualElement.js\";\nimport { lineStripsToParameters as s, createGeometry as l } from \"../../support/engineContent/line.js\";\nimport { RenderOccludedFlag as m } from \"../../webgl-engine/lib/Material.js\";\nimport { LineMarkerMaterial as o } from \"../../webgl-engine/materials/LineMarkerMaterial.js\";\nclass n extends a {\n  constructor(e, t) {\n    super(e), this._hasExternalMaterial = !1, this._renderOccluded = m.OccludeAndTransparent, this._width = 1, this._color = r(1, 0, 1, 1), this._placement = \"end\", this._markerPrimitive = \"arrow\", this._material = t, this._hasExternalMaterial = null != t, this.applyProperties(e);\n  }\n  setGeometryFromSegment(t, r) {\n    const i = t.endRenderSpace;\n    this.transform = e(h, i), this._normal = r;\n    const {\n      points: a\n    } = t.createRenderGeometry(i, this.view.renderCoordsHelper);\n    this.geometry = [a];\n  }\n  get renderOccluded() {\n    return null != this._material ? this._material.parameters.renderOccluded : this._renderOccluded;\n  }\n  set renderOccluded(e) {\n    this._renderOccluded = e, null != this._material && this._material.setParameters({\n      renderOccluded: e\n    });\n  }\n  get geometry() {\n    return this._geometry;\n  }\n  set geometry(e) {\n    this._geometry = e, this.recreateGeometry();\n  }\n  get normal() {\n    return this._normal;\n  }\n  set normal(e) {\n    this._normal = e, this.recreateGeometry();\n  }\n  get width() {\n    return null != this._material ? this._material.parameters.width : this._width;\n  }\n  set width(e) {\n    this._width = e, null != this._material && this._material.setParameters({\n      width: e\n    });\n  }\n  get color() {\n    return null != this._material ? this._material.parameters.color : this._color;\n  }\n  set color(e) {\n    this._color = i(e), null != this._material && this._material.setParameters({\n      color: this._color\n    });\n  }\n  get placement() {\n    return null != this._material ? this._material.parameters.placement : this._placement;\n  }\n  set placement(e) {\n    this._placement = e, null != this._material && this._material.setParameters({\n      placement: this._placement\n    });\n  }\n  get markerPrimitive() {\n    return this._material?.parameters.markerPrimitive ?? this._markerPrimitive;\n  }\n  set markerPrimitive(e) {\n    this._markerPrimitive = e, null != this._material && this._material.setParameters({\n      markerPrimitive: e\n    });\n  }\n  createExternalResources() {\n    this._hasExternalMaterial || (this._material = new o({\n      width: this._width,\n      color: this._color,\n      placement: this._placement,\n      renderOccluded: this._renderOccluded,\n      markerPrimitive: this._markerPrimitive,\n      isDecoration: this.isDecoration\n    }));\n  }\n  destroyExternalResources() {\n    this._hasExternalMaterial || (this._material = null);\n  }\n  createGeometries(e) {\n    for (const t of s(this.geometry, this.normal)) {\n      const r = l(this._material, t);\n      e.addGeometry(r);\n    }\n  }\n  forEachExternalMaterial(e) {\n    this._hasExternalMaterial || e(this._material);\n  }\n}\nconst h = t();\nexport { n as MarkerVisualElement };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Handles.js\";\nimport \"../../../../core/has.js\";\nimport { equals as t } from \"../../../../core/lang.js\";\nimport { destroyMaybe as s } from \"../../../../core/maybe.js\";\nimport { formatDecimal as i } from \"../../../../core/quantityFormatUtils.js\";\nimport { watch as n, initial as l } from \"../../../../core/reactiveUtils.js\";\nimport { pt2px as a } from \"../../../../core/screenUtils.js\";\nimport { create as o } from \"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { computeSpanningSegment as m, OffsetSegmentLocation as r, maxScreenLengthSquaredFromGeometry as f, offsetSegment as d } from \"./lengthDimensionUtils.js\";\nimport { smallScreenLengthLineSizeFactor as c, minScreenLengthFontSizeFactor as h, labelMarginPx as u } from \"./settings.js\";\nimport { LabelVisualElement as S } from \"../../interactive/visualElements/LabelVisualElement.js\";\nimport { LineVisualElement as g } from \"../../interactive/visualElements/LineVisualElement.js\";\nimport { MarkerVisualElement as p } from \"../../interactive/visualElements/MarkerVisualElement.js\";\nimport { EuclideanSegment as v } from \"../../interactive/visualElements/support/Segment.js\";\nclass b {\n  set visible(e) {\n    for (const t of this._visualElements.values()) t.attached = e;\n  }\n  constructor(s) {\n    this.destroyed = !1, this._handles = new e(), this._messages = null, this._labelSegment = new v();\n    const {\n      analysis: i,\n      computation: o,\n      view: m,\n      messages: r,\n      isDecoration: f\n    } = s;\n    this.analysis = i, this.computation = o, this.view = m, this._messages = r;\n    const d = s.visible,\n      c = {\n        view: m,\n        attached: d,\n        isDecoration: f\n      },\n      {\n        fontSize: h,\n        textColor: u,\n        textBackgroundColor: b\n      } = i.style;\n    this._visualElements = new E({\n      marker: new p(c, s.markerMaterial),\n      dimension: new g(c, s.dimensionLineMaterial),\n      startOffset: new g(c, s.offsetLineMaterial),\n      endOffset: new g(c, s.offsetLineMaterial),\n      dimensionSmall: new g(c, s.smallDimensionLineMaterial),\n      startOffsetSmall: new g(c, s.smallOffsetLineMaterial),\n      endOffsetSmall: new g(c, s.smallOffsetLineMaterial),\n      label: new S({\n        view: m,\n        attached: d,\n        distance: 0,\n        geometry: {\n          type: \"segment\",\n          sampleLocation: \"center\",\n          segment: this._labelSegment,\n          callout: !1\n        },\n        fontSize: a(h),\n        textColor: u.clone(),\n        backgroundColor: b.clone(),\n        isDecoration: f\n      })\n    }), this._handles.add([n(() => o.geometry, e => {\n      this.updateCameraDependentElements(m.state.camera, e, i.style), null != o.geometry && this._updateLines(o.geometry);\n    }, {\n      ...l,\n      equals: t\n    }), n(() => o.length, e => this._updateLabelContent(e), l)]);\n  }\n  destroy() {\n    this.destroyed = !0, this._handles = s(this._handles);\n    for (const e of this._visualElements.values()) e.destroy();\n  }\n  get testInfo() {}\n  _updateLines(e) {\n    const t = m(y, r.Start, e.directSegment, e.dimensionSegment),\n      s = m(_, r.End, e.directSegment, e.dimensionSegment),\n      i = this._visualElements;\n    i.marker.setGeometryFromSegment(e.dimensionSegment, e.primaryOffsetAxis), i.dimension.setGeometryFromSegment(e.dimensionSegment), i.startOffset.setGeometryFromSegment(t), i.endOffset.setGeometryFromSegment(s), i.dimensionSmall.setGeometryFromSegment(e.dimensionSegment), i.startOffsetSmall.setGeometryFromSegment(t), i.endOffsetSmall.setGeometryFromSegment(s);\n  }\n  updateCameraDependentElements(e, t, s) {\n    const i = this._visualElements;\n    if (null == t) {\n      for (const e of i.values()) e.visible = !1;\n      return;\n    }\n    const n = e.computeScreenPixelSizeAt(t.dimensionSegment.eval(.5, w)),\n      l = f(t, n),\n      o = l < (a(s.lineSize) * c) ** 2,\n      m = !o;\n    i.marker.visible = m, i.dimension.visible = m, i.startOffset.visible = m, i.endOffset.visible = m, i.dimensionSmall.visible = o, i.startOffsetSmall.visible = o, i.endOffsetSmall.visible = o;\n    const r = a(s.fontSize) * h,\n      {\n        label: u\n      } = i;\n    if (u.visible = l >= r ** 2, !u.visible) return;\n    const {\n        dimensionSegment: S,\n        primaryOffsetAxis: g\n      } = t,\n      {\n        offset: p\n      } = this.computation.dimension,\n      v = (Math.sign(p) >= 0 ? 1 : -1) * O(s) * n;\n    d(this._labelSegment, S, g, v), u.updateLabelPosition();\n  }\n  updateLabelStyle(e) {\n    const {\n      label: t\n    } = this._visualElements;\n    t.fontSize = a(e.fontSize), t.textColor = e.textColor, t.backgroundColor = e.textBackgroundColor;\n  }\n  updateUnitsMessages(e) {\n    this._messages = e;\n    const {\n      length: t\n    } = this.computation;\n    this._updateLabelContent(t);\n  }\n  _updateLabelContent(e) {\n    const {\n      label: t\n    } = this._visualElements;\n    null != e && null != this._messages ? t.text = i(this._messages, e, e.unit) : t.text = \"\";\n  }\n}\nfunction O(e) {\n  return 1.5 * a(e.fontSize) + u + a(e.lineSize / 2);\n}\nconst y = new v(),\n  _ = new v(),\n  w = o();\nclass E {\n  constructor(e) {\n    this.marker = e.marker, this.dimension = e.dimension, this.startOffset = e.startOffset, this.endOffset = e.endOffset, this.dimensionSmall = e.dimensionSmall, this.startOffsetSmall = e.startOffsetSmall, this.endOffsetSmall = e.endOffsetSmall, this.label = e.label;\n  }\n  values() {\n    return [this.marker, this.dimension, this.startOffset, this.endOffset, this.dimensionSmall, this.startOffsetSmall, this.endOffsetSmall, this.label];\n  }\n}\nexport { E as LengthDimensionVisualElements, b as LengthDimensionVisualization };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../../chunks/tslib.es6.js\";\nimport i from \"../../../../Color.js\";\nimport \"../../../../intl.js\";\nimport s from \"../../../../core/Accessor.js\";\nimport { makeHandle as t, destroyHandle as a } from \"../../../../core/handleUtils.js\";\nimport \"../../../../core/has.js\";\nimport { mapCollection as r, watch as o, syncAndInitial as n, when as l, sync as m } from \"../../../../core/reactiveUtils.js\";\nimport { pt2px as c } from \"../../../../core/screenUtils.js\";\nimport { property as d } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as h } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { ZEROS as p } from \"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { LengthDimensionVisualization as u } from \"./LengthDimensionVisualization.js\";\nimport { markerLineSizeFraction as f, offsetLineSizeFraction as g } from \"./settings.js\";\nimport { RenderOccludedFlag as M } from \"../../webgl-engine/lib/Material.js\";\nimport { LineMarkerMaterial as _ } from \"../../webgl-engine/materials/LineMarkerMaterial.js\";\nimport { createStipplePatternSimple as y } from \"../../webgl-engine/materials/lineStippleUtils.js\";\nimport { RibbonLineMaterial as w } from \"../../webgl-engine/materials/RibbonLineMaterial.js\";\nimport { LineMarkerAnchor as v } from \"../../webgl-engine/shaders/LineMarkerTechniqueConfiguration.js\";\nimport { onLocaleChange as L } from \"../../../../intl/locale.js\";\nimport { fetchMessageBundle as j } from \"../../../../intl/messages.js\";\nlet b = class extends s {\n  get analysis() {\n    return this.analysisViewData.analysis;\n  }\n  get visible() {\n    return this.analysisViewData.visible;\n  }\n  constructor(e) {\n    super(e), this.loadingMessages = !1, this._messages = null;\n  }\n  initialize() {\n    const e = this.isDecoration;\n    this._markerMaterial = new _({\n      width: 1,\n      anchor: v.Tip,\n      color: p,\n      placement: \"begin-end\",\n      worldSpace: !0,\n      hideOnShortSegments: !0,\n      hasTip: !0,\n      renderOccluded: M.OccludeAndTransparent,\n      markerPrimitive: \"triangle\",\n      isDecoration: e\n    }), this._dimensionLineMaterial = new w({\n      width: 1,\n      color: p,\n      renderOccluded: M.OccludeAndTransparent,\n      markerParameters: this._markerMaterial.parameters,\n      isDecoration: e\n    }), this._offsetLineMaterial = new w({\n      width: 1,\n      color: p,\n      renderOccluded: M.OccludeAndTransparent,\n      stipplePattern: y(5),\n      isDecoration: e\n    }), this._smallDimensionLineMaterial = new w({\n      width: 1,\n      color: p,\n      renderOccluded: M.OccludeAndTransparent,\n      isDecoration: e\n    }), this._smallOffsetLineMaterial = new w({\n      width: 1,\n      color: p,\n      renderOccluded: M.OccludeAndTransparent,\n      stipplePattern: y(5),\n      isDecoration: e\n    });\n    for (const i of this._lineMaterials()) this.view._stage.add(i), this.addHandles(t(() => {\n      this.view._stage?.remove(i);\n    }));\n    const s = r(() => this.analysisViewData.computations, ({\n      computation: e\n    }) => this._createVisualization(e));\n    this._dimensionVisualizations = s, this.addHandles([a(s), o(() => i.toUnitRGBA(this.analysis.style.color), e => {\n      for (const i of this._lineMaterials()) i.setParameters({\n        color: e\n      });\n    }, n), o(() => this.analysis.style.lineSize, e => {\n      const i = c(e);\n      this._markerMaterial.setParameters({\n        width: i * f\n      }), this._dimensionLineMaterial.setParameters({\n        width: i,\n        markerParameters: this._markerMaterial.parameters\n      });\n      const s = Math.max(i * g, 1);\n      this._offsetLineMaterial.setParameters({\n        width: s\n      });\n    }, n), o(() => ({\n      camera: this.view.state.camera,\n      style: D(this.analysis)\n    }), ({\n      camera: e,\n      style: i\n    }) => {\n      for (const {\n        visualization: s\n      } of this._dimensionVisualizations) s.updateCameraDependentElements(e, s.computation.geometry, i), s.updateLabelStyle(i);\n    }), o(() => this.visible, e => {\n      for (const {\n        visualization: i\n      } of this._dimensionVisualizations) i.visible = e;\n    })]), this.addHandles([L(() => this._updateMessageBundle()), l(() => !this.loadingMessages, () => {\n      for (const {\n        visualization: e\n      } of this._dimensionVisualizations) e.updateUnitsMessages(this._messages);\n    }, m)]), this._updateMessageBundle();\n  }\n  get testInfo() {}\n  _createVisualization(e) {\n    const i = new u({\n      analysis: this.analysis,\n      computation: e,\n      view: this.view,\n      visible: this.visible,\n      markerMaterial: this._markerMaterial,\n      dimensionLineMaterial: this._dimensionLineMaterial,\n      offsetLineMaterial: this._offsetLineMaterial,\n      smallDimensionLineMaterial: this._smallDimensionLineMaterial,\n      smallOffsetLineMaterial: this._smallOffsetLineMaterial,\n      messages: this._messages,\n      isDecoration: this.isDecoration\n    });\n    return {\n      visualization: i,\n      remove: () => i.destroy()\n    };\n  }\n  _lineMaterials() {\n    return [this._markerMaterial, this._dimensionLineMaterial, this._offsetLineMaterial, this._smallDimensionLineMaterial, this._smallOffsetLineMaterial];\n  }\n  async _updateMessageBundle() {\n    this.loadingMessages = !0;\n    try {\n      this._messages = await j(\"esri/core/t9n/Units\");\n    } finally {\n      this.loadingMessages = !1;\n    }\n  }\n};\nfunction D(e) {\n  const {\n    fontSize: i,\n    lineSize: s,\n    textColor: t,\n    textBackgroundColor: a\n  } = e.style;\n  return {\n    fontSize: i,\n    lineSize: s,\n    textBackgroundColor: a.clone(),\n    textColor: t.clone()\n  };\n}\ne([d({\n  constructOnly: !0\n})], b.prototype, \"analysisViewData\", void 0), e([d({\n  constructOnly: !0,\n  nonNullable: !0\n})], b.prototype, \"view\", void 0), e([d({\n  constructOnly: !0\n})], b.prototype, \"isDecoration\", void 0), e([d()], b.prototype, \"analysis\", null), e([d()], b.prototype, \"visible\", null), e([d()], b.prototype, \"loadingMessages\", void 0), b = e([h(\"esri.views.3d.analysis.Dimension.DimensionVisualization\")], b);\nexport { b as DimensionVisualization };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../chunks/tslib.es6.js\";\nimport s from \"../../core/Accessor.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../core/accessorSupport/decorators/subclass.js\";\nlet t = class extends s {\n  constructor(o) {\n    super(o), this.dimension = null, this.length = null;\n  }\n};\no([r({\n  constructOnly: !0,\n  nonNullable: !0\n})], t.prototype, \"dimension\", void 0), o([r()], t.prototype, \"length\", void 0), t = o([e(\"esri.views.analysis.LengthDimensionResult\")], t);\nconst c = t;\nexport { c as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport o from \"../../../../core/Accessor.js\";\nimport { watch as e, syncAndInitial as n } from \"../../../../core/reactiveUtils.js\";\nimport { property as i } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/Logger.js\";\nimport \"../../../../core/RandomLCG.js\";\nimport { subclass as r } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport s from \"../../../analysis/LengthDimensionResult.js\";\nlet l = class extends o {\n  constructor(t) {\n    super(t), this.geometry = null, this.unconstrainedGeometry = null, this.elevationAlignedStartPoint = null, this.elevationAlignedEndPoint = null;\n  }\n  normalizeCtorArgs(t) {\n    const {\n      dimension: o,\n      ...e\n    } = t;\n    return {\n      result: new s({\n        dimension: o\n      }),\n      ...e\n    };\n  }\n  initialize() {\n    this.addHandles([e(() => this.dimension.startPoint, t => this.elevationAlignedStartPoint = this.projectAndAlignPoint(t), n), e(() => this.dimension.endPoint, t => this.elevationAlignedEndPoint = this.projectAndAlignPoint(t), n)]);\n  }\n  get dimension() {\n    return this.result.dimension;\n  }\n  get length() {\n    return this.result.length;\n  }\n};\nt([i({\n  constructOnly: !0,\n  nonNullable: !0\n})], l.prototype, \"result\", void 0), t([i({\n  constructOnly: !0,\n  nonNullable: !0\n})], l.prototype, \"projectAndAlignPoint\", void 0), t([i()], l.prototype, \"dimension\", null), t([i()], l.prototype, \"length\", null), t([i()], l.prototype, \"geometry\", void 0), t([i()], l.prototype, \"unconstrainedGeometry\", void 0), t([i()], l.prototype, \"elevationAlignedStartPoint\", void 0), t([i()], l.prototype, \"elevationAlignedEndPoint\", void 0), t([i()], l.prototype, \"preConstraintProperties\", void 0), t([i()], l.prototype, \"previousConstraint\", void 0), l = t([r(\"esri.views.3d.analysis.Dimension.LengthDimensionComputation\")], l);\nexport { l as LengthDimensionComputation };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../chunks/tslib.es6.js\";\nimport e from \"../../core/Collection.js\";\nimport { property as t } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/Logger.js\";\nimport \"../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../core/accessorSupport/decorators/subclass.js\";\nconst r = r => {\n  let i = class extends r {\n    constructor(...o) {\n      super(...o), this.analysis = null, this.tool = null, this.selectedDimension = null, this.interactive = !1, this.visible = null;\n    }\n    get results() {\n      return new e();\n    }\n    createLengthDimensions(o) {\n      throw new Error(\"Method not implemented.\");\n    }\n  };\n  return o([t({\n    constructOnly: !0\n  })], i.prototype, \"view\", void 0), o([t({\n    constructOnly: !0,\n    nonNullable: !0\n  })], i.prototype, \"analysis\", void 0), o([t()], i.prototype, \"tool\", void 0), o([t({\n    readOnly: !0\n  })], i.prototype, \"results\", null), o([t()], i.prototype, \"selectedDimension\", void 0), o([t()], i.prototype, \"interactive\", void 0), o([t()], i.prototype, \"visible\", void 0), i = o([s(\"esri.views.analysis.DimensionAnalysisView\")], i), i;\n};\nexport { r as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as i } from \"../../../chunks/tslib.es6.js\";\nimport s from \"../../../core/Accessor.js\";\nimport { destroyHandle as t } from \"../../../core/handleUtils.js\";\nimport \"../../../core/has.js\";\nimport o from \"../../../core/Logger.js\";\nimport { abortMaybe as e, destroyMaybe as n } from \"../../../core/maybe.js\";\nimport { mapCollection as a } from \"../../../core/reactiveUtils.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as l } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { AnalysisView3D as m } from \"./AnalysisView3D.js\";\nimport { DimensionController as p } from \"./Dimension/DimensionController.js\";\nimport { DimensionTool as c } from \"./Dimension/DimensionTool.js\";\nimport { DimensionVisualization as u } from \"./Dimension/DimensionVisualization.js\";\nimport { LengthDimensionComputation as d } from \"./Dimension/LengthDimensionComputation.js\";\nimport { applyProjectionAndElevationAlignment as h, logFailedGeometryProjectionError as y } from \"./support/projectionUtils.js\";\nimport { connectAnalysisViewToTool as _, removeAnalysisViewTool as j, activateAnalysisViewTool as D } from \"../../analysis/analysisViewUtils.js\";\nimport f from \"../../analysis/DimensionAnalysisView.js\";\nlet g = class extends f(m(s)) {\n  constructor(i) {\n    super(i), this.type = \"dimension-view-3d\", this.tool = null, this.selectedDimension = null, this._dimensionsToComputations = new Map(), this._placementTask = null, this._projectAndAlignPoint = null;\n  }\n  initialize() {\n    this._projectAndAlignPoint = i => {\n      if (null == i) return null;\n      const {\n          spatialReference: s,\n          elevationProvider: t\n        } = this.view,\n        e = h(i, s, t);\n      return null == e && y(this.analysis, i.spatialReference, o.getLogger(this)), e;\n    };\n    const i = a(() => this.analysis.dimensions, i => this._createComputation(i));\n    this.computations = i, this.addHandles([_(this, c), t(i)]), this._analysisVisualization = new u({\n      analysisViewData: this,\n      view: this.view,\n      isDecoration: !this.parent\n    }), this._analysisController = new p({\n      analysisViewData: this,\n      view: this.view\n    });\n  }\n  destroy() {\n    this._placementTask = e(this._placementTask), this._analysisVisualization = n(this._analysisVisualization), j(this);\n  }\n  get updating() {\n    return this._analysisVisualization?.loadingMessages ?? !1;\n  }\n  get results() {\n    return this.analysis.dimensions.map(i => this._dimensionsToComputations.get(i).result);\n  }\n  get selectedComputation() {\n    const {\n      selectedDimension: i\n    } = this;\n    return null == i ? null : this._dimensionsToComputations.get(i);\n  }\n  get testInfo() {}\n  async createLengthDimensions(i) {\n    return this.selectedDimension = null, this._placementTask = e(this._placementTask), this._placementTask = D(this, i), this._placementTask.promise;\n  }\n  _createComputation(i) {\n    const {\n        _dimensionsToComputations: s\n      } = this,\n      t = new d({\n        dimension: i,\n        projectAndAlignPoint: this._projectAndAlignPoint\n      });\n    return s.set(i, t), {\n      computation: t,\n      remove: () => this._removeComputation(t)\n    };\n  }\n  _removeComputation(i) {\n    const {\n      dimension: s\n    } = i;\n    s === this.selectedDimension && (this.selectedDimension = null), this._dimensionsToComputations.delete(s), i.destroy();\n  }\n};\ni([r({\n  readOnly: !0\n})], g.prototype, \"type\", void 0), i([r()], g.prototype, \"tool\", void 0), i([r()], g.prototype, \"updating\", null), i([r({\n  readOnly: !0\n})], g.prototype, \"results\", null), i([r()], g.prototype, \"computations\", void 0), i([r()], g.prototype, \"selectedDimension\", void 0), i([r()], g.prototype, \"selectedComputation\", null), i([r()], g.prototype, \"_analysisVisualization\", void 0), i([r()], g.prototype, \"_analysisController\", void 0), i([r()], g.prototype, \"_dimensionsToComputations\", void 0), i([r()], g.prototype, \"_placementTask\", void 0), g = i([l(\"esri.views.3d.analysis.DimensionAnalysisView3D\")], g);\nconst v = g;\nexport { v as default };"],
  "mappings": "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",
  "names": ["w", "t", "o", "a", "s", "m", "e", "n", "d", "z", "r", "i", "C", "l", "V", "c", "G", "b", "M", "O", "u", "q", "P", "I", "f", "v", "y", "E", "j", "x", "_", "p", "F", "h", "K", "N", "X", "Z", "g", "t", "l", "e", "d", "z", "s", "o", "j", "i", "C", "w", "n", "o", "c", "G", "e", "i", "u", "l", "f", "m", "s", "p", "C", "a", "j", "w", "x", "U", "b", "d", "g", "h", "k", "e", "t", "r", "n", "f", "u", "i", "d", "g", "b", "p", "l", "C", "a", "j", "o", "s", "c", "m", "q", "h", "z", "_", "O", "I", "w", "V", "K", "N", "P", "P", "p", "e", "t", "f", "s", "u", "K", "g", "N", "S", "v", "y", "A", "R", "j", "z", "d", "n", "i", "o", "r", "a", "l", "c", "m", "gt", "t", "h", "e", "E", "p", "P", "R", "i", "a", "f", "u", "d", "g", "n", "c", "s", "o", "l", "r", "N", "m", "_", "G", "z", "C", "S", "g", "e", "S", "o", "t", "gt", "l", "d", "p", "c", "i", "n", "a", "e", "t", "h", "r", "i", "q", "O", "R", "b", "e", "t", "s", "i", "o", "m", "r", "f", "d", "c", "h", "u", "E", "n", "y", "_", "w", "l", "X", "k", "U", "S", "g", "p", "v", "O", "M", "x", "b", "e", "O", "s", "_", "h", "z", "i", "l", "d", "u", "w", "D", "t", "a", "t", "o", "e", "c", "l", "t", "o", "e", "c", "d", "r", "i", "o", "e", "g", "r", "s", "i", "t", "e", "a", "S", "l", "b", "v"]
}
