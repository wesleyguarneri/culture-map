import {
  A as A2,
  C as C2,
  E,
  E2,
  E3,
  F,
  M as M3,
  P as P2,
  R,
  S as S3,
  S2 as S4,
  U as U2,
  a as a4,
  b as b4,
  d as d6,
  i as i3,
  j as j2,
  m,
  n as n4,
  o as o4,
  p as p4,
  p2 as p5,
  t,
  w as w3
} from "./chunk-EGCRHOVQ.js";
import {
  at
} from "./chunk-DXJWONZ5.js";
import "./chunk-JF6YDQ2P.js";
import "./chunk-NZE6NI7O.js";
import "./chunk-R5TKJUPW.js";
import "./chunk-MFO6JQK6.js";
import "./chunk-ZPAFBEE7.js";
import "./chunk-UAJWZMIJ.js";
import "./chunk-2TI7BB35.js";
import "./chunk-7VHQSCRN.js";
import "./chunk-OEHDMT4P.js";
import "./chunk-HW3L4VAK.js";
import "./chunk-7E55V6Q7.js";
import "./chunk-TPDHAOY6.js";
import "./chunk-JSBFNTSJ.js";
import "./chunk-GICNYLA4.js";
import "./chunk-V2F5C2UG.js";
import "./chunk-VNEQYYJH.js";
import "./chunk-QCXSVD3K.js";
import "./chunk-ZELUSWEM.js";
import "./chunk-2TNHWHKB.js";
import "./chunk-LGOPK4HF.js";
import "./chunk-YM3C5QII.js";
import "./chunk-ITLE6RXP.js";
import "./chunk-XLUW354K.js";
import "./chunk-ROAOM6N7.js";
import "./chunk-CMQ4UJKJ.js";
import "./chunk-Z2YTTAW2.js";
import "./chunk-ZHNWVDWM.js";
import "./chunk-O6QYO3QA.js";
import "./chunk-IIAGO3R6.js";
import "./chunk-7VSW2U7Y.js";
import "./chunk-IVKE5IFG.js";
import "./chunk-T32ZZS7S.js";
import "./chunk-3J75CTGF.js";
import "./chunk-DPEX222Z.js";
import "./chunk-EM7X4J4S.js";
import "./chunk-4BJTCQKW.js";
import "./chunk-XAGLWTE6.js";
import "./chunk-7W32T7KY.js";
import "./chunk-YFC23HKN.js";
import "./chunk-KBAXMVAM.js";
import "./chunk-6N3CFEVA.js";
import "./chunk-ZP6PYGBR.js";
import "./chunk-AQH46KWJ.js";
import "./chunk-ILQLJ2ZA.js";
import "./chunk-6PMC7Z2K.js";
import "./chunk-Z4AXZULQ.js";
import "./chunk-WLZIKLQT.js";
import "./chunk-ISTWMT33.js";
import "./chunk-ZERTHD35.js";
import "./chunk-DS4TVPST.js";
import "./chunk-VDJL72FK.js";
import "./chunk-SBMU7RBF.js";
import "./chunk-GN4ES4ZM.js";
import "./chunk-DABQKFI5.js";
import "./chunk-WB2PLZ2R.js";
import "./chunk-PA5PVFOE.js";
import "./chunk-XVYR2JNI.js";
import "./chunk-6HNAQ6T3.js";
import "./chunk-M66N34RL.js";
import "./chunk-UJF7LPVD.js";
import "./chunk-5A6MLLPH.js";
import "./chunk-PPMYY5TL.js";
import "./chunk-ONNA6736.js";
import "./chunk-ZEJV2HHS.js";
import "./chunk-7RD4KVUX.js";
import "./chunk-S2OEQYU7.js";
import "./chunk-UAMCUBIO.js";
import "./chunk-PR6QK2UX.js";
import "./chunk-HHHY7K7M.js";
import "./chunk-PRMR227H.js";
import "./chunk-APWDCJIJ.js";
import "./chunk-NEPAFG4J.js";
import "./chunk-E7VVOB2F.js";
import "./chunk-DOYOAB3G.js";
import "./chunk-DDIAZD6H.js";
import "./chunk-7YXVUZL6.js";
import "./chunk-6YVA5E7L.js";
import "./chunk-4KGPH7OX.js";
import "./chunk-TLAW3ACJ.js";
import "./chunk-GFPWBDCO.js";
import "./chunk-MQUE5HQL.js";
import "./chunk-TKHURHLF.js";
import "./chunk-U7YHNT5S.js";
import "./chunk-UW23RIEM.js";
import "./chunk-R6CAUNOR.js";
import "./chunk-6BPYXCCQ.js";
import "./chunk-TMIIQZKR.js";
import "./chunk-ROVEMBDA.js";
import "./chunk-ZIDRXKSJ.js";
import "./chunk-DBK2ELNZ.js";
import "./chunk-S2GZKKIE.js";
import "./chunk-JMV2M56E.js";
import "./chunk-ZQYSUMPX.js";
import "./chunk-CZLVBJSQ.js";
import "./chunk-S2UCXOWF.js";
import "./chunk-VI6HLZLR.js";
import "./chunk-MYKOM3G6.js";
import "./chunk-6FZS4YUQ.js";
import "./chunk-JRZPZOI3.js";
import "./chunk-TP2RTSHJ.js";
import "./chunk-GW7WMRYJ.js";
import "./chunk-LWAFK7Z6.js";
import "./chunk-Z52R7W33.js";
import "./chunk-O7OCS6XP.js";
import "./chunk-BFWLPS7M.js";
import "./chunk-67LE7VNQ.js";
import "./chunk-ENI3KAZB.js";
import "./chunk-ZVEHH7XL.js";
import "./chunk-BJM7H6OC.js";
import "./chunk-5MM5MT6Q.js";
import "./chunk-SCLVG2SO.js";
import "./chunk-557LD7Q2.js";
import "./chunk-B64VDY5O.js";
import "./chunk-MAG65NGG.js";
import "./chunk-X5UPCJEP.js";
import "./chunk-6R6EEJ3E.js";
import "./chunk-2ONAF54K.js";
import "./chunk-K74MUOGN.js";
import {
  X
} from "./chunk-JALG5M2J.js";
import "./chunk-LLR77XQN.js";
import "./chunk-INYEUJYL.js";
import "./chunk-YF63GM43.js";
import {
  L
} from "./chunk-OMJYNM3Z.js";
import {
  b as b3
} from "./chunk-2EMKXJIJ.js";
import "./chunk-B4LTKMH6.js";
import "./chunk-WHRK5GAD.js";
import "./chunk-JXZY6SQ6.js";
import "./chunk-VKFHARPM.js";
import "./chunk-4IQCDSYS.js";
import "./chunk-FLWLBYXO.js";
import "./chunk-F2TT4B6M.js";
import "./chunk-5KKZ52BZ.js";
import "./chunk-HWLSLE35.js";
import "./chunk-R5KR44YC.js";
import {
  p as p2,
  p2 as p3
} from "./chunk-SLXFHEHV.js";
import "./chunk-XVR4FEAF.js";
import "./chunk-NLEBYD5G.js";
import "./chunk-MOCGEINB.js";
import "./chunk-NSSWLGUQ.js";
import "./chunk-6HTAUV5K.js";
import "./chunk-K4UHA6L6.js";
import "./chunk-VDYOVDYI.js";
import "./chunk-IJVQCMOT.js";
import "./chunk-RVQEQAAL.js";
import "./chunk-THCMKQQM.js";
import "./chunk-47UZMDGX.js";
import "./chunk-VXS54B3Z.js";
import "./chunk-L7Q5TZIL.js";
import "./chunk-3FOAT37X.js";
import {
  _ as _2
} from "./chunk-2ERGO64O.js";
import "./chunk-RP2GKJCD.js";
import {
  ct
} from "./chunk-3HIWR7QD.js";
import "./chunk-XTCHBO6P.js";
import {
  d as d5
} from "./chunk-NE4OJEWH.js";
import "./chunk-JKPO26TR.js";
import "./chunk-7DQI4OOA.js";
import "./chunk-OICO7AS6.js";
import "./chunk-R3AQ3TGL.js";
import "./chunk-BLE2CCDD.js";
import "./chunk-6QDMUFEM.js";
import "./chunk-T3454WZK.js";
import "./chunk-6YA72G7G.js";
import "./chunk-QL5HR3YL.js";
import "./chunk-37FUJHR2.js";
import "./chunk-YKOY3XWH.js";
import "./chunk-D3AKDIJC.js";
import {
  e as e7
} from "./chunk-ZDGJDLVE.js";
import "./chunk-TDWXQPNS.js";
import {
  o as o3
} from "./chunk-3JEG7JG5.js";
import "./chunk-IM5W3NWZ.js";
import "./chunk-IIVUY2T7.js";
import {
  e as e6
} from "./chunk-HBMA4SRU.js";
import "./chunk-BAAB562I.js";
import "./chunk-R27BBJA3.js";
import {
  u as u3
} from "./chunk-UJNILYWQ.js";
import "./chunk-AMEKD7JM.js";
import "./chunk-ATQ5GYTB.js";
import {
  h as h5
} from "./chunk-GT3AQDRW.js";
import "./chunk-5APMY2AQ.js";
import "./chunk-ANZPTCB4.js";
import {
  J,
  S as S2,
  T
} from "./chunk-GHUJU3NS.js";
import {
  M as M2,
  u as u2
} from "./chunk-IDKCBTLP.js";
import "./chunk-NFLW5XFN.js";
import {
  N
} from "./chunk-6562L2GA.js";
import "./chunk-SBTROJY3.js";
import "./chunk-ZUHJZKEM.js";
import "./chunk-B4EEJXBQ.js";
import "./chunk-JA2C7MTO.js";
import "./chunk-74INNEIP.js";
import "./chunk-7HBD4CJ3.js";
import "./chunk-K2LTET4M.js";
import "./chunk-WG5JLPNN.js";
import "./chunk-25PMMPR7.js";
import "./chunk-7XAWCQ7R.js";
import "./chunk-RASN5P76.js";
import "./chunk-5L3YXBNN.js";
import "./chunk-IFUKJDOU.js";
import "./chunk-LD5YIQXD.js";
import "./chunk-J7KF6IEI.js";
import "./chunk-GOKBAMCG.js";
import "./chunk-E3P3LIVT.js";
import "./chunk-HUX6Y26H.js";
import "./chunk-LN4EMOLP.js";
import "./chunk-PDYGQYJC.js";
import "./chunk-JS5N3Y4L.js";
import "./chunk-PO7V7AQE.js";
import "./chunk-JO42C6R3.js";
import "./chunk-PZH3N2FW.js";
import "./chunk-U4WO2GC4.js";
import "./chunk-JO76LYW5.js";
import "./chunk-A6XTYETO.js";
import "./chunk-EKCE56CG.js";
import "./chunk-4TJAOUC3.js";
import "./chunk-CILAEMQM.js";
import "./chunk-WRHEXEG3.js";
import "./chunk-3HAZL2RZ.js";
import "./chunk-XUAPJ5BK.js";
import "./chunk-TEOUFCJA.js";
import "./chunk-GTZOXRB5.js";
import "./chunk-3WPOFZBT.js";
import "./chunk-PPMHRAOP.js";
import "./chunk-75N5YDQB.js";
import "./chunk-3MNGTHM3.js";
import "./chunk-XGDLE7WK.js";
import "./chunk-QMUS26QM.js";
import "./chunk-GDEAPZ64.js";
import "./chunk-TCQSUQ7Y.js";
import "./chunk-GOOZVNO4.js";
import "./chunk-JUTKZ3GO.js";
import "./chunk-5RHKQDDL.js";
import "./chunk-BG32AOSQ.js";
import "./chunk-PEZTN5WV.js";
import "./chunk-FHW2TG7X.js";
import "./chunk-33LKI2Y7.js";
import "./chunk-YCQXFVJL.js";
import "./chunk-ZAP7ZEWR.js";
import "./chunk-YAGNWBGU.js";
import "./chunk-DE6MQ5XE.js";
import "./chunk-LQTSBE7P.js";
import "./chunk-GCFUJXGH.js";
import "./chunk-MBMY7SS6.js";
import "./chunk-ICUHXX2J.js";
import "./chunk-VIIVMRRO.js";
import "./chunk-ZKSEQXDM.js";
import "./chunk-675UQNXB.js";
import "./chunk-DXGCBLDW.js";
import "./chunk-Z3FHX4FD.js";
import "./chunk-SUUOAZQT.js";
import "./chunk-TGHJVD7I.js";
import "./chunk-OZG2NNUW.js";
import "./chunk-KTRZHJ2M.js";
import "./chunk-KOIKSJSQ.js";
import "./chunk-VUVXW4AC.js";
import "./chunk-LKHUGH5W.js";
import "./chunk-ODLAAWPY.js";
import "./chunk-VWVZLPC3.js";
import "./chunk-P2MXQ2EV.js";
import "./chunk-QZVEEM53.js";
import "./chunk-ACZYDHB3.js";
import "./chunk-JXVDTUGR.js";
import "./chunk-HAO4WCNW.js";
import "./chunk-X2OAE75B.js";
import "./chunk-UCPBGEQD.js";
import "./chunk-SIZK72CP.js";
import "./chunk-TXBBE7ID.js";
import "./chunk-BB54E5CP.js";
import "./chunk-SLCHZ6DD.js";
import "./chunk-4DJIV2NV.js";
import "./chunk-CX4XTOUC.js";
import "./chunk-SXUHX735.js";
import "./chunk-Q77FSDLB.js";
import "./chunk-Y37SHKPH.js";
import "./chunk-T64NGWGJ.js";
import "./chunk-SRFJDSP2.js";
import "./chunk-RTZ7XMXL.js";
import {
  $
} from "./chunk-EUVN3KSV.js";
import "./chunk-WBOVDU4O.js";
import "./chunk-TQYVLRAH.js";
import "./chunk-6A3XUATG.js";
import "./chunk-WX42XBL6.js";
import "./chunk-YZI2XBXY.js";
import "./chunk-WBUJP5OW.js";
import "./chunk-L64P7DHA.js";
import "./chunk-EYYHTDAX.js";
import "./chunk-TVV62TZG.js";
import "./chunk-ZNDAVKXT.js";
import "./chunk-5XOZP4XS.js";
import "./chunk-ZVFENZUF.js";
import {
  a as a3,
  w as w2
} from "./chunk-C2NHN5LF.js";
import "./chunk-OHXCVJMH.js";
import "./chunk-N3S77FRG.js";
import "./chunk-YYETZJJB.js";
import "./chunk-MD2IQSSQ.js";
import "./chunk-VHERB2HE.js";
import "./chunk-3PCYF7PE.js";
import "./chunk-TXQH7JZF.js";
import "./chunk-NJSYD5KZ.js";
import "./chunk-MPUFKSB2.js";
import "./chunk-Z6Z2SY6R.js";
import "./chunk-YZBHNRVB.js";
import "./chunk-RM2NVYWG.js";
import "./chunk-FICJP6TJ.js";
import "./chunk-ON42KCSZ.js";
import "./chunk-O6UMOA7Q.js";
import "./chunk-GP32WQRT.js";
import "./chunk-5JFTHL5W.js";
import "./chunk-KUYTX4V6.js";
import "./chunk-EXODD7PD.js";
import "./chunk-C7VF4AR2.js";
import "./chunk-EU7HJNZD.js";
import "./chunk-4HODTCAO.js";
import "./chunk-RSQ7FJBQ.js";
import "./chunk-EK3IKAMF.js";
import "./chunk-IJVN5N2Q.js";
import "./chunk-3NGDRCQI.js";
import "./chunk-TVUZAYCE.js";
import "./chunk-JCWQ2LOQ.js";
import "./chunk-P7OSFLIX.js";
import "./chunk-ZDC4PV4Y.js";
import "./chunk-O7ZVERIH.js";
import "./chunk-IIZFTYAL.js";
import "./chunk-YSIUOTSV.js";
import "./chunk-NQEXQAS7.js";
import "./chunk-R4DKV4UN.js";
import "./chunk-SNHPS7NU.js";
import "./chunk-L3F4XA4B.js";
import "./chunk-DLRYNII2.js";
import {
  l
} from "./chunk-GOKHH3SD.js";
import "./chunk-6E7LFKP2.js";
import "./chunk-2AV27Q4X.js";
import "./chunk-3HU4B6P4.js";
import "./chunk-5AUX2A3J.js";
import "./chunk-OCHDIAAK.js";
import "./chunk-ENQEWBGS.js";
import "./chunk-66QAJ2MI.js";
import "./chunk-WN3YAMRZ.js";
import "./chunk-NWICVENM.js";
import "./chunk-OUP4PSAG.js";
import "./chunk-A4RKV2C7.js";
import "./chunk-WU7FVYT7.js";
import "./chunk-SYYDVGKY.js";
import "./chunk-6HBAAUBO.js";
import "./chunk-YLE5AYZV.js";
import "./chunk-6V5NKLIC.js";
import "./chunk-CZQYBYHB.js";
import "./chunk-Q5ZRUB2Y.js";
import "./chunk-2XI572KI.js";
import "./chunk-R4P4UBKU.js";
import "./chunk-62WUYJJN.js";
import "./chunk-AWJPQWYU.js";
import "./chunk-JNWMZ6EJ.js";
import "./chunk-VS26W5Y5.js";
import "./chunk-LM2N2I5R.js";
import "./chunk-PVO5NM6Q.js";
import "./chunk-ZQ57XGAE.js";
import "./chunk-UXW277HY.js";
import "./chunk-OR5F5ACQ.js";
import "./chunk-E2WAKNLZ.js";
import "./chunk-D3XZUGMN.js";
import "./chunk-YFQ32AQX.js";
import "./chunk-L4AYSXFJ.js";
import "./chunk-POQ3T5EH.js";
import "./chunk-DM4WHMQY.js";
import "./chunk-C7NRYPDG.js";
import "./chunk-Z3GMSC63.js";
import "./chunk-F35MWZH7.js";
import "./chunk-ED7UGR2X.js";
import "./chunk-YA5CTHMT.js";
import "./chunk-4QBFFLOC.js";
import "./chunk-O437BSYE.js";
import "./chunk-YZNT6QWD.js";
import "./chunk-IBOZJLSO.js";
import "./chunk-JDUU4ZDX.js";
import "./chunk-TT5ZTQDR.js";
import "./chunk-6MR4UDDL.js";
import "./chunk-B7GRWOZI.js";
import "./chunk-SAOPWBKU.js";
import "./chunk-Z2JVKOTW.js";
import "./chunk-YW5DYBTP.js";
import "./chunk-2C54H6O6.js";
import "./chunk-UHMXQYZT.js";
import "./chunk-LZUPV7SL.js";
import "./chunk-2GRLWAHK.js";
import "./chunk-C3UDKWXD.js";
import "./chunk-YTFX4PFO.js";
import "./chunk-VOROPCKI.js";
import "./chunk-N3IR233K.js";
import "./chunk-DSMB46HB.js";
import "./chunk-USSQX44O.js";
import "./chunk-OTI4DGZ5.js";
import "./chunk-KQDYTHCF.js";
import "./chunk-TR6FCWXY.js";
import "./chunk-TROPJVOL.js";
import "./chunk-JKHDI77M.js";
import "./chunk-3AY5EJVP.js";
import "./chunk-XQCKIDQO.js";
import "./chunk-BNK4CEA6.js";
import "./chunk-BPMRTFHU.js";
import "./chunk-6LDLRQX4.js";
import "./chunk-Z4YAQ5JI.js";
import "./chunk-K2XCQKCC.js";
import "./chunk-AJS4B62I.js";
import "./chunk-S5EXT7FA.js";
import "./chunk-73Y7XDLH.js";
import "./chunk-YFOAET4H.js";
import "./chunk-5U4TBXYS.js";
import "./chunk-6WG22V46.js";
import "./chunk-OOGIXDXG.js";
import "./chunk-JFYQTYD3.js";
import "./chunk-KDJZAYOF.js";
import {
  c as c2
} from "./chunk-5453A3C5.js";
import "./chunk-HCFDI7IX.js";
import "./chunk-AQJS6F3O.js";
import "./chunk-WUB6LJVL.js";
import "./chunk-QXSES7JX.js";
import "./chunk-5YIMTGEC.js";
import "./chunk-YPU2P4KO.js";
import "./chunk-UFVMJL32.js";
import "./chunk-B67FUUE5.js";
import "./chunk-5GQ3OMCZ.js";
import "./chunk-2SMFPIRI.js";
import "./chunk-XCVOKQAA.js";
import "./chunk-3WQXHRJE.js";
import "./chunk-EBLQZUPS.js";
import "./chunk-URWREU3E.js";
import "./chunk-KE2YMCJC.js";
import "./chunk-L7ZKWTWL.js";
import "./chunk-O2DTA3XK.js";
import "./chunk-3UOXF3CT.js";
import "./chunk-WDDCGJTI.js";
import "./chunk-PA7WZX2U.js";
import "./chunk-GPUGMSHU.js";
import "./chunk-AIS5CSUZ.js";
import "./chunk-52UEU7LG.js";
import "./chunk-WJKYGQOY.js";
import "./chunk-GY52WOQZ.js";
import "./chunk-GAYJ4YPJ.js";
import "./chunk-PPMDUJ4E.js";
import "./chunk-ZTT6ENBS.js";
import "./chunk-MFZTGYUJ.js";
import "./chunk-R5ZE5A4K.js";
import "./chunk-24CN3HDP.js";
import "./chunk-SZWWBMQN.js";
import "./chunk-ZE47C44H.js";
import "./chunk-5GIS2C3K.js";
import "./chunk-XCOHDMBF.js";
import "./chunk-2GMKFOCL.js";
import "./chunk-ZR5BOILP.js";
import "./chunk-QCBC3RJX.js";
import "./chunk-6XGV55XZ.js";
import "./chunk-HOH445RO.js";
import "./chunk-R3F4JMNC.js";
import "./chunk-63QCTVYB.js";
import "./chunk-7B5YPLFX.js";
import "./chunk-RDQF44TE.js";
import "./chunk-KKD7A2GN.js";
import "./chunk-ZWCV4HKG.js";
import "./chunk-N4KQPPPI.js";
import "./chunk-4OGGMTIH.js";
import "./chunk-NQVBBKAN.js";
import "./chunk-U74WRHVJ.js";
import "./chunk-TCPN7AEH.js";
import "./chunk-4MMTPKY4.js";
import "./chunk-DY7FJHTG.js";
import "./chunk-Q4KYZS3X.js";
import "./chunk-KVKFHRJ3.js";
import "./chunk-VWML4J2J.js";
import "./chunk-JYODC3YQ.js";
import "./chunk-BQZBOYBD.js";
import "./chunk-TYQXPPSP.js";
import "./chunk-W2IRSMFY.js";
import {
  b as b2
} from "./chunk-TRSGUVSM.js";
import "./chunk-U3MA63JX.js";
import "./chunk-WYKKCLBI.js";
import "./chunk-PFMGJTQM.js";
import "./chunk-Q7SRMLJZ.js";
import "./chunk-PQ4T66BG.js";
import "./chunk-SWPHGZYB.js";
import "./chunk-DWASPXVI.js";
import "./chunk-TNWXOQKO.js";
import "./chunk-MAO5BVLA.js";
import "./chunk-T2S5VXNP.js";
import "./chunk-4U5GUJRA.js";
import "./chunk-7KRERHHR.js";
import "./chunk-T4AP6CTC.js";
import {
  d as d4
} from "./chunk-HD65DNIO.js";
import "./chunk-4KWLMXIA.js";
import "./chunk-BIUXKPKA.js";
import "./chunk-N6TJI25E.js";
import {
  c3 as c,
  h as h4
} from "./chunk-634JLXD4.js";
import "./chunk-Y3EDGYWG.js";
import "./chunk-UF6JOUSJ.js";
import "./chunk-T5JGQSO3.js";
import {
  i as i2
} from "./chunk-CIW3KHOW.js";
import "./chunk-J55F4AC2.js";
import "./chunk-IQLBZKUD.js";
import "./chunk-7MZZCQ64.js";
import "./chunk-5EBAJR7X.js";
import "./chunk-5JA2JHV3.js";
import "./chunk-MIQZ6UDY.js";
import "./chunk-JOJZ6YC5.js";
import "./chunk-L4TOCXR5.js";
import "./chunk-IMVP5ADD.js";
import "./chunk-H7WPOTQH.js";
import "./chunk-RTWBKPWJ.js";
import "./chunk-ZACL2JP7.js";
import "./chunk-L3T5PF4P.js";
import "./chunk-ZZEAVAVX.js";
import "./chunk-SJX5DIA7.js";
import "./chunk-SGSUM5YO.js";
import "./chunk-SG5TCCCK.js";
import "./chunk-6A7CWJED.js";
import "./chunk-LFKEQKEA.js";
import "./chunk-DUTZNK67.js";
import "./chunk-IN6BQCWS.js";
import "./chunk-MKJUISEU.js";
import "./chunk-CRNUMTSV.js";
import "./chunk-JM7HAEY6.js";
import "./chunk-YI35FRTC.js";
import {
  z
} from "./chunk-LJEOBI2I.js";
import "./chunk-2OMCGIU4.js";
import "./chunk-DOK4SACJ.js";
import "./chunk-OUKUASAF.js";
import "./chunk-V5RMUGJJ.js";
import "./chunk-D2NB6D6N.js";
import "./chunk-UWJIHV6Q.js";
import "./chunk-ZUSCOMQM.js";
import "./chunk-DSEUCBVP.js";
import "./chunk-UPDWQH75.js";
import "./chunk-RXWBJSJ5.js";
import "./chunk-M2NS3MSU.js";
import "./chunk-HMNBB7ED.js";
import "./chunk-3RRMLFFN.js";
import "./chunk-DR5TVNEL.js";
import "./chunk-HT2T6PUB.js";
import "./chunk-K64AAM77.js";
import "./chunk-6EUVKE22.js";
import "./chunk-A3NNJ7XA.js";
import "./chunk-OKJHJ3CY.js";
import "./chunk-XTVPEVHA.js";
import "./chunk-DTUSTSEJ.js";
import "./chunk-JCWFGRHQ.js";
import "./chunk-JILEJ6R2.js";
import "./chunk-GAW5JHG4.js";
import "./chunk-OEKKQXBD.js";
import {
  f as f4
} from "./chunk-S3IO7V4Q.js";
import "./chunk-DZALMCYL.js";
import "./chunk-K226GFDN.js";
import {
  o as o2
} from "./chunk-4ZZRP4MA.js";
import "./chunk-7ZJ6P7J7.js";
import "./chunk-FPFZQCEQ.js";
import "./chunk-VDB6Y4TZ.js";
import {
  B,
  e2 as e3,
  r
} from "./chunk-WYMXVOAT.js";
import {
  n as n3
} from "./chunk-K7TO5IIO.js";
import "./chunk-A4VVDRCH.js";
import "./chunk-CQDYITZC.js";
import "./chunk-5I6J67HP.js";
import {
  s as s4
} from "./chunk-YVULORT6.js";
import "./chunk-PB33BAI3.js";
import "./chunk-CVB43GGP.js";
import "./chunk-EODIWR2E.js";
import "./chunk-LLDOZWVV.js";
import "./chunk-FYAEQPUY.js";
import "./chunk-7XMEZQ34.js";
import "./chunk-BDM2D6IC.js";
import "./chunk-U2ZVAEKG.js";
import "./chunk-EDSMXTFO.js";
import "./chunk-MNLT652N.js";
import "./chunk-OGZAGPIO.js";
import "./chunk-HJJIIYFF.js";
import "./chunk-ONPREQKF.js";
import "./chunk-7RMVJCDW.js";
import "./chunk-GTY5NXA4.js";
import {
  j
} from "./chunk-T6GCUITX.js";
import "./chunk-TUIGM7TV.js";
import "./chunk-IHVSZYZS.js";
import "./chunk-6CA6K3O7.js";
import {
  w
} from "./chunk-NYQ5CYNR.js";
import {
  _,
  d as d3,
  e as e4
} from "./chunk-O7UDKFOW.js";
import {
  f as f3
} from "./chunk-TKPMIAIW.js";
import "./chunk-NQOJNTB3.js";
import "./chunk-MFOQYQFG.js";
import "./chunk-NKCPFCP3.js";
import {
  M,
  e as e5,
  h as h3
} from "./chunk-3ZXOUEQG.js";
import "./chunk-AXVPJBVW.js";
import "./chunk-OXEPWRM7.js";
import "./chunk-POILQGXA.js";
import "./chunk-JJS7PR2U.js";
import {
  s as s3
} from "./chunk-L5YS4GSA.js";
import "./chunk-PRREDSOB.js";
import {
  n as n2
} from "./chunk-V5C6HSAM.js";
import {
  U
} from "./chunk-SYATLP3H.js";
import {
  a as a2,
  f as f2
} from "./chunk-V6AMQYXE.js";
import {
  A,
  C,
  P,
  d as d2,
  p
} from "./chunk-6WHTZNUH.js";
import {
  V
} from "./chunk-EITGQLII.js";
import "./chunk-TIVJXVMN.js";
import {
  d
} from "./chunk-XNUH25NY.js";
import {
  o
} from "./chunk-WGAPNV7F.js";
import "./chunk-BXQGM56A.js";
import {
  e as e2
} from "./chunk-4Z5SGKRM.js";
import "./chunk-YPWMP2VK.js";
import "./chunk-23E6RT3O.js";
import "./chunk-RCBGISRX.js";
import "./chunk-2P72IR2Y.js";
import {
  S,
  i
} from "./chunk-ANKOCGE2.js";
import {
  y
} from "./chunk-7CJXZOFG.js";
import "./chunk-IRGZKO7V.js";
import "./chunk-5SELS7VU.js";
import {
  a3 as a
} from "./chunk-DDYVXG4F.js";
import "./chunk-ANP42J2U.js";
import {
  D,
  b,
  f2 as f,
  s as s2
} from "./chunk-HJY2YILU.js";
import "./chunk-7DA6A5LD.js";
import {
  e,
  u
} from "./chunk-2MMLMOWS.js";
import "./chunk-4323ZVPF.js";
import {
  h as h2,
  n2 as n,
  s2 as s
} from "./chunk-WYIDUUN2.js";
import {
  O,
  h
} from "./chunk-DXLOWWK7.js";
import {
  __async,
  __spreadProps,
  __spreadValues
} from "./chunk-JWIQHGQB.js";

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer/arcUtils.js
function t2(t4, a8, M5, h7) {
  return [[[M5 - t4 / Math.SQRT2, h7 - t4 / Math.SQRT2], [M5 + t4 / Math.SQRT2, h7 - t4 / Math.SQRT2], [M5 + a8 / Math.SQRT2, h7 - a8 / Math.SQRT2], [M5 - a8 / Math.SQRT2, h7 - a8 / Math.SQRT2]], [[M5 + t4 / Math.SQRT2, h7 - t4 / Math.SQRT2], [M5 + t4 / Math.SQRT2, h7 + t4 / Math.SQRT2], [M5 + a8 / Math.SQRT2, h7 + a8 / Math.SQRT2], [M5 + a8 / Math.SQRT2, h7 - a8 / Math.SQRT2]], [[M5 + t4 / Math.SQRT2, h7 + t4 / Math.SQRT2], [M5 - t4 / Math.SQRT2, h7 + t4 / Math.SQRT2], [M5 - a8 / Math.SQRT2, h7 + a8 / Math.SQRT2], [M5 + a8 / Math.SQRT2, h7 + a8 / Math.SQRT2]], [[M5 - t4 / Math.SQRT2, h7 + t4 / Math.SQRT2], [M5 - t4 / Math.SQRT2, h7 - t4 / Math.SQRT2], [M5 - a8 / Math.SQRT2, h7 - a8 / Math.SQRT2], [M5 - a8 / Math.SQRT2, h7 + a8 / Math.SQRT2]]];
}
function a5(t4, a8, M5) {
  const [h7, Q, R2, S5] = t4;
  return `M ${h7.join(" ")} A ${a8} ${a8} 0 0 1 ${Q.join(" ")} L ${R2.join(" ")} A ${M5} ${M5} 0 0 0 ${S5.join(" ")} Z`;
}
function M4(M5, h7, Q) {
  const [R2, S5, T2, n9] = [...M5, 0];
  return [...t2(R2, S5, h7, Q).map((t4) => a5(t4, R2, S5)), ...t2(S5, T2, h7, Q).map((t4) => a5(t4, S5, T2)), ...t2(T2, n9, h7, Q).map((t4) => a5(t4, T2, n9))];
}

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer/constants.js
var e8 = "esri-oriented-imagery-viewer";
var o5 = `${e8}__carousel`;
var t3 = `${e8}__image-enhancement`;
var a6 = `${e8}__navigation`;
var r2 = "--oi-navigation-tool-rotation-from";
var n5 = "--oi-navigation-tool-rotation-to";
var i4 = {
  addCoverage: `${e8}__body-additional-coverage`,
  addExpPoints: `${e8}__body-additional-camera-locations`,
  body: `${e8}__body`,
  carousel: `${e8}__carousel`,
  carouselContainer: `${o5}-container`,
  carouselContent: `${o5}-content`,
  carouselItem: `${o5}-item`,
  carouselItemWrapper: `${o5}-item-wrapper`,
  close: `${e8}__close`,
  currentCoverage: `${e8}__body-current-coverage`,
  dock: `${e8}--docked`,
  feature: `${a6}-feature`,
  float: `${e8}--floating`,
  footprint: `${e8}__body-footprint`,
  imageEnhancementWrapper: `${t3}-wrapper`,
  imageEnhancementTools: `${t3}-tools`,
  imageEnhancementToolContainer: `${t3}-tool-container`,
  messageBox: `${e8}__message-box`,
  navigationPathOffset0: `${a6}-feature-path-stop-offset-0`,
  navigationPathOffset1: `${a6}-feature-path-stop-offset-1`,
  navigationWrapper: `${a6}-wrapper`,
  navigationZoomed: `${a6}-wrapper--zoomed`,
  north: `${a6}-pointer-north`,
  outerSector: `${a6}-sector-outer`,
  pointer: `${a6}-pointer`,
  rotateWithAnimation: `${a6}-animate`,
  selectedFeaturePath: `${a6}-feature-path`,
  sector: `${a6}-sector`,
  sectorCross: `${a6}-sector-cross`,
  sectorDisabled: `${a6}-sector-disabled`,
  sectorEnabled: `${a6}-sector-enabled`,
  sectorSeparator: `${a6}-sector-separator`,
  submenu: `${e8}__submenu`,
  viewer: `${e8}__viewer`,
  viewerContainer: `${e8}__viewer-container`
};
var s5 = 120;
var c3 = [21, 36, 51, 60];
var $2 = 3.5;
var _3 = ["FAR_WEST", "FAR_NORTH", "FAR_EAST", "FAR_SOUTH", "WEST", "NORTH", "EAST", "SOUTH", "NEAR_WEST", "NEAR_NORTH", "NEAR_EAST", "NEAR_SOUTH"];
var p6 = 23.937554159486076;
var d7 = 96.06244584051393;
var l2 = {
  EAST: [p6, p6, d7, p6, 60, p6],
  NORTH: [p6, d7, p6, p6, p6, 60],
  SOUTH: [d7, p6, d7, d7, d7, 60],
  WEST: [d7, d7, p6, d7, 60, d7]
};

// ../../../node_modules/@arcgis/core/layers/orientedImagery/queries.js
var s6 = {};
var i5 = 1e3;
function c4(o7, n9) {
  return __async(this, null, function* () {
    const {
      point: c7,
      queryParams: l4
    } = o7;
    if (null == c7) return null;
    const y3 = {};
    let p12 = o7.layerInstanceOrURL;
    const f7 = c7.spatialReference.isGeographic ? d3(c7.clone()) : c7.clone();
    if (y3.outSpatialReference = f7.spatialReference, l4 && (y3.maxRecordCountFactor = l4.maxRecordCountFactor ?? 5, y3.outFields = l4.outFields ?? ["*"], y3.where = l4.where ?? "1=1", y3.returnGeometry = l4.returnGeometry ?? true, y3.outSpatialReference = l4.outSpatialReference), "string" == typeof p12 && (s6.layer && s6.layer.url === p12 ? p12 = s6.layer : (s6.layer?.destroy(), p12 = s6.layer = new u3({
      url: p12
    }))), p12) try {
      yield p12.load();
      const e9 = p12, r5 = u4(f7, l4?.maximumDistance ?? e9.maximumDistance ?? i5);
      y3.returnZ = e9.hasZ;
      const t4 = new b2(__spreadValues({
        geometry: r5
      }, y3)), o8 = yield e9.queryFeatures(t4, n9);
      return m2(e9)(o8);
    } catch (x2) {
      f(x2);
    }
    return null;
  });
}
function m2(e9) {
  return (r5) => {
    const {
      features: t4,
      spatialReference: a8
    } = r5;
    return t4.forEach((r6) => {
      r6.geometry && (r6.geometry.spatialReference = a8);
      const t5 = j2.fromJSON(__spreadProps(__spreadValues({}, r6.toJSON()), {
        layer: e9
      }));
      t5 && (r6.attributes = t5), r6.layer = e9, r6.spatialReference = a8;
    }), r5;
  };
}
function u4(e9, r5) {
  const t4 = e9.x - r5, o7 = e9.x + r5, a8 = e9.y - r5, s9 = e9.y + r5;
  return new w({
    xmin: t4,
    xmax: o7,
    ymin: a8,
    ymax: s9,
    spatialReference: e9.spatialReference
  });
}

// ../../../node_modules/@arcgis/core/layers/orientedImagery/core/bestImageUtils.js
function i6(t4) {
  const {
    camera: e9,
    features: a8,
    selectedPoint: i8
  } = t4;
  if (!a8.length) return [];
  t4.currentImage ??= {
    attributes: {
      cameraHeading: 0,
      cameraPitch: 0
    }
  };
  const s9 = r3(e9, i8, t4.currentImage);
  return a8.map(s9);
}
function r3(a8, i8, r5) {
  return i8.z ??= 0, i8.elevation ??= 0, (h7) => {
    const {
      hfovWeight: n9,
      vfovWeight: o7,
      distanceWeight: c7
    } = s7(h7.attributes, a8 ? "3d" : "2d"), l4 = h7.attributes, {
      cameraHeight: g2,
      cameraHeading: M5,
      cameraPitch: u6,
      farDistance: f7,
      horizontalFieldOfView: b5,
      verticalFieldOfView: d11,
      isOblique: m6
    } = l4, v = l4.geometry, W2 = 180 * Math.atan2(v.y - i8.y, v.x - i8.x) / Math.PI, p12 = e4(i8, v);
    let y3, x2, P3 = b5, I = d11, q = false;
    a8 ? (y3 = a8.heading, x2 = a8.tilt, P3 = 180, I = 180, q = true) : !m6 || u6 < 10 ? (y3 = M5, x2 = u6, q = false) : (y3 = r5.attributes.cameraHeading, x2 = u6, q = true, P3 = 180), y3 > 180 && (y3 -= 360);
    let H = 1;
    v.spatialReference.isWebMercator && (H = 1 / Math.cos(Math.PI / 2 - 2 * Math.atan(Math.exp(-1 * v.y / s3.radius))));
    const O2 = Math.sqrt((Math.sqrt((i8.x - v.x) ** 2 + (i8.y - v.y) ** 2) / H) ** 2 + ((i8.z ?? 0) - (i8.elevation ?? 0) - g2) ** 2), z3 = 90 - 180 * Math.atan2(i8.y - v.y, i8.x - v.x) / Math.PI;
    let j3 = (Math.abs(z3 - y3) > 180 ? Math.abs(360 - Math.abs(z3 - y3)) : Math.abs(z3 - y3)) / P3;
    j3 = 4 * j3 + 1;
    const w4 = 180 * Math.acos((l4.cameraHeight - (i8.z ?? 0) + (i8.elevation ?? 0)) / O2) / Math.PI;
    let E5 = Math.abs(w4 - x2) / I;
    E5 = 4 * E5 + 1;
    let F2 = O2 / Math.sqrt(f7 ** 2 + g2 ** 2);
    F2 = 4 * F2 + 1;
    const S5 = n9 * j3 + o7 * E5 + c7 * F2;
    let V3;
    if (q) {
      const t4 = M5 > 180 ? M5 - 360 : M5;
      V3 = n9 * ((Math.abs(z3 - t4) > 180 ? Math.abs(360 - Math.abs(z3 - t4)) : Math.abs(z3 - t4)) / b5 * 4 + 1) + o7 * (Math.abs(w4 - u6) / d11 * 4 + 1) + c7 * F2;
    } else V3 = S5;
    return {
      suitability: S5,
      trueSuitability: V3,
      feature: h7,
      angle: W2,
      distance: p12,
      verticalAngle: Math.abs(180 * Math.atan(p12 / g2) / Math.PI)
    };
  };
}
function s7(t4, e9) {
  const i8 = "isOblique" in t4 ? t4 : new j2(t4), {
    isOblique: r5,
    isSpherical: s9,
    isNadir: h7
  } = i8;
  return s9 ? {
    hfovWeight: "2d" === e9 ? 0 : 1,
    vfovWeight: "2d" === e9 ? 0 : 0.6,
    distanceWeight: "2d" === e9 ? 1 : 0.5
  } : h7 ? {
    hfovWeight: 0.25,
    vfovWeight: 1,
    distanceWeight: 1
  } : r5 ? {
    hfovWeight: 1,
    vfovWeight: 0.25,
    distanceWeight: 1
  } : {
    hfovWeight: 1,
    vfovWeight: 1,
    distanceWeight: 1
  };
}

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer/utils.js
function n6(t4) {
  return "3d" === t4?.type;
}
function o6(t4) {
  return "esri.Graphic" === t4?.declaredClass;
}
function i7(t4) {
  return /.*\.(tif|mrf)$/i.test(t4 ?? "");
}
function s8(t4) {
  return Math.abs(t4) >= 135 ? "WEST" : t4 < -45 && t4 > -135 ? "SOUTH" : t4 <= 45 ? "EAST" : "NORTH";
}
function u5(t4, r5) {
  const n9 = t4 / r5 * c3[2];
  return n9 <= c3[0] ? "NEAR" : n9 <= c3[1] ? "" : "FAR";
}
function a7(t4) {
  return t4 && t4.url && t4.datasetFormat ? t4 : null;
}
function c5(t4) {
  return "string" == typeof t4 && t4.length ? t4 : a7(t4);
}
function m3(t4) {
  return "NoAttachmentError" === t4?.name;
}
var f5 = (t4) => `${t4}:missing-property`;
var g = (t4, r5) => `Property ${r5} is missing in ${t4}`;
var d8 = (t4 = "esri.widgets.OrientedImageryViewer", e9) => {
  throw n.getLogger(t4).error(e9), e9;
};
var p7 = (e9, n9) => __async(void 0, null, function* () {
  try {
    const r5 = yield U(e9, __spreadProps(__spreadValues({}, n9), {
      method: "head"
    }));
    return r5?.getHeader?.("Content-Type");
  } catch (o7) {
    return n.getLogger("esri.widgets.OrientedImagery").error("failed to fetch Content-Type", o7), null;
  }
});
function y2(t4, r5) {
  0 !== r5 && (t4.xmin /= r5, t4.xmax *= r5, t4.ymin /= r5, t4.ymax *= r5);
}

// ../../../node_modules/@arcgis/core/widgets/PanoramicViewer/PanoramicZoomConditions.js
var m4 = class extends i2(f2) {
  constructor(o7) {
    super(o7), this.maxFOV = 0, this.minFOV = 0, this.view = null, this.zoomFactor = 5;
  }
  get canZoomIn() {
    return !!this.view && (0 === this.minFOV || this.view.camera.fov > this.minFOV);
  }
  get canZoomOut() {
    return !!this.view && (0 === this.maxFOV || this.view.camera.fov < this.maxFOV);
  }
};
e2([y({
  type: Boolean,
  readOnly: true
})], m4.prototype, "canZoomIn", null), e2([y({
  type: Boolean,
  readOnly: true
})], m4.prototype, "canZoomOut", null), e2([y({
  type: Number
})], m4.prototype, "maxFOV", void 0), e2([y({
  type: Number
})], m4.prototype, "minFOV", void 0), e2([y({
  type: at
})], m4.prototype, "view", void 0), e2([y({
  type: Number
})], m4.prototype, "zoomFactor", void 0), m4 = e2([a("esri.widgets.PanoramicViewer.PanoramicZoomConditions")], m4);
var p8 = m4;

// ../../../node_modules/@arcgis/core/widgets/PanoramicViewer/PanoramicZoomViewModel.js
var p9 = class extends p2 {
  constructor(o7) {
    super(o7), this.panoramicZoomConditions = new p8(), this.zoomTo = (o8) => {
      this.view.camera.fov = this.constrainFOV(o8), this.view.camera = this.view.camera.clone();
    };
  }
  initialize() {
    this.addHandles([d2(() => [this.view?.ready, this.panoramicZoomConditions], () => {
      this.view?.ready && (this.panoramicZoomConditions.view = this.view, this.zoomTo(this.view.camera.fov));
    }, A), d2(() => [this.panoramicZoomConditions.maxFOV, this.panoramicZoomConditions.minFOV], ([o7, i8]) => {
      null != o7 && null != i8 && this.zoomTo(this.view.camera.fov);
    }, C)]);
  }
  get canZoomIn() {
    return this.panoramicZoomConditions.canZoomIn;
  }
  get canZoomOut() {
    return this.panoramicZoomConditions.canZoomOut;
  }
  get state() {
    return this.view?.ready ? "ready" : "disabled";
  }
  set view(o7) {
    this._set("view", o7);
  }
  constrainFOV(o7) {
    const {
      maxFOV: t4,
      minFOV: s9
    } = this.panoramicZoomConditions;
    return e5(o7, s9, t4);
  }
  zoomIn() {
    if (!this.canZoomIn) return;
    const o7 = this.view.camera.fov - this.panoramicZoomConditions.zoomFactor;
    this.zoomTo(o7);
  }
  zoomOut() {
    if (!this.canZoomOut) return;
    const o7 = this.view.camera.fov + this.panoramicZoomConditions.zoomFactor;
    this.zoomTo(o7);
  }
};
e2([y()], p9.prototype, "canZoomIn", null), e2([y()], p9.prototype, "canZoomOut", null), e2([y({
  type: p8
})], p9.prototype, "panoramicZoomConditions", void 0), e2([y()], p9.prototype, "state", null), e2([y({
  type: at
})], p9.prototype, "view", null), p9 = e2([a("esri.widgets.PanoramicViewer.PanoramicZoomViewModel")], p9);
var h6 = p9;

// ../../../node_modules/@arcgis/core/widgets/PanoramicViewer/utils.js
function l3(t4, e9 = o4, r5 = t) {
  const o7 = e9.clone();
  o7.z = -t / 2;
  const a8 = $.createSphere(o7, {
    size: r5,
    densificationFactor: 2,
    vertexSpace: "georeferenced",
    material: new a3({
      colorTexture: new w2({
        data: t4
      })
    })
  });
  if (a8.components[0].trustSourceNormals = true, a8.vertexAttributes.uv) {
    const t5 = a8.vertexAttributes.uv.length ?? 0;
    for (let e10 = 0; e10 < t5; e10++) a8.vertexAttributes.uv[2 * e10 + 0] = 1 - a8.vertexAttributes.uv[2 * e10 + 0], a8.vertexAttributes.uv[2 * e10 + 1] = a8.vertexAttributes.uv[2 * e10 + 1];
  }
  return a8.centerAt(o7), a8;
}
function p10(r5) {
  return new d4({
    geometry: r5,
    symbol: new c({
      symbolLayers: new V([new h4()])
    })
  });
}
function f6(t4, e9) {
  return 2 * M(Math.atan(Math.tan(h3(t4 / 2)) * Math.sqrt(e9 ** 2 + 1)));
}

// ../../../node_modules/@arcgis/core/widgets/PanoramicViewer/PanoramicViewerViewModel.js
var A3 = {
  autoLoad: "auto-load",
  default: "default",
  navigation: "navigation",
  fovConstraint: "fov-constraint",
  clickAction: "image-click-action"
};
var L2 = class extends o.EventedAccessor {
  constructor(e9) {
    super(e9), this._startPosition = null, this._targetPosition = null, this._graphics = new h5({
      elevationInfo: {
        mode: "relative-to-ground"
      }
    }), this._imageGraphic = null, this._loadController = null, this._map = new L({
      ground: new b3({
        opacity: 0,
        navigationConstraint: null
      }),
      layers: new V([this._graphics])
    }), this._zoomViewModel = null, this.autoLoad = false, this.clickAction = "none", this.imageSize = null, this.imageSource = null, this.pitch = 90, this.state = "ready", this.yaw = 0, this._addNavigationHandles = () => {
      this.imageRenderer.basemapTerrain.suspended = true, this.imageRenderer.constraints.tilt.max = 180, this.removeHandles(A3.navigation), this.addHandles([this.imageRenderer.on("mouse-wheel", this._handleWheel), this.imageRenderer.on("double-click", this._handleDoubleClick), this.imageRenderer.on("drag", this._handleDrag), this.imageRenderer.on("key-down", (e10) => {
        const t4 = ["+", "-", "Shift", "_", "=", "ArrowUp", "ArrowDown", "ArrowRight", "ArrowLeft"], i8 = e10.key;
        t4.includes(i8) && e10.stopPropagation();
      })], A3.navigation);
    }, this._addHFOVHandles = () => {
      this.removeHandles(A3.fovConstraint), this.addHandles(d2(() => [this.maxHFOV, this.minHFOV], () => {
        this._zoomViewModel && (this._zoomViewModel.panoramicZoomConditions = new p8({
          view: this.imageRenderer,
          maxFOV: this.maxHFOV,
          minFOV: this.minHFOV
        }));
      }, A), A3.fovConstraint);
    }, this._addZoomHandles = () => {
      this._zoomViewModel = new h6({
        view: this.imageRenderer,
        panoramicZoomConditions: new p8({
          maxFOV: this.maxHFOV,
          minFOV: this.minHFOV
        })
      });
      const e10 = new p3({
        viewModel: this._zoomViewModel
      });
      this.imageRenderer.ui.add(e10, "top-left"), this._addHFOVHandles();
    }, this._cancelLoadWithController = () => {
      this._loadController?.abort(), this._loadController = null;
    }, this._handleDoubleClick = (e10) => {
      e10.stopPropagation(), e10.native.ctrlKey ? this._zoomOut() : this._zoomIn();
    }, this._handleDrag = (e10) => {
      e10.stopPropagation();
      const {
        action: t4,
        x: i8,
        y: o7
      } = e10;
      switch (t4) {
        case "start":
          this._startPosition = this._targetPosition = {
            x: i8,
            y: o7
          };
          break;
        case "update":
          this._targetPosition = {
            x: i8,
            y: o7
          }, this._updateCameraHeadingAndTilt();
      }
    }, this._handleImageClick = (e10) => {
      if ("image-loaded" === this.state && this.imageRenderer.ready) switch (this.clickAction) {
        case "emit":
          e10.stopPropagation(), this.emit("click", e10);
          break;
        case "hittest":
          e10.stopPropagation(), e10.async(() => __async(this, null, function* () {
            const t4 = yield this.imageRenderer.hitTest(e10.screenPoint, {
              include: this._graphics
            });
            this.emit("hittest-response", t4);
          }));
          break;
        case "pixel-location": {
          if (e10.stopPropagation(), !this.imageSize || !e10.mapPoint) return void this.emit("pixel-location", null);
          const t4 = R(e10.mapPoint, this.imageSize[0], this.imageSize[1]);
          this.emit("pixel-location", __spreadProps(__spreadValues({}, t4), {
            spatialReference: f3.WebMercator,
            meshVertex: e10.mapPoint
          }));
          break;
        }
      }
    }, this._handleWheel = (e10) => {
      const t4 = e10.deltaX ?? e10.native.deltaX;
      e10.stopPropagation(), t4 > 0 || e10.deltaY > 0 ? this._zoomOut() : this._zoomIn();
    }, this._loadWithController = () => {
      this._cancelLoadWithController(), this._loadController = new AbortController(), this.loadImage(this._loadController);
    }, this._zoomIn = () => this._zoomViewModel?.zoomIn(), this._zoomOut = () => this._zoomViewModel?.zoomOut(), this.addGraphic = (e10, t4) => "image-loaded" === this.state && !this._graphics.graphics.includes(e10) && (this._graphics.graphics.add(e10, t4), true), this.addManyGraphics = (e10) => {
      if ("image-loaded" !== this.state) return false;
      const t4 = e10.filter((e11) => !this._graphics.graphics.includes(e11));
      return this._graphics.graphics.addMany(t4), true;
    }, this.clearGraphics = () => {
      this._graphics.graphics.removeAll();
    }, this.clearImage = () => {
      this.imageSize = null, this._removeImageSphere();
    }, this.removeGraphic = (e10) => !("image-loaded" !== this.state || !this._graphics.graphics.includes(e10)) && (this._graphics.remove(e10), true), this.removeManyGraphics = (e10) => {
      if ("image-loaded" !== this.state) return false;
      const t4 = e10.filter((e11) => this._graphics.graphics.includes(e11));
      return this._graphics.removeMany(t4), true;
    }, this._imageRenderer = new at({
      map: this._map,
      viewingMode: "local",
      camera: {
        position: o4
      },
      environment: {
        atmosphereEnabled: false,
        starsEnabled: false,
        lighting: {
          type: "virtual"
        }
      },
      popupEnabled: false,
      spatialReference: f3.WebMercator,
      ui: {
        components: ["attribution"]
      }
    });
  }
  initialize() {
    this.state = "initialized", this.addHandles([d2(() => this.imageSource, () => {
      this.imageSource && this.autoLoad && this._loadWithController();
    }, A), d2(() => this.fov, () => {
      this._reloadCamera();
    }, A), d2(() => this.yaw, (e9) => {
      this.camera.heading = e9, this._reloadCamera();
    }, A), d2(() => this.pitch, (e9) => {
      this.camera.tilt = e9, this._reloadCamera();
    }, A), p(() => this.imageRenderer.ready, () => {
      this._addNavigationHandles(), this._addZoomHandles();
    }, A), d2(() => this.clickAction, (e9) => {
      this.removeHandles(A3.clickAction), "none" !== e9 && this.addHandles(this.imageRenderer.on("click", this._handleImageClick));
    }, A)], A3.default);
  }
  get camera() {
    return this.imageRenderer.camera;
  }
  set camera(e9) {
    e9 && (this.imageRenderer.camera = e9.clone());
  }
  get fov() {
    return this.camera.fov;
  }
  set fov(e9) {
    Number.isFinite(e9) && this._zoomViewModel?.zoomTo(e9);
  }
  get hfov() {
    const {
      fov: e9
    } = this.camera, {
      size: [t4, i8]
    } = this.imageRenderer, o7 = t4 / i8, a8 = Math.atan(o7);
    return 2 * M(Math.atan(Math.tan(h3(e9 / 2)) * Math.sin(a8)));
  }
  get imageRenderer() {
    return this._imageRenderer;
  }
  get maxHFOV() {
    const {
      size: [e9, t4]
    } = this.imageRenderer;
    return f6(i3, e9 / t4);
  }
  get minHFOV() {
    const {
      size: [e9, t4]
    } = this.imageRenderer;
    return f6(p4, e9 / t4);
  }
  get vfov() {
    const {
      fov: e9
    } = this.camera, {
      size: [t4, i8]
    } = this.imageRenderer, o7 = t4 / i8, a8 = Math.atan(o7);
    return 2 * M(Math.atan(Math.tan(h3(e9 / 2)) * Math.cos(a8)));
  }
  _loadImageInternal(e9, t4) {
    return __async(this, null, function* () {
      let i8;
      this.state = "image-loading";
      try {
        i8 = (yield U(e9, __spreadValues({
          responseType: "image"
        }, t4))).data;
      } catch (o7) {
        throw b(o7) ? this.state = "image-load-aborted" : this.state = "image-load-error", o7;
      }
      return this._updateImageSphere(i8, t4);
    });
  }
  _reloadCamera() {
    this.camera = this.camera.clone();
  }
  _removeImageSphere() {
    this._imageGraphic && (this._graphics.remove(this._imageGraphic), this._imageGraphic = u(this._imageGraphic)), this.state = "ready", this.imageSize = null;
  }
  _updateCameraHeadingAndTilt() {
    if (!this._startPosition || !this._targetPosition) return;
    const e9 = this.camera.heading + (this._startPosition.x - this._targetPosition.x) / this.imageRenderer.width * this.camera.fov;
    this.yaw = (e9 + 360) % 360;
    const t4 = this.camera.tilt - (this._startPosition.y - this._targetPosition.y) / this.imageRenderer.height * this.imageRenderer.camera.tilt;
    this.pitch = Math.min(179.5, Math.max(0.5, t4)), this._startPosition = this._targetPosition;
  }
  _updateImageSphere(e9, t4) {
    return __async(this, null, function* () {
      yield D(t4);
      const {
        size: [i8, o7]
      } = this.imageRenderer;
      return this._imageGraphic = p10(l3(e9)), this._graphics.add(this._imageGraphic), this.fov = f6(m, i8 / o7), this.state = "image-loaded", this.imageSize = [e9.width, e9.height], this._imageGraphic.geometry;
    });
  }
  loadImage(e9) {
    return __async(this, null, function* () {
      return this._removeImageSphere(), this.imageSource ? this._loadImageInternal(this.imageSource, e9) : d8(this.declaredClass, new s(f5("panoramic-viewer"), g("PanoramicViewerViewModel", "imageSource")));
    });
  }
};
e2([y()], L2.prototype, "_graphics", void 0), e2([y()], L2.prototype, "_imageGraphic", void 0), e2([y()], L2.prototype, "_imageRenderer", void 0), e2([y()], L2.prototype, "_loadController", void 0), e2([y()], L2.prototype, "_map", void 0), e2([y()], L2.prototype, "_zoomViewModel", void 0), e2([y({
  type: Boolean
})], L2.prototype, "autoLoad", void 0), e2([y({
  type: d5
})], L2.prototype, "camera", null), e2([o2(new n2({
  emit: "emit",
  hittest: "hittest",
  none: "none",
  "pixel-location": "pixel-location"
}))], L2.prototype, "clickAction", void 0), e2([y({
  type: Number
})], L2.prototype, "fov", null), e2([y({
  readOnly: true
})], L2.prototype, "hfov", null), e2([y({
  readOnly: true
})], L2.prototype, "imageRenderer", null), e2([y()], L2.prototype, "imageSize", void 0), e2([y()], L2.prototype, "imageSource", void 0), e2([y({
  readOnly: true
})], L2.prototype, "maxHFOV", null), e2([y({
  readOnly: true
})], L2.prototype, "minHFOV", null), e2([y({
  type: Number
})], L2.prototype, "pitch", void 0), e2([y()], L2.prototype, "state", void 0), e2([y({
  readOnly: true
})], L2.prototype, "vfov", null), e2([y({
  type: Number
})], L2.prototype, "yaw", void 0), L2 = e2([a("esri.widgets.PanoramicViewer.PanoramicViewerViewModel")], L2);
var W = L2;

// ../../../node_modules/@arcgis/core/widgets/PanoramicViewer.js
var n7 = "esri-panoramic-viewer";
var d9 = class extends B {
  constructor(e9) {
    super(e9), this.viewModel = new W(), this._afterContainerCreate = (e10) => {
      this.imageRenderer.container = e10;
    }, this.addGraphic = (e10, t4) => {
      this.viewModel.addGraphic(e10, t4);
    }, this.addManyGraphics = (e10) => {
      this.viewModel.addManyGraphics(e10);
    }, this.clearGraphics = () => {
      this.viewModel.clearGraphics();
    }, this.clearImage = () => {
      this.viewModel.clearImage();
    }, this.loadImage = (e10) => this.viewModel.loadImage(e10), this.removeGraphic = (e10) => {
      this.viewModel.removeGraphic(e10);
    }, this.removeManyGraphics = (e10) => {
      this.viewModel.removeManyGraphics(e10);
    };
  }
  get autoLoad() {
    return this.viewModel.autoLoad;
  }
  set autoLoad(e9) {
    this.viewModel.autoLoad = e9;
  }
  get camera() {
    return this.viewModel.camera;
  }
  set camera(e9) {
    e9 && (this.viewModel.camera = e9);
  }
  get clickAction() {
    return this.viewModel.clickAction;
  }
  set clickAction(e9) {
    this.viewModel.clickAction = e9;
  }
  get fov() {
    return this.camera.fov;
  }
  set fov(e9) {
    this.viewModel.fov = e9;
  }
  get hfov() {
    return this.viewModel.hfov;
  }
  get icon() {
    return "360-view";
  }
  set icon(e9) {
    this._overrideIfSome("icon", e9);
  }
  get imageRenderer() {
    return this.viewModel.imageRenderer;
  }
  get imageSize() {
    return this.viewModel.imageSize;
  }
  get imageSource() {
    return this.viewModel.imageSource;
  }
  set imageSource(e9) {
    this.viewModel.imageSource = e9;
  }
  get pitch() {
    return this.viewModel.pitch;
  }
  set pitch(e9) {
    this.viewModel.pitch = e9;
  }
  get state() {
    return this.viewModel.state;
  }
  get vfov() {
    return this.viewModel.vfov;
  }
  get yaw() {
    return this.viewModel.yaw;
  }
  set yaw(e9) {
    this.viewModel.yaw = e9;
  }
  render() {
    return n3("div", {
      afterCreate: this._afterContainerCreate,
      bind: this,
      class: this.classes(e6.widget, n7)
    });
  }
};
e2([y({
  type: Boolean
})], d9.prototype, "autoLoad", null), e2([y({
  type: d5
})], d9.prototype, "camera", null), e2([y()], d9.prototype, "clickAction", null), e2([y({
  type: Number
})], d9.prototype, "fov", null), e2([y({
  readOnly: true,
  type: Number
})], d9.prototype, "hfov", null), e2([y()], d9.prototype, "icon", null), e2([y({
  readOnly: true,
  type: at
})], d9.prototype, "imageRenderer", null), e2([y({
  readOnly: true
})], d9.prototype, "imageSize", null), e2([y()], d9.prototype, "imageSource", null), e2([y({
  type: Number
})], d9.prototype, "pitch", null), e2([y({
  readOnly: true
})], d9.prototype, "state", null), e2([y({
  readOnly: true,
  type: Number
})], d9.prototype, "vfov", null), e2([e7(["click", "hittest-response", "pixel-location"]), y({
  type: W
})], d9.prototype, "viewModel", void 0), e2([y({
  type: Number
})], d9.prototype, "yaw", null), d9 = e2([a("esri.widgets.PanoramicViewer")], d9);
var m5 = d9;

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer/components/ImageViewerViewModel.js
var E4 = {
  click: "click-handle",
  enhancements: "enhancements-handle",
  rotation: "rotation-handle"
};
var L3 = class extends o.EventedAccessor {
  constructor(e9) {
    super(e9), this._imageChanged = false, this._panConstraint = null, this._image = null, this._loadController = null, this._overlays = new h5(), this._map = new L(), this.autoLoad = false, this.clickAction = "none", this.error = null, this.imageSource = null, this.imageRotation = 0, this.state = "ready", this._cancelLoadWithController = () => {
      this._loadController?.abort(), this._loadController = null;
    }, this._createImageHandles = () => {
      this.removeHandles(E4.enhancements), this.addHandles(d2(() => [this.brightness, this.contrast, this.sharpness], ([e10, t4, r5]) => {
        this.image?.loaded && (this.image.effect = `contrast(${10 * (t4 + 10)}%) brightness(${10 * (e10 + 10)}%)`, this.sharpenImage(this.image, r5));
      }, A));
    }, this._createPanConstraint = () => {
      const {
        image: e10,
        imageRenderer: t4
      } = this, r5 = (r6) => {
        if (!(e10 && t4 && r6.targetGeometry && e10.serviceRasterInfo)) return r6;
        const {
          extent: i8
        } = e10.serviceRasterInfo, {
          constraints: s9,
          rotation: a8,
          width: o7,
          height: n9
        } = t4, {
          extent: m6
        } = T(j.fromExtent(i8), a8), {
          width: l4,
          height: h7
        } = m6, c7 = r6.targetGeometry.clone(), p12 = s9.scaleToZoom(r6.scale), g2 = 1 / 2 ** p12, y3 = o7 / n9;
        let _4 = g2 * l4, f7 = g2 * h7;
        p12 && (l4 / o7 > h7 / n9 ? f7 = _4 / y3 : _4 = f7 * y3);
        const v = m6.clone();
        return v.xmin += _4 / 2, v.xmax -= _4 / 2, v.ymin += f7 / 2, v.ymax -= f7 / 2, r6.targetGeometry = J(v, c7).coordinate, this.state = "image-loaded", r6;
      };
      return {
        constrain: r5,
        applyPanConstraint: r5
      };
    }, this._createResizeHandles = (e10) => {
      e10.removeHandles("resize"), e10.addHandles(d2(() => {
        if (!this.imageRenderer.ready) return;
        const {
          extent: t4
        } = e10.serviceRasterInfo, {
          width: r5,
          height: i8,
          rotation: s9
        } = this.imageRenderer, {
          extent: a8
        } = T(j.fromExtent(t4), s9), {
          width: o7,
          height: n9
        } = a8;
        return Math.max(o7 / r5, n9 / i8);
      }, (e11) => {
        if (!this.imageRenderer || null == e11) return;
        const {
          constraints: t4,
          scale: r5,
          spatialReference: i8
        } = this.imageRenderer, s9 = t4.minScale, a8 = ct(i8), o7 = 0.25 * a8, n9 = a8 * e11;
        let m6 = n9;
        const l4 = [];
        for (; m6 > o7; ) l4.push(m6), m6 /= 2;
        l4.push(m6);
        const {
          lods: h7
        } = z.create({
          scales: l4
        });
        if (t4.set({
          minScale: n9,
          lods: h7
        }), this._imageChanged) return this.imageRenderer.scale = n9, void (this._imageChanged = false);
        this.imageRenderer.scale = Math.abs(r5 - s9) <= 1e-6 ? n9 : r5;
      }, A), "resize");
    }, this._loadImageInternal = (e10, t4 = {}) => {
      this.clearImage(), this.error = null, this._imageChanged = true, this.state = "image-loading";
      const r5 = "string" == typeof e10, i8 = r5 ? void 0 : e10.datasetFormat, a8 = r5 ? e10 : e10.url, {
        customParameters: o7,
        options: m6
      } = t4;
      return this._image = new M2({
        ioConfig: {
          skipExtensions: ["aux.xml", "jgw"],
          skipMapInfo: true,
          datasetFormat: i8
        },
        url: a8,
        customParameters: o7
      }), this._image.when((e11) => {
        this._updatePanConstraint(), this._createResizeHandles(e11), this._map.add(e11), this.state = "image-loaded";
      }, (t5) => {
        b(t5) ? this.state = "image-load-aborted" : (this.state = "image-load-error", this.error = t5, n.getLogger(this).error(`error occurred while loading image ${r5 ? e10 : JSON.stringify(e10)}`, t5), this.imageSource = null);
      }), this._image.load(m6);
    }, this._loadWithController = () => {
      this._cancelLoadWithController(), this._loadController = new AbortController(), this.loadImage(this._loadController);
    }, this._updatePanConstraint = () => {
      this._panConstraint && this.imageRenderer.constraints.customConstraints.remove(this._panConstraint), this._panConstraint = this._createPanConstraint(), this.imageRenderer.constraints.customConstraints.add(this._panConstraint);
    }, this.addGraphic = (e10, t4) => {
      this._overlays.graphics.add(e10, t4);
    }, this.addManyGraphics = (e10) => {
      this._overlays.addMany(e10);
    }, this.clearGraphics = () => {
      this._overlays.graphics.removeAll();
    }, this.clearImage = () => {
      this.image && (this._map.layers.remove(this.image), this._image = u(this._image));
    }, this.loadImage = (e10) => {
      const {
        customParameters: t4,
        imageSource: i8
      } = this;
      return i8 ? this._loadImageInternal(i8, {
        customParameters: t4,
        options: e10
      }) : d8(this.declaredClass, new s(f5("image-viewer"), g("ImageViewerViewModel", "imageSource")));
    }, this.removeGraphic = (e10) => {
      this._overlays.remove(e10);
    }, this.removeManyGraphics = (e10) => {
      this._overlays.removeMany(e10);
    }, this._imageRenderer = new X({
      constraints: {
        snapToZoom: true,
        rotationEnabled: false
      },
      map: this._map,
      popupEnabled: false,
      spatialReference: f3.WebMercator,
      ui: {
        components: ["zoom"]
      }
    });
  }
  initialize() {
    this.state = "initialized", this.addHandles([d2(() => this.imageSource, (e9) => {
      e9 && this.autoLoad && this._loadWithController();
    }, A), d2(() => this.image?.loaded, () => {
      this._createImageHandles();
    }), d2(() => this.imageRotation, () => {
      this._rotateImage();
    }), d2(() => this.imageRenderer.map, (e9, t4) => {
      t4?.layers.remove(this._overlays), e9?.layers.add(this._overlays);
    }, P), d2(() => this.imageRenderer.map.allLayers.length, (e9) => {
      e9 && this.imageRenderer.map.layers.reorder(this._overlays, e9 - 1);
    }, A), d2(() => this.clickAction, (e9) => {
      this.removeHandles(E4.click), "none" !== e9 && this.addHandles(this.imageRenderer.on("click", (t4) => {
        if (this.image?.loaded && this.imageRenderer.ready) switch (e9) {
          case "emit":
            t4.stopPropagation(), this.emit("click", t4);
            break;
          case "hittest":
            t4.stopPropagation(), t4.async(() => __async(this, null, function* () {
              const e10 = yield this.imageRenderer.hitTest(t4.screenPoint, {
                include: this._overlays
              });
              this.emit("hittest-response", e10);
            }));
            break;
          case "pixel-location": {
            if (t4.stopPropagation(), !this.image?.serviceRasterInfo || !t4.mapPoint) return void this.emit("pixel-location", null);
            const {
              extent: e10,
              pixelSize: r5
            } = this.image.serviceRasterInfo, i8 = (t4.mapPoint.x - e10.xmin) * r5.x, s9 = (e10.ymax - t4.mapPoint.y) * r5.y, a8 = new _({
              x: i8,
              y: s9,
              spatialReference: e10.spatialReference
            });
            this.emit("pixel-location", a8);
            break;
          }
        }
      }));
    }, A)]);
  }
  get brightness() {
    return this._get("brightness") ?? 0;
  }
  set brightness(e9) {
    this._set("brightness", e5(e9, -10, 10));
  }
  get contrast() {
    return this._get("contrast") ?? 0;
  }
  set contrast(e9) {
    this._set("contrast", e5(e9, -10, 10));
  }
  get image() {
    return this._image;
  }
  get imagePointsInView() {
    const {
      extent: e9,
      ready: t4
    } = this.imageRenderer, r5 = this.imageRotation, i8 = this.image?.fullExtent, s9 = this.image?.serviceRasterInfo, a8 = true === this._imageRenderer.allLayerViews.find(({
      layer: e10
    }) => e10 === this.image)?.attached;
    if (!(t4 && e9 && i8 && s9 && a8)) return null;
    const o7 = T(j.fromExtent(e9), r5), n9 = j.fromExtent(i8), m6 = S2(o7, n9), {
      rings: l4
    } = m6;
    return l4.flat().map(([e10, t5]) => ({
      x: (e10 - s9.extent.xmin) * s9.pixelSize.x,
      y: (s9.extent.ymax - t5) * s9.pixelSize.y
    }));
  }
  get imageSize() {
    const {
      image: e9
    } = this;
    if (!e9?.raster) return null;
    const {
      width: t4,
      height: r5
    } = e9.raster.rasterInfo;
    return [t4, r5];
  }
  get imageRenderer() {
    return this._imageRenderer;
  }
  get imageView() {
    return this.imageRenderer.allLayerViews.find((e9) => e9.layer === this.image);
  }
  get sharpness() {
    return this._get("sharpness") ?? 0;
  }
  set sharpness(e9) {
    this._set("sharpness", e5(e9, 0, 1));
  }
  _rotateImage() {
    this.imageRenderer.constraints.rotationEnabled = true, this.imageRenderer.rotation = this.imageRotation, this.imageRenderer.constraints.rotationEnabled = false;
  }
  sharpenImage(e9, t4) {
    if (!t4) return void (e9.rasterFunction = null);
    const r5 = [0, -1 * t4, 0, -1 * t4, 4 * t4 + 1, -1 * t4, 0, -1 * t4, 0], i8 = new N({
      functionName: "Convolution",
      functionArguments: {
        type: l.userDefined,
        cols: 3,
        rows: 3,
        kernel: r5,
        convolutionType: l.userDefined
      }
    });
    e9.rasterFunction = i8;
  }
};
e2([y()], L3.prototype, "_image", void 0), e2([y()], L3.prototype, "_imageRenderer", void 0), e2([y()], L3.prototype, "_loadController", void 0), e2([y()], L3.prototype, "_overlays", void 0), e2([y()], L3.prototype, "_map", void 0), e2([y({
  type: Boolean
})], L3.prototype, "autoLoad", void 0), e2([y({
  type: Number
})], L3.prototype, "brightness", null), e2([y()], L3.prototype, "clickAction", void 0), e2([y({
  type: Number
})], L3.prototype, "contrast", null), e2([y({
  type: Object
})], L3.prototype, "customParameters", void 0), e2([y({
  type: s
})], L3.prototype, "error", void 0), e2([y({
  readOnly: true
})], L3.prototype, "image", null), e2([y({
  readOnly: true
})], L3.prototype, "imagePointsInView", null), e2([y({
  readOnly: true
})], L3.prototype, "imageSize", null), e2([y({
  cast: c5
})], L3.prototype, "imageSource", void 0), e2([y({
  readOnly: true
})], L3.prototype, "imageRenderer", null), e2([y({
  type: Number
})], L3.prototype, "imageRotation", void 0), e2([y()], L3.prototype, "imageView", null), e2([y({
  type: Number
})], L3.prototype, "sharpness", null), e2([y()], L3.prototype, "state", void 0), L3 = e2([a("esri.widgets.OrientedImageryViewer.components.ImageViewerViewModel")], L3);
var z2 = L3;

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer/components/ImageViewer.js
var p11 = "esri-image-viewer";
var c6 = class extends B {
  constructor() {
    super(...arguments), this.viewModel = new z2(), this._afterContainerCreate = (e9) => {
      this.imageRenderer.container = e9;
    }, this.addGraphic = (e9, t4) => {
      this.viewModel.addGraphic(e9, t4);
    }, this.addManyGraphics = (e9) => {
      this.viewModel.addManyGraphics(e9);
    }, this.clearGraphics = () => {
      this.viewModel.clearGraphics();
    }, this.clearImage = () => {
      this.viewModel.clearImage();
    }, this.loadImage = (e9) => __async(this, null, function* () {
      return this.viewModel.loadImage(e9);
    }), this.removeGraphic = (e9) => {
      this.viewModel.removeGraphic(e9);
    }, this.removeManyGraphics = (e9) => {
      this.viewModel.removeManyGraphics(e9);
    };
  }
  get autoLoad() {
    return this.viewModel.autoLoad;
  }
  set autoLoad(e9) {
    this.viewModel.autoLoad = e9;
  }
  get brightness() {
    return this.viewModel.brightness;
  }
  set brightness(e9) {
    this.viewModel.brightness = e9;
  }
  get clickAction() {
    return this.viewModel.clickAction;
  }
  set clickAction(e9) {
    this.viewModel.clickAction = e9;
  }
  get contrast() {
    return this.viewModel.contrast;
  }
  set contrast(e9) {
    this.viewModel.contrast = e9;
  }
  get customParameters() {
    return this.viewModel.customParameters;
  }
  set customParameters(e9) {
    this.viewModel.customParameters = e9;
  }
  get error() {
    return this.viewModel.error;
  }
  get imageSize() {
    const e9 = this.viewModel.image?.serviceRasterInfo;
    return e9 ? [e9.width, e9.height] : [0, 0];
  }
  get imagePointsInView() {
    return this.viewModel.imagePointsInView;
  }
  get imageRenderer() {
    return this.viewModel.imageRenderer;
  }
  get imageRotation() {
    return this.viewModel.imageRotation;
  }
  set imageRotation(e9) {
    this.viewModel.imageRotation = e9;
  }
  get imageSource() {
    return this.viewModel.imageSource;
  }
  set imageSource(e9) {
    this.viewModel.imageSource = e9;
  }
  get sharpness() {
    return this.viewModel.sharpness;
  }
  set sharpness(e9) {
    this.viewModel.sharpness = e9;
  }
  get state() {
    return this.viewModel.state;
  }
  render() {
    return n3("div", {
      afterCreate: this._afterContainerCreate,
      bind: this,
      class: this.classes(e6.widget, p11)
    });
  }
};
e2([y({
  type: Boolean
})], c6.prototype, "autoLoad", null), e2([y({
  type: Number
}), y()], c6.prototype, "brightness", null), e2([y()], c6.prototype, "clickAction", null), e2([y({
  type: Number
})], c6.prototype, "contrast", null), e2([y({
  type: Object
})], c6.prototype, "customParameters", null), e2([y({
  readOnly: true
})], c6.prototype, "error", null), e2([y()], c6.prototype, "imageSize", null), e2([y({
  readOnly: true
})], c6.prototype, "imagePointsInView", null), e2([y({
  readOnly: true,
  type: X
})], c6.prototype, "imageRenderer", null), e2([y()], c6.prototype, "imageRotation", null), e2([y()], c6.prototype, "imageSource", null), e2([e7(["click", "hittest-response", "pixel-location"]), y({
  type: z2
})], c6.prototype, "viewModel", void 0), e2([y({
  type: Number
})], c6.prototype, "sharpness", null), e2([y({
  readOnly: true
})], c6.prototype, "state", null), c6 = e2([a("esri.widgets.OrientedImageryViewer.components.ImageViewer")], c6);
var d10 = c6;

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer/OrientedImageryViewerViewModel.js
var ne = {
  click: "view-click",
  imageClick: "image-click",
  interactionHandles: "interaction-handles",
  footprintHandles: "footprint-handles"
};
var le = /* @__PURE__ */ new Set(["JPG", "JPEG"]);
var he = /\.(\w+)$/;
var ce = (e9) => "FA" === e9;
var ue = class extends o.EventedAccessor {
  constructor(e9) {
    super(e9), this.additionalFeatures = new V(), this.bestFeatureAngle = 0, this.coverageFrustums = new V(), this.coveragePolygons = new V(), this.currentBestFeature = null, this.currentCoverageVisible = true, this.determineWorkflowForFeature = () => {
      e(this._featureChangedTask), this._featureChangedTask = d((e10) => __async(this, null, function* () {
        const {
          currentBestFeature: t4,
          selectedPoint: i8,
          view: r5
        } = this;
        if (r5?.closePopup(), t4 && i8) {
          this._initialCurrentCoverageUpdate = true;
          try {
            yield this._updatePointsAndPolygons({
              signal: e10
            }), yield this._loadImage({
              signal: e10
            });
          } catch (o7) {
            b(o7) || (this.loadImageError(o7), n.getLogger(this).error("#loadIImage()", "error occured while loading image", o7));
          }
        }
      }));
    }, this.disabled = false, this.displayMessage = {
      key: "onLoadMessage",
      type: "info"
    }, this.drawFootprint = () => {
      this.bestFeatureFootprint && this.updateCurrentCoveragePolygon(this.bestFeatureFootprint);
    }, this.features = new V(), this.isAdditionalCoverageVisible = false, this.isAdditionalPointSourcesVisible = false, this.layer = null, this.localPort = null, this.mapImageConversionToolState = false, this.navigatorCurrentBestFeature = null, this.pointSources = new V(), this.previousFeatureAngle = 0, this.selectedPoint = null, this.shouldShowSelectedImage = false, this.updateFootprint = (e10, t4) => __async(this, null, function* () {
      "image-loaded" === this.state && (yield this._adapter?.updateFootprint(e10, t4));
    }), this.updateFootprintPanorama = (e10, t4) => __async(this, null, function* () {
      yield this._adapter?.updateFootprintPanorama(e10, t4);
    }), this._adapter = null, this.additionalFootprints = new V(), this.additionalCameraLocations = new V(), this.bestFeatureCurrentFootprint = null, this._fetchFeaturesController = null, this._highlightedFeatureHandle = null, this._imageViewer = new d10(), this.bestFeatureFootprint = null, this._initialCurrentCoverageUpdate = true, this._loading = false, this._overlays = new h5({
      listMode: "hide",
      internal: true,
      elevationInfo: {
        mode: "absolute-height"
      }
    }), this._panoramicViewer = new m5(), this._referencePointOnGround = null, this._referencePointOnImage = null, this._sectorData = null, this._crossSymbol = null, this.footprintExtent = null, this._featureChangedTask = null, this._openPopupTask = null, this._suitabilities = null, this._transformController = new AbortController(), this._updateFootprintTask = null, this.highlight = (e10) => {
      if (!this._overlaysView) return;
      this.removeHighlight();
      const t4 = this.additionalFootprints.find(({
        attributes: {
          imageID: t5
        }
      }) => t5 === Number(e10));
      this._highlightedFeatureHandle = t4 ? this._overlaysView?.highlight(t4) : null;
    }, this.loadImageFromSource = (e10, t4) => __async(this, null, function* () {
      const {
        mode: i8,
        imageRotation: r5,
        options: o7
      } = t4, s9 = "string" == typeof e10, a8 = s9 ? e10 : e10.url;
      let n9 = s9 ? e10.match(he)?.[1] ?? "" : e10.datasetFormat;
      if (!n9) {
        const e11 = yield p7(a8, __spreadValues({}, t4.options));
        e11 && (n9 = e11.split("/")[1]), n9 ??= "UNKNOWN FORMAT";
      }
      switch (i8) {
        case "default": {
          this._imageViewer.imageSource = {
            datasetFormat: n9.toUpperCase(),
            url: a8
          };
          const e11 = new URL(a8);
          this._imageViewer.customParameters = Object.fromEntries(e11.searchParams), this._imageViewer.imageRotation = r5 ?? 0, yield this._imageViewer.loadImage(o7);
          break;
        }
        case "panoramic":
          this._loading = true;
          if (le.has(n9.toUpperCase())) {
            const {
              selectedPoint: e11
            } = this, {
              pitch: i9,
              yaw: r6,
              cameraLocation: s10,
              viewAngle: n10
            } = t4;
            this._panoramicViewer.imageSource = a8;
            let l4 = r6 ?? 0;
            "number" == typeof n10 ? l4 = n10 - l4 : s10 && e11 && (l4 = (yield E(s10, e11)) - l4), this._panoramicViewer.pitch = i9 ?? 0, this._panoramicViewer.yaw = l4, this._loading = false, yield this._panoramicViewer.loadImage(o7);
          } else this.setMessage("unsupportedPanoramicImageryError", "error", void 0, {
            datasetFormat: n9
          });
          break;
      }
    }), this.loadImageViewer = (e10) => {
      this._imageViewer.container = e10;
    }, this.loadPanoramicViewer = (e10) => {
      this._panoramicViewer.container = e10;
    }, this.removeHighlight = () => this._highlightedFeatureHandle?.remove(), this.toggleImageAttributes = () => {
      e(this._openPopupTask), this._openPopupTask = d((e10) => __async(this, null, function* () {
        const {
          currentBestFeature: i8,
          popupEnabled: r5,
          layer: o7,
          view: s9
        } = this;
        if (s9?.closePopup(), !(s9 && i8 && r5 && o7)) return;
        const {
          attributes: a8,
          geometry: n9
        } = i8, l4 = new d4({
          geometry: n9,
          attributes: a8.toJSON(),
          popupTemplate: o7.popupTemplate
        });
        s2(e10), yield s9.openPopup({
          features: [l4],
          location: a8.location.clone()
        });
      }));
    }, this._getImageSourceFromAttachment = (e10, t4, i8) => __async(this, null, function* () {
      const r5 = new c2({
        objectIds: [t4]
      }), o7 = yield e10.queryAttachments(r5, i8), s9 = o7[`${t4}`]?.[0], a8 = s9?.url;
      if (!a8) throw new s("NoAttachmentError", "no attachments found", {
        [e10.objectIdField]: t4,
        layer: e10
      });
      return {
        datasetFormat: s9.contentType.split("/")[1].toUpperCase(),
        url: a8
      };
    }), this._loadImage = (e10) => __async(this, null, function* () {
      const {
        currentBestFeature: t4,
        layer: i8,
        mode: r5
      } = this;
      if (this.clearGraphics(), !i8 || !t4 || "none" === r5) return;
      const {
        attributes: o7
      } = t4, {
        imagePath: s9,
        imageRotation: a8,
        cameraHeading: n9,
        cameraRoll: l4,
        cameraPitch: h7,
        objectId: c7,
        cameraOrientation: p12,
        location: d11
      } = o7, m6 = (l4 ?? 0) + (a8 ?? 0), f7 = d11.spatialReference.isWGS84 && 4 !== p12?.type ? d3(d11) : new _(d11);
      let F2 = s9;
      if (ce(s9)) try {
        F2 = yield this._getImageSourceFromAttachment(i8, c7, e10);
      } catch (v) {
        if (b(v)) return;
        return m3(v) ? (n.getLogger(this).error(v), void this.setMessage("noAttachment", "error", `${i8.objectIdField}: ${c7}`)) : (n.getLogger(this).error(v, {
          [i8.objectIdField]: c7,
          layer: i8
        }), void this.setMessage("imageLoadError", "error", `query-attachments-failed:${i8.objectIdField} ${c7}`));
      }
      try {
        yield this.loadImageFromSource(F2, {
          imageRotation: m6,
          options: e10,
          pitch: h7,
          yaw: n9,
          mode: r5,
          cameraLocation: f7
        }), s2(e10), yield this.transformAndPlotSelectedLocation(e10);
      } catch (v) {
        b(v) || this.loadImageError(v);
      }
    }), this._mapImageConversionToolViewClickHandler = (e10) => {
      e10.stopPropagation(), e10.preventDefault(), e10.mapPoint && this.plotMapPoint(e10.mapPoint);
    }, this._viewClickHandler = (e10) => {
      "mouse" === e10.pointerType && 0 !== e10.button || (e10.stopPropagation(), e10.preventDefault(), e10.mapPoint && this.loadBestImage(e10.mapPoint));
    }, this.plotSelectedPointOnImage = (e10, i8) => __async(this, null, function* () {
      if (yield D(i8), !e10) return;
      const r5 = new _(__spreadProps(__spreadValues({}, a2(e10) ? e10.toJSON() : e10), {
        spatialReference: f3.WebMercator
      }));
      if ("default" === this.mode) r5.x -= 0.5, r5.y = 0.5 - r5.y, this._crossSymbol = new d4({
        geometry: r5,
        symbol: d6
      }), this._imageViewer.addGraphic(this._crossSymbol, 0);
      else if ("panoramic" === this.mode) {
        const {
          imageSize: i9
        } = this._panoramicViewer;
        if (!i9) return;
        const [r6, o7] = i9, {
          heading: s9,
          pitch: a8
        } = P2(e10, r6, o7), n9 = A2(s9, a8);
        this._crossSymbol = new d4({
          geometry: new _(n9, f3.WebMercator),
          symbol: w3
        }), this._panoramicViewer.addGraphic(this._crossSymbol, 0);
      }
    }), this.handleSectorClick = this.handleSectorClick.bind(this), this.searchBestImage = this.searchBestImage.bind(this), this.transformAndPlotReferencePointOnImage = this.transformAndPlotReferencePointOnImage.bind(this), this.updateSuitabilities = this.updateSuitabilities.bind(this), this.determineWorkflowForFeature = this.determineWorkflowForFeature.bind(this), this.selectBestFeature = this.selectBestFeature.bind(this), this.drawFootprint = this.drawFootprint.bind(this);
  }
  initialize() {
    this.addHandles([d2(() => this.view, (e9) => __async(this, null, function* () {
      if (e9) {
        switch (this._loading = true, e9.type) {
          case "2d": {
            const {
              default: e10
            } = yield import("./OrientedImageryViewerViewModelAdapter2D-2KHFBVGG.js");
            this._adapter = new e10(this);
            break;
          }
          case "3d": {
            const {
              default: e10
            } = yield import("./OrientedImageryViewerViewModelAdapter3D-F2NWSVWJ.js");
            this._adapter = new e10(this);
            break;
          }
        }
        this._loading = false;
      } else this._adapter = null;
    }), A), d2(() => this.view?.map, (e9, t4) => {
      t4?.layers.remove(this._overlays), e9?.layers.add(this._overlays);
    }, P), d2(() => this.view?.map?.allLayers?.length, (e9) => {
      e9 && this.view?.map?.layers.reorder(this._overlays, e9 - 1);
    }, P), d2(() => [this.state, this.mapImageConversionToolState, this.view], () => {
      if (this.removeHandles(ne.click), "disabled" === this.state || null == this.view) return;
      const e9 = this.mapImageConversionToolState && "image-loaded" === this.state ? this._mapImageConversionToolViewClickHandler : this._viewClickHandler;
      this.addHandles(this.view.on("click", e9, _2.WIDGET), ne.click), this.removeHandles(ne.imageClick);
      const {
        mapImageConversionToolState: t4,
        mode: i8
      } = this;
      if (t4 && "none" !== i8) switch (i8) {
        case "default":
          this._imageViewer.clickAction = "pixel-location", this.addHandles(this._imageViewer.on("pixel-location", (e10) => __async(this, null, function* () {
            this.plotReferencePointOnImage(e10);
            const t5 = this.currentBestFeature;
            if (t5) {
              const i9 = (yield E3([e10.toJSON()], {
                feature: t5,
                imageProperties: {
                  width: this._imageViewer.imageSize[0],
                  height: this._imageViewer.imageSize[1]
                },
                options: {
                  signal: this._transformController?.signal
                },
                footprintExtent: this.footprintExtent
              }))[0];
              i9 && this.plotReferencePointOnGround(i9);
            }
          })), ne.imageClick);
          break;
        case "panoramic":
          this._panoramicViewer.clickAction = "pixel-location", this.addHandles(this._panoramicViewer.on("pixel-location", (e10) => __async(this, null, function* () {
            this.plotReferencePointOnImage(e10);
            const t5 = this.currentBestFeature, {
              imageSize: i9
            } = this._panoramicViewer;
            if (t5 && e10 && i9) {
              const r5 = (yield E3([e10], {
                feature: t5,
                imageProperties: {
                  width: i9[0],
                  height: i9[1]
                },
                options: {
                  signal: this._transformController?.signal
                },
                footprintExtent: this.footprintExtent
              }))[0];
              r5 && this.plotReferencePointOnGround(r5);
            }
          })), ne.imageClick);
      }
    }, A), d2(() => this.bestFeatureAngle, (e9, t4) => {
      this.previousFeatureAngle = t4 ?? 0;
    }, A), d2(() => this.currentBestFeature, (e9, t4) => {
      this.determineWorkflowForFeature(e9, t4);
    }, {
      sync: true
    }), d2(() => this.mode, (e9) => {
      switch (this.removeHandles(ne.interactionHandles), e9) {
        case "default":
          this.addHandles(d2(() => this._imageViewer.imagePointsInView, (e10) => {
            e10 && (e(this._updateFootprintTask), this._updateFootprintTask = d((t4) => __async(this, null, function* () {
              yield this.updateFootprint(e10, {
                signal: t4
              });
            })));
          }, __spreadProps(__spreadValues({}, A), {
            equals: (e10, t4) => h(e10, t4, h2)
          })), ne.interactionHandles);
          break;
        case "panoramic":
          this.addHandles(d2(() => {
            const {
              currentBestFeature: e10
            } = this, {
              imageSize: t4,
              vfov: i8,
              hfov: r5,
              pitch: o7,
              yaw: s9
            } = this._panoramicViewer;
            return e10 && t4 ? [i8, r5, s9, o7] : null;
          }, (e10) => {
            if (!e10 || "image-loading" === this.state) return;
            const [t4, i8, r5, s9] = e10;
            e(this._updateFootprintTask), this._updateFootprintTask = d((e11) => __async(this, null, function* () {
              yield this.updateFootprintPanorama({
                verticalFieldOfView: t4,
                horizontalFieldOfView: i8,
                yaw: r5,
                pitch: s9
              }, {
                signal: e11
              });
            }));
          }, __spreadProps(__spreadValues({}, A), {
            equals: (e10, t4) => h(e10, t4, h2)
          })), ne.interactionHandles);
      }
    }, A), d2(() => [this.brightness, this.contrast, this.sharpness], () => {
      const {
        _imageViewer: e9,
        brightness: t4,
        contrast: i8,
        mode: r5,
        sharpness: o7
      } = this;
      "default" === r5 && (e9.brightness = t4, e9.contrast = i8, e9.sharpness = o7);
    }, A)]);
  }
  destroy() {
    this._updateFootprintTask = e(this._updateFootprintTask), this._cancelFetchingFeatures(), this.coverageFrustums.destroy(), this.coveragePolygons.destroy(), this.pointSources.destroy(), this.additionalFootprints.destroy(), this.additionalCameraLocations.destroy(), this.bestFeatureFootprint = u(this.bestFeatureFootprint), this.bestFeatureCurrentFootprint = u(this.bestFeatureCurrentFootprint), this._crossSymbol = u(this._crossSymbol), this._referencePointOnGround = u(this._referencePointOnGround), this._referencePointOnImage = u(this._referencePointOnImage), this._overlays && this.view?.map?.remove(this._overlays), this._overlays.destroy();
  }
  get activeLayer() {
    return i(n.getLogger(this), "activeLayer", {
      replacement: "layer"
    }), this.layer;
  }
  set activeLayer(e9) {
    i(n.getLogger(this), "activeLayer", {
      replacement: "layer"
    }), this.layer = e9;
  }
  get activeViewer() {
    const {
      _imageViewer: e9,
      _panoramicViewer: t4,
      mode: i8
    } = this;
    switch (i8) {
      case "default":
        return e9;
      case "panoramic":
        return t4;
      default:
        return null;
    }
  }
  get brightness() {
    return this._get("brightness") ?? 0;
  }
  set brightness(e9) {
    this._set("brightness", e9 > 10 ? 10 : e9 < -10 ? -10 : e9);
  }
  get contrast() {
    return this._get("contrast") ?? 0;
  }
  set contrast(e9) {
    this._set("contrast", e5(e9, -10, 10));
  }
  get featureCount() {
    return this.features?.length ?? 0;
  }
  get imageGalleryEnabled() {
    return i7(this.currentBestFeature?.attributes.imagePath.trim());
  }
  get imageLoaded() {
    return i(n.getLogger(this), "imageLoaded", {
      replacement: 'Use OrientedImageryViewer.state === "image-loaded"',
      version: "4.29",
      warnOnce: true
    }), "image-loaded" === this.state;
  }
  get imagePointsInView() {
    const {
      mode: e9,
      _imageViewer: t4
    } = this;
    return "default" === e9 ? t4.imagePointsInView : null;
  }
  get mode() {
    const e9 = this.currentBestFeature?.attributes;
    if (!e9) return "none";
    const {
      horizontalFieldOfView: t4,
      isSpherical: i8
    } = e9;
    return 360 === t4 || i8 ? "panoramic" : "default";
  }
  get popupEnabled() {
    return null !== this.layer && this.layer.popupEnabled;
  }
  get referencePoint() {
    return this._referencePointOnGround?.geometry;
  }
  get sectorData() {
    const {
      _sectorData: e9
    } = this;
    return e9 ? _3.map((t4) => e9[t4]) : null;
  }
  get sharpness() {
    return this._get("sharpness") ?? 0;
  }
  set sharpness(e9) {
    this._set("sharpness", e5(e9, 0, 1));
  }
  get state() {
    const {
      mode: e9,
      disabled: t4
    } = this;
    if (t4) return "disabled";
    if (this._loading) return "image-loading";
    switch (e9) {
      case "default":
        return this._imageViewer.state;
      case "panoramic":
        return this._panoramicViewer.state;
    }
    return "ready";
  }
  get thumbnails() {
    const {
      features: e9
    } = this;
    return e9 ? new V(e9.map(({
      attributes: {
        imagePath: e10,
        objectId: t4,
        cameraRoll: i8,
        imageRotation: r5
      }
    }) => {
      const o7 = e10.trim();
      return i7(o7) ? {
        url: o7,
        objectId: t4,
        rotation: (i8 ?? 0) + (r5 ?? 0)
      } : null;
    }).filter(O)) : null;
  }
  set view(e9) {
    this._set("view", e9);
  }
  get _overlaysView() {
    return this.view?.layerViews.find(({
      layer: e9
    }) => e9 === this._overlays);
  }
  filterByFootprints(e9, t4) {
    const i8 = [], r5 = [], o7 = [];
    return e9.forEach((e10) => {
      const {
        layer: {
          coveragePercent: s9
        },
        attributes: a8
      } = e10;
      let n9;
      const {
        polygon: l4,
        frustum: h7
      } = b4(a8);
      if (n9 = l4.clone(), a8.isInspection && (n9 = C2(a8)), s9 && (n9 = E2(n9, s9)), F(n9, t4)) {
        o7.push(e10);
        const {
          cameraHeading: t5,
          geometry: s10,
          objectId: n10,
          cameraHeight: c7
        } = a8, u6 = s10.clone();
        u6.z = c7, u6.imageID = n10, this.pointSources.push(u6), -999 !== t5 && (i8.push(l4), h7 && r5.push(h7));
      }
    }), {
      features: o7,
      polygons: i8,
      frustums: r5
    };
  }
  getCurrentCoveragePolygon() {
    return this.bestFeatureCurrentFootprint;
  }
  getCurrentBestFeaturePolygon() {
    return this.bestFeatureFootprint;
  }
  handleSectorClick(e9) {
    if (isNaN(e9)) return;
    const t4 = this._sectorData?.[_3[e9]];
    t4?.length && this._updateCurrentBestFeature(t4.at(0));
  }
  handleFeatureClick(e9) {
    const {
      sector: t4,
      featureIndexInSector: i8
    } = e9;
    if (isNaN(i8)) return;
    const r5 = this._sectorData?.[t4];
    r5?.length && this._updateCurrentBestFeature(r5.at(i8));
  }
  loadBestImage(e9) {
    return __async(this, null, function* () {
      this._loading = true, this.view?.closePopup(), this.displayMessage = null, this.selectedPoint = e9.spatialReference.isGeographic ? d3(e9) : e9.clone(), this.features.removeAll(), this.currentBestFeature = null, this.additionalFeatures.removeAll(), this.additionalFootprints.removeAll(), this.additionalCameraLocations.removeAll(), this.bestFeatureCurrentFootprint = u(this.bestFeatureCurrentFootprint), this._overlays?.removeAll(), yield this._fetchFeaturesWithController(e9);
    });
  }
  loadImageError(e9) {
    n.getLogger(this).error("oriented-imagery-viewer:load-image", e9), this.setMessage("imageLoadError", "error", e9.message);
  }
  plotMapPoint(e9) {
    return __async(this, null, function* () {
      return this.plotReferencePoint(e9), this.transformAndPlotReferencePointOnImage({
        feature: this.currentBestFeature,
        selectedLocation: e9,
        options: {
          signal: this._transformController?.signal
        }
      });
    });
  }
  plotReferencePointOnGround(e9) {
    this._referencePointOnGround && (this._overlays?.remove(this._referencePointOnGround), this._referencePointOnGround.destroy()), null != e9 && (this._referencePointOnGround = new d4({
      geometry: new _(__spreadValues({}, e9.toJSON())),
      symbol: p5
    }), this.view ? this._overlays?.add(this._referencePointOnGround) : this.emit("plot-ground-point", {
      data: {
        point: this._referencePointOnGround?.geometry
      }
    }));
  }
  plotReferencePointOnImage(e9) {
    if ("image-loaded" === this.state) switch (this._referencePointOnImage && (this._imageViewer.removeGraphic(this._referencePointOnImage), this._panoramicViewer.removeGraphic(this._referencePointOnImage), this._referencePointOnImage.destroy()), this.mode) {
      case "default": {
        const i8 = a2(e9) ? e9.toJSON() : e9;
        i8.x -= 0.5, i8.y = 0.5 - i8.y, this._referencePointOnImage = new d4({
          geometry: new _(__spreadValues({
            spatialReference: this._imageViewer.imageRenderer.spatialReference
          }, i8)),
          symbol: p5
        }), this._imageViewer.addGraphic(this._referencePointOnImage, 0);
        break;
      }
      case "panoramic": {
        const {
          imageSize: i8
        } = this._panoramicViewer;
        if (!i8) return;
        const [r5, o7] = i8, {
          heading: s9,
          pitch: a8
        } = P2(e9, r5, o7), n9 = A2(s9, a8);
        this._referencePointOnImage = new d4({
          geometry: new _(n9, f3.WebMercator),
          symbol: S4
        }), this._panoramicViewer.addGraphic(this._referencePointOnImage, 0);
        break;
      }
    }
  }
  resetImage() {
    switch (this.setMessage("onLoadMessage", "info"), this.mode) {
      case "default":
        this._imageViewer.clearImage(), this._imageViewer.clearGraphics();
        break;
      case "panoramic":
        this._panoramicViewer.clearGraphics();
    }
    this._cancelFetchingFeatures();
  }
  searchBestImage(e9, t4) {
    return __async(this, null, function* () {
      try {
        const i8 = yield c4(e9, t4);
        i8 && (yield this._processFeatureResponse(i8, e9.point, {
          signal: t4?.signal
        }));
      } catch (i8) {
        b(i8) || (this.setMessage("imageLoadError", "error", i8.message), n.getLogger(this).error("error occurred while finding best image", i8));
      }
    });
  }
  selectBestFeature(e9) {
    this.currentBestFeature = this.features?.find(({
      attributes: t4
    }) => t4.objectId === Number(e9));
  }
  setAdditionalCameraLocationsVisibility(e9) {
    this.additionalCameraLocations.forEach((t4) => {
      t4.visible = e9;
    });
  }
  setAdditionalCoverageVisibility(e9) {
    this.additionalFootprints.forEach((t4) => {
      t4.visible = e9;
    });
  }
  setCurrentCoverageVisibility(e9) {
    this.bestFeatureCurrentFootprint && (this.bestFeatureCurrentFootprint.visible = e9), this.currentBestFeatureLocation && (this.currentBestFeatureLocation.visible = e9);
  }
  setMapImageConversionToolState(e9) {
    this.mapImageConversionToolState = e9;
  }
  transformAndPlotReferencePointOnImage(e9) {
    return __async(this, null, function* () {
      const {
        selectedLocation: t4,
        options: i8
      } = e9, r5 = this.bestFeatureFootprint?.geometry, o7 = f4(r5) && r5.contains(t4), s9 = "mesh" === r5?.type && r5?.extent.contains(t4);
      if (!o7 && !s9) return;
      const a8 = yield this.transformPoint(t4, i8);
      return a8 ? (this.plotReferencePointOnImage(a8), {
        x: a8.x,
        y: a8.y
      }) : void 0;
    });
  }
  updateSuitabilities(e9) {
    this._suitabilities = e9.sort((e10, t5) => e10.suitability - t5.suitability);
    const t4 = this._suitabilities.map((e10) => e10.feature);
    this._updateFeatures(t4), this._groupFeaturesBySectors(), this._initialCurrentCoverageUpdate = true;
  }
  _cancelFetchingFeatures(e9) {
    const t4 = this._fetchFeaturesController;
    t4 && t4.abort(e9), this._fetchFeaturesController = null;
  }
  _fetchFeatures(e9, t4) {
    return __async(this, null, function* () {
      if (!this.view) return;
      const i8 = this.layer;
      if (i8) {
        const r5 = {
          include: i8
        }, o7 = this.view.toScreen(e9);
        if (!o7) return;
        const s9 = yield this.view.hitTest(o7, r5);
        this._processHitTestResults(i8, s9, t4);
      }
    });
  }
  _fetchFeaturesWithController(e9) {
    return __async(this, null, function* () {
      this._cancelFetchingFeatures();
      const t4 = new AbortController(), {
        signal: i8
      } = t4;
      this._fetchFeaturesController = t4;
      try {
        yield this._fetchFeatures(e9, {
          signal: i8
        }).finally(() => {
          this._fetchFeaturesController = null;
        });
      } catch (r5) {
        this.setMessage("imageLoadError", "error"), n.getLogger(this).error("error occurred while fetching features", r5);
      }
    });
  }
  _groupFeaturesBySectors() {
    const {
      _suitabilities: e9,
      additionalFeatures: t4,
      currentBestFeature: i8,
      features: r5
    } = this;
    if (!(e9 && t4 && i8 && r5)) return void (this._sectorData = null);
    this._sectorData = {};
    for (const l4 of _3) this._sectorData[l4] = new V();
    const o7 = e9.map((e10, t5) => __spreadProps(__spreadValues({}, e10), {
      featureIndex: t5
    }));
    o7.sort((e10, t5) => e10.trueSuitability - t5.trueSuitability);
    const a8 = o7.map(({
      distance: e10
    }) => e10), n9 = Math.max(...a8);
    o7.forEach((e10) => {
      const {
        distance: t5,
        angle: i9,
        featureIndex: o8
      } = e10, s9 = t5 / n9 * c3[2], a9 = u5(t5, n9), l4 = s8(i9);
      if (!this._sectorData) return;
      const h7 = c3[3] + s9 * Math.sin(i9 * Math.PI / 180), c7 = c3[3] + s9 * Math.cos(i9 * Math.PI / 180);
      let u6;
      const p12 = r5.at(o8), d11 = p12 === this.currentBestFeature, m6 = this.currentBestFeature?.attributes.cameraPitch && this.currentBestFeature?.attributes.cameraPitch < 5;
      if (d11 && m6) u6 = -90;
      else {
        const e11 = h7 - c3[3], t6 = c7 - c3[3], i10 = t6 / Math.sqrt(e11 ** 2 + t6 ** 2);
        let r6 = 180 * Math.acos(i10) / Math.PI;
        (e11 < 0 && t6 < 0 || e11 < 0 && t6 > 0) && (r6 *= -1), u6 = r6;
      }
      const g2 = "" === a9 ? l4 : `${a9}_${l4}`;
      d11 && (u6 === this.bestFeatureAngle ? this.previousFeatureAngle = u6 : this.bestFeatureAngle = u6, this.navigatorCurrentBestFeature = m6 ? null : {
        x: h7,
        y: c7,
        direction: l4
      });
      const y3 = this._sectorData[g2];
      y3.add({
        angle: i9,
        featureIndex: o8,
        x: h7,
        y: c7,
        objectID: p12.attributes.objectId,
        sector: g2,
        featureIndexInSector: y3.length
      });
    });
  }
  _processFeatureResponse(e9, t4, i8) {
    return __async(this, null, function* () {
      const {
        features: r5
      } = e9;
      if (!r5?.length) return this.setMessage("noImageError", "error"), void (this.currentBestFeature = null);
      this.coveragePolygons.removeAll(), this.coverageFrustums.removeAll(), this.pointSources.removeAll();
      const {
        features: o7,
        polygons: s9,
        frustums: a8
      } = this.filterByFootprints(r5, t4);
      if (!o7.length) return this.setMessage("noImageError", "error"), void (this.currentBestFeature = null);
      this.coveragePolygons.addMany(s9), this.coverageFrustums.addMany(a8);
      const n9 = new j({
        spatialReference: s9[0].spatialReference
      });
      for (const {
        rings: u6
      } of s9) n9.addRing(u6[0]);
      const l4 = [];
      for (const {
        geometry: u6
      } of o7) n9.contains(u6) || l4.push(u6);
      n9.addRing(l4);
      const h7 = n9.extent;
      let c7;
      if (y2(h7, 2), this.footprintExtent = h7, this.view?.supportsGround) try {
        c7 = yield this.view.map.ground.createElevationSampler(h7, i8);
      } catch (d11) {
        b(d11) || n.getLogger(this).error(d11);
      }
      if (o7[0].elevationSample = c7, (c7 || o7[0].attributes.elevationSource) && h7) {
        const e10 = yield M3([t4], {
          feature: o7[0],
          footprintExtent: h7,
          options: i8
        });
        if (e10[0]) {
          const i9 = e10[0];
          t4.elevation = i9.z;
        }
      }
      o7[0].elevationSample && o7.forEach((e10) => {
        e10.elevationSample = o7[0].elevationSample;
      }), this._suitabilities = i6({
        features: o7,
        selectedPoint: t4,
        camera: n6(this.view) ? this.view.camera : null,
        currentImage: this.currentBestFeature
      }), this.updateSuitabilities(this._suitabilities);
      const p12 = this._suitabilities.map((e10) => e10.feature);
      this.currentBestFeature = p12[0], this._loading = false;
    });
  }
  _processHitTestResults(e9, t4, i8) {
    return __async(this, null, function* () {
      const {
        screenPoint: r5,
        results: [o7]
      } = t4, s9 = "graphic" === o7?.type && this.shouldShowSelectedImage, a8 = o7?.mapPoint ?? this.view?.toMap(r5);
      if (!a8) return;
      const n9 = {
        layerInstanceOrURL: e9,
        point: a8,
        queryParams: {
          where: e9.definitionExpression ?? "1=1",
          maximumDistance: e9.maximumDistance,
          objectIds: s9 ? [o7.graphic.getAttribute(e9.objectIdField)] : void 0
        }
      };
      yield this.searchBestImage(n9, i8);
    });
  }
  _updateFeatures(e9) {
    if (!e9.length) return this.currentBestFeature = null, void this.additionalFeatures.removeAll();
    this.features.removeAll(), this.features.addMany(e9), this.currentBestFeature = e9[0], e9.length > 1 ? this.additionalFeatures.addMany(e9.slice(1)) : this.additionalFeatures.removeAll();
  }
  _updatePointsAndPolygons(e9) {
    return __async(this, null, function* () {
      const {
        pointSources: i8,
        currentBestFeature: r5,
        currentCoverageVisible: o7,
        isAdditionalPointSourcesVisible: s9
      } = this;
      if (r5) {
        this.additionalFootprints.removeAll(), this.additionalCameraLocations.removeAll(), this.bestFeatureCurrentFootprint && (this.bestFeatureCurrentFootprint.destroy(), this.bestFeatureCurrentFootprint = null, this.bestFeatureFootprint = null), yield this._adapter?.createFootprints(e9), s2(e9);
        for (const e10 of i8) e10.imageID === r5.attributes.objectId ? this.currentBestFeatureLocation = new d4({
          attributes: {
            imageID: e10.imageID
          },
          geometry: e10,
          symbol: n4,
          visible: o7
        }) : this.additionalCameraLocations.push(new d4({
          attributes: {
            imageID: e10.imageID
          },
          geometry: e10,
          symbol: a4,
          visible: s9
        }));
      }
    });
  }
  _updateCurrentBestFeature(e9) {
    if (!e9) return;
    this.currentBestFeature = this.features?.at(e9.featureIndex);
    const t4 = this.currentBestFeature?.attributes.cameraPitch && this.currentBestFeature?.attributes.cameraPitch < 5;
    let i8;
    if (t4) i8 = -90;
    else {
      const t5 = e9.x - c3[3], r5 = e9.y - c3[3], o7 = r5 / Math.sqrt(t5 ** 2 + r5 ** 2);
      let s9 = 180 * Math.acos(o7) / Math.PI;
      (t5 < 0 && r5 < 0 || t5 < 0 && r5 > 0) && (s9 *= -1), i8 = s9;
    }
    i8 === this.bestFeatureAngle ? this.previousFeatureAngle = i8 : this.bestFeatureAngle = i8, this.navigatorCurrentBestFeature = t4 ? null : {
      x: e9.x,
      y: e9.y,
      direction: e9.sector.includes("_") ? e9.sector.split("_")[1] : e9.sector
    };
  }
  clearGraphics() {
    this._imageViewer.clearGraphics(), this._panoramicViewer.clearGraphics();
  }
  plotReferencePoint(e9) {
    "mapPoint" in e9 ? this.plotReferencePointOnGround(e9.mapPoint) : this.plotReferencePointOnGround(e9);
  }
  setMessage(e9, t4, i8, r5) {
    this._loading = false, this.displayMessage = {
      key: e9,
      type: t4,
      data: i8,
      map: r5
    };
  }
  transformAndPlotSelectedLocation(e9) {
    return __async(this, null, function* () {
      const {
        currentBestFeature: t4,
        selectedPoint: i8,
        state: r5
      } = this;
      if (this._crossSymbol && (this._panoramicViewer.removeGraphic(this._crossSymbol), this._imageViewer.removeGraphic(this._crossSymbol), this._crossSymbol = u(this._crossSymbol)), !i8 || !t4 || "image-loaded" !== r5) return;
      let o7;
      try {
        o7 = yield this.transformPoint(i8, e9), s2(e9), yield this.plotSelectedPointOnImage(o7, e9);
      } catch (s9) {
        b(s9) || n.getLogger(this).error("failed to transform map point to pixel, cross symbol will not be plotted on image", {
          error: s9,
          selectedPoint: i8,
          feature: t4
        });
      }
    });
  }
  transformPoint(e9, t4) {
    return __async(this, null, function* () {
      if ("none" === this.mode) return;
      const i8 = this.currentBestFeature, r5 = yield S3([e9], {
        feature: i8,
        imageProperties: "default" === this.mode ? this._imageViewer.viewModel.image.serviceRasterInfo : {
          width: this._panoramicViewer.imageSize?.[0],
          height: this._panoramicViewer.imageSize?.[1]
        },
        options: t4
      }, "3d" === this.view?.type);
      if (!r5.length) return;
      return r5[0];
    });
  }
  updateCurrentCoveragePolygon(e9) {
    const {
      additionalFootprints: i8,
      additionalCameraLocations: r5,
      currentBestFeature: o7,
      currentBestFeatureLocation: s9,
      currentCoverageVisible: a8,
      selectedPoint: n9,
      view: l4,
      _adapter: h7
    } = this, {
      attributes: {
        objectId: c7
      },
      elevationSample: u6
    } = o7;
    if (this._initialCurrentCoverageUpdate) {
      if (this._overlays?.removeAll(), this._initialCurrentCoverageUpdate = false, this.bestFeatureCurrentFootprint = u(this.bestFeatureCurrentFootprint), e9 && (e9.visible = a8, this.bestFeatureCurrentFootprint = e9), l4) {
        const e10 = [...i8, ...r5, this.bestFeatureCurrentFootprint, s9].filter(o6);
        l4.supportsGround && u6 && h7?.updateGroundElevation && h7.updateGroundElevation(e10, u6), n9 && e10.push(new d4({
          geometry: n9.clone(),
          symbol: d6.clone(),
          attributes: {
            imageID: c7
          }
        })), this._overlays.graphics.addMany(e10);
      }
    } else if (l4) {
      this.bestFeatureCurrentFootprint && (this._overlays?.remove(this.bestFeatureCurrentFootprint), this.bestFeatureCurrentFootprint = u(this.bestFeatureCurrentFootprint));
      const t4 = this.bestFeatureCurrentFootprint && this._overlays ? this._overlays.graphics.indexOf(this.bestFeatureCurrentFootprint) : -1;
      e9 && (this.bestFeatureCurrentFootprint = e9, l4?.supportsGround && u6 && h7?.updateGroundElevation && h7.updateGroundElevation([e9], u6), e9.visible = this.currentCoverageVisible, this._overlays?.graphics.add(this.bestFeatureCurrentFootprint, t4 >= 0 ? t4 : this._overlays.graphics.length - 1));
    }
  }
};
e2([y()], ue.prototype, "activeLayer", null), e2([y({
  readOnly: true
})], ue.prototype, "activeViewer", null), e2([y()], ue.prototype, "additionalFeatures", void 0), e2([y()], ue.prototype, "bestFeatureAngle", void 0), e2([y({
  type: Number
})], ue.prototype, "brightness", null), e2([y({
  type: Number
})], ue.prototype, "contrast", null), e2([y()], ue.prototype, "coverageFrustums", void 0), e2([y()], ue.prototype, "coveragePolygons", void 0), e2([y()], ue.prototype, "currentBestFeature", void 0), e2([y()], ue.prototype, "currentCoverageVisible", void 0), e2([y({
  json: {
    write: false
  }
})], ue.prototype, "determineWorkflowForFeature", void 0), e2([y()], ue.prototype, "disabled", void 0), e2([y()], ue.prototype, "displayMessage", void 0), e2([y()], ue.prototype, "drawFootprint", void 0), e2([y({
  readOnly: true
})], ue.prototype, "featureCount", null), e2([y()], ue.prototype, "features", void 0), e2([y({
  readOnly: true
})], ue.prototype, "imageGalleryEnabled", null), e2([y({
  readOnly: true
})], ue.prototype, "imageLoaded", null), e2([y()], ue.prototype, "imagePointsInView", null), e2([y()], ue.prototype, "isAdditionalCoverageVisible", void 0), e2([y()], ue.prototype, "isAdditionalPointSourcesVisible", void 0), e2([y()], ue.prototype, "layer", void 0), e2([y({
  type: Number
})], ue.prototype, "localPort", void 0), e2([y()], ue.prototype, "mapImageConversionToolState", void 0), e2([y({
  readOnly: true,
  value: "none"
})], ue.prototype, "mode", null), e2([y()], ue.prototype, "navigatorCurrentBestFeature", void 0), e2([y()], ue.prototype, "pointSources", void 0), e2([y({
  readOnly: true
})], ue.prototype, "popupEnabled", null), e2([y()], ue.prototype, "previousFeatureAngle", void 0), e2([y()], ue.prototype, "referencePoint", null), e2([y({
  readOnly: true
})], ue.prototype, "sectorData", null), e2([y()], ue.prototype, "selectedPoint", void 0), e2([y({
  type: Number
})], ue.prototype, "sharpness", null), e2([y()], ue.prototype, "shouldShowSelectedImage", void 0), e2([y({
  readOnly: true
})], ue.prototype, "state", null), e2([y({
  readOnly: true
})], ue.prototype, "thumbnails", null), e2([y()], ue.prototype, "updateFootprint", void 0), e2([y()], ue.prototype, "updateFootprintPanorama", void 0), e2([y({
  value: null
})], ue.prototype, "view", null), e2([y()], ue.prototype, "_adapter", void 0), e2([y({
  type: V.ofType(d4)
})], ue.prototype, "additionalFootprints", void 0), e2([y({
  type: V.ofType(d4)
})], ue.prototype, "additionalCameraLocations", void 0), e2([y()], ue.prototype, "bestFeatureCurrentFootprint", void 0), e2([y()], ue.prototype, "_fetchFeaturesController", void 0), e2([y()], ue.prototype, "_highlightedFeatureHandle", void 0), e2([y()], ue.prototype, "_imageViewer", void 0), e2([y({
  type: d4
})], ue.prototype, "bestFeatureFootprint", void 0), e2([y()], ue.prototype, "_initialCurrentCoverageUpdate", void 0), e2([y()], ue.prototype, "_loading", void 0), e2([y()], ue.prototype, "_overlays", void 0), e2([y({
  readOnly: true
})], ue.prototype, "_overlaysView", null), e2([y()], ue.prototype, "_panoramicViewer", void 0), e2([y()], ue.prototype, "_referencePointOnGround", void 0), e2([y()], ue.prototype, "_referencePointOnImage", void 0), e2([y()], ue.prototype, "currentBestFeatureLocation", void 0), e2([y()], ue.prototype, "_sectorData", void 0), e2([y()], ue.prototype, "footprintExtent", void 0), ue = e2([a("esri.widgets.OrientedImageryViewer.OrientedImageryViewerViewModel")], ue);
var pe = ue;

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer/OrientedImageryViewerVisibleElements.js
var r4 = class extends S {
  constructor() {
    super(...arguments), this.closeButton = true, this.coverageMenu = true, this.imageEnhancement = true, this.imageGallery = true, this.mapImageConversionTool = true, this.navigationTool = true, this.title = true, this.viewerTools = true, this.showPopupsAction = true;
  }
};
e2([y({
  type: Boolean,
  nonNullable: true
})], r4.prototype, "closeButton", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], r4.prototype, "coverageMenu", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], r4.prototype, "imageEnhancement", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], r4.prototype, "imageGallery", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], r4.prototype, "mapImageConversionTool", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], r4.prototype, "navigationTool", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], r4.prototype, "title", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], r4.prototype, "viewerTools", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], r4.prototype, "showPopupsAction", void 0), r4 = e2([a("esri.widgets.OrientedImageryViewer.OrientedImageryViewerVisibleElements")], r4);
var n8 = r4;

// ../../../node_modules/@arcgis/core/widgets/OrientedImageryViewer.js
var V2 = class extends B {
  constructor(e9, t4) {
    super(e9, t4), this.dockEnabled = false, this.galleryOpened = false, this.imageEnhancementToolActive = false, this.navigationToolActive = false, this.viewModel = new pe(), this.messagesCommon = null, this.visibleElements = new n8(), this._navigationToolExpanded = false, this._navigationTool = null, this._actionItems = /* @__PURE__ */ new Map(), this._galleryController = new AbortController(), this._galleryObserver = new IntersectionObserver(this._lazyLoadImage.bind(this)), this._highlight = (e10) => {
      const t5 = e10.target?.dataset.objectid;
      t5 && this.viewModel.highlight(t5);
    }, this._removeHighlight = () => this.viewModel.removeHighlight(), this._scaleNavigationTool = () => {
      this._navigationToolExpanded = !this._navigationToolExpanded;
    }, this._toogleImageAttributes = () => {
      this.viewModel.toggleImageAttributes();
    }, this._loadImageFromGallery = this._loadImageFromGallery.bind(this), this._registerGalleryItem = this._registerGalleryItem.bind(this), this._unregisterGalleryItem = this._unregisterGalleryItem.bind(this), this._renderViewerContainer = this._renderViewerContainer.bind(this), this.loadImageFromSource = this.loadImageFromSource.bind(this), this.updateSuitabilities = this.updateSuitabilities.bind(this);
  }
  initialize() {
    this.addHandles([d2(() => [this.viewModel?.bestFeatureAngle, this._navigationTool], ([e9, t4]) => {
      t4 && this._updateNavigationTool(t4);
    }, P), d2(() => this.currentCoverageVisible, (e9) => this._onCurrentCoverageVisibilityChange(e9)), d2(() => this.isAdditionalCoverageVisible, (e9) => this._onAdditionalCoverageVisibilityChange(e9)), d2(() => this.isAdditionalPointSourcesVisible, (e9) => this._onAdditionalCameraLocationsVisibility(e9))]);
  }
  loadDependencies() {
    return r({
      tooltip: () => import("./calcite-tooltip-AYI56I5U.js"),
      action: () => import("./calcite-action-M3FHAAKV.js"),
      "action-group": () => import("./calcite-action-group-FVEIIC4M.js"),
      "action-bar": () => import("./calcite-action-bar-YZ2VEV46.js"),
      label: () => import("./calcite-label-NSQ5QQOX.js"),
      panel: () => import("./calcite-panel-JKWQ43M4.js"),
      slider: () => import("./calcite-slider-RC35Z43N.js")
    });
  }
  destroy() {
    this._galleryController.abort(), this._galleryObserver.disconnect();
  }
  get activeLayer() {
    return i(n.getLogger(this), "activeLayer", {
      replacement: "layer"
    }), this.layer;
  }
  set activeLayer(e9) {
    i(n.getLogger(this), "activeLayer", {
      replacement: "layer"
    }), this.layer = e9;
  }
  get currentBestFeature() {
    return this.viewModel.currentBestFeature;
  }
  set currentBestFeature(e9) {
    this.viewModel.currentBestFeature = e9;
  }
  get currentCoverageVisible() {
    return this.viewModel.currentCoverageVisible;
  }
  set currentCoverageVisible(e9) {
    this.viewModel.currentCoverageVisible = e9;
  }
  get disabled() {
    return this.viewModel.disabled;
  }
  set disabled(e9) {
    this.viewModel.disabled = e9;
  }
  get displayMessage() {
    return this.viewModel.displayMessage;
  }
  set drawFootprint(e9) {
    this.viewModel.drawFootprint = e9;
  }
  get drawFootprint() {
    return this.viewModel.drawFootprint;
  }
  get features() {
    return this.viewModel.features;
  }
  get imagePointsInView() {
    return this.viewModel.imagePointsInView;
  }
  get isDocked() {
    return i(n.getLogger(this), "isDocked", {
      replacement: "dockEnabled"
    }), this.dockEnabled;
  }
  set isDocked(e9) {
    i(n.getLogger(this), "isDocked", {
      replacement: "dockEnabled"
    }), this.dockEnabled = e9;
  }
  get icon() {
    return "oriented-imagery-widget";
  }
  set icon(e9) {
    this._overrideIfSome("icon", e9);
  }
  get imageGalleryEnabled() {
    return this.viewModel.imageGalleryEnabled;
  }
  get isAdditionalCoverageVisible() {
    return this.viewModel.isAdditionalCoverageVisible;
  }
  set isAdditionalCoverageVisible(e9) {
    this.viewModel.isAdditionalCoverageVisible = e9;
  }
  get isAdditionalPointSourcesVisible() {
    return this.viewModel.isAdditionalPointSourcesVisible;
  }
  set isAdditionalPointSourcesVisible(e9) {
    this.viewModel.isAdditionalPointSourcesVisible = e9;
  }
  get mapImageConversionToolState() {
    return this.viewModel.mapImageConversionToolState;
  }
  set mapImageConversionToolState(e9) {
    this.viewModel.mapImageConversionToolState = e9;
  }
  get layer() {
    return this.viewModel.layer;
  }
  set layer(e9) {
    this.viewModel.layer = e9;
  }
  get popupEnabled() {
    const {
      popupEnabled: e9,
      state: t4
    } = this.viewModel;
    return "image-loaded" === t4 && e9;
  }
  get referencePoint() {
    return this.viewModel.referencePoint ?? null;
  }
  get view() {
    return this.viewModel.view;
  }
  set view(e9) {
    this.viewModel.view = e9;
  }
  set determineWorkflowForFeature(e9) {
    this.viewModel.determineWorkflowForFeature = e9;
  }
  get determineWorkflowForFeature() {
    return this.viewModel.determineWorkflowForFeature;
  }
  set updateFootprint(e9) {
    this.viewModel.updateFootprint = e9;
  }
  get updateFootprint() {
    return this.viewModel.updateFootprint;
  }
  _getThumbnailPixelBlockInternal(e9, t4) {
    return __async(this, null, function* () {
      const {
        level: i8,
        offset: a8,
        size: s9
      } = this._getMaxLevelRasterParameters(e9);
      try {
        const {
          pixelBlock: o7
        } = yield e9.fetchRawPixels(i8, a8, s9, t4);
        return o7;
      } catch (r5) {
        n.getLogger(this).warn("failed to create canvas with pixel data", r5);
      }
      return null;
    });
  }
  _getMaxLevelRasterParameters(e9) {
    const {
      storageInfo: t4,
      width: i8,
      height: o7
    } = e9.rasterInfo, {
      maximumPyramidLevel: a8,
      pyramidScalingFactor: s9
    } = t4, r5 = s9 ?? 2;
    return {
      level: a8,
      offset: {
        x: 0,
        y: 0
      },
      size: {
        width: Math.ceil(i8 / r5 ** a8),
        height: Math.ceil(o7 / r5 ** a8)
      }
    };
  }
  _getThumbnailPixelBlock(e9) {
    return __async(this, null, function* () {
      const {
        signal: t4
      } = this._galleryController;
      try {
        const i8 = yield u2.open({
          url: e9,
          signal: t4
        });
        return i8 ? yield this._getThumbnailPixelBlockInternal(i8, {
          signal: t4
        }) : null;
      } catch (i8) {
        n.getLogger(this).error("failed to create thumbnail", i8);
      }
      return null;
    });
  }
  _handleBrightnessChange(e9) {
    this.viewModel.brightness = e9.target.value ?? 0;
  }
  _handleContrastChange(e9) {
    this.viewModel.contrast = e9.target.value ?? 0;
  }
  _handleSharpnessChange(e9) {
    this.viewModel.sharpness = e9.target.value ?? 0;
  }
  _lazyLoadImage(e9, t4) {
    e9.forEach((e10) => __async(this, null, function* () {
      if (e10.isIntersecting) {
        const i8 = e10.target, s9 = i8.getAttribute("data-src"), r5 = i8.getAttribute("data-rotation"), n9 = r5 ? parseFloat(r5) % 360 : null;
        if (!s9) return;
        const l4 = yield this._getThumbnailPixelBlock(s9);
        if (!l4) return;
        i8.width = l4.width, i8.height = l4.height;
        const d11 = i8.getContext("2d");
        if (!d11) return;
        const h7 = d11.createImageData(i8.width, i8.height);
        if (h7.data.set(l4.getAsRGBA()), "number" == typeof n9 && 0 !== n9) {
          const e11 = h3(n9), s10 = document.createElement("canvas"), r6 = s10.getContext("2d");
          if (r6) {
            s10.width = h7.width, s10.height = h7.height, r6.putImageData(h7, 0, 0);
            const o7 = U2(0, 0, e11), a8 = U2(h7.width, 0, e11), n10 = U2(h7.width, h7.height, e11), l5 = U2(0, h7.height, e11), g2 = Math.max(o7[0], a8[0], n10[0], l5[0]) - Math.min(o7[0], a8[0], n10[0], l5[0]), m6 = Math.max(o7[1], a8[1], n10[1], l5[1]) - Math.min(o7[1], a8[1], n10[1], l5[1]), p12 = Math.min(i8.width / g2, i8.height / m6);
            return d11.save(), d11.clearRect(0, 0, i8.width, i8.height), d11.translate(i8.width / 2, i8.height / 2), d11.rotate(e11), d11.scale(p12, p12), d11.drawImage(s10, -h7.width / 2, -h7.height / 2, h7.width, h7.height), d11.restore(), t4.unobserve(i8);
          }
          n.getLogger(this).warn("oriented-imagery-viewer:image-gallery", "failed to apply rotation on thumbnail");
        }
        d11.putImageData(h7, 0, 0), t4.unobserve(i8);
      }
    }));
  }
  _loadImageFromGallery(e9) {
    const {
      target: t4
    } = e9;
    if (!t4) return;
    const i8 = t4.getAttribute("data-objectid");
    i8 && this.viewModel.currentBestFeature?.attributes.objectId !== Number(i8) && this.viewModel.selectBestFeature(i8);
  }
  _onAdditionalCoverageVisibilityChange(e9) {
    this.viewModel.setAdditionalCoverageVisibility(e9);
  }
  _onAdditionalCameraLocationsVisibility(e9) {
    this.viewModel.setAdditionalCameraLocationsVisibility(e9);
  }
  _onCurrentCoverageVisibilityChange(e9) {
    this.viewModel.setCurrentCoverageVisibility(e9);
  }
  _registerGalleryItem(e9) {
    this._galleryObserver.observe(e9);
  }
  _renderActionTooltips() {
    return [...this._actionItems].map(([e9, t4]) => n3("calcite-tooltip", {
      key: e9,
      referenceElement: t4
    }, n3("span", null, e9)));
  }
  _renderBody() {
    return n3("div", {
      class: i4.body
    }, this._renderViewerContainer(), this._renderImageGallery(), this._renderImageEnhancementTools(), this._renderNavigation());
  }
  _renderImageEnhancementTools() {
    const {
      imageEnhancementToolActive: e9,
      viewModel: {
        brightness: t4,
        contrast: i8,
        sharpness: o7
      }
    } = this;
    return e9 && n3("calcite-panel", {
      bind: this,
      class: i4.imageEnhancementWrapper,
      closable: true,
      closed: !e9,
      heading: this.messages.imageEnhancement,
      key: this.messages.imageEnhancement,
      onCalcitePanelClose: this._toggleImageEnhancementToolState
    }, n3("div", {
      class: i4.imageEnhancementTools
    }, n3("div", {
      class: i4.imageEnhancementToolContainer
    }, n3("calcite-label", null, this.messages.brightness, n3("calcite-slider", {
      bind: this,
      labelTicks: true,
      max: 10,
      min: -10,
      ticks: 5,
      value: t4,
      onCalciteSliderInput: this._handleBrightnessChange
    }))), n3("div", {
      class: i4.imageEnhancementToolContainer
    }, n3("calcite-label", null, this.messages.contrast, n3("calcite-slider", {
      bind: this,
      labelTicks: true,
      max: 10,
      min: -10,
      ticks: 5,
      value: i8,
      onCalciteSliderInput: this._handleContrastChange
    }))), n3("div", {
      class: i4.imageEnhancementToolContainer
    }, n3("calcite-label", null, this.messages.sharpness, n3("calcite-slider", {
      bind: this,
      labelTicks: true,
      max: 1,
      min: 0,
      step: 0.1,
      ticks: 0.5,
      value: o7,
      onCalciteSliderInput: this._handleSharpnessChange
    })))), n3("calcite-action", {
      bind: this,
      icon: "reset",
      onclick: this._resetImageTools,
      slot: "header-actions-end",
      text: this.messagesCommon.reset
    }));
  }
  _renderImageGallery() {
    const {
      container: e9,
      galleryOpened: t4,
      imageGalleryEnabled: i8,
      viewModel: {
        thumbnails: o7
      }
    } = this;
    return i8 && t4 && e9 && o7 ? n3("calcite-panel", {
      bind: this,
      class: i4.carousel,
      closable: true,
      closed: !t4,
      heading: this.messages.imageGallery,
      key: this.messages.imageGallery,
      onCalcitePanelClose: this._toggleImageGallery
    }, n3("div", {
      class: i4.carouselContainer
    }, this._renderThumbnails(o7))) : null;
  }
  _renderMapImageConversionTool() {
    const {
      mapImageConversionToolState: e9,
      viewModel: {
        state: t4
      }
    } = this;
    return n3("calcite-action", {
      active: e9,
      afterCreate: this._storeActionElement,
      bind: this,
      disabled: "image-loaded" !== t4,
      icon: "image-pin",
      onclick: this._toggleMapImageConversionToolState,
      text: this.messages.mapImageConversionTool
    });
  }
  _renderNavigation() {
    const {
      viewModel: {
        sectorData: e9,
        navigatorCurrentBestFeature: i8,
        currentBestFeature: o7,
        state: a8
      }
    } = this;
    if (!this.container || !o7) return null;
    let s9, r5, n9, l4, c7;
    if (i8) {
      const {
        x: e10,
        y: t4,
        direction: o8
      } = i8, [a9, d12, h8, g2] = l2[o8];
      s9 = `M ${e10} ${t4} L ${a9} ${d12} A ${c3[2]} ${c3[2]} 0 0 1 ${h8} ${g2} Z`, r5 = e10, l4 = t4, n9 = l2[o8][4], c7 = l2[o8][5];
    }
    const d11 = (e10) => {
      const t4 = e10.target.dataset?.sector;
      t4 && this.viewModel.handleSectorClick(+t4);
    }, h7 = (e10) => {
      const t4 = e10.target.dataset;
      if (!t4) return;
      const {
        featureIndexInSector: i9,
        sector: o8
      } = t4;
      i9 && o8 && this.viewModel.handleFeatureClick({
        sector: o8,
        featureIndexInSector: +i9
      });
    }, w4 = (e10) => {
      e10.removeEventListener("click", h7);
    }, _4 = o7.attributes.objectId, C3 = e9?.map((e10) => e10?.items).filter(Boolean).flatMap((e10) => e10?.map(({
      x: e11,
      y: t4,
      objectID: i9,
      featureIndexInSector: o8,
      sector: a9
    }) => n3("circle", {
      afterRemoved: w4,
      class: this.classes(i4.feature, {
        selected: _4 === i9
      }),
      cx: e11,
      cy: t4,
      "data-feature-index-in-sector": o8,
      "data-sector": a9,
      key: `${i4.feature}-${i9}`,
      onclick: h7,
      r: $2
    }))), f7 = (e10) => {
      e10.removeEventListener("click", d11);
    }, M5 = this.classes({
      [i4.navigationWrapper]: true,
      [i4.navigationZoomed]: this._navigationToolExpanded
    });
    return this.navigationToolActive && "image-loaded" === a8 ? n3("div", {
      bind: this,
      class: M5,
      key: this.messages.navigationTool
    }, n3("svg", {
      afterCreate: (e10) => this._storeNavigationToolReference(e10),
      class: o3() ? a6 : i4.rotateWithAnimation,
      focusable: "false",
      height: s5,
      role: "img",
      width: s5,
      xmlns: "http://www.w3.org/2000/svg"
    }, n3("defs", null, n3("linearGradient", {
      gradientUnits: "userSpaceOnUse",
      id: `${this.id}-coverage-fill`,
      x1: r5,
      x2: n9,
      y1: l4,
      y2: c7
    }, n3("stop", {
      class: i4.navigationPathOffset0,
      offset: 0
    }), n3("stop", {
      class: i4.navigationPathOffset1,
      offset: 1
    }))), n3("g", null, n3("circle", {
      class: this.classes(i4.sector, i4.outerSector),
      cx: c3[3],
      cy: c3[3],
      onclick: this._scaleNavigationTool,
      r: c3[3]
    }), n3("circle", {
      class: i4.sector,
      cx: c3[3],
      cy: c3[3],
      r: c3[2]
    }), n3("circle", {
      class: i4.sector,
      cx: c3[3],
      cy: c3[3],
      r: c3[1]
    }), n3("circle", {
      class: i4.sector,
      cx: c3[3],
      cy: c3[3],
      r: c3[0]
    }), n3("path", {
      class: i4.pointer,
      d: "M 56.5 6.06217782649107 L 60 0 L 63.5 6.06217782649107 Z",
      key: `${i4.pointer}-west`
    }), n3("path", {
      class: this.classes(i4.pointer, i4.north),
      d: "M 113.93782217350893 56.5 L 120 60 L 113.93782217350893 63.5 Z",
      key: `${i4.pointer}-north`
    }), n3("path", {
      class: i4.pointer,
      d: "M 56.5 113.93782217350893 L 60 120 L 63.5 113.93782217350893 Z",
      key: `${i4.pointer}-east`
    }), n3("path", {
      class: i4.pointer,
      d: "M 6.06217782649107 56.5 L 0 60 L 6.06217782649107 63.5 Z",
      key: `${i4.pointer}-south`
    }), n3("path", {
      class: this.classes(i4.sector, i4.sectorSeparator),
      d: "M 23.937554159486076 23.937554159486076 L 96.06244584051393 96.06244584051393 M 23.937554159486076 96.06244584051393 L 96.06244584051393 23.937554159486076",
      key: i4.sectorSeparator
    }), M4([c3[2], c3[1], c3[0]], c3[3], c3[3]).map((t4, i9) => n3("path", {
      afterRemoved: f7,
      class: this.classes(i4.sector, e9?.[i9]?.length ? i4.sectorEnabled : i4.sectorDisabled),
      d: t4,
      "data-sector": `${i9}`,
      key: `${i4.sector}-${i9}`,
      onclick: d11
    })), n3("path", {
      class: this.classes(i4.sector, i4.sectorCross),
      d: "M 56.4 56.4 L 63.53 63.53 M 63.53 56.4 L 56.4 63.53",
      key: i4.sectorCross
    }), C3, o7.attributes.cameraPitch >= 5 && s9 ? n3("path", {
      class: i4.selectedFeaturePath,
      d: s9,
      fill: `url(#${this.id}-coverage-fill)`,
      key: i4.selectedFeaturePath
    }) : null))) : null;
  }
  _renderNavigationTool() {
    const {
      state: e9
    } = this.viewModel;
    return n3("calcite-action", {
      active: this.navigationToolActive,
      afterCreate: this._storeActionElement,
      bind: this,
      disabled: "image-loaded" !== e9,
      icon: "explore",
      onclick: this._toggleNavigationTool,
      text: this.messages.navigationTool
    });
  }
  _renderImageEnhancementTool() {
    const {
      state: e9,
      mode: t4
    } = this.viewModel;
    return n3("calcite-action", {
      active: this.imageEnhancementToolActive,
      afterCreate: this._storeActionElement,
      bind: this,
      disabled: "default" !== t4 || "image-loaded" !== e9,
      icon: "sliders-horizontal",
      onclick: this._toggleImageEnhancementToolState,
      text: this.messages.imageEnhancement
    });
  }
  _renderMenuBarContainer() {
    const {
      currentCoverageVisible: e9,
      isAdditionalCoverageVisible: t4,
      isAdditionalPointSourcesVisible: i8,
      imageGalleryEnabled: o7
    } = this;
    return n3("calcite-action-bar", {
      expandDisabled: true,
      layout: "horizontal",
      slot: "action-bar"
    }, n3("calcite-action-group", {
      expanded: true
    }, n3("calcite-action", {
      active: e9,
      afterCreate: this._storeActionElement,
      bind: this,
      class: i4.currentCoverage,
      icon: "trapezoid-area",
      onclick: this._toggleCurrentCoverage,
      text: this.messages.currentFootprint
    }), n3("calcite-action", {
      active: t4,
      afterCreate: this._storeActionElement,
      bind: this,
      class: i4.addCoverage,
      icon: "trapezoid-area",
      onclick: this._toggleAdditionalCoverage,
      text: this.messages.additionalFootprints
    }), n3("calcite-action", {
      active: i8,
      afterCreate: this._storeActionElement,
      bind: this,
      class: i4.addExpPoints,
      icon: "circle-area",
      onclick: this._toggleAdditionalCameraLocations,
      text: this.messages.additionalCameraLocations
    })), n3("calcite-action-group", {
      layout: "horizontal"
    }, this.visibleElements.mapImageConversionTool ? this._renderMapImageConversionTool() : null, this.visibleElements.navigationTool ? this._renderNavigationTool() : null, this.visibleElements.imageEnhancement ? this._renderImageEnhancementTool() : null), n3("calcite-action-group", null, n3("calcite-action", {
      active: this.galleryOpened,
      afterCreate: this._storeActionElement,
      bind: this,
      disabled: !o7,
      icon: "images",
      onclick: this._toggleImageGallery,
      text: this.messages.imageGallery,
      textEnabled: true
    }), this.visibleElements.showPopupsAction ? this._renderPopupAction() : null), this._renderActionTooltips());
  }
  _renderMessageBox() {
    const {
      messages: e9,
      viewModel: {
        displayMessage: t4
      }
    } = this;
    if (!t4) return null;
    const {
      data: i8,
      key: o7,
      map: a8
    } = t4, s9 = `${a8 ? s4(e9[o7], a8) : e9[o7]}`;
    return n3("span", {
      class: i4.messageBox
    }, i8 ? `${s9} ${i8}` : s9);
  }
  _renderPopupAction() {
    return n3("calcite-action", {
      afterCreate: this._storeActionElement,
      bind: this,
      disabled: !this.popupEnabled,
      icon: "popup",
      onclick: this._toogleImageAttributes,
      text: this.messages.showPopups,
      textEnabled: true
    });
  }
  _renderThumbnails(e9) {
    const {
      currentBestFeature: t4
    } = this.viewModel;
    return t4 ? n3("div", {
      class: i4.carouselContent
    }, e9.items.map(({
      url: e10,
      objectId: i8,
      rotation: o7
    }, a8) => n3("div", {
      class: `${i4.carouselItemWrapper}${t4.attributes.objectId === i8 ? "--selected" : ""}`,
      key: `${i4.carouselItemWrapper}-${a8}`
    }, n3("canvas", {
      afterCreate: this._registerGalleryItem,
      afterRemoved: this._unregisterGalleryItem,
      alt: `thumbnail-${i8}`,
      class: i4.carouselItem,
      "data-objectid": `${i8}`,
      "data-rotation": `${o7}`,
      "data-src": e10,
      onclick: this._loadImageFromGallery,
      onmouseenter: this._highlight,
      onmouseleave: this._removeHighlight
    })))) : null;
  }
  _renderViewerContainer() {
    return n3("div", {
      class: i4.viewerContainer
    }, this._renderImageViewer(), this._renderPanoramicViewer(), this._renderMessageBox());
  }
  _renderImageViewer() {
    const {
      displayMessage: e9,
      loadImageViewer: t4,
      mode: i8
    } = this.viewModel, o7 = `${i4.viewer}${e9 || "default" !== i8 ? "--hide" : ""}`;
    return n3("calcite-panel", {
      afterCreate: t4,
      bind: this,
      class: o7
    });
  }
  _renderPanoramicViewer() {
    const {
      displayMessage: e9,
      loadPanoramicViewer: t4,
      mode: i8
    } = this.viewModel, o7 = `${i4.viewer}${e9 || "panoramic" !== i8 ? "--hide" : ""}`;
    return n3("calcite-panel", {
      afterCreate: t4,
      bind: this,
      class: o7
    });
  }
  _resetImageTools() {
    this.viewModel.sharpness = this.viewModel.brightness = this.viewModel.contrast = 0;
  }
  _storeActionElement(e9) {
    this._actionItems.set(e9.text, e9);
  }
  _storeNavigationToolReference(e9) {
    this._navigationTool = e9;
  }
  _toggleAdditionalCameraLocations() {
    this.isAdditionalPointSourcesVisible = !this.isAdditionalPointSourcesVisible;
  }
  _toggleAdditionalCoverage() {
    this.isAdditionalCoverageVisible = !this.isAdditionalCoverageVisible;
  }
  _toggleCurrentCoverage() {
    this.currentCoverageVisible = !this.currentCoverageVisible;
  }
  _toggleImageEnhancementToolState(e9) {
    e9.stopPropagation(), this.imageEnhancementToolActive = !this.imageEnhancementToolActive, this.imageEnhancementToolActive && (this.galleryOpened && (this.galleryOpened = false), this.navigationToolActive && (this.navigationToolActive = false));
  }
  _toggleImageGallery(e9) {
    e9.stopPropagation(), this.galleryOpened = !!this.imageGalleryEnabled && !this.galleryOpened, this.galleryOpened && (this.imageEnhancementToolActive && (this.imageEnhancementToolActive = false), this.navigationToolActive && (this.navigationToolActive = false));
  }
  _toggleNavigationTool() {
    this.navigationToolActive = !this.navigationToolActive, this.navigationToolActive && (this.galleryOpened && (this.galleryOpened = false), this.imageEnhancementToolActive && (this.imageEnhancementToolActive = false));
  }
  _toggleMapImageConversionToolState() {
    this.mapImageConversionToolState = !this.mapImageConversionToolState;
  }
  _unregisterGalleryItem(e9) {
    this._galleryObserver.unobserve(e9);
  }
  _updateNavigationTool(e9) {
    const {
      previousFeatureAngle: t4,
      bestFeatureAngle: i8
    } = this.viewModel, o7 = (i8 - t4 + 540) % 360 - 180;
    e9.style.setProperty(r2, `${t4}deg`), e9.style.setProperty(n5, `${t4 + o7}deg`);
  }
  loadBestImage(e9) {
    this.viewModel.loadBestImage(e9);
  }
  loadImageFromSource(e9, t4) {
    return this.viewModel.loadImageFromSource(e9, t4);
  }
  plotMapPoint(e9) {
    return __async(this, null, function* () {
      return this.viewModel.plotMapPoint(e9);
    });
  }
  plotReferencePointOnGround(e9) {
    this.viewModel.plotReferencePointOnGround(e9);
  }
  plotReferencePointOnImage(e9) {
    this.viewModel.plotReferencePointOnImage(e9);
  }
  resetImage() {
    this.viewModel.resetImage();
  }
  render() {
    const {
      dockEnabled: e9,
      viewModel: {
        state: t4
      }
    } = this;
    return n3("div", {
      class: this.classes(e6.widget, e8)
    }, n3("calcite-panel", {
      bind: this,
      class: e9 ? i4.dock : i4.float,
      heading: this.visibleElements.title ? this.messages.title : void 0,
      loading: "image-loading" === t4
    }, this.visibleElements.coverageMenu ? this._renderMenuBarContainer() : null, this._renderBody()));
  }
  updateSuitabilities(e9) {
    this.viewModel.updateSuitabilities(e9);
  }
};
e2([y()], V2.prototype, "activeLayer", null), e2([y()], V2.prototype, "currentBestFeature", null), e2([y()], V2.prototype, "currentCoverageVisible", null), e2([y()], V2.prototype, "disabled", null), e2([y()], V2.prototype, "dockEnabled", void 0), e2([y()], V2.prototype, "drawFootprint", null), e2([y()], V2.prototype, "features", null), e2([y()], V2.prototype, "imagePointsInView", null), e2([y()], V2.prototype, "isDocked", null), e2([y()], V2.prototype, "galleryOpened", void 0), e2([y()], V2.prototype, "icon", null), e2([y()], V2.prototype, "imageEnhancementToolActive", void 0), e2([y({
  readOnly: true
})], V2.prototype, "imageGalleryEnabled", null), e2([y()], V2.prototype, "isAdditionalCoverageVisible", null), e2([y()], V2.prototype, "isAdditionalPointSourcesVisible", null), e2([y()], V2.prototype, "mapImageConversionToolState", null), e2([y()], V2.prototype, "layer", null), e2([y()], V2.prototype, "navigationToolActive", void 0), e2([y({
  type: pe
})], V2.prototype, "viewModel", void 0), e2([y(), e3("esri/widgets/OrientedImageryViewer/t9n/OrientedImageryViewer")], V2.prototype, "messages", void 0), e2([y(), e3("esri/t9n/common")], V2.prototype, "messagesCommon", void 0), e2([y({
  readOnly: true
})], V2.prototype, "popupEnabled", null), e2([y()], V2.prototype, "referencePoint", null), e2([y()], V2.prototype, "view", null), e2([y({
  type: n8,
  nonNullable: true
})], V2.prototype, "visibleElements", void 0), e2([y()], V2.prototype, "determineWorkflowForFeature", null), e2([y()], V2.prototype, "updateFootprint", null), e2([y()], V2.prototype, "_navigationToolExpanded", void 0), e2([y()], V2.prototype, "_navigationTool", void 0), V2 = e2([a("esri.widgets.OrientedImageryViewer")], V2);
var x = V2;
export {
  x as default
};
//# sourceMappingURL=OrientedImageryViewer-SCOPNUPS.js.map
