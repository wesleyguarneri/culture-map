{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/layers/support/Geometry.js", "../../../../../../node_modules/@arcgis/core/views/layers/support/Path.js", "../../../../../../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as o } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as e } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport t from \"../../../geometry/Geometry.js\";\nimport { fromJSON as s } from \"../../../geometry/support/jsonUtils.js\";\nimport m from \"./ClipArea.js\";\nimport p from \"../../../geometry/Extent.js\";\nimport i from \"../../../geometry/Polygon.js\";\nvar y;\nconst c = {\n  base: t,\n  key: \"type\",\n  typeMap: {\n    extent: p,\n    polygon: i\n  }\n};\nlet n = y = class extends m {\n  constructor(o) {\n    super(o), this.type = \"geometry\", this.geometry = null;\n  }\n  clone() {\n    return new y({\n      geometry: this.geometry?.clone() ?? null\n    });\n  }\n  commitVersionProperties() {\n    this.commitProperty(\"geometry\");\n  }\n};\no([r({\n  types: c,\n  json: {\n    read: s,\n    write: !0\n  }\n})], n.prototype, \"geometry\", void 0), n = y = o([e(\"esri.views.layers.support.Geometry\")], n);\nconst a = n;\nexport { a as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as r } from \"../../../chunks/tslib.es6.js\";\nimport { property as o } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as s } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport t from \"./ClipArea.js\";\nlet e = class extends t {\n  constructor(r) {\n    super(r), this.type = \"path\", this.path = [];\n  }\n  commitVersionProperties() {\n    this.commitProperty(\"path\");\n  }\n};\nr([o({\n  type: [[[Number]]],\n  json: {\n    write: !0\n  }\n})], e.prototype, \"path\", void 0), e = r([s(\"esri.views.layers.support.Path\")], e);\nconst p = e;\nexport { p as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Collection.js\";\nimport { referenceSetter as s } from \"../../../core/collectionUtils.js\";\nimport i from \"../../../core/Error.js\";\nimport { watch as r, syncAndInitial as a, on as o } from \"../../../core/reactiveUtils.js\";\nimport { property as p } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as n } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { Container as h } from \"../engine/Container.js\";\nimport l from \"../support/HighlightOptions.js\";\nimport c from \"../../layers/support/ClipRect.js\";\nimport d from \"../../layers/support/Geometry.js\";\nimport u from \"../../layers/support/Path.js\";\nimport { isInEffectiveScaleRange as y } from \"../../support/layerViewUtils.js\";\nconst m = t.ofType({\n    key: \"type\",\n    base: null,\n    typeMap: {\n      rect: c,\n      path: u,\n      geometry: d\n    }\n  }),\n  f = t => {\n    let c = class extends t {\n      constructor() {\n        super(...arguments), this.attached = !1, this.clips = new m(), this.highlightOptions = null, this.lastUpdateId = -1, this.moving = !1, this.updateRequested = !1, this._visibleAtCurrentScale = !0;\n      }\n      initialize() {\n        const e = this.view?.spatialReferenceLocked ?? !0,\n          t = this.view?.spatialReference;\n        t && e && !this.spatialReferenceSupported ? this.addResolvingPromise(Promise.reject(new i(\"layerview:spatial-reference-incompatible\", \"The spatial reference of this layer does not meet the requirements of the view\", {\n          layer: this.layer\n        }))) : (this.container || (this.container = new h()), this.container.fadeTransitionEnabled = !0, this.container.visible = !1, this.container.endTransitions(), this.addHandles([r(() => this.suspended, e => {\n          this.container && (this.container.visible = !e);\n        }, a), r(() => this.updateSuspended, e => {\n          this.view && !e && this.updateRequested && this.view.requestUpdate();\n        }, a), r(() => this.layer?.opacity ?? 1, e => {\n          this.container && (this.container.opacity = e);\n        }, a), r(() => this.layer && \"blendMode\" in this.layer ? this.layer.blendMode : \"normal\", e => {\n          this.container && (this.container.blendMode = e);\n        }, a), r(() => this.layer && \"effect\" in this.layer ? this.layer.effect : null, e => {\n          this.container && (this.container.effect = e);\n        }, a), r(() => this.highlightOptions, e => this.container.highlightOptions = e, a), o(() => this.clips, \"change\", () => {\n          this.container && (this.container.clips = this.clips);\n        }, a), r(() => ({\n          scale: this.view?.scale,\n          scaleRange: this.layer && \"effectiveScaleRange\" in this.layer ? this.layer.effectiveScaleRange : null\n        }), ({\n          scale: e,\n          scaleRange: t\n        }) => {\n          const s = y(t, e);\n          s !== this._visibleAtCurrentScale && (this._visibleAtCurrentScale = s);\n        }, a)], \"constructor\"), this.view?.whenLayerView ? this.view.whenLayerView(this.layer).then(e => {\n          e === this && this.processAttach();\n        }, () => {}) : this.when().then(() => {\n          this.processAttach();\n        }, () => {}));\n      }\n      destroy() {\n        this.processDetach(), this.updateRequested = !1;\n      }\n      get spatialReferenceSupported() {\n        const e = this.view?.spatialReference;\n        return null == e || this.supportsSpatialReference(e);\n      }\n      get updating() {\n        return this.spatialReferenceSupported && (!this.attached || !this.suspended && (this.updateRequested || this.isUpdating()) || !!this._updatingHandles?.updating);\n      }\n      get visibleAtCurrentScale() {\n        return this._visibleAtCurrentScale;\n      }\n      processAttach() {\n        this.isResolved() && !this.attached && !this.destroyed && this.spatialReferenceSupported && (this.attach(), this.attached = !0, this.requestUpdate());\n      }\n      processDetach() {\n        this.attached && (this.attached = !1, this.removeHandles(\"attach\"), this.detach(), this.updateRequested = !1);\n      }\n      requestUpdate() {\n        this.destroyed || this.updateRequested || (this.updateRequested = !0, this.updateSuspended || this.view.requestUpdate());\n      }\n      processUpdate(e) {\n        !this.isFulfilled() || this.isResolved() ? (this._set(\"updateParameters\", e), this.updateRequested && !this.updateSuspended && (this.updateRequested = !1, this.update(e))) : this.updateRequested = !1;\n      }\n      hitTest(e, t) {\n        return Promise.resolve(null);\n      }\n      supportsSpatialReference(e) {\n        return !0;\n      }\n      canResume() {\n        return !!this.spatialReferenceSupported && !!super.canResume() && this.visibleAtCurrentScale;\n      }\n      getSuspendInfo() {\n        const e = super.getSuspendInfo(),\n          t = !this.spatialReferenceSupported;\n        return t && (e.spatialReferenceNotSupported = t), e;\n      }\n      addAttachHandles(e) {\n        this.addHandles(e, \"attach\");\n      }\n    };\n    return e([p()], c.prototype, \"attached\", void 0), e([p({\n      type: m,\n      set(e) {\n        const t = s(e, this._get(\"clips\"), m);\n        this._set(\"clips\", t);\n      }\n    })], c.prototype, \"clips\", void 0), e([p()], c.prototype, \"container\", void 0), e([p({\n      type: l\n    })], c.prototype, \"highlightOptions\", void 0), e([p()], c.prototype, \"moving\", void 0), e([p({\n      readOnly: !0\n    })], c.prototype, \"spatialReferenceSupported\", null), e([p({\n      readOnly: !0\n    })], c.prototype, \"updateParameters\", void 0), e([p()], c.prototype, \"updateRequested\", void 0), e([p()], c.prototype, \"updating\", null), e([p()], c.prototype, \"view\", void 0), e([p()], c.prototype, \"_visibleAtCurrentScale\", void 0), e([p({\n      readOnly: !0\n    })], c.prototype, \"visibleAtCurrentScale\", null), c = e([n(\"esri.views.2d.layers.LayerView2D\")], c), c;\n  };\nexport { f as LayerView2DMixin };"],
  "mappings": "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",
  "names": ["y", "c", "n", "p", "a", "e", "p", "p", "a", "c", "e", "t", "s", "n"]
}
