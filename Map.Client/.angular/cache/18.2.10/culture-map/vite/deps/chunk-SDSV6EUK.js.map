{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../../geometry.js\";\nimport e from \"../../request.js\";\nimport t from \"../../core/Error.js\";\nimport n from \"../../core/Logger.js\";\nimport { makeAbsolute as i, addQueryParameters as r, urlToObject as o } from \"../../core/urlUtils.js\";\nimport { wgs84 as s } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { project as a } from \"../../geometry/support/webMercatorUtils.js\";\nimport { convertToFeatureSet as l, convertToGeometry as c, convertFromGeometry as u } from \"../graphics/featureConversionUtils.js\";\nimport d from \"../graphics/OptimizedFeatureSet.js\";\nimport { validateGeoJSON as f, inferLayerProperties as m, createOptimizedFeatures as p } from \"../graphics/sources/geojson/geojson.js\";\nimport { createDrawingInfo as g } from \"../graphics/sources/support/clientSideDefaults.js\";\nimport { mixAttributes as y } from \"../graphics/sources/support/sourceUtils.js\";\nimport w from \"../support/FieldsIndex.js\";\nimport { kebabDict as j } from \"../support/fieldType.js\";\nimport { utc as h } from \"../../time/timeZoneUtils.js\";\nimport b from \"../../geometry/SpatialReference.js\";\nconst F = () => n.getLogger(\"esri.layers.ogc.ogcFeatureUtils\"),\n  I = \"startindex\",\n  T = new Set([I, \"offset\"]),\n  k = \"http://www.opengis.net/def/crs/\",\n  x = `${k}OGC/1.3/CRS84`;\nvar S;\nasync function v(n, o, s = {}, a = 5) {\n  const {\n      links: l\n    } = n,\n    c = L(l, \"items\", S.geojson) || L(l, \"http://www.opengis.net/def/rel/ogc/1.0/items\", S.geojson);\n  if (null == c) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n  const {\n      apiKey: u,\n      customParameters: d,\n      signal: p\n    } = s,\n    y = i(c.href, n.landingPage.url),\n    b = {\n      limit: a,\n      ...d,\n      token: u\n    },\n    T = r(y, b),\n    k = {\n      accept: S.geojson\n    },\n    {\n      data: x\n    } = await e(T, {\n      signal: p,\n      headers: k\n    }),\n    v = A(T, a, x.links) ?? I;\n  f(x);\n  const N = m(x, {\n      geometryType: o.geometryType\n    }),\n    O = o.fields || N.fields || [],\n    P = null != o.hasZ ? o.hasZ : N.hasZ,\n    q = N.geometryType,\n    C = o.objectIdField || N.objectIdFieldName || \"OBJECTID\";\n  let R = o.timeInfo;\n  const $ = O.find(({\n    name: e\n  }) => e === C);\n  if ($) $.editable = !1, $.nullable = !1;else {\n    if (!N.objectIdFieldType) throw new t(\"ogc-feature-layer:missing-feature-id\", \"Collection geojson require a feature id as a unique identifier\");\n    O.unshift({\n      name: C,\n      alias: C,\n      type: \"number\" === N.objectIdFieldType ? \"esriFieldTypeOID\" : \"esriFieldTypeString\",\n      editable: !1,\n      nullable: !1\n    });\n  }\n  if (C !== N.objectIdFieldName) {\n    const e = O.find(({\n      name: e\n    }) => e === N.objectIdFieldName);\n    e && (e.type = \"esriFieldTypeInteger\");\n  }\n  O === N.fields && N.unknownFields.length > 0 && F().warn({\n    name: \"ogc-feature-layer:unknown-field-types\",\n    message: \"Some fields types couldn't be inferred from the features and were dropped\",\n    details: {\n      unknownFields: N.unknownFields\n    }\n  });\n  for (const e of O) {\n    if (null == e.name && (e.name = e.alias), null == e.alias && (e.alias = e.name), \"esriFieldTypeOID\" !== e.type && \"esriFieldTypeGlobalID\" !== e.type && (e.editable = null == e.editable || !!e.editable, e.nullable = null == e.nullable || !!e.nullable), !e.name) throw new t(\"ogc-feature-layer:invalid-field-name\", \"field name is missing\", {\n      field: e\n    });\n    if (!j.jsonValues.includes(e.type)) throw new t(\"ogc-feature-layer:invalid-field-type\", `invalid type for field \"${e.name}\"`, {\n      field: e\n    });\n  }\n  if (R) {\n    const e = new w(O);\n    if (R.startTimeField) {\n      const t = e.get(R.startTimeField);\n      t ? (R.startTimeField = t.name, t.type = \"esriFieldTypeDate\") : R.startTimeField = null;\n    }\n    if (R.endTimeField) {\n      const t = e.get(R.endTimeField);\n      t ? (R.endTimeField = t.name, t.type = \"esriFieldTypeDate\") : R.endTimeField = null;\n    }\n    if (R.trackIdField) {\n      const t = e.get(R.trackIdField);\n      t ? R.trackIdField = t.name : (R.trackIdField = null, F().warn({\n        name: \"ogc-feature-layer:invalid-timeInfo-trackIdField\",\n        message: \"trackIdField is missing\",\n        details: {\n          timeInfo: R\n        }\n      }));\n    }\n    R.timeReference ||= {\n      timeZoneIANA: h\n    }, R.startTimeField || R.endTimeField || (F().warn({\n      name: \"ogc-feature-layer:invalid-timeInfo\",\n      message: \"startTimeField and endTimeField are missing\",\n      details: {\n        timeInfo: R\n      }\n    }), R = void 0);\n  }\n  return {\n    drawingInfo: q ? g(q) : null,\n    extent: K(n),\n    geometryType: q,\n    fields: O,\n    hasZ: !!P,\n    objectIdField: C,\n    paginationParameter: v,\n    timeInfo: R\n  };\n}\nasync function N(n, r = {}) {\n  const {\n      links: o,\n      url: s\n    } = n,\n    a = L(o, \"data\", S.json) || L(o, \"http://www.opengis.net/def/rel/ogc/1.0/data\", S.json);\n  if (null == a) throw new t(\"ogc-feature-layer:missing-collections-page\", \"Missing collections url\");\n  const {\n      apiKey: l,\n      customParameters: c,\n      signal: u\n    } = r,\n    d = i(a.href, s),\n    {\n      data: f\n    } = await e(d, {\n      signal: u,\n      headers: {\n        accept: S.json\n      },\n      query: {\n        ...c,\n        token: l\n      }\n    });\n  for (const e of f.collections) e.landingPage = n;\n  return f;\n}\nasync function O(n, r = {}) {\n  const {\n      links: o,\n      url: s\n    } = n,\n    a = L(o, \"conformance\", S.json) || L(o, \"http://www.opengis.net/def/rel/ogc/1.0/conformance\", S.json);\n  if (null == a) throw new t(\"ogc-feature-layer:missing-conformance-page\", \"Missing conformance url\");\n  const {\n      apiKey: l,\n      customParameters: c,\n      signal: u\n    } = r,\n    d = i(a.href, s),\n    {\n      data: f\n    } = await e(d, {\n      signal: u,\n      headers: {\n        accept: S.json\n      },\n      query: {\n        ...c,\n        token: l\n      }\n    });\n  return f;\n}\nasync function P(t, n = {}) {\n  const {\n      apiKey: i,\n      customParameters: r,\n      signal: o\n    } = n,\n    {\n      data: s\n    } = await e(t, {\n      signal: o,\n      headers: {\n        accept: S.json\n      },\n      query: {\n        ...r,\n        token: i\n      }\n    });\n  return s.url = t, s;\n}\nasync function q(t, n = {}) {\n  const {\n      links: r,\n      url: o\n    } = t,\n    s = L(r, \"service-desc\", S.openapi);\n  if (null == s) return F().warn(\"ogc-feature-layer:missing-openapi-page\", \"The OGC API-Features server does not have an OpenAPI page.\"), null;\n  const {\n      apiKey: a,\n      customParameters: l,\n      signal: c\n    } = n,\n    u = i(s.href, o),\n    {\n      data: d\n    } = await e(u, {\n      signal: c,\n      headers: {\n        accept: S.openapi\n      },\n      query: {\n        ...l,\n        token: a\n      }\n    });\n  return d;\n}\nfunction C(e) {\n  const t = /^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),\n    n = t?.groups;\n  if (!n) return null;\n  const {\n    authority: i,\n    code: r\n  } = n;\n  switch (i.toLowerCase()) {\n    case \"ogc\":\n      switch (r.toLowerCase()) {\n        case \"crs27\":\n          return b.GCS_NAD_1927.wkid;\n        case \"crs83\":\n          return 4269;\n        case \"crs84\":\n        case \"crs84h\":\n          return b.WGS84.wkid;\n        default:\n          return null;\n      }\n    case \"esri\":\n    case \"epsg\":\n      {\n        const e = Number.parseInt(r, 10);\n        return Number.isNaN(e) ? null : e;\n      }\n    default:\n      return null;\n  }\n}\nasync function R(e, t, n) {\n  const i = await $(e, t, n);\n  return l(i);\n}\nasync function $(n, r, o) {\n  const {\n      collection: {\n        links: l,\n        landingPage: {\n          url: f\n        }\n      },\n      layerDefinition: m,\n      maxRecordCount: g,\n      queryParameters: {\n        apiKey: j,\n        customParameters: h\n      },\n      spatialReference: F,\n      supportedCrs: I\n    } = n,\n    T = L(l, \"items\", S.geojson) || L(l, \"http://www.opengis.net/def/rel/ogc/1.0/items\", S.geojson);\n  if (null == T) throw new t(\"ogc-feature-layer:missing-items-page\", \"Missing items url\");\n  const {\n    geometry: k,\n    num: x,\n    start: v,\n    timeExtent: N,\n    where: O\n  } = r;\n  if (r.objectIds) throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\", \"Queries with object ids are not supported\");\n  const P = b.fromJSON(F),\n    q = r.outSpatialReference ?? P,\n    C = q.isWGS84 ? null : W(q, I),\n    R = U(k, I),\n    $ = M(N),\n    G = Z(O),\n    D = x ?? (null == v ? g : 10),\n    K = 0 === v ? void 0 : v,\n    {\n      fields: A,\n      geometryType: J,\n      hasZ: z,\n      objectIdField: E,\n      paginationParameter: _\n    } = m,\n    B = i(T.href, f),\n    {\n      data: Q\n    } = await e(B, {\n      ...o,\n      query: {\n        ...h,\n        ...R,\n        crs: C,\n        datetime: $,\n        query: G,\n        limit: D,\n        [_]: K,\n        token: j\n      },\n      headers: {\n        accept: S.geojson\n      }\n    }),\n    V = p(Q, {\n      geometryType: J,\n      hasZ: z,\n      objectIdField: E\n    }),\n    H = V.length === D && !!L(Q.links ?? [], \"next\", S.geojson),\n    X = new w(A);\n  for (const e of V) {\n    const t = {};\n    y(X, t, e.attributes), t[E] = e.attributes[E], e.attributes = t;\n  }\n  if (!C && q.isWebMercator) for (const e of V) if (null != e.geometry && null != J) {\n    const t = c(e.geometry, J, z, !1);\n    t.spatialReference = b.WGS84, e.geometry = u(a(t, q));\n  }\n  for (const e of V) e.objectId = e.attributes[E];\n  const Y = C || !C && q.isWebMercator ? q.toJSON() : s,\n    ee = new d();\n  return ee.exceededTransferLimit = H, ee.features = V, ee.fields = A, ee.geometryType = J, ee.hasZ = z, ee.objectIdFieldName = E, ee.spatialReference = Y, ee;\n}\nfunction G(e) {\n  return null != e && \"extent\" === e.type;\n}\nfunction W(e, t) {\n  const {\n    isWebMercator: n,\n    wkid: i\n  } = e;\n  if (!i) return null;\n  const r = n ? t[3857] ?? t[102100] ?? t[102113] ?? t[900913] : t[e.wkid];\n  return r ? `${k}${r}` : null;\n}\nfunction D(e) {\n  if (null == e) return \"\";\n  const {\n    xmin: t,\n    ymin: n,\n    xmax: i,\n    ymax: r\n  } = e;\n  return `${t},${n},${i},${r}`;\n}\nfunction M(e) {\n  if (null == e) return null;\n  const {\n    start: t,\n    end: n\n  } = e;\n  return `${null != t ? t.toISOString() : \"..\"}/${null != n ? n.toISOString() : \"..\"}`;\n}\nfunction Z(e) {\n  return null != e && e && \"1=1\" !== e ? e : null;\n}\nfunction U(e, t) {\n  if (!G(e)) return null;\n  const {\n    spatialReference: n\n  } = e;\n  if (!n || n.isWGS84) return {\n    bbox: D(e)\n  };\n  const i = W(n, t);\n  return null != i ? {\n    bbox: D(e),\n    \"bbox-crs\": i\n  } : n.isWebMercator ? {\n    bbox: D(a(e, b.WGS84))\n  } : null;\n}\nfunction K(e) {\n  const t = e.extent?.spatial;\n  if (!t) return null;\n  const n = t.bbox[0],\n    i = 4 === n.length,\n    [r, o] = n,\n    s = i ? void 0 : n[2];\n  return {\n    xmin: r,\n    ymin: o,\n    xmax: i ? n[2] : n[3],\n    ymax: i ? n[3] : n[4],\n    zmin: s,\n    zmax: i ? void 0 : n[5],\n    spatialReference: b.WGS84.toJSON()\n  };\n}\nfunction L(e, t, n) {\n  return e.find(({\n    rel: e,\n    type: i\n  }) => e === t && i === n) ?? e.find(({\n    rel: e,\n    type: n\n  }) => e === t && !n);\n}\nfunction A(e, t, n) {\n  if (!n) return;\n  const i = L(n, \"next\", S.geojson),\n    r = o(i?.href)?.query;\n  if (!r) return;\n  const s = o(e).query,\n    a = Object.keys(s ?? {}),\n    l = Object.entries(r).filter(([e]) => !a.includes(e)).find(([e, n]) => T.has(e.toLowerCase()) && Number.parseInt(n, 10) === t),\n    c = l?.[0];\n  return c;\n}\n!function (e) {\n  e.json = \"application/json\", e.geojson = \"application/geo+json\", e.openapi = \"application/vnd.oai.openapi+json;version=3.0\";\n}(S || (S = {}));\nexport { x as crsDefault, k as crsPrefix, v as getCollectionDefinition, N as getServerCollections, O as getServerConformance, P as getServerLandingPage, q as getServerOpenApi, C as getSpatialReferenceWkid, R as queryFeatureSetJSON, $ as queryOptimizedFeatureSet };"],
  "mappings": "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",
  "names": ["I", "n", "o", "s", "p", "T", "k", "x", "v", "N", "O", "P", "q", "C", "R", "$", "e", "i", "f", "g", "F", "U", "G", "Z", "D", "K", "A", "E", "_"]
}
