{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/layers/TileLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Error.js\";\nimport { property as r } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as i } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { canProjectWithoutEngine as s } from \"../../../geometry/projection.js\";\nimport { LayerView3D as o } from \"./LayerView3D.js\";\nimport { TiledLayerView3D as l } from \"./TiledLayerView3D.js\";\nimport { fetchTile as a } from \"./support/fetchTile.js\";\nimport p from \"../../layers/LayerView.js\";\nimport n from \"../../layers/RefreshableLayerView.js\";\nimport { isMapServiceLayerView as m, MapServiceLayerViewHelper as u } from \"../../layers/support/MapServiceLayerViewHelper.js\";\nimport { createQueryGeometry as h } from \"../../support/drapedUtils.js\";\nlet c = class extends n(l(o(p))) {\n  constructor() {\n    super(...arguments), this.type = \"tile-3d\", this._popupHighlightHelper = null;\n  }\n  get imageFormatIsOpaque() {\n    return \"jpg\" === this.layer.tileInfo.format;\n  }\n  get hasMixedImageFormats() {\n    return \"mixed\" === this.layer.tileInfo.format;\n  }\n  get tileInfo() {\n    return this.layer.tileInfo;\n  }\n  initialize() {\n    if (\"web-tile\" === this.layer.type) {\n      const e = this.layer.fullExtent?.spatialReference,\n        r = this.layer.tileInfo?.spatialReference;\n      if (null == e || null == r || !s(e, r)) {\n        const e = \"defaults\" === this.layer.originOf(\"fullExtent\") || null == this.layer.fullExtent ? \"SceneView requires fullExtent to be specified by the user on WebTileLayer\" : \"SceneView requires fullExtent to be specified in the same spatial reference as tileInfo on WebTileLayer\";\n        this.addResolvingPromise(Promise.reject(new t(\"layerview:incompatible-fullextent\", e)));\n      }\n    }\n    m(this, this.layer) && (this._popupHighlightHelper = new u({\n      createFetchPopupFeaturesQueryGeometry: (e, t) => h(e, t, this.view),\n      layerView: this,\n      updatingHandles: this._updatingHandles\n    })), this._addTilingSchemeMatchPromise();\n  }\n  destroy() {\n    this._popupHighlightHelper?.destroy();\n  }\n  async fetchTile(e, t) {\n    return a(this, e, t);\n  }\n  async fetchPopupFeaturesAtLocation(e, t) {\n    return this._popupHighlightHelper?.fetchPopupFeaturesAtLocation(e, t) ?? [];\n  }\n  async doRefresh() {\n    this.suspended || this.emit(\"data-changed\");\n  }\n};\ne([r()], c.prototype, \"imageFormatIsOpaque\", null), e([r()], c.prototype, \"hasMixedImageFormats\", null), e([r()], c.prototype, \"layer\", void 0), e([r()], c.prototype, \"tileInfo\", null), c = e([i(\"esri.views.3d.layers.TileLayerView3D\")], c);\nconst f = c;\nexport { f as default };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA,IAAI,IAAI,cAAc,EAAE,EAAE,EAAEA,EAAC,CAAC,CAAC,EAAE;AAAA,EAC/B,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,OAAO,WAAW,KAAK,wBAAwB;AAAA,EAC3E;AAAA,EACA,IAAI,sBAAsB;AACxB,WAAO,UAAU,KAAK,MAAM,SAAS;AAAA,EACvC;AAAA,EACA,IAAI,uBAAuB;AACzB,WAAO,YAAY,KAAK,MAAM,SAAS;AAAA,EACzC;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,MAAM;AAAA,EACpB;AAAA,EACA,aAAa;AACX,QAAI,eAAe,KAAK,MAAM,MAAM;AAClC,YAAMC,KAAI,KAAK,MAAM,YAAY,kBAC/BC,KAAI,KAAK,MAAM,UAAU;AAC3B,UAAI,QAAQD,MAAK,QAAQC,MAAK,CAAC,EAAED,IAAGC,EAAC,GAAG;AACtC,cAAMD,KAAI,eAAe,KAAK,MAAM,SAAS,YAAY,KAAK,QAAQ,KAAK,MAAM,aAAa,8EAA8E;AAC5K,aAAK,oBAAoB,QAAQ,OAAO,IAAI,EAAE,qCAAqCA,EAAC,CAAC,CAAC;AAAA,MACxF;AAAA,IACF;AACA,MAAE,MAAM,KAAK,KAAK,MAAM,KAAK,wBAAwB,IAAI,EAAE;AAAA,MACzD,uCAAuC,CAACA,IAAG,MAAM,EAAEA,IAAG,GAAG,KAAK,IAAI;AAAA,MAClE,WAAW;AAAA,MACX,iBAAiB,KAAK;AAAA,IACxB,CAAC,IAAI,KAAK,6BAA6B;AAAA,EACzC;AAAA,EACA,UAAU;AACR,SAAK,uBAAuB,QAAQ;AAAA,EACtC;AAAA,EACM,UAAUA,IAAG,GAAG;AAAA;AACpB,aAAOE,GAAE,MAAMF,IAAG,CAAC;AAAA,IACrB;AAAA;AAAA,EACM,6BAA6BA,IAAG,GAAG;AAAA;AACvC,aAAO,KAAK,uBAAuB,6BAA6BA,IAAG,CAAC,KAAK,CAAC;AAAA,IAC5E;AAAA;AAAA,EACM,YAAY;AAAA;AAChB,WAAK,aAAa,KAAK,KAAK,cAAc;AAAA,IAC5C;AAAA;AACF;AACA,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,uBAAuB,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,wBAAwB,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,SAAS,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,YAAY,IAAI,GAAG,IAAI,EAAE,CAAC,EAAE,sCAAsC,CAAC,GAAG,CAAC;AAC9O,IAAM,IAAI;",
  "names": ["y", "e", "r", "i"]
}
