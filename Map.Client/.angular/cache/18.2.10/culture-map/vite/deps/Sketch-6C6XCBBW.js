import {
  L as L2,
  k as k2,
  s as s5
} from "./chunk-QG3DCJKX.js";
import "./chunk-2DUNFKZA.js";
import {
  pe
} from "./chunk-3QL6OCU3.js";
import {
  r as r4
} from "./chunk-WU45X43Z.js";
import "./chunk-OUEC6DVS.js";
import "./chunk-YBWOLLLC.js";
import "./chunk-R5TKJUPW.js";
import "./chunk-W24CYY6Q.js";
import {
  L,
  T as T2,
  b,
  v
} from "./chunk-BZ5ZVZXL.js";
import "./chunk-6PMC7Z2K.js";
import "./chunk-Q6IZWY56.js";
import {
  a as a4
} from "./chunk-JBQJ3BUL.js";
import {
  F2 as F,
  W,
  u as u4
} from "./chunk-LHQMQT36.js";
import "./chunk-3FSYWRTQ.js";
import "./chunk-OZB3UTFI.js";
import "./chunk-FW2XFDFF.js";
import "./chunk-6VVHYTZ7.js";
import "./chunk-STVIJ4IV.js";
import "./chunk-QRVAQWLH.js";
import "./chunk-TMPIWG43.js";
import "./chunk-EU7GCI2A.js";
import "./chunk-WE6VW4MG.js";
import {
  n as n3
} from "./chunk-VRZ6RXNW.js";
import "./chunk-Q666VSL3.js";
import "./chunk-P3B4Y6UN.js";
import "./chunk-5QM72RFD.js";
import "./chunk-WQXGIEVZ.js";
import "./chunk-T3EGKTN6.js";
import "./chunk-ZFPMGEAK.js";
import {
  p as p2
} from "./chunk-4SCJM64G.js";
import "./chunk-DABQKFI5.js";
import "./chunk-67V5AGVJ.js";
import "./chunk-TLAW3ACJ.js";
import "./chunk-FLWLBYXO.js";
import "./chunk-F2TT4B6M.js";
import {
  o as o4,
  r as r3
} from "./chunk-WTF7K3GK.js";
import "./chunk-2ERGO64O.js";
import "./chunk-RP2GKJCD.js";
import {
  o as o3
} from "./chunk-JKPO26TR.js";
import "./chunk-QL5HR3YL.js";
import "./chunk-UOIZXQPU.js";
import {
  l as l2
} from "./chunk-D3AKDIJC.js";
import "./chunk-7PY7QIZQ.js";
import {
  e as e5
} from "./chunk-ZDGJDLVE.js";
import "./chunk-TDWXQPNS.js";
import "./chunk-IIVUY2T7.js";
import {
  e as e4
} from "./chunk-HBMA4SRU.js";
import "./chunk-5NCKEQLF.js";
import "./chunk-GT3AQDRW.js";
import "./chunk-5APMY2AQ.js";
import "./chunk-GHUJU3NS.js";
import "./chunk-SLCHZ6DD.js";
import "./chunk-YZBHNRVB.js";
import "./chunk-IJVN5N2Q.js";
import "./chunk-CZQYBYHB.js";
import "./chunk-Q5ZRUB2Y.js";
import "./chunk-VS26W5Y5.js";
import "./chunk-PVO5NM6Q.js";
import "./chunk-YFQ32AQX.js";
import "./chunk-L4AYSXFJ.js";
import "./chunk-POQ3T5EH.js";
import "./chunk-DM4WHMQY.js";
import "./chunk-6MR4UDDL.js";
import "./chunk-XQCKIDQO.js";
import "./chunk-L7ZKWTWL.js";
import "./chunk-O2DTA3XK.js";
import "./chunk-ZE47C44H.js";
import "./chunk-5GIS2C3K.js";
import "./chunk-XCOHDMBF.js";
import "./chunk-QCBC3RJX.js";
import "./chunk-HOH445RO.js";
import "./chunk-KKD7A2GN.js";
import "./chunk-ZWCV4HKG.js";
import "./chunk-N4KQPPPI.js";
import "./chunk-4OGGMTIH.js";
import "./chunk-NQVBBKAN.js";
import "./chunk-DY7FJHTG.js";
import "./chunk-Q4KYZS3X.js";
import "./chunk-BQZBOYBD.js";
import "./chunk-TYQXPPSP.js";
import "./chunk-TRSGUVSM.js";
import "./chunk-U3MA63JX.js";
import "./chunk-WYKKCLBI.js";
import "./chunk-PFMGJTQM.js";
import "./chunk-DWASPXVI.js";
import "./chunk-HD65DNIO.js";
import "./chunk-4KWLMXIA.js";
import "./chunk-BIUXKPKA.js";
import "./chunk-N6TJI25E.js";
import "./chunk-634JLXD4.js";
import "./chunk-Y3EDGYWG.js";
import "./chunk-UF6JOUSJ.js";
import "./chunk-T5JGQSO3.js";
import "./chunk-CIW3KHOW.js";
import "./chunk-J55F4AC2.js";
import "./chunk-IQLBZKUD.js";
import "./chunk-7MZZCQ64.js";
import "./chunk-IMVP5ADD.js";
import "./chunk-H7WPOTQH.js";
import "./chunk-6A7CWJED.js";
import "./chunk-DUTZNK67.js";
import "./chunk-IN6BQCWS.js";
import {
  a as a3,
  i as i2,
  r as r2,
  s as s4,
  u as u3
} from "./chunk-JM7HAEY6.js";
import "./chunk-OUKUASAF.js";
import "./chunk-V5RMUGJJ.js";
import "./chunk-D2NB6D6N.js";
import "./chunk-UWJIHV6Q.js";
import "./chunk-M2NS3MSU.js";
import "./chunk-HMNBB7ED.js";
import "./chunk-3RRMLFFN.js";
import "./chunk-DR5TVNEL.js";
import "./chunk-HT2T6PUB.js";
import "./chunk-K64AAM77.js";
import "./chunk-6EUVKE22.js";
import "./chunk-A3NNJ7XA.js";
import "./chunk-OKJHJ3CY.js";
import "./chunk-XTVPEVHA.js";
import {
  _2
} from "./chunk-DTUSTSEJ.js";
import "./chunk-JCWFGRHQ.js";
import "./chunk-JILEJ6R2.js";
import "./chunk-GAW5JHG4.js";
import "./chunk-OEKKQXBD.js";
import "./chunk-S3IO7V4Q.js";
import "./chunk-DZALMCYL.js";
import "./chunk-K226GFDN.js";
import "./chunk-4ZZRP4MA.js";
import {
  c
} from "./chunk-7ZJ6P7J7.js";
import "./chunk-FPFZQCEQ.js";
import "./chunk-VDB6Y4TZ.js";
import {
  B,
  e2 as e3,
  r
} from "./chunk-WYMXVOAT.js";
import {
  n as n2
} from "./chunk-K7TO5IIO.js";
import "./chunk-A4VVDRCH.js";
import {
  T,
  g
} from "./chunk-CQDYITZC.js";
import "./chunk-5I6J67HP.js";
import {
  s as s2
} from "./chunk-YVULORT6.js";
import "./chunk-PB33BAI3.js";
import "./chunk-CVB43GGP.js";
import "./chunk-LLDOZWVV.js";
import "./chunk-7XMEZQ34.js";
import "./chunk-BDM2D6IC.js";
import "./chunk-U2ZVAEKG.js";
import "./chunk-EDSMXTFO.js";
import "./chunk-MNLT652N.js";
import "./chunk-OGZAGPIO.js";
import "./chunk-HJJIIYFF.js";
import "./chunk-ONPREQKF.js";
import "./chunk-7RMVJCDW.js";
import "./chunk-GTY5NXA4.js";
import {
  j
} from "./chunk-T6GCUITX.js";
import {
  a as a2
} from "./chunk-TUIGM7TV.js";
import {
  A as A2,
  K,
  M,
  h as h2,
  s as s3,
  u as u2
} from "./chunk-IHVSZYZS.js";
import "./chunk-6CA6K3O7.js";
import "./chunk-NYQ5CYNR.js";
import {
  _
} from "./chunk-O7UDKFOW.js";
import "./chunk-TKPMIAIW.js";
import "./chunk-NQOJNTB3.js";
import "./chunk-MFOQYQFG.js";
import {
  s
} from "./chunk-NKCPFCP3.js";
import "./chunk-3ZXOUEQG.js";
import "./chunk-AXVPJBVW.js";
import "./chunk-OXEPWRM7.js";
import "./chunk-POILQGXA.js";
import "./chunk-JJS7PR2U.js";
import "./chunk-L5YS4GSA.js";
import "./chunk-PRREDSOB.js";
import "./chunk-V5C6HSAM.js";
import "./chunk-SYATLP3H.js";
import "./chunk-V6AMQYXE.js";
import {
  A,
  d as d3,
  p
} from "./chunk-6WHTZNUH.js";
import {
  V
} from "./chunk-EITGQLII.js";
import "./chunk-TIVJXVMN.js";
import {
  d as d2
} from "./chunk-XNUH25NY.js";
import {
  o as o2
} from "./chunk-WGAPNV7F.js";
import "./chunk-BXQGM56A.js";
import {
  e as e2
} from "./chunk-4Z5SGKRM.js";
import "./chunk-YPWMP2VK.js";
import "./chunk-23E6RT3O.js";
import "./chunk-RCBGISRX.js";
import "./chunk-2P72IR2Y.js";
import {
  S,
  i
} from "./chunk-ANKOCGE2.js";
import {
  y
} from "./chunk-7CJXZOFG.js";
import "./chunk-IRGZKO7V.js";
import "./chunk-5SELS7VU.js";
import {
  a3 as a
} from "./chunk-DDYVXG4F.js";
import "./chunk-ANP42J2U.js";
import {
  d,
  h,
  k,
  m
} from "./chunk-HJY2YILU.js";
import {
  e,
  o
} from "./chunk-7DA6A5LD.js";
import {
  l,
  u
} from "./chunk-2MMLMOWS.js";
import "./chunk-4323ZVPF.js";
import {
  n2 as n
} from "./chunk-WYIDUUN2.js";
import "./chunk-DXLOWWK7.js";
import {
  __async,
  __spreadProps,
  __spreadValues
} from "./chunk-JWIQHGQB.js";

// ../../../node_modules/@arcgis/core/widgets/Sketch/VisibleElements.js
var s6 = class extends S {
  constructor(o5) {
    super(o5), this.point = true, this.polyline = true, this.polygon = true, this.rectangle = true, this.circle = true, this.multipoint = true, this.mesh = true;
  }
};
e2([y({
  type: Boolean,
  nonNullable: true
})], s6.prototype, "point", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], s6.prototype, "polyline", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], s6.prototype, "polygon", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], s6.prototype, "rectangle", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], s6.prototype, "circle", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], s6.prototype, "multipoint", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], s6.prototype, "mesh", void 0), s6 = e2([a("esri.widgets.Sketch.VisibleElements.CreateToolVisibilityMap")], s6);
var i3 = class extends S {
  constructor(o5) {
    super(o5), this["rectangle-selection"] = true, this["lasso-selection"] = true, this["custom-selection"] = true;
  }
};
e2([y({
  nonNullable: true
})], i3.prototype, "rectangle-selection", void 0), e2([y({
  nonNullable: true
})], i3.prototype, "lasso-selection", void 0), e2([y({
  nonNullable: true
})], i3.prototype, "custom-selection", void 0), i3 = e2([a("esri.widgets.Sketch.VisibleElements.SelectionToolVisibilityMap")], i3);
var p3 = class extends S {
  constructor(o5) {
    super(o5), this.createTools = new s6(), this.directionModePicker = false, this.duplicateButton = true, this.labelsToggle = true, this.selectionTools = new i3(), this.settingsMenu = true, this.snappingControls = true, this.snappingControlsElements = new s5(), this.tooltipsToggle = true, this.undoRedoMenu = true;
  }
};
e2([y({
  type: s6,
  nonNullable: true
})], p3.prototype, "createTools", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], p3.prototype, "directionModePicker", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], p3.prototype, "duplicateButton", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], p3.prototype, "labelsToggle", void 0), e2([y({
  type: i3,
  nonNullable: true
})], p3.prototype, "selectionTools", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], p3.prototype, "settingsMenu", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], p3.prototype, "snappingControls", void 0), e2([y({
  type: s5,
  nonNullable: true
})], p3.prototype, "snappingControlsElements", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], p3.prototype, "tooltipsToggle", void 0), e2([y({
  type: Boolean,
  nonNullable: true
})], p3.prototype, "undoRedoMenu", void 0), p3 = e2([a("esri.widgets.Sketch.VisibleElements")], p3);
var r5 = p3;

// ../../../node_modules/@arcgis/core/views/overlay/OutlineOverlayItem.js
var h3 = class extends S {
  constructor(o5) {
    super(o5), this.coordinates = void 0, this.strokeDash = [], this.strokeWidth = 1, this.strokeColor = [0, 0, 0, 1], this.strokeDashColor = [255, 255, 255, 1], this.fillColor = [0, 0, 0, 0], this.visible = true, this.isDecoration = true;
  }
  get _strokeStyle() {
    const o5 = this.strokeColor;
    return `rgba(${o5[0]}, ${o5[1]}, ${o5[2]}, ${o5[3]})`;
  }
  get _strokeBackgroundStyle() {
    const o5 = this.strokeDashColor;
    return `rgba(${o5[0]}, ${o5[1]}, ${o5[2]}, ${o5[3]})`;
  }
  get _fillStyle() {
    const o5 = this.fillColor;
    return `rgba(${o5[0]}, ${o5[1]}, ${o5[2]}, ${o5[3]})`;
  }
  get _renderCoordinates() {
    const o5 = [];
    if (!this.coordinates) return {
      coordinates: o5,
      rect: K
    };
    const t = A2(h2(u2(K), this.coordinates), 2 * this.strokeWidth);
    t[0] = Math.floor(t[0]), t[1] = Math.floor(t[1]), t[2] = Math.ceil(t[2] + 0.5), t[3] = Math.ceil(t[3] + 0.5);
    for (const r6 of this.coordinates) o5.push([Math.floor(r6[0] - t[0]) + 0.5, Math.floor(r6[1] - t[1]) + 0.5]);
    return o5.reverse(), {
      coordinates: o5,
      rect: t
    };
  }
  render() {
    const {
      coordinates: o5,
      rect: t
    } = this._renderCoordinates, r6 = M(t), e6 = s3(t);
    return n2("div", {
      classes: {
        "esri-outline-overlay-item": true
      },
      styles: {
        left: t[0] + "px",
        top: t[1] + "px",
        width: r6 + "px",
        height: e6 + "px",
        visibility: this.visible ? "visible" : "hidden"
      }
    }, n2("svg", {
      height: e6,
      styles: {
        display: "block"
      },
      width: r6
    }, n2("polygon", {
      fill: this._fillStyle,
      points: o5.map(([o6, t2]) => `${o6},${t2}`).join(" "),
      stroke: this._strokeBackgroundStyle,
      "stroke-width": this.strokeWidth
    }), n2("polygon", {
      fill: "transparent",
      points: o5.map(([o6, t2]) => `${o6},${t2}`).join(" "),
      stroke: this._strokeStyle,
      "stroke-dasharray": this.strokeDash.length ? this.strokeDash.join(" ") : void 0,
      "stroke-width": this.strokeWidth
    })));
  }
  renderCanvas() {
  }
};
e2([y()], h3.prototype, "coordinates", void 0), e2([y()], h3.prototype, "strokeDash", void 0), e2([y()], h3.prototype, "strokeWidth", void 0), e2([y()], h3.prototype, "strokeColor", void 0), e2([y()], h3.prototype, "strokeDashColor", void 0), e2([y()], h3.prototype, "fillColor", void 0), e2([y()], h3.prototype, "visible", void 0), e2([y()], h3.prototype, "isDecoration", void 0), e2([y({
  readOnly: true
})], h3.prototype, "_strokeStyle", null), e2([y({
  readOnly: true
})], h3.prototype, "_strokeBackgroundStyle", null), e2([y({
  readOnly: true
})], h3.prototype, "_fillStyle", null), e2([y({
  readOnly: true
})], h3.prototype, "_renderCoordinates", null), h3 = e2([a("esri.views.overlay.OutlineOverlayItem")], h3);
var c2 = h3;

// ../../../node_modules/@arcgis/core/views/draw/DrawScreenTool.js
var y2 = class extends o2.EventedMixin(n3) {
  constructor(e6) {
    super(e6), this._overlayItem = void 0, this.geometryType = null, this.mode = null, this.type = "draw-screen";
  }
  initialize() {
    this.drawOperation = this._makeDrawOperation();
    const e6 = (e7) => this.drawOperation.on(e7, (t) => {
      this._updateVisuals(), this.emit(e7, t);
    });
    this.addHandles([e6("vertex-add"), e6("vertex-remove"), e6("vertex-update"), e6("cursor-update"), e6("complete")]), this.finishToolCreation();
  }
  destroy() {
    this.drawOperation = u(this.drawOperation), this._set("view", null);
  }
  get canRedo() {
    return this.drawOperation.canRedo;
  }
  get canUndo() {
    return this.drawOperation.canUndo;
  }
  set centeredToggled(e6) {
    this._set("centeredToggled", e6), this._updateVisuals();
  }
  set enabled(e6) {
    this.drawOperation.interactive = e6, this._set("enabled", e6);
  }
  set uniformSizeToggled(e6) {
    this._set("uniformSizeToggled", e6), this._updateVisuals();
  }
  get updating() {
    return this.drawOperation?.updating ?? false;
  }
  get cursor() {
    return "point" === this.geometryType ? "default" : "crosshair";
  }
  completeCreateOperation() {
    this.drawOperation.complete();
  }
  onInputEvent(e6) {
    this.destroyed || this.drawOperation.onInputEvent(e6);
  }
  redo() {
    this.drawOperation.redo();
  }
  undo() {
    this.drawOperation.undo();
  }
  reset() {
  }
  _makeDrawOperation() {
    const {
      view: e6
    } = this;
    return new F({
      view: e6,
      manipulators: this.manipulators,
      geometryType: v2(this.geometryType),
      drawingMode: this.mode,
      hasZ: false,
      defaultZ: 0,
      snapToSceneEnabled: false,
      drawSurface: new u4(),
      hasM: false,
      snappingManager: null,
      snappingVisualizer: null,
      graphic: null,
      cursor: this.cursor
    });
  }
  get coordinates() {
    const {
      drawOperation: e6
    } = this;
    if (!e6?.geometryIncludingUncommittedVertices.length) return [];
    const {
      coordinateHelper: t
    } = e6, r6 = e6.committableVertex, o5 = e6.committedVertices.slice();
    null != r6 && o5.push(t.pointToArray(r6));
    const i4 = o5.length;
    switch (this.geometryType) {
      case "circle":
      case "rectangle": {
        const t2 = new W(o3, u4.spatialReference), r7 = "circle" === this.geometryType ? L : T2, s7 = "circle" === this.geometryType ? v : b;
        if (1 === i4 && e6.isCompleted) {
          const e7 = o5[0], i5 = t2.makeMapPoint(e7[0] + w, e7[1]);
          return r7([e7, i5], t2, true)?.geometry.rings[0] ?? [];
        }
        if (2 === i4) {
          const e7 = "rectangle" !== this.geometryType, i5 = this.centeredToggled !== e7, a5 = "rectangle" !== this.geometryType;
          return (this.uniformSizeToggled !== a5 ? r7(o5, t2, i5)?.geometry.rings[0] : s7(o5, t2, i5)?.geometry.rings[0]) ?? [];
        }
        return [];
      }
    }
    return o5;
  }
  _updateVisuals() {
    if (!this._overlayItem) {
      const e6 = new c2({
        strokeDash: [5],
        strokeDashColor: [255, 255, 255, 255]
      });
      this.view.overlay?.addItem(e6), this.addHandles(e(() => {
        this.view.overlay?.removeItem(e6), e6?.destroy(), this._overlayItem = void 0;
      })), this._overlayItem = e6;
    }
    this._overlayItem.coordinates = this.coordinates;
  }
  onDeactivate() {
    this.drawOperation.isCompleted || this.drawOperation.cancel();
  }
};
function v2(e6) {
  switch (e6) {
    case "polygon":
    case "point":
      return e6;
    case "circle":
    case "rectangle":
      return "segment";
  }
}
e2([y({
  value: false
})], y2.prototype, "centeredToggled", null), e2([y()], y2.prototype, "drawOperation", void 0), e2([y({
  value: true
})], y2.prototype, "enabled", null), e2([y({
  value: false
})], y2.prototype, "uniformSizeToggled", null), e2([y({
  constructOnly: true
})], y2.prototype, "geometryType", void 0), e2([y({
  constructOnly: true
})], y2.prototype, "mode", void 0), e2([y({
  readOnly: true
})], y2.prototype, "type", void 0), e2([y({
  readOnly: true
})], y2.prototype, "updating", null), e2([y({
  constructOnly: true,
  nonNullable: true
})], y2.prototype, "view", void 0), e2([y()], y2.prototype, "cursor", null), y2 = e2([a("esri.views.draw.DrawScreenTool")], y2);
var w = 48;

// ../../../node_modules/@arcgis/core/widgets/support/Selector2D/selectorUtils.js
function y3() {
  return __async(this, null, function* () {
    return import("./geometryEngineJSON-O3B2E6EU.js");
  });
}
function d4() {
  return __async(this, null, function* () {
    return y3().then(({
      contains: e6,
      intersects: r6,
      overlaps: t,
      simplify: s7
    }) => ({
      contains: e6,
      intersects: r6,
      overlaps: t,
      simplify: s7
    }));
  });
}
function p4(r6) {
  return __async(this, null, function* () {
    const {
      currentSelection: t,
      selector: s7,
      signal: n4,
      sources: i4,
      view: a5
    } = r6;
    if (!i4?.length) return {
      added: [],
      removed: []
    };
    const {
      layers: l3,
      layerViews: o5,
      graphicsLayers: c3
    } = w2(i4), u6 = (yield h(Promise.all([m2(s7, l3, a5, n4), g2(s7, o5, a5, n4), f(s7, c3, a5)]), n4)).flat();
    if (!t) return {
      added: u6,
      removed: []
    };
    const y4 = t.toArray(), d6 = u6.filter((e6) => !v3(y4, e6)), p5 = y4.filter((e6) => !v3(u6, e6));
    return t.removeMany(p5), t.addMany(d6), {
      added: d6,
      removed: p5
    };
  });
}
var f = (e6, r6, t) => __async(void 0, null, function* () {
  return b2({
    candidates: r6.flatMap((e7) => e7.graphics.toArray()) ?? [],
    selector: e6,
    view: t
  });
});
var m2 = (e6, t, s7, n4) => __async(void 0, null, function* () {
  const i4 = yield d(F2({
    selector: e6,
    signal: n4,
    layers: t,
    view: s7
  }));
  return i4 ? h4(i4) : [];
});
var g2 = (e6, t, s7, n4) => __async(void 0, null, function* () {
  const i4 = yield d(j2({
    selector: e6,
    signal: n4,
    layerViews: t,
    view: s7
  }));
  return i4 ? h4(i4) : [];
});
function h4(e6) {
  const r6 = [];
  for (let t = 0; t < e6.length; t++) {
    const s7 = e6[t];
    "fulfilled" === s7.status && r6.push(...s7.value);
  }
  return r6;
}
function w2(e6) {
  const r6 = [], t = [], o5 = [];
  return e6.forEach((e7) => {
    r2(e7) ? r6.push(e7) : (s4(e7) || a3(e7)) && e7.layers?.length ? r6.push(...e7.layers.toArray()) : u3(e7) && e7.sublayers?.length ? o5.push(...e7.sublayers.toArray()) : i2(e7) ? o5.push(e7) : l2(e7) && t.push(e7);
  }), {
    layers: r6,
    layerViews: t,
    graphicsLayers: o5
  };
}
function v3(e6, r6) {
  if (e6.includes(r6)) return true;
  const t = r6.getObjectId(), s7 = null != t, {
    layer: n4,
    uid: i4
  } = r6;
  return s7 ? e6.some((e7) => {
    if (n4 === e7.layer) return t === e7.getObjectId();
  }) : e6.some((e7) => {
    if (n4 === e7.layer) return i4 === e7.uid;
  });
}
function j2(r6) {
  return __async(this, null, function* () {
    const {
      layerViews: t,
      selector: s7,
      signal: n4,
      view: i4
    } = r6;
    return h(Promise.allSettled(t.map((e6) => __async(this, null, function* () {
      const r7 = e6.createQuery(), {
        geometry: t2
      } = S2(s7, e6.layer, i4);
      return r7.outFields = ["*"], r7.geometry = t2, r7.returnGeometry = true, r7.outSpatialReference = i4.spatialReference, e6.queryFeatures(r7, {
        signal: n4
      }).then(({
        features: e7
      }) => e7);
    }))), n4);
  });
}
function F2(r6) {
  return __async(this, null, function* () {
    const {
      layers: t,
      selector: s7,
      signal: n4,
      view: i4
    } = r6;
    return h(Promise.allSettled(t.map((e6) => __async(this, null, function* () {
      return e6.queryFeatures(U(e6.createQuery(), s7, e6, i4), {
        signal: n4
      }).then(({
        features: e7
      }) => e7);
    }))), n4);
  });
}
function S2(e6, r6, s7) {
  const n4 = "displayField" in r6 ? r6.displayField : null, i4 = _2({
    displayField: n4,
    fields: r6.fields
  }), a5 = [r6.objectIdField];
  null != i4 && r6.fieldsIndex.has(i4) && a5.push(i4);
  const l3 = "renderer" in r6 ? o4({
    renderer: r6.renderer
  }) : 0;
  return {
    geometry: "point" === e6.type ? r3(e6, l3, s7) : e6,
    outFields: a5
  };
}
function U(e6, r6, t, s7) {
  const {
    outFields: n4,
    geometry: i4
  } = S2(r6, t, s7);
  return e6.outFields = n4, e6.geometry = i4, e6.returnGeometry = true, e6.outSpatialReference = s7.spatialReference, e6;
}
function b2(e6) {
  return __async(this, null, function* () {
    const {
      selector: r6,
      candidates: t,
      view: s7
    } = e6;
    if (!t?.length || !r6) return [];
    const {
      spatialReference: n4
    } = s7, i4 = r6, a5 = yield d4();
    return t.filter((e7) => a5.intersects(n4, i4, e7.geometry));
  });
}

// ../../../node_modules/@arcgis/core/widgets/support/Selector2D/SelectionOperation.js
var f2 = 100;
var v4 = class extends o2.EventedAccessor {
  constructor(e6) {
    super(e6), this._processTask = null, this.options = null, this.selection = new V(), this.sources = null, this._process = k((e7, t) => __async(this, null, function* () {
      const {
        callback: s7,
        selector: r6,
        completed: i4
      } = e7, c3 = d2((e8) => __async(this, null, function* () {
        const {
          sources: o5,
          selection: t2,
          view: c4
        } = this;
        if (!(!o5?.length && !c4?.selectionManager.sources.length) && c4) {
          if (r6 && null != o5) {
            const s8 = yield p4({
              currentSelection: t2,
              selector: r6,
              signal: e8,
              sources: o5,
              view: c4
            });
            i4 && c4.selectionManager?.updateSelection(__spreadValues({
              current: t2.toArray()
            }, s8));
          }
          s7 && s7();
        } else t2.removeAll();
      }));
      return m(t, () => c3.abort()), this._processTask = c3, c3.promise;
    }), f2);
  }
  initialize() {
    this._setup();
  }
  cancel() {
    this.removeAllHandles(), this._processTask?.abort();
  }
  _setup() {
    return __async(this, null, function* () {
      const {
        view: e6
      } = this;
      if (yield e6.whenReady(), this.destroyed) return;
      const o5 = this.options, t = o5?.createTool ?? "rectangle", s7 = o5?.mode ?? ("polygon" === t ? "click" : "hybrid"), i4 = Symbol();
      this._tool = new y2({
        view: e6,
        mode: s7,
        geometryType: t
      }), o5?.selectOnComplete || this.addHandles(this._tool.on(["cursor-update", "vertex-add", "vertex-remove"], () => d(this._process({
        selector: this._selectionArea
      }))), i4), this.addHandles([e6.on("key-down", (e7) => {
        if (!e7.repeat) switch (e7.key) {
          case p2.constraint:
            this._tool.uniformSizeToggled = true, e7.stopPropagation();
            break;
          case p2.center:
            this._tool.centeredToggled = true, e7.stopPropagation();
        }
      }), e6.on("key-up", (e7) => {
        switch (e7.key) {
          case p2.constraint:
            this._tool.uniformSizeToggled = false, e7.stopPropagation();
            break;
          case p2.center:
            this._tool.centeredToggled = false, e7.stopPropagation();
        }
      }), this._tool.on("complete", (e7) => __async(this, null, function* () {
        this.removeHandles(i4);
        const o6 = () => {
          this.removeAllHandles(), this.emit("complete", {
            aborted: e7.aborted,
            selection: this.selection.toArray()
          });
        };
        e7.aborted ? (this.cancel(), this.selection.removeAll(), o6()) : yield this._process({
          selector: this._selectionArea,
          callback: o6,
          completed: true
        });
      }))], i4), this.addHandles(e(() => e6.tools.remove(this._tool))), e6.addAndActivateTool(this._tool);
    });
  }
  get _selectionArea() {
    const e6 = c(), o5 = this._tool.coordinates, t = this.view.spatialReference, s7 = (o6) => {
      e6.x = o6[0], e6.y = o6[1];
      const {
        x: t2,
        y: s8
      } = this.view.toMap(e6);
      return [t2, s8];
    };
    if (1 === o5.length) {
      const [e7, r7] = s7(o5[0]);
      return new _({
        x: e7,
        y: r7,
        spatialReference: t
      });
    }
    const r6 = this._tool.coordinates.map(s7);
    if (0 === r6.length) return;
    a2(r6) || r6.reverse();
    return new j({
      spatialReference: t,
      rings: [r6]
    });
  }
};
e2([y()], v4.prototype, "options", void 0), e2([y({
  readOnly: true
})], v4.prototype, "selection", void 0), e2([y()], v4.prototype, "sources", void 0), e2([y({
  constructOnly: true
})], v4.prototype, "view", void 0), v4 = e2([a("esri.widgets.support.Selector2D.SelectionOperation")], v4);
var w3 = v4;

// ../../../node_modules/@arcgis/core/widgets/support/SelectionToolbar/SelectionToolbarViewModel.js
var d5 = class extends o2.EventedAccessor {
  constructor(e6) {
    super(e6), this._operationHandlesGroup = null, this.activeOperation = null, this.sources = null;
  }
  initialize() {
    this.addHandles([d3(() => this._sources, (e6) => {
      this.activeOperation && (this.activeOperation.sources = e6);
    })]);
  }
  destroy() {
    this._operationHandlesGroup = l(this._operationHandlesGroup);
  }
  get _sources() {
    const {
      sources: e6,
      view: t
    } = this;
    return t && e6?.length ? e6.flatMap((e7) => {
      if (l2(e7)) return e7;
      if (s4(e7) || a3(e7)) {
        const o6 = e7.layers || [], r6 = o6.map((e8) => {
          const o7 = r4(t, e8) || void 0;
          return l2(o7) ? o7 : e8;
        });
        return r6.length ? r6.toArray() : o6.length ? o6.toArray() : e7;
      }
      const o5 = r4(t, e7) || void 0;
      return l2(o5) ? o5 : e7;
    }) : [];
  }
  get layers() {
    return i(n.getLogger(this), "layers", {
      replacement: "Use SelectionToolbar.sources instead."
    }), this.sources;
  }
  set layers(e6) {
    i(n.getLogger(this), "layers", {
      replacement: "Use SelectionToolbar.sources instead."
    }), this.sources = e6;
  }
  get state() {
    const {
      _sources: e6,
      view: t
    } = this, o5 = !e6?.length && !t?.selectionManager.sources.length;
    return this.activeOperation ? "active" : t?.ready && !o5 ? "ready" : "disabled";
  }
  cancel() {
    "active" === this.state && (this.activeOperation?.cancel(), this._set("activeOperation", null));
  }
  activate(e6) {
    const {
      _sources: t,
      state: o5,
      view: s7
    } = this, i4 = !t?.length && !s7?.selectionManager.sources.length;
    if ("disabled" === o5 || i4 || !this.view) return;
    "active" === o5 && this.cancel();
    const a5 = new w3({
      view: this.view,
      sources: t,
      options: e6
    });
    return this._operationHandlesGroup = o([a5.selection.on("change", (e7) => this.emit("selection-change", e7)), a5.once("complete", (e7) => this._onOperationComplete(e7))]), this._set("activeOperation", a5), a5;
  }
  _onOperationComplete(e6) {
    this._operationHandlesGroup = l(this._operationHandlesGroup), this._set("activeOperation", null), this.emit("complete", e6);
  }
};
e2([y()], d5.prototype, "_sources", null), e2([y({
  readOnly: true
})], d5.prototype, "activeOperation", void 0), e2([y()], d5.prototype, "layers", null), e2([y()], d5.prototype, "sources", void 0), e2([y({
  readOnly: true
})], d5.prototype, "state", null), e2([y()], d5.prototype, "view", void 0), d5 = e2([a("esri.widgets.support.SelectionToolbar.SelectionToolbarViewModel")], d5);
var v5 = d5;

// ../../../node_modules/@arcgis/core/widgets/support/SelectionToolbar.js
var u5 = {
  lassoTool: true,
  rectangleTool: true
};
var v6 = {
  createTool: "polygon",
  mode: "freehand"
};
var g3 = {
  createTool: "rectangle"
};
var T3 = "esri-selection-toolbar";
var f3 = {
  base: T3,
  container: `${T3}__container`,
  toolButton: `${T3}__tool-button`
};
var b3 = class extends B {
  constructor(e6, o5) {
    super(e6, o5), this._viewModelHandlesGroup = null, this.activeToolInfo = null, this.messages = null, this.toolConfigs = [], this.viewModel = new v5(), this.visibleElements = __spreadValues({}, u5), this._viewModelHandlesGroup = o([this.viewModel.on("complete", (e7) => {
      this._set("activeToolInfo", null), this.emit("complete", e7);
    })]);
  }
  destroy() {
    this._viewModelHandlesGroup = l(this._viewModelHandlesGroup);
  }
  loadDependencies() {
    return r({
      action: () => import("./calcite-action-M3FHAAKV.js"),
      icon: () => import("./calcite-icon-FE3MORNT.js")
    });
  }
  get label() {
    return this.messages?.widgetLabel ?? "";
  }
  set label(e6) {
    this._overrideIfSome("label", e6);
  }
  get layers() {
    return i(n.getLogger(this), "layers", {
      replacement: "Use SelectionToolbar.sources instead."
    }), this.viewModel.sources;
  }
  set layers(e6) {
    i(n.getLogger(this), "layers", {
      replacement: "Use SelectionToolbar.sources instead."
    }), this.viewModel.sources = e6;
  }
  get sources() {
    return this.viewModel.sources;
  }
  set sources(e6) {
    this.viewModel.sources = e6;
  }
  get view() {
    return this.viewModel.view;
  }
  set view(e6) {
    this.viewModel.view = e6;
  }
  castVisibleElements(e6) {
    return __spreadValues(__spreadValues({}, u5), e6);
  }
  get visibleToolCount() {
    const {
      view: e6,
      toolConfigs: o5,
      visibleElements: t
    } = this;
    return (o5?.length ?? 0) + ("2d" === e6?.type ? (t.lassoTool ? 1 : 0) + (t.rectangleTool ? 1 : 0) : 0);
  }
  activate(e6) {
    if (this.cancel(), "disabled" !== this.viewModel.state) switch (e6) {
      case "lasso":
        this._activateTool("lasso");
        break;
      case "rectangle":
        this._activateTool("rectangle");
        break;
      default:
        this._activateTool(e6);
    }
  }
  cancel() {
    this.viewModel.cancel(), this._set("activeToolInfo", null);
  }
  render() {
    return n2("div", {
      "aria-label": this.label,
      class: this.classes(f3.base, e4.widget)
    }, n2("div", {
      class: f3.container
    }, this._renderDefaultTools(), this._renderCustomTools()));
  }
  _renderDefaultTools() {
    if ("2d" === this.view?.type) return [this._renderRectangleTool(), this._renderLassoTool()];
  }
  _renderCustomTools() {
    if (this.toolConfigs?.length) return this.toolConfigs.map(({
      toolName: e6,
      icon: o5
    }) => n2("calcite-action", {
      active: this.activeToolInfo?.toolName === e6,
      bind: this,
      class: f3.toolButton,
      disabled: "disabled" === this.viewModel.state,
      onclick: () => this._onCustomToolClick(e6),
      scale: "s",
      text: e6,
      title: e6
    }, n2("calcite-icon", {
      icon: o5 || "selection",
      scale: "s"
    })));
  }
  _renderLassoTool() {
    const {
      activeToolInfo: e6,
      messages: o5,
      visibleElements: t
    } = this;
    if (!t.lassoTool) return;
    const s7 = o5.selectByLasso;
    return n2("calcite-action", {
      active: "lasso" === e6?.toolName,
      bind: this,
      disabled: "disabled" === this.viewModel.state,
      onclick: this._onLassoToolClick,
      scale: "s",
      text: s7,
      title: s7
    }, n2("calcite-icon", {
      icon: "lasso-select",
      scale: "s"
    }));
  }
  _renderRectangleTool() {
    const {
      activeToolInfo: e6,
      messages: o5,
      visibleElements: t
    } = this;
    if (!t.rectangleTool) return;
    const s7 = o5.selectByRectangle;
    return n2("calcite-action", {
      active: "rectangle" === e6?.toolName,
      bind: this,
      disabled: "disabled" === this.viewModel.state,
      onclick: this._onRectangleToolClick,
      scale: "s",
      text: s7,
      title: s7
    }, n2("calcite-icon", {
      icon: "cursor-marquee",
      scale: "s"
    }));
  }
  _onCustomToolClick(e6) {
    this._toggleTool(e6);
  }
  _onLassoToolClick() {
    this._toggleTool("lasso");
  }
  _onRectangleToolClick() {
    this._toggleTool("rectangle");
  }
  _activateTool(e6) {
    const o5 = this._getToolOptions(e6);
    if (!o5) return;
    const t = this.viewModel.activate(o5);
    t && this._set("activeToolInfo", {
      toolName: e6,
      operation: t
    });
  }
  _toggleTool(e6) {
    if (this.activeToolInfo) {
      const o5 = this.activeToolInfo.toolName;
      if (this.cancel(), o5 === e6) return;
    }
    this._activateTool(e6);
  }
  _getToolOptions(e6) {
    return "lasso" === e6 ? v6 : "rectangle" === e6 ? g3 : this.toolConfigs.find((o5) => o5.toolName === e6);
  }
};
e2([y({
  readOnly: true
})], b3.prototype, "activeToolInfo", void 0), e2([y()], b3.prototype, "label", null), e2([y()], b3.prototype, "layers", null), e2([y(), e3("esri/widgets/support/SelectionToolbar/t9n/SelectionToolbar")], b3.prototype, "messages", void 0), e2([y()], b3.prototype, "sources", null), e2([y()], b3.prototype, "toolConfigs", void 0), e2([y()], b3.prototype, "view", null), e2([y()], b3.prototype, "viewModel", void 0), e2([y()], b3.prototype, "visibleElements", void 0), e2([s("visibleElements")], b3.prototype, "castVisibleElements", null), e2([y()], b3.prototype, "visibleToolCount", null), b3 = e2([a("esri.widgets.support.SelectionToolbar")], b3);
var _3 = b3;

// ../../../node_modules/@arcgis/core/widgets/Sketch.js
var O = "esri-sketch";
var S3 = {
  base: O,
  verticalLayout: `${O}--vertical`,
  horizontalLayout: `${O}--horizontal`,
  panel: `${O}__panel`,
  infoPanel: `${O}__info-panel`,
  section: `${O}__section`,
  toolSection: `${O}__tool-section`,
  infoSection: `${O}__info-section`,
  infoCountSection: `${O}__info-count-section`,
  menuContainer: `${O}__menu-container`,
  menuHeader: `${O}__menu-header`,
  menuTitle: `${O}__menu-title`,
  featureCountBadge: `${O}__feature-count-badge`,
  featureCountText: `${O}__feature-count-text`,
  featureCountNumber: `${O}__feature-count-number`,
  actionToggle: `${O}__action-toggle`,
  actionToggleOn: `${O}__action-toggle--on`,
  actionTitle: `${O}__item-action-title`,
  actionIcon: `${O}__item-action-icon`
};
var k3 = class extends B {
  constructor(e6, t) {
    super(e6, t), this._activeCreateOptions = null, this._menuOpen = false, this._selectionToolbar = null, this._viewModelHandlesGroup = null, this.availableCreateTools = ["point", "polyline", "polygon", "rectangle", "circle"], this.creationMode = "continuous", this.layout = "horizontal", this.messages = null, this.messagesCommon = null, this.visibleElements = new r5(), this._activateCreateTool = this._activateCreateTool.bind(this), this.viewModel = e6?.viewModel || new pe();
  }
  initialize() {
    const {
      layer: e6,
      view: i4
    } = this, s7 = new _3({
      view: "2d" === i4?.type ? i4 : null,
      sources: e6 ? [e6] : null
    });
    this.addHandles([d3(() => this.viewModel, (e7) => {
      this._viewModelHandlesGroup = l(this._viewModelHandlesGroup), e7 && (this._viewModelHandlesGroup = o([e7.on("create", (e8) => {
        this.scheduleRender(), this._onCreateOperation(e8);
      }), e7.on("update", () => this.scheduleRender()), e7.on("delete", (e8) => this.emit("delete", e8)), e7.on("undo", () => this.scheduleRender()), e7.on("redo", () => this.scheduleRender()), d3(() => e7.layer, (e8) => {
        this._selectionToolbar && (this._selectionToolbar.sources = e8 ? [e8] : null);
      }), d3(() => e7.view, (e8) => {
        this._selectionToolbar && (this._selectionToolbar.view = "2d" === e8?.type ? e8 : null);
      }), d3(() => e7.state, () => this.notifyChange("state"))]));
    }, A), p(() => s7.activeToolInfo, () => this.viewModel.cancel()), s7.on("complete", (e7) => this._onSelectionOperationComplete(e7)), d3(() => {
      const {
        selectionTools: e7
      } = this.visibleElements;
      return {
        lassoTool: !!e7?.["lasso-selection"],
        rectangleTool: !!e7?.["rectangle-selection"]
      };
    }, (e7) => {
      Object.assign(s7.visibleElements, e7);
    }, A)]), this._selectionToolbar = s7;
  }
  loadDependencies() {
    return r({
      action: () => import("./calcite-action-M3FHAAKV.js"),
      icon: () => import("./calcite-icon-FE3MORNT.js")
    });
  }
  destroy() {
    this._selectionToolbar?.destroy(), this._viewModelHandlesGroup = l(this._viewModelHandlesGroup);
  }
  get activeTool() {
    const e6 = this._selectionToolbar?.activeToolInfo;
    if (e6) switch (e6.toolName) {
      case "lasso":
        return "lasso-selection";
      case "rectangle":
        return "rectangle-selection";
      case "default":
        return "custom-selection";
    }
    return this.viewModel.activeTool;
  }
  get createGraphic() {
    return this.viewModel.createGraphic;
  }
  get defaultCreateOptions() {
    return this.viewModel.defaultCreateOptions;
  }
  set defaultCreateOptions(e6) {
    this.viewModel.defaultCreateOptions = e6;
  }
  get defaultUpdateOptions() {
    return this.viewModel.defaultUpdateOptions;
  }
  set defaultUpdateOptions(e6) {
    this.viewModel.defaultUpdateOptions = e6;
  }
  get icon() {
    return "pencil";
  }
  set icon(e6) {
    this._overrideIfSome("icon", e6);
  }
  get label() {
    return this.messages?.widgetLabel ?? "";
  }
  set label(e6) {
    this._overrideIfSome("label", e6);
  }
  get labelOptions() {
    return this.viewModel.labelOptions;
  }
  set labelOptions(e6) {
    this.viewModel.labelOptions = e6;
  }
  get layer() {
    return this.viewModel.layer;
  }
  set layer(e6) {
    this.viewModel.layer = e6;
  }
  get snappingOptions() {
    return this.viewModel.snappingOptions;
  }
  set snappingOptions(e6) {
    this.viewModel.snappingOptions = e6;
  }
  get state() {
    return this._selectionToolbar?.activeToolInfo ? "active" : this.viewModel.state;
  }
  get tooltipOptions() {
    return this.viewModel.tooltipOptions;
  }
  set tooltipOptions(e6) {
    this.viewModel.tooltipOptions = e6;
  }
  get updateGraphics() {
    return this.viewModel.updateGraphics;
  }
  get valueOptions() {
    return this.viewModel.valueOptions;
  }
  set valueOptions(e6) {
    this.viewModel.valueOptions = e6;
  }
  get view() {
    return this.viewModel.view;
  }
  set view(e6) {
    this.viewModel.view = e6;
  }
  set viewModel(e6) {
    const t = this._get("viewModel");
    e6 !== t && (t && u(t), this._set("viewModel", e6));
  }
  get _effectiveAvailableCreateTools() {
    const {
      availableCreateTools: e6,
      visibleElements: t
    } = this;
    return e6?.filter((e7) => !!t.createTools?.[e7]);
  }
  create(e6, t) {
    return this._activeCreateOptions = t || null, d(this.viewModel.create(e6, t));
  }
  update(e6, t) {
    return d(this.viewModel.update(e6, t));
  }
  complete() {
    this.viewModel.complete();
  }
  cancel() {
    this._selectionToolbar?.cancel(), this.viewModel.cancel();
  }
  undo() {
    this.viewModel.undo(), this.view?.focus();
  }
  redo() {
    this.viewModel.redo(), this.view?.focus();
  }
  delete() {
    this.viewModel.delete();
  }
  duplicate() {
    return this.viewModel.duplicate();
  }
  render() {
    const {
      label: e6,
      layout: t,
      viewModel: {
        state: o5
      }
    } = this;
    return n2("div", {
      "aria-label": e6,
      class: this.classes(S3.base, e4.widget, {
        [e4.disabled]: "disabled" === o5,
        [S3.verticalLayout]: "vertical" === t,
        [S3.horizontalLayout]: "horizontal" === t
      })
    }, n2("div", {
      class: S3.panel,
      role: "toolbar"
    }, this._renderTopPanelContents()), n2("div", {
      class: this.classes(S3.panel, S3.infoPanel)
    }, this._renderInfoPanelContents()));
  }
  _renderTopPanelContents() {
    const e6 = this.classes(S3.section, S3.toolSection), {
      _effectiveAvailableCreateTools: t,
      visibleElements: o5,
      viewModel: i4
    } = this;
    return [i4.updateOnGraphicClick || this._selectionToolbar?.visibleToolCount ? n2("div", {
      class: e6,
      key: "selection-button-container",
      role: "menu"
    }, this._renderDefaultSelectionButton(), this._renderSelectionToolbar()) : null, t?.length ? n2("div", {
      class: e6,
      role: "menu"
    }, this._renderDrawActions()) : null, o5.undoRedoMenu ? n2("div", {
      class: e6,
      key: "undo-redo-menu-button-container",
      role: "menu"
    }, this._renderUndoRedoMenuButtons()) : null, o5.settingsMenu ? n2("div", {
      class: S3.section,
      key: "settings-menu-button-container"
    }, this._renderSettingsMenuButton()) : null];
  }
  _renderInfoPanelContents() {
    return this._menuOpen ? this._renderSettingsMenu() : this.updateGraphics.length ? [n2("div", {
      class: this.classes(S3.section, S3.infoSection, S3.infoCountSection),
      key: "feature-count-container"
    }, this._renderFeatureCount()), n2("div", {
      class: this.classes(S3.section, S3.infoSection),
      key: "delete-button-container"
    }, this._renderDuplicateButton(), this._renderDeleteButton())] : void 0;
  }
  _renderSettingsMenu() {
    const {
      messagesCommon: e6,
      snappingOptions: t,
      view: o5,
      viewModel: i4,
      visibleElements: s7
    } = this, n4 = {
      directionModePicker: s7.directionModePicker,
      labelsToggle: s7.labelsToggle,
      tooltipsToggle: s7.tooltipsToggle
    };
    return n2("div", {
      class: S3.menuContainer,
      "data-testid": "menu",
      key: "settings-menu-container",
      role: "menu"
    }, n2("header", {
      class: S3.menuHeader,
      key: "settings-menu-header"
    }, n2("span", {
      class: S3.menuTitle
    }, e6.settings)), T(n4) ? n2(k2, {
      sketchOptions: i4.sketchOptions,
      viewType: o5?.type,
      visibleElements: n4
    }) : void 0, s7.snappingControls && o5 && t ? n2(L2, {
      snappingOptions: t,
      view: o5,
      visibleElements: s7.snappingControlsElements
    }) : void 0);
  }
  _renderFeatureCount() {
    const {
      layout: e6,
      messages: t,
      updateGraphics: {
        length: o5
      }
    } = this, i4 = s2(t.selectedCount, {
      count: o5
    });
    return n2("div", {
      "aria-label": i4,
      class: S3.featureCountBadge
    }, n2("span", {
      class: S3.featureCountNumber
    }, "vertical" === e6 ? o5 : i4));
  }
  _renderDuplicateButton() {
    if (!this.visibleElements.duplicateButton) return;
    const e6 = this.messages, t = this.updateGraphics.length > 1 ? e6.duplicateFeatures : e6.duplicateFeature;
    return n2("calcite-action", {
      bind: this,
      onclick: this._onDuplicateSelect,
      scale: "s",
      text: t,
      title: t
    }, n2("calcite-icon", {
      icon: "copy",
      scale: "s"
    }));
  }
  _renderDeleteButton() {
    const e6 = this.messages, t = this.updateGraphics.length > 1 ? e6.deleteFeatures : e6.deleteFeature;
    return n2("calcite-action", {
      bind: this,
      onclick: this.delete,
      scale: "s",
      text: t,
      title: t
    }, n2("calcite-icon", {
      icon: "trash",
      scale: "s"
    }));
  }
  _renderDefaultSelectionButton() {
    if (!this.viewModel.updateOnGraphicClick) return;
    const {
      messages: e6,
      state: t
    } = this, o5 = e6.selectFeature;
    return n2("calcite-action", {
      active: "ready" === t,
      bind: this,
      disabled: "disabled" === t,
      onclick: this._activateDefaultSelectTool,
      scale: "s",
      text: o5,
      title: o5
    }, n2("calcite-icon", {
      icon: "cursor",
      scale: "s"
    }));
  }
  _renderSelectionToolbar() {
    if ("2d" === this.view?.type && this._selectionToolbar) return this._selectionToolbar.render();
  }
  _renderDrawActions() {
    const {
      messages: e6
    } = this;
    return this._effectiveAvailableCreateTools?.map((t) => {
      switch (t) {
        case "point":
          return this._renderAction(t, e6.drawPoint, "pin");
        case "polyline":
          return this._renderAction(t, e6.drawPolyline, "line");
        case "polygon":
          return this._renderAction(t, e6.drawPolygon, "polygon");
        case "rectangle":
          return this._renderAction(t, e6.drawRectangle, "rectangle");
        case "circle":
          return this._renderAction(t, e6.drawCircle, "circle");
        default:
          return;
      }
    });
  }
  _renderAction(e6, t, o5) {
    return n2("calcite-action", {
      active: this.activeTool === e6,
      bind: this,
      disabled: "disabled" === this.state,
      onclick: () => this._activateCreateTool(e6),
      scale: "s",
      text: t,
      title: t
    }, n2("calcite-icon", {
      icon: o5,
      scale: "s"
    }));
  }
  _renderUndoRedoMenuButtons() {
    return [this._renderUndoButton(), this._renderRedoButton()];
  }
  _renderUndoButton() {
    const e6 = this.messages.undo;
    return n2("calcite-action", {
      bind: this,
      disabled: !this.viewModel.canUndo() || "disabled" === this.state,
      onclick: this.undo,
      scale: "s",
      text: e6,
      title: e6
    }, n2("calcite-icon", {
      icon: g(this.container) ? "redo" : "undo",
      scale: "s"
    }));
  }
  _renderRedoButton() {
    const e6 = this.messages.redo;
    return n2("calcite-action", {
      bind: this,
      disabled: !this.viewModel.canRedo() || "disabled" === this.state,
      onclick: this.redo,
      scale: "s",
      text: e6,
      title: e6
    }, n2("calcite-icon", {
      icon: g(this.container) ? "undo" : "redo",
      scale: "s"
    }));
  }
  _renderSettingsMenuButton() {
    const e6 = this.messagesCommon.settings;
    return n2("calcite-action", {
      active: this._menuOpen,
      bind: this,
      "data-testid": "settings-menu-action",
      disabled: "disabled" === this.state,
      onclick: this._toggleMenu,
      scale: "s",
      text: e6,
      title: e6
    }, n2("calcite-icon", {
      icon: "gear",
      scale: "s"
    }));
  }
  _activateCreateTool(e6) {
    this.activeTool !== e6 ? (this._selectionToolbar?.cancel(), this.create(e6)) : this.cancel();
  }
  _onCreateOperation(e6) {
    if ("complete" !== e6.state) return;
    const {
      creationMode: t
    } = this, {
      type: o5
    } = e6;
    if ("create" === o5) {
      const {
        tool: o6,
        graphic: i4
      } = e6, s7 = this._activeCreateOptions;
      this._activeCreateOptions = null, "continuous" === t ? this.create(o6, s7) : "update" === t && this.update([i4]);
    }
  }
  _toggleMenu() {
    this._menuOpen = !this._menuOpen, this.scheduleRender();
  }
  _onDuplicateSelect() {
    const e6 = this.duplicate(), t = this.viewModel.activeTool;
    "transform" !== t && "reshape" !== t || this.update(e6, {
      tool: t
    });
  }
  _onSelectionOperationComplete(e6) {
    const {
      viewModel: {
        defaultUpdateOptions: t
      }
    } = this, {
      selection: o5
    } = e6;
    if (!e6.aborted && o5.length) {
      const e7 = t.tool, i4 = o5.length > 1 && "reshape" === e7 ? "transform" : e7;
      this.update(o5, __spreadProps(__spreadValues({}, t), {
        tool: i4
      }));
    }
    this.notifyChange("state");
  }
  _activateDefaultSelectTool() {
    this.cancel(), this.view?.focus();
  }
};
e2([y()], k3.prototype, "activeTool", null), e2([y({
  cast: (e6) => {
    if (!e6?.length) return null;
    const t = /* @__PURE__ */ new Set(["point", "polyline", "polygon", "rectangle", "circle"]);
    return e6.filter((e7) => t.has(e7));
  }
})], k3.prototype, "availableCreateTools", void 0), e2([y({
  readOnly: true
})], k3.prototype, "createGraphic", null), e2([y()], k3.prototype, "creationMode", void 0), e2([y()], k3.prototype, "defaultCreateOptions", null), e2([y()], k3.prototype, "defaultUpdateOptions", null), e2([y()], k3.prototype, "icon", null), e2([y()], k3.prototype, "label", null), e2([y()], k3.prototype, "labelOptions", null), e2([y()], k3.prototype, "layer", null), e2([y({
  type: ["horizontal", "vertical"]
})], k3.prototype, "layout", void 0), e2([y(), e3("esri/widgets/Sketch/t9n/Sketch")], k3.prototype, "messages", void 0), e2([y(), e3("esri/t9n/common")], k3.prototype, "messagesCommon", void 0), e2([y()], k3.prototype, "snappingOptions", null), e2([y()], k3.prototype, "state", null), e2([y()], k3.prototype, "tooltipOptions", null), e2([y({
  readOnly: true
})], k3.prototype, "updateGraphics", null), e2([y({
  type: a4,
  nonNullable: true
})], k3.prototype, "valueOptions", null), e2([y()], k3.prototype, "view", null), e2([y(), e5(["create", "update", "undo", "redo"])], k3.prototype, "viewModel", null), e2([y({
  type: r5,
  nonNullable: true
})], k3.prototype, "visibleElements", void 0), e2([y()], k3.prototype, "_effectiveAvailableCreateTools", null), k3 = e2([a("esri.widgets.Sketch")], k3);
var j3 = k3;
export {
  j3 as default
};
//# sourceMappingURL=Sketch-6C6XCBBW.js.map
