{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/rest/support/jsonUtils.js", "../../../../../../node_modules/@arcgis/core/layers/support/serviceCapabilitiesUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction n(n, r, u) {\n  return !!t(n, r, u);\n}\nfunction r(n, r, u) {\n  return t(n, r, u);\n}\nfunction t(n, r, t) {\n  return n && n.hasOwnProperty(r) ? n[r] : t;\n}\nexport { n as readBoolean, r as readNumber, t as readValue };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from \"../../core/has.js\";\nimport { parse as t, isHostedAgolService as s } from \"./arcgisLayerUrl.js\";\nimport { readBoolean as e, readNumber as r } from \"../../rest/support/jsonUtils.js\";\nconst p = {\n  name: \"supportsName\",\n  size: \"supportsSize\",\n  contentType: \"supportsContentType\",\n  keywords: \"supportsKeywords\",\n  exifInfo: \"supportsExifInfo\"\n};\nfunction o(t) {\n  const s = t?.supportedSpatialAggregationStatistics?.map(t => t.toLowerCase());\n  return {\n    envelope: !!s?.includes(\"envelopeaggregate\"),\n    centroid: !!s?.includes(\"centroidaggregate\"),\n    convexHull: !!s?.includes(\"convexhullaggregate\")\n  };\n}\nfunction u(t, s) {\n  const e = t?.supportedOperationsWithCacheHint?.map(t => t.toLowerCase());\n  return !!e?.includes(s.toLowerCase());\n}\nfunction a(t, s) {\n  return {\n    analytics: n(t),\n    attachment: i(t),\n    data: c(t),\n    metadata: d(t),\n    operations: l(t.capabilities, t, s),\n    query: y(t, s),\n    queryRelated: m(t),\n    queryTopFeatures: h(t),\n    editing: C(t)\n  };\n}\nfunction n(t) {\n  return {\n    supportsCacheHint: u(t.advancedQueryCapabilities, \"queryAnalytics\")\n  };\n}\nfunction i(t) {\n  const s = t.attachmentProperties,\n    r = {\n      supportsName: !1,\n      supportsSize: !1,\n      supportsContentType: !1,\n      supportsKeywords: !1,\n      supportsExifInfo: !1,\n      supportsCacheHint: u(t.advancedQueryCapabilities, \"queryAttachments\"),\n      supportsResize: e(t, \"supportsAttachmentsResizing\", !1)\n    };\n  return s && Array.isArray(s) && s.forEach(t => {\n    const s = p[t.name];\n    s && (r[s] = !!t.isEnabled);\n  }), r;\n}\nfunction c(t) {\n  return {\n    isVersioned: e(t, \"isDataVersioned\", !1),\n    supportsAttachment: e(t, \"hasAttachments\", !1),\n    supportsM: e(t, \"hasM\", !1),\n    supportsZ: e(t, \"hasZ\", !1)\n  };\n}\nfunction d(t) {\n  return {\n    supportsAdvancedFieldProperties: e(t, \"supportsFieldDescriptionProperty\", !1)\n  };\n}\nfunction l(s, r, p) {\n  const o = s ? s.toLowerCase().split(\",\").map(t => t.trim()) : [],\n    u = p ? t(p) : null,\n    a = o.includes(null != u && \"MapServer\" === u.serverType ? \"data\" : \"query\"),\n    n = o.includes(\"editing\") && !r.datesInUnknownTimezone;\n  let i = n && o.includes(\"create\"),\n    c = n && o.includes(\"delete\"),\n    d = n && o.includes(\"update\");\n  const l = o.includes(\"changetracking\"),\n    y = r.advancedQueryCapabilities;\n  return n && !(i || c || d) && (i = c = d = !0), {\n    supportsCalculate: e(r, \"supportsCalculate\", !1),\n    supportsTruncate: e(r, \"supportsTruncate\", !1),\n    supportsValidateSql: e(r, \"supportsValidateSql\", !1),\n    supportsAdd: i,\n    supportsDelete: c,\n    supportsEditing: n,\n    supportsChangeTracking: l,\n    supportsQuery: a,\n    supportsQueryAnalytics: e(y, \"supportsQueryAnalytic\", !1),\n    supportsQueryAttachments: e(y, \"supportsQueryAttachments\", !1),\n    supportsQueryTopFeatures: e(y, \"supportsTopFeaturesQuery\", !1),\n    supportsResizeAttachments: e(r, \"supportsAttachmentsResizing\", !1),\n    supportsSync: o.includes(\"sync\"),\n    supportsUpdate: d,\n    supportsExceedsLimitStatistics: e(r, \"supportsExceedsLimitStatistics\", !1),\n    supportsAsyncConvert3D: e(r, \"supportsAsyncConvert3D\", !1)\n  };\n}\nfunction y(t, p) {\n  const a = t.advancedQueryCapabilities,\n    n = t.ownershipBasedAccessControlForFeatures,\n    i = t.archivingInfo,\n    c = t.currentVersion,\n    d = p?.includes(\"MapServer\"),\n    l = !d || c >= has(\"mapserver-pbf-version-support\"),\n    y = s(p),\n    m = new Set((t.supportedQueryFormats ?? \"\").split(\",\").map(t => t.toLowerCase().trim()));\n  return {\n    maxRecordCount: r(t, \"maxRecordCount\", void 0),\n    maxRecordCountFactor: r(t, \"maxRecordCountFactor\", void 0),\n    standardMaxRecordCount: r(t, \"standardMaxRecordCount\", void 0),\n    supportedSpatialAggregationStatistics: o(a),\n    supportsCacheHint: e(a, \"supportsQueryWithCacheHint\", !1) || u(a, \"query\"),\n    supportsCentroid: e(a, \"supportsReturningGeometryCentroid\", !1),\n    supportsCompactGeometry: y,\n    supportsDefaultSpatialReference: e(a, \"supportsDefaultSR\", !1),\n    supportsDisjointSpatialRelationship: e(a, \"supportsDisjointSpatialRel\", !1),\n    supportsDistance: e(a, \"supportsQueryWithDistance\", !1),\n    supportsDistinct: e(a, \"supportsDistinct\", t.supportsAdvancedQueries),\n    supportsExtent: e(a, \"supportsReturningQueryExtent\", !1),\n    supportsFormatPBF: l && m.has(\"pbf\"),\n    supportsFullTextSearch: e(a, \"supportsFullTextSearch\", !1),\n    supportsGeometryProperties: e(a, \"supportsReturningGeometryProperties\", !1),\n    supportsHavingClause: e(a, \"supportsHavingClause\", !1),\n    supportsHistoricMoment: e(i, \"supportsQueryWithHistoricMoment\", !1),\n    supportsMaxRecordCountFactor: e(a, \"supportsMaxRecordCountFactor\", !1),\n    supportsOrderBy: e(a, \"supportsOrderBy\", t.supportsAdvancedQueries),\n    supportsPagination: e(a, \"supportsPagination\", !1),\n    supportsPercentileStatistics: e(a, \"supportsPercentileStatistics\", !1),\n    supportsQuantization: e(t, \"supportsCoordinatesQuantization\", !1),\n    supportsQuantizationEditMode: e(t, \"supportsQuantizationEditMode\", !1),\n    supportsQueryByAnonymous: e(n, \"allowAnonymousToQuery\", !0),\n    supportsQueryByOthers: e(n, \"allowOthersToQuery\", !0),\n    supportsQueryGeometry: e(t, \"supportsReturningQueryGeometry\", !1),\n    supportsResultType: e(a, \"supportsQueryWithResultType\", !1),\n    supportsSpatialAggregationStatistics: e(a, \"supportsSpatialAggregationStatistics\", !1),\n    supportsSqlExpression: e(a, \"supportsSqlExpression\", !1),\n    supportsStandardizedQueriesOnly: e(t, \"useStandardizedQueries\", !1),\n    supportsStatistics: e(a, \"supportsStatistics\", t.supportsStatistics),\n    supportsTopFeaturesQuery: e(a, \"supportsTopFeaturesQuery\", !1),\n    tileMaxRecordCount: r(t, \"tileMaxRecordCount\", void 0)\n  };\n}\nfunction m(t) {\n  const s = t.advancedQueryCapabilities,\n    r = e(s, \"supportsAdvancedQueryRelated\", !1);\n  return {\n    supportsPagination: e(s, \"supportsQueryRelatedPagination\", !1),\n    supportsCount: r,\n    supportsOrderBy: r,\n    supportsCacheHint: u(s, \"queryRelated\")\n  };\n}\nfunction h(t) {\n  return {\n    supportsCacheHint: u(t.advancedQueryCapabilities, \"queryTopFilter\")\n  };\n}\nfunction C(t) {\n  const s = t.ownershipBasedAccessControlForFeatures,\n    p = t ? t.advancedEditingCapabilities : void 0;\n  return {\n    supportsGeometryUpdate: e(t, \"allowGeometryUpdates\", !0),\n    supportsGlobalId: e(t, \"supportsApplyEditsWithGlobalIds\", !1),\n    supportsReturnServiceEditsInSourceSpatialReference: e(t, \"supportsReturnServiceEditsInSourceSR\", !1),\n    supportsRollbackOnFailure: e(t, \"supportsRollbackOnFailureParameter\", !1),\n    supportsUpdateWithoutM: e(t, \"allowUpdateWithoutMValues\", !1),\n    supportsUploadWithItemId: e(t, \"supportsAttachmentsByUploadId\", !1),\n    supportsDeleteByAnonymous: e(s, \"allowAnonymousToDelete\", !0),\n    supportsDeleteByOthers: e(s, \"allowOthersToDelete\", !0),\n    supportsUpdateByAnonymous: e(s, \"allowAnonymousToUpdate\", !0),\n    supportsUpdateByOthers: e(s, \"allowOthersToUpdate\", !0),\n    supportsAsyncApplyEdits: e(p, \"supportsAsyncApplyEdits\", !1),\n    zDefault: r(t, \"zDefault\", void 0)\n  };\n}\nfunction g(t) {\n  return {\n    operations: {\n      supportsAppend: e(t, \"supportsAppend\", !1),\n      supportsExportClip: e(t, \"supportsExportClip\", !1),\n      supportsExportFrameset: e(t, \"supportsExportFrameset\", !1),\n      supportsMensuration: e(t, \"supportsMensuration\", !1),\n      supportsUpdate: e(t, \"supportsUpdate\", !1)\n    },\n    query: {\n      supportsCoverageQuery: t?.playbackInfo?.klv[\"0601\"] ?? !1\n    }\n  };\n}\nexport { a as getFeatureLayerCapabilities, g as getVideoLayerCapabilities };"],
  "mappings": ";;;;;;;;;AAIA,SAAS,EAAEA,IAAGC,IAAGC,IAAG;AAClB,SAAO,CAAC,CAAC,EAAEF,IAAGC,IAAGC,EAAC;AACpB;AACA,SAAS,EAAEF,IAAGC,IAAGC,IAAG;AAClB,SAAO,EAAEF,IAAGC,IAAGC,EAAC;AAClB;AACA,SAAS,EAAEF,IAAGC,IAAGE,IAAG;AAClB,SAAOH,MAAKA,GAAE,eAAeC,EAAC,IAAID,GAAEC,EAAC,IAAIE;AAC3C;;;ACLA,IAAM,IAAI;AAAA,EACR,MAAM;AAAA,EACN,MAAM;AAAA,EACN,aAAa;AAAA,EACb,UAAU;AAAA,EACV,UAAU;AACZ;AACA,SAAS,EAAEC,IAAG;AACZ,QAAM,IAAIA,IAAG,uCAAuC,IAAI,CAAAA,OAAKA,GAAE,YAAY,CAAC;AAC5E,SAAO;AAAA,IACL,UAAU,CAAC,CAAC,GAAG,SAAS,mBAAmB;AAAA,IAC3C,UAAU,CAAC,CAAC,GAAG,SAAS,mBAAmB;AAAA,IAC3C,YAAY,CAAC,CAAC,GAAG,SAAS,qBAAqB;AAAA,EACjD;AACF;AACA,SAAS,EAAEA,IAAG,GAAG;AACf,QAAM,IAAIA,IAAG,kCAAkC,IAAI,CAAAA,OAAKA,GAAE,YAAY,CAAC;AACvE,SAAO,CAAC,CAAC,GAAG,SAAS,EAAE,YAAY,CAAC;AACtC;AACA,SAAS,EAAEA,IAAG,GAAG;AACf,SAAO;AAAA,IACL,WAAWC,GAAED,EAAC;AAAA,IACd,YAAY,EAAEA,EAAC;AAAA,IACf,MAAM,EAAEA,EAAC;AAAA,IACT,UAAUE,GAAEF,EAAC;AAAA,IACb,YAAY,EAAEA,GAAE,cAAcA,IAAG,CAAC;AAAA,IAClC,OAAO,EAAEA,IAAG,CAAC;AAAA,IACb,cAAc,EAAEA,EAAC;AAAA,IACjB,kBAAkB,EAAEA,EAAC;AAAA,IACrB,SAAS,EAAEA,EAAC;AAAA,EACd;AACF;AACA,SAASC,GAAED,IAAG;AACZ,SAAO;AAAA,IACL,mBAAmB,EAAEA,GAAE,2BAA2B,gBAAgB;AAAA,EACpE;AACF;AACA,SAAS,EAAEA,IAAG;AACZ,QAAM,IAAIA,GAAE,sBACVG,KAAI;AAAA,IACF,cAAc;AAAA,IACd,cAAc;AAAA,IACd,qBAAqB;AAAA,IACrB,kBAAkB;AAAA,IAClB,kBAAkB;AAAA,IAClB,mBAAmB,EAAEH,GAAE,2BAA2B,kBAAkB;AAAA,IACpE,gBAAgB,EAAEA,IAAG,+BAA+B,KAAE;AAAA,EACxD;AACF,SAAO,KAAK,MAAM,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAAA,OAAK;AAC7C,UAAMI,KAAI,EAAEJ,GAAE,IAAI;AAClB,IAAAI,OAAMD,GAAEC,EAAC,IAAI,CAAC,CAACJ,GAAE;AAAA,EACnB,CAAC,GAAGG;AACN;AACA,SAAS,EAAEH,IAAG;AACZ,SAAO;AAAA,IACL,aAAa,EAAEA,IAAG,mBAAmB,KAAE;AAAA,IACvC,oBAAoB,EAAEA,IAAG,kBAAkB,KAAE;AAAA,IAC7C,WAAW,EAAEA,IAAG,QAAQ,KAAE;AAAA,IAC1B,WAAW,EAAEA,IAAG,QAAQ,KAAE;AAAA,EAC5B;AACF;AACA,SAASE,GAAEF,IAAG;AACZ,SAAO;AAAA,IACL,iCAAiC,EAAEA,IAAG,oCAAoC,KAAE;AAAA,EAC9E;AACF;AACA,SAAS,EAAE,GAAGG,IAAGE,IAAG;AAClB,QAAMC,KAAI,IAAI,EAAE,YAAY,EAAE,MAAM,GAAG,EAAE,IAAI,CAAAN,OAAKA,GAAE,KAAK,CAAC,IAAI,CAAC,GAC7DO,KAAIF,KAAI,EAAEA,EAAC,IAAI,MACfG,KAAIF,GAAE,SAAS,QAAQC,MAAK,gBAAgBA,GAAE,aAAa,SAAS,OAAO,GAC3EN,KAAIK,GAAE,SAAS,SAAS,KAAK,CAACH,GAAE;AAClC,MAAIM,KAAIR,MAAKK,GAAE,SAAS,QAAQ,GAC9BI,KAAIT,MAAKK,GAAE,SAAS,QAAQ,GAC5BJ,KAAID,MAAKK,GAAE,SAAS,QAAQ;AAC9B,QAAMK,KAAIL,GAAE,SAAS,gBAAgB,GACnCM,KAAIT,GAAE;AACR,SAAOF,MAAK,EAAEQ,MAAKC,MAAKR,QAAOO,KAAIC,KAAIR,KAAI,OAAK;AAAA,IAC9C,mBAAmB,EAAEC,IAAG,qBAAqB,KAAE;AAAA,IAC/C,kBAAkB,EAAEA,IAAG,oBAAoB,KAAE;AAAA,IAC7C,qBAAqB,EAAEA,IAAG,uBAAuB,KAAE;AAAA,IACnD,aAAaM;AAAA,IACb,gBAAgBC;AAAA,IAChB,iBAAiBT;AAAA,IACjB,wBAAwBU;AAAA,IACxB,eAAeH;AAAA,IACf,wBAAwB,EAAEI,IAAG,yBAAyB,KAAE;AAAA,IACxD,0BAA0B,EAAEA,IAAG,4BAA4B,KAAE;AAAA,IAC7D,0BAA0B,EAAEA,IAAG,4BAA4B,KAAE;AAAA,IAC7D,2BAA2B,EAAET,IAAG,+BAA+B,KAAE;AAAA,IACjE,cAAcG,GAAE,SAAS,MAAM;AAAA,IAC/B,gBAAgBJ;AAAA,IAChB,gCAAgC,EAAEC,IAAG,kCAAkC,KAAE;AAAA,IACzE,wBAAwB,EAAEA,IAAG,0BAA0B,KAAE;AAAA,EAC3D;AACF;AACA,SAAS,EAAEH,IAAGK,IAAG;AACf,QAAMG,KAAIR,GAAE,2BACVC,KAAID,GAAE,wCACNS,KAAIT,GAAE,eACNU,KAAIV,GAAE,gBACNE,KAAIG,IAAG,SAAS,WAAW,GAC3BM,KAAI,CAACT,MAAKQ,MAAK,IAAI,+BAA+B,GAClDE,KAAI,EAAEP,EAAC,GACPQ,KAAI,IAAI,KAAKb,GAAE,yBAAyB,IAAI,MAAM,GAAG,EAAE,IAAI,CAAAA,OAAKA,GAAE,YAAY,EAAE,KAAK,CAAC,CAAC;AACzF,SAAO;AAAA,IACL,gBAAgB,EAAEA,IAAG,kBAAkB,MAAM;AAAA,IAC7C,sBAAsB,EAAEA,IAAG,wBAAwB,MAAM;AAAA,IACzD,wBAAwB,EAAEA,IAAG,0BAA0B,MAAM;AAAA,IAC7D,uCAAuC,EAAEQ,EAAC;AAAA,IAC1C,mBAAmB,EAAEA,IAAG,8BAA8B,KAAE,KAAK,EAAEA,IAAG,OAAO;AAAA,IACzE,kBAAkB,EAAEA,IAAG,qCAAqC,KAAE;AAAA,IAC9D,yBAAyBI;AAAA,IACzB,iCAAiC,EAAEJ,IAAG,qBAAqB,KAAE;AAAA,IAC7D,qCAAqC,EAAEA,IAAG,8BAA8B,KAAE;AAAA,IAC1E,kBAAkB,EAAEA,IAAG,6BAA6B,KAAE;AAAA,IACtD,kBAAkB,EAAEA,IAAG,oBAAoBR,GAAE,uBAAuB;AAAA,IACpE,gBAAgB,EAAEQ,IAAG,gCAAgC,KAAE;AAAA,IACvD,mBAAmBG,MAAKE,GAAE,IAAI,KAAK;AAAA,IACnC,wBAAwB,EAAEL,IAAG,0BAA0B,KAAE;AAAA,IACzD,4BAA4B,EAAEA,IAAG,uCAAuC,KAAE;AAAA,IAC1E,sBAAsB,EAAEA,IAAG,wBAAwB,KAAE;AAAA,IACrD,wBAAwB,EAAEC,IAAG,mCAAmC,KAAE;AAAA,IAClE,8BAA8B,EAAED,IAAG,gCAAgC,KAAE;AAAA,IACrE,iBAAiB,EAAEA,IAAG,mBAAmBR,GAAE,uBAAuB;AAAA,IAClE,oBAAoB,EAAEQ,IAAG,sBAAsB,KAAE;AAAA,IACjD,8BAA8B,EAAEA,IAAG,gCAAgC,KAAE;AAAA,IACrE,sBAAsB,EAAER,IAAG,mCAAmC,KAAE;AAAA,IAChE,8BAA8B,EAAEA,IAAG,gCAAgC,KAAE;AAAA,IACrE,0BAA0B,EAAEC,IAAG,yBAAyB,IAAE;AAAA,IAC1D,uBAAuB,EAAEA,IAAG,sBAAsB,IAAE;AAAA,IACpD,uBAAuB,EAAED,IAAG,kCAAkC,KAAE;AAAA,IAChE,oBAAoB,EAAEQ,IAAG,+BAA+B,KAAE;AAAA,IAC1D,sCAAsC,EAAEA,IAAG,wCAAwC,KAAE;AAAA,IACrF,uBAAuB,EAAEA,IAAG,yBAAyB,KAAE;AAAA,IACvD,iCAAiC,EAAER,IAAG,0BAA0B,KAAE;AAAA,IAClE,oBAAoB,EAAEQ,IAAG,sBAAsBR,GAAE,kBAAkB;AAAA,IACnE,0BAA0B,EAAEQ,IAAG,4BAA4B,KAAE;AAAA,IAC7D,oBAAoB,EAAER,IAAG,sBAAsB,MAAM;AAAA,EACvD;AACF;AACA,SAAS,EAAEA,IAAG;AACZ,QAAM,IAAIA,GAAE,2BACVG,KAAI,EAAE,GAAG,gCAAgC,KAAE;AAC7C,SAAO;AAAA,IACL,oBAAoB,EAAE,GAAG,kCAAkC,KAAE;AAAA,IAC7D,eAAeA;AAAA,IACf,iBAAiBA;AAAA,IACjB,mBAAmB,EAAE,GAAG,cAAc;AAAA,EACxC;AACF;AACA,SAAS,EAAEH,IAAG;AACZ,SAAO;AAAA,IACL,mBAAmB,EAAEA,GAAE,2BAA2B,gBAAgB;AAAA,EACpE;AACF;AACA,SAAS,EAAEA,IAAG;AACZ,QAAM,IAAIA,GAAE,wCACVK,KAAIL,KAAIA,GAAE,8BAA8B;AAC1C,SAAO;AAAA,IACL,wBAAwB,EAAEA,IAAG,wBAAwB,IAAE;AAAA,IACvD,kBAAkB,EAAEA,IAAG,mCAAmC,KAAE;AAAA,IAC5D,oDAAoD,EAAEA,IAAG,wCAAwC,KAAE;AAAA,IACnG,2BAA2B,EAAEA,IAAG,sCAAsC,KAAE;AAAA,IACxE,wBAAwB,EAAEA,IAAG,6BAA6B,KAAE;AAAA,IAC5D,0BAA0B,EAAEA,IAAG,iCAAiC,KAAE;AAAA,IAClE,2BAA2B,EAAE,GAAG,0BAA0B,IAAE;AAAA,IAC5D,wBAAwB,EAAE,GAAG,uBAAuB,IAAE;AAAA,IACtD,2BAA2B,EAAE,GAAG,0BAA0B,IAAE;AAAA,IAC5D,wBAAwB,EAAE,GAAG,uBAAuB,IAAE;AAAA,IACtD,yBAAyB,EAAEK,IAAG,2BAA2B,KAAE;AAAA,IAC3D,UAAU,EAAEL,IAAG,YAAY,MAAM;AAAA,EACnC;AACF;AACA,SAASc,GAAEd,IAAG;AACZ,SAAO;AAAA,IACL,YAAY;AAAA,MACV,gBAAgB,EAAEA,IAAG,kBAAkB,KAAE;AAAA,MACzC,oBAAoB,EAAEA,IAAG,sBAAsB,KAAE;AAAA,MACjD,wBAAwB,EAAEA,IAAG,0BAA0B,KAAE;AAAA,MACzD,qBAAqB,EAAEA,IAAG,uBAAuB,KAAE;AAAA,MACnD,gBAAgB,EAAEA,IAAG,kBAAkB,KAAE;AAAA,IAC3C;AAAA,IACA,OAAO;AAAA,MACL,uBAAuBA,IAAG,cAAc,IAAI,MAAM,KAAK;AAAA,IACzD;AAAA,EACF;AACF;",
  "names": ["n", "r", "u", "t", "t", "n", "d", "r", "s", "p", "o", "u", "a", "i", "c", "l", "y", "m", "g"]
}
