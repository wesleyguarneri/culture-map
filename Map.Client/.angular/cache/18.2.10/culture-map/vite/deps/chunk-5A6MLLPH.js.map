{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/3d/terrain/RenderOrder.js", "../../../../../../node_modules/@arcgis/core/views/3d/terrain/tileUtils.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js", "../../../../../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/glUtil3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar O;\n!function (O) {\n  O[O.BACK_TO_FRONT = -1] = \"BACK_TO_FRONT\", O[O.NONE = 0] = \"NONE\", O[O.FRONT_TO_BACK = 1] = \"FRONT_TO_BACK\";\n}(O || (O = {}));\nexport { O as RenderOrder };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from \"../../../core/PooledArray.js\";\nimport { RenderOrder as e } from \"./RenderOrder.js\";\nclass n {\n  constructor() {\n    this._queue = new t(), this.remove = () => {};\n  }\n  get done() {\n    return 0 === this._queue.length && (!this._last || this._last.isLeaf);\n  }\n  resetOne(t) {\n    this._queue.clear(), this._queue.push(t), this._last = void 0;\n  }\n  reset(t = null) {\n    this._queue.clear(), null != t && this._queue.pushArray(t), this._last = void 0;\n  }\n  skipSubtree() {\n    this._last = void 0;\n  }\n  next() {\n    const t = this._last?.children;\n    return t?.[0] && this._queue.pushArray(t), this._last = this._queue.pop(), this._last;\n  }\n}\nclass r {\n  constructor() {\n    this._q = new t();\n  }\n  get done() {\n    return 0 === this._q.length;\n  }\n  reset(t) {\n    if (this._q.clear(), null != t) {\n      this._q.pushArray(t);\n      for (let t = 0; t < this._q.length; ++t) {\n        const e = this._q.data[t];\n        e.isLeaf || this._q.pushArray(e.children);\n      }\n    }\n  }\n  next() {\n    return this._q.pop();\n  }\n}\nfunction s(t, e) {\n  if (Array.isArray(t)) for (let n = 0; n < t.length; n++) i(t[n], e);else i(t, e);\n}\nfunction i(t, e) {\n  if (e(t), !t.isLeaf) for (const n of t.children) i(n, e);\n}\nfunction o(t, e, n) {\n  if (null == e?.fullExtent) return !1;\n  const r = e.fullExtent,\n    s = t.extent;\n  if (n) {\n    if (s[0] < r.xmin || s[1] < r.ymin || s[2] > r.xmax || s[3] > r.ymax) return !1;\n  } else if (r.xmin > s[2] || r.ymin > s[3] || r.xmax < s[0] || r.ymax < s[1]) return !1;\n  const i = t.surface.tilingScheme.levels[t.level].scale,\n    o = e.minScale;\n  if (o > 0 && i > 1.00000001 * o) return !1;\n  const u = e.maxScale;\n  return !(u > 0 && i < .99999999 * u);\n}\nfunction u(t, e) {\n  const n = t.lij,\n    r = e.lij;\n  return n[0] - r[0] || n[1] - r[1] || n[2] - r[2];\n}\nfunction l(t, n, r = null) {\n  null == r || 0 === r.length ? t === e.BACK_TO_FRONT ? n.sort(c) : n.sort(f) : n.sort((e, n) => a(e, n, t, r));\n}\nfunction c(t, e) {\n  const n = e.screenDepth - t.screenDepth;\n  if (0 !== n) return n;\n  const r = t.lij,\n    s = e.lij;\n  return r[0] - s[0] || r[1] - s[1] || r[2] - s[2];\n}\nfunction f(t, e) {\n  const n = t.screenDepth - e.screenDepth;\n  if (0 !== n) return n;\n  const r = t.lij,\n    s = e.lij;\n  return r[0] - s[0] || r[1] - s[1] || r[2] - s[2];\n}\nfunction h(t, e, n) {\n  const r = t.screenDepth,\n    s = e.screenDepth;\n  return r < s ? -n : r > s ? n : u(t, e);\n}\nfunction a(t, e, n, r) {\n  return _(t, r) === _(e, r) ? h(t, e, n) : t ? n : -n;\n}\nfunction _(t, e) {\n  for (const n of e) if (t.intersectsExtent(n)) return !0;\n  return !1;\n}\nfunction p(t, e) {\n  const n = t.distanceToPOI - e.distanceToPOI;\n  if (0 !== n) return n;\n  const r = t.lij,\n    s = e.lij;\n  return r[0] - s[0] || r[1] - s[1] || r[2] - s[2];\n}\nfunction d(t, e) {\n  const n = t.length;\n  for (let r = 0; r < n; ++r) {\n    t.at(r).updateDistanceToPOI(e);\n  }\n  t.sort(p);\n}\nfunction m(t, e, n) {\n  let r = 1,\n    s = 0,\n    i = 0;\n  for (; t !== e;) if (r *= .5, s *= .5, i *= .5, 1 & t.lij[2] && (s += .5), 1 & t.lij[1] || (i += .5), null == (t = t.parent)) throw new Error(\"tile was not a descendant of upsampleTile\");\n  n.init(e, s, i, r);\n}\nfunction q(t) {\n  for (let e = 0; e < t.length; e++) {\n    const n = t[e],\n      r = n.parent;\n    if (r) for (let t = 0; t < 4; t++) {\n      const e = r.children[t];\n      if (e && e !== n) return !0;\n    }\n  }\n  return !1;\n}\nfunction x(t, e) {\n  if (!t || !e || t[0] === e[0]) return !1;\n  const n = t[0] < e[0],\n    r = n ? t : e,\n    s = n ? e : t,\n    i = 1 << s[0] - r[0];\n  return Math.floor(s[1] / i) === r[1] && Math.floor(s[2] / i) === r[2];\n}\nexport { r as IteratorPostorder, n as IteratorPreorder, h as compareTiles, u as compareTilesByLij, a as compareTilesWithStencil, m as computeUpsampleInfo, o as fallsWithinLayer, q as hasLoadableSiblings, l as sortTiles, d as sortTilesByPOI, x as tilesAreRelated, s as traverseTilesPreorder };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { VertexAttribute as e } from \"./VertexAttribute.js\";\nimport { DataType as r } from \"../../../webgl/enums.js\";\nimport { VertexElementDescriptor as t } from \"../../../webgl/VertexElementDescriptor.js\";\nconst O = [new t(e.POSITION, 3, r.FLOAT, 0, 12)],\n  o = [new t(e.POSITION, 2, r.FLOAT, 0, 8)],\n  m = [new t(e.POSITION, 2, r.FLOAT, 0, 16), new t(e.UV0, 2, r.FLOAT, 8, 16)];\nexport { o as Pos2, m as Pos2Tex, O as Pos3 };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { Default3D as e } from \"./DefaultVertexAttributeLocations.js\";\nimport { Pos2 as r, Pos2Tex as t } from \"./DefaultVertexBufferLayouts.js\";\nimport { VertexArrayObject as o } from \"./VertexArrayObject.js\";\nimport { BufferObject as m } from \"../../../webgl/BufferObject.js\";\nimport { Usage as n, TextureSamplingMode as f } from \"../../../webgl/enums.js\";\nimport { Texture as s } from \"../../../webgl/Texture.js\";\nimport { TextureDescriptor as u } from \"../../../webgl/TextureDescriptor.js\";\nfunction i(f, s = r, u = e, i = -1, l = 1) {\n  let a = null;\n  if (s === t) a = new Float32Array([i, i, 0, 0, l, i, 1, 0, i, l, 0, 1, l, l, 1, 1]);else a = new Float32Array([i, i, l, i, i, l, l, l]);\n  return new o(f, u, {\n    geometry: s\n  }, {\n    geometry: m.createVertex(f, n.STATIC_DRAW, a)\n  });\n}\nconst l = 4;\nfunction a(e) {\n  const r = new u(l);\n  return r.samplingMode = f.NEAREST, new s(e, r);\n}\nexport { a as createEmptyTexture, i as createQuadVAO };"],
  "mappings": "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",
  "names": ["O", "t", "r", "e", "t", "e", "n", "r", "i", "o", "u", "l", "O", "c", "O", "o", "m", "f", "o", "u", "i", "l", "a", "m", "e", "r", "c"]
}
