{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/support/featureFlags.js", "../../../../../../node_modules/@arcgis/core/symbols/support/styleUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from \"../core/has.js\";\nconst e = () => !!has(\"enable-feature:force-wosr\"),\n  a = () => !!has(\"enable-feature:direct-3d-object-feature-layer-display\"),\n  t = () => has.add(\"enable-feature:direct-3d-object-feature-layer-display\", !0, !0, !0),\n  i = () => has.add(\"enable-feature:direct-3d-object-feature-layer-display\", !1, !0, !0),\n  r = () => !!has(\"enable-i3s-patching\"),\n  d = () => has.add(\"enable-i3s-patching\", !0, !0, !0),\n  c = () => has.add(\"enable-i3s-patching\", !1, !0, !0),\n  n = () => !!has(\"enable-feature:SceneLayer-editing\"),\n  l = (e = \"i3s-patching\") => {\n    switch (c(), i(), has.add(\"enable-feature:SceneLayer-editing\", !0, !0, !0), e) {\n      case \"feature-layer-view\":\n        t();\n        break;\n      case \"i3s-patching\":\n        d();\n    }\n  },\n  s = () => {\n    c(), i(), has.add(\"enable-feature:SceneLayer-editing\", !1, !0, !0);\n  },\n  b = () => has.add(\"disable-feature:idb-cache\", !0, !0, !0);\nl(\"i3s-patching\");\nexport { a as direct3DObjectFeatureLayerDisplayEnabled, i as disableDirect3DObjectFeatureLayerDisplay, c as disableI3SPatching, b as disableIDBCache, s as disableSceneLayerEditing, t as enableDirect3DObjectFeatureLayerDisplay, d as enableI3SPatching, l as enableSceneLayerEditing, e as enableWebStyleForceWOSR, r as i3sPatchingEnabled, n as sceneLayerEditingEnabled };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport t from \"../../core/Error.js\";\nimport { throwIfAbortError as r } from \"../../core/promiseUtils.js\";\nimport { normalize as o, removeFile as s } from \"../../core/urlUtils.js\";\nimport n from \"../../portal/Portal.js\";\nimport l from \"../../portal/PortalQueryParams.js\";\nimport { enableWebStyleForceWOSR as a } from \"../../support/featureFlags.js\";\nlet u = {};\nasync function f(e, t) {\n  try {\n    return {\n      data: (await b(e, t)).data,\n      baseUrl: s(e),\n      styleUrl: e\n    };\n  } catch (o) {\n    return r(o), null;\n  }\n}\nfunction i(e, t, r) {\n  const o = null != t.portal ? t.portal : n.getDefault();\n  let s;\n  const l = `${o.url} - ${o.user?.username} - ${e}`;\n  return u[l] || (u[l] = m(e, o, r).then(e => (s = e, e.fetchData())).then(t => ({\n    data: t,\n    baseUrl: s.itemUrl ?? \"\",\n    styleName: e\n  }))), u[l];\n}\nfunction c() {\n  u && (u = {});\n}\nfunction m(e, r, o) {\n  return r.load(o).then(() => {\n    const t = new l({\n      disableExtraQuery: !0,\n      query: `owner:${h} AND type:${j} AND typekeywords:\"${e}\"`\n    });\n    return r.queryItems(t, o);\n  }).then(({\n    results: r\n  }) => {\n    let s = null;\n    const n = e.toLowerCase();\n    if (r && Array.isArray(r)) for (const e of r) {\n      const t = e.typeKeywords?.some(e => e.toLowerCase() === n);\n      if (t && e.type === j && e.owner === h) {\n        s = e;\n        break;\n      }\n    }\n    if (!s) throw new t(\"symbolstyleutils:style-not-found\", `The style '${e}' could not be found`, {\n      styleName: e\n    });\n    return s.load(o);\n  });\n}\nfunction y(e, r, o) {\n  return null != e?.styleUrl ? f(e.styleUrl, o) : null != e?.styleName ? i(e.styleName, r, o) : Promise.reject(new t(\"symbolstyleutils:style-url-and-name-missing\", \"Either styleUrl or styleName is required to resolve a style\"));\n}\nfunction p(e) {\n  return null === e || \"CIMSymbolReference\" === e.type ? e : {\n    type: \"CIMSymbolReference\",\n    symbol: e\n  };\n}\nfunction d(e, t, r = [\"gltf\"]) {\n  if (\"cimRef\" === t) return encodeURI(e.cimRef);\n  if (e.formatInfos && !a()) for (const o of r) {\n    const t = e.formatInfos.find(e => e.type === o);\n    if (t) return t.href;\n  }\n  return encodeURI(e.webRef);\n}\nfunction b(t, r) {\n  const s = {\n    responseType: \"json\",\n    query: {\n      f: \"json\"\n    },\n    ...r\n  };\n  return e(o(t), s);\n}\nconst h = \"esri_en\",\n  j = \"Style\",\n  w = \"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";\nexport { w as Style2DUrlTemplate, u as cachedStyles, c as cleanupStyleUtilsCache, y as fetchStyle, p as makeCIMSymbolRef, b as requestJSON, d as symbolUrlFromStyleItem };"],
  "mappings": "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",
  "names": ["a", "c", "e", "e", "t", "i", "r", "s", "l", "e", "r", "t", "s", "n", "i", "d"]
}
