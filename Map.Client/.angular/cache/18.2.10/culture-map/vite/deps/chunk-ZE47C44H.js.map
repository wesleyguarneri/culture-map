{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/chunks/sphere.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport { acosClamped as t, cartesianToSpherical as r } from \"../core/mathUtils.js\";\nimport { fromRotation as n } from \"../core/libs/gl-matrix-2/math/mat4.js\";\nimport { g as o, j as s, p as e, l as i, b as a, h as c, f as u, q as f, n as m, s as l, a as g, o as p, r as h } from \"./vec32.js\";\nimport { create as j } from \"../core/libs/gl-matrix-2/factories/vec3f64.js\";\nimport { e as d, c as b } from \"./vec42.js\";\nimport { create as y, fromValues as M } from \"../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { getEpsilon as x } from \"../core/libs/gl-matrix-2/math/common.js\";\nimport { Axis as v } from \"../geometry/support/Axis.js\";\nimport { fromPoints as S, closestPoint as A } from \"../geometry/support/ray.js\";\nimport { angle as q } from \"../geometry/support/vector.js\";\nimport { sv3d as P, sm4d as R } from \"../geometry/support/vectorStacks.js\";\nconst C = _();\nfunction _() {\n  return y();\n}\nconst w = d,\n  O = d;\nfunction T(t, r) {\n  return b(r, t);\n}\nfunction k(t, r) {\n  return M(t[0], t[1], t[2], r);\n}\nfunction z(t) {\n  return t;\n}\nfunction E(t) {\n  t[0] = t[1] = t[2] = t[3] = 0;\n}\nfunction L(t, r) {\n  return t[0] = t[1] = t[2] = 0, t[3] = r, t;\n}\nfunction N(t) {\n  return t[3];\n}\nfunction V(t) {\n  return t;\n}\nfunction Z(t, r, n, o) {\n  return M(t, r, n, o);\n}\nfunction B(t, r, n) {\n  return t !== n && (n[0] = t[0], n[1] = t[1], n[2] = t[2]), n[3] = t[3] + r, n;\n}\nfunction U(t, r, n) {\n  return t !== n && T(t, n), n;\n}\nfunction X(t, r, n) {\n  if (null == r) return !1;\n  if (!F(t, r, D)) return !1;\n  let {\n    t0: o,\n    t1: s\n  } = D;\n  if ((o < 0 || s < o && s > 0) && (o = s), o < 0) return !1;\n  if (n) {\n    const {\n      origin: t,\n      direction: s\n    } = r;\n    n[0] = t[0] + s[0] * o, n[1] = t[1] + s[1] * o, n[2] = t[2] + s[2] * o;\n  }\n  return !0;\n}\nfunction Y(t, r, n) {\n  const o = S(r, n);\n  if (!F(t, o, D)) return [];\n  const {\n      origin: s,\n      direction: e\n    } = o,\n    {\n      t0: i,\n      t1: a\n    } = D,\n    c = r => {\n      const n = j();\n      return h(n, s, e, r), Q(t, n, n);\n    };\n  return Math.abs(i - a) < x() ? [c(i)] : [c(i), c(a)];\n}\nconst D = {\n  t0: 0,\n  t1: 0\n};\nfunction F(t, r, n) {\n  const {\n      origin: o,\n      direction: s\n    } = r,\n    e = G;\n  e[0] = o[0] - t[0], e[1] = o[1] - t[1], e[2] = o[2] - t[2];\n  const i = s[0] * s[0] + s[1] * s[1] + s[2] * s[2];\n  if (0 === i) return !1;\n  const a = 2 * (s[0] * e[0] + s[1] * e[1] + s[2] * e[2]),\n    c = a * a - 4 * i * (e[0] * e[0] + e[1] * e[1] + e[2] * e[2] - t[3] * t[3]);\n  if (c < 0) return !1;\n  const u = Math.sqrt(c);\n  return n.t0 = (-a - u) / (2 * i), n.t1 = (-a + u) / (2 * i), !0;\n}\nconst G = j();\nfunction H(t, r) {\n  return X(t, r, null);\n}\nfunction I(t, r, n) {\n  if (X(t, r, n)) return n;\n  const a = J(t, r, P.get());\n  return o(n, r.origin, s(P.get(), r.direction, e(r.origin, a) / i(r.direction))), n;\n}\nfunction J(t, r, o) {\n  const e = P.get(),\n    u = R.get();\n  a(e, r.origin, r.direction);\n  const f = N(t);\n  a(o, e, r.origin), s(o, o, 1 / i(o) * f);\n  const m = $(t, r.origin),\n    l = q(r.origin, o);\n  return n(u, l + m, e), c(o, o, u), o;\n}\nfunction K(t, r, n) {\n  return X(t, r, n) ? n : (A(r, V(t), n), Q(t, n, n));\n}\nfunction Q(t, r, n) {\n  const e = u(P.get(), r, V(t)),\n    a = s(P.get(), e, t[3] / i(e));\n  return o(n, a, V(t));\n}\nfunction W(t, r) {\n  const n = u(P.get(), r, V(t)),\n    o = f(n),\n    s = t[3] * t[3];\n  return Math.sqrt(Math.abs(o - s));\n}\nfunction $(r, n) {\n  const o = u(P.get(), n, V(r)),\n    s = i(o),\n    e = N(r),\n    a = e + Math.abs(e - s);\n  return t(e / a);\n}\nconst tt = j();\nfunction rt(t, n, o, s) {\n  const e = u(tt, n, V(t));\n  switch (o) {\n    case v.X:\n      {\n        const t = r(e, tt)[2];\n        return l(s, -Math.sin(t), Math.cos(t), 0);\n      }\n    case v.Y:\n      {\n        const t = r(e, tt),\n          n = t[1],\n          o = t[2],\n          i = Math.sin(n);\n        return l(s, -i * Math.cos(o), -i * Math.sin(o), Math.cos(n));\n      }\n    case v.Z:\n      return m(s, e);\n    default:\n      return;\n  }\n}\nfunction nt(t, r) {\n  const n = u(it, r, V(t));\n  return i(n) - t[3];\n}\nfunction ot(t, r, n, e) {\n  const i = nt(t, r),\n    a = rt(t, r, v.Z, it),\n    c = s(it, a, n - i);\n  return o(e, r, c);\n}\nfunction st(t, r) {\n  const n = g(V(t), r),\n    o = N(t);\n  return n <= o * o;\n}\nfunction et(t, r, n = y()) {\n  const o = e(V(t), V(r)),\n    s = t[3],\n    i = r[3];\n  return o + i < s ? (b(n, t), n) : o + s < i ? (b(n, r), n) : (p(n, V(t), V(r), (o + i - s) / (2 * o)), n[3] = (o + s + i) / 2, n);\n}\nconst it = j(),\n  at = _(),\n  ct = Object.freeze(Object.defineProperty({\n    __proto__: null,\n    NullSphere: C,\n    altitudeAt: nt,\n    angleToSilhouette: $,\n    axisAt: rt,\n    clear: E,\n    closestPoint: K,\n    closestPointOnSilhouette: J,\n    containsPoint: st,\n    copy: T,\n    create: _,\n    distanceToSilhouette: W,\n    elevate: B,\n    equals: O,\n    exactEquals: w,\n    fromCenterAndRadius: k,\n    fromRadius: L,\n    fromValues: Z,\n    getCenter: V,\n    getRadius: N,\n    intersectLine: Y,\n    intersectRay: X,\n    intersectRayClosestSilhouette: I,\n    intersectsRay: H,\n    projectPoint: Q,\n    setAltitudeAt: ot,\n    setExtent: U,\n    tmpSphere: at,\n    union: et,\n    wrap: z\n  }, Symbol.toStringTag, {\n    value: \"Module\"\n  }));\nexport { rt as A, nt as B, ot as C, C as N, T as a, N as b, _ as c, W as d, J as e, Z as f, V as g, L as h, X as i, H as j, k, w as l, Y as m, st as n, O as o, Q as p, E as q, B as r, ct as s, at as t, et as u, U as v, z as w, I as x, K as y, $ as z };"],
  "mappings": "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",
  "names": ["_", "n", "L", "O", "r", "k", "z", "o", "s", "t", "e", "a", "c", "u", "f", "m", "p"]
}
