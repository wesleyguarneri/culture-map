{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/arcade/functions/featuresetstring.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport n from \"../Dictionary.js\";\nimport { ArcadeExecutionError as a, ExecutionErrorCodes as e } from \"../executionError.js\";\nimport { H as t, r, W as o, j as i, u as c, a2 as s, V as d, N as u, X as m, a3 as f, Y as l, a4 as y, K as v, t as w, U as p } from \"../../chunks/languageUtils.js\";\nimport { layerFieldEsriConstants as h } from \"../featureset/support/shared.js\";\nfunction T(a, e) {\n  return a && a.domain ? \"coded-value\" === a.domain.type || \"codedValue\" === a.domain.type ? n.convertObjectToArcadeDictionary({\n    type: \"codedValue\",\n    name: a.domain.name,\n    dataType: h[a.field.type],\n    codedValues: a.domain.codedValues.map(n => ({\n      name: n.name,\n      code: n.code\n    }))\n  }, u(e)) : n.convertObjectToArcadeDictionary({\n    type: \"range\",\n    name: a.domain.name,\n    dataType: h[a.field.type],\n    min: a.domain.minValue,\n    max: a.domain.maxValue\n  }, u(e)) : null;\n}\nfunction b(h) {\n  \"async\" === h.mode && (h.functions.domain = function (n, d) {\n    return h.standardFunctionAsync(n, d, async (u, m, f) => {\n      if (t(f, 2, 3, n, d), r(f[0])) {\n        return T(o(f[0], i(f[1]), void 0 === f[2] ? void 0 : f[2]), n);\n      }\n      if (c(f[0])) {\n        await f[0]._ensureLoaded();\n        return T(s(i(f[1]), f[0], null, void 0 === f[2] ? void 0 : f[2]), n);\n      }\n      throw new a(n, e.InvalidParameter, d);\n    });\n  }, h.functions.subtypes = function (o, i) {\n    return h.standardFunctionAsync(o, i, async (s, m, f) => {\n      if (t(f, 1, 1, o, i), r(f[0])) {\n        const a = d(f[0]);\n        return a ? n.convertObjectToArcadeDictionary(a, u(o)) : null;\n      }\n      if (c(f[0])) {\n        await f[0]._ensureLoaded();\n        const a = f[0].subtypeMetaData();\n        return a ? n.convertObjectToArcadeDictionary(a, u(o)) : null;\n      }\n      throw new a(o, e.InvalidParameter, i);\n    });\n  }, h.functions.domainname = function (n, o) {\n    return h.standardFunctionAsync(n, o, async (d, u, l) => {\n      if (t(l, 2, 4, n, o), r(l[0])) return m(l[0], i(l[1]), l[2], void 0 === l[3] ? void 0 : l[3]);\n      if (c(l[0])) {\n        await l[0]._ensureLoaded();\n        const n = s(i(l[1]), l[0], null, void 0 === l[3] ? void 0 : l[3]);\n        return f(n, l[2]);\n      }\n      throw new a(n, e.InvalidParameter, o);\n    });\n  }, h.signatures.push({\n    name: \"domainname\",\n    min: 2,\n    max: 4\n  }), h.functions.domaincode = function (n, o) {\n    return h.standardFunctionAsync(n, o, async (d, u, m) => {\n      if (t(m, 2, 4, n, o), r(m[0])) return l(m[0], i(m[1]), m[2], void 0 === m[3] ? void 0 : m[3]);\n      if (c(m[0])) {\n        await m[0]._ensureLoaded();\n        const n = s(i(m[1]), m[0], null, void 0 === m[3] ? void 0 : m[3]);\n        return y(n, m[2]);\n      }\n      throw new a(n, e.InvalidParameter, o);\n    });\n  }, h.signatures.push({\n    name: \"domaincode\",\n    min: 2,\n    max: 4\n  }), h.functions.text = function (n, r) {\n    return h.standardFunctionAsync(n, r, async (o, i, s) => {\n      if (t(s, 1, 2, n, r), c(s[0])) {\n        const t = v(s[1], \"\");\n        if (\"\" === t) return s[0].castToText();\n        if (\"schema\" === t.toLowerCase()) return s[0].convertToText(\"schema\", o.abortSignal);\n        if (\"featureset\" === t.toLowerCase()) return s[0].convertToText(\"featureset\", o.abortSignal);\n        throw new a(n, e.InvalidParameter, r);\n      }\n      return w(s[0], s[1]);\n    });\n  }, h.functions.gdbversion = function (n, o) {\n    return h.standardFunctionAsync(n, o, async (i, s, d) => {\n      if (t(d, 1, 1, n, o), r(d[0])) return d[0].gdbVersion();\n      if (c(d[0])) {\n        return (await d[0].load()).gdbVersion;\n      }\n      throw new a(n, e.InvalidParameter, o);\n    });\n  }, h.functions.schema = function (o, i) {\n    return h.standardFunctionAsync(o, i, async (s, d, m) => {\n      if (t(m, 1, 1, o, i), c(m[0])) return await m[0].load(), n.convertObjectToArcadeDictionary(m[0].schema(), u(o));\n      if (r(m[0])) {\n        const a = p(m[0]);\n        return a ? n.convertObjectToArcadeDictionary(a, u(o)) : null;\n      }\n      throw new a(o, e.InvalidParameter, i);\n    });\n  });\n}\nexport { b as registerFunctions };"],
  "mappings": "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",
  "names": ["a", "n", "r"]
}
