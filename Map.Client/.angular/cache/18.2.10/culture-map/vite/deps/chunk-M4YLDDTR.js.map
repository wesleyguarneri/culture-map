{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { ShaderOutput as e } from \"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";\nimport { SliceDraw as r } from \"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";\nimport { Transform as o } from \"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";\nimport { multipassTerrainTest as i } from \"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";\nimport { defaultMaskAlphaCutoff as s } from \"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";\nimport { ColorConversion as a } from \"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";\nimport { addProjViewLocalOrigin as t } from \"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";\nimport { FloatPassUniform as l } from \"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";\nimport { glsl as d } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as n } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DPassUniform as p } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nimport { TransparencyPassType as g } from \"../views/3d/webgl-engine/lib/TransparencyPassType.js\";\nimport { VertexAttribute as c } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\nfunction v(v) {\n  const f = new n(),\n    {\n      vertex: u,\n      fragment: m\n    } = f;\n  return t(u, v), f.include(o, v), f.attributes.add(c.POSITION, \"vec3\"), f.attributes.add(c.UV0, \"vec2\"), v.perspectiveInterpolation && f.attributes.add(c.PERSPECTIVEDIVIDE, \"float\"), f.varyings.add(\"vpos\", \"vec3\"), v.multipassEnabled && f.varyings.add(\"depth\", \"float\"), u.code.add(d`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled ? \"depth = (view * vec4(vpos, 1.0)).z;\" : \"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation ? \"gl_Position *= perspectiveDivide;\" : \"\"}\n    }\n  `), f.include(r, v), f.include(i, v), m.uniforms.add(new p(\"tex\", e => e.texture), new l(\"opacity\", e => e.opacity)), f.varyings.add(\"vTexCoord\", \"vec2\"), v.transparencyPassType === g.ColorAlpha && (f.outputs.add(\"fragColor\", \"vec4\", 0), f.outputs.add(\"fragAlpha\", \"float\", 1)), m.include(a), m.code.add(d`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled ? \"terrainDepthTest(depth);\" : \"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${d.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType === g.ColorAlpha ? d`\n              fragColor = premultiplyAlpha(fragColor);\n              fragAlpha = fragColor.a;` : \"\"}\n      ${v.output === e.ObjectAndLayerIdColor ? d`\n              fragColor = vec4(0,0,0,1);` : \"\"}\n    }\n    `), f;\n}\nconst f = Object.freeze(Object.defineProperty({\n  __proto__: null,\n  build: v\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nexport { f as I, v as b };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBA,SAAS,EAAEA,IAAG;AACZ,QAAMC,KAAI,IAAIC,GAAE,GACd;AAAA,IACE,QAAQ;AAAA,IACR,UAAU;AAAA,EACZ,IAAID;AACN,SAAO,EAAE,GAAGD,EAAC,GAAGC,GAAE,QAAQC,IAAGF,EAAC,GAAGC,GAAE,WAAW,IAAI,EAAE,UAAU,MAAM,GAAGA,GAAE,WAAW,IAAI,EAAE,KAAK,MAAM,GAAGD,GAAE,4BAA4BC,GAAE,WAAW,IAAI,EAAE,mBAAmB,OAAO,GAAGA,GAAE,SAAS,IAAI,QAAQ,MAAM,GAAGD,GAAE,oBAAoBC,GAAE,SAAS,IAAI,SAAS,OAAO,GAAG,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,QAGnRD,GAAE,mBAAmB,wCAAwC,EAAE;AAAA;AAAA;AAAA;AAAA,QAI/DA,GAAE,2BAA2B,sCAAsC,EAAE;AAAA;AAAA,GAE1E,GAAGC,GAAE,QAAQ,GAAGD,EAAC,GAAGC,GAAE,QAAQ,GAAGD,EAAC,GAAG,EAAE,SAAS,IAAI,IAAI,EAAE,OAAO,CAAAG,OAAKA,GAAE,OAAO,GAAG,IAAID,GAAE,WAAW,CAAAC,OAAKA,GAAE,OAAO,CAAC,GAAGF,GAAE,SAAS,IAAI,aAAa,MAAM,GAAGD,GAAE,yBAAyBE,GAAE,eAAeD,GAAE,QAAQ,IAAI,aAAa,QAAQ,CAAC,GAAGA,GAAE,QAAQ,IAAI,aAAa,SAAS,CAAC,IAAI,EAAE,QAAQE,EAAC,GAAG,EAAE,KAAK,IAAI;AAAA;AAAA;AAAA,QAG1SH,GAAE,mBAAmB,6BAA6B,EAAE;AAAA;AAAA;AAAA,0BAGlC,EAAE,MAAME,EAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,QAK5BF,GAAE,yBAAyBE,GAAE,aAAa;AAAA;AAAA,0CAER,EAAE;AAAA,QACpCF,GAAE,WAAWE,GAAE,wBAAwB;AAAA,4CACH,EAAE;AAAA;AAAA,KAEzC,GAAGD;AACR;AACA,IAAM,IAAI,OAAO,OAAO,OAAO,eAAe;AAAA,EAC5C,WAAW;AAAA,EACX,OAAO;AACT,GAAG,OAAO,aAAa;AAAA,EACrB,OAAO;AACT,CAAC,CAAC;",
  "names": ["v", "f", "o", "e"]
}
