import {
  N
} from "./chunk-CEHR2FVR.js";
import "./chunk-YNX4ZC52.js";
import "./chunk-LVYRNWV6.js";
import "./chunk-GW7WMRYJ.js";
import "./chunk-LWAFK7Z6.js";
import "./chunk-Z52R7W33.js";
import "./chunk-O7OCS6XP.js";
import "./chunk-BFWLPS7M.js";
import "./chunk-67LE7VNQ.js";
import "./chunk-557LD7Q2.js";
import "./chunk-CITBGG5A.js";
import "./chunk-6HTAUV5K.js";
import "./chunk-M4YLDDTR.js";
import {
  m
} from "./chunk-FAMPTKPX.js";
import "./chunk-EOYCWFZW.js";
import "./chunk-IJVQCMOT.js";
import "./chunk-UQMQLPLV.js";
import "./chunk-5JJ6GBOU.js";
import "./chunk-D4LAF4TH.js";
import "./chunk-QL5HR3YL.js";
import "./chunk-D3AKDIJC.js";
import "./chunk-IM5W3NWZ.js";
import "./chunk-K2LTET4M.js";
import "./chunk-WG5JLPNN.js";
import "./chunk-25PMMPR7.js";
import "./chunk-7XAWCQ7R.js";
import "./chunk-RASN5P76.js";
import "./chunk-5L3YXBNN.js";
import "./chunk-IFUKJDOU.js";
import "./chunk-LD5YIQXD.js";
import "./chunk-J7KF6IEI.js";
import "./chunk-GOKBAMCG.js";
import "./chunk-E3P3LIVT.js";
import "./chunk-HUX6Y26H.js";
import "./chunk-XGDLE7WK.js";
import "./chunk-QMUS26QM.js";
import "./chunk-GDEAPZ64.js";
import "./chunk-PEZTN5WV.js";
import "./chunk-FHW2TG7X.js";
import "./chunk-YAGNWBGU.js";
import "./chunk-DE6MQ5XE.js";
import "./chunk-LQTSBE7P.js";
import "./chunk-GCFUJXGH.js";
import "./chunk-VIIVMRRO.js";
import "./chunk-ZKSEQXDM.js";
import "./chunk-675UQNXB.js";
import "./chunk-DXGCBLDW.js";
import "./chunk-Z3FHX4FD.js";
import "./chunk-SUUOAZQT.js";
import "./chunk-TGHJVD7I.js";
import "./chunk-OZG2NNUW.js";
import "./chunk-KTRZHJ2M.js";
import "./chunk-KOIKSJSQ.js";
import "./chunk-VUVXW4AC.js";
import "./chunk-LKHUGH5W.js";
import "./chunk-HAO4WCNW.js";
import "./chunk-X2OAE75B.js";
import "./chunk-UCPBGEQD.js";
import "./chunk-SIZK72CP.js";
import "./chunk-ZVFENZUF.js";
import "./chunk-MD2IQSSQ.js";
import "./chunk-P7OSFLIX.js";
import "./chunk-ZDC4PV4Y.js";
import "./chunk-DLRYNII2.js";
import "./chunk-WN3YAMRZ.js";
import "./chunk-NWICVENM.js";
import "./chunk-A4RKV2C7.js";
import "./chunk-WU7FVYT7.js";
import "./chunk-SYYDVGKY.js";
import "./chunk-YLE5AYZV.js";
import "./chunk-62WUYJJN.js";
import "./chunk-JNWMZ6EJ.js";
import "./chunk-VS26W5Y5.js";
import "./chunk-PVO5NM6Q.js";
import "./chunk-F35MWZH7.js";
import "./chunk-YA5CTHMT.js";
import "./chunk-2N3BR7QT.js";
import "./chunk-N3IR233K.js";
import "./chunk-GPUGMSHU.js";
import "./chunk-AIS5CSUZ.js";
import "./chunk-52UEU7LG.js";
import "./chunk-WJKYGQOY.js";
import "./chunk-GY52WOQZ.js";
import "./chunk-GAYJ4YPJ.js";
import "./chunk-PPMDUJ4E.js";
import "./chunk-MFZTGYUJ.js";
import "./chunk-R5ZE5A4K.js";
import "./chunk-24CN3HDP.js";
import "./chunk-SZWWBMQN.js";
import "./chunk-ZE47C44H.js";
import "./chunk-5GIS2C3K.js";
import "./chunk-XCOHDMBF.js";
import "./chunk-R3F4JMNC.js";
import "./chunk-RDQF44TE.js";
import "./chunk-KKD7A2GN.js";
import "./chunk-N4KQPPPI.js";
import "./chunk-4OGGMTIH.js";
import "./chunk-NQVBBKAN.js";
import "./chunk-4MMTPKY4.js";
import "./chunk-DY7FJHTG.js";
import "./chunk-JYODC3YQ.js";
import "./chunk-BQZBOYBD.js";
import "./chunk-TYQXPPSP.js";
import "./chunk-TRSGUVSM.js";
import "./chunk-U3MA63JX.js";
import "./chunk-WYKKCLBI.js";
import "./chunk-PFMGJTQM.js";
import "./chunk-DWASPXVI.js";
import "./chunk-CIW3KHOW.js";
import "./chunk-J55F4AC2.js";
import "./chunk-IMVP5ADD.js";
import "./chunk-H7WPOTQH.js";
import "./chunk-WPPFJVPN.js";
import "./chunk-CRNUMTSV.js";
import "./chunk-DR5TVNEL.js";
import "./chunk-HT2T6PUB.js";
import "./chunk-OKJHJ3CY.js";
import "./chunk-XTVPEVHA.js";
import "./chunk-DTUSTSEJ.js";
import "./chunk-JCWFGRHQ.js";
import "./chunk-JILEJ6R2.js";
import "./chunk-GAW5JHG4.js";
import "./chunk-OEKKQXBD.js";
import "./chunk-S3IO7V4Q.js";
import "./chunk-4ZZRP4MA.js";
import "./chunk-YVULORT6.js";
import "./chunk-PB33BAI3.js";
import "./chunk-CVB43GGP.js";
import "./chunk-LLDOZWVV.js";
import "./chunk-7XMEZQ34.js";
import "./chunk-BDM2D6IC.js";
import "./chunk-U2ZVAEKG.js";
import "./chunk-EDSMXTFO.js";
import "./chunk-MNLT652N.js";
import "./chunk-T6GCUITX.js";
import "./chunk-TUIGM7TV.js";
import "./chunk-IHVSZYZS.js";
import "./chunk-6CA6K3O7.js";
import "./chunk-NYQ5CYNR.js";
import "./chunk-O7UDKFOW.js";
import "./chunk-TKPMIAIW.js";
import "./chunk-NQOJNTB3.js";
import "./chunk-MFOQYQFG.js";
import "./chunk-NKCPFCP3.js";
import "./chunk-3ZXOUEQG.js";
import "./chunk-AXVPJBVW.js";
import "./chunk-OXEPWRM7.js";
import "./chunk-POILQGXA.js";
import "./chunk-JJS7PR2U.js";
import "./chunk-L5YS4GSA.js";
import "./chunk-PRREDSOB.js";
import "./chunk-V5C6HSAM.js";
import "./chunk-SYATLP3H.js";
import "./chunk-V6AMQYXE.js";
import {
  p
} from "./chunk-6WHTZNUH.js";
import "./chunk-EITGQLII.js";
import "./chunk-TIVJXVMN.js";
import "./chunk-XNUH25NY.js";
import "./chunk-WGAPNV7F.js";
import "./chunk-BXQGM56A.js";
import {
  e
} from "./chunk-4Z5SGKRM.js";
import "./chunk-ANKOCGE2.js";
import "./chunk-7CJXZOFG.js";
import "./chunk-IRGZKO7V.js";
import "./chunk-5SELS7VU.js";
import {
  a3 as a
} from "./chunk-DDYVXG4F.js";
import "./chunk-ANP42J2U.js";
import {
  k
} from "./chunk-HJY2YILU.js";
import "./chunk-7DA6A5LD.js";
import "./chunk-2MMLMOWS.js";
import "./chunk-4323ZVPF.js";
import "./chunk-WYIDUUN2.js";
import "./chunk-DXLOWWK7.js";
import {
  __async
} from "./chunk-JWIQHGQB.js";

// ../../../node_modules/@arcgis/core/views/3d/layers/ImageryLayerView3D.js
var n = class extends m(N) {
  constructor() {
    super(...arguments), this.type = "imagery-3d", this.redrawDebounced = k((e2) => __async(this, null, function* () {
      this.redraw((e3, a2) => this._redrawImage(e3, a2), e2);
    }), 2e3);
  }
  initialize() {
    this.addHandles([p(() => this.view.basemapTerrain.ready, () => this._initializeMaximumDataResolution(), {
      once: true,
      initial: true
    }), this.layer.on("redraw", () => this._updatingHandles.addPromise(this.redrawDebounced()))]), this._updatingHandles.add(() => this.layer?.exportImageServiceParameters?.version, () => {
      this._updatingHandles.addPromise(this.refreshDebounced());
    }), this._updatingHandles.add(() => this.layer?.renderer, () => {
      this._updatingHandles.addPromise(this.refreshDebounced());
    }), this._updatingHandles.add(() => this.timeExtent, () => this._updatingHandles.addPromise(this.refreshDebounced()));
  }
  _initializeMaximumDataResolution() {
    this.maximumDataResolution = this.layer.loaded ? this.layer.serviceRasterInfo.pixelSize : null;
  }
  getFetchOptions() {
    return {
      timeExtent: this.timeExtent
    };
  }
  processResult(e2, a2, t) {
    return __async(this, null, function* () {
      a2.imageOrCanvasElement ? e2.image = a2.imageOrCanvasElement : (e2.image = document.createElement("canvas"), e2.pixelData = a2.pixelData, yield this._redrawImage(e2, t));
    });
  }
  _redrawImage(e2, a2) {
    return __async(this, null, function* () {
      if (!(e2.image instanceof HTMLCanvasElement) || null == e2.pixelData) throw new Error();
      const t = e2.image, i = t.getContext("2d"), r = yield this.layer.applyRenderer(e2.pixelData, {
        signal: a2
      }), s = this.layer.applyFilter(r).pixelBlock;
      if (null == s) throw new Error();
      t.width = s.width, t.height = s.height;
      const n2 = i.createImageData(s.width, s.height);
      n2.data.set(s.getAsRGBA()), i.putImageData(n2, 0, 0);
    });
  }
};
n = e([a("esri.views.3d.layers.ImageryLayerView3D")], n);
var o = n;
export {
  o as default
};
//# sourceMappingURL=ImageryLayerView3D-AUAYLT7P.js.map
