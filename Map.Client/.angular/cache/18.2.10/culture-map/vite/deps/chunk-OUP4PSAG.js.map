{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { nextHighestPowerOfTwo as t } from \"../../../core/mathUtils.js\";\nimport { newIndexArray as n, compactIndices as r } from \"../Indices.js\";\nfunction e(e, s, u) {\n  const c = Array.isArray(e),\n    a = c ? e.length / s : e.byteLength / (4 * s),\n    h = c ? e : new Uint32Array(e, 0, a * s),\n    y = u?.minReduction ?? 0,\n    A = u?.originalIndices || null,\n    g = A ? A.length : 0,\n    m = u?.componentOffsets || null;\n  let w = 0;\n  if (m) for (let t = 0; t < m.length - 1; t++) {\n    const n = m[t + 1] - m[t];\n    n > w && (w = n);\n  } else w = a;\n  const U = Math.floor(1.1 * w) + 1;\n  (null == i || i.length < 2 * U) && (i = new Uint32Array(t(2 * U)));\n  for (let t = 0; t < 2 * U; t++) i[t] = 0;\n  let b = 0;\n  const d = !!m && !!A,\n    p = d ? g : a;\n  let M = n(a);\n  const j = new Uint32Array(g),\n    q = 1.96;\n  let I = 0 !== y ? Math.ceil(4 * q * q / (y * y) * y * (1 - y)) : p,\n    k = 1,\n    x = m ? m[1] : p;\n  for (let t = 0; t < p; t++) {\n    if (t === I) {\n      const n = 1 - b / t;\n      if (n + q * Math.sqrt(n * (1 - n) / t) < y) return null;\n      I *= 2;\n    }\n    if (t === x) {\n      for (let t = 0; t < 2 * U; t++) i[t] = 0;\n      if (A) for (let t = m[k - 1]; t < m[k]; t++) j[t] = M[A[t]];\n      x = m[++k];\n    }\n    const n = d ? A[t] : t,\n      r = n * s,\n      e = f(h, r, s);\n    let o = e % U,\n      u = b;\n    for (; 0 !== i[2 * o + 1];) {\n      if (i[2 * o] === e) {\n        const t = i[2 * o + 1] - 1;\n        if (l(h, r, t * s, s)) {\n          u = M[t];\n          break;\n        }\n      }\n      o++, o >= U && (o -= U);\n    }\n    u === b && (i[2 * o] = e, i[2 * o + 1] = n + 1, b++), M[n] = u;\n  }\n  if (0 !== y && 1 - b / a < y) return null;\n  if (d) {\n    for (let t = m[k - 1]; t < j.length; t++) j[t] = M[A[t]];\n    M = r(j);\n  }\n  const C = c ? new Array(b) : new Uint32Array(b * s);\n  b = 0;\n  for (let t = 0; t < p; t++) if (M[t] === b) {\n    o(h, (d ? A[t] : t) * s, C, b * s, s), b++;\n  }\n  if (A && !d) {\n    const t = new Uint32Array(g);\n    for (let n = 0; n < t.length; n++) t[n] = M[A[n]];\n    M = r(t);\n  }\n  return {\n    buffer: Array.isArray(C) ? C : C.buffer,\n    indices: M,\n    uniqueCount: b\n  };\n}\nfunction l(t, n, r, e) {\n  for (let l = 0; l < e; l++) if (t[n + l] !== t[r + l]) return !1;\n  return !0;\n}\nfunction o(t, n, r, e, l) {\n  for (let o = 0; o < l; o++) r[e + o] = t[n + o];\n}\nfunction f(t, n, r) {\n  let e = 0;\n  for (let l = 0; l < r; l++) e = t[n + l] + e | 0, e = e + (e << 11) + (e >>> 2) | 0;\n  return e >>> 0;\n}\nlet i = null;\nexport { e as deduplicate };"],
  "mappings": "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",
  "names": ["e", "u", "t", "i", "n", "o", "l"]
}
