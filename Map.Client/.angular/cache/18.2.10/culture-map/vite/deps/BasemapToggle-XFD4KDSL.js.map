{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/widgets/BasemapToggle/BasemapToggleViewModel.js", "../../../../../../node_modules/@arcgis/core/widgets/BasemapToggle/css.js", "../../../../../../node_modules/@arcgis/core/widgets/BasemapToggle.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport a from \"../../core/Accessor.js\";\nimport { watch as t, initial as s, whenOnce as i } from \"../../core/reactiveUtils.js\";\nimport { property as r } from \"../../core/accessorSupport/decorators/property.js\";\nimport { cast as p } from \"../../core/accessorSupport/decorators/cast.js\";\nimport \"../../core/RandomLCG.js\";\nimport \"../../core/has.js\";\nimport { subclass as n } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { isLoaded as o, canProjectWithoutEngine as c, load as l } from \"../../geometry/projection.js\";\nimport { equals as m } from \"../../geometry/support/spatialReferenceUtils.js\";\nimport { ensureType as h, destroyCache as d, findSpatialReference as f, getBasemapThumbnailUrl as u } from \"../../support/basemapUtils.js\";\nlet g = class extends a {\n  constructor(e) {\n    super(e), this._basemapCache = {}, this._loadingProjectionEngine = !1, this.nextBasemap = h(\"hybrid\", this._basemapCache), this.view = null;\n  }\n  initialize() {\n    t(() => this.nextBasemap, e => {\n      e && !e.loaded && e.load().catch(() => {});\n    }, s);\n  }\n  destroy() {\n    this.view = null, d(this._basemapCache), this._basemapCache = null;\n  }\n  get _nextBasemapSpatialReferenceTask() {\n    return f(this.view, this.nextBasemap);\n  }\n  get _viewSpatialReferenceLocked() {\n    const {\n      view: e\n    } = this;\n    return !e || !(\"spatialReferenceLocked\" in e) || e.spatialReferenceLocked;\n  }\n  get activeBasemap() {\n    return h(this.view?.map?.basemap ?? \"topo-vector\", this._basemapCache);\n  }\n  castNextBasemap(e) {\n    return h(e, this._basemapCache);\n  }\n  get state() {\n    const {\n      view: e\n    } = this;\n    if (!e?.ready) return \"disabled\";\n    if (this._nextBasemapSpatialReferenceTask.updating) return \"disabled\";\n    const {\n      spatialReference: a\n    } = this._nextBasemapSpatialReferenceTask;\n    return this._viewSpatialReferenceLocked && null != a && !e.spatialReference.equals(a) ? \"incompatible-next-basemap\" : this._loadingProjectionEngine ? \"loading\" : \"ready\";\n  }\n  async toggle() {\n    const {\n      activeBasemap: e,\n      nextBasemap: a,\n      state: t,\n      view: s\n    } = this;\n    if (!s || \"disabled\" === t || \"incompatible-next-basemap\" === t) return;\n    const r = this._viewSpatialReferenceLocked;\n    if (!r) {\n      if (await i(() => !this._nextBasemapSpatialReferenceTask.updating), a !== this.nextBasemap || e !== this.activeBasemap) return;\n      const {\n        spatialReference: t\n      } = this._nextBasemapSpatialReferenceTask;\n      if (null == t || m(s.spatialReference, t) || o() || c(s.spatialReference, t) || (this._loadingProjectionEngine = !0, await l(), this._loadingProjectionEngine = !1), a !== this.nextBasemap || e !== this.activeBasemap) return;\n    }\n    s.map.basemap = a, r || null == this._nextBasemapSpatialReferenceTask.spatialReference || m(s.spatialReference, this._nextBasemapSpatialReferenceTask.spatialReference) || (s.spatialReference = this._nextBasemapSpatialReferenceTask.spatialReference), this.nextBasemap = e;\n  }\n  static getThumbnailUrl(e) {\n    return u(e);\n  }\n};\ne([r()], g.prototype, \"_loadingProjectionEngine\", void 0), e([r({\n  readOnly: !0\n})], g.prototype, \"_nextBasemapSpatialReferenceTask\", null), e([r({\n  readOnly: !0\n})], g.prototype, \"_viewSpatialReferenceLocked\", null), e([r({\n  readOnly: !0\n})], g.prototype, \"activeBasemap\", null), e([r()], g.prototype, \"nextBasemap\", void 0), e([p(\"nextBasemap\")], g.prototype, \"castNextBasemap\", null), e([r({\n  readOnly: !0\n})], g.prototype, \"state\", null), e([r()], g.prototype, \"view\", void 0), e([r()], g.prototype, \"toggle\", null), g = e([n(\"esri.widgets.BasemapToggle.BasemapToggleViewModel\")], g);\nconst B = g;\nexport { B as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst e = \"esri-basemap-toggle\",\n  a = \"esri-basemap-thumbnail\",\n  _ = {\n    base: e,\n    secondaryBasemapImage: `${e}__image--secondary`,\n    container: `${a} ${e}__container`,\n    image: `${a}__image ${e}__image`,\n    imageLoading: `${e}__image--loading`,\n    overlay: `${a}__overlay ${e}__image-overlay`,\n    title: `${a}__title ${e}__title`,\n    overlayScrim: `${a}__overlay-scrim`\n  };\nexport { _ as css };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport { property as t } from \"../core/accessorSupport/decorators/property.js\";\nimport { cast as s } from \"../core/accessorSupport/decorators/cast.js\";\nimport \"../core/RandomLCG.js\";\nimport \"../core/has.js\";\nimport { subclass as i } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { getBasemapThumbnailUrl as o } from \"../support/basemapUtils.js\";\nimport a from \"./Widget.js\";\nimport l from \"./BasemapToggle/BasemapToggleViewModel.js\";\nimport { css as r } from \"./BasemapToggle/css.js\";\nimport { loadCalciteComponents as n } from \"./support/componentsUtils.js\";\nimport { globalCss as c } from \"./support/globalCss.js\";\nimport \"./support/widgetUtils.js\";\nimport { messageBundle as p } from \"./support/decorators/messageBundle.js\";\nimport { tsx as m } from \"./support/jsxFactory.js\";\nfunction d(e) {\n  const t = o(e);\n  return t ? {\n    backgroundImage: \"url(\" + t + \")\"\n  } : {\n    backgroundImage: \"\"\n  };\n}\nconst u = {\n  title: !1\n};\nlet g = class extends a {\n  constructor(e, t) {\n    super(e, t), this.messages = null, this.viewModel = new l(), this.visibleElements = {\n      ...u\n    }, this.toggle = () => this.viewModel.toggle();\n  }\n  loadDependencies() {\n    return n({\n      button: () => import(\"@esri/calcite-components/dist/components/calcite-button.js\"),\n      icon: () => import(\"@esri/calcite-components/dist/components/calcite-icon.js\"),\n      scrim: () => import(\"@esri/calcite-components/dist/components/calcite-scrim.js\")\n    });\n  }\n  get activeBasemap() {\n    return this.viewModel.activeBasemap;\n  }\n  get icon() {\n    return \"layer-basemap\";\n  }\n  set icon(e) {\n    this._overrideIfSome(\"icon\", e);\n  }\n  get label() {\n    return this.messages?.widgetLabel ?? \"\";\n  }\n  set label(e) {\n    this._overrideIfSome(\"label\", e);\n  }\n  get nextBasemap() {\n    return this.viewModel.nextBasemap;\n  }\n  set nextBasemap(e) {\n    this.viewModel.nextBasemap = e;\n  }\n  get view() {\n    return this.viewModel.view;\n  }\n  set view(e) {\n    this.viewModel.view = e;\n  }\n  castVisibleElements(e) {\n    return {\n      ...u,\n      ...e\n    };\n  }\n  render() {\n    const e = this.viewModel,\n      t = \"disabled\" === e.state ? null : e.activeBasemap,\n      s = \"disabled\" === e.state ? null : e.nextBasemap,\n      i = \"loading\" === e.state,\n      o = \"incompatible-next-basemap\" === e.state,\n      a = s?.title ?? \"\",\n      l = s && \"loaded\" !== s.loadStatus;\n    let n;\n    const p = this.visibleElements.title && a,\n      u = o;\n    return (p || u) && (n = m(\"div\", {\n      class: r.overlay,\n      key: \"overlay\"\n    }, p ? m(\"span\", {\n      class: r.title,\n      title: a\n    }, a) : null, u ? m(\"calcite-scrim\", {\n      class: r.overlayScrim,\n      title: this.messages.incompatibleSpatialReference\n    }, m(\"calcite-icon\", {\n      icon: \"exclamation-mark-triangle\"\n    })) : null)), m(\"div\", {\n      class: this.classes(r.base, c.widget)\n    }, m(\"calcite-button\", {\n      appearance: \"transparent\",\n      \"data-basemap-id\": s ? s.id : \"\",\n      disabled: o,\n      kind: \"neutral\",\n      label: this.label,\n      onclick: () => {\n        this.toggle();\n      },\n      title: this.label\n    }, m(\"div\", {\n      class: this.classes(r.container, r.secondaryBasemapImage)\n    }, m(\"div\", {\n      class: r.image,\n      styles: d(t)\n    })), m(\"div\", {\n      class: r.container\n    }, m(\"div\", {\n      class: this.classes(r.image, l ? r.imageLoading : null),\n      styles: d(s)\n    }, l || i ? m(\"calcite-scrim\", null, m(\"span\", {\n      \"aria-hidden\": \"true\",\n      class: c.loaderAnimation,\n      role: \"presentation\"\n    })) : null), n)));\n  }\n};\ne([t({\n  readOnly: !0\n})], g.prototype, \"activeBasemap\", null), e([t()], g.prototype, \"icon\", null), e([t()], g.prototype, \"label\", null), e([t(), p(\"esri/widgets/BasemapToggle/t9n/BasemapToggle\")], g.prototype, \"messages\", void 0), e([t()], g.prototype, \"nextBasemap\", null), e([t()], g.prototype, \"view\", null), e([t({\n  type: l\n})], g.prototype, \"viewModel\", void 0), e([t()], g.prototype, \"visibleElements\", void 0), e([s(\"visibleElements\")], g.prototype, \"castVisibleElements\", null), g = e([i(\"esri.widgets.BasemapToggle\")], g);\nconst v = g;\nexport { v as default };"],
  "mappings": "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",
  "names": ["e", "a", "s", "r", "t", "B", "e", "a", "_", "d", "e", "g", "B", "s", "a", "n", "u", "_"]
}
