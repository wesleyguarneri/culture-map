{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/SchemaHelper.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler3D.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vtlBrushes.js", "../../../../../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VTLPainter3D.js", "../../../../../../node_modules/@arcgis/core/views/3d/layers/VectorTileLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t {\n  constructor(t, e, s) {\n    this._scale = t, this._shift = e, this._levelShift = s;\n  }\n  getLevelRowColumn(t) {\n    const e = this.getLevelShift(t[0]),\n      s = this._shift + e;\n    return s ? [t[0] - e, t[1] >> s, t[2] >> s] : t;\n  }\n  getLevelShift(t) {\n    return Math.min(t, this._levelShift);\n  }\n  getOffset(t, e) {\n    let s = 0,\n      i = 0;\n    const h = this._shift + this.getLevelShift(t[0]);\n    if (h) {\n      const l = (1 << h) - 1,\n        f = e / (this._scale * (1 << h - 1));\n      s = (t[2] & l) * f, i = (t[1] & l) * f;\n    }\n    return [s, i];\n  }\n  getScale(t) {\n    return this._scale * (1 << this._shift + this.getLevelShift(t));\n  }\n}\nexport { t as SchemaHelper };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { MinPriority as e } from \"../../../../core/MemCache.js\";\nimport { throwIfAborted as t } from \"../../../../core/promiseUtils.js\";\nimport { fromValues as o } from \"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";\nimport { create as i } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { TileHandler as s } from \"./TileHandler.js\";\nimport { VectorTile as r } from \"./VectorTile.js\";\nimport n from \"../../tiling/TileInfoViewPOT.js\";\nimport l from \"../../tiling/TileKey.js\";\nclass a extends s {\n  constructor(e, t, o, i) {\n    super(e, t, o, e.tileInfo.lods.length - 1), this._memCache = i, this._ongoingTileRequests = new Map(), this._ongoingRequestToController = new Map(), this._tileInfoView = new n(e.tileInfo, e.fullExtent);\n  }\n  destroy() {\n    super.destroy(), this._ongoingRequestToController.forEach(e => e.abort()), this._ongoingRequestToController.clear(), this._ongoingTileRequests.clear();\n  }\n  async getVectorTile(s, n) {\n    const a = new l(s[0], s[1], s[2], 0);\n    let g = this._memCache.get(a.id);\n    if (null != g) return g.retain(), g;\n    const h = await this._getVectorTileData(a);\n    if (t(n), !this._layer) return null;\n    if (g = this._memCache.get(a.id), null != g) return g.retain(), g;\n    const u = this._layer.tileInfo.getTileBounds(i(), a),\n      m = this._tileInfoView.getTileResolution(s[0]);\n    return g = new r(a, m, u[0], u[3], 512, 512, this._styleRepository, this._memCache), g.setData(h), h && (g.retain(), this._memCache.put(a.id, g, g.usedMemory, e)), g.neededForCoverage = !0, g.transforms.tileUnitsToPixels = o(1 / 8, 0, 0, 0, 1 / 8, 0, 0, 0, 1), g;\n  }\n  _getVectorTileData(e) {\n    const t = e.id;\n    if (this._ongoingTileRequests.has(t)) return this._ongoingTileRequests.get(t);\n    const o = new AbortController(),\n      i = {\n        signal: o.signal\n      },\n      s = this._getParsedVectorTileData(e, i).then(e => (this._ongoingTileRequests.delete(t), this._ongoingRequestToController.delete(t), e)).catch(() => (this._ongoingTileRequests.delete(t), this._ongoingRequestToController.delete(t), null));\n    return this._ongoingTileRequests.set(t, s), this._ongoingRequestToController.set(t, o), s;\n  }\n  _getParsedVectorTileData(e, t) {\n    return this.fetchTileData(e, t).then(o => this.parseTileData({\n      key: e,\n      data: o\n    }, t));\n  }\n}\nexport { a as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { WGLBrushVTLBackground as r } from \"./webgl/brushes/WGLBrushVTLBackground.js\";\nimport { WGLBrushVTLCircle as s } from \"./webgl/brushes/WGLBrushVTLCircle.js\";\nimport { WGLBrushVTLFill as l } from \"./webgl/brushes/WGLBrushVTLFill.js\";\nimport { WGLBrushVTLLine as o } from \"./webgl/brushes/WGLBrushVTLLine.js\";\nimport { WGLBrushVTLSymbol as e } from \"./webgl/brushes/WGLBrushVTLSymbol.js\";\nconst b = {\n  vtlBackground: r,\n  vtlFill: l,\n  vtlLine: o,\n  vtlCircle: s,\n  vtlSymbol: e\n};\nexport { b as vtlBrushes };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { disposeMaybe as e } from \"../../../../core/maybe.js\";\nimport { vtlBrushes as t } from \"../vtlBrushes.js\";\nimport s from \"./shaders/VTLMaterialManager.js\";\nimport { StyleLayerType as r, Visibility as a } from \"./style/StyleDefinition.js\";\nimport { CompareFunction as n, BlendFactor as i } from \"../../../webgl/enums.js\";\nconst o = 1e-6;\nclass l {\n  constructor(e, t) {\n    this.spriteMosaic = e, this.glyphMosaic = t, this._brushCache = new Map(), this._vtlMaterialManager = new s();\n  }\n  dispose() {\n    this._brushCache && (this._brushCache.forEach(e => e.dispose()), this._brushCache = null), this._vtlMaterialManager = e(this._vtlMaterialManager), this.spriteMosaic.dispose(), this.glyphMosaic.dispose();\n  }\n  get vectorTilesMaterialManager() {\n    return this._vtlMaterialManager;\n  }\n  drawSymbols(e, t, s) {\n    const n = s.layers;\n    e.renderPass = \"translucent\";\n    for (let i = 0; i < n.length; i++) {\n      const s = n[i];\n      if (s.type !== r.SYMBOL) continue;\n      const l = s.getLayoutProperty(\"visibility\");\n      if (l && l.getValue() === a.NONE) continue;\n      const c = e.displayLevel;\n      void 0 !== s.minzoom && s.minzoom > c + o || void 0 !== s.maxzoom && s.maxzoom <= c - o || (e.styleLayerUID = s.uid, e.styleLayer = s, this._drawWithBrush(e, t, \"vtlSymbol\"));\n    }\n  }\n  drawBackground(e, t, s) {\n    if (0 === s.backgroundBucketIds.length) return;\n    const {\n      context: n,\n      displayLevel: i,\n      requiredLevel: l\n    } = e;\n    t.key.level = l, n.setBlendingEnabled(!0), n.setDepthTestEnabled(!1), n.setStencilTestEnabled(!1), e.renderPass = \"background\", s.backgroundBucketIds.forEach(n => {\n      const l = s.getLayerById(n);\n      if (l.type !== r.BACKGROUND) return;\n      const c = l.getLayoutProperty(\"visibility\");\n      c && c.getValue() === a.NONE || void 0 !== l.minzoom && l.minzoom > i + o || void 0 !== l.maxzoom && l.maxzoom <= i - o || (e.styleLayerUID = l.uid, e.styleLayer = l, this._drawWithBrush(e, t, \"vtlBackground\"));\n    });\n  }\n  drawTile(e, t, s, r) {\n    const {\n        context: a\n      } = e,\n      o = s.layers;\n    a.setBlendingEnabled(!1), a.setDepthTestEnabled(!0), a.setDepthWriteEnabled(!0), a.setDepthFunction(n.LEQUAL), e.renderPass = \"opaque\";\n    for (let n = o.length - 1; n >= 0; n--) {\n      const s = o[n];\n      null != r && r !== s.type || this._renderStyleLayer(s, e, t, !1);\n    }\n    a.setDepthWriteEnabled(!1), a.setBlendingEnabled(!0), a.setBlendFunctionSeparate(i.ONE, i.ONE_MINUS_SRC_ALPHA, i.ONE, i.ONE_MINUS_SRC_ALPHA), e.renderPass = \"translucent\";\n    for (let n = 0; n < o.length; n++) {\n      const s = o[n];\n      null != r && r !== s.type || this._renderStyleLayer(s, e, t, !1);\n    }\n    a.setDepthTestEnabled(!1), a.bindVAO();\n  }\n  _renderStyleLayer(e, t, s, n) {\n    if (!(n || e && s.layerData.has(e.uid))) return;\n    const i = e.getLayoutProperty(\"visibility\");\n    if (i && i.getValue() === a.NONE) return;\n    const {\n      renderPass: l\n    } = t;\n    let c;\n    switch (e.type) {\n      case r.BACKGROUND:\n        if (\"background\" !== l) return;\n        c = \"vtlBackground\";\n        break;\n      case r.FILL:\n        if (\"opaque\" !== l && \"translucent\" !== t.renderPass) return;\n        c = \"vtlFill\";\n        break;\n      case r.LINE:\n        if (\"translucent\" !== l) return;\n        c = \"vtlLine\";\n        break;\n      case r.CIRCLE:\n        if (\"translucent\" !== l) return;\n        c = \"vtlCircle\";\n        break;\n      case r.SYMBOL:\n        if (\"translucent\" !== l) return;\n        c = \"vtlSymbol\";\n    }\n    const d = t.displayLevel;\n    if (void 0 !== e.minzoom && e.minzoom > d + o || void 0 !== e.maxzoom && e.maxzoom <= d - o) return;\n    const {\n      context: h\n    } = t;\n    h.setStencilTestEnabled(!1), h.setStencilWriteMask(0), t.styleLayerUID = e.uid, t.styleLayer = e, this._drawWithBrush(t, s, c);\n  }\n  _drawWithBrush(e, s, r) {\n    if (!this._brushCache.has(r)) {\n      const e = t[r];\n      this._brushCache.set(r, new e());\n    }\n    this._brushCache.get(r).drawMany(e, [s]);\n  }\n}\nexport { l as default };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Error.js\";\nimport has from \"../../../core/has.js\";\nimport { disposeMaybe as i, abortMaybe as l, destroyMaybe as r } from \"../../../core/maybe.js\";\nimport { isAborted as s } from \"../../../core/promiseUtils.js\";\nimport { whenOnce as a, watch as o, syncAndInitial as n } from \"../../../core/reactiveUtils.js\";\nimport { property as h } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/Logger.js\";\nimport \"../../../core/RandomLCG.js\";\nimport { subclass as c } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { SchemaHelper as m } from \"../../2d/engine/vectorTiles/SchemaHelper.js\";\nimport d from \"../../2d/engine/vectorTiles/TileHandler3D.js\";\nimport p from \"../../2d/engine/vectorTiles/VTLPainter3D.js\";\nimport y from \"../../2d/engine/vectorTiles/style/StyleRepository.js\";\nimport { LayerView3D as g } from \"./LayerView3D.js\";\nimport { TiledLayerView3D as f } from \"./TiledLayerView3D.js\";\nimport { vtlAssumes256PixelSizeAsDefault as u, test as v } from \"../terrain/terrainUtils.js\";\nimport S from \"../../layers/LayerView.js\";\nlet _ = class extends f(g(S)) {\n  constructor() {\n    super(...arguments), this._tileHandlerController = null, this.type = \"vector-tile-3d\", this.levelShift = has(\"disable-feature:vtl-level-shift\") ? 0 : 1;\n  }\n  initialize() {\n    if (null == this.layer.fullExtent) return void this.addResolvingPromise(Promise.reject(new t(\"vectortilelayerview:full-extent-undefined\", \"This layer view's layer does not define a fullExtent.\")));\n    const {\n        basemapTerrain: e,\n        spatialReference: i,\n        state: l,\n        viewingMode: r\n      } = this.view,\n      h = \"local\" === r && !u(i) || v.force512VTL ? this.layer.tileInfo : this.layer.tileInfo.getCompatibleForVTL(256),\n      c = this._getTileInfoSupportError(h, this.layer.fullExtent);\n    if (null != c) return this.addResolvingPromise(Promise.reject(c));\n    const g = a(() => this.view?.basemapTerrain?.tilingSchemeLocked).then(() => {\n      const t = e.tilingScheme,\n        i = t.pixelSize,\n        l = 256 === i ? 1 : 2,\n        r = e.spatialReference?.isGeographic && 256 === i ? 1 : 0,\n        s = e.spatialReference?.isGeographic || 256 !== i ? 0 : 1;\n      let a;\n      this.schemaHelper = new m(l, r, this.levelShift + s), a = 256 === i || 512 === i ? this.layer.tileInfo.getCompatibleForVTL(i) : this.layer.tileInfo;\n      const o = this._getTileInfoCompatibilityError(a, t);\n      if (o) throw o;\n      this.tileInfo = a;\n    });\n    this._tileHandlerController = new AbortController();\n    const f = this.view.resourceController;\n    this._memCache = f.memoryController.newCache(`vtl-${this.layer.uid}`, e => {\n      e.release();\n    }), this.addHandles(o(() => this.view.qualitySettings.memoryLimit, e => this._memCache.maxSize = Math.ceil(e / 10 * 1048576), n));\n    const S = new y(this.layer.currentStyleInfo.style);\n    this._tileHandler = new d(this.layer, S, l.contentPixelRatio, this._memCache);\n    const _ = this._tileHandlerController.signal,\n      C = H(f),\n      w = this._tileHandler.start({\n        signal: _,\n        schedule: C\n      }),\n      R = this._tileHandler.spriteMosaic;\n    R.then(e => {\n      !s(_) && this._tileHandler && (this.painter = new p(e, this._tileHandler.glyphMosaic));\n    }), w.then(() => this._tileHandlerController = null);\n    const L = () => {\n      this._tileHandlerController && this._tileHandlerController.abort(), this._tileHandlerController = new AbortController(), this._memCache.clear();\n      const e = this.layer.currentStyleInfo.style,\n        t = this.view.state?.contentPixelRatio ?? 1,\n        i = new y(e),\n        l = new d(this.layer, i, t, this._memCache),\n        r = l.start({\n          signal: this._tileHandlerController.signal,\n          schedule: C\n        }),\n        s = l.spriteMosaic;\n      r.then(() => this._tileHandlerController = null), this._updatingHandles.addPromise(Promise.all([r, s]).then(([, e]) => {\n        const t = this._tileHandler,\n          i = this.painter;\n        this.painter = new p(e, l.glyphMosaic), this._tileHandler = l, this.emit(\"data-changed\"), t.destroy(), i && i.dispose();\n      }));\n    };\n    this._updatingHandles.add(() => ({\n      style: this.layer.currentStyleInfo.style,\n      pixelRatio: this.view.state?.contentPixelRatio\n    }), L), this.addHandles([this.layer.on(\"paint-change\", () => this.emit(\"data-changed\")), this.layer.on(\"style-layer-change\", L), this.layer.on(\"delete-style-layer\", L), this.layer.on(\"spriteSource-change\", () => this.emit(\"data-changed\")), this.layer.on(\"layout-change\", () => this.emit(\"data-changed\")), this.layer.on(\"style-layer-visibility-change\", () => this.emit(\"data-changed\"))]);\n    const j = Promise.all([g, w, R]);\n    this.addResolvingPromise(j);\n  }\n  destroy() {\n    this.painter = i(this.painter), this._tileHandlerController = l(this._tileHandlerController), this._tileHandler = r(this._tileHandler), this._memCache = r(this._memCache);\n  }\n  get contentZoom() {\n    return has(\"disable-feature:vtl-level-shift\") ? 1 : this.view.qualitySettings.tiledSurface.vtlContentZoom;\n  }\n  get displayLevelRange() {\n    const e = this.tileInfo.lods,\n      t = this.layer.minScale || e[0].scale,\n      i = this.layer.maxScale || e[e.length - 1].scale,\n      l = this.levelRangeFromScaleRange(t, i);\n    return this.layer.maxScale ? l.maxLevel++ : l.maxLevel += this.levelShift, l;\n  }\n  get dataScaleRange() {\n    const e = this.tileInfo.lods;\n    return {\n      minScale: e[0].scale,\n      maxScale: e[e.length - 1].scale\n    };\n  }\n  get dataLevelRange() {\n    const {\n        minScale: e,\n        maxScale: t\n      } = this.dataScaleRange,\n      i = this.levelRangeFromScaleRange(e, t);\n    return 1 === i.minLevel && 256 === this.tileInfo.size[0] && (i.minLevel = 0), i.maxLevel += this.levelShift, i;\n  }\n  async fetchTile(e, t) {\n    const i = this.schemaHelper.getLevelRowColumn(e);\n    return this._tileHandler.getVectorTile(i, t);\n  }\n};\ne([h()], _.prototype, \"layer\", void 0), e([h()], _.prototype, \"levelShift\", void 0), e([h()], _.prototype, \"contentZoom\", null), e([h()], _.prototype, \"displayLevelRange\", null), e([h()], _.prototype, \"tileInfo\", void 0), e([h()], _.prototype, \"dataScaleRange\", null), e([h()], _.prototype, \"dataLevelRange\", null), e([h()], _.prototype, \"updatingProgressValue\", void 0), _ = e([c(\"esri.views.3d.layers.VectorTileLayerView3D\")], _);\nconst C = _;\nfunction H(e) {\n  return t => e.immediate.schedule(t);\n}\nexport { C as default };"],
  "mappings": "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",
  "names": ["t", "e", "s", "i", "h", "l", "f", "a", "e", "t", "o", "i", "s", "n", "h", "u", "d", "u", "s", "d", "l", "e", "t", "s", "n", "i", "a", "c", "r", "o", "d", "h", "p", "l", "y", "e", "i", "r", "h", "c", "t", "s", "a", "o", "f", "_", "C", "w", "R"]
}
