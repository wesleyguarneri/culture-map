{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/chunks/HighlightApply.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { s as e } from \"./vec42.js\";\nimport { create as o } from \"../core/libs/gl-matrix-2/factories/vec4f64.js\";\nimport { Float2PassUniform as i } from \"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";\nimport { Float4PassUniform as t } from \"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";\nimport { glsl as r } from \"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";\nimport { ShaderBuilder as l } from \"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";\nimport { Texture2DPassUniform as n } from \"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";\nimport { VertexAttribute as a } from \"../views/3d/webgl-engine/lib/VertexAttribute.js\";\nimport { o as s, b as c } from \"./HighlightDownsample.glsl.js\";\nfunction g() {\n  const o = new l(),\n    {\n      vertex: g,\n      fragment: d\n    } = o,\n    f = g.code,\n    h = d.code;\n  return o.attributes.add(a.POSITION, \"vec2\"), o.varyings.add(\"uv\", \"vec2\"), o.attributes.add(a.UV0, \"vec2\"), g.uniforms.add(new n(\"coverageTex\", e => e.coverageTexture), new i(\"coverageRounding\", e => e.coverageRounding)), f.add(r`void main() {\nvec4 cov = texture(coverageTex, uv0 * coverageRounding);\nif (cov.r == 0.0) {\ngl_Position = vec4(0.0);\nreturn;\n}\ngl_Position = vec4(position, 0.0, 1.0);\nuv = position.xy * 0.5 + vec2(0.5);\n}`), d.uniforms.add(new n(\"tex\", e => e.blurTexture), new n(\"highlightTexture\", e => e.highlightTexture), new t(\"uColor\", e => e.color), new t(\"haloColor\", e => e.haloColor), new t(\"opacities\", o => e(u, o.haloOpacity, o.haloOpacityOccluded, o.fillOpacity, o.fillOpacityOccluded))), d.constants.add(\"inner\", \"float\", 1 - (s - c) / s), h.add(r`void main() {\nvec4 blurredHighlightValue = texture(tex, uv);\nfloat highlightIntensity = blurredHighlightValue.a;\nif (highlightIntensity == 0.0) {\ndiscard;\n}\nvec4 origin_color = texture(highlightTexture, uv);\nfloat outlineIntensity;\nfloat fillIntensity;\nif (blurredHighlightValue.g > blurredHighlightValue.b) {\noutlineIntensity = haloColor.w * opacities[1];\nfillIntensity = uColor.w * opacities[3];\n}\nelse {\noutlineIntensity = haloColor.w * opacities[0];\nfillIntensity = uColor.w * opacities[2];\n}\nfloat outlineFactor = smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = any(notEqual(origin_color, vec4(0.0, 0.0, 0.0, 0.0))) ? 1.0 : 0.0;\nfloat intensity = outlineIntensity * outlineFactor * (1.0 - fillFactor) + fillIntensity * fillFactor;\nfragColor = vec4(mix(haloColor.rgb, uColor.rgb, fillFactor), intensity);\n}`), o;\n}\nconst u = o(),\n  d = Object.freeze(Object.defineProperty({\n    __proto__: null,\n    build: g\n  }, Symbol.toStringTag, {\n    value: \"Module\"\n  }));\nexport { d as H, g as b };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAaA,SAAS,IAAI;AACX,QAAMA,KAAI,IAAIA,GAAE,GACd;AAAA,IACE,QAAQC;AAAA,IACR,UAAUC;AAAA,EACZ,IAAIF,IACJ,IAAIC,GAAE,MACN,IAAIC,GAAE;AACR,SAAOF,GAAE,WAAW,IAAI,EAAE,UAAU,MAAM,GAAGA,GAAE,SAAS,IAAI,MAAM,MAAM,GAAGA,GAAE,WAAW,IAAI,EAAE,KAAK,MAAM,GAAGC,GAAE,SAAS,IAAI,IAAIE,GAAE,eAAe,CAAAC,OAAKA,GAAE,eAAe,GAAG,IAAIA,GAAE,oBAAoB,CAAAA,OAAKA,GAAE,gBAAgB,CAAC,GAAG,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQpO,GAAGF,GAAE,SAAS,IAAI,IAAIC,GAAE,OAAO,CAAAC,OAAKA,GAAE,WAAW,GAAG,IAAID,GAAE,oBAAoB,CAAAC,OAAKA,GAAE,gBAAgB,GAAG,IAAIA,GAAE,UAAU,CAAAA,OAAKA,GAAE,KAAK,GAAG,IAAIA,GAAE,aAAa,CAAAA,OAAKA,GAAE,SAAS,GAAG,IAAIA,GAAE,aAAa,CAAAJ,OAAK,EAAE,GAAGA,GAAE,aAAaA,GAAE,qBAAqBA,GAAE,aAAaA,GAAE,mBAAmB,CAAC,CAAC,GAAGE,GAAE,UAAU,IAAI,SAAS,SAAS,KAAKC,KAAI,KAAKA,EAAC,GAAG,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqBnV,GAAGH;AACL;AACA,IAAM,IAAI,EAAE;AAAZ,IACEE,KAAI,OAAO,OAAO,OAAO,eAAe;AAAA,EACtC,WAAW;AAAA,EACX,OAAO;AACT,GAAG,OAAO,aAAa;AAAA,EACrB,OAAO;AACT,CAAC,CAAC;",
  "names": ["o", "g", "d", "s", "e"]
}
