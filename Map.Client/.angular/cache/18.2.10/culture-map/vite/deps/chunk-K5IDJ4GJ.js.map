{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/widgets/Legend/support/colorRampUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport l from \"../../../Color.js\";\nimport { createStopLabel as e } from \"./utils.js\";\nconst o = new l([64, 64, 64]);\nfunction n(l, o) {\n  const n = [],\n    r = l.length - 1;\n  return 5 === l.length ? n.push(0, 2, 4) : n.push(0, r), l.map((l, t) => n.includes(t) ? e(l, t, r, o) : null);\n}\nasync function r(l, e, o) {\n  let r = !1,\n    a = [],\n    u = [];\n  if (l.stops) {\n    const e = l.stops;\n    a = e.map(l => l.value), r = e.some(l => !!l.label), r && (u = e.map(l => l.label));\n  }\n  const s = a[0],\n    i = a[a.length - 1];\n  if (null == s && null == i) return null;\n  const c = r ? null : n(a, o);\n  return (await Promise.all(a.map(async (o, n) => ({\n    value: o,\n    color: \"opacity\" === l.type ? await t(o, l, e) : (await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getColor(l, o),\n    label: r ? u[n] : c?.[n] ?? \"\"\n  })))).reverse();\n}\nasync function t(e, n, r) {\n  const t = new l(r ?? o),\n    a = (await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getOpacity(n, e);\n  return null != a && (t.a = a), t;\n}\nfunction a(l) {\n  let e = !1,\n    o = [],\n    r = [];\n  o = l.map(l => l.value), e = l.some(l => !!l.label), e && (r = l.map(l => l.label ?? \"\"));\n  const t = o[0],\n    a = o[o.length - 1];\n  if (null == t && null == a) return null;\n  const s = e ? null : n(o);\n  return o.map((o, n) => ({\n    value: o,\n    color: u(o, l),\n    label: e ? r[n] : s?.[n] ?? \"\"\n  })).reverse();\n}\nfunction u(e, o) {\n  const {\n    startIndex: n,\n    endIndex: r,\n    weight: t\n  } = s(e, o);\n  if (n === r) return o[n].color;\n  const a = l.blendColors(o[n].color, o[r].color, t);\n  return new l(a);\n}\nfunction s(l, e) {\n  let o = 0,\n    n = e.length - 1;\n  return e.some((e, r) => l < e.value ? (n = r, !0) : (o = r, !1)), {\n    startIndex: o,\n    endIndex: n,\n    weight: (l - e[o].value) / (e[n].value - e[o].value)\n  };\n}\nfunction i(e, o) {\n  let n = [];\n  if (e && \"multipart\" === e.type) e.colorRamps.reverse().forEach((r, t) => {\n    0 === t ? n.push({\n      value: o.max,\n      color: new l(r.toColor),\n      label: \"high\"\n    }) : n.push({\n      value: null,\n      color: new l(r.toColor),\n      label: \"\"\n    }), t === e.colorRamps.length - 1 ? n.push({\n      value: o.min,\n      color: new l(r.fromColor),\n      label: \"low\"\n    }) : n.push({\n      value: null,\n      color: new l(r.fromColor),\n      label: \"\"\n    });\n  });else {\n    let r, t;\n    e && \"algorithmic\" === e.type ? (r = e.fromColor, t = e.toColor) : (r = [0, 0, 0, 1], t = [255, 255, 255, 1]), n = [{\n      value: o.max,\n      color: new l(t),\n      label: \"high\"\n    }, {\n      value: o.min,\n      color: new l(r),\n      label: \"low\"\n    }];\n  }\n  return n;\n}\nexport { u as getColorFromPointCloudStops, r as getRampStops, a as getRampStopsForPointCloud, i as getStretchRampStops };"],
  "mappings": "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",
  "names": ["o", "n", "r", "l", "t", "a", "u", "e", "s", "i"]
}
