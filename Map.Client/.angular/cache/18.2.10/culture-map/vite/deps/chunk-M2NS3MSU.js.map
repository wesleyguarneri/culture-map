{
  "version": 3,
  "sources": ["../../../../../../node_modules/@arcgis/core/layers/support/fromPortalItem.js", "../../../../../../node_modules/@arcgis/core/layers/Layer.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport r from \"../../config.js\";\nimport t from \"../../core/Logger.js\";\nasync function o(o) {\n  const a = \"portalItem\" in o ? o : {\n      portalItem: o\n    },\n    {\n      fromItem: e\n    } = await import(\"../../portal/support/portalLayers.js\");\n  try {\n    return await e(a);\n  } catch (p) {\n    const o = a?.portalItem,\n      e = o?.id || \"unset\",\n      l = o?.portal?.url || r.portalUrl;\n    throw t.getLogger(\"esri.layers.support.fromPortalItem\").error(\"#fromPortalItem()\", \"Failed to create layer from portal item (portal: '\" + l + \"', id: '\" + e + \"')\", p), p;\n  }\n}\nexport { o as fromPortalItem };", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport \"../geometry.js\";\nimport e from \"../request.js\";\nimport r from \"../TimeExtent.js\";\nimport o from \"../core/Error.js\";\nimport i from \"../core/Evented.js\";\nimport { IdentifiableMixin as s } from \"../core/Identifiable.js\";\nimport a from \"../core/Loadable.js\";\nimport n from \"../core/Logger.js\";\nimport { isAbortError as l } from \"../core/promiseUtils.js\";\nimport { urlToObject as p } from \"../core/urlUtils.js\";\nimport { property as y } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/RandomLCG.js\";\nimport { subclass as d } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { fromPortalItem as m } from \"./support/fromPortalItem.js\";\nimport u from \"../geometry/Extent.js\";\nimport c from \"../geometry/SpatialReference.js\";\nlet h = 0,\n  b = class extends i.EventedMixin(s(a)) {\n    constructor() {\n      super(...arguments), this.attributionDataUrl = null, this.fullExtent = new u(-180, -90, 180, 90, c.WGS84), this.id = Date.now().toString(16) + \"-layer-\" + h++, this.legendEnabled = !0, this.listMode = \"show\", this.opacity = 1, this.parent = null, this.persistenceEnabled = !1, this.popupEnabled = !0, this.attributionVisible = !0, this.spatialReference = c.WGS84, this.title = null, this.type = null, this.url = null, this.visibilityTimeExtent = null, this.visible = !0;\n    }\n    static async fromArcGISServerUrl(t) {\n      const e = \"string\" == typeof t ? {\n        url: t\n      } : t;\n      return (await import(\"./support/arcgisLayers.js\")).fromUrl(e);\n    }\n    static fromPortalItem(t) {\n      return m(t);\n    }\n    initialize() {\n      this.when().catch(t => {\n        l(t) || n.getLogger(this).error(\"#load()\", `Failed to load layer (title: '${this.title ?? \"no title\"}', id: '${this.id ?? \"no id\"}')`, {\n          error: t\n        });\n      });\n    }\n    destroy() {\n      const t = this.parent;\n      if (t) {\n        const e = this;\n        \"layers\" in t && t.layers.includes(e) ? t.layers.remove(e) : \"tables\" in t && t.tables.includes(e) ? t.tables.remove(e) : \"baseLayers\" in t && t.baseLayers.includes(e) ? t.baseLayers.remove(e) : \"referenceLayers\" in t && t.referenceLayers.includes(e) && t.referenceLayers.remove(e), this._set(\"parent\", null);\n      }\n    }\n    get hasAttributionData() {\n      return null != this.attributionDataUrl;\n    }\n    get parsedUrl() {\n      return p(this.url);\n    }\n    async fetchAttributionData() {\n      const t = this.attributionDataUrl;\n      if (this.hasAttributionData && t) {\n        return (await e(t, {\n          query: {\n            f: \"json\"\n          },\n          responseType: \"json\"\n        })).data;\n      }\n      throw new o(\"layer:no-attribution-data\", \"Layer does not have attribution data\");\n    }\n  };\nt([y({\n  type: String\n})], b.prototype, \"attributionDataUrl\", void 0), t([y({\n  type: u\n})], b.prototype, \"fullExtent\", void 0), t([y({\n  readOnly: !0\n})], b.prototype, \"hasAttributionData\", null), t([y({\n  type: String,\n  clonable: !1\n})], b.prototype, \"id\", void 0), t([y({\n  type: Boolean,\n  nonNullable: !0\n})], b.prototype, \"legendEnabled\", void 0), t([y({\n  type: [\"show\", \"hide\", \"hide-children\"]\n})], b.prototype, \"listMode\", void 0), t([y({\n  type: Number,\n  range: {\n    min: 0,\n    max: 1\n  },\n  nonNullable: !0\n})], b.prototype, \"opacity\", void 0), t([y({\n  clonable: !1\n})], b.prototype, \"parent\", void 0), t([y({\n  readOnly: !0\n})], b.prototype, \"parsedUrl\", null), t([y({\n  type: Boolean,\n  readOnly: !0\n})], b.prototype, \"persistenceEnabled\", void 0), t([y({\n  type: Boolean\n})], b.prototype, \"popupEnabled\", void 0), t([y({\n  type: Boolean\n})], b.prototype, \"attributionVisible\", void 0), t([y({\n  type: c\n})], b.prototype, \"spatialReference\", void 0), t([y({\n  type: String\n})], b.prototype, \"title\", void 0), t([y({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], b.prototype, \"type\", void 0), t([y()], b.prototype, \"url\", void 0), t([y({\n  type: r\n})], b.prototype, \"visibilityTimeExtent\", void 0), t([y({\n  type: Boolean,\n  nonNullable: !0\n})], b.prototype, \"visible\", void 0), b = t([d(\"esri.layers.Layer\")], b);\nconst f = b;\nexport { f as default };"],
  "mappings": "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",
  "names": ["o", "a", "e", "b", "s", "e", "o", "f"]
}
